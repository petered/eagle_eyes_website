---
layout: main
title: FAQ - Eagle Eyes
permalink: /faq/
---

<!-- Content -->
<div class="content clearfix reveal-footer">
    <!-- Page Header -->
    <div class="section-block bkg-grey-ultralight" style="padding: 100px 0 30px 0;">
        <div class="row">
            <div class="column width-10 offset-1 center">
                <div style="position: relative; height: 90px; margin-bottom: 20px;">
                    <div style="position: absolute; font-size: 5.5rem; line-height: 1; color: #1e90ff; transform: rotate(20deg); left: 48%; top: 0;">   ü¶Ö   </div>
                    <div style="position: absolute; font-size: 4rem; line-height: 1; color: #1e90ff; left: 46%; top: 65px;">‚ùì   </div>
                </div>
                <h1 class="mb-10">Frequently Asked Questions</h1>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <section class="section-block pt-30 pb-90 bkg-white">
        <div class="row">
            <div class="column width-8 offset-2">
                <!-- FAQ Search -->
                <div class="faq-search" role="search" aria-label="Search FAQs">
                    <input id="faq-search-input" type="search" placeholder="Search FAQs..." aria-label="Search FAQs" />
                    <div id="faq-search-meta" class="faq-search-meta" aria-live="polite"></div>
                </div>
                <div class="faq-container">
                    <!-- FAQ Items -->
                    <div class="faq-item" id="pricing">
                        <div class="faq-question">
                            <span class="faq-question-text">üí∏ What are the pricing options?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('pricing'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        </div>
                        <div class="faq-answer">
                            <p>View our full <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">pricing page</a> for detailed information.</p>
                            
                            <p>In addition to our Pro (paid) plans, Eagle Eyes Pilot is also available for free. Anyone can download Eagle Eyes Pilot onto their drone controller or Android device without need for verification and access several useful features at no cost. For details, see our <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">pricing page</a>.</p>
                            
                            <p><em>All prices are in USD for an annual subscription. No auto-renewals</em></p>
                            
                            <div style="margin: 20px 0; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
                                <h4 style="margin-bottom: 15px; color: #333;">Pricing Structure:</h4>
                                <ul style="margin: 0; padding-left: 20px; color: #555;">
                                    <li><strong>Free Trial:</strong> 30 days, no credit card required</li>
                                    <li><strong>USD $400 for 1st device</strong></li>
                                    <li><strong>+USD $150 per additional device</strong></li>
                                    <li><strong>10+ Devices:</strong> Custom pricing with enterprise support</li>
                                </ul>
                            </div>

                            <p><em>* A verified account is required to purchase a license. Account verification can take 1-3 business days.</em></p>
                            <p><em>* A purchased license can be used on any supported device (<a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=kix.z1er5rw35wkp" class="resource-link" target="_blank">Pilot</a> or <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=id.uix6wbgvbsgd" class="resource-link" target="_blank">Scan</a>). Once a device is activated using a license, the device becomes permanently linked to that license and cannot be replaced with a different device. If you need to switch your license to a different device please contact <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500;">info@EagleEyesSearch.com</span>.</em></p>
                        </div>
                    </div>

                    <div class="faq-item" id="free-trial">
                        <div class="faq-question">
                            <span class="faq-question-text">‚≠ê Is there a free trial available?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('free-trial'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, we offer a 30-day free trial of the SAR license. You can <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">request a trial here</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="beta-stable-same-device">
                        <div class="faq-question">
                            <span class="faq-question-text">üöß Can I run the Beta version and the Stable version on the same device under one license (not use two license keys)?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('beta-stable-same-device'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, you can run both the Beta and Stable versions of Eagle Eyes on the same device under a single license, since licensing is per device, not per app version.</p>
                            
                            <p>The Beta version has a yellow eagle eye logo and the Stable version has a blue eagle eye logo:</p>
                            
                            <div style="display: flex; justify-content: center; gap: 40px; margin: 20px 0;">
                                <div style="text-align: center;">
                                    <img src="{{ '/images/eagle-eyes-beta-logo.png' | relative_url }}" alt="Beta version logo" style="width: 150px; height: auto; border-radius: 8px;">
                                    <p style="margin-top: 10px; font-weight: bold; font-size: 1.1em;">BETA</p>
                                </div>
                                <div style="text-align: center;">
                                    <img src="{{ '/images/Eagle Eyes Logo.png' | relative_url }}" alt="Stable version logo" style="width: 150px; height: auto; border-radius: 8px;">
                                    <p style="margin-top: 10px; font-weight: bold; font-size: 1.1em;">STABLE</p>
                                </div>
                            </div>
                            
                            <p>At Eagle Eyes, we release Beta versions early to gather real-world feedback and accelerate improvements, though bugs are expected. For mission-critical work, we recommend having both installed. If the Beta causes issues, you can easily switch back to the Stable version.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="share-license">
                        <div class="faq-question">
                            <span class="faq-question-text">üì§ Can I share my license with others?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('share-license'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>We currently only offer <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#heading=h.nllyb2n7j32" class="resource-link" target="_blank">machine-locked licenses</a>, meaning that a license is specific to the device you run the software on. You are free to share your device with other users within your organization. In order to accommodate multiple devices, we offer <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">team licenses</a> that contain multiple keys. A key unlocks the license on a single device. Once issued, keys cannot be revoked or transferred to another device.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="system-requirements">
                        <div class="faq-question">
                            <span class="faq-question-text">üíª What hardware/system requirements are needed for Eagle Eyes?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('system-requirements'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Eagle Eyes Pilot runs on <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=kix.z1er5rw35wkp" class="resource-link" target="_blank">Android devices</a> (e.g., Galaxy S10 or newer) running Android 8+ and compatible with DJI SDK-4 or SDK-5, plus at least 2GB of free storage. It can also run on compatible DJI <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.vw1tsrmj2shf" class="resource-link" target="_blank">controllers</a> ‚Äî see compatibility list in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.i8op79jlxy2l" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                            <p>Eagle Eyes Scan runs on MacOS or Windows laptops with at least 8GB RAM (16GB preferred), a CPU supporting AVX (e.g., Intel i3/i5/i7 or AMD Ryzen, 2013+), and does not require a GPU ‚Äî see Specs section in the <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=kix.99x5qxo4sqgl" class="resource-link" target="_blank">üìò Eagle Eyes Scan Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="what-is-pilot">
                        <div class="faq-question">
                            <span class="faq-question-text">ü¶Ö What is Eagle Eyes Pilot?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('what-is-pilot'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p style="text-align:center; font-size:2rem; font-weight:700; font-family:'Segoe UI', 'Arial', sans-serif; margin-bottom: 24px;">Eagle Eyes Pilot</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/3fdMJmvQZX4?start=11" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            <p>Eagle Eyes Pilot is an all-in-one drone app for Search and Rescue that detects color and motion anomalies in real time, and streams images and the live drone track directly to the team's CalTopo map, while the drone is still in the air.
                            </p>
                        </div>
                    </div>

                    <div class="faq-item" id="livestreaming">
                        <div class="faq-question">
                            <span class="faq-question-text">‚õΩ How does livestreaming work with Eagle Eyes?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('livestreaming'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>In our latest release, Eagle Eyes Pilot v1.5.0, we've added the <strong>Eagle Eyes Livestream Viewer</strong>, a new way to share your drone's live view wirelessly while your drone is in the air. This feature lets you stream your drone feed over the internet so both on-site teams and remote viewers can watch what the drone sees, from anywhere.</p>
                            
                            <p>This first beta release of Eagle Eyes Livestreaming works only while flying your DJI drone in Eagle Eyes Pilot and supports up to three remote viewers (three separate devices viewing the drone's live stream). It currently performs best under the following conditions:</p>
                            
                            <ul style="margin: 15px 0; padding-left: 20px;">
                                <li>Both the drone controller and the viewing device (via mobile or desktop browser) are connected / tethering to the same mobile hotspot network.</li>
                                <li>The drone controller is connected to a Wi-Fi network, and the viewing devices are connected to another Wi-Fi network (for example, Starlink to another Starlink, Starlink to home or office internet, or vice versa).</li>
                            </ul>
                            
                            <p>Outside these two configurations, mileage may vary. We've observed that some mobile data networks may not relay livestream data reliably between different providers or hotspots, which can prevent the stream from connecting across networks. This means that if your drone controller is hosting the livestream via a mobile data hotspot, and a viewer attempts to connect using a device on another mobile network or provider, the stream may not be accessible unless both are on the same hotspot. When connected to a Wi-Fi, Starlink, or home or office internet connection (non-mobile data), the livestream should work. (Feedback on how this works in your environment is greatly appreciated.)</p>
                            
                            <p>To start a livestream, open Eagle Eyes Pilot, tap the <img src="{{ '/images/livestream.png' | relative_url }}" alt="Livestream icon" style="height: 1.2em; vertical-align: middle; display: inline;"> Livestream icon at the top of the screen, start livestreaming. Alternatively tap the three lines in the top right ‚Üí Livestream ‚Üí Start Livestreaming, and then scan the QR code that appears on the controller screen. The QR code connects viewers to <a href="{{ '/livestream/' | relative_url }}" class="resource-link">eagleeyessearch.com/livestream</a>, where they can watch the live drone feed on their mobile or desktop browser. The Eagle Eyes Viewer shows a split-screen with the live drone video on the left and a synced map on the right, displaying the drone's location, altitude, orientation, and connected CalTopo map features. Both panels can be expanded to full screen, and a quick link to the current CalTopo map is included. This livestreaming feature is currently in beta and available at no additional cost for all Eagle Eyes Pro plan license users. For more information, see our <a href="{{ '/pricing/' | relative_url }}" class="resource-link">pricing page</a>.</p>
                            
                            <p>This is our first public version of wireless livestreaming, expect quirks, share your feedback from field tests, and help us refine how Eagle Eyes teams everywhere pump the feed!</p>
                            
                            <p>Please reach out at <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500;">info@EagleEyesSearch.com</span></p>
                        </div>
                    </div>

                    <div class="faq-item" id="pilot-vs-scan">
                        <div class="faq-question">
                            <span class="faq-question-text">‚ö° How do I Use Eagle Eyes Pilot and Scan together?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('pilot-vs-scan'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/cwZ4tvBRdjA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="scan-live-video-analysis">
                        <div class="faq-question">
                            <span class="faq-question-text">üìπ How do I use Eagle Eyes Scan to analyze live video from the drone?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('scan-live-video-analysis'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
<div class="faq-answer">
                            <p style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #314268; margin-bottom: 20px;">
                                <strong>Contents</strong><br>
                                <a href="javascript:void(0);" onclick="document.getElementById('scan-live-video-section').scrollIntoView({behavior: 'smooth', block: 'start'}); return false;" style="color: #314268; text-decoration: underline; cursor: pointer;">‚Üí Live drone video into Eagle Eyes Scan (without live telemetry)</a><br>
                                <a href="javascript:void(0);" onclick="document.getElementById('scan-telemetry-section').scrollIntoView({behavior: 'smooth', block: 'start'}); return false;" style="color: #314268; text-decoration: underline; cursor: pointer;">‚Üí Adding live telemetry</a>
                            </p>

                            <span id="scan-live-video-section" style="scroll-margin-top: 100px;"></span>
                            <p style="font-size: 1.3em; font-weight: bold; color: #314268; margin-bottom: 15px;">Live drone video into Eagle Eyes Scan (without live telemetry)</p>

                            <p>Eagle Eyes Scan supports "wired" live-streaming from the drone to your laptop or desktop via HDMI. This allows teams to watch a live drone feed on larger displays, while at the same time recording the footage as it comes in (in 1080p) and seeing detections in real-time. This setup is very flexible; you can pause at any time and go back to a specific time to inspect a specific frame or detection, then jump back into the live feed, without interrupting the flow of the pilot.</p>

                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/qqopdr?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>

                            <p style="margin-top: 20px;"><strong>Required equipment</strong></p>

                            <p>To set this up, you need to send an HDMI feed from your drone controller into a laptop or desktop computer running Eagle Eyes Scan. This means you need:</p>

                            <ul>
                                <li>A drone controller with HDMI output</li>
                                <li>An HDMI cable (type depends on your controller - common types are mini-HDMI to HDMI or HDMI to HDMI)</li>
                                <li>An HDMI capture card (to connect HDMI to your computer)</li>
                                <li>A laptop or desktop computer running Eagle Eyes Scan</li>
                            </ul>

                            <div style="display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap; justify-content: center;">
                                <div style="flex: 1; min-width: 250px; text-align: center;">
                                    <img src="{{ '/images/minihdmitohdmi.jpg' | relative_url }}" alt="Mini-HDMI to HDMI cable" style="max-width: 100%; height: 200px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <p style="text-align: center; margin-top: 8px; font-size: 0.9em; color: #666;">Mini-HDMI to HDMI</p>
                                </div>
                                <div style="flex: 1; min-width: 250px; text-align: center;">
                                    <img src="{{ '/images/hdmitohdmi.jpg' | relative_url }}" alt="HDMI to HDMI cable" style="max-width: 100%; height: 200px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <p style="text-align: center; margin-top: 8px; font-size: 0.9em; color: #666;">HDMI to HDMI</p>
                                </div>
                            </div>

                            <div style="display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap; justify-content: center;">
                                <div style="flex: 1; min-width: 200px; text-align: center;">
                                    <img src="{{ '/images/capturecard1.jpg' | relative_url }}" alt="HDMI capture card example 1" style="max-width: 100%; height: 200px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                </div>
                                <div style="flex: 1; min-width: 200px; text-align: center;">
                                    <img src="{{ '/images/capturecard2.jpg' | relative_url }}" alt="HDMI capture card example 2" style="max-width: 100%; height: 200px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                </div>
                                <div style="flex: 1; min-width: 200px; text-align: center;">
                                    <img src="{{ '/images/capturecard3.jpg' | relative_url }}" alt="HDMI capture card example 3" style="max-width: 100%; height: 200px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                </div>
                            </div>
                            <p style="text-align: center; margin-top: 8px; font-size: 0.9em; color: #666;">HDMI capture cards come in various shapes and sizes. Most cards will work with Eagle Eyes Scan.</p>

                            <p style="margin-top: 20px;"><strong>Getting a clean HDMI feed</strong></p>

                            <p>For best detection results, send a clean HDMI feed (no overlays) from your drone controller. Overlays can distract the detector. See <a href="{{ '/faq/#clean-hdmi-output' | relative_url }}" class="resource-link">how to get clean HDMI output from your controller</a> for instructions using a specific DJI controller as an example.</p>

                            <div style="margin: 20px 0; text-align: center;">
                                <img src="{{ '/images/livescansetup.jpg' | relative_url }}" alt="Eagle Eyes Scan live streaming setup" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="text-align: center; margin-top: 8px; font-size: 0.9em; color: #666;">Live streaming setup with Eagle Eyes Scan</p>
                            </div>

                            <p style="margin-top: 20px;"><strong>Running the detector</strong></p>

                            <p>Open Eagle Eyes Scan. Click "+", then "üì∫ HDMI Livestream". You should see a window pop up with one or more video sources. Double click the one coming from the drone. Note that Record is checked by default. This saves the video as it comes in so that you can go back to past frames and detections, as you would for a pre-recorded video.</p>

                            <p>You should now see the live stream. Click the eagle button (ü¶Ö) to start running the detector. Tap "v" to view fullscreen. You can press space to pause/resume, the usual z/x/c controls to zoom, and Command-P to print screen (save a screenshot).</p>

                            <p style="margin-top: 20px;"><strong>Troubleshooting</strong></p>

                            <ul>
                                <li>On certain Windows machines, it can take up to 2 minutes to acquire the video feed.</li>
                                <li>If the drone's video looks like the "rainbow of death" (below), try adjusting the HDMI Resolution on your RC-Pro controller (Close piloting app ‚Üí Settings ‚Üí Display ‚Üí HDMI ‚Üí HDMI Resolution), and choose the highest one that works.
                                    <div style="margin: 15px 0; text-align: center;">
                                        <img src="{{ '/images/rainbowofdeath.jpg' | relative_url }}" alt="Rainbow of death HDMI issue" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                        <p style="text-align: center; margin-top: 8px; font-size: 0.9em; color: #666;">The "rainbow of death" HDMI display issue</p>
                                    </div>
                                    If you still get the rainbow - verify that your HDMI video is working by plugging it into a monitor. If it is working but still not getting into Eagle Eyes, contact <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500;">info@EagleEyesSearch.com</span>
                                </li>
                            </ul>

                            <hr style="border: none; border-top: 3px solid #314268; margin: 40px 0;">

                            <span id="scan-telemetry-section" style="scroll-margin-top: 100px;"></span>
                            <p style="font-size: 1.3em; font-weight: bold; color: #314268; margin-bottom: 15px;">Adding live telemetry</p>

                            <p>To get live telemetry data (GPS coordinates, altitude, speed, etc.) overlaid on your Scan detections, in addition to the above, you'll need Eagle Eyes Pilot running on your drone controller. See our <a href="{{ '/compatibility/' | relative_url }}" class="resource-link">compatibility overview</a> for supported drones and controllers. Here's how Pilot and Scan work together:</p>

                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/cwZ4tvBRdjA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="dji-apps-realtime">
                        <div class="faq-question">
                            <span class="faq-question-text">üîÑ Can I fly my drone with the DJI app and run Eagle Eyes Detector at the same time?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('dji-apps-realtime'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, you can easily switch from your DJI app to Eagle Eyes Pilot app on your drone controller mid flight for live detections while the drone is in the air.</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/pats1h?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            <p>Or you can live stream from your drone controller into Eagle Eyes Scan using an HDMI cable.</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/qqopdr?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="other-pilot-apps-overlays">
                        <div class="faq-question">
                            <span class="faq-question-text">üß© Can I use Eagle Eyes with other pilot apps or display overlays?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('other-pilot-apps-overlays'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, <a href="{{ '/scan/' | relative_url }}" class="resource-link">Eagle Eyes Scan</a> (our desktop app) can run real-time computer vision on any HDMI input.</p>
                            
                            <p>The best setup is to send a clean HDMI feed (no overlays) from your drone controller into a laptop running Eagle Eyes Scan, overlays can distract the detector. See <a href="{{ '/faq/#pilot-vs-scan' | relative_url }}" class="resource-link">How do I use Eagle Eyes Pilot and Scan together</a>.</p>
                            
                            <p>If your pilot app or drone can't output a clean HDMI video feed without screen/pilot display overlays, you can draw a bounding box in Eagle Eyes Scan to limit detector distractions and only run the computer vision detector on a clean part of the frame.</p>
                            
                            <p>üì∫ See how to connect HDMI and set bounding boxes in the Scan livestream tutorial:</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Uep6nu25Dho" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            <p>You can also process any recorded image or video with Eagle Eyes Scan. See <a href="https://youtu.be/SoLpsUBJoVo" class="resource-link" target="_blank">processing image sets</a> for details.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="switch-apps-midflight">
                        <div class="faq-question">
                            <span class="faq-question-text">üîÄ Can I switch from my DJI drone app to Eagle Eyes Pilot and back midflight?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('switch-apps-midflight'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, you can switch between apps midflight.</p>

                            <p><strong>From Eagle Eyes Pilot ‚Üí DJI Pilot:</strong><br>
                            Use the in-app shortcut: Settings (hamburger menu, top-right) ‚Üí Switch to DJI app.</p>

                            <p><strong>From DJI Pilot ‚Üí Eagle Eyes Pilot:</strong><br>
                            If you previously opened Eagle Eyes Pilot during this session, you can return to it by pressing the back button on the controller. It may take a few presses depending on what you did in DJI Pilot 2.</p>

                            <p>You can also swipe up on the screen at any time and toggle between apps manually.</p>

                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/pats1h?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>
                        </div>
                    </div>

                    <div class="faq-item" id="accessing-telemetry-display">
                        <div class="faq-question">
                            <span class="faq-question-text">üõ∞Ô∏è How do I access the drone telemetry display in Eagle Eyes Pilot?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('accessing-telemetry-display'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/a7d1zs?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>
                            </p>
                        </div>
                    </div>


                    <div class="faq-item" id="mac-ios-support">
                        <div class="faq-question">
                            <span class="faq-question-text">üçé Does Eagle Eyes Scan run on Mac or iOS?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('mac-ios-support'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Eagle Eyes Scan runs on both Windows and MacOS/OSX. For Apple devices, we strongly recommend installing on a device with ARM64 architecture (M1, M2, M3, or M4 chipsets). We do offer a distribution for Intel-based (x86) Apple computers, but performance may vary. Find more information in the <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=kix.99x5qxo4sqgl" class="resource-link" target="_blank">üìò Eagle Eyes Scan Manual</a>.</p>
                            <p>Eagle Eyes does not support iOS due to DJI dropping iOS SDK support. Find more information in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.i8op79jlxy2l" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="offline-support">
                        <div class="faq-question">
                            <span class="faq-question-text">üåê Does the software work offline?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('offline-support'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes. Both Eagle Eyes Scan and Pilot works completely offline. The only thing you need the internet for is to get a license key to unlock the software on your device once.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="dji-pilot-gps-tracking">
                        <div class="faq-question">
                            <span class="faq-question-text">üìπ How to make sure the drone GPS location data is recorded with videos in DJI Pilot 2?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('dji-pilot-gps-tracking'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>In order to capture the drone's GPS track alongside recorded video footage in DJI Pilot 2, which allows Eagle Eyes Scan to geolocate frames in your video, extract GPS tracks for upload into CalTopo (see also: <a href="https://www.youtube.com/watch?v=kL0-SSLd23c" class="resource-link" target="_blank">uploading offline GPS tracks to CalTopo</a>), and display the drone's location on the Eagle Eyes Scan map, you need to enable video captions (.SRT files) in the DJI Pilot 2 settings.</p>
                            
                            <p>See this video for instructions on turning on video captions:</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/B_a3evMcDmM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <p>When video captions are enabled, DJI Pilot 2 records a .SRT file alongside each .MP4 video file. It is essential to load both the .SRT and .MP4 files into Eagle Eyes Scan. This ensures GPS data is extracted and each video frame is properly geolocated.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="compatibility-overview">
                        <div class="faq-question">
                            <span class="faq-question-text">üîß What drones, controllers, mobile devices and/or computers is Eagle Eyes compatible with?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('compatibility-overview'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>See our <a href="{{ '/compatibility/' | relative_url }}" class="resource-link">Compatibility page</a> for complete overview of Eagle Eyes compatibility.</p>
                            
                            <h4 style="margin: 20px 0 15px 0; color: #333; font-size: 18px;">DJI Drone Compatibility (Eagle Eyes Pilot)</h4>
                            
                            <div id="general-compatibility-loading" style="text-align: center; padding: 20px; color: #666;">
                                <span>Loading drone compatibility data...</span>
                            </div>
                            
                            <div id="general-compatibility-table" style="display: none;">
                                <div style="overflow-x: auto; margin: 15px 0;">
                                    <table style="width: 100%; border-collapse: collapse; font-size: 14px; background: white; border: 1px solid #dee2e6; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                        <thead>
                                            <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                                                <th style="padding: 15px 10px; text-align: left; border: 1px solid #555; font-weight: 600; font-size: 15px;">Drone Model</th>
                                                <th style="padding: 15px 10px; text-align: left; border: 1px solid #555; font-weight: 600; font-size: 15px;">Compatible Controllers</th>
                                            </tr>
                                        </thead>
                                        <tbody id="general-compatibility-tbody">
                                            <!-- Dynamic content will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div id="general-compatibility-error" style="display: none; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 6px; padding: 15px; margin: 15px 0; color: #721c24;">
                                <p style="margin: 0;"><strong>Unable to load compatibility data.</strong> Please visit our <a href="{{ '/compatibility/' | relative_url }}" style="color: #721c24; text-decoration: underline;">compatibility page</a> for the most up-to-date information.</p>
                            </div>
                            
                            <div style="background: #e7f3ff; border: 1px solid #b3d9ff; border-radius: 8px; padding: 15px; margin: 20px 0;">
                                <p style="margin: 0; color: #0056b3; line-height: 1.6;"><strong>üì± Android Requirements:</strong> Android 7+ with processor comparable to Snapdragon 855 (Galaxy S10 level), 6GB+ free storage. Not compatible with Google Pixel 6/7 phones due to DJI SDK bug.</p>
                            </div>
                            
                            <p>For more information on Compatibility see <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.xe20wqfx2ir1" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="aircraft-live-feed">
                        <div class="faq-question">
                            <span class="faq-question-text">üöÅ Can I run Eagle Eyes on a live feed from an airplane or helicopter?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('aircraft-live-feed'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <p><strong>Yes, Eagle Eyes Scan can be used on live footage from manned aircraft.</strong></p>

                            <p>Several teams use Eagle Eyes Scan for live color detection on helicopters and other manned aircraft. <a href="https://www.eagleeyessearch.com/blog/la-plata-county-sar-drone-playbook" class="resource-link" target="_blank">This blog post</a> highlights one of their setups using custom-mounted GoPros.</p>

                            <p>All you need is an HDMI video signal that can be fed into a laptop or Windows tablet onboard the aircraft. Once the camera is active, Eagle Eyes Scan will automatically detect and import the HDMI livestream.</p>

                            <p>If you'd like to include live GPS data in your feed, you can connect an external GPS receiver (such as <a href="https://www.amazon.com/Receiver-Antenna-Gmouse-Laptop-Navigation/dp/B073P3Y48Q?source=ps-sl-shoppingads-lpcontext&smid=A1X15BMDI3KRH7" class="resource-link" target="_blank">this model</a>) to your laptop. When you select the live feed in Scan, you'll see an option to choose a GPS source ‚Äî this allows detections and imagery to be automatically georeferenced during flight.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="autel-compatibility">
                        <div class="faq-question">
                            <span class="faq-question-text">üîå Does Eagle Eyes work with Autel drones?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('autel-compatibility'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <p>Our drone app, <strong>Eagle Eyes Pilot</strong>, is currently compatible only with DJI drones, though we plan to expand cross-platform compatibility in the future.</p>

                            <p>Our desktop app, <strong>Eagle Eyes Scan</strong>, can however be used with Autel drones ‚Äî with a few considerations.</p>

                            <div style="margin: 20px 0; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                                <p style="margin: 0; color: #856404;"><strong>‚ö†Ô∏è Note:</strong> We haven't tested Eagle Eyes extensively on Autel drones yet. We strongly recommend trying the setup with your own Autel drone before purchasing a license to ensure compatibility with your specific model and controller setup.</p>
                            </div>

                            <h4 style="margin-top: 25px; margin-bottom: 15px; color: #333;">1. Using pre-recorded footage</h4>

                            <p>You can analyze imagery and video captured by your Autel drone, including location data for each frame.</p>

                            <ul style="line-height: 1.8; margin-bottom: 20px;">
                                <li>GPS and telemetry data are embedded directly in still images.</li>
                                <li>For video, Eagle Eyes Scan can read Autel <strong>.ASS telemetry subtitle files</strong> (if you have this feature enabled on the drone).</li>
                            </ul>

                            <h4 style="margin-top: 25px; margin-bottom: 15px; color: #333;">2. Using live footage</h4>

                            <p>You can connect your Autel controller or Live Deck to your computer using an HDMI cable and capture card. For best results, ensure you have a clean HDMI feed (no on-screen controls). There are two ways to achieve this:</p>

                            <ul style="line-height: 1.8; margin-bottom: 20px;">
                                <li>Using the <strong>Autel Live Deck</strong>, or</li>
                                <li>Using a <strong>second controller in full-screen mode</strong> with overlays removed.</li>
                            </ul>

                            <p>If you can't fully remove the overlays, it's still possible to run detections on a rectangle in the screen that doesn't contain overlays. When starting the detector on a live feed, Eagle Eyes Scan lets you select a portion of the screen to analyze, excluding the area with controls. Click <strong>"Click to detect on sub-frame"</strong> (see screenshot below) and draw a rectangle around a clear area of the video feed.</p>

                            <div style="position:relative; width:100%; margin: 20px 0;">
                                <img src="{{ '/images/subframeexample.png' | relative_url }}" alt="Sub-frame detection example" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            </div>

                            <div style="margin: 20px 0; padding: 15px; background-color: #e7f3ff; border-left: 4px solid #2196F3; border-radius: 4px;">
                                <p style="margin: 0; color: #0056b3;"><strong>üìç Note:</strong> Eagle Eyes Scan (version 1.1.2 and later) can process live video from an Autel drone, but live coordinates are not displayed. Coordinates are only available when working with pre-recorded footage and flight logs.</p>
                            </div>
                        </div>
                    </div>


                    <div class="faq-item" id="thermal-detection">
                        <div class="faq-question">
                            <span class="faq-question-text">üî• Does the detector work with thermal footage?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('thermal-detection'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>While the detection system is primarily designed for detecting color and motion anomalies, it can work on thermal. It's good at picking out motion on thermal when the drone is stationary. The detector will also tend to pick out small objects that are warmer than the surroundings.</p>
                            <h3 class="video-title">üì∫ Thermal and Motion Detection in Eagle Eyes Pilot</h3>
                            <div class="video-container">
                                <iframe src="https://streamable.com/e/m21ecz?autoplay=0" frameborder="0" width="100%" height="400px" allowfullscreen style="border-radius: 8px;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="detector-modes">
                        <div class="faq-question">
                            <span class="faq-question-text">üî≠ What is the difference between the different detector modes?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('detector-modes'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <h3 class="video-title">üì∫ Different Detector Settings Explained</h3>
                            <div class="video-container">
                                <iframe src="https://streamable.com/e/gtgi0i?autoplay=0" frameborder="0" width="100%" height="400px" allowfullscreen style="border-radius: 8px;"></iframe>
                            </div>
                            <ul>
                                <li>üëÅÔ∏è <strong>Normal mode</strong> = only shows highest scoring detections</li>
                                <li>üëÄ <strong>Hyper-sensitive mode</strong> = shows all detections</li>
                                <li>üíæ <strong>Silent mode</strong> = recording detections in the background but not visible on screen</li>
                                <li>‚úñÔ∏è <strong>Off</strong> = detector is not running</li>
                            </ul>
                            <p>See the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#heading=h.yzsq2hhn1dmd" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a> for more details.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="motion-detector-issues">
                        <div class="faq-question">
                            <span class="faq-question-text">‚ö° The motion detector isn't picking up movement</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('motion-detector-issues'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <p>The motion detector depends on having a stable background. Even small background movements (from wind, joystick input, or shifting water surfaces) can cause the system to reduce or temporarily disable motion detection to avoid false alerts.</p>

                            <p>Another factor is scene complexity. Since the detector can highlight a maximum of three anomalies per frame (color and/or motion combined), a large number of color anomalies can drown out motion detections. In cluttered or highly colorful scenes, the detector may prioritize color contrast over movement.</p>

                            <p>If you want to focus purely on movement, you can switch to a detector with motion-only detection:</p>

                            <ul style="line-height: 1.8; margin-bottom: 20px;">
                                <li><strong>Video.Motion</strong> (e.g., <code>V2.5.Video.Motion</code>) ‚Äî For recorded footage</li>
                                <li><strong>Live.Motion</strong> ‚Äî For livestreams</li>
                            </ul>

                            <p>This disables color analysis and helps the motion detector perform more reliably in complex visual environments.</p>

                            <div style="margin: 20px 0; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                                <p style="margin: 0; color: #856404;"><strong>üí° Tip:</strong> Motion detection works best when the drone is completely stationary. Any camera movement will reduce the detector's ability to identify moving objects.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="review-detections">
                        <div class="faq-question">
                            <span class="faq-question-text">üïµÔ∏è How do I review detections in Eagle Eyes?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('review-detections'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>The Eagle Eyes computer vision system enables real-time detections on your live drone feed. This means you can look back over areas you've flown and review all the images that triggered a detection helping hone in on clues identifying things that might otherwise be overlooked. The detector can be run on recorded footage from any drone, any image or any video file. For more information on <a href="https://www.eagleeyessearch.com/faq/#how-detector-works" class="resource-link" target="_blank">how the detector works</a>, see here.</p>
                            
                            <p>The intended way to review detections after the fact is by running the detector on recorded footage using our desktop software <a href="https://www.eagleeyessearch.com/scan/" class="resource-link" target="_blank">Eagle Eyes Scan</a>. The following video outlines the recommended workflow for reviewing recorded images after a drone flight in Eagle Eyes Scan. Note that the same workflow applies to recorded video files as well.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/SoLpsUBJoVo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <p>It is also possible to review past detections directly in Eagle Eyes Pilot, although this is not the recommended workflow. To do this, either tap the three dots (‚ãØ) button on the bottom right of the main landing screen in Eagle Eyes Pilot. Then select View Past Detections:</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/rc-ee-pilot.png' | relative_url }}" alt="RC EE Pilot main screen" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                            
                            <p>Or access the detections view from within the piloting screen by long-pressing the film roll icon next to the camera photo point marker button:</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/rc-ee-pilot1.png' | relative_url }}" alt="RC EE Pilot film roll icon" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                            
                            <p>That will bring you to the detections page in Eagle Eyes Pilot:</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/rc-ee-pilot2.png' | relative_url }}" alt="RC EE Pilot detections page" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                            
                            <p>From the detections page, you can filter results by session or remove all filters to display all detections stored on your device from previous flights.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/rc-ee-pilot3.png' | relative_url }}" alt="RC EE Pilot filter options" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                            
                            <p>Note that filtering detections by session will reset if you shut down the app and restart. Detections can also be sorted by time and detection score.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/rc-ee-pilot4.png' | relative_url }}" alt="RC EE Pilot sorting options" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                            
                            <p>Again, while detection review in Eagle Eyes Pilot is available, the recommended workflow for reviewing, analyzing, and exporting detections remains through Eagle Eyes Scan on desktop. Development is underway to expand and improve in-app review options in future releases.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="how-detector-works">
                        <div class="faq-question">
                            <span class="faq-question-text">ü§ñ How does the detector work?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('how-detector-works'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>The exact workings are difficult to describe in plain English, but here's the gist of it.</p>
                            
                            <p>The system detects objects based on colour or motion.</p>
                            
                            <p>For colour, the detector looks for small patches of unusually coloured pixels. The more frequently a colour appears in the image, the less it's considered as a candidate for detection. The ideal target for the colour detector is a small cluster of pixels with a colour that stands out from the rest of the scene.</p>
                            
                            <p>For motion, the system looks for isolated moving objects when the rest of the frame is stationary. Motion-based detections should not occur when the drone itself is moving, although small, distinct movements (like a bird against the sky or an object drifting on calm water) can still register.</p>
                            
                            <p>Colour and motion may combine to create a single, combined detection.</p>
                            
                            <p>The detector identifies up to three of the most unusual objects in each frame based on colour, motion, or a mix of both. Each detection is assigned a score from 0 (not significant) to 1 (highly significant). A detection appears on screen if its score is, or has ever been, above 0.5. Lower-scored detections are still logged and can be viewed later in Hypersensitive (H) Mode.</p>
                            
                            <p>While many modern drones, such as those in the DJI Mavic 4 series, now feature AI object detection systems based on shape recognition, these rely on seeing a full or nearly full view of an object before triggering a detection. In many search and rescue or public safety scenarios, however, the most critical signs are not full shapes but subtle, almost imperceptible flashes of colour or slight movements partially obscured by terrain or vegetation. Those are the moments most likely to be missed by the human eye, and that's where the Eagle Eyes system excels.</p>
                            
                            <p>Eagle Eyes computer vision also differs from other colour anomaly detection systems in that it's built for real-time detection, specifically designed to fit into the operational workflow for search and rescue and public safety teams who need immediate situational awareness while flying.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/5ni6am?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="detection-accuracy">
                        <div class="faq-question">
                            <span class="faq-question-text">‚ö†Ô∏è Why does Eagle Eyes sometimes detect the wrong objects or miss people?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('detection-accuracy'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <p>Eagle Eyes uses color and motion analysis to highlight small areas ("blobs") that stand out from their surroundings. This method works well when there's strong color contrast between the subject and the background, for example, bright clothing against darker terrain, but it's not foolproof.</p>

                            <p>At times, the detector may highlight objects that aren't important (false positives) or miss objects that are (false negatives). Brightly coloured or moving leaves can sometimes trigger detections. Shadows, glare, and low contrast can also make detection more difficult.</p>

                            <p>The system identifies up to three anomalies per frame, so if there are many visually distinct or moving objects in the scene, it may prioritize those instead of the targets you care about.</p>

                            <p><strong>The main thing to keep in mind is that the detector is there to assist your own observation, to draw your attention to possible clues, not to replace what you see yourself.</strong></p>

                            <h4 style="margin-top: 25px; margin-bottom: 15px; color: #333;">How to improve detection accuracy</h4>

                            <ul style="line-height: 1.8;">
                                <li><strong>Angle matters:</strong> The detector performs best when the camera is angled downward, reducing distractions from buildings, the horizon, or vehicles.</li>

                                <li><strong>Use video for motion detection:</strong> The motion detector activates only when the drone is stationary. If you expect the subject to be moving (e.g., waving), use video and pause the drone periodically.</li>

                                <li><strong>Contrast and color:</strong> The current color detector (v2.5) looks for rare colors, not shapes. Stationary subjects wearing natural tones (brown, green, gray) are harder to detect.</li>

                                <li><strong>Resolution and range:</strong> Expect some false positives. Ensure your imagery is sharp enough that you can quickly review detections and rule out irrelevant ones by eye.</li>

                                <li><strong>Exposure settings:</strong> Overexposed footage increases false detections from chromatic aberration, while underexposed footage hides subtle color differences in shadows. Adjust exposure to keep colors balanced.</li>

                                <li><strong>Video vs. photos:</strong> In forested terrain, video can outperform still photos; the detector can catch brief glimpses through canopy gaps that a human might miss.</li>
                            </ul>

                            <div style="margin-top: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                                <p style="margin-bottom: 10px; font-weight: 500; color: #333;">Other relevant questions:</p>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li><a href="#how-detector-works" class="resource-link">How does the detector work?</a></li>
                                    <li><a href="#detector-modes" class="resource-link">What is the difference between the different detector modes?</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="best-flying-practices">
                        <div class="faq-question">
                            <span class="faq-question-text">üöÅ How should I fly the drone to get the best results from Eagle Eyes?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('best-flying-practices'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <p>In general - we try not to give advice on how to fly the drone - because it depends too much on context and environmental factors (tree canopy, slope, subject condition, pilot/spotter experience, team workflow etc.), and is best left to the local search team to decide. We simply suggest flying the drone in the same way you would as if you were looking for the person by eye. The detection system is just an assistant - it is still the human pilot/spotter who is primarily responsible for finding the subject.</p>

                            <p style="margin-top: 20px;"><strong>In Brief‚Ä¶</strong></p>

                            <p>That said - if we're forced to say one mode of flight that works well overall: <strong>50m high, camera pitched 70¬∞ down, moving slowly enough to avoid blur</strong> (depends on light conditions). Briefly stopping every 15s to detect possible motion.</p>

                            <p style="margin-top: 25px;">Don't just take our word for it ‚Äî here are a few additional resources you might find useful.</p>

                            <details style="margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 15px; background-color: #f8f9fa;">
                                <summary style="cursor: pointer; font-weight: bold; font-size: 1.05em; color: #314268; margin-bottom: 10px;">The Overview, Focused, Systematic (OFS) Method</summary>

                                <div style="margin-top: 15px;">
                                    <p>There have been a few studies on how to most effectively locate missing persons by drone. One we recommend is the OFS method proposed by the Danish Emergency Management Agency (DEMA). You can find <a href="https://www.dropbox.com/scl/fi/v55wsmz7sqxkm2q71yf62/OFS-Slides.pdf?rlkey=mhz2tpajn4xhffztcxwo1y72f&st=r3bkzx63&dl=0" class="resource-link" target="_blank">Slides</a>, <a href="https://www.dropbox.com/scl/fi/uo8jjuqxd09m8ydny3rlh/OFS-Action-Cards.pdf?rlkey=1kc2cqbrmfxkbnv4wvffbp0vo&st=b32tqhuz&dl=0" class="resource-link" target="_blank">Action Cards</a>, and <a href="https://www.dropbox.com/scl/fi/hxmkswcv7ysn48evm2tqe/OFS-Test-Sheet.pdf?rlkey=rndrgpmmx0aqmtjghfj7xqqaf&st=dw17m0wa&dl=0" class="resource-link" target="_blank">Test Sheet</a>. In brief, the OFS method involves a sequence of 3 phases:</p>

                                    <ul>
                                        <li><strong>Overview Flight</strong> - A short overview of the full search area at 120m, followed by a flight around the perimeter of the search area at 50-70m, with camera pointing down 40¬∞-70¬∞ - looking for any possible points of interest to investigate in the next phase.</li>
                                        <li><strong>Focused Search</strong> - A search of any dangerous or high-probability areas inside the search area.</li>
                                        <li><strong>Systematic Search</strong> - An autonomous grid search of the full area.</li>
                                    </ul>

                                    <p>More details on Page 7 of the <a href="https://www.dropbox.com/scl/fi/uo8jjuqxd09m8ydny3rlh/OFS-Action-Cards.pdf?rlkey=1kc2cqbrmfxkbnv4wvffbp0vo&st=b32tqhuz&dl=0" class="resource-link" target="_blank">Action Cards</a>.</p>
                                </div>
                            </details>

                            <details style="margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 15px; background-color: #f8f9fa;">
                                <summary style="cursor: pointer; font-weight: bold; font-size: 1.05em; color: #314268; margin-bottom: 10px;">Norwegian Police Drone Search Techniques in SAR Operations</summary>

                                <div style="margin-top: 15px;">
                                    <p>The Norwegian police drone search approach pairs data-driven SAR planning (the "bike-wheel" model) with task-specific drone tactics ‚Äî a 75¬∞ gimbal, ~100 m AGL, thermal-first sensing and six standardized search patterns (GLS, PS, SS variants) ‚Äî to maximize probability of detection while keeping searches fast and repeatable.</p>

                                    <p><a href="https://drive.google.com/file/d/1YdoWFcl8HB4G0quexip1VOjPPlgsiwLX/view?usp=sharing" class="resource-link" target="_blank">View the full document</a></p>
                                </div>
                            </details>

                            <details style="margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 15px; background-color: #f8f9fa;">
                                <summary style="cursor: pointer; font-weight: bold; font-size: 1.05em; color: #314268; margin-bottom: 10px;">Using Smart Oblique mode on DJI enterprise drones</summary>

                                <div style="margin-top: 15px;">
                                    <p>Taking pictures at various angles can increase the chances of spotting a subject, especially in environments where trees, terrain, or shadows might hide something from a straight-down view. Here is a short video from one of our users showing how Eagle Eyes Scan was used on a mission flown with Smart Oblique (5-Way Oblique) Capture.</p>

                                    <p><a href="https://www.linkedin.com/posts/felix-irimie-bab63b25b_encouraged-by-grant-hosticka-s-suggestion-activity-7360762774601330688-WS5f?utm_source=share&utm_medium=member_desktop&rcm=ACoAAAFzYN4B0CuTCj2ePfHJKjRoysaMyu3Xk3Q" class="resource-link" target="_blank">View the LinkedIn video</a></p>
                                </div>
                            </details>
                        </div>
                    </div>

                    <div class="faq-item" id="clean-hdmi-output">
                        <div class="faq-question">
                            <span class="faq-question-text">üé• How do I get a clean HDMI output from my drone controller in DJI Pilot 2 and Eagle Eyes Pilot?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('clean-hdmi-output'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>The following video shows how to toggle the on-screen display overlays on and off in both DJI Pilot 2 and Eagle Eyes Pilot to get a clean HDMI output, for feeding into Eagle Eyes Scan or an external monitor.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%">
                                <iframe width="100%" height="100%" src="https://streamable.com/e/4j2how" title="Clean HDMI output from DJI pilot and Eagle Eyes Pilot" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <br>
                            
                            <p><strong>In DJI Pilot 2:</strong></p>
                            <ol>
                                <li>Open the menu (top right corner button) and tap HD.</li>
                                <li>Change "Duplicate Screen" to "Camera View."</li>
                            </ol>
                            <ul>
                                <li><strong>Duplicate Screen</strong> shows the full controller interface with all on-screen controls and telemetry.</li>
                                <li><strong>Camera View</strong> removes those overlays, giving you a clean video feed, ideal for running detection or streaming video to Eagle Eyes Scan.</li>
                            </ul>
                            
                            <p><strong>In Eagle Eyes Pilot:</strong></p>
                            <ol>
                                <li>Open the menu (three lines in the top right).</li>
                                <li>Go to Livestreaming.</li>
                                <li>Toggle Clean HDMI Output on or off.</li>
                            </ol>
                            
                            <p>When Clean HDMI Output is enabled, the video signal coming from your RC Pro controller will be free of any on-screen display elements, giving you a pure video feed ready for use in Eagle Eyes Scan or any HDMI display setup.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="detection-coordinates">
                        <div class="faq-question">
                            <span class="faq-question-text">üåç How do I get coordinates for detections in Eagle Eyes Scan?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('detection-coordinates'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Eagle Eyes Scan allows you to see the coordinates for each of the detections. The coordinates shown correspond to the drone's position at the time the image associated with each detection was captured.</p>
                            
                            <p>How you access these coordinates depends on how your data is being ingested:</p>
                            
                            <p><strong>Processing recorded DJI MP4 files:</strong></p>
                            <p>If you're processing MP4 files from DJI drones, make sure "Subtitle" recording is turned on in DJI Pilot 2 (as shown below). This creates .SRT files alongside the video. When importing your videos into Eagle Eyes Scan, select both the MP4 and matching SRT files this will enable per-frame GPS coordinates.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/B_a3evMcDmM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <p><strong>Running live detection over HDMI:</strong></p>
                            <p>If you're running live detection via an HDMI cable, make sure your laptop and drone controller are on the same Wi-Fi network. This allows Eagle Eyes Scan to pick up live drone coordinates during the livestream.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/cwZ4tvBRdjA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <ul>
                                <li><strong>Non-DJI drones or videos without SRT files:</strong> If you're using a non-DJI drone that doesn't support SRT recording, or you have videos captured without SRT files, you can import flight records as CSV files (choose "+" ‚Üí "Flight Record (CSV)" in Eagle Eyes Scan). The system will automatically align GPS coordinates from the flight record to the video based on timestamps.</li>
                                
                                <li><strong>Loading still images:</strong> If you're loading image files, Eagle Eyes Scan will automatically extract the coordinates from the image metadata (EXIF).</li>
                            </ul>
                            
                            <p>In the end, you should see something like this, where clicking the coordinates bar opens a dialog that lets you copy coordinates in various formats.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin: 15px 0;">
                                <img src="{{ '/images/coordinates-in-scan.png' | relative_url }}" alt="Coordinates in Eagle Eyes Scan" style="width: 100%; height: 100%; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 8px;">
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="gimbal-recalibration">
                        <div class="faq-question">
                            <span class="faq-question-text">üéØ How do I recalibrate or re-center the gimbal in Eagle Eyes Pilot?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('gimbal-recalibration'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Eagle Eyes Pilot has a setting to recalibrate and re-center the gimbal.</p>
                            
                            <ol>
                                <li>In the piloting view, tap the three horizontal lines in the top right corner of the screen.</li>
                            </ol>
                            
                            <p><img src="/images/image(5).png" alt="Three horizontal lines menu" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <ol start="2">
                                <li>When the drop-down menu appears, scroll down and select Drone.</li>
                            </ol>
                            
                            <p><img src="/images/image(6).png" alt="Drone menu selection" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <ol start="3">
                                <li>From there, you'll see the options to:
                                    <ul>
                                        <li>Recenter Gimbal</li>
                                        <li>Calibrate Gimbal</li>
                                        <li>Turn the Navigation Beacon on or off</li>
                                        <li>Adjust the Spotlight</li>
                                    </ul>
                                </li>
                            </ol>
                            
                            <p><img src="/images/image(7).png" alt="Gimbal and drone options" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                        </div>
                    </div>

                    <div class="faq-item" id="share-feedback">
                        <div class="faq-question">
                            <span class="faq-question-text">üìù How do I share feedback, footage, or report detector errors to help improve the Eagle Eyes detector?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('share-feedback'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                          
                            <p>We encourage you to reach out with any questions at <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500;">info@EagleEyesSearch.com</span>.<br>
                            If you'd like to share footage or general feedback, please use our <a href="{{ '/share/' | relative_url }}" class="resource-link" target="_blank">feedback form</a> or our <a href="https://docs.google.com/forms/d/e/1FAIpQLSfHawKcBTA7LNwVMI_9Zq6550nZNKMW2cBKlgC5pNLR9wSAFw/viewform" class="resource-link" target="_blank">share footage form</a>.<br>
                            üì∫ The video below shows how to report detector errors.</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:62.609%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/y3mhtv?loop=0&autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>
                          
                            <p>Your feedback and contributions are greatly appreciated!</p>
                        </div>
                    </div>

                    <div class="faq-item" id="capture-photos">
                        <div class="faq-question">
                            <span class="faq-question-text">üì∑ Can I run the detector on full-res drone photos and add those full-res photos to Caltopo while the drone is still in the air?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('capture-photos'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, Eagle Eyes Pilot allows you to send full-resolution drone photos from the drone down to the controller and view them on the controller and/or add them to your Caltopo map as a geolocated photo point while your drone is still in flight. It is also possible to run the detector on those full resolution photos on the drone controller in EE Pilot to show <strong>all</strong> detections on the image.</p>
                            
                            <p><strong>To do this (see video below):</strong></p>
                            <ol>
                                <li>Capture a photo using the camera/pin button in Eagle Eyes Pilot.</li>
                                <li>Select Visual Photo Mode to capture the image and have the drone send the full-resolution photo directly to the controller.</li>
                                <li>Tap the thumbnail photo that appears to open the full-screen version with detections displayed. You can tap the red "X" button in the top right to turn detections off and view the raw photo.</li>
                            </ol>
                            
                            <p><strong>Note:</strong> Eagle Eyes Pilot is not designed for reviewing images, it's intended for real-time detection during flight. This workflow is not optimized for post-capture image review, so you can expect a high number of false positives when viewing detections this way.</p>
                            
                            <p>We are currently developing an refined workflow for this type of use case.</p>
                            
                            <p>It is also possible to review past detections directly in Eagle Eyes Pilot, although this is not the recommended workflow. To learn more about reviewing detections, refer to the <a href="#review-detections" class="resource-link">Reviewing Detections FAQ</a>.</p>
                            
                            <div class="video-container">
                                <iframe src="https://streamable.com/e/1mpfgw?autoplay=0" frameborder="0" width="100%" height="400px" allowfullscreen style="border-radius: 8px;"></iframe>
                            </div>
                        </div>
                    </div>


                    <div class="faq-item" id="controller-setup">
                        <div class="faq-question">
                            <span class="faq-question-text">üéÆ How do I set up Eagle Eyes on my drone controller?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('controller-setup'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <h3 class="video-title">üì∫ Eagle Eyes Controller Setup</h3>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.25%">
                                <iframe src="https://www.youtube.com/embed/BFPfNqnNWUI?si=46jvfxal8t6kykzI&enablejsapi=1" frameborder="0" width="100%" height="100%" style="position:absolute; left:0px; top:0px; border-radius: 8px;" allowfullscreen></iframe>
                            </div>
                            <p>See detailed instructions in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#heading=h.ct1etys88ylm" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                            <ol>
                                <li>Install via the Firebase link you receive by email after purchasing or getting approved for a free trial</li>
                                <li>Grant app permissions</li>
                                <li>Activate your license</li>
                                <li>Connect controller to drone and press "FLY"</li>
                            </ol>
                        </div>
                    </div>

                    <div class="faq-item" id="activate-scan-license">
                        <div class="faq-question">
                            <span class="faq-question-text">üîë How do I activate my license for Eagle Eyes Scan on my desktop/laptop computer?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('activate-scan-license'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #314268; margin-bottom: 20px;">
                                <strong>Contents</strong><br>
                                <a href="javascript:void(0);" onclick="document.getElementById('scan-activation-1.1.2').scrollIntoView({behavior: 'smooth', block: 'start'}); return false;" style="color: #314268; text-decoration: underline; cursor: pointer;">‚Üí Activation instructions for Eagle Eyes Scan 1.1.2 and up</a><br>
                                <a href="javascript:void(0);" onclick="document.getElementById('scan-activation-0.5.3').scrollIntoView({behavior: 'smooth', block: 'start'}); return false;" style="color: #314268; text-decoration: underline; cursor: pointer;">‚Üí Activation instructions for Eagle Eyes Scan 0.5.3</a>
                            </p>

                            <span id="scan-activation-1.1.2" style="scroll-margin-top: 100px;"></span>
                            <p style="font-size: 1.15em; font-weight: bold; color: #314268; margin-bottom: 15px;">Activation instructions for Eagle Eyes Scan 1.1.2 and up</p>

                            <p>Follow the activation instructions as shown in the first few minutes of this video:</p>

                            <div style="position:relative; width:100%; height:0px; padding-bottom:55.000%; margin-bottom: 15px;">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/z8w1on?loop=0&autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>

                            <hr style="border: none; border-top: 2px solid #ddd; margin: 30px 0;">

                            <span id="scan-activation-0.5.3" style="scroll-margin-top: 100px;"></span>
                            <p style="font-size: 1.15em; font-weight: bold; color: #314268; margin-bottom: 15px;">Activation instructions for Eagle Eyes Scan 0.5.3</p>

                            <p>To activate your Eagle Eyes License for Eagle Eyes Scan on your laptop follow the instructions outlined in this video:</p>
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/g9ldy7?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>

                            <p><strong>Please note:</strong></p>
                            <ul>
                                <li>The licensing process must be completed on the same computer as the one that has Eagle Eyes Scan installed.</li>
                                <li>The Machine ID displayed in Scan in the license activation window should match the Machine ID shown during the licensing process online. You can see this highlighted in red in the two images below (your Machine ID will be unique to your computer).</li>
                            </ul>

                            <p><strong>Screenshot from Scan license activation window:</strong></p>
                            <p><img src="{{ '/images/scan-license-activation-window.png' | relative_url }}" alt="Scan license activation window" style="max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;"></p>

                            <p><strong>Screenshot from the licensing flow on the Eagle Eyes account page:</strong></p>
                            <p><img src="{{ '/images/scan-license-web-page.png' | relative_url }}" alt="Eagle Eyes account page licensing flow" style="max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;"></p>

                            <p>At the bottom of the license activation web page, copy the resulting key (200+ characters) back into Scan via "paste from clipboard".</p>

                            <p>For more information see the <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#heading=h.nllyb2n7j32" class="resource-link" target="_blank">Eagle Eyes Scan user manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="activate-pilot-controller">
                        <div class="faq-question">
                            <span class="faq-question-text">üéÆ How do I activate my license for Eagle Eyes Pilot on my controller?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('activate-pilot-controller'); return false;" title="Share this FAQ">
                                </button>
                            </div>

                        </div>
                        <div class="faq-answer">
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 20px;">
                                <iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/ks5ep2?autoplay=0" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>

                            <p><strong>Starting the activation process:</strong></p>
                            <ul>
                                <li>The first time you open Eagle Eyes, you'll be prompted to complete the controller setup</li>
                                <li>Tap <strong>Connect</strong> next to the listed license to begin</li>
                                <li>Each license includes an expiry date ‚Äî you can start activation anytime from the app's start screen, or switch to a different license</li>
                            </ul>

                            <p><strong>Activating your license (QR code method):</strong></p>
                            <ul>
                                <li>Scan the QR code using another device with a camera</li>
                                <li>This opens the activation page in your browser (you may be asked to log in first)</li>
                                <li>Select the license ID you want to use ‚Äî you'll see how many device activations remain</li>
                                <li>If your license isn't listed, scroll down and enter your 20-character license ID (found in your activation email)</li>
                                <li>Choose <strong>Use this license for setup</strong>, scroll down, and confirm</li>
                                <li>After about 10 seconds, your controller will confirm successful activation</li>
                            </ul>

                            <p><strong>Troubleshooting (manual activation):</strong></p>
                            <p>If you don't have a device with a camera or the QR scan doesn't work:</p>
                            <ul>
                                <li>Note the 6-character code shown on the controller next to "or go to www.eagleeyessearch.com/activate ‚Äì use code ‚Ä¶"</li>
                                <li>On a computer browser, visit <strong>www.eagleeyessearch.com/activate</strong> and log in if prompted</li>
                                <li>Enter the 6-character code and follow the steps to complete activation</li>
                                <li>Keep your controller on and connected ‚Äî you'll see a confirmation once activation succeeds</li>
                            </ul>

                            <div style="margin: 20px 0; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                                <p style="margin: 0; color: #856404;"><strong>‚è± Important:</strong> Complete the activation process within 15 minutes. Each activation session times out after that period.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="connect-caltopo">
                        <div class="faq-question">
                            <span class="faq-question-text">üó∫Ô∏è How do I connect to Caltopo?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('connect-caltopo'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <h3 class="video-title">üì∫ Connecting to Your Team's CalTopo Map</h3>
                            <div class="video-container">
                                <iframe src="https://streamable.com/e/vyy7oc?autoplay=0" frameborder="0" width="100%" height="400px" allowfullscreen style="border-radius: 8px;"></iframe>
                            </div>
                            <ol>
                                <li>Select Fly in Eagle Eyes Pilot</li>
                                <li>Select the three lines at the top right of the screen</li>
                                <li>Select "Connect to Caltopo"</li>
                                <li>Sign into Caltopo</li>
                                <li>Choose the map from "Your Data" in Caltopo (double tap to select)</li>
                            </ol>
                            <p>See additional instructions in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.me3hnlz43xno" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a></p>
                        </div>
                    </div>

                    <div class="faq-item" id="offline-tracks-upload">
                        <div class="faq-question">
                            <span class="faq-question-text">üì¥ Can I fly my drone offline and upload my drone's tracks to CalTopo?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('offline-tracks-upload'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>Yes, from within the Eagle Eyes Pilot app, this can be done even when flying offline. Your drone can be flown using either Eagle Eyes Pilot or DJI Pilot 2. Eagle Eyes Pilot automatically reads the DJI flight logs stored on your drone controller. Once you're back online, in just a few clicks, you can upload your drone's GPS tracks from that offline flight directly to your CalTopo map.</p>
                            
                            <p>This feature is available for free and does not require a license. Note that real-time tracking to CalTopo does require a paid license, but offline tracking and seamlessly uploading recorded tracks remain free for all users.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/kL0-SSLd23c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                            
                            <p><strong>Note:</strong> You can also download offline base maps from CalTopo and load them into Eagle Eyes so you have reliable reference maps when flying offline. This works by downloading MBTiles from CalTopo and uploading them into Eagle Eyes Pilot, allowing the map tiles to be stored directly on your controller for use without an internet connection.</p>
                            
                            <div style="position:relative; width:100%; height:0px; padding-bottom:56.250%; margin-bottom: 15px;">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/d3JGNzw3KJs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item" id="drop-marker-pilot">
                        <div class="faq-question">
                            <span class="faq-question-text">üìç How to drop a marker in Eagle Eyes Pilot and use it as a reference for returning to an area after a battery swap?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('drop-marker-pilot'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>The easiest way is with the pin/camera icon under the map on the right side of the Pilot app view:</p>
                            
                            <p><img src="/images/image.png" alt="Pin/camera icon under the map" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <p>Tap it and a dialog will pop up.</p>
                            
                            <p>By default, "Capture View" is selected ‚Äî open the dropdown and choose No photo, just add a marker.</p>
                            
                            <p><img src="/images/image(1).png" alt="Dialog with dropdown selection" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <p>Tap Capture then OK, and a marker will save at your current location.</p>
                            
                            <p><img src="/images/image(2).png" alt="Marker saved at current location" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <p><strong>If your drone has a laser rangefinder:</strong></p>
                            
                            <p><img src="/images/image(3).png" alt="Laser rangefinder options" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <p>With "Mark object using laser measurement" toggled ON, the marker drops at the laser strike point.</p>
                            
                            <p>With it OFF, the marker saves at the drone's current location.</p>
                            
                            <p><img src="/images/image(4).png" alt="Laser measurement toggle options" style="max-width: 100%; height: auto; border-radius: 8px;"></p>
                            
                            <p><strong>To return to a saved point after swapping batteries:</strong></p>
                            <ol>
                                <li>Open the map again from the right side.</li>
                                <li>Tap the saved point.</li>
                                <li>Tap the "++" circle icon ‚Äî a red line will draw from your drone's location to that point, helping you navigate back.</li>
                            </ol>
                        </div>
                    </div>

                    <div class="faq-item" id="app-store">
                        <div class="faq-question">
                            <span class="faq-question-text">üõí  Is Eagle Eyes available on the iOS App Store or Google Play?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('app-store'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>The app is available for <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">download through our website</a> and not available on the app store. iOS users (IPhones, IPads): Sorry - DJI has abandoned iOS - so we do not have plans to support it for Eagle Eyes Pilot. Eagle Eyes Scan however is compatible with Mac OS (<a href="https://docs.google.com/document/u/1/d/e/2PACX-1vTSGkKmnTpbXM46Zt9ux7DFeGWQm_D7-gyQx1Rxc5ecQ3Ds02nwNn_qoXndeYH3tmOU_oXtcacsLTn2/pub#h.16dyxpfxra6k" class="resource-link" target="_blank"> find more details here</a>).</p>
                        </div>
                    </div>

                    <div class="faq-item" id="privacy">
                        <div class="faq-question">
                            <span class="faq-question-text">üîí What is Eagle Eyes' privacy and data security policy?</span>
                            <div class="faq-actions">
                                <span class="toggle-icon">+</span>
                                <button class="faq-share-btn" onclick="event.stopPropagation(); shareFaqQuestion('privacy'); return false;" title="Share this FAQ">
                                </button>
                            </div>
                        
                        </div>
<div class="faq-answer">
                            <p>You can view our full <a href="https://docs.google.com/document/d/1iRn_idL4gx7XhqIi5FhQy8Er_k9qxHjEBUwWCgJUI6M/edit?usp=sharing" class="resource-link" target="_blank">privacy policy here</a>. In short: your data always stays local, under your control, and is never uploaded to our servers.</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Section -->
                <div class="faq-contact-section" style="margin-top: 40px; padding: 30px; background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 100%); border-radius: 12px; text-align: center; border: 1px solid #e9ecef;">
                    <h3 style="margin-bottom: 15px; color: #333; font-size: 2.2rem; font-weight: 600;">Question not answered here?</h3>
                    <p style="margin-bottom: 20px; color: #555; font-size: 1.7rem; line-height: 1.5;">
                        Contact us at 
                        <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500; transition: all 0.3s ease; padding: 4px 8px; border-radius: 4px; display: inline-block; font-size: 1.7rem;" 
                             onmouseover="this.style.backgroundColor='#1e90ff'; this.style.color='white';" 
                             onmouseout="this.style.backgroundColor='transparent'; this.style.color='#1e90ff';">
                            info@EagleEyesSearch.com
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    {% include footer.html %}
</div>

<!-- Js -->
<!-- These scripts are already included in the main layout, so remove them -->
<!-- <script src="js/jquery-3.2.1.min.js"></script>
<script src="js/jquery.tm.avalanche.js"></script>
<script src="js/timber.master.min.js"></script> -->

<!-- MiniSearch Library for BM25 -->
<script src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js"></script>

<!-- FAQ Toggle Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    // Function to open a specific FAQ item (without scrolling the page)
    function openFaqItem(faqItem) {
        // Close all other FAQ items first
        faqQuestions.forEach(otherQuestion => {
            otherQuestion.parentNode.classList.remove('active');
        });
        
        // Open the specified item
        faqItem.classList.add('active');
        // Do not scroll the page; let content expand in place
    }

    // Function to pause all videos in a FAQ item
    function pauseVideosInFaqItem(faqItem) {
        const videos = faqItem.querySelectorAll('iframe');
        videos.forEach(video => {
            // For YouTube videos - use postMessage to pause
            if (video.src.includes('youtube.com')) {
                try {
                    video.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                } catch (e) {
                    // If postMessage fails, reload the video
                    const currentSrc = video.src;
                    video.src = '';
                    video.src = currentSrc;
                }
            }
            // For Streamable videos - reload to stop playback
            else if (video.src.includes('streamable.com')) {
                const currentSrc = video.src;
                video.src = '';
                video.src = currentSrc;
            }
        });
    }

    // Handle click events on FAQ questions
    faqQuestions.forEach(question => {
        question.addEventListener('click', function() {
            const parent = this.parentNode;
            if (!parent.classList.contains('active')) {
                openFaqItem(parent);
                // Update URL hash without triggering scroll
                const id = parent.getAttribute('id');
                history.pushState(null, null, `#${id}`);
            } else {
                // Pause videos before closing
                pauseVideosInFaqItem(parent);
                parent.classList.remove('active');
                history.pushState(null, null, window.location.pathname);
            }
        });
    });

    // Handle initial load and hash changes
    function handleHash() {
        const hash = window.location.hash.substring(1);
        if (hash) {
            const targetFaq = document.getElementById(hash);
            if (targetFaq) {
                openFaqItem(targetFaq);
            }
        }
    }

    // Handle hash changes
    window.addEventListener('hashchange', handleHash);

    // Handle initial load
    handleHash();

    // ============================================================
    // FAQ SEARCH SYSTEM - MiniSearch with BM25 Ranking
    // ============================================================
    // When adding new FAQs: Scroll down ~50 lines to the metadata
    // section and add alternates + tags for optimal search ranking!
    // Search the file for: "IMPORTANT: When adding NEW FAQs"
    // ============================================================
    
    const searchInput = document.getElementById('faq-search-input');
    const searchMeta = document.getElementById('faq-search-meta');
    const faqItems = Array.from(document.querySelectorAll('.faq-item'));

    // Stopwords to remove from queries
    const stopwords = new Set([
        'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for',
        'of', 'with', 'by', 'from', 'is', 'are', 'was', 'were', 'be', 'been',
        'can', 'could', 'do', 'does', 'did', 'has', 'have', 'had',
        'how', 'what', 'when', 'where', 'why', 'who', 'which',
        'i', 'my', 'me', 'we', 'you', 'your',
        'if', 'so', 'than', 'that', 'this', 'these', 'those',
        'will', 'would', 'should', 'there', 'their',
        'dont', 'doesnt', 'didnt', 'wont', 'wouldnt', 'shouldnt', 'cant', 'couldnt',
        'it', 'its', 'am', 'not'
    ]);

    // Concept groups for query expansion
    const concepts = {
        connectivity: ['wifi', 'internet', 'network', 'offline', 'online', 'signal'],
        licensing: ['license', 'key', 'activate', 'activation', 'unlock', 'register', 'trial'],
        hardware: ['drone', 'controller', 'remote', 'dji', 'computer', 'laptop'],
        setup: ['install', 'setup', 'download', 'configure'],
        detection: ['detect', 'detector', 'detection', 'vision', 'ai'],
        compatibility: ['compatible', 'support', 'works', 'requirements'],
        versions: ['beta', 'stable', 'version', 'release']
    };

    // Build reverse map
    const termToConcepts = {};
    Object.keys(concepts).forEach(conceptName => {
        concepts[conceptName].forEach(term => {
            if (!termToConcepts[term]) termToConcepts[term] = [];
            termToConcepts[term].push(conceptName);
        });
    });

    // Structure FAQ data with metadata
    const faqData = faqItems.map((item, idx) => {
        const id = item.getAttribute('id') || `faq-${idx}`;
        const questionEl = item.querySelector('.faq-question');
        const answerEl = item.querySelector('.faq-answer');
        const questionText = (questionEl ? questionEl.textContent : '').trim();
        const answerText = (answerEl ? answerEl.textContent : '').trim();
        
        // ============================================================
        // IMPORTANT: When adding NEW FAQs, add metadata here for optimal search!
        // ============================================================
        // 
        // For each new FAQ, add an entry below with:
        //
        // ALTERNATES: 2-4 common ways users might ask this question
        //   - Use natural language variations (5-10 words)
        //   - Think: "How else would someone search for this?"
        //   - Example: "unlock scan desktop laptop computer machine id"
        //
        // TAGS: 3-8 key concepts/keywords from the FAQ
        //   - Single words or short 2-word phrases
        //   - Include product names, technical terms, action words
        //   - Example: "license key activation desktop laptop"
        //
        // TEMPLATE:
        // } else if (id === 'your-faq-id') {
        //     alternates = 'phrase one phrase two phrase three';
        //     tags = 'keyword1 keyword2 keyword3 keyword4';
        // }
        //
        // NOTE: FAQs without metadata still work but may rank lower!
        // ============================================================
        
        let alternates = '';
        let tags = '';
        
        if (id === 'beta-stable-same-device') {
            alternates = 'run two versions same device multiple versions';
            tags = 'beta stable yellow blue logo dual install';
        } else if (id === 'activate-scan-license') {
            alternates = 'unlock scan desktop laptop computer machine id';
            tags = 'license key activation desktop laptop';
        } else if (id === 'other-pilot-apps-overlays') {
            alternates = 'third party apps hdmi input other software';
            tags = 'hdmi overlay bounding box pilot apps';
        } else if (id === 'offline-support') {
            alternates = 'no wifi no internet no connection no signal';
            tags = 'offline network wifi internet connectivity';
        } else if (id === 'pricing') {
            alternates = 'cost price how much money';
            tags = 'pricing cost trial';
        } else if (id === 'compatibility-overview') {
            alternates = 'what drones supported drone types which drones work models android requirements controllers rc pro mobile devices computers system requirements snapdragon pixel';
            tags = 'compatibility drone types models supported dji mavic mini3 air3 air2s rc pro rc rc-n1 rc-n2 android snapdragon pixel google storage requirements mobile devices computers';
        } else if (id === 'offline-tracks-upload') {
            alternates = 'no wifi no internet upload tracks later recorded flight logs offline maps';
            tags = 'offline tracks upload caltopo gps flight logs mbtiles maps free';
        } else if (id === 'free-trial') {
            alternates = 'try before buy test trial demo version';
            tags = 'trial free demo test evaluation';
        } else if (id === 'share-license') {
            alternates = 'multiple users team sharing key family';
            tags = 'license share team multi-user family';
        } else if (id === 'system-requirements') {
            alternates = 'minimum specs hardware needs computer requirements';
            tags = 'system requirements hardware specs minimum computer';
        } else if (id === 'what-is-pilot') {
            alternates = 'pilot app what does pilot do pilot features';
            tags = 'pilot app features overview';
        } else if (id === 'livestreaming') {
            alternates = 'live stream broadcast youtube facebook rtmp';
            tags = 'livestream streaming broadcast rtmp youtube';
        } else if (id === 'pilot-vs-scan') {
            alternates = 'combine both apps use together workflow';
            tags = 'pilot scan together workflow combination';
        } else if (id === 'scan-live-video-analysis') {
            alternates = 'livestream hdmi capture card telemetry pilot scan together live feed analyze video hardware requirements';
            tags = 'scan live video hdmi capture-card telemetry pilot analysis hardware';
        } else if (id === 'dji-apps-realtime') {
            alternates = 'simultaneous dji fly app concurrent dual apps';
            tags = 'dji fly app simultaneous concurrent detector';
        } else if (id === 'switch-apps-midflight') {
            alternates = 'change apps during flight switch mid-air swap';
            tags = 'switch apps midflight change swap';
        } else if (id === 'accessing-telemetry-display') {
            alternates = 'show telemetry data altitude speed distance metrics';
            tags = 'telemetry display data altitude speed metrics';
        } else if (id === 'mac-ios-support') {
            alternates = 'apple macbook imac iphone ipad support';
            tags = 'mac ios apple macbook iphone ipad';
        } else if (id === 'dji-pilot-gps-tracking') {
            alternates = 'gps metadata geotag video location recording';
            tags = 'gps metadata dji pilot2 location video';
        } else if (id === 'thermal-detection') {
            alternates = 'infrared heat signature flir thermal camera';
            tags = 'thermal infrared heat flir detector';
        } else if (id === 'detector-modes') {
            alternates = 'detection modes settings types options';
            tags = 'detector modes settings types options';
        } else if (id === 'review-detections') {
            alternates = 'view results check findings see detections playback';
            tags = 'review detections results findings playback';
        } else if (id === 'how-detector-works') {
            alternates = 'ai algorithm technology machine learning detection';
            tags = 'detector ai algorithm technology machine-learning';
        } else if (id === 'detection-coordinates') {
            alternates = 'gps location latitude longitude coordinates position';
            tags = 'coordinates gps location latitude longitude';
        } else if (id === 'gimbal-recalibration') {
            alternates = 'reset gimbal center camera calibrate recenter';
            tags = 'gimbal calibrate recenter reset camera';
        } else if (id === 'share-feedback') {
            alternates = 'submit feedback report bugs contact support help';
            tags = 'feedback report bugs errors contact support';
        } else if (id === 'capture-photos') {
            alternates = 'high resolution images photos detector caltopo realtime';
            tags = 'photos full-res high-resolution caltopo detector images';
        } else if (id === 'controller-setup') {
            alternates = 'install controller remote dji setup configuration';
            tags = 'controller setup install dji remote configuration';
        } else if (id === 'connect-caltopo') {
            alternates = 'caltopo integration link account connect setup';
            tags = 'caltopo connect integration link account';
        } else if (id === 'drop-marker-pilot') {
            alternates = 'place marker waypoint location pin drop reference';
            tags = 'marker waypoint pin location reference battery';
        } else if (id === 'app-store') {
            alternates = 'download where get app store google play';
            tags = 'app-store google-play ios android download';
        } else if (id === 'privacy') {
            alternates = 'data collection security privacy policy gdpr';
            tags = 'privacy security data policy gdpr';
        } else if (id === 'activate-pilot-controller') {
            alternates = 'activate pilot license controller qr code scan manual setup 6-character';
            tags = 'pilot controller activation license qr-code manual setup connect';
        } else if (id === 'detection-accuracy') {
            alternates = 'false positives wrong detections missed people errors accuracy improve tips';
            tags = 'false-positives accuracy errors missed detection improve tips settings';
        } else if (id === 'best-flying-practices') {
            alternates = 'how to fly drone best practices flight tips altitude camera angle OFS method overview focused systematic DEMA';
            tags = 'flying flight best-practices altitude camera-angle OFS DEMA search-method';
        } else if (id === 'aircraft-live-feed') {
            alternates = 'airplane helicopter manned aircraft live feed hdmi gopro plane';
            tags = 'aircraft helicopter airplane manned live-feed hdmi gps gopro';
        } else if (id === 'motion-detector-issues') {
            alternates = 'motion not working movement not detected motion detector problem troubleshoot';
            tags = 'motion detector not-working troubleshoot video-motion live-motion';
        } else if (id === 'autel-compatibility') {
            alternates = 'autel drone support compatible live deck evo robotics ass telemetry';
            tags = 'autel compatibility drone live-deck hdmi pre-recorded evo';
        } else if (id === 'clean-hdmi-output') {
            alternates = 'hdmi clean output display overlays remove osd screen controller';
            tags = 'hdmi clean output display overlays osd dji pilot eagle eyes pilot';
        } else if (id === 'accessing-telemetry-display') {
            alternates = 'telemetry data gps coordinates altitude speed battery temperature drone info';
            tags = 'telemetry gps coordinates altitude speed battery temperature drone data display';
        } else if (id === 'app-store') {
            alternates = 'download app store android google play installation where to get';
            tags = 'app store download installation android google play eagle eyes pilot';
        } else if (id === 'beta-stable-same-device') {
            alternates = 'run two versions same device multiple versions beta stable yellow blue logo dual install';
            tags = 'beta stable yellow blue logo dual install multiple versions same device';
        } else if (id === 'capture-photos') {
            alternates = 'take photos pictures capture images camera photo mode';
            tags = 'photos pictures capture images camera photo mode eagle eyes pilot';
        } else if (id === 'connect-caltopo') {
            alternates = 'caltopo integration maps gps tracking flight logs import export';
            tags = 'caltopo integration maps gps tracking flight logs import export';
        } else if (id === 'controller-setup') {
            alternates = 'controller setup rc pro rc rc-n1 rc-n2 connection pairing';
            tags = 'controller setup rc pro rc rc-n1 rc-n2 connection pairing dji';
        } else if (id === 'detection-coordinates') {
            alternates = 'detection coordinates gps location srt files flight logs geolocation';
            tags = 'detection coordinates gps location srt files flight logs geolocation';
        } else if (id === 'detector-modes') {
            alternates = 'detector settings modes normal hyper-sensitive silent off detection modes';
            tags = 'detector settings modes normal hyper-sensitive silent off detection';
        } else if (id === 'dji-apps-realtime') {
            alternates = 'dji apps realtime detection live detection hdmi input streaming';
            tags = 'dji apps realtime detection live detection hdmi input streaming';
        } else if (id === 'dji-pilot-gps-tracking') {
            alternates = 'dji pilot gps tracking coordinates srt files subtitle recording';
            tags = 'dji pilot gps tracking coordinates srt files subtitle recording';
        } else if (id === 'drop-marker-pilot') {
            alternates = 'drop marker pilot waypoint marker location coordinates gps';
            tags = 'drop marker pilot waypoint marker location coordinates gps';
        } else if (id === 'free-trial') {
            alternates = 'free trial test demo try eagle eyes scan pilot';
            tags = 'free trial test demo try eagle eyes scan pilot';
        } else if (id === 'gimbal-recalibration') {
            alternates = 'gimbal recalibration recenter center camera gimbal reset';
            tags = 'gimbal recalibration recenter center camera gimbal reset';
        } else if (id === 'how-detector-works') {
            alternates = 'how detector works detection algorithm machine learning ai detection';
            tags = 'detector works detection algorithm machine learning ai detection';
        } else if (id === 'livestreaming') {
            alternates = 'livestreaming live stream video streaming real-time sharing';
            tags = 'livestreaming live stream video streaming real-time sharing';
        } else if (id === 'mac-ios-support') {
            alternates = 'mac ios support apple macbook iphone ipad compatibility';
            tags = 'mac ios support apple macbook iphone ipad compatibility';
        } else if (id === 'pilot-vs-scan') {
            alternates = 'pilot vs scan difference between pilot scan app comparison';
            tags = 'pilot vs scan difference between pilot scan app comparison';
        } else if (id === 'privacy') {
            alternates = 'privacy data security user data collection storage protection';
            tags = 'privacy data security user data collection storage protection';
        } else if (id === 'review-detections') {
            alternates = 'review detections playback detection history saved detections';
            tags = 'review detections playback detection history saved detections';
        } else if (id === 'share-feedback') {
            alternates = 'share feedback contact support help bug report feature request';
            tags = 'share feedback contact support help bug report feature request';
        } else if (id === 'share-license') {
            alternates = 'share license transfer license key activation multiple devices';
            tags = 'share license transfer license key activation multiple devices';
        } else if (id === 'switch-apps-midflight') {
            alternates = 'switch apps midflight change apps during flight dji pilot eagle eyes';
            tags = 'switch apps midflight change apps during flight dji pilot eagle eyes';
        } else if (id === 'system-requirements') {
            alternates = 'system requirements hardware specs android requirements computer requirements';
            tags = 'system requirements hardware specs android requirements computer requirements';
        } else if (id === 'thermal-detection') {
            alternates = 'thermal detection thermal footage thermal camera heat detection';
            tags = 'thermal detection thermal footage thermal camera heat detection';
        } else if (id === 'what-is-pilot') {
            alternates = 'what is pilot eagle eyes pilot app drone piloting software';
            tags = 'what is pilot eagle eyes pilot app drone piloting software';
        }

        return {
            id,
            item,
            question: questionText,
            alternates,
            tags,
            answer: answerText.substring(0, 500) // Limit answer length for indexing
        };
    });

    // Initialize MiniSearch with BM25
    const miniSearch = new MiniSearch({
        fields: ['question', 'alternates', 'tags', 'answer'],
        storeFields: ['id'],
        searchOptions: {
            boost: { question: 3, alternates: 2, tags: 2, answer: 1 },
            fuzzy: 0.2,
            prefix: true
        }
    });

    // Add documents to index
    miniSearch.addAll(faqData);

    // Configuration for embedding search
    const EMBEDDING_SEARCH_CONFIG = {
        FUNCTION_URL: 'https://us-central1-eagleeyessearch.cloudfunctions.net/faq_search',
        TIMEOUT_MS: 5000,  // 5 second timeout
        ENABLE_EMBEDDINGS: true
    };

    // Expand query with concepts (conservative)
    function expandQuery(queryText) {
        const tokens = queryText.toLowerCase().split(/\s+/).filter(Boolean);
        
        // FIRST: Remove stopwords
        const meaningfulTokens = tokens.filter(t => !stopwords.has(t));
        
        // If no meaningful tokens, return empty (don't search stopwords)
        if (meaningfulTokens.length === 0) {
            return '';
        }
        
        const expanded = new Set(meaningfulTokens);
        
        // THEN: Expand with concepts
        meaningfulTokens.forEach(token => {
            if (termToConcepts[token]) {
                // Add only the first matched concept's terms (not all)
                const firstConcept = termToConcepts[token][0];
                concepts[firstConcept].forEach(term => expanded.add(term));
            }
        });
        
        return Array.from(expanded).join(' ');
    }

    /**
     * Escape HTML special characters to prevent XSS and display issues
     */
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    /**
     * Search using OpenAI embeddings via Cloud Function
     * @param {string} query - User query
     * @returns {Promise<Array|null>} - Embedding search results or null on failure
     */
    async function searchWithEmbeddings(query) {
        if (!EMBEDDING_SEARCH_CONFIG.ENABLE_EMBEDDINGS) {
            console.log('üî§ Embeddings disabled, using BM25');
            return null;
        }

        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), EMBEDDING_SEARCH_CONFIG.TIMEOUT_MS);

        try {
            console.log(`üî¨ Attempting embedding search for: "${query}"`);

            // Prepare FAQ data for the API (without embeddings)
            const faqsForApi = faqData.map(({ id, question, answer, alternates, tags }) => ({
                id,
                question,
                answer: answer ? answer.substring(0, 500) : '',
                alternates: alternates || '',
                tags: tags || ''
            }));

            const response = await fetch(EMBEDDING_SEARCH_CONFIG.FUNCTION_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ query, faqs: faqsForApi }),
                signal: controller.signal
            });

            clearTimeout(timeoutId);

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(errorData.error || `HTTP ${response.status}`);
            }

            const data = await response.json();
            const results = data.results || [];

            if (results.length === 0) {
                console.log('üì≠ Embedding search returned 0 results - falling back to BM25');
                return null;
            }

            console.log(`‚úÖ Embedding search succeeded - ${results.length} results`);
            return results;

        } catch (error) {
            clearTimeout(timeoutId);

            if (error.name === 'AbortError') {
                console.log('‚è±Ô∏è Embedding search timed out - falling back to BM25');
            } else {
                console.log(`‚ùå Embedding search failed: ${error.message} - falling back to BM25`);
            }

            return null;
        }
    }

    /**
     * Search using BM25 algorithm with fuzzy matching
     * @param {string} expandedQuery - Query with stopwords removed and concepts expanded
     * @returns {Array} - BM25 search results
     */
    function searchWithBM25(expandedQuery) {
        return miniSearch.search(expandedQuery, {
            boost: { question: 3, alternates: 2, tags: 2, answer: 1 }
        });
    }

    /**
     * Intelligently choose the best search results
     * @param {Array|null} embeddingResults - Results from embedding search
     * @param {Array} bm25Results - Results from BM25 search
     * @param {string} query - Original user query
     * @returns {Object} - { results: Array, method: string }
     */
    function chooseBestResults(embeddingResults, bm25Results, query) {
        // Scenario 1: Embeddings failed/empty ‚Üí use BM25
        if (!embeddingResults || embeddingResults.length === 0) {
            console.log('üî§ Using BM25 (embeddings returned no results)');
            return { results: bm25Results, method: 'bm25' };
        }

        // Scenario 2: BM25 has significantly more results (2x) ‚Üí likely typo/fuzzy benefit
        if (bm25Results.length >= embeddingResults.length * 2 && bm25Results.length > 2) {
            console.log(`üîç Using BM25 fuzzy (${bm25Results.length} results vs ${embeddingResults.length} from embeddings - likely typo handling)`);
            return { results: bm25Results, method: 'bm25-fuzzy' };
        }

        // Scenario 3: Similar counts ‚Üí prefer embeddings (better semantic understanding)
        console.log(`üî¨ Using embeddings (${embeddingResults.length} results vs ${bm25Results.length} from BM25 - semantic match)`);
        return { results: embeddingResults, method: 'embeddings' };
    }

    async function renderResults(query) {
        const q = (query || '').trim();
        history.replaceState(null, null, window.location.pathname);

        if (q.length === 0) {
            faqData.forEach(({ item }) => item.style.display = '');
            searchMeta.textContent = '';
            // Show contact section when search is cleared
            const contactSection = document.querySelector('.faq-contact-section');
            if (contactSection) contactSection.style.display = 'block';
            return;
        }

        // Expand query with concepts (also filters stopwords)
        const expandedQuery = expandQuery(q);

        // If query is all stopwords, show all FAQs
        if (expandedQuery.length === 0) {
            faqData.forEach(({ item }) => item.style.display = '');
            searchMeta.textContent = 'Search for specific terms (common words filtered)';
            // Show contact section when showing all FAQs
            const contactSection = document.querySelector('.faq-contact-section');
            if (contactSection) contactSection.style.display = 'block';
            return;
        }

        // Run both searches in parallel for hybrid approach
        const [embeddingResults, bm25Results] = await Promise.all([
            searchWithEmbeddings(q),
            searchWithBM25(expandedQuery)
        ]);

        // Intelligently choose the best results
        const { results: chosenResults, method: searchMethod } = chooseBestResults(embeddingResults, bm25Results, q);

        // Normalize results format
        let results;
        if (searchMethod === 'embeddings') {
            results = chosenResults.map((r, idx) => ({
                id: r.id,
                score: r.score || (1 - (idx * 0.1)) // Use API score or fallback to position-based
            }));
        } else {
            results = chosenResults; // BM25 results already in correct format
        }

        // Create a map of id -> rank for sorting
        const idToRank = {};
        results.forEach((r, idx) => {
            idToRank[r.id] = idx;
        });

        const resultIds = new Set(results.map(r => r.id));
        
        // Sort FAQ items by BM25 rank
        const sortedFaqData = [...faqData].sort((a, b) => {
            const aHasResult = resultIds.has(a.id);
            const bHasResult = resultIds.has(b.id);
            
            if (!aHasResult && !bHasResult) return 0;
            if (!aHasResult) return 1;
            if (!bHasResult) return -1;
            
            // Both have results - sort by BM25 rank
            return idToRank[a.id] - idToRank[b.id];
        });
        
        // Update display in sorted order
        const container = document.querySelector('.faq-container');
        sortedFaqData.forEach(({ id, item }) => {
            item.classList.remove('active');
            item.style.display = resultIds.has(id) ? '' : 'none';
            // Re-append to reorder in DOM
            if (resultIds.has(id)) {
                container.appendChild(item);
            }
        });

        // Get the contact section
        const contactSection = document.querySelector('.faq-contact-section');
        
        if (results.length === 0) {
            searchMeta.innerHTML = `<span style="font-size: 1.6rem; line-height: 1.6;">We're updating our FAQ resources and don't have an answer available for your specific question at this time. Please reach out to us at <span class="faq-email-link" onclick="copyEmailToClipboard()" style="color: #1e90ff; cursor: pointer; text-decoration: underline; font-weight: 500; font-size: 1.6rem;">info@EagleEyesSearch.com</span> with your question and we'll be happy to get back to you with an answer.</span>`;
            // Hide contact section when no results (it's redundant)
            if (contactSection) contactSection.style.display = 'none';
        } else {
            searchMeta.innerHTML = `<span style="font-size: 1.2rem;">${results.length} result${results.length === 1 ? '' : 's'} for "${escapeHtml(q)}"</span>`;
            // Show contact section when there are results
            if (contactSection) contactSection.style.display = 'block';
        }
    }

    // Debounce for smoother typing
    function debounce(func, wait) {
        let timeout;
        return function(...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), wait);
        };
    }

    // Check for query parameter in URL on page load
    function checkUrlQuery() {
        const urlParams = new URLSearchParams(window.location.search);
        const queryParam = urlParams.get('query');
        
        if (queryParam && searchInput) {
            // Set the search input value
            searchInput.value = queryParam;
            // Trigger search immediately (no debounce on initial load)
            renderResults(queryParam);
            // Scroll to search bar
            searchInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }

    if (searchInput) {
        const debouncedSearch = debounce((value) => renderResults(value), 150);
        searchInput.addEventListener('input', (e) => debouncedSearch(e.target.value));
        
        // Check for URL query parameter on page load
        checkUrlQuery();
    }

    // FAQ Share Function - moved outside DOMContentLoaded to be globally accessible
    window.shareFaqQuestion = function(faqId) {
        // Prevent the click from bubbling up to the FAQ question
        event.stopPropagation();
        event.preventDefault();
        
        // Generate the correct URL format
        const faqUrl = `https://www.eagleeyessearch.com/faq/#${faqId}`;
        
        // Detect mobile devices more accurately
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && 
                        ('ontouchstart' in window || navigator.maxTouchPoints > 0) &&
                        window.innerWidth <= 768;
        
        // Use Web Share API on mobile devices
        if (isMobile && navigator.share) {
            navigator.share({
                title: 'Eagle Eyes FAQ',
                text: 'Check out this FAQ from Eagle Eyes',
                url: faqUrl
            }).then(() => {
                // Share successful
                console.log('Shared successfully');
            }).catch(err => {
                // User cancelled or error - fallback to clipboard
                console.log('Share cancelled or failed, using clipboard fallback');
                copyToClipboard(faqUrl);
            });
        } else {
            // Desktop - always copy to clipboard
            copyToClipboard(faqUrl);
        }
    }

    function copyToClipboard(text) {
        if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(text).then(() => {
                showCopyNotification();
            }).catch(err => {
                console.log('Clipboard API failed:', err);
                fallbackCopyToClipboard(text);
            });
        } else {
            fallbackCopyToClipboard(text);
        }
    }

    function fallbackCopyToClipboard(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-999999px';
        textArea.style.top = '-999999px';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            const success = document.execCommand('copy');
            if (success) {
                showCopyNotification();
            }
        } catch (err) {
            console.log('Fallback copy failed:', err);
        }
        
        document.body.removeChild(textArea);
    }

    function showCopyNotification() {
        // Create notification element
        const notification = document.createElement('div');
        notification.textContent = 'Link copied to clipboard!';
        notification.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e90ff;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            z-index: 10000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            animation: slideIn 0.3s ease-out;
        `;
        
        // Add animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
                to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
        
        document.body.appendChild(notification);
        
        // Remove notification after 3 seconds
        setTimeout(() => {
            notification.style.animation = 'slideIn 0.3s ease-out reverse';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }

});
</script>

<!-- Email Copy Functions -->
<script>
// Email Copy Function
window.copyEmailToClipboard = function() {
    const email = 'info@EagleEyesSearch.com';
    
    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(email).then(() => {
            showEmailCopyNotification();
        }).catch(err => {
            console.log('Clipboard API failed:', err);
            fallbackCopyEmailToClipboard(email);
        });
    } else {
        fallbackCopyEmailToClipboard(email);
    }
}

function fallbackCopyEmailToClipboard(text) {
    const textArea = document.createElement('textarea');
    textArea.value = text;
    textArea.style.position = 'fixed';
    textArea.style.left = '-999999px';
    textArea.style.top = '-999999px';
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
        document.execCommand('copy');
        showEmailCopyNotification();
    } catch (err) {
        console.log('Fallback copy failed:', err);
    }
    
    document.body.removeChild(textArea);
}

function showEmailCopyNotification() {
    // Create notification element
    const notification = document.createElement('div');
    notification.textContent = 'Email copied to clipboard!';
    notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #1e90ff;
        color: white;
        padding: 12px 20px;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 500;
        z-index: 10000;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        animation: slideIn 0.3s ease-out;
    `;
    
    document.body.appendChild(notification);
    
    // Remove notification after 3 seconds
    setTimeout(() => {
        notification.style.animation = 'slideIn 0.3s ease-out reverse';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}
</script>

<!-- FAQ Styling -->
<style>
.faq-container {
    width: 100%;
}

.faq-item {
    margin-bottom: 0;
    border-bottom: 1px solid #f0f0f0;
    position: relative;
}

.faq-question {
    background-color: #fff;
    padding: 15px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    font-size: 18px;
    transition: all 0.3s ease;
    flex: 1;
}

.faq-question-text {
    flex: 1;
    margin-right: 15px;
    font-size: 18px;
}

.faq-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.faq-question-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.faq-share-btn {
    display: none;
    background: transparent;
    color: #666;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 6px 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
    align-items: center;
    justify-content: center;
    min-width: 32px;
    height: 32px;
}

/* Show share button only when FAQ is expanded */
.faq-item.active .faq-share-btn {
    display: flex;
}

.faq-share-btn::before {
    content: "";
    display: block;
    width: 16px;
    height: 16px;
    background-image: url('{{ "/images/share_icon.png" | relative_url }}');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.faq-share-btn:hover {
    background: #f8f9fa;
    border-color: #bbb;
    color: #333;
}

.faq-share-btn:active {
    background: #e9ecef;
}

/* Removed conflicting icon CSS */

.faq-question:hover {
    color: #1e90ff;
}

.toggle-icon {
    font-size: 18px;
    font-weight: bold;
    color: #999;
    transition: all 0.3s ease;
}

.faq-item.active .toggle-icon {
    transform: rotate(45deg);
    color: #1e90ff;
}

.faq-answer {
    display: none;
    padding: 0 15px 20px 15px;
    background-color: #fff;
    border-top: none;
    font-size: 16px;
    line-height: 1.6;
}

.faq-item.active .faq-answer {
    display: block;
}

/* FAQ Search */
.faq-search {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin: 10px 0 25px;
}

#faq-search-input {
    width: 100%;
    max-width: 640px;
    padding: 12px 14px;
    border: 1px solid #e2e2e2;
    border-radius: 8px;
    font-size: 16px;
}

.faq-search-meta {
    color: #666;
    font-size: 14px;
    text-align: center;
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
    .faq-question {
        font-size: 15px !important;
        padding: 12px 10px !important;
    }
    
    .faq-question-text {
        font-size: 15px !important;
        line-height: 1.4 !important;
    }
    
    .faq-answer {
        font-size: 13px !important;
        padding: 0 10px 15px 10px !important;
    }
    
    .faq-actions {
        gap: 8px !important;
    }
    
    .toggle-icon {
        font-size: 18px !important;
        min-width: 24px !important;
        height: 24px !important;
    }
    
    .faq-share-btn {
        min-width: 28px !important;
        height: 28px !important;
        padding: 4px 6px !important;
    }
    
    .faq-share-btn::before {
        width: 14px !important;
        height: 14px !important;
    }
    
    .faq-search input {
        font-size: 16px !important;
        padding: 12px 15px !important;
    }
    
    .faq-search-meta {
        font-size: 1.2rem !important;
        margin-top: 10px !important;
    }
    
    .faq-contact-section h3 {
        font-size: 1.6rem !important;
    }
    
    .faq-contact-section p {
        font-size: 1.2rem !important;
    }
    
    .faq-email-link {
        font-size: 1.2rem !important;
    }
    
    .faq-item {
        margin-bottom: 0 !important;
    }
    
    /* Better touch targets for mobile */
    .faq-question {
        min-height: 50px !important;
        display: flex !important;
        align-items: center !important;
    }
    
    .faq-actions {
        flex-shrink: 0 !important;
    }
}

@media (max-width: 480px) {
    .faq-question {
        font-size: 14px !important;
        padding: 10px 8px !important;
    }
    
    .faq-question-text {
        font-size: 14px !important;
    }
    
    .faq-answer {
        font-size: 12px !important;
        padding: 0 8px 12px 8px !important;
    }
    
    .faq-share-btn {
        min-width: 26px !important;
        height: 26px !important;
    }
    
    .faq-share-btn::before {
        width: 12px !important;
        height: 12px !important;
    }
}
</style>

<!-- FAQ Analytics Tracking -->
<script>
(function() {
    'use strict';
    
    const TRACKING_ENDPOINT = 'https://script.google.com/macros/s/AKfycbwoF1eGxs1D2BCYIoWZfkgwzSEKfCy4EYxj3SFlnylOVGoVKyR8ivo4BUzdKzXpzxZF/exec';
    
    // Generate or retrieve persistent session ID
    function getSessionId() {
        let sessionId = localStorage.getItem('faq_session_id');
        if (!sessionId) {
            sessionId = 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('faq_session_id', sessionId);
        }
        return sessionId;
    }
    
    // Common event data
    function getCommonData() {
        return {
            page_path: location.pathname + location.search,
            session_id: getSessionId(),
            user_agent: navigator.userAgent,
            timestamp: new Date().toISOString()
        };
    }
    
    // Send event to tracking endpoint
    function sendEvent(eventData) {
        const fullData = { ...getCommonData(), ...eventData };
        const payload = JSON.stringify(fullData);
        
        // Send to Google Apps Script endpoint
        fetch(TRACKING_ENDPOINT, {
            method: 'POST',
            headers: {
                'Content-Type': 'text/plain',
            },
            body: payload
        }).catch(err => {
            // Silently fail - don't interrupt user experience
            console.error('Analytics tracking error:', err);
        });
    }
    
    // Track search events
    let searchStartTime = null;
    
    function trackSearch() {
        const searchInput = document.getElementById('faq-search-input');
        if (!searchInput) return;
        
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value.trim();
            
            if (query.length > 2) { // Only track searches with 3+ characters
                // Debounce search tracking
                clearTimeout(window.searchTrackTimeout);
                window.searchTrackTimeout = setTimeout(() => {
                    // Count visible FAQ items as results
                    const visibleResults = document.querySelectorAll('.faq-item:not([style*="display: none"])').length;
                    
                    sendEvent({
                        event_type: 'search',
                        search_query: query,
                        results_count: visibleResults
                    });
                    
                    searchStartTime = Date.now();
                }, 1000); // Wait 1 second after typing stops
            }
        });
    }
    
    // Track question clicks
    function trackQuestionClicks() {
        document.addEventListener('click', function(e) {
            // Find if click was on a FAQ question
            const faqQuestion = e.target.closest('.faq-question');
            if (!faqQuestion) return;
            
            const faqItem = faqQuestion.closest('.faq-item');
            if (!faqItem) return;
            
            const questionId = faqItem.id;
            const questionText = faqQuestion.querySelector('.faq-question-text');
            const questionTitle = questionText ? questionText.textContent.trim() : '';
            
            // Calculate time to click if this was from a search
            const timeToClick = searchStartTime ? Date.now() - searchStartTime : null;
            
            sendEvent({
                event_type: 'question_click',
                question_id: questionId,
                question_title: questionTitle,
                time_to_click_ms: timeToClick
            });
        });
    }
    
    // Track links clicked inside FAQ answers
    function trackAnswerLinkClicks() {
        document.addEventListener('click', function(e) {
            // Check if clicked element is a link
            if (e.target.tagName !== 'A') return;
            
            // Check if link is inside a FAQ answer
            const faqAnswer = e.target.closest('.faq-answer');
            if (!faqAnswer) return;
            
            const faqItem = faqAnswer.closest('.faq-item');
            if (!faqItem) return;
            
            const questionId = faqItem.id;
            const questionTitle = faqItem.querySelector('.faq-question-text')?.textContent.trim() || '';
            const linkUrl = e.target.href;
            
            sendEvent({
                event_type: 'answer_link_click',
                link_url: linkUrl,
                question_id: questionId,
                question_title: questionTitle
            });
        });
    }
    
    // Initialize tracking when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            trackSearch();
            trackQuestionClicks();
            trackAnswerLinkClicks();
        });
    } else {
        trackSearch();
        trackQuestionClicks();
        trackAnswerLinkClicks();
    }

    // Load drone compatibility data for the general compatibility FAQ
    loadGeneralCompatibilityData();
})();

// Function to create a hash of drone data for change detection
function hashDroneData(droneData) {
    const str = JSON.stringify(droneData);
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        const char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // Convert to 32-bit integer
    }
    return hash.toString();
}

// Function to create a table row for a drone
function createDroneRow(drone, index) {
    const row = document.createElement('tr');
    row.style.backgroundColor = index % 2 === 0 ? '#f8f9fa' : 'white';
    row.setAttribute('data-drone-id', `${drone.brand}-${drone.name}`.replace(/\s+/g, '-').toLowerCase());
    
    // Drone Model
    const modelCell = document.createElement('td');
    modelCell.style.cssText = 'padding: 12px 10px; border: 1px solid #dee2e6; font-weight: 500;';
    modelCell.textContent = `${drone.brand} ${drone.name}`;
    
    // Controllers
    const controllersCell = document.createElement('td');
    controllersCell.style.cssText = 'padding: 12px 10px; border: 1px solid #dee2e6;';
    
    const controllersList = [];
    
    // Add internally tested controllers
    (drone.controllers_internally_tested || []).forEach(controller => {
        controllersList.push(`${controller} (internally tested)`);
    });
    
    // Add user tested controllers
    (drone.controllers_user_tested || []).forEach(controller => {
        controllersList.push(`${controller} (user tested)`);
    });
    
    // Add not tested controllers
    (drone.controllers_not_tested || []).forEach(controller => {
        controllersList.push(`${controller} (not tested)`);
    });
    
    // Add incompatible controllers
    (drone.controllers_incompatible || []).forEach(controller => {
        controllersList.push(`${controller} (incompatible)`);
    });
    
    if (drone.scanOnly) {
        controllersCell.textContent = 'Note: Eagle Eyes Scan Only üíª';
    } else {
        controllersCell.textContent = controllersList.length > 0 ? controllersList.join(', ') : 'See notes';
    }
    
    row.appendChild(modelCell);
    row.appendChild(controllersCell);
    return row;
}

// Function to load cached data and show immediately
function loadCachedDroneData() {
    const cached = localStorage.getItem('droneCompatibilityData');
    const cacheTimestamp = localStorage.getItem('droneCompatibilityTimestamp');
    
    if (!cached) return false;
    
    try {
        const data = JSON.parse(cached);
        const tbody = document.getElementById('general-compatibility-tbody');
        const loadingDiv = document.getElementById('general-compatibility-loading');
        const tableDiv = document.getElementById('general-compatibility-table');
        
        if (!tbody || !data.length) return false;
        
        // Clear and populate with cached data
        tbody.innerHTML = '';
        data.forEach((drone, index) => {
            const row = createDroneRow(drone, index);
            tbody.appendChild(row);
        });
        
        // Show table immediately
        loadingDiv.style.display = 'none';
        tableDiv.style.display = 'block';
        
        // Add a small indicator that data is cached
        const timestamp = new Date(parseInt(cacheTimestamp));
        const timeAgo = Math.round((Date.now() - timestamp.getTime()) / (1000 * 60));
        if (timeAgo > 0) {
            const indicator = document.createElement('div');
            indicator.id = 'cache-indicator';
            indicator.style.cssText = 'font-size: 12px; color: #666; text-align: right; margin-top: 5px; font-style: italic;';
            indicator.textContent = `Data cached ${timeAgo} minutes ago ‚Ä¢ Checking for updates...`;
            tableDiv.appendChild(indicator);
        }
        
        return true;
    } catch (e) {
        console.error('Error loading cached data:', e);
        return false;
    }
}

// Function to update only changed rows
function updateChangedRows(newData, oldData) {
    const tbody = document.getElementById('general-compatibility-tbody');
    if (!tbody) return;
    
    // Create maps for easier comparison
    const oldMap = new Map();
    oldData.forEach(drone => {
        const key = `${drone.brand}-${drone.name}`.replace(/\s+/g, '-').toLowerCase();
        oldMap.set(key, drone);
    });
    
    const newMap = new Map();
    newData.forEach(drone => {
        const key = `${drone.brand}-${drone.name}`.replace(/\s+/g, '-').toLowerCase();
        newMap.set(key, drone);
    });
    
    // Check for changes and updates
    let hasChanges = false;
    
    newData.forEach((drone, index) => {
        const key = `${drone.brand}-${drone.name}`.replace(/\s+/g, '-').toLowerCase();
        const oldDrone = oldMap.get(key);
        
        if (!oldDrone || hashDroneData(drone) !== hashDroneData(oldDrone)) {
            hasChanges = true;
            
            // Find and replace the row
            const existingRow = tbody.querySelector(`tr[data-drone-id="${key}"]`);
            const newRow = createDroneRow(drone, index);
            
            if (existingRow) {
                tbody.replaceChild(newRow, existingRow);
            } else {
                // New drone, add to table
                tbody.appendChild(newRow);
            }
        }
    });
    
    // Remove any drones that no longer exist
    oldData.forEach(drone => {
        const key = `${drone.brand}-${drone.name}`.replace(/\s+/g, '-').toLowerCase();
        if (!newMap.has(key)) {
            hasChanges = true;
            const existingRow = tbody.querySelector(`tr[data-drone-id="${key}"]`);
            if (existingRow) {
                existingRow.remove();
            }
        }
    });
    
    return hasChanges;
}


// Function to load compatibility data for the general compatibility question
async function loadGeneralCompatibilityData() {
    const loadingDiv = document.getElementById('general-compatibility-loading');
    const tableDiv = document.getElementById('general-compatibility-table');
    const errorDiv = document.getElementById('general-compatibility-error');
    const tbody = document.getElementById('general-compatibility-tbody');
    
    if (!loadingDiv || !tableDiv || !errorDiv || !tbody) {
        return; // Elements not found, probably on a different page
    }
    
    // Try to load cached data first
    const hasCachedData = loadCachedDroneData();
    
    try {
        // Always fetch fresh data (but don't show loading if we have cache)
        const response = await fetch('https://us-central1-eagleeyessearch.cloudfunctions.net/get_drone_models', {
            method: 'GET',
            headers: { 'Content-Type': 'application/json' }
        });
        
        if (!response.ok) throw new Error('Failed to fetch drone models');
        
        const data = await response.json();
        const allDrones = data.drones || [];
        
        // Filter for Pilot-compatible drones only
        const pilotDrones = allDrones.filter(drone => {
            const compat = Array.isArray(drone.compatibility) ? drone.compatibility :
                          Array.isArray(drone.Compatibility) ? drone.Compatibility : [];
            return compat.map(x => String(x).toLowerCase()).includes('pilot');
        });
        
        // Sort drones alphabetically
        const sortedDrones = pilotDrones.filter(drone => drone.name && drone.brand).sort((a, b) => {
            const nameA = `${a.brand} ${a.name}`.toLowerCase();
            const nameB = `${b.brand} ${b.name}`.toLowerCase();
            return nameA.localeCompare(nameB);
        });
        
        // Add Autel and Skydio entries for Scan compatibility
        const additionalDrones = [
            {
                brand: 'Autel',
                name: 'Various Models',
                controllers_internally_tested: [],
                controllers_user_tested: [],
                controllers_not_tested: [],
                controllers_incompatible: [],
                scanOnly: true
            },
            {
                brand: 'Skydio',
                name: 'Various Models', 
                controllers_internally_tested: [],
                controllers_user_tested: [],
                controllers_not_tested: [],
                controllers_incompatible: [],
                scanOnly: true
            }
        ];
        
        // Combine and sort all drones
        const allDronesWithExtras = [...sortedDrones, ...additionalDrones].sort((a, b) => {
            const nameA = `${a.brand} ${a.name}`.toLowerCase();
            const nameB = `${b.brand} ${b.name}`.toLowerCase();
            return nameA.localeCompare(nameB);
        });
        
        if (allDronesWithExtras.length === 0) {
            throw new Error('No compatible drones found');
        }
        
        // Get cached data for comparison
        const cachedData = localStorage.getItem('droneCompatibilityData');
        const oldData = cachedData ? JSON.parse(cachedData) : [];
        
        if (hasCachedData && oldData.length > 0) {
            // Update only changed rows
            const hasChanges = updateChangedRows(allDronesWithExtras, oldData);
            
            // Remove cache indicator
            const indicator = document.getElementById('cache-indicator');
            if (indicator) indicator.remove();
            
            if (hasChanges) {
                console.log('Drone compatibility data updated with changes');
            } else {
                console.log('No changes in drone compatibility data');
            }
        } else {
            // No cached data, populate table normally
            tbody.innerHTML = '';
            allDronesWithExtras.forEach((drone, index) => {
                const row = createDroneRow(drone, index);
                tbody.appendChild(row);
            });
            
            loadingDiv.style.display = 'none';
            tableDiv.style.display = 'block';
        }
        
        // Update cache
        localStorage.setItem('droneCompatibilityData', JSON.stringify(allDronesWithExtras));
        localStorage.setItem('droneCompatibilityTimestamp', Date.now().toString());
        
        errorDiv.style.display = 'none';
        
    } catch (error) {
        console.error('Error loading drone compatibility data:', error);
        
        // If we have cached data, keep showing it
        if (hasCachedData) {
            const indicator = document.getElementById('cache-indicator');
            if (indicator) {
                indicator.textContent = 'Using cached data ‚Ä¢ Unable to check for updates';
                indicator.style.color = '#856404';
            }
        } else {
            // No cached data and fetch failed, show error
            loadingDiv.style.display = 'none';
            tableDiv.style.display = 'none';
            errorDiv.style.display = 'block';
        }
    }
}
</script> 
