const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C-Xxxkss.js","assets/index-8KalZEDh.css"])))=>i.map(i=>d[i]);
var JW=t=>{throw TypeError(t)};var _b=(t,e,n)=>e.has(t)||JW("Cannot "+n);var eE=(t,e,n)=>(_b(t,e,"read from private field"),n?n.call(t):e.get(t)),Sb=(t,e,n)=>e.has(t)?JW("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),tE=(t,e,n,r)=>(_b(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),bb=(t,e,n)=>(_b(t,e,"access private method"),n);function jM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xb={exports:{}},gg={};var nE;function KM(){if(nE)return gg;nE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return gg.Fragment=e,gg.jsx=n,gg.jsxs=n,gg}var rE;function HM(){return rE||(rE=1,xb.exports=KM()),xb.exports}var A=HM(),Yb={exports:{}},yg={},Tb={exports:{}},wb={};var iE;function GM(){return iE||(iE=1,(function(t){function e(Z,G){var q=Z.length;Z.push(G);e:for(;0<q;){var Q=q-1>>>1,ue=Z[Q];if(0<i(ue,G))Z[Q]=G,Z[q]=ue,q=Q;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var G=Z[0],q=Z.pop();if(q!==G){Z[0]=q;e:for(var Q=0,ue=Z.length,j=ue>>>1;Q<j;){var te=2*(Q+1)-1,fe=Z[te],J=te+1,re=Z[J];if(0>i(fe,q))J<ue&&0>i(re,fe)?(Z[Q]=re,Z[J]=q,Q=J):(Z[Q]=fe,Z[te]=q,Q=te);else if(J<ue&&0>i(re,q))Z[Q]=re,Z[J]=q,Q=J;else break e}}return G}function i(Z,G){var q=Z.sortIndex-G.sortIndex;return q!==0?q:Z.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,h=null,m=3,g=!1,_=!1,v=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(Z){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=Z)r(f),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(f)}}function U(Z){if(v=!1,M(Z),!_)if(n(u)!==null)_=!0,W||(W=!0,N());else{var G=n(f);G!==null&&K(U,G.startTime-Z)}}var W=!1,w=-1,I=5,P=-1;function O(){return S?!0:!(t.unstable_now()-P<I)}function V(){if(S=!1,W){var Z=t.unstable_now();P=Z;var G=!0;try{e:{_=!1,v&&(v=!1,Y(w),w=-1),g=!0;var q=m;try{t:{for(M(Z),h=n(u);h!==null&&!(h.expirationTime>Z&&O());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var ue=Q(h.expirationTime<=Z);if(Z=t.unstable_now(),typeof ue=="function"){h.callback=ue,M(Z),G=!0;break t}h===n(u)&&r(u),M(Z)}else r(u);h=n(u)}if(h!==null)G=!0;else{var j=n(f);j!==null&&K(U,j.startTime-Z),G=!1}}break e}finally{h=null,m=q,g=!1}G=void 0}}finally{G?N():W=!1}}}var N;if(typeof E=="function")N=function(){E(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,R=F.port2;F.port1.onmessage=V,N=function(){R.postMessage(null)}}else N=function(){b(V,0)};function K(Z,G){w=b(function(){Z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return Z()}finally{m=q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Z,G){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var q=m;m=Z;try{return G()}finally{m=q}},t.unstable_scheduleCallback=function(Z,G,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,Z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=q+ue,Z={id:p++,callback:G,priorityLevel:Z,startTime:q,expirationTime:ue,sortIndex:-1},q>Q?(Z.sortIndex=q,e(f,Z),n(u)===null&&Z===n(f)&&(v?(Y(w),w=-1):v=!0,K(U,q-Q))):(Z.sortIndex=ue,e(u,Z),_||g||(_=!0,W||(W=!0,N()))),Z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Z){var G=m;return function(){var q=m;m=G;try{return Z.apply(this,arguments)}finally{m=q}}}})(wb)),wb}var sE;function qM(){return sE||(sE=1,Tb.exports=GM()),Tb.exports}var Wb={exports:{}},cn={};var aE;function QM(){if(aE)return cn;aE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function b(j,te,fe){this.props=j,this.context=te,this.refs=S,this.updater=fe||_}b.prototype.isReactComponent={},b.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=b.prototype;function E(j,te,fe){this.props=j,this.context=te,this.refs=S,this.updater=fe||_}var M=E.prototype=new Y;M.constructor=E,v(M,b.prototype),M.isPureReactComponent=!0;var U=Array.isArray;function W(){}var w={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(j,te,fe){var J=fe.ref;return{$$typeof:t,type:j,key:te,ref:J!==void 0?J:null,props:fe}}function O(j,te){return P(j.type,te,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function N(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(fe){return te[fe]})}var F=/\/+/g;function R(j,te){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):te.toString(36)}function K(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(W,W):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,te,fe,J,re){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case t:case e:de=!0;break;case p:return de=j._init,Z(de(j._payload),te,fe,J,re)}}if(de)return re=re(j),de=J===""?"."+R(j,0):J,U(re)?(fe="",de!=null&&(fe=de.replace(F,"$&/")+"/"),Z(re,te,fe,"",function($e){return $e})):re!=null&&(V(re)&&(re=O(re,fe+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(F,"$&/")+"/")+de)),te.push(re)),1;de=0;var pe=J===""?".":J+":";if(U(j))for(var ve=0;ve<j.length;ve++)J=j[ve],ae=pe+R(J,ve),de+=Z(J,te,fe,ae,re);else if(ve=g(j),typeof ve=="function")for(j=ve.call(j),ve=0;!(J=j.next()).done;)J=J.value,ae=pe+R(J,ve++),de+=Z(J,te,fe,ae,re);else if(ae==="object"){if(typeof j.then=="function")return Z(K(j),te,fe,J,re);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(j,te,fe){if(j==null)return j;var J=[],re=0;return Z(j,J,"","",function(ae){return te.call(fe,ae,re++)}),J}function q(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=fe)},function(fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=fe)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Q=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ue={map:G,forEach:function(j,te,fe){G(j,function(){te.apply(this,arguments)},fe)},count:function(j){var te=0;return G(j,function(){te++}),te},toArray:function(j){return G(j,function(te){return te})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return cn.Activity=h,cn.Children=ue,cn.Component=b,cn.Fragment=n,cn.Profiler=i,cn.PureComponent=E,cn.StrictMode=r,cn.Suspense=u,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,cn.__COMPILER_RUNTIME={__proto__:null,c:function(j){return w.H.useMemoCache(j)}},cn.cache=function(j){return function(){return j.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(j,te,fe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=v({},j.props),re=j.key;if(te!=null)for(ae in te.key!==void 0&&(re=""+te.key),te)!I.call(te,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&te.ref===void 0||(J[ae]=te[ae]);var ae=arguments.length-2;if(ae===1)J.children=fe;else if(1<ae){for(var de=Array(ae),pe=0;pe<ae;pe++)de[pe]=arguments[pe+2];J.children=de}return P(j.type,re,J)},cn.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},cn.createElement=function(j,te,fe){var J,re={},ae=null;if(te!=null)for(J in te.key!==void 0&&(ae=""+te.key),te)I.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=te[J]);var de=arguments.length-2;if(de===1)re.children=fe;else if(1<de){for(var pe=Array(de),ve=0;ve<de;ve++)pe[ve]=arguments[ve+2];re.children=pe}if(j&&j.defaultProps)for(J in de=j.defaultProps,de)re[J]===void 0&&(re[J]=de[J]);return P(j,ae,re)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(j){return{$$typeof:l,render:j}},cn.isValidElement=V,cn.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:q}},cn.memo=function(j,te){return{$$typeof:f,type:j,compare:te===void 0?null:te}},cn.startTransition=function(j){var te=w.T,fe={};w.T=fe;try{var J=j(),re=w.S;re!==null&&re(fe,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(W,Q)}catch(ae){Q(ae)}finally{te!==null&&fe.types!==null&&(te.types=fe.types),w.T=te}},cn.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},cn.use=function(j){return w.H.use(j)},cn.useActionState=function(j,te,fe){return w.H.useActionState(j,te,fe)},cn.useCallback=function(j,te){return w.H.useCallback(j,te)},cn.useContext=function(j){return w.H.useContext(j)},cn.useDebugValue=function(){},cn.useDeferredValue=function(j,te){return w.H.useDeferredValue(j,te)},cn.useEffect=function(j,te){return w.H.useEffect(j,te)},cn.useEffectEvent=function(j){return w.H.useEffectEvent(j)},cn.useId=function(){return w.H.useId()},cn.useImperativeHandle=function(j,te,fe){return w.H.useImperativeHandle(j,te,fe)},cn.useInsertionEffect=function(j,te){return w.H.useInsertionEffect(j,te)},cn.useLayoutEffect=function(j,te){return w.H.useLayoutEffect(j,te)},cn.useMemo=function(j,te){return w.H.useMemo(j,te)},cn.useOptimistic=function(j,te){return w.H.useOptimistic(j,te)},cn.useReducer=function(j,te,fe){return w.H.useReducer(j,te,fe)},cn.useRef=function(j){return w.H.useRef(j)},cn.useState=function(j){return w.H.useState(j)},cn.useSyncExternalStore=function(j,te,fe){return w.H.useSyncExternalStore(j,te,fe)},cn.useTransition=function(){return w.H.useTransition()},cn.version="19.2.0",cn}var oE;function _0(){return oE||(oE=1,Wb.exports=QM()),Wb.exports}var Eb={exports:{}},ki={};var lE;function JM(){if(lE)return ki;lE=1;var t=_0();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ki.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},ki.flushSync=function(u){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=p,r.d.f()}},ki.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},ki.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ki.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,h=l(p,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:g}):p==="script"&&r.d.X(u,{crossOrigin:h,integrity:m,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ki.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},ki.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,h=l(p,f.crossOrigin);r.d.L(u,p,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ki.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},ki.requestFormReset=function(u){r.d.r(u)},ki.unstable_batchedUpdates=function(u,f){return u(f)},ki.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},ki.useFormStatus=function(){return o.H.useHostTransitionStatus()},ki.version="19.2.0",ki}var cE;function G5(){if(cE)return Eb.exports;cE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eb.exports=JM(),Eb.exports}var uE;function eN(){if(uE)return yg;uE=1;var t=qM(),e=_0(),n=G5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,d=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(d=c.return),s=c.return;while(s)}return c.tag===3?d:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var d=s,y=c;;){var T=d.return;if(T===null)break;var k=T.alternate;if(k===null){if(y=T.return,y!==null){d=y;continue}break}if(T.child===k.child){for(k=T.child;k;){if(k===d)return u(T),s;if(k===y)return u(T),c;k=k.sibling}throw Error(r(188))}if(d.return!==y.return)d=T,y=k;else{for(var $=!1,le=T.child;le;){if(le===d){$=!0,d=T,y=k;break}if(le===y){$=!0,y=T,d=k;break}le=le.sibling}if(!$){for(le=k.child;le;){if(le===d){$=!0,d=k,y=T;break}if(le===y){$=!0,y=k,d=T;break}le=le.sibling}if(!$)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:c}function p(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=p(s),c!==null)return c;s=s.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function N(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function R(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case b:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case E:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case M:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case w:return c=s.displayName||null,c!==null?c:R(s.type)||"Memo";case I:c=s._payload,s=s._init;try{return R(s(c))}catch{}}return null}var K=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Q=[],ue=-1;function j(s){return{current:s}}function te(s){0>ue||(s.current=Q[ue],Q[ue]=null,ue--)}function fe(s,c){ue++,Q[ue]=s.current,s.current=c}var J=j(null),re=j(null),ae=j(null),de=j(null);function pe(s,c){switch(fe(ae,c),fe(re,s),fe(J,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?xW(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=xW(c),s=YW(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(J),fe(J,s)}function ve(){te(J),te(re),te(ae)}function $e(s){s.memoizedState!==null&&fe(de,s);var c=J.current,d=YW(c,s.type);c!==d&&(fe(re,s),fe(J,d))}function Pe(s){re.current===s&&(te(J),te(re)),de.current===s&&(te(de),dg._currentValue=q)}var Ye,Oe;function L(s){if(Ye===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Ye=c&&c[1]||"",Oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+s+Oe}var Ue=!1;function be(s,c){if(!s||Ue)return"";Ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(rt){var Qe=rt}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(rt){Qe=rt}s.call(ut.prototype)}}else{try{throw Error()}catch(rt){Qe=rt}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(rt){if(rt&&Qe&&typeof rt.stack=="string")return[rt.stack,Qe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=y.DetermineComponentFrameRoot(),$=k[0],le=k[1];if($&&le){var Te=$.split(`
`),Ge=le.split(`
`);for(T=y=0;y<Te.length&&!Te[y].includes("DetermineComponentFrameRoot");)y++;for(;T<Ge.length&&!Ge[T].includes("DetermineComponentFrameRoot");)T++;if(y===Te.length||T===Ge.length)for(y=Te.length-1,T=Ge.length-1;1<=y&&0<=T&&Te[y]!==Ge[T];)T--;for(;1<=y&&0<=T;y--,T--)if(Te[y]!==Ge[T]){if(y!==1||T!==1)do if(y--,T--,0>T||Te[y]!==Ge[T]){var at=`
`+Te[y].replace(" at new "," at ");return s.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",s.displayName)),at}while(1<=y&&0<=T);break}}}finally{Ue=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?L(d):""}function ce(s,c){switch(s.tag){case 26:case 27:case 5:return L(s.type);case 16:return L("Lazy");case 13:return s.child!==c&&c!==null?L("Suspense Fallback"):L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return be(s.type,!1);case 11:return be(s.type.render,!1);case 1:return be(s.type,!0);case 31:return L("Activity");default:return""}}function se(s){try{var c="",d=null;do c+=ce(s,d),d=s,s=s.return;while(s);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var me=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,ge=t.unstable_shouldYield,We=t.unstable_requestPaint,et=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,Mt=t.unstable_UserBlockingPriority,pt=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,sn=t.unstable_IdlePriority,oe=t.log,tt=t.unstable_setDisableYieldValue,De=null,it=null;function Se(s){if(typeof oe=="function"&&tt(s),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(De,s)}catch{}}var xe=Math.clz32?Math.clz32:mt,ee=Math.log,Je=Math.LN2;function mt(s){return s>>>=0,s===0?32:31-(ee(s)/Je|0)|0}var X=256,Le=262144,Ke=4194304;function ie(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ye(s,c,d){var y=s.pendingLanes;if(y===0)return 0;var T=0,k=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var le=y&134217727;return le!==0?(y=le&~k,y!==0?T=ie(y):($&=le,$!==0?T=ie($):d||(d=le&~s,d!==0&&(T=ie(d))))):(le=y&~k,le!==0?T=ie(le):$!==0?T=ie($):d||(d=y&~s,d!==0&&(T=ie(d)))),T===0?0:c!==0&&c!==T&&(c&k)===0&&(k=T&-T,d=c&-c,k>=d||k===32&&(d&4194048)!==0)?c:T}function Me(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function wt(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dt(){var s=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),s}function St(s){for(var c=[],d=0;31>d;d++)c.push(s);return c}function kt(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Un(s,c,d,y,T,k){var $=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var le=s.entanglements,Te=s.expirationTimes,Ge=s.hiddenUpdates;for(d=$&~d;0<d;){var at=31-xe(d),ut=1<<at;le[at]=0,Te[at]=-1;var Qe=Ge[at];if(Qe!==null)for(Ge[at]=null,at=0;at<Qe.length;at++){var rt=Qe[at];rt!==null&&(rt.lane&=-536870913)}d&=~ut}y!==0&&hn(s,y,0),k!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=k&~($&~c))}function hn(s,c,d){s.pendingLanes|=c,s.suspendedLanes&=~c;var y=31-xe(c);s.entangledLanes|=c,s.entanglements[y]=s.entanglements[y]|1073741824|d&261930}function At(s,c){var d=s.entangledLanes|=c;for(s=s.entanglements;d;){var y=31-xe(d),T=1<<y;T&c|s[y]&c&&(s[y]|=c),d&=~T}}function Zt(s,c){var d=c&-c;return d=(d&42)!==0?1:Dn(d),(d&(s.suspendedLanes|c))!==0?0:d}function Dn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Rn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ir(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:$W(s.type))}function ii(s,c){var d=G.p;try{return G.p=s,c()}finally{G.p=d}}var Fn=Math.random().toString(36).slice(2),nn="__reactFiber$"+Fn,rn="__reactProps$"+Fn,$n="__reactContainer$"+Fn,gr="__reactEvents$"+Fn,ss="__reactListeners$"+Fn,mi="__reactHandles$"+Fn,za="__reactResources$"+Fn,Br="__reactMarker$"+Fn;function as(s){delete s[nn],delete s[rn],delete s[gr],delete s[ss],delete s[mi]}function Us(s){var c=s[nn];if(c)return c;for(var d=s.parentNode;d;){if(c=d[$n]||d[nn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(s=AW(s);s!==null;){if(d=s[nn])return d;s=AW(s)}return c}s=d,d=s.parentNode}return null}function tr(s){if(s=s[nn]||s[$n]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Vr(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Fr(s){var c=s[za];return c||(c=s[za]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function or(s){s[Br]=!0}var Ei=new Set,ji={};function ui(s,c){gi(s,c),gi(s+"Capture",c)}function gi(s,c){for(ji[s]=c,s=0;s<c.length;s++)Ei.add(c[s])}var Ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},As={};function xt(s){return me.call(As,s)?!0:me.call(Cs,s)?!1:Ki.test(s)?As[s]=!0:(Cs[s]=!0,!1)}function It(s,c,d){if(xt(c))if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+d)}}function Ur(s,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+d)}}function rr(s,c,d,y){if(y===null)s.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(c,d,""+y)}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function dr(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function hr(s,c,d){var y=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,k=y.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return T.call(this)},set:function($){d=""+$,k.call(this,$)}}),Object.defineProperty(s,c,{enumerable:y.enumerable}),{getValue:function(){return d},setValue:function($){d=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Qn(s){if(!s._valueTracker){var c=dr(s)?"checked":"value";s._valueTracker=hr(s,c,""+s[c])}}function Cr(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var d=c.getValue(),y="";return s&&(y=dr(s)?s.checked?"true":"false":s.value),s=y,s!==d?(c.setValue(s),!0):!1}function qt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var yr=/[\n"\\]/g;function Xn(s){return s.replace(yr,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Rr(s,c,d,y,T,k,$,le){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Bn(c)):s.value!==""+Bn(c)&&(s.value=""+Bn(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?Mi(s,$,Bn(c)):d!=null?Mi(s,$,Bn(d)):y!=null&&s.removeAttribute("value"),T==null&&k!=null&&(s.defaultChecked=!!k),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?s.name=""+Bn(le):s.removeAttribute("name")}function yi(s,c,d,y,T,k,$,le){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.type=k),c!=null||d!=null){if(!(k!=="submit"&&k!=="reset"||c!=null)){Qn(s);return}d=d!=null?""+Bn(d):"",c=c!=null?""+Bn(c):d,le||c===s.value||(s.value=c),s.defaultValue=c}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=le?s.checked:!!y,s.defaultChecked=!!y,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),Qn(s)}function Mi(s,c,d){c==="number"&&qt(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Ni(s,c,d,y){if(s=s.options,c){c={};for(var T=0;T<d.length;T++)c["$"+d[T]]=!0;for(d=0;d<s.length;d++)T=c.hasOwnProperty("$"+s[d].value),s[d].selected!==T&&(s[d].selected=T),T&&y&&(s[d].defaultSelected=!0)}else{for(d=""+Bn(d),c=null,T=0;T<s.length;T++){if(s[T].value===d){s[T].selected=!0,y&&(s[T].defaultSelected=!0);return}c!==null||s[T].disabled||(c=s[T])}c!==null&&(c.selected=!0)}}function $a(s,c,d){if(c!=null&&(c=""+Bn(c),c!==s.value&&(s.value=c),d==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=d!=null?""+Bn(d):""}function vi(s,c,d,y){if(c==null){if(y!=null){if(d!=null)throw Error(r(92));if(K(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),c=d}d=Bn(c),s.defaultValue=d,y=s.textContent,y===d&&y!==""&&y!==null&&(s.value=y),Qn(s)}function si(s,c){if(c){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=c;return}}s.textContent=c}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gt(s,c,d){var y=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?y?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":y?s.setProperty(c,d):typeof d!="number"||d===0||Io.has(c)?c==="float"?s.cssFloat=d:s[c]=(""+d).trim():s[c]=d+"px"}function Nr(s,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,d!=null){for(var y in d)!d.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var T in c)y=c[T],c.hasOwnProperty(T)&&d[T]!==y&&Gt(s,T,y)}else for(var k in c)c.hasOwnProperty(k)&&Gt(s,k,c[k])}function Oi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(s){return Lr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Zr(){}var Di=null;function qs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zr=null,Vn=null;function Ui(s){var c=tr(s);if(c&&(s=c.stateNode)){var d=s[rn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Rr(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Xn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var y=d[c];if(y!==s&&y.form===s.form){var T=y[rn]||null;if(!T)throw Error(r(90));Rr(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<d.length;c++)y=d[c],y.form===s.form&&Cr(y)}break e;case"textarea":$a(s,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Ni(s,!!d.multiple,c,!1)}}}var Tr=!1;function ks(s,c,d){if(Tr)return s(c,d);Tr=!0;try{var y=s(c);return y}finally{if(Tr=!1,(zr!==null||Vn!==null)&&(my(),zr&&(c=zr,s=Vn,Vn=zr=null,Ui(c),s)))for(c=0;c<s.length;c++)Ui(s[c])}}function lr(s,c){var d=s.stateNode;if(d===null)return null;var y=d[rn]||null;if(y===null)return null;d=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if($r)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Vl=!1}var Bi=null,ja=null,os=null;function Ci(){if(os)return os;var s,c=ja,d=c.length,y,T="value"in Bi?Bi.value:Bi.textContent,k=T.length;for(s=0;s<d&&c[s]===T[s];s++);var $=d-s;for(y=1;y<=$&&c[d-y]===T[k-y];y++);return os=T.slice(s,1<y?1-y:void 0)}function Qs(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Ka(){return!0}function Js(){return!1}function _r(s){function c(d,y,T,k,$){this._reactName=d,this._targetInst=T,this.type=y,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var le in s)s.hasOwnProperty(le)&&(d=s[le],this[le]=d?d(k):k[le]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ka:Js,this.isPropagationStopped=Js,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),c}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=_r(ls),cs=h({},ls,{view:0,detail:0}),Ro=_r(cs),Ha,Ga,Xo,Fl=h({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xo&&(Xo&&s.type==="mousemove"?(Ha=s.screenX-Xo.screenX,Ga=s.screenY-Xo.screenY):Ga=Ha=0,Xo=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:Ga}}),Po=_r(Fl),Ll=h({},Fl,{dataTransfer:0}),on=_r(Ll),ln=h({},cs,{relatedTarget:0}),Pn=_r(ln),Ln=h({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=_r(Ln),wr=h({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Sr=_r(wr),Ar=h({},ls,{data:0}),ir=_r(Ar),pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zn(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Yn[s])?!!c[s]:!1}function Cn(){return Zn}var _i=h({},cs,{key:function(s){if(s.key){var c=pr[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Qs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(s){return s.type==="keypress"?Qs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hi=_r(_i),ea=h({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=_r(ea),qa=h({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn}),Dc=_r(qa),Rs=h({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),k0=_r(Rs),I0=h({},Fl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Bc=_r(I0),R0=h({},ls,{newState:0,oldState:0}),I1=_r(R0),k2=[9,13,27,32],Zl=$r&&"CompositionEvent"in window,ba=null;$r&&"documentMode"in document&&(ba=document.documentMode);var I2=$r&&"TextEvent"in window&&!ba,Vc=$r&&(!Zl||ba&&8<ba&&11>=ba),Fc=" ",R1=!1;function X0(s,c){switch(s){case"keyup":return k2.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qa=!1;function P1(s,c){switch(s){case"compositionend":return X1(c);case"keypress":return c.which!==32?null:(R1=!0,Fc);case"textInput":return s=c.data,s===Fc&&R1?null:s;default:return null}}function R2(s,c){if(Qa)return s==="compositionend"||!Zl&&X0(s,c)?(s=Ci(),os=ja=Bi=null,Qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Vc&&c.locale!=="ko"?null:c.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!M1[s.type]:c==="textarea"}function P0(s,c,d,y){zr?Vn?Vn.push(y):Vn=[y]:zr=y,c=xy(c,"onChange"),0<c.length&&(d=new Is("onChange","change",null,d,y),s.push({event:d,listeners:c}))}var Mo=null,zl=null;function X2(s){gW(s,0)}function Zc(s){var c=Vr(s);if(Cr(c))return s}function $l(s,c){if(s==="change")return c}var Xs=!1;if($r){var br;if($r){var No="oninput"in document;if(!No){var Vi=document.createElement("div");Vi.setAttribute("oninput","return;"),No=typeof Vi.oninput=="function"}br=No}else br=!1;Xs=br&&(!document.documentMode||9<document.documentMode)}function N1(){Mo&&(Mo.detachEvent("onpropertychange",zc),zl=Mo=null)}function zc(s){if(s.propertyName==="value"&&Zc(zl)){var c=[];P0(c,zl,s,qs(s)),ks(X2,c)}}function O1(s,c,d){s==="focusin"?(N1(),Mo=c,zl=d,Mo.attachEvent("onpropertychange",zc)):s==="focusout"&&N1()}function Ja(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zc(zl)}function M0(s,c){if(s==="click")return Zc(c)}function Oo(s,c){if(s==="input"||s==="change")return Zc(c)}function xa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ai=typeof Object.is=="function"?Object.is:xa;function x(s,c){if(Ai(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var d=Object.keys(s),y=Object.keys(c);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var T=d[y];if(!me.call(c,T)||!Ai(s[T],c[T]))return!1}return!0}function C(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function D(s,c){var d=C(s);s=0;for(var y;d;){if(d.nodeType===3){if(y=s+d.textContent.length,s<=c&&y>=c)return{node:d,offset:c-s};s=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=C(d)}}function z(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?z(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function H(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=qt(s.document);c instanceof s.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)s=c.contentWindow;else break;c=qt(s.document)}return c}function ne(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var he=$r&&"documentMode"in document&&11>=document.documentMode,_e=null,Ee=null,Ce=null,Be=!1;function we(s,c,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Be||_e==null||_e!==qt(y)||(y=_e,"selectionStart"in y&&ne(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ce&&x(Ce,y)||(Ce=y,y=xy(Ee,"onSelect"),0<y.length&&(c=new Is("onSelect","select",null,c,d),s.push({event:c,listeners:y}),c.target=_e)))}function Fe(s,c){var d={};return d[s.toLowerCase()]=c.toLowerCase(),d["Webkit"+s]="webkit"+c,d["Moz"+s]="moz"+c,d}var Ae={animationend:Fe("Animation","AnimationEnd"),animationiteration:Fe("Animation","AnimationIteration"),animationstart:Fe("Animation","AnimationStart"),transitionrun:Fe("Transition","TransitionRun"),transitionstart:Fe("Transition","TransitionStart"),transitioncancel:Fe("Transition","TransitionCancel"),transitionend:Fe("Transition","TransitionEnd")},Re={},Xe={};$r&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ae.animationend.animation,delete Ae.animationiteration.animation,delete Ae.animationstart.animation),"TransitionEvent"in window||delete Ae.transitionend.transition);function Ve(s){if(Re[s])return Re[s];if(!Ae[s])return s;var c=Ae[s],d;for(d in c)if(c.hasOwnProperty(d)&&d in Xe)return Re[s]=c[d];return s}var je=Ve("animationend"),qe=Ve("animationiteration"),st=Ve("animationstart"),ct=Ve("transitionrun"),bt=Ve("transitionstart"),Ut=Ve("transitioncancel"),yt=Ve("transitionend"),Tt=new Map,Et="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Et.push("scrollEnd");function vt(s,c){Tt.set(s,c),ui(c,[s])}var Rt=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kt=[],tn=0,pn=0;function di(){for(var s=tn,c=pn=tn=0;c<s;){var d=Kt[c];Kt[c++]=null;var y=Kt[c];Kt[c++]=null;var T=Kt[c];Kt[c++]=null;var k=Kt[c];if(Kt[c++]=null,y!==null&&T!==null){var $=y.pending;$===null?T.next=T:(T.next=$.next,$.next=T),y.pending=T}k!==0&&jl(d,T,k)}}function en(s,c,d,y){Kt[tn++]=s,Kt[tn++]=c,Kt[tn++]=d,Kt[tn++]=y,pn|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function jr(s,c,d,y){return en(s,c,d,y),Kr(s)}function Wr(s,c){return en(s,null,null,c),Kr(s)}function jl(s,c,d){s.lanes|=d;var y=s.alternate;y!==null&&(y.lanes|=d);for(var T=!1,k=s.return;k!==null;)k.childLanes|=d,y=k.alternate,y!==null&&(y.childLanes|=d),k.tag===22&&(s=k.stateNode,s===null||s._visibility&1||(T=!0)),s=k,k=k.return;return s.tag===3?(k=s.stateNode,T&&c!==null&&(T=31-xe(d),s=k.hiddenUpdates,y=s[T],y===null?s[T]=[c]:y.push(c),c.lane=d|536870912),k):null}function Kr(s){if(50<sg)throw sg=0,LS=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Gi={};function N0(s,c,d,y){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(s,c,d,y){return new N0(s,c,d,y)}function P2(s){return s=s.prototype,!(!s||!s.isReactComponent)}function eo(s,c){var d=s.alternate;return d===null?(d=us(s.tag,c,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=c,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,c=s.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Qw(s,c){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,c=d.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function D1(s,c,d,y,T,k){var $=0;if(y=s,typeof s=="function")P2(s)&&($=1);else if(typeof s=="string")$=PM(s,d,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=us(31,d,c,T),s.elementType=P,s.lanes=k,s;case v:return Kl(d.children,T,k,c);case S:$=8,T|=24;break;case b:return s=us(12,d,c,T|2),s.elementType=b,s.lanes=k,s;case U:return s=us(13,d,c,T),s.elementType=U,s.lanes=k,s;case W:return s=us(19,d,c,T),s.elementType=W,s.lanes=k,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:$=10;break e;case Y:$=9;break e;case M:$=11;break e;case w:$=14;break e;case I:$=16,y=null;break e}$=29,d=Error(r(130,s===null?"null":typeof s,"")),y=null}return c=us($,d,c,T),c.elementType=s,c.type=y,c.lanes=k,c}function Kl(s,c,d,y){return s=us(7,s,y,c),s.lanes=d,s}function M2(s,c,d){return s=us(6,s,null,c),s.lanes=d,s}function Jw(s){var c=us(18,null,null,0);return c.stateNode=s,c}function N2(s,c,d){return c=us(4,s.children!==null?s.children:[],s.key,c),c.lanes=d,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var e3=new WeakMap;function Ps(s,c){if(typeof s=="object"&&s!==null){var d=e3.get(s);return d!==void 0?d:(c={value:s,source:c,stack:se(c)},e3.set(s,c),c)}return{value:s,source:c,stack:se(c)}}var $c=[],jc=0,B1=null,O0=0,Ms=[],Ns=0,Do=null,Ya=1,Ta="";function to(s,c){$c[jc++]=O0,$c[jc++]=B1,B1=s,O0=c}function t3(s,c,d){Ms[Ns++]=Ya,Ms[Ns++]=Ta,Ms[Ns++]=Do,Do=s;var y=Ya;s=Ta;var T=32-xe(y)-1;y&=~(1<<T),d+=1;var k=32-xe(c)+T;if(30<k){var $=T-T%5;k=(y&(1<<$)-1).toString(32),y>>=$,T-=$,Ya=1<<32-xe(c)+T|d<<T|y,Ta=k+s}else Ya=1<<k|d<<T|y,Ta=s}function O2(s){s.return!==null&&(to(s,1),t3(s,1,0))}function D2(s){for(;s===B1;)B1=$c[--jc],$c[jc]=null,O0=$c[--jc],$c[jc]=null;for(;s===Do;)Do=Ms[--Ns],Ms[Ns]=null,Ta=Ms[--Ns],Ms[Ns]=null,Ya=Ms[--Ns],Ms[Ns]=null}function n3(s,c){Ms[Ns++]=Ya,Ms[Ns++]=Ta,Ms[Ns++]=Do,Ya=c.id,Ta=c.overflow,Do=s}var Si=null,xr=null,Nn=!1,Bo=null,Os=!1,B2=Error(r(519));function Vo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw D0(Ps(c,s)),B2}function r3(s){var c=s.stateNode,d=s.type,y=s.memoizedProps;switch(c[nn]=s,c[rn]=y,d){case"dialog":En("cancel",c),En("close",c);break;case"iframe":case"object":case"embed":En("load",c);break;case"video":case"audio":for(d=0;d<og.length;d++)En(og[d],c);break;case"source":En("error",c);break;case"img":case"image":case"link":En("error",c),En("load",c);break;case"details":En("toggle",c);break;case"input":En("invalid",c),yi(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":En("invalid",c);break;case"textarea":En("invalid",c),vi(c,y.value,y.defaultValue,y.children)}d=y.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||y.suppressHydrationWarning===!0||SW(c.textContent,d)?(y.popover!=null&&(En("beforetoggle",c),En("toggle",c)),y.onScroll!=null&&En("scroll",c),y.onScrollEnd!=null&&En("scrollend",c),y.onClick!=null&&(c.onclick=Zr),c=!0):c=!1,c||Vo(s,!0)}function i3(s){for(Si=s.return;Si;)switch(Si.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Si=Si.return}}function Kc(s){if(s!==Si)return!1;if(!Nn)return i3(s),Nn=!0,!1;var c=s.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||ib(s.type,s.memoizedProps)),d=!d),d&&xr&&Vo(s),i3(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xr=CW(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xr=CW(s)}else c===27?(c=xr,tl(s.type)?(s=cb,cb=null,xr=s):xr=c):xr=Si?Bs(s.stateNode.nextSibling):null;return!0}function Hl(){xr=Si=null,Nn=!1}function V2(){var s=Bo;return s!==null&&(es===null?es=s:es.push.apply(es,s),Bo=null),s}function D0(s){Bo===null?Bo=[s]:Bo.push(s)}var F2=j(null),Gl=null,no=null;function Fo(s,c,d){fe(F2,c._currentValue),c._currentValue=d}function ro(s){s._currentValue=F2.current,te(F2)}function L2(s,c,d){for(;s!==null;){var y=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),s===d)break;s=s.return}}function Z2(s,c,d,y){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var k=T.dependencies;if(k!==null){var $=T.child;k=k.firstContext;e:for(;k!==null;){var le=k;k=T;for(var Te=0;Te<c.length;Te++)if(le.context===c[Te]){k.lanes|=d,le=k.alternate,le!==null&&(le.lanes|=d),L2(k.return,d,s),y||($=null);break e}k=le.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=d,k=$.alternate,k!==null&&(k.lanes|=d),L2($,d,s),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===s){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Hc(s,c,d,y){s=null;for(var T=c,k=!1;T!==null;){if(!k){if((T.flags&524288)!==0)k=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var le=T.type;Ai(T.pendingProps.value,$.value)||(s!==null?s.push(le):s=[le])}}else if(T===de.current){if($=T.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(dg):s=[dg])}T=T.return}s!==null&&Z2(c,s,d,y),c.flags|=262144}function V1(s){for(s=s.firstContext;s!==null;){if(!Ai(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ql(s){Gl=s,no=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function bi(s){return s3(Gl,s)}function F1(s,c){return Gl===null&&ql(s),s3(s,c)}function s3(s,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},no===null){if(s===null)throw Error(r(308));no=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else no=no.next=c;return d}var k8=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(d,y){s.push(y)}};this.abort=function(){c.aborted=!0,s.forEach(function(d){return d()})}},I8=t.unstable_scheduleCallback,R8=t.unstable_NormalPriority,Hr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z2(){return{controller:new k8,data:new Map,refCount:0}}function B0(s){s.refCount--,s.refCount===0&&I8(R8,function(){s.controller.abort()})}var V0=null,$2=0,Gc=0,qc=null;function X8(s,c){if(V0===null){var d=V0=[];$2=0,Gc=HS(),qc={status:"pending",value:void 0,then:function(y){d.push(y)}}}return $2++,c.then(a3,a3),c}function a3(){if(--$2===0&&V0!==null){qc!==null&&(qc.status="fulfilled");var s=V0;V0=null,Gc=0,qc=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function P8(s,c){var d=[],y={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return s.then(function(){y.status="fulfilled",y.value=c;for(var T=0;T<d.length;T++)(0,d[T])(c)},function(T){for(y.status="rejected",y.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),y}var o3=Z.S;Z.S=function(s,c){Z4=et(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&X8(s,c),o3!==null&&o3(s,c)};var Ql=j(null);function j2(){var s=Ql.current;return s!==null?s:mr.pooledCache}function L1(s,c){c===null?fe(Ql,Ql.current):fe(Ql,c.pool)}function l3(){var s=j2();return s===null?null:{parent:Hr._currentValue,pool:s}}var Qc=Error(r(460)),K2=Error(r(474)),Z1=Error(r(542)),z1={then:function(){}};function c3(s){return s=s.status,s==="fulfilled"||s==="rejected"}function u3(s,c,d){switch(d=s[d],d===void 0?s.push(c):d!==c&&(c.then(Zr,Zr),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,d3(s),s;default:if(typeof c.status=="string")c.then(Zr,Zr);else{if(s=mr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(y){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=y}},function(y){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,d3(s),s}throw ec=c,Qc}}function Jl(s){try{var c=s._init;return c(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ec=d,Qc):d}}var ec=null;function f3(){if(ec===null)throw Error(r(459));var s=ec;return ec=null,s}function d3(s){if(s===Qc||s===Z1)throw Error(r(483))}var Jc=null,F0=0;function $1(s){var c=F0;return F0+=1,Jc===null&&(Jc=[]),u3(Jc,s,c)}function L0(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function j1(s,c){throw c.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function h3(s){function c(Ze,Ie){if(s){var He=Ze.deletions;He===null?(Ze.deletions=[Ie],Ze.flags|=16):He.push(Ie)}}function d(Ze,Ie){if(!s)return null;for(;Ie!==null;)c(Ze,Ie),Ie=Ie.sibling;return null}function y(Ze){for(var Ie=new Map;Ze!==null;)Ze.key!==null?Ie.set(Ze.key,Ze):Ie.set(Ze.index,Ze),Ze=Ze.sibling;return Ie}function T(Ze,Ie){return Ze=eo(Ze,Ie),Ze.index=0,Ze.sibling=null,Ze}function k(Ze,Ie,He){return Ze.index=He,s?(He=Ze.alternate,He!==null?(He=He.index,He<Ie?(Ze.flags|=67108866,Ie):He):(Ze.flags|=67108866,Ie)):(Ze.flags|=1048576,Ie)}function $(Ze){return s&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function le(Ze,Ie,He,lt){return Ie===null||Ie.tag!==6?(Ie=M2(He,Ze.mode,lt),Ie.return=Ze,Ie):(Ie=T(Ie,He),Ie.return=Ze,Ie)}function Te(Ze,Ie,He,lt){var Ht=He.type;return Ht===v?at(Ze,Ie,He.props.children,lt,He.key):Ie!==null&&(Ie.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&Jl(Ht)===Ie.type)?(Ie=T(Ie,He.props),L0(Ie,He),Ie.return=Ze,Ie):(Ie=D1(He.type,He.key,He.props,null,Ze.mode,lt),L0(Ie,He),Ie.return=Ze,Ie)}function Ge(Ze,Ie,He,lt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==He.containerInfo||Ie.stateNode.implementation!==He.implementation?(Ie=N2(He,Ze.mode,lt),Ie.return=Ze,Ie):(Ie=T(Ie,He.children||[]),Ie.return=Ze,Ie)}function at(Ze,Ie,He,lt,Ht){return Ie===null||Ie.tag!==7?(Ie=Kl(He,Ze.mode,lt,Ht),Ie.return=Ze,Ie):(Ie=T(Ie,He),Ie.return=Ze,Ie)}function ut(Ze,Ie,He){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=M2(""+Ie,Ze.mode,He),Ie.return=Ze,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:return He=D1(Ie.type,Ie.key,Ie.props,null,Ze.mode,He),L0(He,Ie),He.return=Ze,He;case _:return Ie=N2(Ie,Ze.mode,He),Ie.return=Ze,Ie;case I:return Ie=Jl(Ie),ut(Ze,Ie,He)}if(K(Ie)||N(Ie))return Ie=Kl(Ie,Ze.mode,He,null),Ie.return=Ze,Ie;if(typeof Ie.then=="function")return ut(Ze,$1(Ie),He);if(Ie.$$typeof===E)return ut(Ze,F1(Ze,Ie),He);j1(Ze,Ie)}return null}function Qe(Ze,Ie,He,lt){var Ht=Ie!==null?Ie.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Ht!==null?null:le(Ze,Ie,""+He,lt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case g:return He.key===Ht?Te(Ze,Ie,He,lt):null;case _:return He.key===Ht?Ge(Ze,Ie,He,lt):null;case I:return He=Jl(He),Qe(Ze,Ie,He,lt)}if(K(He)||N(He))return Ht!==null?null:at(Ze,Ie,He,lt,null);if(typeof He.then=="function")return Qe(Ze,Ie,$1(He),lt);if(He.$$typeof===E)return Qe(Ze,Ie,F1(Ze,He),lt);j1(Ze,He)}return null}function rt(Ze,Ie,He,lt,Ht){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ze=Ze.get(He)||null,le(Ie,Ze,""+lt,Ht);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case g:return Ze=Ze.get(lt.key===null?He:lt.key)||null,Te(Ie,Ze,lt,Ht);case _:return Ze=Ze.get(lt.key===null?He:lt.key)||null,Ge(Ie,Ze,lt,Ht);case I:return lt=Jl(lt),rt(Ze,Ie,He,lt,Ht)}if(K(lt)||N(lt))return Ze=Ze.get(He)||null,at(Ie,Ze,lt,Ht,null);if(typeof lt.then=="function")return rt(Ze,Ie,He,$1(lt),Ht);if(lt.$$typeof===E)return rt(Ze,Ie,He,F1(Ie,lt),Ht);j1(Ie,lt)}return null}function Dt(Ze,Ie,He,lt){for(var Ht=null,jn=null,zt=Ie,vn=Ie=0,kn=null;zt!==null&&vn<He.length;vn++){zt.index>vn?(kn=zt,zt=null):kn=zt.sibling;var Kn=Qe(Ze,zt,He[vn],lt);if(Kn===null){zt===null&&(zt=kn);break}s&&zt&&Kn.alternate===null&&c(Ze,zt),Ie=k(Kn,Ie,vn),jn===null?Ht=Kn:jn.sibling=Kn,jn=Kn,zt=kn}if(vn===He.length)return d(Ze,zt),Nn&&to(Ze,vn),Ht;if(zt===null){for(;vn<He.length;vn++)zt=ut(Ze,He[vn],lt),zt!==null&&(Ie=k(zt,Ie,vn),jn===null?Ht=zt:jn.sibling=zt,jn=zt);return Nn&&to(Ze,vn),Ht}for(zt=y(zt);vn<He.length;vn++)kn=rt(zt,Ze,vn,He[vn],lt),kn!==null&&(s&&kn.alternate!==null&&zt.delete(kn.key===null?vn:kn.key),Ie=k(kn,Ie,vn),jn===null?Ht=kn:jn.sibling=kn,jn=kn);return s&&zt.forEach(function(al){return c(Ze,al)}),Nn&&to(Ze,vn),Ht}function Qt(Ze,Ie,He,lt){if(He==null)throw Error(r(151));for(var Ht=null,jn=null,zt=Ie,vn=Ie=0,kn=null,Kn=He.next();zt!==null&&!Kn.done;vn++,Kn=He.next()){zt.index>vn?(kn=zt,zt=null):kn=zt.sibling;var al=Qe(Ze,zt,Kn.value,lt);if(al===null){zt===null&&(zt=kn);break}s&&zt&&al.alternate===null&&c(Ze,zt),Ie=k(al,Ie,vn),jn===null?Ht=al:jn.sibling=al,jn=al,zt=kn}if(Kn.done)return d(Ze,zt),Nn&&to(Ze,vn),Ht;if(zt===null){for(;!Kn.done;vn++,Kn=He.next())Kn=ut(Ze,Kn.value,lt),Kn!==null&&(Ie=k(Kn,Ie,vn),jn===null?Ht=Kn:jn.sibling=Kn,jn=Kn);return Nn&&to(Ze,vn),Ht}for(zt=y(zt);!Kn.done;vn++,Kn=He.next())Kn=rt(zt,Ze,vn,Kn.value,lt),Kn!==null&&(s&&Kn.alternate!==null&&zt.delete(Kn.key===null?vn:Kn.key),Ie=k(Kn,Ie,vn),jn===null?Ht=Kn:jn.sibling=Kn,jn=Kn);return s&&zt.forEach(function($M){return c(Ze,$M)}),Nn&&to(Ze,vn),Ht}function fr(Ze,Ie,He,lt){if(typeof He=="object"&&He!==null&&He.type===v&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case g:e:{for(var Ht=He.key;Ie!==null;){if(Ie.key===Ht){if(Ht=He.type,Ht===v){if(Ie.tag===7){d(Ze,Ie.sibling),lt=T(Ie,He.props.children),lt.return=Ze,Ze=lt;break e}}else if(Ie.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&Jl(Ht)===Ie.type){d(Ze,Ie.sibling),lt=T(Ie,He.props),L0(lt,He),lt.return=Ze,Ze=lt;break e}d(Ze,Ie);break}else c(Ze,Ie);Ie=Ie.sibling}He.type===v?(lt=Kl(He.props.children,Ze.mode,lt,He.key),lt.return=Ze,Ze=lt):(lt=D1(He.type,He.key,He.props,null,Ze.mode,lt),L0(lt,He),lt.return=Ze,Ze=lt)}return $(Ze);case _:e:{for(Ht=He.key;Ie!==null;){if(Ie.key===Ht)if(Ie.tag===4&&Ie.stateNode.containerInfo===He.containerInfo&&Ie.stateNode.implementation===He.implementation){d(Ze,Ie.sibling),lt=T(Ie,He.children||[]),lt.return=Ze,Ze=lt;break e}else{d(Ze,Ie);break}else c(Ze,Ie);Ie=Ie.sibling}lt=N2(He,Ze.mode,lt),lt.return=Ze,Ze=lt}return $(Ze);case I:return He=Jl(He),fr(Ze,Ie,He,lt)}if(K(He))return Dt(Ze,Ie,He,lt);if(N(He)){if(Ht=N(He),typeof Ht!="function")throw Error(r(150));return He=Ht.call(He),Qt(Ze,Ie,He,lt)}if(typeof He.then=="function")return fr(Ze,Ie,$1(He),lt);if(He.$$typeof===E)return fr(Ze,Ie,F1(Ze,He),lt);j1(Ze,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Ie!==null&&Ie.tag===6?(d(Ze,Ie.sibling),lt=T(Ie,He),lt.return=Ze,Ze=lt):(d(Ze,Ie),lt=M2(He,Ze.mode,lt),lt.return=Ze,Ze=lt),$(Ze)):d(Ze,Ie)}return function(Ze,Ie,He,lt){try{F0=0;var Ht=fr(Ze,Ie,He,lt);return Jc=null,Ht}catch(zt){if(zt===Qc||zt===Z1)throw zt;var jn=us(29,zt,null,Ze.mode);return jn.lanes=lt,jn.return=Ze,jn}finally{}}}var tc=h3(!0),p3=h3(!1),Lo=!1;function H2(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function G2(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zo(s,c,d){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Jn&2)!==0){var T=y.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),y.pending=c,c=Kr(s),jl(s,null,d),c}return en(s,y,c,d),Kr(s)}function Z0(s,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var y=c.lanes;y&=s.pendingLanes,d|=y,c.lanes=d,At(s,d)}}function q2(s,c){var d=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var T=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var $={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};k===null?T=k=$:k=k.next=$,d=d.next}while(d!==null);k===null?T=k=c:k=k.next=c}else T=k=c;d={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:k,shared:y.shared,callbacks:y.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=c}var Q2=!1;function z0(){if(Q2){var s=qc;if(s!==null)throw s}}function $0(s,c,d,y){Q2=!1;var T=s.updateQueue;Lo=!1;var k=T.firstBaseUpdate,$=T.lastBaseUpdate,le=T.shared.pending;if(le!==null){T.shared.pending=null;var Te=le,Ge=Te.next;Te.next=null,$===null?k=Ge:$.next=Ge,$=Te;var at=s.alternate;at!==null&&(at=at.updateQueue,le=at.lastBaseUpdate,le!==$&&(le===null?at.firstBaseUpdate=Ge:le.next=Ge,at.lastBaseUpdate=Te))}if(k!==null){var ut=T.baseState;$=0,at=Ge=Te=null,le=k;do{var Qe=le.lane&-536870913,rt=Qe!==le.lane;if(rt?(An&Qe)===Qe:(y&Qe)===Qe){Qe!==0&&Qe===Gc&&(Q2=!0),at!==null&&(at=at.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Dt=s,Qt=le;Qe=c;var fr=d;switch(Qt.tag){case 1:if(Dt=Qt.payload,typeof Dt=="function"){ut=Dt.call(fr,ut,Qe);break e}ut=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Qt.payload,Qe=typeof Dt=="function"?Dt.call(fr,ut,Qe):Dt,Qe==null)break e;ut=h({},ut,Qe);break e;case 2:Lo=!0}}Qe=le.callback,Qe!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=T.callbacks,rt===null?T.callbacks=[Qe]:rt.push(Qe))}else rt={lane:Qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},at===null?(Ge=at=rt,Te=ut):at=at.next=rt,$|=Qe;if(le=le.next,le===null){if(le=T.shared.pending,le===null)break;rt=le,le=rt.next,rt.next=null,T.lastBaseUpdate=rt,T.shared.pending=null}}while(!0);at===null&&(Te=ut),T.baseState=Te,T.firstBaseUpdate=Ge,T.lastBaseUpdate=at,k===null&&(T.shared.lanes=0),Go|=$,s.lanes=$,s.memoizedState=ut}}function m3(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function g3(s,c){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)m3(d[s],c)}var eu=j(null),K1=j(0);function y3(s,c){s=ho,fe(K1,s),fe(eu,c),ho=s|c.baseLanes}function J2(){fe(K1,ho),fe(eu,eu.current)}function eS(){ho=K1.current,te(eu),te(K1)}var fs=j(null),Ds=null;function $o(s){var c=s.alternate;fe(Or,Or.current&1),fe(fs,s),Ds===null&&(c===null||eu.current!==null||c.memoizedState!==null)&&(Ds=s)}function tS(s){fe(Or,Or.current),fe(fs,s),Ds===null&&(Ds=s)}function v3(s){s.tag===22?(fe(Or,Or.current),fe(fs,s),Ds===null&&(Ds=s)):jo()}function jo(){fe(Or,Or.current),fe(fs,fs.current)}function ds(s){te(fs),Ds===s&&(Ds=null),te(Or)}var Or=j(0);function H1(s){for(var c=s;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||ob(d)||lb(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var io=0,mn=null,cr=null,Gr=null,G1=!1,tu=!1,nc=!1,q1=0,j0=0,nu=null,M8=0;function Xr(){throw Error(r(321))}function nS(s,c){if(c===null)return!1;for(var d=0;d<c.length&&d<s.length;d++)if(!Ai(s[d],c[d]))return!1;return!0}function rS(s,c,d,y,T,k){return io=k,mn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Z.H=s===null||s.memoizedState===null?t4:vS,nc=!1,k=d(y,T),nc=!1,tu&&(k=S3(c,d,y,T)),_3(s),k}function _3(s){Z.H=G0;var c=cr!==null&&cr.next!==null;if(io=0,Gr=cr=mn=null,G1=!1,j0=0,nu=null,c)throw Error(r(300));s===null||qr||(s=s.dependencies,s!==null&&V1(s)&&(qr=!0))}function S3(s,c,d,y){mn=s;var T=0;do{if(tu&&(nu=null),j0=0,tu=!1,25<=T)throw Error(r(301));if(T+=1,Gr=cr=null,s.updateQueue!=null){var k=s.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}Z.H=n4,k=c(d,y)}while(tu);return k}function N8(){var s=Z.H,c=s.useState()[0];return c=typeof c.then=="function"?K0(c):c,s=s.useState()[0],(cr!==null?cr.memoizedState:null)!==s&&(mn.flags|=1024),c}function iS(){var s=q1!==0;return q1=0,s}function sS(s,c,d){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~d}function aS(s){if(G1){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}G1=!1}io=0,Gr=cr=mn=null,tu=!1,j0=q1=0,nu=null}function Fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?mn.memoizedState=Gr=s:Gr=Gr.next=s,Gr}function Dr(){if(cr===null){var s=mn.alternate;s=s!==null?s.memoizedState:null}else s=cr.next;var c=Gr===null?mn.memoizedState:Gr.next;if(c!==null)Gr=c,cr=s;else{if(s===null)throw mn.alternate===null?Error(r(467)):Error(r(310));cr=s,s={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Gr===null?mn.memoizedState=Gr=s:Gr=Gr.next=s}return Gr}function Q1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function K0(s){var c=j0;return j0+=1,nu===null&&(nu=[]),s=u3(nu,s,c),c=mn,(Gr===null?c.memoizedState:Gr.next)===null&&(c=c.alternate,Z.H=c===null||c.memoizedState===null?t4:vS),s}function J1(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return K0(s);if(s.$$typeof===E)return bi(s)}throw Error(r(438,String(s)))}function oS(s){var c=null,d=mn.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var y=mn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Q1(),mn.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(s),y=0;y<s;y++)d[y]=O;return c.index++,d}function so(s,c){return typeof c=="function"?c(s):c}function ey(s){var c=Dr();return lS(c,cr,s)}function lS(s,c,d){var y=s.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var T=s.baseQueue,k=y.pending;if(k!==null){if(T!==null){var $=T.next;T.next=k.next,k.next=$}c.baseQueue=T=k,y.pending=null}if(k=s.baseState,T===null)s.memoizedState=k;else{c=T.next;var le=$=null,Te=null,Ge=c,at=!1;do{var ut=Ge.lane&-536870913;if(ut!==Ge.lane?(An&ut)===ut:(io&ut)===ut){var Qe=Ge.revertLane;if(Qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ut===Gc&&(at=!0);else if((io&Qe)===Qe){Ge=Ge.next,Qe===Gc&&(at=!0);continue}else ut={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(le=Te=ut,$=k):Te=Te.next=ut,mn.lanes|=Qe,Go|=Qe;ut=Ge.action,nc&&d(k,ut),k=Ge.hasEagerState?Ge.eagerState:d(k,ut)}else Qe={lane:ut,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(le=Te=Qe,$=k):Te=Te.next=Qe,mn.lanes|=ut,Go|=ut;Ge=Ge.next}while(Ge!==null&&Ge!==c);if(Te===null?$=k:Te.next=le,!Ai(k,s.memoizedState)&&(qr=!0,at&&(d=qc,d!==null)))throw d;s.memoizedState=k,s.baseState=$,s.baseQueue=Te,y.lastRenderedState=k}return T===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function cS(s){var c=Dr(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var y=d.dispatch,T=d.pending,k=c.memoizedState;if(T!==null){d.pending=null;var $=T=T.next;do k=s(k,$.action),$=$.next;while($!==T);Ai(k,c.memoizedState)||(qr=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),d.lastRenderedState=k}return[k,y]}function b3(s,c,d){var y=mn,T=Dr(),k=Nn;if(k){if(d===void 0)throw Error(r(407));d=d()}else d=c();var $=!Ai((cr||T).memoizedState,d);if($&&(T.memoizedState=d,qr=!0),T=T.queue,dS(T3.bind(null,y,T,s),[s]),T.getSnapshot!==c||$||Gr!==null&&Gr.memoizedState.tag&1){if(y.flags|=2048,ru(9,{destroy:void 0},Y3.bind(null,y,T,d,c),null),mr===null)throw Error(r(349));k||(io&127)!==0||x3(y,c,d)}return d}function x3(s,c,d){s.flags|=16384,s={getSnapshot:c,value:d},c=mn.updateQueue,c===null?(c=Q1(),mn.updateQueue=c,c.stores=[s]):(d=c.stores,d===null?c.stores=[s]:d.push(s))}function Y3(s,c,d,y){c.value=d,c.getSnapshot=y,w3(c)&&W3(s)}function T3(s,c,d){return d(function(){w3(c)&&W3(s)})}function w3(s){var c=s.getSnapshot;s=s.value;try{var d=c();return!Ai(s,d)}catch{return!0}}function W3(s){var c=Wr(s,2);c!==null&&ts(c,s,2)}function uS(s){var c=Fi();if(typeof s=="function"){var d=s;if(s=d(),nc){Se(!0);try{d()}finally{Se(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:s},c}function E3(s,c,d,y){return s.baseState=d,lS(s,cr,typeof y=="function"?y:so)}function O8(s,c,d,y,T){if(ry(s))throw Error(r(485));if(s=c.action,s!==null){var k={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){k.listeners.push($)}};Z.T!==null?d(!0):k.isTransition=!1,y(k),d=c.pending,d===null?(k.next=c.pending=k,U3(c,k)):(k.next=d.next,c.pending=d.next=k)}}function U3(s,c){var d=c.action,y=c.payload,T=s.state;if(c.isTransition){var k=Z.T,$={};Z.T=$;try{var le=d(T,y),Te=Z.S;Te!==null&&Te($,le),C3(s,c,le)}catch(Ge){fS(s,c,Ge)}finally{k!==null&&$.types!==null&&(k.types=$.types),Z.T=k}}else try{k=d(T,y),C3(s,c,k)}catch(Ge){fS(s,c,Ge)}}function C3(s,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(y){A3(s,c,y)},function(y){return fS(s,c,y)}):A3(s,c,d)}function A3(s,c,d){c.status="fulfilled",c.value=d,k3(c),s.state=d,c=s.pending,c!==null&&(d=c.next,d===c?s.pending=null:(d=d.next,c.next=d,U3(s,d)))}function fS(s,c,d){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=d,k3(c),c=c.next;while(c!==y)}s.action=null}function k3(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function I3(s,c){return c}function R3(s,c){if(Nn){var d=mr.formState;if(d!==null){e:{var y=mn;if(Nn){if(xr){t:{for(var T=xr,k=Os;T.nodeType!==8;){if(!k){T=null;break t}if(T=Bs(T.nextSibling),T===null){T=null;break t}}k=T.data,T=k==="F!"||k==="F"?T:null}if(T){xr=Bs(T.nextSibling),y=T.data==="F!";break e}}Vo(y)}y=!1}y&&(c=d[0])}}return d=Fi(),d.memoizedState=d.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I3,lastRenderedState:c},d.queue=y,d=Q3.bind(null,mn,y),y.dispatch=d,y=uS(!1),k=yS.bind(null,mn,!1,y.queue),y=Fi(),T={state:c,dispatch:null,action:s,pending:null},y.queue=T,d=O8.bind(null,mn,T,k,d),T.dispatch=d,y.memoizedState=s,[c,d,!1]}function X3(s){var c=Dr();return P3(c,cr,s)}function P3(s,c,d){if(c=lS(s,c,I3)[0],s=ey(so)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=K0(c)}catch($){throw $===Qc?Z1:$}else y=c;c=Dr();var T=c.queue,k=T.dispatch;return d!==c.memoizedState&&(mn.flags|=2048,ru(9,{destroy:void 0},D8.bind(null,T,d),null)),[y,k,s]}function D8(s,c){s.action=c}function M3(s){var c=Dr(),d=cr;if(d!==null)return P3(c,d,s);Dr(),c=c.memoizedState,d=Dr();var y=d.queue.dispatch;return d.memoizedState=s,[c,y,!1]}function ru(s,c,d,y){return s={tag:s,create:d,deps:y,inst:c,next:null},c=mn.updateQueue,c===null&&(c=Q1(),mn.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=s.next=s:(y=d.next,d.next=s,s.next=y,c.lastEffect=s),s}function N3(){return Dr().memoizedState}function ty(s,c,d,y){var T=Fi();mn.flags|=s,T.memoizedState=ru(1|c,{destroy:void 0},d,y===void 0?null:y)}function ny(s,c,d,y){var T=Dr();y=y===void 0?null:y;var k=T.memoizedState.inst;cr!==null&&y!==null&&nS(y,cr.memoizedState.deps)?T.memoizedState=ru(c,k,d,y):(mn.flags|=s,T.memoizedState=ru(1|c,k,d,y))}function O3(s,c){ty(8390656,8,s,c)}function dS(s,c){ny(2048,8,s,c)}function B8(s){mn.flags|=4;var c=mn.updateQueue;if(c===null)c=Q1(),mn.updateQueue=c,c.events=[s];else{var d=c.events;d===null?c.events=[s]:d.push(s)}}function D3(s){var c=Dr().memoizedState;return B8({ref:c,nextImpl:s}),function(){if((Jn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function B3(s,c){return ny(4,2,s,c)}function V3(s,c){return ny(4,4,s,c)}function F3(s,c){if(typeof c=="function"){s=s();var d=c(s);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function L3(s,c,d){d=d!=null?d.concat([s]):null,ny(4,4,F3.bind(null,c,s),d)}function hS(){}function Z3(s,c){var d=Dr();c=c===void 0?null:c;var y=d.memoizedState;return c!==null&&nS(c,y[1])?y[0]:(d.memoizedState=[s,c],s)}function z3(s,c){var d=Dr();c=c===void 0?null:c;var y=d.memoizedState;if(c!==null&&nS(c,y[1]))return y[0];if(y=s(),nc){Se(!0);try{s()}finally{Se(!1)}}return d.memoizedState=[y,c],y}function pS(s,c,d){return d===void 0||(io&1073741824)!==0&&(An&261930)===0?s.memoizedState=c:(s.memoizedState=d,s=$4(),mn.lanes|=s,Go|=s,d)}function $3(s,c,d,y){return Ai(d,c)?d:eu.current!==null?(s=pS(s,d,y),Ai(s,c)||(qr=!0),s):(io&42)===0||(io&1073741824)!==0&&(An&261930)===0?(qr=!0,s.memoizedState=d):(s=$4(),mn.lanes|=s,Go|=s,c)}function j3(s,c,d,y,T){var k=G.p;G.p=k!==0&&8>k?k:8;var $=Z.T,le={};Z.T=le,yS(s,!1,c,d);try{var Te=T(),Ge=Z.S;if(Ge!==null&&Ge(le,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var at=P8(Te,y);H0(s,c,at,ms(s))}else H0(s,c,y,ms(s))}catch(ut){H0(s,c,{then:function(){},status:"rejected",reason:ut},ms())}finally{G.p=k,$!==null&&le.types!==null&&($.types=le.types),Z.T=$}}function V8(){}function mS(s,c,d,y){if(s.tag!==5)throw Error(r(476));var T=K3(s).queue;j3(s,T,c,q,d===null?V8:function(){return H3(s),d(y)})}function K3(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:q},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:d},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function H3(s){var c=K3(s);c.next===null&&(c=s.alternate.memoizedState),H0(s,c.next.queue,{},ms())}function gS(){return bi(dg)}function G3(){return Dr().memoizedState}function q3(){return Dr().memoizedState}function F8(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var d=ms();s=Zo(d);var y=zo(c,s,d);y!==null&&(ts(y,c,d),Z0(y,c,d)),c={cache:z2()},s.payload=c;return}c=c.return}}function L8(s,c,d){var y=ms();d={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ry(s)?J3(c,d):(d=jr(s,c,d,y),d!==null&&(ts(d,s,y),e4(d,c,y)))}function Q3(s,c,d){var y=ms();H0(s,c,d,y)}function H0(s,c,d,y){var T={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ry(s))J3(c,T);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var $=c.lastRenderedState,le=k($,d);if(T.hasEagerState=!0,T.eagerState=le,Ai(le,$))return en(s,c,T,0),mr===null&&di(),!1}catch{}finally{}if(d=jr(s,c,T,y),d!==null)return ts(d,s,y),e4(d,c,y),!0}return!1}function yS(s,c,d,y){if(y={lane:2,revertLane:HS(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},ry(s)){if(c)throw Error(r(479))}else c=jr(s,d,y,2),c!==null&&ts(c,s,2)}function ry(s){var c=s.alternate;return s===mn||c!==null&&c===mn}function J3(s,c){tu=G1=!0;var d=s.pending;d===null?c.next=c:(c.next=d.next,d.next=c),s.pending=c}function e4(s,c,d){if((d&4194048)!==0){var y=c.lanes;y&=s.pendingLanes,d|=y,c.lanes=d,At(s,d)}}var G0={readContext:bi,use:J1,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr,useHostTransitionStatus:Xr,useFormState:Xr,useActionState:Xr,useOptimistic:Xr,useMemoCache:Xr,useCacheRefresh:Xr};G0.useEffectEvent=Xr;var t4={readContext:bi,use:J1,useCallback:function(s,c){return Fi().memoizedState=[s,c===void 0?null:c],s},useContext:bi,useEffect:O3,useImperativeHandle:function(s,c,d){d=d!=null?d.concat([s]):null,ty(4194308,4,F3.bind(null,c,s),d)},useLayoutEffect:function(s,c){return ty(4194308,4,s,c)},useInsertionEffect:function(s,c){ty(4,2,s,c)},useMemo:function(s,c){var d=Fi();c=c===void 0?null:c;var y=s();if(nc){Se(!0);try{s()}finally{Se(!1)}}return d.memoizedState=[y,c],y},useReducer:function(s,c,d){var y=Fi();if(d!==void 0){var T=d(c);if(nc){Se(!0);try{d(c)}finally{Se(!1)}}}else T=c;return y.memoizedState=y.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},y.queue=s,s=s.dispatch=L8.bind(null,mn,s),[y.memoizedState,s]},useRef:function(s){var c=Fi();return s={current:s},c.memoizedState=s},useState:function(s){s=uS(s);var c=s.queue,d=Q3.bind(null,mn,c);return c.dispatch=d,[s.memoizedState,d]},useDebugValue:hS,useDeferredValue:function(s,c){var d=Fi();return pS(d,s,c)},useTransition:function(){var s=uS(!1);return s=j3.bind(null,mn,s.queue,!0,!1),Fi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,d){var y=mn,T=Fi();if(Nn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),mr===null)throw Error(r(349));(An&127)!==0||x3(y,c,d)}T.memoizedState=d;var k={value:d,getSnapshot:c};return T.queue=k,O3(T3.bind(null,y,k,s),[s]),y.flags|=2048,ru(9,{destroy:void 0},Y3.bind(null,y,k,d,c),null),d},useId:function(){var s=Fi(),c=mr.identifierPrefix;if(Nn){var d=Ta,y=Ya;d=(y&~(1<<32-xe(y)-1)).toString(32)+d,c="_"+c+"R_"+d,d=q1++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=M8++,c="_"+c+"r_"+d.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:gS,useFormState:R3,useActionState:R3,useOptimistic:function(s){var c=Fi();c.memoizedState=c.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=yS.bind(null,mn,!0,d),d.dispatch=c,[s,c]},useMemoCache:oS,useCacheRefresh:function(){return Fi().memoizedState=F8.bind(null,mn)},useEffectEvent:function(s){var c=Fi(),d={impl:s};return c.memoizedState=d,function(){if((Jn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},vS={readContext:bi,use:J1,useCallback:Z3,useContext:bi,useEffect:dS,useImperativeHandle:L3,useInsertionEffect:B3,useLayoutEffect:V3,useMemo:z3,useReducer:ey,useRef:N3,useState:function(){return ey(so)},useDebugValue:hS,useDeferredValue:function(s,c){var d=Dr();return $3(d,cr.memoizedState,s,c)},useTransition:function(){var s=ey(so)[0],c=Dr().memoizedState;return[typeof s=="boolean"?s:K0(s),c]},useSyncExternalStore:b3,useId:G3,useHostTransitionStatus:gS,useFormState:X3,useActionState:X3,useOptimistic:function(s,c){var d=Dr();return E3(d,cr,s,c)},useMemoCache:oS,useCacheRefresh:q3};vS.useEffectEvent=D3;var n4={readContext:bi,use:J1,useCallback:Z3,useContext:bi,useEffect:dS,useImperativeHandle:L3,useInsertionEffect:B3,useLayoutEffect:V3,useMemo:z3,useReducer:cS,useRef:N3,useState:function(){return cS(so)},useDebugValue:hS,useDeferredValue:function(s,c){var d=Dr();return cr===null?pS(d,s,c):$3(d,cr.memoizedState,s,c)},useTransition:function(){var s=cS(so)[0],c=Dr().memoizedState;return[typeof s=="boolean"?s:K0(s),c]},useSyncExternalStore:b3,useId:G3,useHostTransitionStatus:gS,useFormState:M3,useActionState:M3,useOptimistic:function(s,c){var d=Dr();return cr!==null?E3(d,cr,s,c):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:oS,useCacheRefresh:q3};n4.useEffectEvent=D3;function _S(s,c,d,y){c=s.memoizedState,d=d(y,c),d=d==null?c:h({},c,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var SS={enqueueSetState:function(s,c,d){s=s._reactInternals;var y=ms(),T=Zo(y);T.payload=c,d!=null&&(T.callback=d),c=zo(s,T,y),c!==null&&(ts(c,s,y),Z0(c,s,y))},enqueueReplaceState:function(s,c,d){s=s._reactInternals;var y=ms(),T=Zo(y);T.tag=1,T.payload=c,d!=null&&(T.callback=d),c=zo(s,T,y),c!==null&&(ts(c,s,y),Z0(c,s,y))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var d=ms(),y=Zo(d);y.tag=2,c!=null&&(y.callback=c),c=zo(s,y,d),c!==null&&(ts(c,s,d),Z0(c,s,d))}};function r4(s,c,d,y,T,k,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,k,$):c.prototype&&c.prototype.isPureReactComponent?!x(d,y)||!x(T,k):!0}function i4(s,c,d,y){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,y),c.state!==s&&SS.enqueueReplaceState(c,c.state,null)}function rc(s,c){var d=c;if("ref"in c){d={};for(var y in c)y!=="ref"&&(d[y]=c[y])}if(s=s.defaultProps){d===c&&(d=h({},d));for(var T in s)d[T]===void 0&&(d[T]=s[T])}return d}function s4(s){Rt(s)}function a4(s){console.error(s)}function o4(s){Rt(s)}function iy(s,c){try{var d=s.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function l4(s,c,d){try{var y=s.onCaughtError;y(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function bS(s,c,d){return d=Zo(d),d.tag=3,d.payload={element:null},d.callback=function(){iy(s,c)},d}function c4(s){return s=Zo(s),s.tag=3,s}function u4(s,c,d,y){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var k=y.value;s.payload=function(){return T(k)},s.callback=function(){l4(c,d,y)}}var $=d.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){l4(c,d,y),typeof T!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var le=y.stack;this.componentDidCatch(y.value,{componentStack:le!==null?le:""})})}function Z8(s,c,d,y,T){if(d.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=d.alternate,c!==null&&Hc(c,d,T,!0),d=fs.current,d!==null){switch(d.tag){case 31:case 13:return Ds===null?gy():d.alternate===null&&Pr===0&&(Pr=3),d.flags&=-257,d.flags|=65536,d.lanes=T,y===z1?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([y]):c.add(y),$S(s,y,T)),!1;case 22:return d.flags|=65536,y===z1?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([y]):d.add(y)),$S(s,y,T)),!1}throw Error(r(435,d.tag))}return $S(s,y,T),gy(),!1}if(Nn)return c=fs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,y!==B2&&(s=Error(r(422),{cause:y}),D0(Ps(s,d)))):(y!==B2&&(c=Error(r(423),{cause:y}),D0(Ps(c,d))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,y=Ps(y,d),T=bS(s.stateNode,y,T),q2(s,T),Pr!==4&&(Pr=2)),!1;var k=Error(r(520),{cause:y});if(k=Ps(k,d),ig===null?ig=[k]:ig.push(k),Pr!==4&&(Pr=2),c===null)return!0;y=Ps(y,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,s=T&-T,d.lanes|=s,s=bS(d.stateNode,y,s),q2(d,s),!1;case 1:if(c=d.type,k=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(qo===null||!qo.has(k))))return d.flags|=65536,T&=-T,d.lanes|=T,T=c4(T),u4(T,s,d,y),q2(d,T),!1}d=d.return}while(d!==null);return!1}var xS=Error(r(461)),qr=!1;function xi(s,c,d,y){c.child=s===null?p3(c,null,d,y):tc(c,s.child,d,y)}function f4(s,c,d,y,T){d=d.render;var k=c.ref;if("ref"in y){var $={};for(var le in y)le!=="ref"&&($[le]=y[le])}else $=y;return ql(c),y=rS(s,c,d,$,k,T),le=iS(),s!==null&&!qr?(sS(s,c,T),ao(s,c,T)):(Nn&&le&&O2(c),c.flags|=1,xi(s,c,y,T),c.child)}function d4(s,c,d,y,T){if(s===null){var k=d.type;return typeof k=="function"&&!P2(k)&&k.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=k,h4(s,c,k,y,T)):(s=D1(d.type,null,y,c,c.mode,T),s.ref=c.ref,s.return=c,c.child=s)}if(k=s.child,!AS(s,T)){var $=k.memoizedProps;if(d=d.compare,d=d!==null?d:x,d($,y)&&s.ref===c.ref)return ao(s,c,T)}return c.flags|=1,s=eo(k,y),s.ref=c.ref,s.return=c,c.child=s}function h4(s,c,d,y,T){if(s!==null){var k=s.memoizedProps;if(x(k,y)&&s.ref===c.ref)if(qr=!1,c.pendingProps=y=k,AS(s,T))(s.flags&131072)!==0&&(qr=!0);else return c.lanes=s.lanes,ao(s,c,T)}return YS(s,c,d,y,T)}function p4(s,c,d,y){var T=y.children,k=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(k=k!==null?k.baseLanes|d:d,s!==null){for(y=c.child=s.child,T=0;y!==null;)T=T|y.lanes|y.childLanes,y=y.sibling;y=T&~k}else y=0,c.child=null;return m4(s,c,k,d,y)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&L1(c,k!==null?k.cachePool:null),k!==null?y3(c,k):J2(),v3(c);else return y=c.lanes=536870912,m4(s,c,k!==null?k.baseLanes|d:d,d,y)}else k!==null?(L1(c,k.cachePool),y3(c,k),jo(),c.memoizedState=null):(s!==null&&L1(c,null),J2(),jo());return xi(s,c,T,d),c.child}function q0(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function m4(s,c,d,y,T){var k=j2();return k=k===null?null:{parent:Hr._currentValue,pool:k},c.memoizedState={baseLanes:d,cachePool:k},s!==null&&L1(c,null),J2(),v3(c),s!==null&&Hc(s,c,y,!0),c.childLanes=T,null}function sy(s,c){return c=oy({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function g4(s,c,d){return tc(c,s.child,null,d),s=sy(c,c.pendingProps),s.flags|=2,ds(c),c.memoizedState=null,s}function z8(s,c,d){var y=c.pendingProps,T=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Nn){if(y.mode==="hidden")return s=sy(c,y),c.lanes=536870912,q0(null,s);if(tS(c),(s=xr)?(s=UW(s,Os),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Do!==null?{id:Ya,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},d=Jw(s),d.return=c,c.child=d,Si=c,xr=null)):s=null,s===null)throw Vo(c);return c.lanes=536870912,null}return sy(c,y)}var k=s.memoizedState;if(k!==null){var $=k.dehydrated;if(tS(c),T)if(c.flags&256)c.flags&=-257,c=g4(s,c,d);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(qr||Hc(s,c,d,!1),T=(d&s.childLanes)!==0,qr||T){if(y=mr,y!==null&&($=Zt(y,d),$!==0&&$!==k.retryLane))throw k.retryLane=$,Wr(s,$),ts(y,s,$),xS;gy(),c=g4(s,c,d)}else s=k.treeContext,xr=Bs($.nextSibling),Si=c,Nn=!0,Bo=null,Os=!1,s!==null&&n3(c,s),c=sy(c,y),c.flags|=4096;return c}return s=eo(s.child,{mode:y.mode,children:y.children}),s.ref=c.ref,c.child=s,s.return=c,s}function ay(s,c){var d=c.ref;if(d===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(c.flags|=4194816)}}function YS(s,c,d,y,T){return ql(c),d=rS(s,c,d,y,void 0,T),y=iS(),s!==null&&!qr?(sS(s,c,T),ao(s,c,T)):(Nn&&y&&O2(c),c.flags|=1,xi(s,c,d,T),c.child)}function y4(s,c,d,y,T,k){return ql(c),c.updateQueue=null,d=S3(c,y,d,T),_3(s),y=iS(),s!==null&&!qr?(sS(s,c,k),ao(s,c,k)):(Nn&&y&&O2(c),c.flags|=1,xi(s,c,d,k),c.child)}function v4(s,c,d,y,T){if(ql(c),c.stateNode===null){var k=Gi,$=d.contextType;typeof $=="object"&&$!==null&&(k=bi($)),k=new d(y,k),c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=SS,c.stateNode=k,k._reactInternals=c,k=c.stateNode,k.props=y,k.state=c.memoizedState,k.refs={},H2(c),$=d.contextType,k.context=typeof $=="object"&&$!==null?bi($):Gi,k.state=c.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(_S(c,d,$,y),k.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||($=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),$!==k.state&&SS.enqueueReplaceState(k,k.state,null),$0(c,y,k,T),z0(),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(s===null){k=c.stateNode;var le=c.memoizedProps,Te=rc(d,le);k.props=Te;var Ge=k.context,at=d.contextType;$=Gi,typeof at=="object"&&at!==null&&($=bi(at));var ut=d.getDerivedStateFromProps;at=typeof ut=="function"||typeof k.getSnapshotBeforeUpdate=="function",le=c.pendingProps!==le,at||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(le||Ge!==$)&&i4(c,k,y,$),Lo=!1;var Qe=c.memoizedState;k.state=Qe,$0(c,y,k,T),z0(),Ge=c.memoizedState,le||Qe!==Ge||Lo?(typeof ut=="function"&&(_S(c,d,ut,y),Ge=c.memoizedState),(Te=Lo||r4(c,d,Te,y,Qe,Ge,$))?(at||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(c.flags|=4194308)):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Ge),k.props=y,k.state=Ge,k.context=$,y=Te):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{k=c.stateNode,G2(s,c),$=c.memoizedProps,at=rc(d,$),k.props=at,ut=c.pendingProps,Qe=k.context,Ge=d.contextType,Te=Gi,typeof Ge=="object"&&Ge!==null&&(Te=bi(Ge)),le=d.getDerivedStateFromProps,(Ge=typeof le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==ut||Qe!==Te)&&i4(c,k,y,Te),Lo=!1,Qe=c.memoizedState,k.state=Qe,$0(c,y,k,T),z0();var rt=c.memoizedState;$!==ut||Qe!==rt||Lo||s!==null&&s.dependencies!==null&&V1(s.dependencies)?(typeof le=="function"&&(_S(c,d,le,y),rt=c.memoizedState),(at=Lo||r4(c,d,at,y,Qe,rt,Te)||s!==null&&s.dependencies!==null&&V1(s.dependencies))?(Ge||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(y,rt,Te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(y,rt,Te)),typeof k.componentDidUpdate=="function"&&(c.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&Qe===s.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Qe===s.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=rt),k.props=y,k.state=rt,k.context=Te,y=at):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&Qe===s.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Qe===s.memoizedState||(c.flags|=1024),y=!1)}return k=y,ay(s,c),y=(c.flags&128)!==0,k||y?(k=c.stateNode,d=y&&typeof d.getDerivedStateFromError!="function"?null:k.render(),c.flags|=1,s!==null&&y?(c.child=tc(c,s.child,null,T),c.child=tc(c,null,d,T)):xi(s,c,d,T),c.memoizedState=k.state,s=c.child):s=ao(s,c,T),s}function _4(s,c,d,y){return Hl(),c.flags|=256,xi(s,c,d,y),c.child}var TS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wS(s){return{baseLanes:s,cachePool:l3()}}function WS(s,c,d){return s=s!==null?s.childLanes&~d:0,c&&(s|=ps),s}function S4(s,c,d){var y=c.pendingProps,T=!1,k=(c.flags&128)!==0,$;if(($=k)||($=s!==null&&s.memoizedState===null?!1:(Or.current&2)!==0),$&&(T=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(Nn){if(T?$o(c):jo(),(s=xr)?(s=UW(s,Os),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Do!==null?{id:Ya,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},d=Jw(s),d.return=c,c.child=d,Si=c,xr=null)):s=null,s===null)throw Vo(c);return lb(s)?c.lanes=32:c.lanes=536870912,null}var le=y.children;return y=y.fallback,T?(jo(),T=c.mode,le=oy({mode:"hidden",children:le},T),y=Kl(y,T,d,null),le.return=c,y.return=c,le.sibling=y,c.child=le,y=c.child,y.memoizedState=wS(d),y.childLanes=WS(s,$,d),c.memoizedState=TS,q0(null,y)):($o(c),ES(c,le))}var Te=s.memoizedState;if(Te!==null&&(le=Te.dehydrated,le!==null)){if(k)c.flags&256?($o(c),c.flags&=-257,c=US(s,c,d)):c.memoizedState!==null?(jo(),c.child=s.child,c.flags|=128,c=null):(jo(),le=y.fallback,T=c.mode,y=oy({mode:"visible",children:y.children},T),le=Kl(le,T,d,null),le.flags|=2,y.return=c,le.return=c,y.sibling=le,c.child=y,tc(c,s.child,null,d),y=c.child,y.memoizedState=wS(d),y.childLanes=WS(s,$,d),c.memoizedState=TS,c=q0(null,y));else if($o(c),lb(le)){if($=le.nextSibling&&le.nextSibling.dataset,$)var Ge=$.dgst;$=Ge,y=Error(r(419)),y.stack="",y.digest=$,D0({value:y,source:null,stack:null}),c=US(s,c,d)}else if(qr||Hc(s,c,d,!1),$=(d&s.childLanes)!==0,qr||$){if($=mr,$!==null&&(y=Zt($,d),y!==0&&y!==Te.retryLane))throw Te.retryLane=y,Wr(s,y),ts($,s,y),xS;ob(le)||gy(),c=US(s,c,d)}else ob(le)?(c.flags|=192,c.child=s.child,c=null):(s=Te.treeContext,xr=Bs(le.nextSibling),Si=c,Nn=!0,Bo=null,Os=!1,s!==null&&n3(c,s),c=ES(c,y.children),c.flags|=4096);return c}return T?(jo(),le=y.fallback,T=c.mode,Te=s.child,Ge=Te.sibling,y=eo(Te,{mode:"hidden",children:y.children}),y.subtreeFlags=Te.subtreeFlags&65011712,Ge!==null?le=eo(Ge,le):(le=Kl(le,T,d,null),le.flags|=2),le.return=c,y.return=c,y.sibling=le,c.child=y,q0(null,y),y=c.child,le=s.child.memoizedState,le===null?le=wS(d):(T=le.cachePool,T!==null?(Te=Hr._currentValue,T=T.parent!==Te?{parent:Te,pool:Te}:T):T=l3(),le={baseLanes:le.baseLanes|d,cachePool:T}),y.memoizedState=le,y.childLanes=WS(s,$,d),c.memoizedState=TS,q0(s.child,y)):($o(c),d=s.child,s=d.sibling,d=eo(d,{mode:"visible",children:y.children}),d.return=c,d.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=d,c.memoizedState=null,d)}function ES(s,c){return c=oy({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function oy(s,c){return s=us(22,s,null,c),s.lanes=0,s}function US(s,c,d){return tc(c,s.child,null,d),s=ES(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function b4(s,c,d){s.lanes|=c;var y=s.alternate;y!==null&&(y.lanes|=c),L2(s.return,c,d)}function CS(s,c,d,y,T,k){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:T,treeForkCount:k}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=y,$.tail=d,$.tailMode=T,$.treeForkCount=k)}function x4(s,c,d){var y=c.pendingProps,T=y.revealOrder,k=y.tail;y=y.children;var $=Or.current,le=($&2)!==0;if(le?($=$&1|2,c.flags|=128):$&=1,fe(Or,$),xi(s,c,y,d),y=Nn?O0:0,!le&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&b4(s,d,c);else if(s.tag===19)b4(s,d,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(d=c.child,T=null;d!==null;)s=d.alternate,s!==null&&H1(s)===null&&(T=d),d=d.sibling;d=T,d===null?(T=c.child,c.child=null):(T=d.sibling,d.sibling=null),CS(c,!1,T,d,k,y);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=c.child,c.child=null;T!==null;){if(s=T.alternate,s!==null&&H1(s)===null){c.child=T;break}s=T.sibling,T.sibling=d,d=T,T=s}CS(c,!0,d,null,k,y);break;case"together":CS(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function ao(s,c,d){if(s!==null&&(c.dependencies=s.dependencies),Go|=c.lanes,(d&c.childLanes)===0)if(s!==null){if(Hc(s,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,d=eo(s,s.pendingProps),c.child=d,d.return=c;s.sibling!==null;)s=s.sibling,d=d.sibling=eo(s,s.pendingProps),d.return=c;d.sibling=null}return c.child}function AS(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&V1(s)))}function $8(s,c,d){switch(c.tag){case 3:pe(c,c.stateNode.containerInfo),Fo(c,Hr,s.memoizedState.cache),Hl();break;case 27:case 5:$e(c);break;case 4:pe(c,c.stateNode.containerInfo);break;case 10:Fo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,tS(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?($o(c),c.flags|=128,null):(d&c.child.childLanes)!==0?S4(s,c,d):($o(c),s=ao(s,c,d),s!==null?s.sibling:null);$o(c);break;case 19:var T=(s.flags&128)!==0;if(y=(d&c.childLanes)!==0,y||(Hc(s,c,d,!1),y=(d&c.childLanes)!==0),T){if(y)return x4(s,c,d);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),fe(Or,Or.current),y)break;return null;case 22:return c.lanes=0,p4(s,c,d,c.pendingProps);case 24:Fo(c,Hr,s.memoizedState.cache)}return ao(s,c,d)}function Y4(s,c,d){if(s!==null)if(s.memoizedProps!==c.pendingProps)qr=!0;else{if(!AS(s,d)&&(c.flags&128)===0)return qr=!1,$8(s,c,d);qr=(s.flags&131072)!==0}else qr=!1,Nn&&(c.flags&1048576)!==0&&t3(c,O0,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(s=Jl(c.elementType),c.type=s,typeof s=="function")P2(s)?(y=rc(s,y),c.tag=1,c=v4(null,c,s,y,d)):(c.tag=0,c=YS(null,c,s,y,d));else{if(s!=null){var T=s.$$typeof;if(T===M){c.tag=11,c=f4(null,c,s,y,d);break e}else if(T===w){c.tag=14,c=d4(null,c,s,y,d);break e}}throw c=R(s)||s,Error(r(306,c,""))}}return c;case 0:return YS(s,c,c.type,c.pendingProps,d);case 1:return y=c.type,T=rc(y,c.pendingProps),v4(s,c,y,T,d);case 3:e:{if(pe(c,c.stateNode.containerInfo),s===null)throw Error(r(387));y=c.pendingProps;var k=c.memoizedState;T=k.element,G2(s,c),$0(c,y,null,d);var $=c.memoizedState;if(y=$.cache,Fo(c,Hr,y),y!==k.cache&&Z2(c,[Hr],d,!0),z0(),y=$.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){c=_4(s,c,y,d);break e}else if(y!==T){T=Ps(Error(r(424)),c),D0(T),c=_4(s,c,y,d);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xr=Bs(s.firstChild),Si=c,Nn=!0,Bo=null,Os=!0,d=p3(c,null,y,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Hl(),y===T){c=ao(s,c,d);break e}xi(s,c,y,d)}c=c.child}return c;case 26:return ay(s,c),s===null?(d=XW(c.type,null,c.pendingProps,null))?c.memoizedState=d:Nn||(d=c.type,s=c.pendingProps,y=Yy(ae.current).createElement(d),y[nn]=c,y[rn]=s,Yi(y,d,s),or(y),c.stateNode=y):c.memoizedState=XW(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return $e(c),s===null&&Nn&&(y=c.stateNode=kW(c.type,c.pendingProps,ae.current),Si=c,Os=!0,T=xr,tl(c.type)?(cb=T,xr=Bs(y.firstChild)):xr=T),xi(s,c,c.pendingProps.children,d),ay(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Nn&&((T=y=xr)&&(y=xM(y,c.type,c.pendingProps,Os),y!==null?(c.stateNode=y,Si=c,xr=Bs(y.firstChild),Os=!1,T=!0):T=!1),T||Vo(c)),$e(c),T=c.type,k=c.pendingProps,$=s!==null?s.memoizedProps:null,y=k.children,ib(T,k)?y=null:$!==null&&ib(T,$)&&(c.flags|=32),c.memoizedState!==null&&(T=rS(s,c,N8,null,null,d),dg._currentValue=T),ay(s,c),xi(s,c,y,d),c.child;case 6:return s===null&&Nn&&((s=d=xr)&&(d=YM(d,c.pendingProps,Os),d!==null?(c.stateNode=d,Si=c,xr=null,s=!0):s=!1),s||Vo(c)),null;case 13:return S4(s,c,d);case 4:return pe(c,c.stateNode.containerInfo),y=c.pendingProps,s===null?c.child=tc(c,null,y,d):xi(s,c,y,d),c.child;case 11:return f4(s,c,c.type,c.pendingProps,d);case 7:return xi(s,c,c.pendingProps,d),c.child;case 8:return xi(s,c,c.pendingProps.children,d),c.child;case 12:return xi(s,c,c.pendingProps.children,d),c.child;case 10:return y=c.pendingProps,Fo(c,c.type,y.value),xi(s,c,y.children,d),c.child;case 9:return T=c.type._context,y=c.pendingProps.children,ql(c),T=bi(T),y=y(T),c.flags|=1,xi(s,c,y,d),c.child;case 14:return d4(s,c,c.type,c.pendingProps,d);case 15:return h4(s,c,c.type,c.pendingProps,d);case 19:return x4(s,c,d);case 31:return z8(s,c,d);case 22:return p4(s,c,d,c.pendingProps);case 24:return ql(c),y=bi(Hr),s===null?(T=j2(),T===null&&(T=mr,k=z2(),T.pooledCache=k,k.refCount++,k!==null&&(T.pooledCacheLanes|=d),T=k),c.memoizedState={parent:y,cache:T},H2(c),Fo(c,Hr,T)):((s.lanes&d)!==0&&(G2(s,c),$0(c,null,null,d),z0()),T=s.memoizedState,k=c.memoizedState,T.parent!==y?(T={parent:y,cache:y},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),Fo(c,Hr,y)):(y=k.cache,Fo(c,Hr,y),y!==T.cache&&Z2(c,[Hr],d,!0))),xi(s,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function oo(s){s.flags|=4}function kS(s,c,d,y,T){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(G4())s.flags|=8192;else throw ec=z1,K2}else s.flags&=-16777217}function T4(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!DW(c))if(G4())s.flags|=8192;else throw ec=z1,K2}function ly(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?dt():536870912,s.lanes|=c,ou|=c)}function Q0(s,c){if(!Nn)switch(s.tailMode){case"hidden":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Yr(s){var c=s.alternate!==null&&s.alternate.child===s.child,d=0,y=0;if(c)for(var T=s.child;T!==null;)d|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)d|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=y,s.childLanes=d,c}function j8(s,c,d){var y=c.pendingProps;switch(D2(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(c),null;case 1:return Yr(c),null;case 3:return d=c.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),ro(Hr),ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Kc(c)?oo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,V2())),Yr(c),null;case 26:var T=c.type,k=c.memoizedState;return s===null?(oo(c),k!==null?(Yr(c),T4(c,k)):(Yr(c),kS(c,T,null,y,d))):k?k!==s.memoizedState?(oo(c),Yr(c),T4(c,k)):(Yr(c),c.flags&=-16777217):(s=s.memoizedProps,s!==y&&oo(c),Yr(c),kS(c,T,s,y,d)),null;case 27:if(Pe(c),d=ae.current,T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==y&&oo(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Yr(c),null}s=J.current,Kc(c)?r3(c):(s=kW(T,y,d),c.stateNode=s,oo(c))}return Yr(c),null;case 5:if(Pe(c),T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==y&&oo(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Yr(c),null}if(k=J.current,Kc(c))r3(c);else{var $=Yy(ae.current);switch(k){case 1:k=$.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:k=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":k=$.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":k=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":k=$.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof y.is=="string"?$.createElement("select",{is:y.is}):$.createElement("select"),y.multiple?k.multiple=!0:y.size&&(k.size=y.size);break;default:k=typeof y.is=="string"?$.createElement(T,{is:y.is}):$.createElement(T)}}k[nn]=c,k[rn]=y;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)k.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=k;e:switch(Yi(k,T,y),T){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&oo(c)}}return Yr(c),kS(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,d),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==y&&oo(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(s=ae.current,Kc(c)){if(s=c.stateNode,d=c.memoizedProps,y=null,T=Si,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}s[nn]=c,s=!!(s.nodeValue===d||y!==null&&y.suppressHydrationWarning===!0||SW(s.nodeValue,d)),s||Vo(c,!0)}else s=Yy(s).createTextNode(y),s[nn]=c,c.stateNode=s}return Yr(c),null;case 31:if(d=c.memoizedState,s===null||s.memoizedState!==null){if(y=Kc(c),d!==null){if(s===null){if(!y)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[nn]=c}else Hl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yr(c),s=!1}else d=V2(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return c.flags&256?(ds(c),c):(ds(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Yr(c),null;case 13:if(y=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Kc(c),y!==null&&y.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[nn]=c}else Hl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yr(c),T=!1}else T=V2(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(ds(c),c):(ds(c),null)}return ds(c),(c.flags&128)!==0?(c.lanes=d,c):(d=y!==null,s=s!==null&&s.memoizedState!==null,d&&(y=c.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool),k=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(k=y.memoizedState.cachePool.pool),k!==T&&(y.flags|=2048)),d!==s&&d&&(c.child.flags|=8192),ly(c,c.updateQueue),Yr(c),null);case 4:return ve(),s===null&&JS(c.stateNode.containerInfo),Yr(c),null;case 10:return ro(c.type),Yr(c),null;case 19:if(te(Or),y=c.memoizedState,y===null)return Yr(c),null;if(T=(c.flags&128)!==0,k=y.rendering,k===null)if(T)Q0(y,!1);else{if(Pr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(k=H1(s),k!==null){for(c.flags|=128,Q0(y,!1),s=k.updateQueue,c.updateQueue=s,ly(c,s),c.subtreeFlags=0,s=d,d=c.child;d!==null;)Qw(d,s),d=d.sibling;return fe(Or,Or.current&1|2),Nn&&to(c,y.treeForkCount),c.child}s=s.sibling}y.tail!==null&&et()>hy&&(c.flags|=128,T=!0,Q0(y,!1),c.lanes=4194304)}else{if(!T)if(s=H1(k),s!==null){if(c.flags|=128,T=!0,s=s.updateQueue,c.updateQueue=s,ly(c,s),Q0(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!Nn)return Yr(c),null}else 2*et()-y.renderingStartTime>hy&&d!==536870912&&(c.flags|=128,T=!0,Q0(y,!1),c.lanes=4194304);y.isBackwards?(k.sibling=c.child,c.child=k):(s=y.last,s!==null?s.sibling=k:c.child=k,y.last=k)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=et(),s.sibling=null,d=Or.current,fe(Or,T?d&1|2:d&1),Nn&&to(c,y.treeForkCount),s):(Yr(c),null);case 22:case 23:return ds(c),eS(),y=c.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(d&536870912)!==0&&(c.flags&128)===0&&(Yr(c),c.subtreeFlags&6&&(c.flags|=8192)):Yr(c),d=c.updateQueue,d!==null&&ly(c,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048),s!==null&&te(Ql),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ro(Hr),Yr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function K8(s,c){switch(D2(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ro(Hr),ve(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Pe(c),null;case 31:if(c.memoizedState!==null){if(ds(c),c.alternate===null)throw Error(r(340));Hl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ds(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Hl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return te(Or),null;case 4:return ve(),null;case 10:return ro(c.type),null;case 22:case 23:return ds(c),eS(),s!==null&&te(Ql),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ro(Hr),null;case 25:return null;default:return null}}function w4(s,c){switch(D2(c),c.tag){case 3:ro(Hr),ve();break;case 26:case 27:case 5:Pe(c);break;case 4:ve();break;case 31:c.memoizedState!==null&&ds(c);break;case 13:ds(c);break;case 19:te(Or);break;case 10:ro(c.type);break;case 22:case 23:ds(c),eS(),s!==null&&te(Ql);break;case 24:ro(Hr)}}function J0(s,c){try{var d=c.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var T=y.next;d=T;do{if((d.tag&s)===s){y=void 0;var k=d.create,$=d.inst;y=k(),$.destroy=y}d=d.next}while(d!==T)}}catch(le){ar(c,c.return,le)}}function Ko(s,c,d){try{var y=c.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var k=T.next;y=k;do{if((y.tag&s)===s){var $=y.inst,le=$.destroy;if(le!==void 0){$.destroy=void 0,T=c;var Te=d,Ge=le;try{Ge()}catch(at){ar(T,Te,at)}}}y=y.next}while(y!==k)}}catch(at){ar(c,c.return,at)}}function W4(s){var c=s.updateQueue;if(c!==null){var d=s.stateNode;try{g3(c,d)}catch(y){ar(s,s.return,y)}}}function E4(s,c,d){d.props=rc(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(y){ar(s,c,y)}}function eg(s,c){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof d=="function"?s.refCleanup=d(y):d.current=y}}catch(T){ar(s,c,T)}}function wa(s,c){var d=s.ref,y=s.refCleanup;if(d!==null)if(typeof y=="function")try{y()}catch(T){ar(s,c,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){ar(s,c,T)}else d.current=null}function U4(s){var c=s.type,d=s.memoizedProps,y=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&y.focus();break e;case"img":d.src?y.src=d.src:d.srcSet&&(y.srcset=d.srcSet)}}catch(T){ar(s,s.return,T)}}function IS(s,c,d){try{var y=s.stateNode;gM(y,s.type,d,c),y[rn]=c}catch(T){ar(s,s.return,T)}}function C4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&tl(s.type)||s.tag===4}function RS(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||C4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&tl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function XS(s,c,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(s),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Zr));else if(y!==4&&(y===27&&tl(s.type)&&(d=s.stateNode,c=null),s=s.child,s!==null))for(XS(s,c,d),s=s.sibling;s!==null;)XS(s,c,d),s=s.sibling}function cy(s,c,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,c?d.insertBefore(s,c):d.appendChild(s);else if(y!==4&&(y===27&&tl(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(cy(s,c,d),s=s.sibling;s!==null;)cy(s,c,d),s=s.sibling}function A4(s){var c=s.stateNode,d=s.memoizedProps;try{for(var y=s.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);Yi(c,y,d),c[nn]=s,c[rn]=d}catch(k){ar(s,s.return,k)}}var lo=!1,Qr=!1,PS=!1,k4=typeof WeakSet=="function"?WeakSet:Set,hi=null;function H8(s,c){if(s=s.containerInfo,nb=Ay,s=H(s),ne(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var T=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var $=0,le=-1,Te=-1,Ge=0,at=0,ut=s,Qe=null;t:for(;;){for(var rt;ut!==d||T!==0&&ut.nodeType!==3||(le=$+T),ut!==k||y!==0&&ut.nodeType!==3||(Te=$+y),ut.nodeType===3&&($+=ut.nodeValue.length),(rt=ut.firstChild)!==null;)Qe=ut,ut=rt;for(;;){if(ut===s)break t;if(Qe===d&&++Ge===T&&(le=$),Qe===k&&++at===y&&(Te=$),(rt=ut.nextSibling)!==null)break;ut=Qe,Qe=ut.parentNode}ut=rt}d=le===-1||Te===-1?null:{start:le,end:Te}}else d=null}d=d||{start:0,end:0}}else d=null;for(rb={focusedElem:s,selectionRange:d},Ay=!1,hi=c;hi!==null;)if(c=hi,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,hi=s;else for(;hi!==null;){switch(c=hi,k=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)T=s[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&k!==null){s=void 0,d=c,T=k.memoizedProps,k=k.memoizedState,y=d.stateNode;try{var Dt=rc(d.type,T);s=y.getSnapshotBeforeUpdate(Dt,k),y.__reactInternalSnapshotBeforeUpdate=s}catch(Qt){ar(d,d.return,Qt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,d=s.nodeType,d===9)ab(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ab(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,hi=s;break}hi=c.return}}function I4(s,c,d){var y=d.flags;switch(d.tag){case 0:case 11:case 15:uo(s,d),y&4&&J0(5,d);break;case 1:if(uo(s,d),y&4)if(s=d.stateNode,c===null)try{s.componentDidMount()}catch($){ar(d,d.return,$)}else{var T=rc(d.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(T,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){ar(d,d.return,$)}}y&64&&W4(d),y&512&&eg(d,d.return);break;case 3:if(uo(s,d),y&64&&(s=d.updateQueue,s!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{g3(s,c)}catch($){ar(d,d.return,$)}}break;case 27:c===null&&y&4&&A4(d);case 26:case 5:uo(s,d),c===null&&y&4&&U4(d),y&512&&eg(d,d.return);break;case 12:uo(s,d);break;case 31:uo(s,d),y&4&&P4(s,d);break;case 13:uo(s,d),y&4&&M4(s,d),y&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=iM.bind(null,d),TM(s,d))));break;case 22:if(y=d.memoizedState!==null||lo,!y){c=c!==null&&c.memoizedState!==null||Qr,T=lo;var k=Qr;lo=y,(Qr=c)&&!k?fo(s,d,(d.subtreeFlags&8772)!==0):uo(s,d),lo=T,Qr=k}break;case 30:break;default:uo(s,d)}}function R4(s){var c=s.alternate;c!==null&&(s.alternate=null,R4(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&as(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Er=null,qi=!1;function co(s,c,d){for(d=d.child;d!==null;)X4(s,c,d),d=d.sibling}function X4(s,c,d){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(De,d)}catch{}switch(d.tag){case 26:Qr||wa(d,c),co(s,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Qr||wa(d,c);var y=Er,T=qi;tl(d.type)&&(Er=d.stateNode,qi=!1),co(s,c,d),cg(d.stateNode),Er=y,qi=T;break;case 5:Qr||wa(d,c);case 6:if(y=Er,T=qi,Er=null,co(s,c,d),Er=y,qi=T,Er!==null)if(qi)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(d.stateNode)}catch(k){ar(d,c,k)}else try{Er.removeChild(d.stateNode)}catch(k){ar(d,c,k)}break;case 18:Er!==null&&(qi?(s=Er,WW(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),mu(s)):WW(Er,d.stateNode));break;case 4:y=Er,T=qi,Er=d.stateNode.containerInfo,qi=!0,co(s,c,d),Er=y,qi=T;break;case 0:case 11:case 14:case 15:Ko(2,d,c),Qr||Ko(4,d,c),co(s,c,d);break;case 1:Qr||(wa(d,c),y=d.stateNode,typeof y.componentWillUnmount=="function"&&E4(d,c,y)),co(s,c,d);break;case 21:co(s,c,d);break;case 22:Qr=(y=Qr)||d.memoizedState!==null,co(s,c,d),Qr=y;break;default:co(s,c,d)}}function P4(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{mu(s)}catch(d){ar(c,c.return,d)}}}function M4(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mu(s)}catch(d){ar(c,c.return,d)}}function G8(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new k4),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new k4),c;default:throw Error(r(435,s.tag))}}function uy(s,c){var d=G8(s);c.forEach(function(y){if(!d.has(y)){d.add(y);var T=sM.bind(null,s,y);y.then(T,T)}})}function Qi(s,c){var d=c.deletions;if(d!==null)for(var y=0;y<d.length;y++){var T=d[y],k=s,$=c,le=$;e:for(;le!==null;){switch(le.tag){case 27:if(tl(le.type)){Er=le.stateNode,qi=!1;break e}break;case 5:Er=le.stateNode,qi=!1;break e;case 3:case 4:Er=le.stateNode.containerInfo,qi=!0;break e}le=le.return}if(Er===null)throw Error(r(160));X4(k,$,T),Er=null,qi=!1,k=T.alternate,k!==null&&(k.return=null),T.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)N4(c,s),c=c.sibling}var ta=null;function N4(s,c){var d=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qi(c,s),Ji(s),y&4&&(Ko(3,s,s.return),J0(3,s),Ko(5,s,s.return));break;case 1:Qi(c,s),Ji(s),y&512&&(Qr||d===null||wa(d,d.return)),y&64&&lo&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?y:d.concat(y))));break;case 26:var T=ta;if(Qi(c,s),Ji(s),y&512&&(Qr||d===null||wa(d,d.return)),y&4){var k=d!==null?d.memoizedState:null;if(y=s.memoizedState,d===null)if(y===null)if(s.stateNode===null){e:{y=s.type,d=s.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":k=T.getElementsByTagName("title")[0],(!k||k[Br]||k[nn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=T.createElement(y),T.head.insertBefore(k,T.querySelector("head > title"))),Yi(k,y,d),k[nn]=s,or(k),y=k;break e;case"link":var $=NW("link","href",T).get(y+(d.href||""));if($){for(var le=0;le<$.length;le++)if(k=$[le],k.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&k.getAttribute("rel")===(d.rel==null?null:d.rel)&&k.getAttribute("title")===(d.title==null?null:d.title)&&k.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){$.splice(le,1);break t}}k=T.createElement(y),Yi(k,y,d),T.head.appendChild(k);break;case"meta":if($=NW("meta","content",T).get(y+(d.content||""))){for(le=0;le<$.length;le++)if(k=$[le],k.getAttribute("content")===(d.content==null?null:""+d.content)&&k.getAttribute("name")===(d.name==null?null:d.name)&&k.getAttribute("property")===(d.property==null?null:d.property)&&k.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&k.getAttribute("charset")===(d.charSet==null?null:d.charSet)){$.splice(le,1);break t}}k=T.createElement(y),Yi(k,y,d),T.head.appendChild(k);break;default:throw Error(r(468,y))}k[nn]=s,or(k),y=k}s.stateNode=y}else OW(T,s.type,s.stateNode);else s.stateNode=MW(T,y,s.memoizedProps);else k!==y?(k===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):k.count--,y===null?OW(T,s.type,s.stateNode):MW(T,y,s.memoizedProps)):y===null&&s.stateNode!==null&&IS(s,s.memoizedProps,d.memoizedProps)}break;case 27:Qi(c,s),Ji(s),y&512&&(Qr||d===null||wa(d,d.return)),d!==null&&y&4&&IS(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Qi(c,s),Ji(s),y&512&&(Qr||d===null||wa(d,d.return)),s.flags&32){T=s.stateNode;try{si(T,"")}catch(Dt){ar(s,s.return,Dt)}}y&4&&s.stateNode!=null&&(T=s.memoizedProps,IS(s,T,d!==null?d.memoizedProps:T)),y&1024&&(PS=!0);break;case 6:if(Qi(c,s),Ji(s),y&4){if(s.stateNode===null)throw Error(r(162));y=s.memoizedProps,d=s.stateNode;try{d.nodeValue=y}catch(Dt){ar(s,s.return,Dt)}}break;case 3:if(Wy=null,T=ta,ta=Ty(c.containerInfo),Qi(c,s),ta=T,Ji(s),y&4&&d!==null&&d.memoizedState.isDehydrated)try{mu(c.containerInfo)}catch(Dt){ar(s,s.return,Dt)}PS&&(PS=!1,O4(s));break;case 4:y=ta,ta=Ty(s.stateNode.containerInfo),Qi(c,s),Ji(s),ta=y;break;case 12:Qi(c,s),Ji(s);break;case 31:Qi(c,s),Ji(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,uy(s,y)));break;case 13:Qi(c,s),Ji(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(dy=et()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,uy(s,y)));break;case 22:T=s.memoizedState!==null;var Te=d!==null&&d.memoizedState!==null,Ge=lo,at=Qr;if(lo=Ge||T,Qr=at||Te,Qi(c,s),Qr=at,lo=Ge,Ji(s),y&8192)e:for(c=s.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(d===null||Te||lo||Qr||ic(s)),d=null,c=s;;){if(c.tag===5||c.tag===26){if(d===null){Te=d=c;try{if(k=Te.stateNode,T)$=k.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{le=Te.stateNode;var ut=Te.memoizedProps.style,Qe=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;le.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Dt){ar(Te,Te.return,Dt)}}}else if(c.tag===6){if(d===null){Te=c;try{Te.stateNode.nodeValue=T?"":Te.memoizedProps}catch(Dt){ar(Te,Te.return,Dt)}}}else if(c.tag===18){if(d===null){Te=c;try{var rt=Te.stateNode;T?EW(rt,!0):EW(Te.stateNode,!1)}catch(Dt){ar(Te,Te.return,Dt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=s.updateQueue,y!==null&&(d=y.retryQueue,d!==null&&(y.retryQueue=null,uy(s,d))));break;case 19:Qi(c,s),Ji(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,uy(s,y)));break;case 30:break;case 21:break;default:Qi(c,s),Ji(s)}}function Ji(s){var c=s.flags;if(c&2){try{for(var d,y=s.return;y!==null;){if(C4(y)){d=y;break}y=y.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,k=RS(s);cy(s,k,T);break;case 5:var $=d.stateNode;d.flags&32&&(si($,""),d.flags&=-33);var le=RS(s);cy(s,le,$);break;case 3:case 4:var Te=d.stateNode.containerInfo,Ge=RS(s);XS(s,Ge,Te);break;default:throw Error(r(161))}}catch(at){ar(s,s.return,at)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function O4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;O4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function uo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)I4(s,c.alternate,c),c=c.sibling}function ic(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Ko(4,c,c.return),ic(c);break;case 1:wa(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&E4(c,c.return,d),ic(c);break;case 27:cg(c.stateNode);case 26:case 5:wa(c,c.return),ic(c);break;case 22:c.memoizedState===null&&ic(c);break;case 30:ic(c);break;default:ic(c)}s=s.sibling}}function fo(s,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,T=s,k=c,$=k.flags;switch(k.tag){case 0:case 11:case 15:fo(T,k,d),J0(4,k);break;case 1:if(fo(T,k,d),y=k,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ge){ar(y,y.return,Ge)}if(y=k,T=y.updateQueue,T!==null){var le=y.stateNode;try{var Te=T.shared.hiddenCallbacks;if(Te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Te.length;T++)m3(Te[T],le)}catch(Ge){ar(y,y.return,Ge)}}d&&$&64&&W4(k),eg(k,k.return);break;case 27:A4(k);case 26:case 5:fo(T,k,d),d&&y===null&&$&4&&U4(k),eg(k,k.return);break;case 12:fo(T,k,d);break;case 31:fo(T,k,d),d&&$&4&&P4(T,k);break;case 13:fo(T,k,d),d&&$&4&&M4(T,k);break;case 22:k.memoizedState===null&&fo(T,k,d),eg(k,k.return);break;case 30:break;default:fo(T,k,d)}c=c.sibling}}function MS(s,c){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&B0(d))}function NS(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&B0(s))}function na(s,c,d,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)D4(s,c,d,y),c=c.sibling}function D4(s,c,d,y){var T=c.flags;switch(c.tag){case 0:case 11:case 15:na(s,c,d,y),T&2048&&J0(9,c);break;case 1:na(s,c,d,y);break;case 3:na(s,c,d,y),T&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&B0(s)));break;case 12:if(T&2048){na(s,c,d,y),s=c.stateNode;try{var k=c.memoizedProps,$=k.id,le=k.onPostCommit;typeof le=="function"&&le($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Te){ar(c,c.return,Te)}}else na(s,c,d,y);break;case 31:na(s,c,d,y);break;case 13:na(s,c,d,y);break;case 23:break;case 22:k=c.stateNode,$=c.alternate,c.memoizedState!==null?k._visibility&2?na(s,c,d,y):tg(s,c):k._visibility&2?na(s,c,d,y):(k._visibility|=2,iu(s,c,d,y,(c.subtreeFlags&10256)!==0||!1)),T&2048&&MS($,c);break;case 24:na(s,c,d,y),T&2048&&NS(c.alternate,c);break;default:na(s,c,d,y)}}function iu(s,c,d,y,T){for(T=T&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var k=s,$=c,le=d,Te=y,Ge=$.flags;switch($.tag){case 0:case 11:case 15:iu(k,$,le,Te,T),J0(8,$);break;case 23:break;case 22:var at=$.stateNode;$.memoizedState!==null?at._visibility&2?iu(k,$,le,Te,T):tg(k,$):(at._visibility|=2,iu(k,$,le,Te,T)),T&&Ge&2048&&MS($.alternate,$);break;case 24:iu(k,$,le,Te,T),T&&Ge&2048&&NS($.alternate,$);break;default:iu(k,$,le,Te,T)}c=c.sibling}}function tg(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=s,y=c,T=y.flags;switch(y.tag){case 22:tg(d,y),T&2048&&MS(y.alternate,y);break;case 24:tg(d,y),T&2048&&NS(y.alternate,y);break;default:tg(d,y)}c=c.sibling}}var ng=8192;function su(s,c,d){if(s.subtreeFlags&ng)for(s=s.child;s!==null;)B4(s,c,d),s=s.sibling}function B4(s,c,d){switch(s.tag){case 26:su(s,c,d),s.flags&ng&&s.memoizedState!==null&&MM(d,ta,s.memoizedState,s.memoizedProps);break;case 5:su(s,c,d);break;case 3:case 4:var y=ta;ta=Ty(s.stateNode.containerInfo),su(s,c,d),ta=y;break;case 22:s.memoizedState===null&&(y=s.alternate,y!==null&&y.memoizedState!==null?(y=ng,ng=16777216,su(s,c,d),ng=y):su(s,c,d));break;default:su(s,c,d)}}function V4(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function rg(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var y=c[d];hi=y,L4(y,s)}V4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F4(s),s=s.sibling}function F4(s){switch(s.tag){case 0:case 11:case 15:rg(s),s.flags&2048&&Ko(9,s,s.return);break;case 3:rg(s);break;case 12:rg(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,fy(s)):rg(s);break;default:rg(s)}}function fy(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var y=c[d];hi=y,L4(y,s)}V4(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Ko(8,c,c.return),fy(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,fy(c));break;default:fy(c)}s=s.sibling}}function L4(s,c){for(;hi!==null;){var d=hi;switch(d.tag){case 0:case 11:case 15:Ko(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var y=d.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:B0(d.memoizedState.cache)}if(y=d.child,y!==null)y.return=d,hi=y;else e:for(d=s;hi!==null;){y=hi;var T=y.sibling,k=y.return;if(R4(y),y===d){hi=null;break e}if(T!==null){T.return=k,hi=T;break e}hi=k}}}var q8={getCacheForType:function(s){var c=bi(Hr),d=c.data.get(s);return d===void 0&&(d=s(),c.data.set(s,d)),d},cacheSignal:function(){return bi(Hr).controller.signal}},Q8=typeof WeakMap=="function"?WeakMap:Map,Jn=0,mr=null,Wn=null,An=0,sr=0,hs=null,Ho=!1,au=!1,OS=!1,ho=0,Pr=0,Go=0,sc=0,DS=0,ps=0,ou=0,ig=null,es=null,BS=!1,dy=0,Z4=0,hy=1/0,py=null,qo=null,oi=0,Qo=null,lu=null,po=0,VS=0,FS=null,z4=null,sg=0,LS=null;function ms(){return(Jn&2)!==0&&An!==0?An&-An:Z.T!==null?HS():Ir()}function $4(){if(ps===0)if((An&536870912)===0||Nn){var s=Le;Le<<=1,(Le&3932160)===0&&(Le=262144),ps=s}else ps=536870912;return s=fs.current,s!==null&&(s.flags|=32),ps}function ts(s,c,d){(s===mr&&(sr===2||sr===9)||s.cancelPendingCommit!==null)&&(cu(s,0),Jo(s,An,ps,!1)),kt(s,d),((Jn&2)===0||s!==mr)&&(s===mr&&((Jn&2)===0&&(sc|=d),Pr===4&&Jo(s,An,ps,!1)),Wa(s))}function j4(s,c,d){if((Jn&6)!==0)throw Error(r(327));var y=!d&&(c&127)===0&&(c&s.expiredLanes)===0||Me(s,c),T=y?tM(s,c):zS(s,c,!0),k=y;do{if(T===0){au&&!y&&Jo(s,c,0,!1);break}else{if(d=s.current.alternate,k&&!J8(d)){T=zS(s,c,!1),k=!1;continue}if(T===2){if(k=c,s.errorRecoveryDisabledLanes&k)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var le=s;T=ig;var Te=le.current.memoizedState.isDehydrated;if(Te&&(cu(le,$).flags|=256),$=zS(le,$,!1),$!==2){if(OS&&!Te){le.errorRecoveryDisabledLanes|=k,sc|=k,T=4;break e}k=es,es=T,k!==null&&(es===null?es=k:es.push.apply(es,k))}T=$}if(k=!1,T!==2)continue}}if(T===1){cu(s,0),Jo(s,c,0,!0);break}e:{switch(y=s,k=T,k){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Jo(y,c,ps,!Ho);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=dy+300-et(),10<T)){if(Jo(y,c,ps,!Ho),ye(y,0,!0)!==0)break e;po=c,y.timeoutHandle=TW(K4.bind(null,y,d,es,py,BS,c,ps,sc,ou,Ho,k,"Throttled",-0,0),T);break e}K4(y,d,es,py,BS,c,ps,sc,ou,Ho,k,null,-0,0)}}break}while(!0);Wa(s)}function K4(s,c,d,y,T,k,$,le,Te,Ge,at,ut,Qe,rt){if(s.timeoutHandle=-1,ut=c.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zr},B4(c,k,ut);var Dt=(k&62914560)===k?dy-et():(k&4194048)===k?Z4-et():0;if(Dt=NM(ut,Dt),Dt!==null){po=k,s.cancelPendingCommit=Dt(nW.bind(null,s,c,k,d,y,T,$,le,Te,at,ut,null,Qe,rt)),Jo(s,k,$,!Ge);return}}nW(s,c,k,d,y,T,$,le,Te)}function J8(s){for(var c=s;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var y=0;y<d.length;y++){var T=d[y],k=T.getSnapshot;T=T.value;try{if(!Ai(k(),T))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Jo(s,c,d,y){c&=~DS,c&=~sc,s.suspendedLanes|=c,s.pingedLanes&=~c,y&&(s.warmLanes|=c),y=s.expirationTimes;for(var T=c;0<T;){var k=31-xe(T),$=1<<k;y[k]=-1,T&=~$}d!==0&&hn(s,d,c)}function my(){return(Jn&6)===0?(ag(0),!1):!0}function ZS(){if(Wn!==null){if(sr===0)var s=Wn.return;else s=Wn,no=Gl=null,aS(s),Jc=null,F0=0,s=Wn;for(;s!==null;)w4(s.alternate,s),s=s.return;Wn=null}}function cu(s,c){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,_M(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),po=0,ZS(),mr=s,Wn=d=eo(s.current,null),An=c,sr=0,hs=null,Ho=!1,au=Me(s,c),OS=!1,ou=ps=DS=sc=Go=Pr=0,es=ig=null,BS=!1,(c&8)!==0&&(c|=c&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=c;0<y;){var T=31-xe(y),k=1<<T;c|=s[T],y&=~k}return ho=c,di(),d}function H4(s,c){mn=null,Z.H=G0,c===Qc||c===Z1?(c=f3(),sr=3):c===K2?(c=f3(),sr=4):sr=c===xS?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,hs=c,Wn===null&&(Pr=1,iy(s,Ps(c,s.current)))}function G4(){var s=fs.current;return s===null?!0:(An&4194048)===An?Ds===null:(An&62914560)===An||(An&536870912)!==0?s===Ds:!1}function q4(){var s=Z.H;return Z.H=G0,s===null?G0:s}function Q4(){var s=Z.A;return Z.A=q8,s}function gy(){Pr=4,Ho||(An&4194048)!==An&&fs.current!==null||(au=!0),(Go&134217727)===0&&(sc&134217727)===0||mr===null||Jo(mr,An,ps,!1)}function zS(s,c,d){var y=Jn;Jn|=2;var T=q4(),k=Q4();(mr!==s||An!==c)&&(py=null,cu(s,c)),c=!1;var $=Pr;e:do try{if(sr!==0&&Wn!==null){var le=Wn,Te=hs;switch(sr){case 8:ZS(),$=6;break e;case 3:case 2:case 9:case 6:fs.current===null&&(c=!0);var Ge=sr;if(sr=0,hs=null,uu(s,le,Te,Ge),d&&au){$=0;break e}break;default:Ge=sr,sr=0,hs=null,uu(s,le,Te,Ge)}}eM(),$=Pr;break}catch(at){H4(s,at)}while(!0);return c&&s.shellSuspendCounter++,no=Gl=null,Jn=y,Z.H=T,Z.A=k,Wn===null&&(mr=null,An=0,di()),$}function eM(){for(;Wn!==null;)J4(Wn)}function tM(s,c){var d=Jn;Jn|=2;var y=q4(),T=Q4();mr!==s||An!==c?(py=null,hy=et()+500,cu(s,c)):au=Me(s,c);e:do try{if(sr!==0&&Wn!==null){c=Wn;var k=hs;t:switch(sr){case 1:sr=0,hs=null,uu(s,c,k,1);break;case 2:case 9:if(c3(k)){sr=0,hs=null,eW(c);break}c=function(){sr!==2&&sr!==9||mr!==s||(sr=7),Wa(s)},k.then(c,c);break e;case 3:sr=7;break e;case 4:sr=5;break e;case 7:c3(k)?(sr=0,hs=null,eW(c)):(sr=0,hs=null,uu(s,c,k,7));break;case 5:var $=null;switch(Wn.tag){case 26:$=Wn.memoizedState;case 5:case 27:var le=Wn;if($?DW($):le.stateNode.complete){sr=0,hs=null;var Te=le.sibling;if(Te!==null)Wn=Te;else{var Ge=le.return;Ge!==null?(Wn=Ge,yy(Ge)):Wn=null}break t}}sr=0,hs=null,uu(s,c,k,5);break;case 6:sr=0,hs=null,uu(s,c,k,6);break;case 8:ZS(),Pr=6;break e;default:throw Error(r(462))}}nM();break}catch(at){H4(s,at)}while(!0);return no=Gl=null,Z.H=y,Z.A=T,Jn=d,Wn!==null?0:(mr=null,An=0,di(),Pr)}function nM(){for(;Wn!==null&&!ge();)J4(Wn)}function J4(s){var c=Y4(s.alternate,s,ho);s.memoizedProps=s.pendingProps,c===null?yy(s):Wn=c}function eW(s){var c=s,d=c.alternate;switch(c.tag){case 15:case 0:c=y4(d,c,c.pendingProps,c.type,void 0,An);break;case 11:c=y4(d,c,c.pendingProps,c.type.render,c.ref,An);break;case 5:aS(c);default:w4(d,c),c=Wn=Qw(c,ho),c=Y4(d,c,ho)}s.memoizedProps=s.pendingProps,c===null?yy(s):Wn=c}function uu(s,c,d,y){no=Gl=null,aS(c),Jc=null,F0=0;var T=c.return;try{if(Z8(s,T,c,d,An)){Pr=1,iy(s,Ps(d,s.current)),Wn=null;return}}catch(k){if(T!==null)throw Wn=T,k;Pr=1,iy(s,Ps(d,s.current)),Wn=null;return}c.flags&32768?(Nn||y===1?s=!0:au||(An&536870912)!==0?s=!1:(Ho=s=!0,(y===2||y===9||y===3||y===6)&&(y=fs.current,y!==null&&y.tag===13&&(y.flags|=16384))),tW(c,s)):yy(c)}function yy(s){var c=s;do{if((c.flags&32768)!==0){tW(c,Ho);return}s=c.return;var d=j8(c.alternate,c,ho);if(d!==null){Wn=d;return}if(c=c.sibling,c!==null){Wn=c;return}Wn=c=s}while(c!==null);Pr===0&&(Pr=5)}function tW(s,c){do{var d=K8(s.alternate,s);if(d!==null){d.flags&=32767,Wn=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(s=s.sibling,s!==null)){Wn=s;return}Wn=s=d}while(s!==null);Pr=6,Wn=null}function nW(s,c,d,y,T,k,$,le,Te){s.cancelPendingCommit=null;do vy();while(oi!==0);if((Jn&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(k=c.lanes|c.childLanes,k|=pn,Un(s,d,k,$,le,Te),s===mr&&(Wn=mr=null,An=0),lu=c,Qo=s,po=d,VS=k,FS=T,z4=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,aM(pt,function(){return oW(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Z.T,Z.T=null,T=G.p,G.p=2,$=Jn,Jn|=4;try{H8(s,c,d)}finally{Jn=$,G.p=T,Z.T=y}}oi=1,rW(),iW(),sW()}}function rW(){if(oi===1){oi=0;var s=Qo,c=lu,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null;var y=G.p;G.p=2;var T=Jn;Jn|=4;try{N4(c,s);var k=rb,$=H(s.containerInfo),le=k.focusedElem,Te=k.selectionRange;if($!==le&&le&&le.ownerDocument&&z(le.ownerDocument.documentElement,le)){if(Te!==null&&ne(le)){var Ge=Te.start,at=Te.end;if(at===void 0&&(at=Ge),"selectionStart"in le)le.selectionStart=Ge,le.selectionEnd=Math.min(at,le.value.length);else{var ut=le.ownerDocument||document,Qe=ut&&ut.defaultView||window;if(Qe.getSelection){var rt=Qe.getSelection(),Dt=le.textContent.length,Qt=Math.min(Te.start,Dt),fr=Te.end===void 0?Qt:Math.min(Te.end,Dt);!rt.extend&&Qt>fr&&($=fr,fr=Qt,Qt=$);var Ze=D(le,Qt),Ie=D(le,fr);if(Ze&&Ie&&(rt.rangeCount!==1||rt.anchorNode!==Ze.node||rt.anchorOffset!==Ze.offset||rt.focusNode!==Ie.node||rt.focusOffset!==Ie.offset)){var He=ut.createRange();He.setStart(Ze.node,Ze.offset),rt.removeAllRanges(),Qt>fr?(rt.addRange(He),rt.extend(Ie.node,Ie.offset)):(He.setEnd(Ie.node,Ie.offset),rt.addRange(He))}}}}for(ut=[],rt=le;rt=rt.parentNode;)rt.nodeType===1&&ut.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<ut.length;le++){var lt=ut[le];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Ay=!!nb,rb=nb=null}finally{Jn=T,G.p=y,Z.T=d}}s.current=c,oi=2}}function iW(){if(oi===2){oi=0;var s=Qo,c=lu,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=Z.T,Z.T=null;var y=G.p;G.p=2;var T=Jn;Jn|=4;try{I4(s,c.alternate,c)}finally{Jn=T,G.p=y,Z.T=d}}oi=3}}function sW(){if(oi===4||oi===3){oi=0,We();var s=Qo,c=lu,d=po,y=z4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?oi=5:(oi=0,lu=Qo=null,aW(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(qo=null),Rn(d),c=c.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(De,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=Z.T,T=G.p,G.p=2,Z.T=null;try{for(var k=s.onRecoverableError,$=0;$<y.length;$++){var le=y[$];k(le.value,{componentStack:le.stack})}}finally{Z.T=c,G.p=T}}(po&3)!==0&&vy(),Wa(s),T=s.pendingLanes,(d&261930)!==0&&(T&42)!==0?s===LS?sg++:(sg=0,LS=s):sg=0,ag(0)}}function aW(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,B0(c)))}function vy(){return rW(),iW(),sW(),oW()}function oW(){if(oi!==5)return!1;var s=Qo,c=VS;VS=0;var d=Rn(po),y=Z.T,T=G.p;try{G.p=32>d?32:d,Z.T=null,d=FS,FS=null;var k=Qo,$=po;if(oi=0,lu=Qo=null,po=0,(Jn&6)!==0)throw Error(r(331));var le=Jn;if(Jn|=4,F4(k.current),D4(k,k.current,$,d),Jn=le,ag(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(De,k)}catch{}return!0}finally{G.p=T,Z.T=y,aW(s,c)}}function lW(s,c,d){c=Ps(d,c),c=bS(s.stateNode,c,2),s=zo(s,c,2),s!==null&&(kt(s,2),Wa(s))}function ar(s,c,d){if(s.tag===3)lW(s,s,d);else for(;c!==null;){if(c.tag===3){lW(c,s,d);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(qo===null||!qo.has(y))){s=Ps(d,s),d=c4(2),y=zo(c,d,2),y!==null&&(u4(d,y,c,s),kt(y,2),Wa(y));break}}c=c.return}}function $S(s,c,d){var y=s.pingCache;if(y===null){y=s.pingCache=new Q8;var T=new Set;y.set(c,T)}else T=y.get(c),T===void 0&&(T=new Set,y.set(c,T));T.has(d)||(OS=!0,T.add(d),s=rM.bind(null,s,c,d),c.then(s,s))}function rM(s,c,d){var y=s.pingCache;y!==null&&y.delete(c),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,mr===s&&(An&d)===d&&(Pr===4||Pr===3&&(An&62914560)===An&&300>et()-dy?(Jn&2)===0&&cu(s,0):DS|=d,ou===An&&(ou=0)),Wa(s)}function cW(s,c){c===0&&(c=dt()),s=Wr(s,c),s!==null&&(kt(s,c),Wa(s))}function iM(s){var c=s.memoizedState,d=0;c!==null&&(d=c.retryLane),cW(s,d)}function sM(s,c){var d=0;switch(s.tag){case 31:case 13:var y=s.stateNode,T=s.memoizedState;T!==null&&(d=T.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),cW(s,d)}function aM(s,c){return Ne(s,c)}var _y=null,fu=null,jS=!1,Sy=!1,KS=!1,el=0;function Wa(s){s!==fu&&s.next===null&&(fu===null?_y=fu=s:fu=fu.next=s),Sy=!0,jS||(jS=!0,lM())}function ag(s,c){if(!KS&&Sy){KS=!0;do for(var d=!1,y=_y;y!==null;){if(s!==0){var T=y.pendingLanes;if(T===0)var k=0;else{var $=y.suspendedLanes,le=y.pingedLanes;k=(1<<31-xe(42|s)+1)-1,k&=T&~($&~le),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(d=!0,hW(y,k))}else k=An,k=ye(y,y===mr?k:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(k&3)===0||Me(y,k)||(d=!0,hW(y,k));y=y.next}while(d);KS=!1}}function oM(){uW()}function uW(){Sy=jS=!1;var s=0;el!==0&&vM()&&(s=el);for(var c=et(),d=null,y=_y;y!==null;){var T=y.next,k=fW(y,c);k===0?(y.next=null,d===null?_y=T:d.next=T,T===null&&(fu=d)):(d=y,(s!==0||(k&3)!==0)&&(Sy=!0)),y=T}oi!==0&&oi!==5||ag(s),el!==0&&(el=0)}function fW(s,c){for(var d=s.suspendedLanes,y=s.pingedLanes,T=s.expirationTimes,k=s.pendingLanes&-62914561;0<k;){var $=31-xe(k),le=1<<$,Te=T[$];Te===-1?((le&d)===0||(le&y)!==0)&&(T[$]=wt(le,c)):Te<=c&&(s.expiredLanes|=le),k&=~le}if(c=mr,d=An,d=ye(s,s===c?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,d===0||s===c&&(sr===2||sr===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&ke(y),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Me(s,d)){if(c=d&-d,c===s.callbackPriority)return c;switch(y!==null&&ke(y),Rn(d)){case 2:case 8:d=Mt;break;case 32:d=pt;break;case 268435456:d=sn;break;default:d=pt}return y=dW.bind(null,s),d=Ne(d,y),s.callbackPriority=c,s.callbackNode=d,c}return y!==null&&y!==null&&ke(y),s.callbackPriority=2,s.callbackNode=null,2}function dW(s,c){if(oi!==0&&oi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(vy()&&s.callbackNode!==d)return null;var y=An;return y=ye(s,s===mr?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(j4(s,y,c),fW(s,et()),s.callbackNode!=null&&s.callbackNode===d?dW.bind(null,s):null)}function hW(s,c){if(vy())return null;j4(s,c,!0)}function lM(){SM(function(){(Jn&6)!==0?Ne(nt,oM):uW()})}function HS(){if(el===0){var s=Gc;s===0&&(s=X,X<<=1,(X&261888)===0&&(X=256)),el=s}return el}function pW(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ai(""+s)}function mW(s,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,s.id&&d.setAttribute("form",s.id),c.parentNode.insertBefore(d,c),s=new FormData(s),d.parentNode.removeChild(d),s}function cM(s,c,d,y,T){if(c==="submit"&&d&&d.stateNode===T){var k=pW((T[rn]||null).action),$=y.submitter;$&&(c=(c=$[rn]||null)?pW(c.formAction):$.getAttribute("formAction"),c!==null&&(k=c,$=null));var le=new Is("action","action",null,y,T);s.push({event:le,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(el!==0){var Te=$?mW(T,$):new FormData(T);mS(d,{pending:!0,data:Te,method:T.method,action:k},null,Te)}}else typeof k=="function"&&(le.preventDefault(),Te=$?mW(T,$):new FormData(T),mS(d,{pending:!0,data:Te,method:T.method,action:k},k,Te))},currentTarget:T}]})}}for(var GS=0;GS<Et.length;GS++){var qS=Et[GS],uM=qS.toLowerCase(),fM=qS[0].toUpperCase()+qS.slice(1);vt(uM,"on"+fM)}vt(je,"onAnimationEnd"),vt(qe,"onAnimationIteration"),vt(st,"onAnimationStart"),vt("dblclick","onDoubleClick"),vt("focusin","onFocus"),vt("focusout","onBlur"),vt(ct,"onTransitionRun"),vt(bt,"onTransitionStart"),vt(Ut,"onTransitionCancel"),vt(yt,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(og));function gW(s,c){c=(c&4)!==0;for(var d=0;d<s.length;d++){var y=s[d],T=y.event;y=y.listeners;e:{var k=void 0;if(c)for(var $=y.length-1;0<=$;$--){var le=y[$],Te=le.instance,Ge=le.currentTarget;if(le=le.listener,Te!==k&&T.isPropagationStopped())break e;k=le,T.currentTarget=Ge;try{k(T)}catch(at){Rt(at)}T.currentTarget=null,k=Te}else for($=0;$<y.length;$++){if(le=y[$],Te=le.instance,Ge=le.currentTarget,le=le.listener,Te!==k&&T.isPropagationStopped())break e;k=le,T.currentTarget=Ge;try{k(T)}catch(at){Rt(at)}T.currentTarget=null,k=Te}}}}function En(s,c){var d=c[gr];d===void 0&&(d=c[gr]=new Set);var y=s+"__bubble";d.has(y)||(yW(c,s,2,!1),d.add(y))}function QS(s,c,d){var y=0;c&&(y|=4),yW(d,s,y,c)}var by="_reactListening"+Math.random().toString(36).slice(2);function JS(s){if(!s[by]){s[by]=!0,Ei.forEach(function(d){d!=="selectionchange"&&(dM.has(d)||QS(d,!1,s),QS(d,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[by]||(c[by]=!0,QS("selectionchange",!1,c))}}function yW(s,c,d,y){switch($W(c)){case 2:var T=BM;break;case 8:T=VM;break;default:T=pb}d=T.bind(null,c,d,s),T=void 0,!Vl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),y?T!==void 0?s.addEventListener(c,d,{capture:!0,passive:T}):s.addEventListener(c,d,!0):T!==void 0?s.addEventListener(c,d,{passive:T}):s.addEventListener(c,d,!1)}function eb(s,c,d,y,T){var k=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var le=y.stateNode.containerInfo;if(le===T)break;if($===4)for($=y.return;$!==null;){var Te=$.tag;if((Te===3||Te===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;le!==null;){if($=Us(le),$===null)return;if(Te=$.tag,Te===5||Te===6||Te===26||Te===27){y=k=$;continue e}le=le.parentNode}}y=y.return}ks(function(){var Ge=k,at=qs(d),ut=[];e:{var Qe=Tt.get(s);if(Qe!==void 0){var rt=Is,Dt=s;switch(s){case"keypress":if(Qs(d)===0)break e;case"keydown":case"keyup":rt=Hi;break;case"focusin":Dt="focus",rt=Pn;break;case"focusout":Dt="blur",rt=Pn;break;case"beforeblur":case"afterblur":rt=Pn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Dc;break;case je:case qe:case st:rt=Mn;break;case yt:rt=k0;break;case"scroll":case"scrollend":rt=Ro;break;case"wheel":rt=Bc;break;case"copy":case"cut":case"paste":rt=Sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Sa;break;case"toggle":case"beforetoggle":rt=I1}var Qt=(c&4)!==0,fr=!Qt&&(s==="scroll"||s==="scrollend"),Ze=Qt?Qe!==null?Qe+"Capture":null:Qe;Qt=[];for(var Ie=Ge,He;Ie!==null;){var lt=Ie;if(He=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||He===null||Ze===null||(lt=lr(Ie,Ze),lt!=null&&Qt.push(lg(Ie,lt,He))),fr)break;Ie=Ie.return}0<Qt.length&&(Qe=new rt(Qe,Dt,null,d,at),ut.push({event:Qe,listeners:Qt}))}}if((c&7)===0){e:{if(Qe=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",Qe&&d!==Di&&(Dt=d.relatedTarget||d.fromElement)&&(Us(Dt)||Dt[$n]))break e;if((rt||Qe)&&(Qe=at.window===at?at:(Qe=at.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,rt?(Dt=d.relatedTarget||d.toElement,rt=Ge,Dt=Dt?Us(Dt):null,Dt!==null&&(fr=a(Dt),Qt=Dt.tag,Dt!==fr||Qt!==5&&Qt!==27&&Qt!==6)&&(Dt=null)):(rt=null,Dt=Ge),rt!==Dt)){if(Qt=Po,lt="onMouseLeave",Ze="onMouseEnter",Ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qt=Sa,lt="onPointerLeave",Ze="onPointerEnter",Ie="pointer"),fr=rt==null?Qe:Vr(rt),He=Dt==null?Qe:Vr(Dt),Qe=new Qt(lt,Ie+"leave",rt,d,at),Qe.target=fr,Qe.relatedTarget=He,lt=null,Us(at)===Ge&&(Qt=new Qt(Ze,Ie+"enter",Dt,d,at),Qt.target=He,Qt.relatedTarget=fr,lt=Qt),fr=lt,rt&&Dt)t:{for(Qt=hM,Ze=rt,Ie=Dt,He=0,lt=Ze;lt;lt=Qt(lt))He++;lt=0;for(var Ht=Ie;Ht;Ht=Qt(Ht))lt++;for(;0<He-lt;)Ze=Qt(Ze),He--;for(;0<lt-He;)Ie=Qt(Ie),lt--;for(;He--;){if(Ze===Ie||Ie!==null&&Ze===Ie.alternate){Qt=Ze;break t}Ze=Qt(Ze),Ie=Qt(Ie)}Qt=null}else Qt=null;rt!==null&&vW(ut,Qe,rt,Qt,!1),Dt!==null&&fr!==null&&vW(ut,fr,Dt,Qt,!0)}}e:{if(Qe=Ge?Vr(Ge):window,rt=Qe.nodeName&&Qe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Qe.type==="file")var jn=$l;else if(Lc(Qe))if(Xs)jn=Oo;else{jn=Ja;var zt=O1}else rt=Qe.nodeName,!rt||rt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Ge&&Oi(Ge.elementType)&&(jn=$l):jn=M0;if(jn&&(jn=jn(s,Ge))){P0(ut,jn,d,at);break e}zt&&zt(s,Qe,Ge),s==="focusout"&&Ge&&Qe.type==="number"&&Ge.memoizedProps.value!=null&&Mi(Qe,"number",Qe.value)}switch(zt=Ge?Vr(Ge):window,s){case"focusin":(Lc(zt)||zt.contentEditable==="true")&&(_e=zt,Ee=Ge,Ce=null);break;case"focusout":Ce=Ee=_e=null;break;case"mousedown":Be=!0;break;case"contextmenu":case"mouseup":case"dragend":Be=!1,we(ut,d,at);break;case"selectionchange":if(he)break;case"keydown":case"keyup":we(ut,d,at)}var vn;if(Zl)e:{switch(s){case"compositionstart":var kn="onCompositionStart";break e;case"compositionend":kn="onCompositionEnd";break e;case"compositionupdate":kn="onCompositionUpdate";break e}kn=void 0}else Qa?X0(s,d)&&(kn="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(kn="onCompositionStart");kn&&(Vc&&d.locale!=="ko"&&(Qa||kn!=="onCompositionStart"?kn==="onCompositionEnd"&&Qa&&(vn=Ci()):(Bi=at,ja="value"in Bi?Bi.value:Bi.textContent,Qa=!0)),zt=xy(Ge,kn),0<zt.length&&(kn=new ir(kn,s,null,d,at),ut.push({event:kn,listeners:zt}),vn?kn.data=vn:(vn=X1(d),vn!==null&&(kn.data=vn)))),(vn=I2?P1(s,d):R2(s,d))&&(kn=xy(Ge,"onBeforeInput"),0<kn.length&&(zt=new ir("onBeforeInput","beforeinput",null,d,at),ut.push({event:zt,listeners:kn}),zt.data=vn)),cM(ut,s,Ge,d,at)}gW(ut,c)})}function lg(s,c,d){return{instance:s,listener:c,currentTarget:d}}function xy(s,c){for(var d=c+"Capture",y=[];s!==null;){var T=s,k=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||k===null||(T=lr(s,d),T!=null&&y.unshift(lg(s,T,k)),T=lr(s,c),T!=null&&y.push(lg(s,T,k))),s.tag===3)return y;s=s.return}return[]}function hM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vW(s,c,d,y,T){for(var k=c._reactName,$=[];d!==null&&d!==y;){var le=d,Te=le.alternate,Ge=le.stateNode;if(le=le.tag,Te!==null&&Te===y)break;le!==5&&le!==26&&le!==27||Ge===null||(Te=Ge,T?(Ge=lr(d,k),Ge!=null&&$.unshift(lg(d,Ge,Te))):T||(Ge=lr(d,k),Ge!=null&&$.push(lg(d,Ge,Te)))),d=d.return}$.length!==0&&s.push({event:c,listeners:$})}var pM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function _W(s){return(typeof s=="string"?s:""+s).replace(pM,`
`).replace(mM,"")}function SW(s,c){return c=_W(c),_W(s)===c}function ur(s,c,d,y,T,k){switch(d){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||si(s,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&si(s,""+y);break;case"className":Ur(s,"class",y);break;case"tabIndex":Ur(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(s,d,y);break;case"style":Nr(s,y,k);break;case"data":if(c!=="object"){Ur(s,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||d!=="href")){s.removeAttribute(d);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=ai(""+y),s.setAttribute(d,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(d==="formAction"?(c!=="input"&&ur(s,c,"name",T.name,T,null),ur(s,c,"formEncType",T.formEncType,T,null),ur(s,c,"formMethod",T.formMethod,T,null),ur(s,c,"formTarget",T.formTarget,T,null)):(ur(s,c,"encType",T.encType,T,null),ur(s,c,"method",T.method,T,null),ur(s,c,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=ai(""+y),s.setAttribute(d,y);break;case"onClick":y!=null&&(s.onclick=Zr);break;case"onScroll":y!=null&&En("scroll",s);break;case"onScrollEnd":y!=null&&En("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}d=ai(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""+y):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":y===!0?s.setAttribute(d,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,y):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(d,y):s.removeAttribute(d);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(d):s.setAttribute(d,y);break;case"popover":En("beforetoggle",s),En("toggle",s),It(s,"popover",y);break;case"xlinkActuate":rr(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":rr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":rr(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":rr(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":rr(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":rr(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":rr(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":rr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":rr(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":It(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=vr.get(d)||d,It(s,d,y))}}function tb(s,c,d,y,T,k){switch(d){case"style":Nr(s,y,k);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof y=="string"?si(s,y):(typeof y=="number"||typeof y=="bigint")&&si(s,""+y);break;case"onScroll":y!=null&&En("scroll",s);break;case"onScrollEnd":y!=null&&En("scrollend",s);break;case"onClick":y!=null&&(s.onclick=Zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ji.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),c=d.slice(2,T?d.length-7:void 0),k=s[rn]||null,k=k!=null?k[d]:null,typeof k=="function"&&s.removeEventListener(c,k,T),typeof y=="function")){typeof k!="function"&&k!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(c,y,T);break e}d in s?s[d]=y:y===!0?s.setAttribute(d,""):It(s,d,y)}}}function Yi(s,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",s),En("load",s);var y=!1,T=!1,k;for(k in d)if(d.hasOwnProperty(k)){var $=d[k];if($!=null)switch(k){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ur(s,c,k,$,d,null)}}T&&ur(s,c,"srcSet",d.srcSet,d,null),y&&ur(s,c,"src",d.src,d,null);return;case"input":En("invalid",s);var le=k=$=T=null,Te=null,Ge=null;for(y in d)if(d.hasOwnProperty(y)){var at=d[y];if(at!=null)switch(y){case"name":T=at;break;case"type":$=at;break;case"checked":Te=at;break;case"defaultChecked":Ge=at;break;case"value":k=at;break;case"defaultValue":le=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,c));break;default:ur(s,c,y,at,d,null)}}yi(s,k,le,Te,Ge,$,T,!1);return;case"select":En("invalid",s),y=$=k=null;for(T in d)if(d.hasOwnProperty(T)&&(le=d[T],le!=null))switch(T){case"value":k=le;break;case"defaultValue":$=le;break;case"multiple":y=le;default:ur(s,c,T,le,d,null)}c=k,d=$,s.multiple=!!y,c!=null?Ni(s,!!y,c,!1):d!=null&&Ni(s,!!y,d,!0);return;case"textarea":En("invalid",s),k=T=y=null;for($ in d)if(d.hasOwnProperty($)&&(le=d[$],le!=null))switch($){case"value":y=le;break;case"defaultValue":T=le;break;case"children":k=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:ur(s,c,$,le,d,null)}vi(s,y,T,k);return;case"option":for(Te in d)if(d.hasOwnProperty(Te)&&(y=d[Te],y!=null))switch(Te){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:ur(s,c,Te,y,d,null)}return;case"dialog":En("beforetoggle",s),En("toggle",s),En("cancel",s),En("close",s);break;case"iframe":case"object":En("load",s);break;case"video":case"audio":for(y=0;y<og.length;y++)En(og[y],s);break;case"image":En("error",s),En("load",s);break;case"details":En("toggle",s);break;case"embed":case"source":case"link":En("error",s),En("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in d)if(d.hasOwnProperty(Ge)&&(y=d[Ge],y!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ur(s,c,Ge,y,d,null)}return;default:if(Oi(c)){for(at in d)d.hasOwnProperty(at)&&(y=d[at],y!==void 0&&tb(s,c,at,y,d,void 0));return}}for(le in d)d.hasOwnProperty(le)&&(y=d[le],y!=null&&ur(s,c,le,y,d,null))}function gM(s,c,d,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,k=null,$=null,le=null,Te=null,Ge=null,at=null;for(rt in d){var ut=d[rt];if(d.hasOwnProperty(rt)&&ut!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Te=ut;default:y.hasOwnProperty(rt)||ur(s,c,rt,null,y,ut)}}for(var Qe in y){var rt=y[Qe];if(ut=d[Qe],y.hasOwnProperty(Qe)&&(rt!=null||ut!=null))switch(Qe){case"type":k=rt;break;case"name":T=rt;break;case"checked":Ge=rt;break;case"defaultChecked":at=rt;break;case"value":$=rt;break;case"defaultValue":le=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,c));break;default:rt!==ut&&ur(s,c,Qe,rt,y,ut)}}Rr(s,$,le,Te,Ge,at,k,T);return;case"select":rt=$=le=Qe=null;for(k in d)if(Te=d[k],d.hasOwnProperty(k)&&Te!=null)switch(k){case"value":break;case"multiple":rt=Te;default:y.hasOwnProperty(k)||ur(s,c,k,null,y,Te)}for(T in y)if(k=y[T],Te=d[T],y.hasOwnProperty(T)&&(k!=null||Te!=null))switch(T){case"value":Qe=k;break;case"defaultValue":le=k;break;case"multiple":$=k;default:k!==Te&&ur(s,c,T,k,y,Te)}c=le,d=$,y=rt,Qe!=null?Ni(s,!!d,Qe,!1):!!y!=!!d&&(c!=null?Ni(s,!!d,c,!0):Ni(s,!!d,d?[]:"",!1));return;case"textarea":rt=Qe=null;for(le in d)if(T=d[le],d.hasOwnProperty(le)&&T!=null&&!y.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:ur(s,c,le,null,y,T)}for($ in y)if(T=y[$],k=d[$],y.hasOwnProperty($)&&(T!=null||k!=null))switch($){case"value":Qe=T;break;case"defaultValue":rt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==k&&ur(s,c,$,T,y,k)}$a(s,Qe,rt);return;case"option":for(var Dt in d)if(Qe=d[Dt],d.hasOwnProperty(Dt)&&Qe!=null&&!y.hasOwnProperty(Dt))switch(Dt){case"selected":s.selected=!1;break;default:ur(s,c,Dt,null,y,Qe)}for(Te in y)if(Qe=y[Te],rt=d[Te],y.hasOwnProperty(Te)&&Qe!==rt&&(Qe!=null||rt!=null))switch(Te){case"selected":s.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:ur(s,c,Te,Qe,y,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in d)Qe=d[Qt],d.hasOwnProperty(Qt)&&Qe!=null&&!y.hasOwnProperty(Qt)&&ur(s,c,Qt,null,y,Qe);for(Ge in y)if(Qe=y[Ge],rt=d[Ge],y.hasOwnProperty(Ge)&&Qe!==rt&&(Qe!=null||rt!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,c));break;default:ur(s,c,Ge,Qe,y,rt)}return;default:if(Oi(c)){for(var fr in d)Qe=d[fr],d.hasOwnProperty(fr)&&Qe!==void 0&&!y.hasOwnProperty(fr)&&tb(s,c,fr,void 0,y,Qe);for(at in y)Qe=y[at],rt=d[at],!y.hasOwnProperty(at)||Qe===rt||Qe===void 0&&rt===void 0||tb(s,c,at,Qe,y,rt);return}}for(var Ze in d)Qe=d[Ze],d.hasOwnProperty(Ze)&&Qe!=null&&!y.hasOwnProperty(Ze)&&ur(s,c,Ze,null,y,Qe);for(ut in y)Qe=y[ut],rt=d[ut],!y.hasOwnProperty(ut)||Qe===rt||Qe==null&&rt==null||ur(s,c,ut,Qe,y,rt)}function bW(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,d=performance.getEntriesByType("resource"),y=0;y<d.length;y++){var T=d[y],k=T.transferSize,$=T.initiatorType,le=T.duration;if(k&&le&&bW($)){for($=0,le=T.responseEnd,y+=1;y<d.length;y++){var Te=d[y],Ge=Te.startTime;if(Ge>le)break;var at=Te.transferSize,ut=Te.initiatorType;at&&bW(ut)&&(Te=Te.responseEnd,$+=at*(Te<le?1:(le-Ge)/(Te-Ge)))}if(--y,c+=8*(k+$)/(T.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var nb=null,rb=null;function Yy(s){return s.nodeType===9?s:s.ownerDocument}function xW(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YW(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function ib(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var sb=null;function vM(){var s=window.event;return s&&s.type==="popstate"?s===sb?!1:(sb=s,!0):(sb=null,!1)}var TW=typeof setTimeout=="function"?setTimeout:void 0,_M=typeof clearTimeout=="function"?clearTimeout:void 0,wW=typeof Promise=="function"?Promise:void 0,SM=typeof queueMicrotask=="function"?queueMicrotask:typeof wW<"u"?function(s){return wW.resolve(null).then(s).catch(bM)}:TW;function bM(s){setTimeout(function(){throw s})}function tl(s){return s==="head"}function WW(s,c){var d=c,y=0;do{var T=d.nextSibling;if(s.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(y===0){s.removeChild(T),mu(c);return}y--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")y++;else if(d==="html")cg(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,cg(d);for(var k=d.firstChild;k;){var $=k.nextSibling,le=k.nodeName;k[Br]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=$}}else d==="body"&&cg(s.ownerDocument.body);d=T}while(d);mu(c)}function EW(s,c){var d=s;s=0;do{var y=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=y}while(d)}function ab(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ab(d),as(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function xM(s,c,d,y){for(;s.nodeType===1;){var T=d;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[Br])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(k=s.getAttribute("rel"),k==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(k!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(k=s.getAttribute("src"),(k!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&k&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var k=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===k)return s}else return s;if(s=Bs(s.nextSibling),s===null)break}return null}function YM(s,c,d){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Bs(s.nextSibling),s===null))return null;return s}function UW(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Bs(s.nextSibling),s===null))return null;return s}function ob(s){return s.data==="$?"||s.data==="$~"}function lb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function TM(s,c){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||d.readyState!=="loading")c();else{var y=function(){c(),d.removeEventListener("DOMContentLoaded",y)};d.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function Bs(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var cb=null;function CW(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(c===0)return Bs(s.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}s=s.nextSibling}return null}function AW(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return s;c--}else d!=="/$"&&d!=="/&"||c++}s=s.previousSibling}return null}function kW(s,c,d){switch(c=Yy(d),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function cg(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);as(s)}var Vs=new Map,IW=new Set;function Ty(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var mo=G.d;G.d={f:wM,r:WM,D:EM,C:UM,L:CM,m:AM,X:IM,S:kM,M:RM};function wM(){var s=mo.f(),c=my();return s||c}function WM(s){var c=tr(s);c!==null&&c.tag===5&&c.type==="form"?H3(c):mo.r(s)}var du=typeof document>"u"?null:document;function RW(s,c,d){var y=du;if(y&&typeof c=="string"&&c){var T=Xn(c);T='link[rel="'+s+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),IW.has(T)||(IW.add(T),s={rel:s,crossOrigin:d,href:c},y.querySelector(T)===null&&(c=y.createElement("link"),Yi(c,"link",s),or(c),y.head.appendChild(c)))}}function EM(s){mo.D(s),RW("dns-prefetch",s,null)}function UM(s,c){mo.C(s,c),RW("preconnect",s,c)}function CM(s,c,d){mo.L(s,c,d);var y=du;if(y&&s&&c){var T='link[rel="preload"][as="'+Xn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Xn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Xn(d.imageSizes)+'"]')):T+='[href="'+Xn(s)+'"]';var k=T;switch(c){case"style":k=hu(s);break;case"script":k=pu(s)}Vs.has(k)||(s=h({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:s,as:c},d),Vs.set(k,s),y.querySelector(T)!==null||c==="style"&&y.querySelector(ug(k))||c==="script"&&y.querySelector(fg(k))||(c=y.createElement("link"),Yi(c,"link",s),or(c),y.head.appendChild(c)))}}function AM(s,c){mo.m(s,c);var d=du;if(d&&s){var y=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+Xn(y)+'"][href="'+Xn(s)+'"]',k=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=pu(s)}if(!Vs.has(k)&&(s=h({rel:"modulepreload",href:s},c),Vs.set(k,s),d.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fg(k)))return}y=d.createElement("link"),Yi(y,"link",s),or(y),d.head.appendChild(y)}}}function kM(s,c,d){mo.S(s,c,d);var y=du;if(y&&s){var T=Fr(y).hoistableStyles,k=hu(s);c=c||"default";var $=T.get(k);if(!$){var le={loading:0,preload:null};if($=y.querySelector(ug(k)))le.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":c},d),(d=Vs.get(k))&&ub(s,d);var Te=$=y.createElement("link");or(Te),Yi(Te,"link",s),Te._p=new Promise(function(Ge,at){Te.onload=Ge,Te.onerror=at}),Te.addEventListener("load",function(){le.loading|=1}),Te.addEventListener("error",function(){le.loading|=2}),le.loading|=4,wy($,c,y)}$={type:"stylesheet",instance:$,count:1,state:le},T.set(k,$)}}}function IM(s,c){mo.X(s,c);var d=du;if(d&&s){var y=Fr(d).hoistableScripts,T=pu(s),k=y.get(T);k||(k=d.querySelector(fg(T)),k||(s=h({src:s,async:!0},c),(c=Vs.get(T))&&fb(s,c),k=d.createElement("script"),or(k),Yi(k,"link",s),d.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(T,k))}}function RM(s,c){mo.M(s,c);var d=du;if(d&&s){var y=Fr(d).hoistableScripts,T=pu(s),k=y.get(T);k||(k=d.querySelector(fg(T)),k||(s=h({src:s,async:!0,type:"module"},c),(c=Vs.get(T))&&fb(s,c),k=d.createElement("script"),or(k),Yi(k,"link",s),d.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(T,k))}}function XW(s,c,d,y){var T=(T=ae.current)?Ty(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=hu(d.href),d=Fr(T).hoistableStyles,y=d.get(c),y||(y={type:"style",instance:null,count:0,state:null},d.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=hu(d.href);var k=Fr(T).hoistableStyles,$=k.get(s);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(s,$),(k=T.querySelector(ug(s)))&&!k._p&&($.instance=k,$.state.loading=5),Vs.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Vs.set(s,d),k||XM(T,s,d,$.state))),c&&y===null)throw Error(r(528,""));return $}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=pu(d),d=Fr(T).hoistableScripts,y=d.get(c),y||(y={type:"script",instance:null,count:0,state:null},d.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function hu(s){return'href="'+Xn(s)+'"'}function ug(s){return'link[rel="stylesheet"]['+s+"]"}function PW(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function XM(s,c,d,y){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=s.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),Yi(c,"link",d),or(c),s.head.appendChild(c))}function pu(s){return'[src="'+Xn(s)+'"]'}function fg(s){return"script[async]"+s}function MW(s,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var y=s.querySelector('style[data-href~="'+Xn(d.href)+'"]');if(y)return c.instance=y,or(y),y;var T=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),or(y),Yi(y,"style",T),wy(y,d.precedence,s),c.instance=y;case"stylesheet":T=hu(d.href);var k=s.querySelector(ug(T));if(k)return c.state.loading|=4,c.instance=k,or(k),k;y=PW(d),(T=Vs.get(T))&&ub(y,T),k=(s.ownerDocument||s).createElement("link"),or(k);var $=k;return $._p=new Promise(function(le,Te){$.onload=le,$.onerror=Te}),Yi(k,"link",y),c.state.loading|=4,wy(k,d.precedence,s),c.instance=k;case"script":return k=pu(d.src),(T=s.querySelector(fg(k)))?(c.instance=T,or(T),T):(y=d,(T=Vs.get(k))&&(y=h({},d),fb(y,T)),s=s.ownerDocument||s,T=s.createElement("script"),or(T),Yi(T,"link",y),s.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,wy(y,d.precedence,s));return c.instance}function wy(s,c,d){for(var y=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,k=T,$=0;$<y.length;$++){var le=y[$];if(le.dataset.precedence===c)k=le;else if(k!==T)break}k?k.parentNode.insertBefore(s,k.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(s,c.firstChild))}function ub(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function fb(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Wy=null;function NW(s,c,d){if(Wy===null){var y=new Map,T=Wy=new Map;T.set(d,y)}else T=Wy,y=T.get(d),y||(y=new Map,T.set(d,y));if(y.has(s))return y;for(y.set(s,null),d=d.getElementsByTagName(s),T=0;T<d.length;T++){var k=d[T];if(!(k[Br]||k[nn]||s==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var $=k.getAttribute(c)||"";$=s+$;var le=y.get($);le?le.push(k):y.set($,[k])}}return y}function OW(s,c,d){s=s.ownerDocument||s,s.head.insertBefore(d,c==="title"?s.querySelector("head > title"):null)}function PM(s,c,d){if(d===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function DW(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function MM(s,c,d,y){if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=hu(y.href),k=c.querySelector(ug(T));if(k){c=k._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Ey.bind(s),c.then(s,s)),d.state.loading|=4,d.instance=k,or(k);return}k=c.ownerDocument||c,y=PW(y),(T=Vs.get(T))&&ub(y,T),k=k.createElement("link"),or(k);var $=k;$._p=new Promise(function(le,Te){$.onload=le,$.onerror=Te}),Yi(k,"link",y),d.instance=k}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Ey.bind(s),c.addEventListener("load",d),c.addEventListener("error",d))}}var db=0;function NM(s,c){return s.stylesheets&&s.count===0&&Cy(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var y=setTimeout(function(){if(s.stylesheets&&Cy(s,s.stylesheets),s.unsuspend){var k=s.unsuspend;s.unsuspend=null,k()}},6e4+c);0<s.imgBytes&&db===0&&(db=62500*yM());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Cy(s,s.stylesheets),s.unsuspend)){var k=s.unsuspend;s.unsuspend=null,k()}},(s.imgBytes>db?50:800)+c);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(y),clearTimeout(T)}}:null}function Ey(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uy=null;function Cy(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uy=new Map,c.forEach(OM,s),Uy=null,Ey.call(s))}function OM(s,c){if(!(c.state.loading&4)){var d=Uy.get(s);if(d)var y=d.get(null);else{d=new Map,Uy.set(s,d);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<T.length;k++){var $=T[k];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(d.set($.dataset.precedence,$),y=$)}y&&d.set(null,y)}T=c.instance,$=T.getAttribute("data-precedence"),k=d.get($)||y,k===y&&d.set(null,T),d.set($,T),this.count++,y=Ey.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),k?k.parentNode.insertBefore(T,k.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),c.state.loading|=4}}var dg={$$typeof:E,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function DM(s,c,d,y,T,k,$,le,Te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=k,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function BW(s,c,d,y,T,k,$,le,Te,Ge,at,ut){return s=new DM(s,c,d,$,Te,Ge,at,ut,le),c=1,k===!0&&(c|=24),k=us(3,null,null,c),s.current=k,k.stateNode=s,c=z2(),c.refCount++,s.pooledCache=c,c.refCount++,k.memoizedState={element:y,isDehydrated:d,cache:c},H2(k),s}function VW(s){return s?(s=Gi,s):Gi}function FW(s,c,d,y,T,k){T=VW(T),y.context===null?y.context=T:y.pendingContext=T,y=Zo(c),y.payload={element:d},k=k===void 0?null:k,k!==null&&(y.callback=k),d=zo(s,y,c),d!==null&&(ts(d,s,c),Z0(d,s,c))}function LW(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<c?d:c}}function hb(s,c){LW(s,c),(s=s.alternate)&&LW(s,c)}function ZW(s){if(s.tag===13||s.tag===31){var c=Wr(s,67108864);c!==null&&ts(c,s,67108864),hb(s,67108864)}}function zW(s){if(s.tag===13||s.tag===31){var c=ms();c=Dn(c);var d=Wr(s,c);d!==null&&ts(d,s,c),hb(s,c)}}var Ay=!0;function BM(s,c,d,y){var T=Z.T;Z.T=null;var k=G.p;try{G.p=2,pb(s,c,d,y)}finally{G.p=k,Z.T=T}}function VM(s,c,d,y){var T=Z.T;Z.T=null;var k=G.p;try{G.p=8,pb(s,c,d,y)}finally{G.p=k,Z.T=T}}function pb(s,c,d,y){if(Ay){var T=mb(y);if(T===null)eb(s,c,y,ky,d),jW(s,y);else if(LM(T,s,c,d,y))y.stopPropagation();else if(jW(s,y),c&4&&-1<FM.indexOf(s)){for(;T!==null;){var k=tr(T);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var $=ie(k.pendingLanes);if($!==0){var le=k;for(le.pendingLanes|=2,le.entangledLanes|=2;$;){var Te=1<<31-xe($);le.entanglements[1]|=Te,$&=~Te}Wa(k),(Jn&6)===0&&(hy=et()+500,ag(0))}}break;case 31:case 13:le=Wr(k,2),le!==null&&ts(le,k,2),my(),hb(k,2)}if(k=mb(y),k===null&&eb(s,c,y,ky,d),k===T)break;T=k}T!==null&&y.stopPropagation()}else eb(s,c,y,null,d)}}function mb(s){return s=qs(s),gb(s)}var ky=null;function gb(s){if(ky=null,s=Us(s),s!==null){var c=a(s);if(c===null)s=null;else{var d=c.tag;if(d===13){if(s=o(c),s!==null)return s;s=null}else if(d===31){if(s=l(c),s!==null)return s;s=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return ky=s,null}function $W(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case nt:return 2;case Mt:return 8;case pt:case Ft:return 32;case sn:return 268435456;default:return 32}default:return 32}}var yb=!1,nl=null,rl=null,il=null,hg=new Map,pg=new Map,sl=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jW(s,c){switch(s){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":hg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(c.pointerId)}}function mg(s,c,d,y,T,k){return s===null||s.nativeEvent!==k?(s={blockedOn:c,domEventName:d,eventSystemFlags:y,nativeEvent:k,targetContainers:[T]},c!==null&&(c=tr(c),c!==null&&ZW(c)),s):(s.eventSystemFlags|=y,c=s.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),s)}function LM(s,c,d,y,T){switch(c){case"focusin":return nl=mg(nl,s,c,d,y,T),!0;case"dragenter":return rl=mg(rl,s,c,d,y,T),!0;case"mouseover":return il=mg(il,s,c,d,y,T),!0;case"pointerover":var k=T.pointerId;return hg.set(k,mg(hg.get(k)||null,s,c,d,y,T)),!0;case"gotpointercapture":return k=T.pointerId,pg.set(k,mg(pg.get(k)||null,s,c,d,y,T)),!0}return!1}function KW(s){var c=Us(s.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){s.blockedOn=c,ii(s.priority,function(){zW(d)});return}}else if(c===31){if(c=l(d),c!==null){s.blockedOn=c,ii(s.priority,function(){zW(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Iy(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var d=mb(s.nativeEvent);if(d===null){d=s.nativeEvent;var y=new d.constructor(d.type,d);Di=y,d.target.dispatchEvent(y),Di=null}else return c=tr(d),c!==null&&ZW(c),s.blockedOn=d,!1;c.shift()}return!0}function HW(s,c,d){Iy(s)&&d.delete(c)}function ZM(){yb=!1,nl!==null&&Iy(nl)&&(nl=null),rl!==null&&Iy(rl)&&(rl=null),il!==null&&Iy(il)&&(il=null),hg.forEach(HW),pg.forEach(HW)}function Ry(s,c){s.blockedOn===c&&(s.blockedOn=null,yb||(yb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZM)))}var Xy=null;function GW(s){Xy!==s&&(Xy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xy===s&&(Xy=null);for(var c=0;c<s.length;c+=3){var d=s[c],y=s[c+1],T=s[c+2];if(typeof y!="function"){if(gb(y||d)===null)continue;break}var k=tr(d);k!==null&&(s.splice(c,3),c-=3,mS(k,{pending:!0,data:T,method:d.method,action:y},y,T))}}))}function mu(s){function c(Te){return Ry(Te,s)}nl!==null&&Ry(nl,s),rl!==null&&Ry(rl,s),il!==null&&Ry(il,s),hg.forEach(c),pg.forEach(c);for(var d=0;d<sl.length;d++){var y=sl[d];y.blockedOn===s&&(y.blockedOn=null)}for(;0<sl.length&&(d=sl[0],d.blockedOn===null);)KW(d),d.blockedOn===null&&sl.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(y=0;y<d.length;y+=3){var T=d[y],k=d[y+1],$=T[rn]||null;if(typeof k=="function")$||GW(d);else if($){var le=null;if(k&&k.hasAttribute("formAction")){if(T=k,$=k[rn]||null)le=$.formAction;else if(gb(T)!==null)continue}else le=$.action;typeof le=="function"?d[y+1]=le:(d.splice(y,3),y-=3),GW(d)}}}function qW(){function s(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function($){return T=$})},focusReset:"manual",scroll:"manual"})}function c(){T!==null&&(T(),T=null),y||setTimeout(d,20)}function d(){if(!y&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){y=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),T!==null&&(T(),T=null)}}}function vb(s){this._internalRoot=s}Py.prototype.render=vb.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,y=ms();FW(d,y,s,c,null,null)},Py.prototype.unmount=vb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;FW(s.current,2,null,s,null,null),my(),c[$n]=null}};function Py(s){this._internalRoot=s}Py.prototype.unstable_scheduleHydration=function(s){if(s){var c=Ir();s={blockedOn:null,target:s,priority:c};for(var d=0;d<sl.length&&c!==0&&c<sl[d].priority;d++);sl.splice(d,0,s),d===0&&KW(s)}};var QW=e.version;if(QW!=="19.2.0")throw Error(r(527,QW,"19.2.0"));G.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var zM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{De=My.inject(zM),it=My}catch{}}return yg.createRoot=function(s,c){if(!i(s))throw Error(r(299));var d=!1,y="",T=s4,k=a4,$=o4;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=BW(s,1,!1,null,null,d,y,null,T,k,$,qW),s[$n]=c.current,JS(s),new vb(c)},yg.hydrateRoot=function(s,c,d){if(!i(s))throw Error(r(299));var y=!1,T="",k=s4,$=a4,le=o4,Te=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(k=d.onUncaughtError),d.onCaughtError!==void 0&&($=d.onCaughtError),d.onRecoverableError!==void 0&&(le=d.onRecoverableError),d.formState!==void 0&&(Te=d.formState)),c=BW(s,1,!0,c,d??null,y,T,Te,k,$,le,qW),c.context=VW(null),d=c.current,y=ms(),y=Dn(y),T=Zo(y),T.callback=null,zo(d,T,y),d=y,c.current.lanes=d,kt(c,d),Wa(c),s[$n]=c.current,JS(s),new Py(c)},yg.version="19.2.0",yg}var fE;function tN(){if(fE)return Yb.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yb.exports=eN(),Yb.exports}var nN=tN();const rN=Co(nN),Gx=new WeakMap,iN=new WeakMap,zv={current:[]};let Ub=!1,Vg=0;const kg=new Set,Ny=new Map;function q5(t){for(const e of t){if(zv.current.includes(e))continue;zv.current.push(e),e.recompute();const n=iN.get(e);if(n)for(const r of n){const i=Gx.get(r);i?.length&&q5(i)}}}function sN(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function aN(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function Q5(t){if(Vg>0&&!Ny.has(t)&&Ny.set(t,t.prevState),kg.add(t),!(Vg>0)&&!Ub)try{for(Ub=!0;kg.size>0;){const e=Array.from(kg);kg.clear();for(const n of e){const r=Ny.get(n)??n.prevState;n.prevState=r,sN(n)}for(const n of e){const r=Gx.get(n);r&&(zv.current.push(n),q5(r))}for(const n of e){const r=Gx.get(n);if(r)for(const i of r)aN(i)}}}finally{Ub=!1,zv.current=[],Ny.clear()}}function Fg(t){Vg++;try{t()}finally{if(Vg--,Vg===0){const e=kg.values().next().value;e&&Q5(e)}}}function oN(t){return typeof t=="function"}class lN{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,a;this.listeners.add(r);const o=(a=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:a.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,r,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):oN(e)?this.state=e(this.prevState):this.state=e,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),Q5(this)}}const Sl="__TSR_index",dE="popstate",hE="beforeunload";function cN(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},a=async({task:o,navigateOpts:l,...u})=>{if(l?.ignoreBlocker??!1){o();return}const p=t.getBlockers?.()??[],h=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&p.length&&h)for(const m of p){const g=$v(u.path,u.state);if(await m.blockerFn({currentLocation:e,nextLocation:g,action:u.type})){t.onBlocked?.();return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,u)=>{const f=e.state[Sl];l=pE(f+1,l),a({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:l})},replace:(o,l,u)=>{const f=e.state[Sl];l=pE(f,l),a({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:l})},go:(o,l)=>{a({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{a({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{a({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Sl]!==0,createHref:o=>t.createHref(o),block:o=>{if(!t.setBlockers)return()=>{};const l=t.getBlockers?.()??[];return t.setBlockers([...l,o]),()=>{const u=t.getBlockers?.()??[];t.setBlockers?.(u.filter(f=>f!==o))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:r}}function pE(t,e){e||(e={});const n=vT();return{...e,key:n,__TSR_key:n,[Sl]:t}}function uN(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const a=()=>i,o=I=>i=I,l=(I=>I),u=(()=>$v(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const I=vT();e.history.replaceState({[Sl]:0,key:I,__TSR_key:I},"")}let f=u(),p,h=!1,m=!1,g=!1,_=!1;const v=()=>f;let S,b;const Y=()=>{S&&(w._ignoreSubscribers=!0,(S.isPush?e.history.pushState:e.history.replaceState)(S.state,"",S.href),w._ignoreSubscribers=!1,S=void 0,b=void 0,p=void 0)},E=(I,P,O)=>{const V=l(P);b||(p=f),f=$v(P,O),S={href:V,state:O,isPush:S?.isPush||I==="push"},b||(b=Promise.resolve().then(()=>Y()))},M=I=>{f=u(),w.notify({type:I})},U=async()=>{if(m){m=!1;return}const I=u(),P=I.state[Sl]-f.state[Sl],O=P===1,V=P===-1,N=!O&&!V||h;h=!1;const F=N?"GO":V?"BACK":"FORWARD",R=N?{type:"GO",index:P}:{type:V?"BACK":"FORWARD"};if(g)g=!1;else{const K=a();if(typeof document<"u"&&K.length){for(const Z of K)if(await Z.blockerFn({currentLocation:f,nextLocation:I,action:F})){m=!0,e.history.go(1),w.notify(R);return}}}f=u(),w.notify(R)},W=I=>{if(_){_=!1;return}let P=!1;const O=a();if(typeof document<"u"&&O.length)for(const V of O){const N=V.enableBeforeUnload??!0;if(N===!0){P=!0;break}if(typeof N=="function"&&N()===!0){P=!0;break}}if(P)return I.preventDefault(),I.returnValue=""},w=cN({getLocation:v,getLength:()=>e.history.length,pushState:(I,P)=>E("push",I,P),replaceState:(I,P)=>E("replace",I,P),back:I=>(I&&(g=!0),_=!0,e.history.back()),forward:I=>{I&&(g=!0),_=!0,e.history.forward()},go:I=>{h=!0,e.history.go(I)},createHref:I=>l(I),flush:Y,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(hE,W,{capture:!0}),e.removeEventListener(dE,U)},onBlocked:()=>{p&&f!==p&&(f=p)},getBlockers:a,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(hE,W,{capture:!0}),e.addEventListener(dE,U),e.history.pushState=function(...I){const P=n.apply(e.history,I);return w._ignoreSubscribers||M("PUSH"),P},e.history.replaceState=function(...I){const P=r.apply(e.history,I);return w._ignoreSubscribers||M("REPLACE"),P},w}function $v(t,e){const n=t.indexOf("#"),r=t.indexOf("?"),i=vT();return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Sl]:0,key:i,__TSR_key:i}}}function vT(){return(Math.random()+1).toString(36).substring(7)}function jv(t){return t[t.length-1]}function fN(t){return typeof t=="function"}function mc(t,e){return fN(t)?t(e):t}const dN=Object.prototype.hasOwnProperty;function Zs(t,e){if(t===e)return t;const n=e,r=yE(t)&&yE(n);if(!r&&!(Kv(t)&&Kv(n)))return n;const i=r?t:mE(t);if(!i)return n;const a=r?n:mE(n);if(!a)return n;const o=i.length,l=a.length,u=r?new Array(l):{};let f=0;for(let p=0;p<l;p++){const h=r?p:a[p],m=t[h],g=n[h];if(m===g){u[h]=m,(r?p<o:dN.call(t,h))&&f++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){u[h]=g;continue}const _=Zs(m,g);u[h]=_,_===m&&f++}return o===l&&f===o?t:u}function mE(t){const e=[],n=Object.getOwnPropertyNames(t);for(const i of n){if(!Object.prototype.propertyIsEnumerable.call(t,i))return!1;e.push(i)}const r=Object.getOwnPropertySymbols(t);for(const i of r){if(!Object.prototype.propertyIsEnumerable.call(t,i))return!1;e.push(i)}return e}function Kv(t){if(!gE(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!gE(n)||!n.hasOwnProperty("isPrototypeOf"))}function gE(t){return Object.prototype.toString.call(t)==="[object Object]"}function yE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gc(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let r=0,i=t.length;r<i;r++)if(!gc(t[r],e[r],n))return!1;return!0}if(Kv(t)&&Kv(e)){const r=n?.ignoreUndefined??!0;if(n?.partial){for(const o in e)if((!r||e[o]!==void 0)&&!gc(t[o],e[o],n))return!1;return!0}let i=0;if(!r)i=Object.keys(t).length;else for(const o in t)t[o]!==void 0&&i++;let a=0;for(const o in e)if((!r||e[o]!==void 0)&&(a++,a>i||!gc(t[o],e[o],n)))return!1;return i===a}return!1}function Jm(t){let e,n;const r=new Promise((i,a)=>{e=i,n=a});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function hN(t){return typeof t?.message!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function bl(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function vE(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function _E(t,e){if(!t)return t;const n=/%25|%5C/gi;let r=0,i="",a;for(;(a=n.exec(t))!==null;)i+=vE(t.slice(r,a.index))+a[0],r=n.lastIndex;return i+vE(r?t.slice(r):t)}var pN="Invariant failed";function xo(t,e){if(!t)throw new Error(pN)}function Hv(t){const e=new Map;let n,r;const i=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,r&&(r.next=a,a.prev=r)):(a.next.prev=void 0,n=a.next,a.next=void 0,r&&(a.prev=r,r.next=a)),r=a)};return{get(a){const o=e.get(a);if(o)return i(o),o.value},set(a,o){if(e.size>=t&&n){const u=n;e.delete(u.key),u.next&&(n=u.next,u.next.prev=void 0),u===r&&(r=void 0)}const l=e.get(a);if(l)l.value=o,i(l);else{const u={key:a,value:o,prev:r};r&&(r.next=u),r=u,n||(n=u),e.set(a,u)}},clear(){e.clear(),n=void 0,r=void 0}}}const e0=0,xc=1,Yc=2,qg=3,mN=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,gN=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,yN=/^([^{]*)\{\$\}([^}]*)$/;function _T(t,e,n=new Uint16Array(6)){const r=t.indexOf("/",e),i=r===-1?t.length:r,a=t.substring(e,i);if(!a||!a.includes("$"))return n[0]=e0,n[1]=e,n[2]=e,n[3]=i,n[4]=i,n[5]=i,n;if(a==="$"){const f=t.length;return n[0]=Yc,n[1]=e,n[2]=e,n[3]=f,n[4]=f,n[5]=f,n}if(a.charCodeAt(0)===36)return n[0]=xc,n[1]=e,n[2]=e+1,n[3]=i,n[4]=i,n[5]=i,n;const o=a.match(yN);if(o){const p=o[1].length;return n[0]=Yc,n[1]=e+p,n[2]=e+p+1,n[3]=e+p+2,n[4]=e+p+3,n[5]=t.length,n}const l=a.match(gN);if(l){const f=l[1],p=l[2],h=l[3],m=f.length;return n[0]=qg,n[1]=e+m,n[2]=e+m+3,n[3]=e+m+3+p.length,n[4]=i-h.length,n[5]=i,n}const u=a.match(mN);if(u){const f=u[1],p=u[2],h=u[3],m=f.length;return n[0]=xc,n[1]=e+m,n[2]=e+m+2,n[3]=e+m+2+p.length,n[4]=i-h.length,n[5]=i,n}return n[0]=e0,n[1]=e,n[2]=e,n[3]=i,n[4]=i,n[5]=i,n}function N_(t,e,n,r,i,a,o){o?.(n);let l=r;{const u=n.fullPath??n.from,f=u.length,p=n.options?.caseSensitive??t;for(;l<f;){const h=_T(u,l,e);let m;const g=l,_=h[5];switch(l=_+1,a++,h[0]){case e0:{const S=u.substring(h[2],h[3]);if(p){const b=i.static?.get(S);if(b)m=b;else{i.static??=new Map;const Y=Qg(n.fullPath??n.from);Y.parent=i,Y.depth=a,m=Y,i.static.set(S,Y)}}else{const b=S.toLowerCase(),Y=i.staticInsensitive?.get(b);if(Y)m=Y;else{i.staticInsensitive??=new Map;const E=Qg(n.fullPath??n.from);E.parent=i,E.depth=a,m=E,i.staticInsensitive.set(b,E)}}break}case xc:{const S=u.substring(g,h[1]),b=u.substring(h[4],_),Y=p&&!!(S||b),E=S?Y?S:S.toLowerCase():void 0,M=b?Y?b:b.toLowerCase():void 0,U=i.dynamic?.find(W=>W.caseSensitive===Y&&W.prefix===E&&W.suffix===M);if(U)m=U;else{const W=Ab(xc,n.fullPath??n.from,Y,E,M);m=W,W.depth=a,W.parent=i,i.dynamic??=[],i.dynamic.push(W)}break}case qg:{const S=u.substring(g,h[1]),b=u.substring(h[4],_),Y=p&&!!(S||b),E=S?Y?S:S.toLowerCase():void 0,M=b?Y?b:b.toLowerCase():void 0,U=i.optional?.find(W=>W.caseSensitive===Y&&W.prefix===E&&W.suffix===M);if(U)m=U;else{const W=Ab(qg,n.fullPath??n.from,Y,E,M);m=W,W.parent=i,W.depth=a,i.optional??=[],i.optional.push(W)}break}case Yc:{const S=u.substring(g,h[1]),b=u.substring(h[4],_),Y=p&&!!(S||b),E=S?Y?S:S.toLowerCase():void 0,M=b?Y?b:b.toLowerCase():void 0,U=Ab(Yc,n.fullPath??n.from,Y,E,M);m=U,U.parent=i,U.depth=a,i.wildcard??=[],i.wildcard.push(U)}}i=m}if((n.path||!n.children)&&!n.isRoot){const h=u.endsWith("/");h||(i.notFound=n),(!i.route||!i.isIndex&&h)&&(i.route=n),i.isIndex||=h}}if(n.children)for(const u of n.children)N_(t,e,u,l,i,a,o)}function Cb(t,e){if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function fc(t){if(t.static)for(const e of t.static.values())fc(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())fc(e);if(t.dynamic?.length){t.dynamic.sort(Cb);for(const e of t.dynamic)fc(e)}if(t.optional?.length){t.optional.sort(Cb);for(const e of t.optional)fc(e)}if(t.wildcard?.length){t.wildcard.sort(Cb);for(const e of t.wildcard)fc(e)}}function Qg(t){return{kind:e0,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,isIndex:!1,notFound:null}}function Ab(t,e,n,r,i){return{kind:t,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null,caseSensitive:n,prefix:r,suffix:i}}function vN(t,e){const n=Qg("/"),r=new Uint16Array(6);for(const i of t)N_(!1,r,i,1,n,0);fc(n),e.masksTree=n,e.flatCache=Hv(1e3)}function _N(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const r=ST(t,e.masksTree);return e.flatCache.set(t,r),r}function SN(t,e,n,r,i){t||="/",r||="/";const a=e?`case\0${t}`:t;let o=i.singleCache.get(a);if(!o){o=Qg("/");const l=new Uint16Array(6);N_(e,l,{from:t},1,o,0),i.singleCache.set(a,o)}return ST(r,o,n)}function bN(t,e,n=!1){const r=n?t:`nofuzz\0${t}`,i=e.matchCache.get(r);if(i!==void 0)return i;t||="/";const a=ST(t,e.segmentTree,n);return a&&(a.branch=wN(a.route)),e.matchCache.set(r,a),a}function xN(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function YN(t,e=!1,n){const r=Qg(t.fullPath),i=new Uint16Array(6),a={},o={};let l=0;return N_(e,i,t,1,r,0,f=>{if(n?.(f,l),xo(!(f.id in a),`Duplicate routes found with id: ${String(f.id)}`),a[f.id]=f,l!==0&&f.path){const p=xN(f.fullPath);(!o[p]||f.fullPath.endsWith("/"))&&(o[p]=f)}l++}),fc(r),{processedTree:{segmentTree:r,singleCache:Hv(1e3),matchCache:Hv(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:o}}function ST(t,e,n=!1){const r=t.split("/"),i=EN(t,r,e,n);if(!i)return null;const a=TN(t,r,i),o="**"in i;return o&&(a["**"]=i["**"]),{route:o?i.node.notFound??i.node.route:i.node.route,params:a}}function TN(t,e,n){const r=WN(n.node);let i=null;const a={};for(let o=0,l=0,u=0;l<r.length;o++,l++,u++){const f=r[l],p=e[o],h=u;if(p&&(u+=p.length),f.kind===xc){i??=n.node.fullPath.split("/");const m=i[l],g=f.prefix?.length??0;if(m.charCodeAt(g)===123){const v=f.suffix?.length??0,S=m.substring(g+2,m.length-v-1),b=p.substring(g,p.length-v);a[S]=decodeURIComponent(b)}else{const v=m.substring(1);a[v]=decodeURIComponent(p)}}else if(f.kind===qg){if(n.skipped&1<<l){o--;continue}i??=n.node.fullPath.split("/");const m=i[l],g=f.prefix?.length??0,_=f.suffix?.length??0,v=m.substring(g+3,m.length-_-1),S=f.suffix||f.prefix?p.substring(g,p.length-_):p;S&&(a[v]=decodeURIComponent(S))}else if(f.kind===Yc){const m=f,g=t.substring(h+(m.prefix?.length??0),t.length-(m.suffix?.length??0)),_=decodeURIComponent(g);a["*"]=_,a._splat=_;break}}return a}function wN(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function WN(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function EN(t,e,n,r){const i=!jv(e),a=i&&t!=="/",o=e.length-(i?1:0),l=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,f=null,p=null;for(;l.length;){const h=l.pop();let{node:m,index:g,skipped:_,depth:v,statics:S,dynamics:b,optionals:Y}=h;r&&m.notFound&&kb(f,h)&&(f=h);const E=g===o;if(E){if(m.route&&(!a||m.isIndex)&&(kb(p,h)&&(p=h),S===o&&m.isIndex))return p;if(!m.optional&&!m.wildcard)continue}const M=E?void 0:e[g];let U;if(m.wildcard&&kb(u,h))for(const W of m.wildcard){const{prefix:w,suffix:I}=W;if(!(w&&(E||!(W.caseSensitive?M:U??=M.toLowerCase()).startsWith(w)))){if(I){if(E)continue;const P=e.slice(g).join("/").slice(-I.length);if((W.caseSensitive?P:P.toLowerCase())!==I)continue}u={node:W,index:g,skipped:_,depth:v,statics:S,dynamics:b,optionals:Y};break}}if(m.optional){const W=_|1<<v,w=v+1;for(let I=m.optional.length-1;I>=0;I--){const P=m.optional[I];l.push({node:P,index:g,skipped:W,depth:w,statics:S,dynamics:b,optionals:Y})}if(!E)for(let I=m.optional.length-1;I>=0;I--){const P=m.optional[I],{prefix:O,suffix:V}=P;if(O||V){const N=P.caseSensitive?M:U??=M.toLowerCase();if(O&&!N.startsWith(O)||V&&!N.endsWith(V))continue}l.push({node:P,index:g+1,skipped:_,depth:w,statics:S,dynamics:b,optionals:Y+1})}}if(!E&&m.dynamic&&M)for(let W=m.dynamic.length-1;W>=0;W--){const w=m.dynamic[W],{prefix:I,suffix:P}=w;if(I||P){const O=w.caseSensitive?M:U??=M.toLowerCase();if(I&&!O.startsWith(I)||P&&!O.endsWith(P))continue}l.push({node:w,index:g+1,skipped:_,depth:v+1,statics:S,dynamics:b+1,optionals:Y})}if(!E&&m.staticInsensitive){const W=m.staticInsensitive.get(U??=M.toLowerCase());W&&l.push({node:W,index:g+1,skipped:_,depth:v+1,statics:S+1,dynamics:b,optionals:Y})}if(!E&&m.static){const W=m.static.get(M);W&&l.push({node:W,index:g+1,skipped:_,depth:v+1,statics:S+1,dynamics:b,optionals:Y})}}if(p)return p;if(u)return u;if(r&&f){let h=f.index;for(let g=0;g<f.index;g++)h+=e[g].length;const m=h===t.length?"/":t.slice(h);return{node:f.node,skipped:f.skipped,"**":decodeURIComponent(m)}}return null}function kb(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&(e.node.isIndex>t.node.isIndex||e.node.isIndex===t.node.isIndex&&e.depth>t.depth))):!0}function dv(t){return bT(t.filter(e=>e!==void 0).join("/"))}function bT(t){return t.replace(/\/{2,}/g,"/")}function J5(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function yc(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function hv(t){return yc(J5(t))}function Gv(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function UN(t,e,n){return Gv(t,n)===Gv(e,n)}function CN({base:t,to:e,trailingSlash:n="never",cache:r}){const i=e.startsWith("/"),a=!i&&e===".";let o;if(r){o=i?e:a?t:t+"\0"+e;const h=r.get(o);if(h)return h}let l;if(a)l=t.split("/");else if(i)l=e.split("/");else{for(l=t.split("/");l.length>1&&jv(l)==="";)l.pop();const h=e.split("/");for(let m=0,g=h.length;m<g;m++){const _=h[m];_===""?m?m===g-1&&l.push(_):l=[_]:_===".."?l.pop():_==="."||l.push(_)}}l.length>1&&(jv(l)===""?n==="never"&&l.pop():n==="always"&&l.push(""));let u,f="";for(let h=0;h<l.length;h++){h>0&&(f+="/");const m=l[h];if(!m)continue;u=_T(m,0,u);const g=u[0];if(g===e0){f+=m;continue}const _=u[5],v=m.substring(0,u[1]),S=m.substring(u[4],_),b=m.substring(u[2],u[3]);g===xc?f+=v||S?`${v}{$${b}}${S}`:`$${b}`:g===Yc?f+=v||S?`${v}{$}${S}`:"$":f+=`${v}{-$${b}}${S}`}f=bT(f);const p=f||"/";return o&&r&&r.set(o,p),p}function Ib(t,e,n){const r=e[t];return typeof r!="string"?r:t==="_splat"?encodeURI(r):AN(r,n)}function Rb({path:t,params:e,decodeCharMap:n}){let r=!1;const i={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:i,isMissingParams:r};if(!t.includes("$"))return{interpolatedPath:t,usedParams:i,isMissingParams:r};const a=t.length;let o=0,l,u="";for(;o<a;){const p=o;l=_T(t,p,l);const h=l[5];if(o=h+1,p===h)continue;const m=l[0];if(m===e0){u+="/"+t.substring(p,h);continue}if(m===Yc){const g=e._splat;i._splat=g,i["*"]=g;const _=t.substring(p,l[1]),v=t.substring(l[4],h);if(!g){r=!0,(_||v)&&(u+="/"+_+v);continue}const S=Ib("_splat",e,n);u+="/"+_+S+v;continue}if(m===xc){const g=t.substring(l[2],l[3]);!r&&!(g in e)&&(r=!0),i[g]=e[g];const _=t.substring(p,l[1]),v=t.substring(l[4],h),S=Ib(g,e,n)??"undefined";u+="/"+_+S+v;continue}if(m===qg){const g=t.substring(l[2],l[3]),_=e[g];if(_==null)continue;i[g]=_;const v=t.substring(p,l[1]),S=t.substring(l[4],h),b=Ib(g,e,n)??"";u+="/"+v+b+S;continue}}return t.endsWith("/")&&(u+="/"),{usedParams:i,interpolatedPath:u||"/",isMissingParams:r}}function AN(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function $s(t){return!!t?.isNotFound}function kN(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const qv="tsr-scroll-restoration-v1_3",IN=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}};function RN(){const t=kN();if(!t)return null;const e=t.getItem(qv);let n=e?JSON.parse(e):{};return{state:n,set:r=>(n=mc(r,n)||n,t.setItem(qv,JSON.stringify(n)))}}const Oy=RN(),qx=t=>t.state.__TSR_key||t.href;function XN(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qv=!1;function eA({storageKey:t,key:e,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:i,location:a}){let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(f){console.error(f);return}const l=e||window.history.state?.__TSR_key,u=o[l];Qv=!0;e:{if(r&&u&&Object.keys(u).length>0){for(const h in u){const m=u[h];if(h==="window")window.scrollTo({top:m.scrollY,left:m.scrollX,behavior:n});else if(h){const g=document.querySelector(h);g&&(g.scrollLeft=m.scrollX,g.scrollTop=m.scrollY)}}break e}const f=(a??window.location).hash.split("#",2)[1];if(f){const h=window.history.state?.__hashScrollIntoViewOptions??!0;if(h){const m=document.getElementById(f);m&&m.scrollIntoView(h)}break e}const p={top:0,left:0,behavior:n};if(window.scrollTo(p),i)for(const h of i){if(h==="window")continue;const m=typeof h=="function"?h():document.querySelector(h);m&&m.scrollTo(p)}}Qv=!1}function PN(t,e){if(!Oy&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Oy))return;t.isScrollRestorationSetup=!0,Qv=!1;const r=t.options.getScrollRestorationKey||qx;window.history.scrollRestoration="manual";const i=a=>{if(Qv||!t.isScrollRestoring)return;let o="";if(a.target===document||a.target===window)o="window";else{const u=a.target.getAttribute("data-scroll-restoration-id");u?o=`[data-scroll-restoration-id="${u}"]`:o=XN(a.target)}const l=r(t.state.location);Oy.set(u=>{const f=u[l]||={},p=f[o]||={};if(o==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(o){const h=document.querySelector(o);h&&(p.scrollX=h.scrollLeft||0,p.scrollY=h.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",IN(i,100),!0),t.subscribe("onRendered",a=>{const o=r(a.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(eA({storageKey:qv,key:o,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Oy.set(l=>(l[o]||={},l)))})}function MN(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function NN(t,e=String){const n=new URLSearchParams;for(const r in t){const i=t[r];i!==void 0&&n.set(r,e(i))}return n.toString()}function Xb(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function ON(t){const e=new URLSearchParams(t),n={};for(const[r,i]of e.entries()){const a=n[r];a==null?n[r]=Xb(i):Array.isArray(a)?a.push(Xb(i)):n[r]=[a,Xb(i)]}return n}const DN=VN(JSON.parse),BN=FN(JSON.stringify,JSON.parse);function VN(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=ON(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function FN(t,e){const n=typeof e=="function";function r(i){if(typeof i=="object"&&i!==null)try{return t(i)}catch{}else if(n&&typeof i=="string")try{return e(i),t(i)}catch{}return i}return i=>{const a=NN(i,r);return a?`?${a}`:""}}const Ss="__root__";function LN(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function ca(t){return t instanceof Response&&!!t.options}const pv=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},O_=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),tA=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),xo(n.options.notFoundComponent);const r=t.matches.find(i=>i.routeId===n.id);xo(r,"Could not find match for route: "+n.id),t.updateMatch(r.id,i=>({...i,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,tA(t,e))},gl=(t,e,n)=>{if(!(!ca(n)&&!$s(n))){if(ca(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const r=ca(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,i=>({...i,status:r,isFetching:!1,error:n})),$s(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw ca(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(tA(t,n),n)}},nA=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},vg=(t,e,n,r)=>{const{id:i,routeId:a}=t.matches[e],o=t.router.looseRoutesById[a];if(n instanceof Promise)throw n;n.routerCode=r,t.firstBadMatchIndex??=e,gl(t,t.router.getMatch(i),n);try{o.options.onError?.(n)}catch(l){n=l,gl(t,t.router.getMatch(i),n)}t.updateMatch(i,l=>(l._nonReactive.beforeLoadPromise?.resolve(),l._nonReactive.beforeLoadPromise=void 0,l._nonReactive.loadPromise?.resolve(),{...l,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},ZN=(t,e,n,r)=>{const i=t.router.getMatch(e),a=t.matches[n-1]?.id,o=a?t.router.getMatch(a):void 0;if(t.router.isShell()){i.ssr=r.id===Ss;return}if(o?.ssr===!1){i.ssr=!1;return}const l=g=>g===!0&&o?.ssr==="data-only"?"data-only":g,u=t.router.options.defaultSsr??!0;if(r.options.ssr===void 0){i.ssr=l(u);return}if(typeof r.options.ssr!="function"){i.ssr=l(r.options.ssr);return}const{search:f,params:p}=i,h={search:Dy(f,i.searchError),params:Dy(p,i.paramsError),location:t.location,matches:t.matches.map(g=>({index:g.index,pathname:g.pathname,fullPath:g.fullPath,staticData:g.staticData,id:g.id,routeId:g.routeId,search:Dy(g.search,g.searchError),params:Dy(g.params,g.paramsError),ssr:g.ssr}))},m=r.options.ssr(h);if(bl(m))return m.then(g=>{i.ssr=l(g??u)});i.ssr=l(m??u)},rA=(t,e,n,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;const i=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!O_(t,e)&&(n.options.loader||n.options.beforeLoad||aA(n))&&typeof i=="number"&&i!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const o=setTimeout(()=>{pv(t)},i);r._nonReactive.pendingTimeout=o}},zN=(t,e,n)=>{const r=t.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;rA(t,e,n,r);const i=()=>{const a=t.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&gl(t,a,a.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(i):i()},$N=(t,e,n,r)=>{const i=t.router.getMatch(e),a=i._nonReactive.loadPromise;i._nonReactive.loadPromise=Jm(()=>{a?.resolve()});const{paramsError:o,searchError:l}=i;o&&vg(t,n,o,"PARSE_PARAMS"),l&&vg(t,n,l,"VALIDATE_SEARCH"),rA(t,e,r,i);const u=new AbortController,f=t.matches[n-1]?.id,m={...(f?t.router.getMatch(f):void 0)?.context??t.router.options.context??void 0,...i.__routeContext};let g=!1;const _=()=>{g||(g=!0,t.updateMatch(e,w=>({...w,isFetching:"beforeLoad",fetchCount:w.fetchCount+1,abortController:u,context:m})))},v=()=>{i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,w=>({...w,isFetching:!1}))};if(!r.options.beforeLoad){Fg(()=>{_(),v()});return}i._nonReactive.beforeLoadPromise=Jm();const{search:S,params:b,cause:Y}=i,E=O_(t,e),M={search:S,abortController:u,params:b,preload:E,context:m,location:t.location,navigate:w=>t.router.navigate({...w,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:E?"preload":Y,matches:t.matches,...t.router.options.additionalContext},U=w=>{if(w===void 0){Fg(()=>{_(),v()});return}(ca(w)||$s(w))&&(_(),vg(t,n,w,"BEFORE_LOAD")),Fg(()=>{_(),t.updateMatch(e,I=>({...I,__beforeLoadContext:w,context:{...I.context,...w}})),v()})};let W;try{if(W=r.options.beforeLoad(M),bl(W))return _(),W.catch(w=>{vg(t,n,w,"BEFORE_LOAD")}).then(U)}catch(w){_(),vg(t,n,w,"BEFORE_LOAD")}U(W)},jN=(t,e)=>{const{id:n,routeId:r}=t.matches[e],i=t.router.looseRoutesById[r],a=()=>{if(t.router.isServer){const u=ZN(t,n,e,i);if(bl(u))return u.then(l)}return l()},o=()=>$N(t,n,e,i),l=()=>{if(nA(t,n))return;const u=zN(t,n,i);return bl(u)?u.then(o):o()};return a()},Lg=(t,e,n)=>{const r=t.router.getMatch(e);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const i={matches:t.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([n.options.head?.(i),n.options.scripts?.(i),n.options.headers?.(i)]).then(([a,o,l])=>{const u=a?.meta,f=a?.links,p=a?.scripts,h=a?.styles;return{meta:u,links:f,headScripts:p,headers:l,scripts:o,styles:h}})},iA=(t,e,n,r)=>{const i=t.matchPromises[n-1],{params:a,loaderDeps:o,abortController:l,cause:u}=t.router.getMatch(e);let f=t.router.options.context??{};for(let h=0;h<=n;h++){const m=t.matches[h];if(!m)continue;const g=t.router.getMatch(m.id);g&&(f={...f,...g.__routeContext??{},...g.__beforeLoadContext??{}})}const p=O_(t,e);return{params:a,deps:o,preload:!!p,parentMatchPromise:i,abortController:l,context:f,location:t.location,navigate:h=>t.router.navigate({...h,_fromLocation:t.location}),cause:p?"preload":u,route:r,...t.router.options.additionalContext}},SE=async(t,e,n,r)=>{try{const i=t.router.getMatch(e);try{(!t.router.isServer||i.ssr===!0)&&sA(r);const a=r.options.loader?.(iA(t,e,n,r)),o=r.options.loader&&bl(a);if(!!(o||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||i._nonReactive.minPendingPromise)&&t.updateMatch(e,h=>({...h,isFetching:"loader"})),r.options.loader){const h=o?await a:a;gl(t,t.router.getMatch(e),h),h!==void 0&&t.updateMatch(e,m=>({...m,loaderData:h}))}r._lazyPromise&&await r._lazyPromise;const u=Lg(t,e,r),f=u?await u:void 0,p=i._nonReactive.minPendingPromise;p&&await p,r._componentsPromise&&await r._componentsPromise,t.updateMatch(e,h=>({...h,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...f}))}catch(a){let o=a;const l=i._nonReactive.minPendingPromise;l&&await l,$s(a)&&await r.options.notFoundComponent?.preload?.(),gl(t,t.router.getMatch(e),a);try{r.options.onError?.(a)}catch(p){o=p,gl(t,t.router.getMatch(e),p)}const u=Lg(t,e,r),f=u?await u:void 0;t.updateMatch(e,p=>({...p,error:o,status:"error",isFetching:!1,...f}))}}catch(i){const a=t.router.getMatch(e);if(a){const o=Lg(t,e,r);if(o){const l=await o;t.updateMatch(e,u=>({...u,...l}))}a._nonReactive.loaderPromise=void 0}gl(t,a,i)}},KN=async(t,e)=>{const{id:n,routeId:r}=t.matches[e];let i=!1,a=!1;const o=t.router.looseRoutesById[r];if(nA(t,n)){if(t.router.isServer){const f=Lg(t,n,o);if(f){const p=await f;t.updateMatch(n,h=>({...h,...p}))}return t.router.getMatch(n)}}else{const f=t.router.getMatch(n);if(f._nonReactive.loaderPromise){if(f.status==="success"&&!t.sync&&!f.preload)return f;await f._nonReactive.loaderPromise;const p=t.router.getMatch(n),h=p._nonReactive.error||p.error;h&&gl(t,p,h)}else{const p=Date.now()-f.updatedAt,h=O_(t,n),m=h?o.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:o.options.staleTime??t.router.options.defaultStaleTime??0,g=o.options.shouldReload,_=typeof g=="function"?g(iA(t,n,e,o)):g,v=!!h&&!t.router.state.matches.some(E=>E.id===n),S=t.router.getMatch(n);S._nonReactive.loaderPromise=Jm(),v!==S.preload&&t.updateMatch(n,E=>({...E,preload:v}));const{status:b,invalid:Y}=S;if(i=b==="success"&&(Y||(_??p>m)),!(h&&o.options.preload===!1))if(i&&!t.sync)a=!0,(async()=>{try{await SE(t,n,e,o);const E=t.router.getMatch(n);E._nonReactive.loaderPromise?.resolve(),E._nonReactive.loadPromise?.resolve(),E._nonReactive.loaderPromise=void 0}catch(E){ca(E)&&await t.router.navigate(E.options)}})();else if(b!=="success"||i&&t.sync)await SE(t,n,e,o);else{const E=Lg(t,n,o);if(E){const M=await E;t.updateMatch(n,U=>({...U,...M}))}}}}const l=t.router.getMatch(n);a||(l._nonReactive.loaderPromise?.resolve(),l._nonReactive.loadPromise?.resolve()),clearTimeout(l._nonReactive.pendingTimeout),l._nonReactive.pendingTimeout=void 0,a||(l._nonReactive.loaderPromise=void 0),l._nonReactive.dehydrated=void 0;const u=a?l.isFetching:!1;return u!==l.isFetching||l.invalid!==!1?(t.updateMatch(n,f=>({...f,isFetching:u,invalid:!1})),t.router.getMatch(n)):l};async function bE(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&pv(e);try{for(let i=0;i<e.matches.length;i++){const a=jN(e,i);bl(a)&&await a}const n=e.firstBadMatchIndex??e.matches.length;for(let i=0;i<n;i++)e.matchPromises.push(KN(e,i));await Promise.all(e.matchPromises);const r=pv(e);bl(r)&&await r}catch(n){if($s(n)&&!e.preload){const r=pv(e);throw bl(r)&&await r,n}if(ca(n))throw n}return e.matches}async function sA(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...r}=e.options;Object.assign(t.options,r),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const r of oA){const i=t.options[r]?.preload;i&&n.push(i())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function Dy(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function aA(t){for(const e of oA)if(t.options[e]?.preload)return!0;return!1}const oA=["component","errorComponent","pendingComponent","notFoundComponent"];function HN(t){return{input:({url:e})=>{for(const n of t)e=lA(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=cA(t[n],e);return e}}}function GN(t){const e=hv(t.basepath),n=`/${e}`,r=`${n}/`,i=t.caseSensitive?n:n.toLowerCase(),a=t.caseSensitive?r:r.toLowerCase();return{input:({url:o})=>{const l=t.caseSensitive?o.pathname:o.pathname.toLowerCase();return l===i?o.pathname="/":l.startsWith(a)&&(o.pathname=o.pathname.slice(n.length)),o},output:({url:o})=>(o.pathname=dv(["/",e,o.pathname]),o)}}function lA(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function cA(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function vc(t){const e=t.resolvedLocation,n=t.location,r=e?.pathname!==n.pathname,i=e?.href!==n.href,a=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:a}}class qN{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,i=this.basepath??r?.basepath??"/",a=this.basepath===void 0,o=r?.rewrite;this.options={...r,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(m=>[encodeURIComponent(m),m])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=uN())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new lN(JN(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(m=>!["redirected"].includes(m.status))}}}),PN(this));let l=!1;const u=this.options.basepath??"/",f=this.options.rewrite;if(a||i!==u||o!==f){this.basepath=u;const m=[];hv(u)!==""&&m.push(GN({basepath:u})),f&&m.push(f),this.rewrite=m.length===0?void 0:m.length===1?m[0]:HN(m),this.history&&this.updateLatestLocation(),l=!0}l&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,processedTree:i}=YN(this.routeTree,this.options.caseSensitive,(o,l)=>{o.init({originalIndex:l})});this.options.routeMasks&&vN(this.options.routeMasks,i),this.routesById=n,this.routesByPath=r,this.processedTree=i;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({href:u,state:f})=>{const p=new URL(u,this.origin),h=lA(this.rewrite,p),m=this.options.parseSearch(h.search),g=this.options.stringifySearch(m);h.search=g;const _=h.href.replace(h.origin,""),{pathname:v,hash:S}=h;return{href:_,publicHref:u,url:h.href,pathname:_E(v),searchStr:g,search:Zs(r?.search,m),hash:S.split("#").reverse()[0]??"",state:Zs(r?.state,f)}},a=i(n),{__tempLocation:o,__tempKey:l}=a.state;if(o&&(!l||l===this.tempLocationKey)){const u=i(o);return u.state.key=a.state.key,u.state.__TSR_key=a.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:a}}return a},this.resolvePathCache=Hv(1e3),this.resolvePathWithBase=(n,r)=>CN({base:n,to:bT(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=n=>eO({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(a=>a.status==="pending"),r=this.state.matches.filter(a=>a.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...r]).forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=n=>{const r=(a={})=>{const o=a._fromLocation||this.pendingBuiltLocation||this.latestLocation,l=this.matchRoutes(o,{_buildLocation:!0}),u=jv(l);a.from;const f=a.unsafeRelative==="path"?o.pathname:a.from??u.fullPath,p=this.resolvePathWithBase(f,"."),h=u.search,m={...u.params},g=a.to?this.resolvePathWithBase(p,`${a.to}`):this.resolvePathWithBase(p,"."),_=a.params===!1||a.params===null?{}:(a.params??!0)===!0?m:Object.assign(m,mc(a.params,m)),v=Rb({path:g,params:_}).interpolatedPath,S=this.matchRoutes(v,void 0,{_buildLocation:!0}).map(O=>this.looseRoutesById[O.routeId]);if(Object.keys(_).length>0)for(const O of S){const V=O.options.params?.stringify??O.options.stringifyParams;V&&Object.assign(_,V(_))}const b=n.leaveParams?g:_E(Rb({path:g,params:_,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let Y=h;if(n._includeValidateSearch&&this.options.search?.strict){const O={};S.forEach(V=>{if(V.options.validateSearch)try{Object.assign(O,Qx(V.options.validateSearch,{...O,...Y}))}catch{}}),Y=O}Y=tO({search:Y,dest:a,destRoutes:S,_includeValidateSearch:n._includeValidateSearch}),Y=Zs(h,Y);const E=this.options.stringifySearch(Y),M=a.hash===!0?o.hash:a.hash?mc(a.hash,o.hash):void 0,U=M?`#${M}`:"";let W=a.state===!0?o.state:a.state?mc(a.state,o.state):{};W=Zs(o.state,W);const w=`${b}${E}${U}`,I=new URL(w,this.origin),P=cA(this.rewrite,I);return{publicHref:P.pathname+P.search+P.hash,href:w,url:P.href,pathname:b,search:Y,searchStr:E,state:W,hash:M??"",unmaskOnReload:a.unmaskOnReload}},i=(a={},o)=>{const l=r(a);let u=o?r(o):void 0;if(!u){const f={};if(this.options.routeMasks){const p=_N(l.pathname,this.processedTree);if(p){Object.assign(f,p.params);const{from:h,...m}=p.route;o={from:n.from,...m,params:f},u=r(o)}}}return u&&(l.maskedLocation=u),l};return n.mask?i(n,{from:n.from,...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const a=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(p=>{i.state[p]=this.latestLocation.state[p]});const f=gc(i.state,this.latestLocation.state);return u.forEach(p=>{delete i.state[p]}),f},o=yc(this.latestLocation.href)===yc(i.href),l=this.commitLocationPromise;if(this.commitLocationPromise=Jm(()=>{l?.resolve()}),o&&a())this.load();else{let{maskedLocation:u,hashScrollIntoView:f,...p}=i;u&&(p={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:a,ignoreBlocker:o,href:l,...u}={})=>{if(l){const h=this.history.location.state.__TSR_index,m=$v(l,{__TSR_index:n?h:h+1});u.to=m.pathname,u.search=this.options.parseSearch(m.search),u.hash=m.hash.slice(1)}const f=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=f;const p=this.commitLocation({...f,viewTransition:a,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o});return Promise.resolve().then(()=>{this.pendingBuiltLocation===f&&(this.pendingBuiltLocation=void 0)}),p},this.navigate=async({to:n,reloadDocument:r,href:i,...a})=>{if(!r&&i)try{new URL(`${i}`),r=!0}catch{}if(r){if(i||(i=this.buildLocation({to:n,...a}).url),!a.ignoreBlocker){const l=this.history.getBlockers?.()??[];for(const u of l)if(u?.blockerFn&&await u.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(i):window.location.href=i,Promise.resolve()}return this.buildAndCommitLocation({...a,href:i,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),i=a=>{try{return encodeURI(decodeURI(a))}catch{return a}};if(hv(i(this.latestLocation.href))!==hv(i(r.href))){let a=r.url;throw this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),LN({href:a})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(i=>!n.some(a=>a.id===i.id))}))},this.load=async n=>{let r,i,a;for(a=new Promise(l=>{this.startTransition(async()=>{try{this.beforeLoad();const u=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...vc({resolvedLocation:f,location:u})}),this.emit({type:"onBeforeLoad",...vc({resolvedLocation:f,location:u})}),await bE({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let p=[],h=[],m=[];Fg(()=>{this.__store.setState(g=>{const _=g.matches,v=g.pendingMatches||g.matches;return p=_.filter(S=>!v.some(b=>b.id===S.id)),h=v.filter(S=>!_.some(b=>b.id===S.id)),m=v.filter(S=>_.some(b=>b.id===S.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:v,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...p.filter(S=>S.status!=="error"&&S.status!=="notFound")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[h,"onEnter"],[m,"onStay"]].forEach(([g,_])=>{g.forEach(v=>{this.looseRoutesById[v.routeId].options[_]?.(v)})})})})}})}catch(u){ca(u)?(r=u,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):$s(u)&&(i=u),this.__store.setState(f=>({...f,statusCode:r?r.status:i?404:f.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),l()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;let o;this.hasNotFoundMatch()?o=404:this.__store.state.matches.some(l=>l.status==="error")&&(o=500),o!==void 0&&this.__store.setState(l=>({...l,statusCode:o}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,o=this.state.resolvedLocation,l=typeof r.types=="function"?r.types(vc({resolvedLocation:o,location:a})):r.types;if(l===!1){n();return}i={update:n,types:l}}else i=n;document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{this.startTransition(()=>{const i=this.state.pendingMatches?.some(a=>a.id===n)?"pendingMatches":this.state.matches.some(a=>a.id===n)?"matches":this.state.cachedMatches.some(a=>a.id===n)?"cachedMatches":"";i&&this.__store.setState(a=>({...a,[i]:a[i]?.map(o=>o.id===n?r(o):o)}))})},this.getMatch=n=>{const r=i=>i.id===n;return this.state.cachedMatches.find(r)??this.state.pendingMatches?.find(r)??this.state.matches.find(r)},this.invalidate=n=>{const r=i=>n?.filter?.(i)??!0?{...i,invalid:!0,...n?.forcePending||i.status==="error"||i.status==="notFound"?{status:"pending",error:void 0}:void 0}:i;return this.__store.setState(i=>({...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:i.pendingMatches?.map(r)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const r=this.buildLocation(n.options);let i=r.url;this.origin&&i.startsWith(this.origin)&&(i=i.replace(this.origin,"")||"/"),n.options.href=r.href,n.headers.set("Location",i)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(a=>!r(a))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const a=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=a};this.clearCache({filter:n})},this.loadRouteChunk=sA,this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...a,...this.state.cachedMatches.map(l=>l.id)]);Fg(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return i=await bE({router:this,matches:i,location:r,preload:!0,updateMatch:(l,u)=>{a.has(l)?i=i.map(f=>f.id===l?u(f):f):this.updateMatch(l,u)}}),i}catch(l){if(ca(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:r});$s(l)||console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},a=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=SN(a.pathname,r?.caseSensitive??!1,r?.fuzzy??!1,l.pathname,this.processedTree);return!u||n.params&&!gc(u.params,n.params,{partial:!0})?!1:r?.includeSearch??!0?gc(l.search,a.search,{partial:!0})?u.params:!1:u.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??BN,parseSearch:e.parseSearch??DN}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const r=this.getMatchedRoutes(e.pathname),{foundRoute:i,routeParams:a}=r;let{matchedRoutes:o}=r,l=!1;(i?i.path!=="/"&&a["**"]:yc(e.pathname))&&(this.options.notFoundRoute?o=[...o,this.options.notFoundRoute]:l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let h=o.length-1;h>=0;h--){const m=o[h];if(m.children)return m.id}return Ss}})(),f=[],p=h=>h?.id?h.context??this.options.context??void 0:this.options.context??void 0;return o.forEach((h,m)=>{const g=f[m-1],[_,v,S]=(()=>{const F=g?.search??e.search,R=g?._strictSearch??void 0;try{const K=Qx(h.options.validateSearch,{...F})??void 0;return[{...F,...K},{...R,...K},void 0]}catch(K){let Z=K;if(K instanceof Jv||(Z=new Jv(K.message,{cause:K})),n?.throwOnError)throw Z;return[F,{},Z]}})(),b=h.options.loaderDeps?.({search:_})??"",Y=b?JSON.stringify(b):"",{interpolatedPath:E,usedParams:M}=Rb({path:h.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),U=h.id+E+Y,W=this.getMatch(U),w=this.state.matches.find(F=>F.routeId===h.id),I=W?._strictParams??M;let P;if(!W){const F=h.options.params?.parse??h.options.parseParams;if(F)try{Object.assign(I,F(I))}catch(R){if($s(R)||ca(R)?P=R:P=new QN(R.message,{cause:R}),n?.throwOnError)throw P}}Object.assign(a,I);const O=w?"stay":"enter";let V;if(W)V={...W,cause:O,params:w?Zs(w.params,a):a,_strictParams:I,search:Zs(w?w.search:W.search,_),_strictSearch:v};else{const F=h.options.loader||h.options.beforeLoad||h.lazyFn||aA(h)?"pending":"success";V={id:U,ssr:this.isServer?void 0:h.options.ssr,index:m,routeId:h.id,params:w?Zs(w.params,a):a,_strictParams:I,pathname:E,updatedAt:Date.now(),search:w?Zs(w.search,_):_,_strictSearch:v,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:P,__routeContext:void 0,_nonReactive:{loadPromise:Jm()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:O,loaderDeps:w?Zs(w.loaderDeps,b):b,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}n?.preload||(V.globalNotFound=u===h.id),V.searchError=S;const N=p(g);V.context={...N,...V.__routeContext,...V.__beforeLoadContext},f.push(V)}),f.forEach((h,m)=>{const g=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const v=f[m-1],S=p(v);if(g.options.context){const b={deps:h.loaderDeps,params:h.params,context:S??{},location:e,navigate:Y=>this.navigate({...Y,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:f};h.__routeContext=g.options.context(b)??void 0}h.context={...S,...h.__routeContext,...h.__beforeLoadContext}}}),f}}class Jv extends Error{}class QN extends Error{}function JN(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Qx(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Jv("Async validation not supported");if(n.issues)throw new Jv(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function eO({pathname:t,routesById:e,processedTree:n}){const r={},i=yc(t);let a;const o=bN(i,n,!0);return o&&(a=o.route,Object.assign(r,o.params)),{matchedRoutes:o?.branch||[e[Ss]],routeParams:r,foundRoute:a}}function tO({search:t,dest:e,destRoutes:n,_includeValidateSearch:r}){const i=n.reduce((l,u)=>{const f=[];if("search"in u.options)u.options.search?.middlewares&&f.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const p=({search:h,next:m})=>{let g=h;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(g=u.options.preSearchFilters.reduce((v,S)=>S(v),h));const _=m(g);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((v,S)=>S(v),_):_};f.push(p)}if(r&&u.options.validateSearch){const p=({search:h,next:m})=>{const g=m(h);try{return{...g,...Qx(u.options.validateSearch,g)??void 0}}catch{return g}};f.push(p)}return l.concat(f)},[])??[],a=({search:l})=>e.search?e.search===!0?l:mc(e.search,l):{};i.push(a);const o=(l,u)=>{if(l>=i.length)return u;const f=i[l];return f({search:u,next:h=>o(l+1,h)})};return o(0,t)}const nO="Error preloading route! ";class uA{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const r=this.options,i=!r?.path&&!r?.id;this.parentRoute=this.options.getParentRoute?.(),i?this._path=Ss:this.parentRoute||xo(!1);let a=i?Ss:r?.path;a&&a!=="/"&&(a=J5(a));const o=r?.id||a;let l=i?Ss:dv([this.parentRoute.id===Ss?"":this.parentRoute.id,o]);a===Ss&&(a="/"),l!==Ss&&(l=dv(["/",l]));const u=l===Ss?"/":dv([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=u,this._to=u},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class rO extends uA{constructor(e){super(e)}}var B=_0();const gt=Co(B),xT=jM({__proto__:null,default:gt},[B]);function YT(t){const e=t.errorComponent??D_;return A.jsx(iO,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?B.createElement(e,{error:n,reset:r}):t.children})}class iO extends B.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function D_({error:t}){const[e,n]=B.useState(!1);return A.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[A.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),A.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),A.jsx("div",{style:{height:".25rem"}}),e?A.jsx("div",{children:A.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?A.jsx("code",{children:t.message}):null})}):null]})}function sO({children:t,fallback:e=null}){return aO()?A.jsx(gt.Fragment,{children:t}):A.jsx(gt.Fragment,{children:e})}function aO(){return gt.useSyncExternalStore(oO,()=>!0,()=>!1)}function oO(){return()=>{}}var Pb={exports:{}},Mb={},Nb={exports:{}},Ob={};var xE;function lO(){if(xE)return Ob;xE=1;var t=_0();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(h,m){var g=m(),_=r({inst:{value:g,getSnapshot:m}}),v=_[0].inst,S=_[1];return a(function(){v.value=g,v.getSnapshot=m,u(v)&&S({inst:v})},[h,g,m]),i(function(){return u(v)&&S({inst:v}),h(function(){u(v)&&S({inst:v})})},[h]),o(g),g}function u(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function f(h,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Ob.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Ob}var YE;function cO(){return YE||(YE=1,Nb.exports=lO()),Nb.exports}var TE;function uO(){if(TE)return Mb;TE=1;var t=_0(),e=cO();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Mb.useSyncExternalStoreWithSelector=function(f,p,h,m,g){var _=a(null);if(_.current===null){var v={hasValue:!1,value:null};_.current=v}else v=_.current;_=l(function(){function b(W){if(!Y){if(Y=!0,E=W,W=m(W),g!==void 0&&v.hasValue){var w=v.value;if(g(w,W))return M=w}return M=W}if(w=M,r(E,W))return w;var I=m(W);return g!==void 0&&g(w,I)?(E=W,w):(E=W,M=I)}var Y=!1,E,M,U=h===void 0?null:h;return[function(){return b(p())},U===null?void 0:function(){return b(U())}]},[p,h,m,g]);var S=i(f,_[0],_[1]);return o(function(){v.hasValue=!0,v.value=S},[S]),u(S),S},Mb}var wE;function fO(){return wE||(wE=1,Pb.exports=uO()),Pb.exports}var dO=fO();function hO(t,e=r=>r,n={}){const r=n.equal??pO;return dO.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,r)}function pO(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=WE(t);if(n.length!==WE(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function WE(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const Db=B.createContext(null);function fA(){return typeof document>"u"?Db:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Db,Db)}function Es(t){const e=B.useContext(fA());return t?.warn,e}function Zi(t){const e=Es({warn:t?.router===void 0}),n=t?.router||e,r=B.useRef(void 0);return hO(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const a=Zs(r.current,t.select(i));return r.current=a,a}return t.select(i)}return i})}const B_=B.createContext(void 0),mO=B.createContext(void 0);function Ma(t){const e=B.useContext(t.from?mO:B_);return Zi({select:r=>{const i=r.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(xo(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function TT(t){return Ma({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function wT(t){const{select:e,...n}=t;return Ma({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function WT(t){return Ma({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function ET(t){return Ma({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}const By=typeof window<"u"?B.useLayoutEffect:B.useEffect;function Bb(t){const e=B.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function gO(t,e,n={},r={}){B.useEffect(()=>{if(!t.current||r.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([a])=>{e(a)},n);return i.observe(t.current),()=>{i.disconnect()}},[e,n,r.disabled,t])}function yO(t){const e=B.useRef(null);return B.useImperativeHandle(t,()=>e.current,[]),e}function UT(t){const e=Es();return B.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var S0=G5();const dA=Co(S0);function vO(t,e){const n=Es(),[r,i]=B.useState(!1),a=B.useRef(!1),o=yO(e),{activeProps:l,inactiveProps:u,activeOptions:f,to:p,preload:h,preloadDelay:m,hashScrollIntoView:g,replace:_,startTransition:v,resetScroll:S,viewTransition:b,children:Y,target:E,disabled:M,style:U,className:W,onClick:w,onFocus:I,onMouseEnter:P,onMouseLeave:O,onTouchStart:V,ignoreBlocker:N,params:F,search:R,hash:K,state:Z,mask:G,reloadDocument:q,unsafeRelative:Q,from:ue,_fromLocation:j,...te}=t,fe=Zi({select:We=>We.location.search,structuralSharing:!0}),J=t.from,re=B.useMemo(()=>({...t,from:J}),[n,fe,J,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),ae=B.useMemo(()=>n.buildLocation({...re}),[n,re]),de=B.useMemo(()=>{if(M)return;let We=ae.maskedLocation?ae.maskedLocation.url:ae.url,et=!1;return n.origin&&(We.startsWith(n.origin)?We=n.history.createHref(We.replace(n.origin,""))||"/":et=!0),{href:We,external:et}},[M,ae.maskedLocation,ae.url,n.origin,n.history]),pe=B.useMemo(()=>{if(de?.external)return de.href;try{return new URL(p),p}catch{}},[p,de]),ve=t.reloadDocument||pe?!1:h??n.options.defaultPreload,$e=m??n.options.defaultPreloadDelay??0,Pe=Zi({select:We=>{if(pe)return!1;if(f?.exact){if(!UN(We.location.pathname,ae.pathname,n.basepath))return!1}else{const et=Gv(We.location.pathname,n.basepath),ze=Gv(ae.pathname,n.basepath);if(!(et.startsWith(ze)&&(et.length===ze.length||et[ze.length]==="/")))return!1}return(f?.includeSearch??!0)&&!gc(We.location.search,ae.search,{partial:!f?.exact,ignoreUndefined:!f?.explicitUndefined})?!1:f?.includeHash?We.location.hash===ae.hash:!0}}),Ye=B.useCallback(()=>{n.preloadRoute({...re}).catch(We=>{console.warn(We),console.warn(nO)})},[n,re]),Oe=B.useCallback(We=>{We?.isIntersecting&&Ye()},[Ye]);gO(o,Oe,YO,{disabled:!!M||ve!=="viewport"}),B.useEffect(()=>{a.current||!M&&ve==="render"&&(Ye(),a.current=!0)},[M,Ye,ve]);const L=We=>{const et=We.currentTarget.getAttribute("target"),ze=E!==void 0?E:et;if(!M&&!TO(We)&&!We.defaultPrevented&&(!ze||ze==="_self")&&We.button===0){We.preventDefault(),S0.flushSync(()=>{i(!0)});const nt=n.subscribe("onResolved",()=>{nt(),i(!1)});n.navigate({...re,replace:_,resetScroll:S,hashScrollIntoView:g,startTransition:v,viewTransition:b,ignoreBlocker:N})}};if(pe)return{...te,ref:o,href:pe,...Y&&{children:Y},...E&&{target:E},...M&&{disabled:M},...U&&{style:U},...W&&{className:W},...w&&{onClick:w},...I&&{onFocus:I},...P&&{onMouseEnter:P},...O&&{onMouseLeave:O},...V&&{onTouchStart:V}};const Ue=We=>{M||ve&&Ye()},be=Ue,ce=We=>{if(!(M||!ve))if(!$e)Ye();else{const et=We.target;if(_g.has(et))return;const ze=setTimeout(()=>{_g.delete(et),Ye()},$e);_g.set(et,ze)}},se=We=>{if(M||!ve||!$e)return;const et=We.target,ze=_g.get(et);ze&&(clearTimeout(ze),_g.delete(et))},me=Pe?mc(l,{})??_O:Vb,Ne=Pe?Vb:mc(u,{})??Vb,ke=[W,me.className,Ne.className].filter(Boolean).join(" "),ge=(U||me.style||Ne.style)&&{...U,...me.style,...Ne.style};return{...te,...me,...Ne,href:de?.href,ref:o,onClick:Sg([w,L]),onFocus:Sg([I,Ue]),onMouseEnter:Sg([P,ce]),onMouseLeave:Sg([O,se]),onTouchStart:Sg([V,be]),disabled:!!M,target:E,...ge&&{style:ge},...ke&&{className:ke},...M&&SO,...Pe&&bO,...r&&xO}}const Vb={},_O={className:"active"},SO={role:"link","aria-disabled":!0},bO={"data-status":"active","aria-current":"page"},xO={"data-transitioning":"transitioning"},_g=new WeakMap,YO={rootMargin:"100px"},Sg=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},e_=B.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:a,...o}=vO(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return n===void 0&&delete o.disabled,B.createElement(n||"a",{...o,ref:a},l)});function TO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let wO=class extends uA{constructor(e){super(e),this.useMatch=n=>Ma({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ma({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>ET({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>WT({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>wT({...n,from:this.id}),this.useLoaderData=n=>TT({...n,from:this.id}),this.useNavigate=()=>UT({from:this.fullPath}),this.Link=gt.forwardRef((n,r)=>A.jsx(e_,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function WO(t){return new wO(t)}function EO(){return t=>CO(t)}class UO extends rO{constructor(e){super(e),this.useMatch=n=>Ma({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ma({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>ET({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>WT({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>wT({...n,from:this.id}),this.useLoaderData=n=>TT({...n,from:this.id}),this.useNavigate=()=>UT({from:this.fullPath}),this.Link=gt.forwardRef((n,r)=>A.jsx(e_,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function CO(t){return new UO(t)}function Jx(t){return typeof t=="object"?new EE(t,{silent:!0}).createRoute(t):new EE(t,{silent:!0}).createRoute}class EE{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=WO(r);return i.isRoot=!1,i},this.silent=n?.silent}}class UE{constructor(e){this.useMatch=n=>Ma({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ma({from:this.options.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>ET({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>WT({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>wT({...n,from:this.options.id}),this.useLoaderData=n=>TT({...n,from:this.options.id}),this.useNavigate=()=>{const n=Es();return UT({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function CE(t){return typeof t=="object"?new UE(t):e=>new UE({id:t,...e})}function AO(t,e){let n,r,i,a;const o=()=>(n||(n=t().then(u=>{n=void 0,r=u[e]}).catch(u=>{if(i=u,hN(i)&&i instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const f=`tanstack_router_reload:${i.message}`;sessionStorage.getItem(f)||(sessionStorage.setItem(f,"1"),a=!0)}})),n),l=function(f){if(a)throw window.location.reload(),new Promise(()=>{});if(i)throw i;if(!r)throw o();return B.createElement(r,f)};return l.preload=o,l}function kO(){const t=Es(),e=B.useRef({router:t,mounted:!1}),[n,r]=B.useState(!1),{hasPendingMatches:i,isLoading:a}=Zi({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(m=>m.status==="pending")}),structuralSharing:!0}),o=Bb(a),l=a||n||i,u=Bb(l),f=a||i,p=Bb(f);return t.startTransition=h=>{r(!0),B.startTransition(()=>{h(),r(!1)})},B.useEffect(()=>{const h=t.history.subscribe(t.load),m=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return yc(t.latestLocation.href)!==yc(m.href)&&t.commitLocation({...m,replace:!0}),()=>{h()}},[t,t.history]),By(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(m){console.error(m)}})()},[t]),By(()=>{o&&!a&&t.emit({type:"onLoad",...vc(t.state)})},[o,t,a]),By(()=>{p&&!f&&t.emit({type:"onBeforeRouteMount",...vc(t.state)})},[f,p,t]),By(()=>{if(u&&!l){const h=vc(t.state);t.emit({type:"onResolved",...h}),t.__store.setState(m=>({...m,status:"idle",resolvedLocation:m.location})),h.hrefChanged&&MN(t)}},[l,u,t]),null}function IO(t){const e=Zi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return A.jsx(YT,{getResetKey:()=>e,onCatch:(n,r)=>{if($s(n))t.onCatch?.(n,r);else throw n},errorComponent:({error:n})=>{if($s(n))return t.fallback?.(n);throw n},children:t.children})}function RO(){return A.jsx("p",{children:"Not Found"})}function Wu(t){return A.jsx(A.Fragment,{children:t.children})}function hA(t,e,n){return e.options.notFoundComponent?A.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?A.jsx(t.options.defaultNotFoundComponent,{...n}):A.jsx(RO,{})}function XO({children:t}){const e=Es();return e.isServer?A.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:t+';typeof $_TSR !== "undefined" && $_TSR.c()'}}):null}function PO(){const t=Es();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||qx)(t.latestLocation),r=n!==qx(t.latestLocation)?n:void 0,i={storageKey:qv,shouldScrollRestoration:!0};return r&&(i.key=r),A.jsx(XO,{children:`(${eA.toString()})(${JSON.stringify(i)})`})}const pA=B.memo(function({matchId:e}){const n=Es(),r=Zi({select:b=>{const Y=b.matches.find(E=>E.id===e);return xo(Y),{routeId:Y.routeId,ssr:Y.ssr,_displayPending:Y._displayPending}},structuralSharing:!0}),i=n.routesById[r.routeId],a=i.options.pendingComponent??n.options.defaultPendingComponent,o=a?A.jsx(a,{}):null,l=i.options.errorComponent??n.options.defaultErrorComponent,u=i.options.onCatch??n.options.defaultOnCatch,f=i.isRoot?i.options.notFoundComponent??n.options.notFoundRoute?.options.component:i.options.notFoundComponent,p=r.ssr===!1||r.ssr==="data-only",h=(!i.isRoot||i.options.wrapInSuspense||p)&&(i.options.wrapInSuspense??a??(i.options.errorComponent?.preload||p))?B.Suspense:Wu,m=l?YT:Wu,g=f?IO:Wu,_=Zi({select:b=>b.loadedAt}),v=Zi({select:b=>{const Y=b.matches.findIndex(E=>E.id===e);return b.matches[Y-1]?.routeId}}),S=i.isRoot?i.options.shellComponent??Wu:Wu;return A.jsxs(S,{children:[A.jsx(B_.Provider,{value:e,children:A.jsx(h,{fallback:o,children:A.jsx(m,{getResetKey:()=>_,errorComponent:l||D_,onCatch:(b,Y)=>{if($s(b))throw b;u?.(b,Y)},children:A.jsx(g,{fallback:b=>{if(!f||b.routeId&&b.routeId!==r.routeId||!b.routeId&&!i.isRoot)throw b;return B.createElement(f,b)},children:p||r._displayPending?A.jsx(sO,{fallback:o,children:A.jsx(AE,{matchId:e})}):A.jsx(AE,{matchId:e})})})})}),v===Ss&&n.options.scrollRestoration?A.jsxs(A.Fragment,{children:[A.jsx(MO,{}),A.jsx(PO,{})]}):null]})});function MO(){const t=Es(),e=B.useRef(void 0);return A.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...vc(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const AE=B.memo(function({matchId:e}){const n=Es(),{match:r,key:i,routeId:a}=Zi({select:u=>{const f=u.matches.find(_=>_.id===e),p=f.routeId,m=(n.routesById[p].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:p,loaderDeps:f.loaderDeps,params:f._strictParams,search:f._strictSearch});return{key:m?JSON.stringify(m):void 0,routeId:p,match:{id:f.id,status:f.status,error:f.error,_forcePending:f._forcePending,_displayPending:f._displayPending}}},structuralSharing:!0}),o=n.routesById[a],l=B.useMemo(()=>{const u=o.options.component??n.options.defaultComponent;return u?A.jsx(u,{},i):A.jsx(mA,{})},[i,o.options.component,n.options.defaultComponent]);if(r._displayPending)throw n.getMatch(r.id)?._nonReactive.displayPendingPromise;if(r._forcePending)throw n.getMatch(r.id)?._nonReactive.minPendingPromise;if(r.status==="pending"){const u=o.options.pendingMinMs??n.options.defaultPendingMinMs;if(u){const f=n.getMatch(r.id);if(f&&!f._nonReactive.minPendingPromise&&!n.isServer){const p=Jm();f._nonReactive.minPendingPromise=p,setTimeout(()=>{p.resolve(),f._nonReactive.minPendingPromise=void 0},u)}}throw n.getMatch(r.id)?._nonReactive.loadPromise}if(r.status==="notFound")return xo($s(r.error)),hA(n,o,r.error);if(r.status==="redirected")throw xo(ca(r.error)),n.getMatch(r.id)?._nonReactive.loadPromise;if(r.status==="error"){if(n.isServer){const u=(o.options.errorComponent??n.options.defaultErrorComponent)||D_;return A.jsx(u,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return l}),mA=B.memo(function(){const e=Es(),n=B.useContext(B_),r=Zi({select:f=>f.matches.find(p=>p.id===n)?.routeId}),i=e.routesById[r],a=Zi({select:f=>{const h=f.matches.find(m=>m.id===n);return xo(h),h.globalNotFound}}),o=Zi({select:f=>{const p=f.matches,h=p.findIndex(m=>m.id===n);return p[h+1]?.id}}),l=e.options.defaultPendingComponent?A.jsx(e.options.defaultPendingComponent,{}):null;if(a)return hA(e,i,void 0);if(!o)return null;const u=A.jsx(pA,{matchId:o});return r===Ss?A.jsx(B.Suspense,{fallback:l,children:u}):u});function NO(){const t=Es(),n=t.routesById[Ss].options.pendingComponent??t.options.defaultPendingComponent,r=n?A.jsx(n,{}):null,i=t.isServer||typeof document<"u"&&t.ssr?Wu:B.Suspense,a=A.jsxs(i,{fallback:r,children:[!t.isServer&&A.jsx(kO,{}),A.jsx(OO,{})]});return t.options.InnerWrap?A.jsx(t.options.InnerWrap,{children:a}):a}function OO(){const t=Es(),e=Zi({select:i=>i.matches[0]?.id}),n=Zi({select:i=>i.loadedAt}),r=e?A.jsx(pA,{matchId:e}):null;return A.jsx(B_.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?r:A.jsx(YT,{getResetKey:()=>n,errorComponent:D_,onCatch:i=>{i.message||i.toString()},children:r})})}function DO(t){return Zi({select:e=>e.matches,structuralSharing:t?.structuralSharing})}const BO=t=>new VO(t);class VO extends qN{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Jx,globalThis.createLazyFileRoute=CE):typeof window<"u"&&(window.createFileRoute=Jx,window.createLazyFileRoute=CE);function FO({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=fA(),i=A.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?A.jsx(t.options.Wrap,{children:i}):i}function LO({router:t,...e}){return A.jsx(FO,{router:t,...e,children:A.jsx(NO,{})})}var Fb={exports:{}},Lb={};var kE;function ZO(){if(kE)return Lb;kE=1;var t=_0().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Lb.c=function(e){return t.H.useMemoCache(e)},Lb}var IE;function zO(){return IE||(IE=1,Fb.exports=ZO()),Fb.exports}var _t=zO(),V_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$O={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},jO=class{#e=$O;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},eY=new jO;function KO(t){setTimeout(t,0)}var F_=typeof window>"u"||"Deno"in globalThis;function aa(){}function HO(t,e){return typeof t=="function"?t(e):t}function GO(t){return typeof t=="number"&&t>=0&&t!==1/0}function qO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tY(t,e){return typeof t=="function"?t(e):t}function QO(t,e){return typeof t=="function"?t(e):t}function RE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==CT(o,e.options))return!1}else if(!e1(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function XE(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Jg(e.options.mutationKey)!==Jg(a))return!1}else if(!e1(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function CT(t,e){return(e?.queryKeyHashFn||Jg)(t)}function Jg(t){return JSON.stringify(t,(e,n)=>nY(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function e1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>e1(t[n],e[n])):!1}var JO=Object.prototype.hasOwnProperty;function gA(t,e){if(t===e)return t;const n=PE(t)&&PE(e);if(!n&&!(nY(t)&&nY(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let u=0;for(let f=0;f<o;f++){const p=n?f:a[f],h=t[p],m=e[p];if(h===m){l[p]=h,(n?f<i:JO.call(t,p))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[p]=m;continue}const g=gA(h,m);l[p]=g,g===h&&u++}return i===o&&u===i?t:l}function PE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nY(t){if(!ME(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ME(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ME(t){return Object.prototype.toString.call(t)==="[object Object]"}function e7(t){return new Promise(e=>{eY.setTimeout(e,t)})}function t7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gA(t,e):e}function n7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function r7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var AT=Symbol();function yA(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===AT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var i7=class extends V_{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!F_&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},vA=new i7;function s7(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var a7=KO;function o7(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=a7;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Li=o7(),l7=class extends V_{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!F_&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},t_=new l7;function c7(t){return Math.min(1e3*2**t,3e4)}function _A(t){return(t??"online")==="online"?t_.isOnline():!0}var rY=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function SA(t){let e=!1,n=0,r;const i=s7(),a=()=>i.status!=="pending",o=v=>{if(!a()){const S=new rY(v);m(S),t.onCancel?.(S)}},l=()=>{e=!0},u=()=>{e=!1},f=()=>vA.isFocused()&&(t.networkMode==="always"||t_.isOnline())&&t.canRun(),p=()=>_A(t.networkMode)&&t.canRun(),h=v=>{a()||(r?.(),i.resolve(v))},m=v=>{a()||(r?.(),i.reject(v))},g=()=>new Promise(v=>{r=S=>{(a()||f())&&v(S)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),_=()=>{if(a())return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{if(a())return;const Y=t.retry??(F_?0:3),E=t.retryDelay??c7,M=typeof E=="function"?E(n,b):E,U=Y===!0||typeof Y=="number"&&n<Y||typeof Y=="function"&&Y(n,b);if(e||!U){m(b);return}n++,t.onFail?.(n,b),e7(M).then(()=>f()?void 0:g()).then(()=>{e?m(b):_()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?_():g().then(_),i)}}var bA=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GO(this.gcTime)&&(this.#e=eY.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(F_?1/0:300*1e3))}clearGcTimeout(){this.#e&&(eY.clearTimeout(this.#e),this.#e=void 0)}},u7=class extends bA{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=OE(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=OE(this.options);e.data!==void 0&&(this.setState(NE(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=t7(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(aa).catch(aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>QO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tY(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=yA(this.options,e),f=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(l,f,this):l(f)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=SA({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof rY&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof rY){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...f7(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...NE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Li.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function f7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_A(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function NE(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function OE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function DE(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let p=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},m=yA(e.options,e.fetchOptions),g=async(_,v,S)=>{if(p)return Promise.reject();if(v==null&&_.pages.length)return Promise.resolve(_);const Y=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:v,direction:S?"backward":"forward",meta:e.options.meta};return h(W),W})(),E=await m(Y),{maxPages:M}=e.options,U=S?r7:n7;return{pages:U(_.pages,E,M),pageParams:U(_.pageParams,v,M)}};if(i&&a.length){const _=i==="backward",v=_?d7:BE,S={pages:a,pageParams:o},b=v(r,S);l=await g(S,b,_)}else{const _=t??a.length;do{const v=u===0?o[0]??r.initialPageParam:BE(r,l);if(u>0&&v==null)break;l=await g(l,v),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function BE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function d7(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var h7=class extends bA{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||p7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=SA({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Li.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function p7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var m7=class extends V_{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new h7({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Vy(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Vy(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Vy(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Vy(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Li.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>XE(e,n))}findAll(t={}){return this.getAll().filter(e=>XE(t,e))}notify(t){Li.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Li.batch(()=>Promise.all(t.map(e=>e.continue().catch(aa))))}};function Vy(t){return t.options.scope?.id}var g7=class extends V_{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??CT(r,e);let a=this.get(i);return a||(a=new u7({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Li.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>RE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>RE(t,n)):e}notify(t){Li.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Li.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Li.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},y7=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new g7,this.#t=t.mutationCache||new m7,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=vA.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=t_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tY(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=HO(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Li.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Li.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Li.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Li.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(aa).catch(aa)}invalidateQueries(t,e={}){return Li.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Li.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(aa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(aa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(tY(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(aa).catch(aa)}fetchInfiniteQuery(t){return t.behavior=DE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(aa).catch(aa)}ensureInfiniteQueryData(t){return t.behavior=DE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return t_.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Jg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{e1(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Jg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{e1(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=CT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===AT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},v7=B.createContext(void 0),_7=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),A.jsx(v7.Provider,{value:t,children:e}));function S7(){return{queryClient:new y7}}function b7(t){const e=_t.c(3),{children:n,queryClient:r}=t;let i;return e[0]!==n||e[1]!==r?(i=A.jsx(_7,{client:r,children:n}),e[0]=n,e[1]=r,e[2]=i):i=e[2],i}function VE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ao(...t){return e=>{let n=!1;const r=t.map(i=>{const a=VE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():VE(t[i],null)}}}}function er(...t){return B.useCallback(Ao(...t),t)}var x7=Symbol.for("react.lazy"),n_=xT[" use ".trim().toString()];function Y7(t){return typeof t=="object"&&t!==null&&"then"in t}function xA(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===x7&&"_payload"in t&&Y7(t._payload)}function kT(t){const e=T7(t),n=B.forwardRef((r,i)=>{let{children:a,...o}=r;xA(a)&&typeof n_=="function"&&(a=n_(a._payload));const l=B.Children.toArray(a),u=l.find(W7);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var S1=kT("Slot");function T7(t){const e=B.forwardRef((n,r)=>{let{children:i,...a}=n;if(xA(i)&&typeof n_=="function"&&(i=n_(i._payload)),B.isValidElement(i)){const o=U7(i),l=E7(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var w7=Symbol("radix.slottable");function W7(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===w7}function E7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function U7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function YA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function TA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YA(t))&&(r&&(r+=" "),r+=e);return r}const FE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LE=TA,wA=(t,e)=>n=>{var r;if(e?.variants==null)return LE(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(f=>{const p=n?.[f],h=a?.[f];if(p===null)return null;const m=FE(p)||FE(h);return i[f][m]}),l=n&&Object.entries(n).reduce((f,p)=>{let[h,m]=p;return m===void 0||(f[h]=m),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:h,className:m,...g}=p;return Object.entries(g).every(_=>{let[v,S]=_;return Array.isArray(S)?S.includes({...a,...l}[v]):{...a,...l}[v]===S})?[...f,h,m]:f},[]);return LE(t,o,u,n?.class,n?.className)};const C7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZE=t=>{const e=A7(t);return e.charAt(0).toUpperCase()+e.slice(1)},WA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),k7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var I7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R7=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>B.createElement("svg",{ref:u,...I7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WA("lucide",i),...!a&&!k7(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,p])=>B.createElement(f,p)),...Array.isArray(a)?a:[a]]));const yn=(t,e)=>{const n=B.forwardRef(({className:r,...i},a)=>B.createElement(R7,{ref:a,iconNode:e,className:WA(`lucide-${C7(ZE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ZE(t),n};const X7=[["path",{d:"M2 12 7 2",key:"117k30"}],["path",{d:"m7 12 5-10",key:"1tvx22"}],["path",{d:"m12 12 5-10",key:"ev1o1a"}],["path",{d:"m17 12 5-10",key:"1e4ti3"}],["path",{d:"M4.5 7h15",key:"vlsxkz"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],P7=yn("antenna",X7);const M7=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],zE=yn("bookmark-plus",M7);const N7=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],L_=yn("bookmark",N7);const O7=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],D7=yn("cable",O7);const B7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EA=yn("check",B7);const V7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],UA=yn("chevron-down",V7);const F7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IT=yn("chevron-right",F7);const L7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z7=yn("chevron-up",L7);const z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$7=yn("circle-alert",z7);const j7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K7=yn("circle",j7);const H7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],G7=yn("copy",H7);const q7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],Q7=yn("database-zap",q7);const J7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],t1=yn("download",J7);const eD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],CA=yn("file",eD);const tD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],nD=yn("folder-open",tD);const rD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RT=yn("globe",rD);const iD=[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]],sD=yn("group",iD);const aD=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],$E=yn("image-down",aD);const oD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iY=yn("image",oD);const lD=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],r_=yn("images",lD);const cD=[["path",{d:"M21 5H11",key:"us1j55"}],["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 19H11",key:"saa85w"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]],uD=yn("list-indent-decrease",cD);const fD=[["path",{d:"M21 5H11",key:"us1j55"}],["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 19H11",key:"saa85w"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]],dD=yn("list-indent-increase",fD);const hD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ul=yn("loader-circle",hD);const pD=[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]],AA=yn("map-pin-off",pD);const mD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gD=yn("menu",mD);const yD=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],vD=yn("monitor",yD);const _D=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],SD=yn("moon",_D);const bD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jE=yn("pencil",bD);const xD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YD=yn("plus",xD);const TD=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wD=yn("radio",TD);const WD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ED=yn("refresh-cw",WD);const UD=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],CD=yn("rotate-cw",UD);const AD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kD=yn("settings",AD);const ID=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RD=yn("sun",ID);const XD=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M4.6 11a8 8 0 0 0 1.7 8.7 8 8 0 0 0 8.7 1.7",key:"10he05"}],["path",{d:"M7.4 7.4a8 8 0 0 1 10.3 1 8 8 0 0 1 .9 10.2",key:"15f7sh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M12 12v-2",key:"fwoke6"}]],PD=yn("timer-off",XD);const MD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],t0=yn("trash-2",MD);const ND=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OD=yn("triangle-alert",ND);const DD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BD=yn("upload",DD);const VD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],n0=yn("video",VD);const FD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],LD=yn("wifi",FD);const ZD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],b1=yn("x",ZD);const zD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$D=yn("zoom-out",zD),Zb=768;function jD(){const t=_t.c(2),[e,n]=B.useState(void 0);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia(`(max-width: ${Zb-1}px)`),o=()=>{n(window.innerWidth<Zb)};return a.addEventListener("change",o),n(window.innerWidth<Zb),()=>a.removeEventListener("change",o)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),B.useEffect(r,i),!!e}const KD=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},HD=(t,e)=>({classGroupId:t,validator:e}),kA=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),i_="-",KE=[],GD="arbitrary..",qD=t=>{const e=JD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return QD(o);const l=o.split(i_),u=l[0]===""&&l.length>1?1:0;return IA(l,u,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=r[o],f=n[o];return u?f?KD(f,u):u:f||KE}return n[o]||KE}}},IA=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const f=IA(t,e+1,a);if(f)return f}const o=n.validators;if(o===null)return;const l=e===0?t.join(i_):t.slice(e).join(i_),u=o.length;for(let f=0;f<u;f++){const p=o[f];if(p.validator(l))return p.classGroupId}},QD=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?GD+r:void 0})(),JD=t=>{const{theme:e,classGroups:n}=t;return eB(n,e)},eB=(t,e)=>{const n=kA();for(const r in t){const i=t[r];XT(i,n,r,e)}return n},XT=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];tB(o,e,n,r)}},tB=(t,e,n,r)=>{if(typeof t=="string"){nB(t,e,n);return}if(typeof t=="function"){rB(t,e,n,r);return}iB(t,e,n,r)},nB=(t,e,n)=>{const r=t===""?e:RA(e,t);r.classGroupId=n},rB=(t,e,n,r)=>{if(sB(t)){XT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(HD(n,t))},iB=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[l,u]=i[o];XT(u,RA(e,l),n,r)}},RA=(t,e)=>{let n=t;const r=e.split(i_),i=r.length;for(let a=0;a<i;a++){const o=r[a];let l=n.nextPart.get(o);l||(l=kA(),n.nextPart.set(o,l)),n=l}return n},sB=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,aB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,o)=>{n[a]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in n?n[a]=o:i(a,o)}}},sY="!",HE=":",oB=[],GE=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),lB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,l=0,u=0,f;const p=i.length;for(let v=0;v<p;v++){const S=i[v];if(o===0&&l===0){if(S===HE){a.push(i.slice(u,v)),u=v+1;continue}if(S==="/"){f=v;continue}}S==="["?o++:S==="]"?o--:S==="("?l++:S===")"&&l--}const h=a.length===0?i:i.slice(u);let m=h,g=!1;h.endsWith(sY)?(m=h.slice(0,-1),g=!0):h.startsWith(sY)&&(m=h.slice(1),g=!0);const _=f&&f>u?f-u:void 0;return GE(a,g,m,_)};if(e){const i=e+HE,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):GE(oB,!1,o,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},cB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const o=n[a],l=o[0]==="[",u=e.has(o);l||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},uB=t=>({cache:aB(t.cacheSize),parseClassName:lB(t),sortModifiers:cB(t),...qD(t)}),fB=/\s+/,dB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],l=t.trim().split(fB);let u="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:v}=n(p);if(h){u=p+(u.length>0?" "+u:u);continue}let S=!!v,b=r(S?_.substring(0,v):_);if(!b){if(!S){u=p+(u.length>0?" "+u:u);continue}if(b=r(_),!b){u=p+(u.length>0?" "+u:u);continue}S=!1}const Y=m.length===0?"":m.length===1?m[0]:a(m).join(":"),E=g?Y+sY:Y,M=E+b;if(o.indexOf(M)>-1)continue;o.push(M);const U=i(b,S);for(let W=0;W<U.length;++W){const w=U[W];o.push(E+w)}u=p+(u.length>0?" "+u:u)}return u},hB=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=XA(n))&&(i&&(i+=" "),i+=r);return i},XA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XA(t[r]))&&(n&&(n+=" "),n+=e);return n},pB=(t,...e)=>{let n,r,i,a;const o=u=>{const f=e.reduce((p,h)=>h(p),t());return n=uB(f),r=n.cache.get,i=n.cache.set,a=l,l(u)},l=u=>{const f=r(u);if(f)return f;const p=dB(u,n);return i(u,p),p};return a=o,(...u)=>a(hB(...u))},mB=[],li=t=>{const e=n=>n[t]||mB;return e.isThemeGetter=!0,e},PA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,MA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gB=/^\d+\/\d+$/,yB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_B=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,SB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gu=t=>gB.test(t),Sn=t=>!!t&&!Number.isNaN(Number(t)),ol=t=>!!t&&Number.isInteger(Number(t)),zb=t=>t.endsWith("%")&&Sn(t.slice(0,-1)),go=t=>yB.test(t),xB=()=>!0,YB=t=>vB.test(t)&&!_B.test(t),NA=()=>!1,TB=t=>SB.test(t),wB=t=>bB.test(t),WB=t=>!Bt(t)&&!Vt(t),EB=t=>b0(t,BA,NA),Bt=t=>PA.test(t),ac=t=>b0(t,VA,YB),$b=t=>b0(t,IB,Sn),qE=t=>b0(t,OA,NA),UB=t=>b0(t,DA,wB),Fy=t=>b0(t,FA,TB),Vt=t=>MA.test(t),bg=t=>x0(t,VA),CB=t=>x0(t,RB),QE=t=>x0(t,OA),AB=t=>x0(t,BA),kB=t=>x0(t,DA),Ly=t=>x0(t,FA,!0),b0=(t,e,n)=>{const r=PA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},x0=(t,e,n=!1)=>{const r=MA.exec(t);return r?r[1]?e(r[1]):n:!1},OA=t=>t==="position"||t==="percentage",DA=t=>t==="image"||t==="url",BA=t=>t==="length"||t==="size"||t==="bg-size",VA=t=>t==="length",IB=t=>t==="number",RB=t=>t==="family-name",FA=t=>t==="shadow",XB=()=>{const t=li("color"),e=li("font"),n=li("text"),r=li("font-weight"),i=li("tracking"),a=li("leading"),o=li("breakpoint"),l=li("container"),u=li("spacing"),f=li("radius"),p=li("shadow"),h=li("inset-shadow"),m=li("text-shadow"),g=li("drop-shadow"),_=li("blur"),v=li("perspective"),S=li("aspect"),b=li("ease"),Y=li("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...M(),Vt,Bt],W=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto","contain","none"],I=()=>[Vt,Bt,u],P=()=>[gu,"full","auto",...I()],O=()=>[ol,"none","subgrid",Vt,Bt],V=()=>["auto",{span:["full",ol,Vt,Bt]},ol,Vt,Bt],N=()=>[ol,"auto",Vt,Bt],F=()=>["auto","min","max","fr",Vt,Bt],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...I()],G=()=>[gu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],q=()=>[t,Vt,Bt],Q=()=>[...M(),QE,qE,{position:[Vt,Bt]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",AB,EB,{size:[Vt,Bt]}],te=()=>[zb,bg,ac],fe=()=>["","none","full",f,Vt,Bt],J=()=>["",Sn,bg,ac],re=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Sn,zb,QE,qE],pe=()=>["","none",_,Vt,Bt],ve=()=>["none",Sn,Vt,Bt],$e=()=>["none",Sn,Vt,Bt],Pe=()=>[Sn,Vt,Bt],Ye=()=>[gu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[go],breakpoint:[go],color:[xB],container:[go],"drop-shadow":[go],ease:["in","out","in-out"],font:[WB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[go],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[go],shadow:[go],spacing:["px",Sn],text:[go],"text-shadow":[go],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gu,Bt,Vt,S]}],container:["container"],columns:[{columns:[Sn,Bt,Vt,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ol,"auto",Vt,Bt]}],basis:[{basis:[gu,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Sn,gu,"auto","initial","none",Bt]}],grow:[{grow:["",Sn,Vt,Bt]}],shrink:[{shrink:["",Sn,Vt,Bt]}],order:[{order:[ol,"first","last","none",Vt,Bt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,bg,ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Vt,$b]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zb,Bt]}],"font-family":[{font:[CB,Bt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Vt,Bt]}],"line-clamp":[{"line-clamp":[Sn,"none",Vt,$b]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Vt,Bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,Bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Sn,"from-font","auto",Vt,ac]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Sn,"auto",Vt,Bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ol,Vt,Bt],radial:["",Vt,Bt],conic:[ol,Vt,Bt]},kB,UB]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Sn,Vt,Bt]}],"outline-w":[{outline:["",Sn,bg,ac]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,Ly,Fy]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",h,Ly,Fy]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Sn,ac]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",m,Ly,Fy]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Sn,Vt,Bt]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Sn]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Vt,Bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Sn]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,Bt]}],filter:[{filter:["","none",Vt,Bt]}],blur:[{blur:pe()}],brightness:[{brightness:[Sn,Vt,Bt]}],contrast:[{contrast:[Sn,Vt,Bt]}],"drop-shadow":[{"drop-shadow":["","none",g,Ly,Fy]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Sn,Vt,Bt]}],"hue-rotate":[{"hue-rotate":[Sn,Vt,Bt]}],invert:[{invert:["",Sn,Vt,Bt]}],saturate:[{saturate:[Sn,Vt,Bt]}],sepia:[{sepia:["",Sn,Vt,Bt]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,Bt]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Sn,Vt,Bt]}],"backdrop-contrast":[{"backdrop-contrast":[Sn,Vt,Bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Sn,Vt,Bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Sn,Vt,Bt]}],"backdrop-invert":[{"backdrop-invert":["",Sn,Vt,Bt]}],"backdrop-opacity":[{"backdrop-opacity":[Sn,Vt,Bt]}],"backdrop-saturate":[{"backdrop-saturate":[Sn,Vt,Bt]}],"backdrop-sepia":[{"backdrop-sepia":["",Sn,Vt,Bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,Bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Sn,"initial",Vt,Bt]}],ease:[{ease:["linear","initial",b,Vt,Bt]}],delay:[{delay:[Sn,Vt,Bt]}],animate:[{animate:["none",Y,Vt,Bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Vt,Bt]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:$e()}],"scale-x":[{"scale-x":$e()}],"scale-y":[{"scale-y":$e()}],"scale-z":[{"scale-z":$e()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Vt,Bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,Bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,Bt]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Sn,bg,ac,$b]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PB=pB(XB);function jt(...t){return PB(TA(t))}const MB=wA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function wi(t){const e=_t.c(14);let n,r,i,a,o;e[0]!==t?({className:n,variant:o,size:i,asChild:a,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const u=(a===void 0?!1:a)?S1:"button";let f;e[6]!==n||e[7]!==i||e[8]!==o?(f=jt(MB({variant:o,size:i,className:n})),e[6]=n,e[7]=i,e[8]=o,e[9]=f):f=e[9];let p;return e[10]!==u||e[11]!==r||e[12]!==f?(p=A.jsx(u,{"data-slot":"button",className:f,...r}),e[10]=u,e[11]=r,e[12]=f,e[13]=p):p=e[13],p}function LA(t){const e=_t.c(10);let n,r,i;e[0]!==t?({className:n,type:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=jt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==a||e[8]!==i?(o=A.jsx("input",{type:i,"data-slot":"input",className:a,...r}),e[6]=r,e[7]=a,e[8]=i,e[9]=o):o=e[9],o}function Nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function NB(t,e){const n=B.createContext(e),r=a=>{const{children:o,...l}=a,u=B.useMemo(()=>l,Object.values(l));return A.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(a){const o=B.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Fa(t,e=[]){let n=[];function r(a,o){const l=B.createContext(o),u=n.length;n=[...n,o];const f=h=>{const{scope:m,children:g,..._}=h,v=m?.[t]?.[u]||l,S=B.useMemo(()=>_,Object.values(_));return A.jsx(v.Provider,{value:S,children:g})};f.displayName=a+"Provider";function p(h,m){const g=m?.[t]?.[u]||l,_=B.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>B.createContext(o));return function(l){const u=l?.[t]||a;return B.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,OB(i,...e)]}function OB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Pi=globalThis?.document?B.useLayoutEffect:()=>{},DB=xT[" useId ".trim().toString()]||(()=>{}),BB=0;function Ia(t){const[e,n]=B.useState(DB());return Pi(()=>{n(r=>r??String(BB++))},[t]),t||(e?`radix-${e}`:"")}var VB=xT[" useInsertionEffect ".trim().toString()]||Pi;function Tc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=FB({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const p=B.useRef(t!==void 0);B.useEffect(()=>{const h=p.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const f=B.useCallback(p=>{if(l){const h=LB(p)?p(t):p;h!==t&&o.current?.(h)}else a(p)},[l,t,a,o]);return[u,f]}function FB({defaultProp:t,onChange:e}){const[n,r]=B.useState(t),i=B.useRef(n),a=B.useRef(e);return VB(()=>{a.current=e},[e]),B.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function LB(t){return typeof t=="function"}function ZB(t){const e=zB(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,l=B.Children.toArray(a),u=l.find(jB);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function zB(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=HB(i),l=KB(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $B=Symbol("radix.slottable");function jB(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$B}function KB(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function HB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=GB.reduce((t,e)=>{const n=ZB(`Primitive.${e}`),r=B.forwardRef((i,a)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZA(t,e){t&&S0.flushSync(()=>t.dispatchEvent(e))}function ha(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...n)=>e.current?.(...n),[])}function qB(t,e=globalThis?.document){const n=ha(t);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var QB="DismissableLayer",aY="dismissableLayer.update",JB="dismissableLayer.pointerDownOutside",eV="dismissableLayer.focusOutside",JE,zA=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),x1=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=t,f=B.useContext(zA),[p,h]=B.useState(null),m=p?.ownerDocument??globalThis?.document,[,g]=B.useState({}),_=er(e,w=>h(w)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(S),Y=p?v.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=Y>=b,U=rV(w=>{const I=w.target,P=[...f.branches].some(O=>O.contains(I));!M||P||(i?.(w),o?.(w),w.defaultPrevented||l?.())},m),W=iV(w=>{const I=w.target;[...f.branches].some(O=>O.contains(I))||(a?.(w),o?.(w),w.defaultPrevented||l?.())},m);return qB(w=>{Y===f.layers.size-1&&(r?.(w),!w.defaultPrevented&&l&&(w.preventDefault(),l()))},m),B.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),eU(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=JE)}},[p,m,n,f]),B.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),eU())},[p,f]),B.useEffect(()=>{const w=()=>g({});return document.addEventListener(aY,w),()=>document.removeEventListener(aY,w)},[]),A.jsx(xn.div,{...u,ref:_,style:{pointerEvents:E?M?"auto":"none":void 0,...t.style},onFocusCapture:Nt(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Nt(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Nt(t.onPointerDownCapture,U.onPointerDownCapture)})});x1.displayName=QB;var tV="DismissableLayerBranch",nV=B.forwardRef((t,e)=>{const n=B.useContext(zA),r=B.useRef(null),i=er(e,r);return B.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),A.jsx(xn.div,{...t,ref:i})});nV.displayName=tV;function rV(t,e=globalThis?.document){const n=ha(t),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let u=function(){$A(JB,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iV(t,e=globalThis?.document){const n=ha(t),r=B.useRef(!1);return B.useEffect(()=>{const i=a=>{a.target&&!r.current&&$A(eV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eU(){const t=new CustomEvent(aY);document.dispatchEvent(t)}function $A(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ZA(i,a):i.dispatchEvent(a)}var jb="focusScope.autoFocusOnMount",Kb="focusScope.autoFocusOnUnmount",tU={bubbles:!1,cancelable:!0},sV="FocusScope",Z_=B.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,u]=B.useState(null),f=ha(i),p=ha(a),h=B.useRef(null),m=er(e,v=>u(v)),g=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let v=function(E){if(g.paused||!l)return;const M=E.target;l.contains(M)?h.current=M:ul(h.current,{select:!0})},S=function(E){if(g.paused||!l)return;const M=E.relatedTarget;M!==null&&(l.contains(M)||ul(h.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const U of E)U.removedNodes.length>0&&ul(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const Y=new MutationObserver(b);return l&&Y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),Y.disconnect()}}},[r,l,g.paused]),B.useEffect(()=>{if(l){rU.add(g);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(jb,tU);l.addEventListener(jb,f),l.dispatchEvent(b),b.defaultPrevented||(aV(fV(jA(l)),{select:!0}),document.activeElement===v&&ul(l))}return()=>{l.removeEventListener(jb,f),setTimeout(()=>{const b=new CustomEvent(Kb,tU);l.addEventListener(Kb,p),l.dispatchEvent(b),b.defaultPrevented||ul(v??document.body,{select:!0}),l.removeEventListener(Kb,p),rU.remove(g)},0)}}},[l,f,p,g]);const _=B.useCallback(v=>{if(!n&&!r||g.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(S&&b){const Y=v.currentTarget,[E,M]=oV(Y);E&&M?!v.shiftKey&&b===M?(v.preventDefault(),n&&ul(E,{select:!0})):v.shiftKey&&b===E&&(v.preventDefault(),n&&ul(M,{select:!0})):b===Y&&v.preventDefault()}},[n,r,g.paused]);return A.jsx(xn.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});Z_.displayName=sV;function aV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ul(r,{select:e}),document.activeElement!==n)return}function oV(t){const e=jA(t),n=nU(e,t),r=nU(e.reverse(),t);return[n,r]}function jA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nU(t,e){for(const n of t)if(!lV(n,{upTo:e}))return n}function lV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cV(t){return t instanceof HTMLInputElement&&"select"in t}function ul(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cV(t)&&e&&t.select()}}var rU=uV();function uV(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=iU(t,e),t.unshift(e)},remove(e){t=iU(t,e),t[0]?.resume()}}}function iU(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function fV(t){return t.filter(e=>e.tagName!=="A")}var dV="Portal",Y1=B.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=B.useState(!1);Pi(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?dA.createPortal(A.jsx(xn.div,{...r,ref:e}),o):null});Y1.displayName=dV;function hV(t,e){return B.useReducer((n,r)=>e[n][r]??n,t)}var ya=t=>{const{present:e,children:n}=t,r=pV(e),i=typeof n=="function"?n({present:r.isPresent}):B.Children.only(n),a=er(r.ref,mV(i));return typeof n=="function"||r.isPresent?B.cloneElement(i,{ref:a}):null};ya.displayName="Presence";function pV(t){const[e,n]=B.useState(),r=B.useRef(null),i=B.useRef(t),a=B.useRef("none"),o=t?"mounted":"unmounted",[l,u]=hV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const f=Zy(r.current);a.current=l==="mounted"?f:"none"},[l]),Pi(()=>{const f=r.current,p=i.current;if(p!==t){const m=a.current,g=Zy(f);t?u("MOUNT"):g==="none"||f?.display==="none"?u("UNMOUNT"):u(p&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Pi(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,h=g=>{const v=Zy(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=g=>{g.target===e&&(a.current=Zy(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:B.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Zy(t){return t?.animationName||"none"}function mV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hb=0;function PT(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sU()),document.body.insertAdjacentElement("beforeend",t[1]??sU()),Hb++,()=>{Hb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hb--}},[])}function sU(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ca=function(){return Ca=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ca.apply(this,arguments)};function KA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var mv="right-scroll-bar-position",gv="width-before-scroll-bar",yV="with-scroll-bars-hidden",vV="--removed-body-scroll-bar-size";function Gb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _V(t,e){var n=B.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var SV=typeof window<"u"?B.useLayoutEffect:B.useEffect,aU=new WeakMap;function bV(t,e){var n=_V(null,function(r){return t.forEach(function(i){return Gb(i,r)})});return SV(function(){var r=aU.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||Gb(l,null)}),a.forEach(function(l){i.has(l)||Gb(l,o)})}aU.set(n,t)},[t]),n}function xV(t){return t}function YV(t,e){e===void 0&&(e=xV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var u=function(){var p=o;o=[],p.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){o.push(p),f()},filter:function(p){return o=o.filter(p),n}}}};return i}function TV(t){t===void 0&&(t={});var e=YV(null);return e.options=Ca({async:!0,ssr:!1},t),e}var HA=function(t){var e=t.sideCar,n=KA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,Ca({},n))};HA.isSideCarExport=!0;function wV(t,e){return t.useMedium(e),HA}var GA=TV(),qb=function(){},z_=B.forwardRef(function(t,e){var n=B.useRef(null),r=B.useState({onScrollCapture:qb,onWheelCapture:qb,onTouchMoveCapture:qb}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,p=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,_=t.noIsolation,v=t.inert,S=t.allowPinchZoom,b=t.as,Y=b===void 0?"div":b,E=t.gapMode,M=KA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=m,W=bV([n,e]),w=Ca(Ca({},M),i);return B.createElement(B.Fragment,null,p&&B.createElement(U,{sideCar:GA,removeScrollBar:f,shards:h,noRelative:g,noIsolation:_,inert:v,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:E}),o?B.cloneElement(B.Children.only(l),Ca(Ca({},w),{ref:W})):B.createElement(Y,Ca({},w,{className:u,ref:W}),l))});z_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z_.classNames={fullWidth:gv,zeroRight:mv};var WV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=WV();return e&&t.setAttribute("nonce",e),t}function UV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=EV())&&(UV(e,n),CV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kV=function(){var t=AV();return function(e,n){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qA=function(){var t=kV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},IV={left:0,top:0,right:0,gap:0},Qb=function(t){return parseInt(t||"",10)||0},RV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Qb(n),Qb(r),Qb(i)]},XV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IV;var e=RV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},PV=qA(),Nu="data-scroll-locked",MV=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Nu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mv," .").concat(mv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gv," .").concat(gv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nu,`] {
    `).concat(vV,": ").concat(l,`px;
  }
`)},oU=function(){var t=parseInt(document.body.getAttribute(Nu)||"0",10);return isFinite(t)?t:0},NV=function(){B.useEffect(function(){return document.body.setAttribute(Nu,(oU()+1).toString()),function(){var t=oU()-1;t<=0?document.body.removeAttribute(Nu):document.body.setAttribute(Nu,t.toString())}},[])},OV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;NV();var a=B.useMemo(function(){return XV(i)},[i]);return B.createElement(PV,{styles:MV(a,!e,i,n?"":"!important")})},oY=!1;if(typeof window<"u")try{var zy=Object.defineProperty({},"passive",{get:function(){return oY=!0,!0}});window.addEventListener("test",zy,zy),window.removeEventListener("test",zy,zy)}catch{oY=!1}var yu=oY?{passive:!1}:!1,DV=function(t){return t.tagName==="TEXTAREA"},QA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DV(t)&&n[e]==="visible")},BV=function(t){return QA(t,"overflowY")},VV=function(t){return QA(t,"overflowX")},lU=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=JA(t,r);if(i){var a=ek(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},JA=function(t,e){return t==="v"?BV(e):VV(e)},ek=function(t,e){return t==="v"?FV(e):LV(e)},ZV=function(t,e){return t==="h"&&e==="rtl"?-1:1},zV=function(t,e,n,r,i){var a=ZV(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,u=e.contains(l),f=!1,p=o>0,h=0,m=0;do{if(!l)break;var g=ek(t,l),_=g[0],v=g[1],S=g[2],b=v-S-a*_;(_||b)&&JA(t,l)&&(h+=b,m+=_);var Y=l.parentNode;l=Y&&Y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Y.host:Y}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(p&&Math.abs(h)<1||!p&&Math.abs(m)<1)&&(f=!0),f},$y=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cU=function(t){return[t.deltaX,t.deltaY]},uU=function(t){return t&&"current"in t?t.current:t},$V=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KV=0,vu=[];function HV(t){var e=B.useRef([]),n=B.useRef([0,0]),r=B.useRef(),i=B.useState(KV++)[0],a=B.useState(qA)[0],o=B.useRef(t);B.useEffect(function(){o.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=gV([t.lockRef.current],(t.shards||[]).map(uU),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=B.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=$y(v),Y=n.current,E="deltaX"in v?v.deltaX:Y[0]-b[0],M="deltaY"in v?v.deltaY:Y[1]-b[1],U,W=v.target,w=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in v&&w==="h"&&W.type==="range")return!1;var I=lU(w,W);if(!I)return!0;if(I?U=w:(U=w==="v"?"h":"v",I=lU(w,W)),!I)return!1;if(!r.current&&"changedTouches"in v&&(E||M)&&(r.current=U),!U)return!0;var P=r.current||U;return zV(P,S,v,P==="h"?E:M)},[]),u=B.useCallback(function(v){var S=v;if(!(!vu.length||vu[vu.length-1]!==a)){var b="deltaY"in S?cU(S):$y(S),Y=e.current.filter(function(U){return U.name===S.type&&(U.target===S.target||S.target===U.shadowParent)&&$V(U.delta,b)})[0];if(Y&&Y.should){S.cancelable&&S.preventDefault();return}if(!Y){var E=(o.current.shards||[]).map(uU).filter(Boolean).filter(function(U){return U.contains(S.target)}),M=E.length>0?l(S,E[0]):!o.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),f=B.useCallback(function(v,S,b,Y){var E={name:v,delta:S,target:b,should:Y,shadowParent:GV(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(M){return M!==E})},1)},[]),p=B.useCallback(function(v){n.current=$y(v),r.current=void 0},[]),h=B.useCallback(function(v){f(v.type,cU(v),v.target,l(v,t.lockRef.current))},[]),m=B.useCallback(function(v){f(v.type,$y(v),v.target,l(v,t.lockRef.current))},[]);B.useEffect(function(){return vu.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,yu),document.addEventListener("touchmove",u,yu),document.addEventListener("touchstart",p,yu),function(){vu=vu.filter(function(v){return v!==a}),document.removeEventListener("wheel",u,yu),document.removeEventListener("touchmove",u,yu),document.removeEventListener("touchstart",p,yu)}},[]);var g=t.removeScrollBar,_=t.inert;return B.createElement(B.Fragment,null,_?B.createElement(a,{styles:jV(i)}):null,g?B.createElement(OV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function GV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qV=wV(GA,HV);var $_=B.forwardRef(function(t,e){return B.createElement(z_,Ca({},t,{ref:e,sideCar:qV}))});$_.classNames=z_.classNames;var QV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_u=new WeakMap,jy=new WeakMap,Ky={},Jb=0,tk=function(t){return t&&(t.host||tk(t.parentNode))},JV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eF=function(t,e,n,r){var i=JV(e,Array.isArray(t)?t:[t]);Ky[n]||(Ky[n]=new WeakMap);var a=Ky[n],o=[],l=new Set,u=new Set(i),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};i.forEach(f);var p=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))p(m);else try{var g=m.getAttribute(r),_=g!==null&&g!=="false",v=(_u.get(m)||0)+1,S=(a.get(m)||0)+1;_u.set(m,v),a.set(m,S),o.push(m),v===1&&_&&jy.set(m,!0),S===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return p(e),l.clear(),Jb++,function(){o.forEach(function(h){var m=_u.get(h)-1,g=a.get(h)-1;_u.set(h,m),a.set(h,g),m||(jy.has(h)||h.removeAttribute(r),jy.delete(h)),g||h.removeAttribute(n)}),Jb--,Jb||(_u=new WeakMap,_u=new WeakMap,jy=new WeakMap,Ky={})}},MT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=QV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),eF(r,i,n,"aria-hidden")):function(){return null}};function tF(t){const e=nF(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,l=B.Children.toArray(a),u=l.find(iF);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function nF(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=aF(i),l=sF(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rF=Symbol("radix.slottable");function iF(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rF}function sF(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function aF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var j_="Dialog",[nk,cfe]=Fa(j_),[oF,va]=nk(j_),rk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=B.useRef(null),u=B.useRef(null),[f,p]=Tc({prop:r,defaultProp:i??!1,onChange:a,caller:j_});return A.jsx(oF,{scope:e,triggerRef:l,contentRef:u,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:f,onOpenChange:p,onOpenToggle:B.useCallback(()=>p(h=>!h),[p]),modal:o,children:n})};rk.displayName=j_;var ik="DialogTrigger",sk=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=va(ik,n),a=er(e,i.triggerRef);return A.jsx(xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DT(i.open),...r,ref:a,onClick:Nt(t.onClick,i.onOpenToggle)})});sk.displayName=ik;var NT="DialogPortal",[lF,ak]=nk(NT,{forceMount:void 0}),ok=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=va(NT,e);return A.jsx(lF,{scope:e,forceMount:n,children:B.Children.map(r,o=>A.jsx(ya,{present:n||a.open,children:A.jsx(Y1,{asChild:!0,container:i,children:o})}))})};ok.displayName=NT;var s_="DialogOverlay",lk=B.forwardRef((t,e)=>{const n=ak(s_,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=va(s_,t.__scopeDialog);return a.modal?A.jsx(ya,{present:r||a.open,children:A.jsx(uF,{...i,ref:e})}):null});lk.displayName=s_;var cF=tF("DialogOverlay.RemoveScroll"),uF=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=va(s_,n);return A.jsx($_,{as:cF,allowPinchZoom:!0,shards:[i.contentRef],children:A.jsx(xn.div,{"data-state":DT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wc="DialogContent",ck=B.forwardRef((t,e)=>{const n=ak(wc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=va(wc,t.__scopeDialog);return A.jsx(ya,{present:r||a.open,children:a.modal?A.jsx(fF,{...i,ref:e}):A.jsx(dF,{...i,ref:e})})});ck.displayName=wc;var fF=B.forwardRef((t,e)=>{const n=va(wc,t.__scopeDialog),r=B.useRef(null),i=er(e,n.contentRef,r);return B.useEffect(()=>{const a=r.current;if(a)return MT(a)},[]),A.jsx(uk,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Nt(t.onFocusOutside,a=>a.preventDefault())})}),dF=B.forwardRef((t,e)=>{const n=va(wc,t.__scopeDialog),r=B.useRef(!1),i=B.useRef(!1);return A.jsx(uk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uk=B.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=va(wc,n),u=B.useRef(null),f=er(e,u);return PT(),A.jsxs(A.Fragment,{children:[A.jsx(Z_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:A.jsx(x1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DT(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(hF,{titleId:l.titleId}),A.jsx(mF,{contentRef:u,descriptionId:l.descriptionId})]})]})}),OT="DialogTitle",fk=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=va(OT,n);return A.jsx(xn.h2,{id:i.titleId,...r,ref:e})});fk.displayName=OT;var dk="DialogDescription",hk=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=va(dk,n);return A.jsx(xn.p,{id:i.descriptionId,...r,ref:e})});hk.displayName=dk;var pk="DialogClose",mk=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=va(pk,n);return A.jsx(xn.button,{type:"button",...r,ref:e,onClick:Nt(t.onClick,()=>i.onOpenChange(!1))})});mk.displayName=pk;function DT(t){return t?"open":"closed"}var gk="DialogTitleWarning",[ufe,yk]=NB(gk,{contentName:wc,titleName:OT,docsSlug:"dialog"}),hF=({titleId:t})=>{const e=yk(gk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pF="DialogDescriptionWarning",mF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yk(pF).contentName}}.`;return B.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vk=rk,ffe=sk,_k=ok,Sk=lk,bk=ck,xk=fk,Yk=hk,Tk=mk;function gF(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(vk,{"data-slot":"sheet",...n}),e[2]=n,e[3]=r):r=e[3],r}function yF(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(_k,{"data-slot":"sheet-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function vF(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Sk,{"data-slot":"sheet-overlay",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function _F(t){const e=_t.c(17);let n,r,i,a;e[0]!==t?({className:r,children:n,side:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"right":a;let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=A.jsx(vF,{}),e[5]=l):l=e[5];const u=o==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",f=o==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",p=o==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",h=o==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t";let m;e[6]!==r||e[7]!==u||e[8]!==f||e[9]!==p||e[10]!==h?(m=jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",u,f,p,h,r),e[6]=r,e[7]=u,e[8]=f,e[9]=p,e[10]=h,e[11]=m):m=e[11];let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=A.jsxs(Tk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[A.jsx(b1,{className:"size-4"}),A.jsx("span",{className:"sr-only",children:"Close"})]}),e[12]=g):g=e[12];let _;return e[13]!==n||e[14]!==i||e[15]!==m?(_=A.jsxs(yF,{children:[l,A.jsxs(bk,{"data-slot":"sheet-content",className:m,...i,children:[n,g]})]}),e[13]=n,e[14]=i,e[15]=m,e[16]=_):_=e[16],_}function SF(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex flex-col gap-1.5 p-4",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sheet-header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function bF(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-foreground font-semibold",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(xk,{"data-slot":"sheet-title",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function xF(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-muted-foreground text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Yk,{"data-slot":"sheet-description",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}const YF=["top","right","bottom","left"],Cl=Math.min,xs=Math.max,a_=Math.round,Hy=Math.floor,Ra=t=>({x:t,y:t}),TF={left:"right",right:"left",bottom:"top",top:"bottom"},wF={start:"end",end:"start"};function lY(t,e,n){return xs(t,Cl(e,n))}function Yo(t,e){return typeof t=="function"?t(e):t}function To(t){return t.split("-")[0]}function Y0(t){return t.split("-")[1]}function BT(t){return t==="x"?"y":"x"}function VT(t){return t==="y"?"height":"width"}const WF=new Set(["top","bottom"]);function ka(t){return WF.has(To(t))?"y":"x"}function FT(t){return BT(ka(t))}function EF(t,e,n){n===void 0&&(n=!1);const r=Y0(t),i=FT(t),a=VT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=o_(o)),[o,o_(o)]}function UF(t){const e=o_(t);return[cY(t),e,cY(e)]}function cY(t){return t.replace(/start|end/g,e=>wF[e])}const fU=["left","right"],dU=["right","left"],CF=["top","bottom"],AF=["bottom","top"];function kF(t,e,n){switch(t){case"top":case"bottom":return n?e?dU:fU:e?fU:dU;case"left":case"right":return e?CF:AF;default:return[]}}function IF(t,e,n,r){const i=Y0(t);let a=kF(To(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(cY)))),a}function o_(t){return t.replace(/left|right|bottom|top/g,e=>TF[e])}function RF(t){return{top:0,right:0,bottom:0,left:0,...t}}function wk(t){return typeof t!="number"?RF(t):{top:t,right:t,bottom:t,left:t}}function l_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function hU(t,e,n){let{reference:r,floating:i}=t;const a=ka(e),o=FT(e),l=VT(o),u=To(e),f=a==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let g;switch(u){case"top":g={x:p,y:r.y-i.height};break;case"bottom":g={x:p,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Y0(e)){case"start":g[o]-=m*(n&&f?-1:1);break;case"end":g[o]+=m*(n&&f?-1:1);break}return g}const XF=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:h}=hU(f,r,u),m=r,g={},_=0;for(let v=0;v<l.length;v++){const{name:S,fn:b}=l[v],{x:Y,y:E,data:M,reset:U}=await b({x:p,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:f,platform:o,elements:{reference:t,floating:e}});p=Y??p,h=E??h,g={...g,[S]:{...g[S],...M}},U&&_<=50&&(_++,typeof U=="object"&&(U.placement&&(m=U.placement),U.rects&&(f=U.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:p,y:h}=hU(f,m,u)),v=-1)}return{x:p,y:h,placement:m,strategy:i,middlewareData:g}};async function n1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Yo(e,t),_=wk(g),S=l[m?h==="floating"?"reference":"floating":h],b=l_(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:u})),Y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),M=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},U=l_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:Y,offsetParent:E,strategy:u}):Y);return{top:(b.top-U.top+_.top)/M.y,bottom:(U.bottom-b.bottom+_.bottom)/M.y,left:(b.left-U.left+_.left)/M.x,right:(U.right-b.right+_.right)/M.x}}const PF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:u}=e,{element:f,padding:p=0}=Yo(t,e)||{};if(f==null)return{};const h=wk(p),m={x:n,y:r},g=FT(i),_=VT(g),v=await o.getDimensions(f),S=g==="y",b=S?"top":"left",Y=S?"bottom":"right",E=S?"clientHeight":"clientWidth",M=a.reference[_]+a.reference[g]-m[g]-a.floating[_],U=m[g]-a.reference[g],W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let w=W?W[E]:0;(!w||!await(o.isElement==null?void 0:o.isElement(W)))&&(w=l.floating[E]||a.floating[_]);const I=M/2-U/2,P=w/2-v[_]/2-1,O=Cl(h[b],P),V=Cl(h[Y],P),N=O,F=w-v[_]-V,R=w/2-v[_]/2+I,K=lY(N,R,F),Z=!u.arrow&&Y0(i)!=null&&R!==K&&a.reference[_]/2-(R<N?O:V)-v[_]/2<0,G=Z?R<N?R-N:R-F:0;return{[g]:m[g]+G,data:{[g]:K,centerOffset:R-K-G,...Z&&{alignmentOffset:G}},reset:Z}}}),MF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...S}=Yo(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=To(i),Y=ka(l),E=To(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(f.floating)),U=m||(E||!v?[o_(l)]:UF(l)),W=_!=="none";!m&&W&&U.push(...IF(l,v,_,M));const w=[l,...U],I=await n1(e,S),P=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&P.push(I[b]),h){const R=EF(i,o,M);P.push(I[R[0]],I[R[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(R=>R<=0)){var V,N;const R=(((V=a.flip)==null?void 0:V.index)||0)+1,K=w[R];if(K&&(!(h==="alignment"?Y!==ka(K):!1)||O.every(q=>ka(q.placement)===Y?q.overflows[0]>0:!0)))return{data:{index:R,overflows:O},reset:{placement:K}};let Z=(N=O.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(g){case"bestFit":{var F;const G=(F=O.filter(q=>{if(W){const Q=ka(q.placement);return Q===Y||Q==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0)]).sort((q,Q)=>q[1]-Q[1])[0])==null?void 0:F[0];G&&(Z=G);break}case"initialPlacement":Z=l;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function pU(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mU(t){return YF.some(e=>t[e]>=0)}const NF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yo(t,e);switch(r){case"referenceHidden":{const a=await n1(e,{...i,elementContext:"reference"}),o=pU(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mU(o)}}}case"escaped":{const a=await n1(e,{...i,altBoundary:!0}),o=pU(a,n.floating);return{data:{escapedOffsets:o,escaped:mU(o)}}}default:return{}}}}},Wk=new Set(["left","top"]);async function OF(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=To(n),l=Y0(n),u=ka(n)==="y",f=Wk.has(o)?-1:1,p=a&&u?-1:1,h=Yo(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(g=l==="end"?_*-1:_),u?{x:g*p,y:m*f}:{x:m*f,y:g*p}}const DF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,u=await OF(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},BF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:b,y:Y}=S;return{x:b,y:Y}}},...u}=Yo(t,e),f={x:n,y:r},p=await n1(e,u),h=ka(To(i)),m=BT(h);let g=f[m],_=f[h];if(a){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",Y=g+p[S],E=g-p[b];g=lY(Y,g,E)}if(o){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",Y=_+p[S],E=_-p[b];_=lY(Y,_,E)}const v=l.fn({...e,[m]:g,[h]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:a,[h]:o}}}}}},VF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Yo(t,e),p={x:n,y:r},h=ka(i),m=BT(h);let g=p[m],_=p[h];const v=Yo(l,e),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const E=m==="y"?"height":"width",M=a.reference[m]-a.floating[E]+S.mainAxis,U=a.reference[m]+a.reference[E]-S.mainAxis;g<M?g=M:g>U&&(g=U)}if(f){var b,Y;const E=m==="y"?"width":"height",M=Wk.has(To(i)),U=a.reference[h]-a.floating[E]+(M&&((b=o.offset)==null?void 0:b[h])||0)+(M?0:S.crossAxis),W=a.reference[h]+a.reference[E]+(M?0:((Y=o.offset)==null?void 0:Y[h])||0)-(M?S.crossAxis:0);_<U?_=U:_>W&&(_=W)}return{[m]:g,[h]:_}}}},FF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:u=()=>{},...f}=Yo(t,e),p=await n1(e,f),h=To(i),m=Y0(i),g=ka(i)==="y",{width:_,height:v}=a.floating;let S,b;h==="top"||h==="bottom"?(S=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,S=m==="end"?"top":"bottom");const Y=v-p.top-p.bottom,E=_-p.left-p.right,M=Cl(v-p[S],Y),U=Cl(_-p[b],E),W=!e.middlewareData.shift;let w=M,I=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(w=Y),W&&!m){const O=xs(p.left,0),V=xs(p.right,0),N=xs(p.top,0),F=xs(p.bottom,0);g?I=_-2*(O!==0||V!==0?O+V:xs(p.left,p.right)):w=v-2*(N!==0||F!==0?N+F:xs(p.top,p.bottom))}await u({...e,availableWidth:I,availableHeight:w});const P=await o.getDimensions(l.floating);return _!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function K_(){return typeof window<"u"}function T0(t){return Ek(t)?(t.nodeName||"").toLowerCase():"#document"}function Ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function La(t){var e;return(e=(Ek(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ek(t){return K_()?t instanceof Node||t instanceof Ts(t).Node:!1}function pa(t){return K_()?t instanceof Element||t instanceof Ts(t).Element:!1}function Na(t){return K_()?t instanceof HTMLElement||t instanceof Ts(t).HTMLElement:!1}function gU(t){return!K_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ts(t).ShadowRoot}const LF=new Set(["inline","contents"]);function T1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ma(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!LF.has(i)}const ZF=new Set(["table","td","th"]);function zF(t){return ZF.has(T0(t))}const $F=[":popover-open",":modal"];function H_(t){return $F.some(e=>{try{return t.matches(e)}catch{return!1}})}const jF=["transform","translate","scale","rotate","perspective"],KF=["transform","translate","scale","rotate","perspective","filter"],HF=["paint","layout","strict","content"];function LT(t){const e=ZT(),n=pa(t)?ma(t):t;return jF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KF.some(r=>(n.willChange||"").includes(r))||HF.some(r=>(n.contain||"").includes(r))}function GF(t){let e=Al(t);for(;Na(e)&&!r0(e);){if(LT(e))return e;if(H_(e))return null;e=Al(e)}return null}function ZT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qF=new Set(["html","body","#document"]);function r0(t){return qF.has(T0(t))}function ma(t){return Ts(t).getComputedStyle(t)}function G_(t){return pa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Al(t){if(T0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gU(t)&&t.host||La(t);return gU(e)?e.host:e}function Uk(t){const e=Al(t);return r0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Na(e)&&T1(e)?e:Uk(e)}function r1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Uk(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ts(i);if(a){const l=uY(o);return e.concat(o,o.visualViewport||[],T1(i)?i:[],l&&n?r1(l):[])}return e.concat(i,r1(i,[],n))}function uY(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ck(t){const e=ma(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Na(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=a_(n)!==a||a_(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function zT(t){return pa(t)?t:t.contextElement}function Ou(t){const e=zT(t);if(!Na(e))return Ra(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Ck(e);let o=(a?a_(n.width):n.width)/r,l=(a?a_(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const QF=Ra(0);function Ak(t){const e=Ts(t);return!ZT()||!e.visualViewport?QF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ts(t)?!1:e}function Wc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=zT(t);let o=Ra(1);e&&(r?pa(r)&&(o=Ou(r)):o=Ou(t));const l=JF(a,n,r)?Ak(a):Ra(0);let u=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,p=i.width/o.x,h=i.height/o.y;if(a){const m=Ts(a),g=r&&pa(r)?Ts(r):r;let _=m,v=uY(_);for(;v&&r&&g!==_;){const S=Ou(v),b=v.getBoundingClientRect(),Y=ma(v),E=b.left+(v.clientLeft+parseFloat(Y.paddingLeft))*S.x,M=b.top+(v.clientTop+parseFloat(Y.paddingTop))*S.y;u*=S.x,f*=S.y,p*=S.x,h*=S.y,u+=E,f+=M,_=Ts(v),v=uY(_)}}return l_({width:p,height:h,x:u,y:f})}function q_(t,e){const n=G_(t).scrollLeft;return e?e.left+n:Wc(La(t)).left+n}function kk(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-q_(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function eL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=La(r),l=e?H_(e.floating):!1;if(r===o||l&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Ra(1);const p=Ra(0),h=Na(r);if((h||!h&&!a)&&((T0(r)!=="body"||T1(o))&&(u=G_(r)),Na(r))){const g=Wc(r);f=Ou(r),p.x=g.x+r.clientLeft,p.y=g.y+r.clientTop}const m=o&&!h&&!a?kk(o,u):Ra(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+m.x,y:n.y*f.y-u.scrollTop*f.y+p.y+m.y}}function tL(t){return Array.from(t.getClientRects())}function nL(t){const e=La(t),n=G_(t),r=t.ownerDocument.body,i=xs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=xs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+q_(t);const l=-n.scrollTop;return ma(r).direction==="rtl"&&(o+=xs(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const yU=25;function rL(t,e){const n=Ts(t),r=La(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){a=i.width,o=i.height;const p=ZT();(!p||p&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const f=q_(r);if(f<=0){const p=r.ownerDocument,h=p.body,m=getComputedStyle(h),g=p.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,_=Math.abs(r.clientWidth-h.clientWidth-g);_<=yU&&(a-=_)}else f<=yU&&(a+=f);return{width:a,height:o,x:l,y:u}}const iL=new Set(["absolute","fixed"]);function sL(t,e){const n=Wc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Na(t)?Ou(t):Ra(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:o,height:l,x:u,y:f}}function vU(t,e,n){let r;if(e==="viewport")r=rL(t,n);else if(e==="document")r=nL(La(t));else if(pa(e))r=sL(e,n);else{const i=Ak(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return l_(r)}function Ik(t,e){const n=Al(t);return n===e||!pa(n)||r0(n)?!1:ma(n).position==="fixed"||Ik(n,e)}function aL(t,e){const n=e.get(t);if(n)return n;let r=r1(t,[],!1).filter(l=>pa(l)&&T0(l)!=="body"),i=null;const a=ma(t).position==="fixed";let o=a?Al(t):t;for(;pa(o)&&!r0(o);){const l=ma(o),u=LT(o);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&iL.has(i.position)||T1(o)&&!u&&Ik(t,o))?r=r.filter(p=>p!==o):i=l,o=Al(o)}return e.set(t,r),r}function oL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?H_(e)?[]:aL(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((f,p)=>{const h=vU(e,p,i);return f.top=xs(h.top,f.top),f.right=Cl(h.right,f.right),f.bottom=Cl(h.bottom,f.bottom),f.left=xs(h.left,f.left),f},vU(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function lL(t){const{width:e,height:n}=Ck(t);return{width:e,height:n}}function cL(t,e,n){const r=Na(e),i=La(e),a=n==="fixed",o=Wc(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const u=Ra(0);function f(){u.x=q_(i)}if(r||!r&&!a)if((T0(e)!=="body"||T1(i))&&(l=G_(e)),r){const g=Wc(e,!0,a,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?kk(i,l):Ra(0),h=o.left+l.scrollLeft-u.x-p.x,m=o.top+l.scrollTop-u.y-p.y;return{x:h,y:m,width:o.width,height:o.height}}function ex(t){return ma(t).position==="static"}function _U(t,e){if(!Na(t)||ma(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return La(t)===n&&(n=n.ownerDocument.body),n}function Rk(t,e){const n=Ts(t);if(H_(t))return n;if(!Na(t)){let i=Al(t);for(;i&&!r0(i);){if(pa(i)&&!ex(i))return i;i=Al(i)}return n}let r=_U(t,e);for(;r&&zF(r)&&ex(r);)r=_U(r,e);return r&&r0(r)&&ex(r)&&!LT(r)?n:r||GF(t)||n}const uL=async function(t){const e=this.getOffsetParent||Rk,n=this.getDimensions,r=await n(t.floating);return{reference:cL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fL(t){return ma(t).direction==="rtl"}const dL={convertOffsetParentRelativeRectToViewportRelativeRect:eL,getDocumentElement:La,getClippingRect:oL,getOffsetParent:Rk,getElementRects:uL,getClientRects:tL,getDimensions:lL,getScale:Ou,isElement:pa,isRTL:fL};function Xk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hL(t,e){let n=null,r;const i=La(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const f=t.getBoundingClientRect(),{left:p,top:h,width:m,height:g}=f;if(l||e(),!m||!g)return;const _=Hy(h),v=Hy(i.clientWidth-(p+m)),S=Hy(i.clientHeight-(h+g)),b=Hy(p),E={rootMargin:-_+"px "+-v+"px "+-S+"px "+-b+"px",threshold:xs(0,Cl(1,u))||1};let M=!0;function U(W){const w=W[0].intersectionRatio;if(w!==u){if(!M)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w===1&&!Xk(f,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(U,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(U,E)}n.observe(t)}return o(!0),a}function pL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=zT(t),p=i||a?[...f?r1(f):[],...r1(e)]:[];p.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=f&&l?hL(f,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(b=>{let[Y]=b;Y&&Y.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),f&&!u&&g.observe(f),g.observe(e));let _,v=u?Wc(t):null;u&&S();function S(){const b=Wc(t);v&&!Xk(v,b)&&n(),v=b,_=requestAnimationFrame(S)}return n(),()=>{var b;p.forEach(Y=>{i&&Y.removeEventListener("scroll",n),a&&Y.removeEventListener("resize",n)}),h?.(),(b=g)==null||b.disconnect(),g=null,u&&cancelAnimationFrame(_)}}const mL=DF,gL=BF,yL=MF,vL=FF,_L=NF,SU=PF,SL=VF,bL=(t,e,n)=>{const r=new Map,i={platform:dL,...n},a={...i.platform,_c:r};return XF(t,e,{...i,platform:a})};var xL=typeof document<"u",YL=function(){},yv=xL?B.useLayoutEffect:YL;function c_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!c_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!c_(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Pk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bU(t,e){const n=Pk(t);return Math.round(e*n)/n}function tx(t){const e=B.useRef(t);return yv(()=>{e.current=t}),e}function TL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[p,h]=B.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=B.useState(r);c_(m,r)||g(r);const[_,v]=B.useState(null),[S,b]=B.useState(null),Y=B.useCallback(q=>{q!==W.current&&(W.current=q,v(q))},[]),E=B.useCallback(q=>{q!==w.current&&(w.current=q,b(q))},[]),M=a||_,U=o||S,W=B.useRef(null),w=B.useRef(null),I=B.useRef(p),P=u!=null,O=tx(u),V=tx(i),N=tx(f),F=B.useCallback(()=>{if(!W.current||!w.current)return;const q={placement:e,strategy:n,middleware:m};V.current&&(q.platform=V.current),bL(W.current,w.current,q).then(Q=>{const ue={...Q,isPositioned:N.current!==!1};R.current&&!c_(I.current,ue)&&(I.current=ue,S0.flushSync(()=>{h(ue)}))})},[m,e,n,V,N]);yv(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[f]);const R=B.useRef(!1);yv(()=>(R.current=!0,()=>{R.current=!1}),[]),yv(()=>{if(M&&(W.current=M),U&&(w.current=U),M&&U){if(O.current)return O.current(M,U,F);F()}},[M,U,F,O,P]);const K=B.useMemo(()=>({reference:W,floating:w,setReference:Y,setFloating:E}),[Y,E]),Z=B.useMemo(()=>({reference:M,floating:U}),[M,U]),G=B.useMemo(()=>{const q={position:n,left:0,top:0};if(!Z.floating)return q;const Q=bU(Z.floating,p.x),ue=bU(Z.floating,p.y);return l?{...q,transform:"translate("+Q+"px, "+ue+"px)",...Pk(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ue}},[n,l,Z.floating,p.x,p.y]);return B.useMemo(()=>({...p,update:F,refs:K,elements:Z,floatingStyles:G}),[p,F,K,Z,G])}const wL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SU({element:r.current,padding:i}).fn(n):{}:r?SU({element:r,padding:i}).fn(n):{}}}},WL=(t,e)=>({...mL(t),options:[t,e]}),EL=(t,e)=>({...gL(t),options:[t,e]}),UL=(t,e)=>({...SL(t),options:[t,e]}),CL=(t,e)=>({...yL(t),options:[t,e]}),AL=(t,e)=>({...vL(t),options:[t,e]}),kL=(t,e)=>({..._L(t),options:[t,e]}),IL=(t,e)=>({...wL(t),options:[t,e]});var RL="Arrow",Mk=B.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return A.jsx(xn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mk.displayName=RL;var XL=Mk;function Nk(t){const[e,n]=B.useState(void 0);return Pi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $T="Popper",[Ok,w0]=Fa($T),[PL,Dk]=Ok($T),Bk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=B.useState(null);return A.jsx(PL,{scope:e,anchor:r,onAnchorChange:i,children:n})};Bk.displayName=$T;var Vk="PopperAnchor",Fk=B.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=Dk(Vk,n),o=B.useRef(null),l=er(e,o),u=B.useRef(null);return B.useEffect(()=>{const f=u.current;u.current=r?.current||o.current,f!==u.current&&a.onAnchorChange(u.current)}),r?null:A.jsx(xn.div,{...i,ref:l})});Fk.displayName=Vk;var jT="PopperContent",[ML,NL]=Ok(jT),Lk=B.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,S=Dk(jT,n),[b,Y]=B.useState(null),E=er(e,de=>Y(de)),[M,U]=B.useState(null),W=Nk(M),w=W?.width??0,I=W?.height??0,P=r+(a!=="center"?"-"+a:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(f)?f:[f],N=V.length>0,F={padding:O,boundary:V.filter(DL),altBoundary:N},{refs:R,floatingStyles:K,placement:Z,isPositioned:G,middlewareData:q}=TL({strategy:"fixed",placement:P,whileElementsMounted:(...de)=>pL(...de,{animationFrame:g==="always"}),elements:{reference:S.anchor},middleware:[WL({mainAxis:i+I,alignmentAxis:o}),u&&EL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UL():void 0,...F}),u&&CL({...F}),AL({...F,apply:({elements:de,rects:pe,availableWidth:ve,availableHeight:$e})=>{const{width:Pe,height:Ye}=pe.reference,Oe=de.floating.style;Oe.setProperty("--radix-popper-available-width",`${ve}px`),Oe.setProperty("--radix-popper-available-height",`${$e}px`),Oe.setProperty("--radix-popper-anchor-width",`${Pe}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),M&&IL({element:M,padding:l}),BL({arrowWidth:w,arrowHeight:I}),m&&kL({strategy:"referenceHidden",...F})]}),[Q,ue]=$k(Z),j=ha(_);Pi(()=>{G&&j?.()},[G,j]);const te=q.arrow?.x,fe=q.arrow?.y,J=q.arrow?.centerOffset!==0,[re,ae]=B.useState();return Pi(()=>{b&&ae(window.getComputedStyle(b).zIndex)},[b]),A.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:A.jsx(ML,{scope:n,placedSide:Q,onArrowChange:U,arrowX:te,arrowY:fe,shouldHideArrow:J,children:A.jsx(xn.div,{"data-side":Q,"data-align":ue,...v,ref:E,style:{...v.style,animation:G?void 0:"none"}})})})});Lk.displayName=jT;var Zk="PopperArrow",OL={top:"bottom",right:"left",bottom:"top",left:"right"},zk=B.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=NL(Zk,r),o=OL[a.placedSide];return A.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:A.jsx(XL,{...i,ref:n,style:{...i.style,display:"block"}})})});zk.displayName=Zk;function DL(t){return t!==null}var BL=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,p]=$k(n),h={start:"0%",center:"50%",end:"100%"}[p],m=(i.arrow?.x??0)+l/2,g=(i.arrow?.y??0)+u/2;let _="",v="";return f==="bottom"?(_=o?h:`${m}px`,v=`${-u}px`):f==="top"?(_=o?h:`${m}px`,v=`${r.floating.height+u}px`):f==="right"?(_=`${-u}px`,v=o?h:`${g}px`):f==="left"&&(_=`${r.floating.width+u}px`,v=o?h:`${g}px`),{data:{x:_,y:v}}}});function $k(t){const[e,n="center"]=t.split("-");return[e,n]}var KT=Bk,HT=Fk,GT=Lk,qT=zk,VL=Symbol("radix.slottable");function FL(t){const e=({children:n})=>A.jsx(A.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VL,e}var jk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LL="VisuallyHidden",Kk=B.forwardRef((t,e)=>A.jsx(xn.span,{...t,ref:e,style:{...jk,...t.style}}));Kk.displayName=LL;var ZL=Kk,[Q_]=Fa("Tooltip",[w0]),J_=w0(),Hk="TooltipProvider",zL=700,fY="tooltip.open",[$L,QT]=Q_(Hk),Gk=t=>{const{__scopeTooltip:e,delayDuration:n=zL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=B.useRef(!0),l=B.useRef(!1),u=B.useRef(0);return B.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),A.jsx($L,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:B.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:B.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:B.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:a})};Gk.displayName=Hk;var i1="Tooltip",[jL,w1]=Q_(i1),qk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,u=QT(i1,t.__scopeTooltip),f=J_(e),[p,h]=B.useState(null),m=Ia(),g=B.useRef(0),_=o??u.disableHoverableContent,v=l??u.delayDuration,S=B.useRef(!1),[b,Y]=Tc({prop:r,defaultProp:i??!1,onChange:w=>{w?(u.onOpen(),document.dispatchEvent(new CustomEvent(fY))):u.onClose(),a?.(w)},caller:i1}),E=B.useMemo(()=>b?S.current?"delayed-open":"instant-open":"closed",[b]),M=B.useCallback(()=>{window.clearTimeout(g.current),g.current=0,S.current=!1,Y(!0)},[Y]),U=B.useCallback(()=>{window.clearTimeout(g.current),g.current=0,Y(!1)},[Y]),W=B.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{S.current=!0,Y(!0),g.current=0},v)},[v,Y]);return B.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),A.jsx(KT,{...f,children:A.jsx(jL,{scope:e,contentId:m,open:b,stateAttribute:E,trigger:p,onTriggerChange:h,onTriggerEnter:B.useCallback(()=>{u.isOpenDelayedRef.current?W():M()},[u.isOpenDelayedRef,W,M]),onTriggerLeave:B.useCallback(()=>{_?U():(window.clearTimeout(g.current),g.current=0)},[U,_]),onOpen:M,onClose:U,disableHoverableContent:_,children:n})})};qk.displayName=i1;var dY="TooltipTrigger",Qk=B.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=w1(dY,n),a=QT(dY,n),o=J_(n),l=B.useRef(null),u=er(e,l,i.onTriggerChange),f=B.useRef(!1),p=B.useRef(!1),h=B.useCallback(()=>f.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),A.jsx(HT,{asChild:!0,...o,children:A.jsx(xn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Nt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Nt(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Nt(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Nt(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Nt(t.onBlur,i.onClose),onClick:Nt(t.onClick,i.onClose)})})});Qk.displayName=dY;var JT="TooltipPortal",[KL,HL]=Q_(JT,{forceMount:void 0}),Jk=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,a=w1(JT,e);return A.jsx(KL,{scope:e,forceMount:n,children:A.jsx(ya,{present:n||a.open,children:A.jsx(Y1,{asChild:!0,container:i,children:r})})})};Jk.displayName=JT;var i0="TooltipContent",e6=B.forwardRef((t,e)=>{const n=HL(i0,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=w1(i0,t.__scopeTooltip);return A.jsx(ya,{present:r||o.open,children:o.disableHoverableContent?A.jsx(t6,{side:i,...a,ref:e}):A.jsx(GL,{side:i,...a,ref:e})})}),GL=B.forwardRef((t,e)=>{const n=w1(i0,t.__scopeTooltip),r=QT(i0,t.__scopeTooltip),i=B.useRef(null),a=er(e,i),[o,l]=B.useState(null),{trigger:u,onClose:f}=n,p=i.current,{onPointerInTransitChange:h}=r,m=B.useCallback(()=>{l(null),h(!1)},[h]),g=B.useCallback((_,v)=>{const S=_.currentTarget,b={x:_.clientX,y:_.clientY},Y=eZ(b,S.getBoundingClientRect()),E=tZ(b,Y),M=nZ(v.getBoundingClientRect()),U=iZ([...E,...M]);l(U),h(!0)},[h]);return B.useEffect(()=>()=>m(),[m]),B.useEffect(()=>{if(u&&p){const _=S=>g(S,p),v=S=>g(S,u);return u.addEventListener("pointerleave",_),p.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",_),p.removeEventListener("pointerleave",v)}}},[u,p,g,m]),B.useEffect(()=>{if(o){const _=v=>{const S=v.target,b={x:v.clientX,y:v.clientY},Y=u?.contains(S)||p?.contains(S),E=!rZ(b,o);Y?m():E&&(m(),f())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,p,o,f,m]),A.jsx(t6,{...t,ref:a})}),[qL,QL]=Q_(i1,{isInside:!1}),JL=FL("TooltipContent"),t6=B.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,u=w1(i0,n),f=J_(n),{onClose:p}=u;return B.useEffect(()=>(document.addEventListener(fY,p),()=>document.removeEventListener(fY,p)),[p]),B.useEffect(()=>{if(u.trigger){const h=m=>{m.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,p]),A.jsx(x1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:A.jsxs(GT,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[A.jsx(JL,{children:r}),A.jsx(qL,{scope:n,isInside:!0,children:A.jsx(ZL,{id:u.contentId,role:"tooltip",children:i||r})})]})})});e6.displayName=i0;var n6="TooltipArrow",r6=B.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=J_(n);return QL(n6,n).isInside?null:A.jsx(qT,{...i,...r,ref:e})});r6.displayName=n6;function eZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function rZ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],u=e[o],f=l.x,p=l.y,h=u.x,m=u.y;p>r!=m>r&&n<(h-f)*(r-p)/(m-p)+f&&(i=!i)}return i}function iZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sZ(e)}function sZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var aZ=Gk,oZ=qk,lZ=Qk,cZ=Jk,uZ=e6,fZ=r6;function ew(t){const e=_t.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const i=r===void 0?0:r;let a;return e[3]!==i||e[4]!==n?(a=A.jsx(aZ,{"data-slot":"tooltip-provider",delayDuration:i,...n}),e[3]=i,e[4]=n,e[5]=a):a=e[5],a}function e2(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(ew,{children:A.jsx(oZ,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function t2(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(lZ,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function n2(t){const e=_t.c(13);let n,r,i,a;e[0]!==t?({className:r,sideOffset:a,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?0:a;let l;e[5]!==r?(l=jt("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=l):l=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsx(fZ,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=u):u=e[7];let f;return e[8]!==n||e[9]!==i||e[10]!==o||e[11]!==l?(f=A.jsx(cZ,{children:A.jsxs(uZ,{"data-slot":"tooltip-content",sideOffset:o,className:l,...i,children:[n,u]})}),e[8]=n,e[9]=i,e[10]=o,e[11]=l,e[12]=f):f=e[12],f}const dZ="sidebar_state",hZ=3600*24*7,pZ="16rem",mZ="18rem",gZ="3rem",yZ="b",i6=B.createContext(null);function r2(){const t=B.useContext(i6);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function vZ(t){const e=_t.c(36);let n,r,i,a,o,l,u;e[0]!==t?({defaultOpen:u,open:i,onOpenChange:o,className:r,style:l,children:n,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=l,e[7]=u):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6],u=e[7]);const f=u===void 0?!0:u,p=jD(),[h,m]=B.useState(!1),[g,_]=B.useState(f),v=i??g;let S;e[8]!==v||e[9]!==o?(S=R=>{const K=typeof R=="function"?R(v):R;o?o(K):_(K),document.cookie=`${dZ}=${K}; path=/; max-age=${hZ}`},e[8]=v,e[9]=o,e[10]=S):S=e[10];const b=S;let Y;e[11]!==p||e[12]!==b?(Y=()=>p?m(SZ):b(_Z),e[11]=p,e[12]=b,e[13]=Y):Y=e[13];const E=Y;let M,U;e[14]!==E?(M=()=>{const R=K=>{K.key===yZ&&(K.metaKey||K.ctrlKey)&&(K.preventDefault(),E())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},U=[E],e[14]=E,e[15]=M,e[16]=U):(M=e[15],U=e[16]),B.useEffect(M,U);const W=v?"expanded":"collapsed";let w;e[17]!==p||e[18]!==v||e[19]!==h||e[20]!==b||e[21]!==W||e[22]!==E?(w={state:W,open:v,setOpen:b,isMobile:p,openMobile:h,setOpenMobile:m,toggleSidebar:E},e[17]=p,e[18]=v,e[19]=h,e[20]=b,e[21]=W,e[22]=E,e[23]=w):w=e[23];const I=w;let P;e[24]!==l?(P={"--sidebar-width":pZ,"--sidebar-width-icon":gZ,...l},e[24]=l,e[25]=P):P=e[25];const O=P;let V;e[26]!==r?(V=jt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),e[26]=r,e[27]=V):V=e[27];let N;e[28]!==n||e[29]!==a||e[30]!==O||e[31]!==V?(N=A.jsx(ew,{delayDuration:0,children:A.jsx("div",{"data-slot":"sidebar-wrapper",style:O,className:V,...a,children:n})}),e[28]=n,e[29]=a,e[30]=O,e[31]=V,e[32]=N):N=e[32];let F;return e[33]!==I||e[34]!==N?(F=A.jsx(i6.Provider,{value:I,children:N}),e[33]=I,e[34]=N,e[35]=F):F=e[35],F}function _Z(t){return!t}function SZ(t){return!t}function bZ(t){const e=_t.c(46);let n,r,i,a,o,l;e[0]!==t?({side:a,variant:o,collapsible:l,className:r,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=l):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6]);const u=a===void 0?"left":a,f=o===void 0?"sidebar":o,p=l===void 0?"offcanvas":l,{isMobile:h,state:m,openMobile:g,setOpenMobile:_}=r2();if(p==="none"){let P;e[7]!==r?(P=jt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),e[7]=r,e[8]=P):P=e[8];let O;return e[9]!==n||e[10]!==i||e[11]!==P?(O=A.jsx("div",{"data-slot":"sidebar",className:P,...i,children:n}),e[9]=n,e[10]=i,e[11]=P,e[12]=O):O=e[12],O}if(h){let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P={"--sidebar-width":mZ},e[13]=P):P=e[13];let O;e[14]===Symbol.for("react.memo_cache_sentinel")?(O=A.jsxs(SF,{className:"sr-only",children:[A.jsx(bF,{children:"Sidebar"}),A.jsx(xF,{children:"Displays the mobile sidebar."})]}),e[14]=O):O=e[14];let V;e[15]!==n?(V=A.jsx("div",{className:"flex h-full w-full flex-col",children:n}),e[15]=n,e[16]=V):V=e[16];let N;e[17]!==u||e[18]!==V?(N=A.jsxs(_F,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:P,side:u,children:[O,V]}),e[17]=u,e[18]=V,e[19]=N):N=e[19];let F;return e[20]!==g||e[21]!==i||e[22]!==_||e[23]!==N?(F=A.jsx(gF,{open:g,onOpenChange:_,...i,children:N}),e[20]=g,e[21]=i,e[22]=_,e[23]=N,e[24]=F):F=e[24],F}const v=m==="collapsed"?p:"",S=f==="floating"||f==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)";let b;e[25]!==S?(b=jt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",S),e[25]=S,e[26]=b):b=e[26];let Y;e[27]!==b?(Y=A.jsx("div",{"data-slot":"sidebar-gap",className:b}),e[27]=b,e[28]=Y):Y=e[28];const E=u==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",M=f==="floating"||f==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l";let U;e[29]!==r||e[30]!==E||e[31]!==M?(U=jt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",E,M,r),e[29]=r,e[30]=E,e[31]=M,e[32]=U):U=e[32];let W;e[33]!==n?(W=A.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n}),e[33]=n,e[34]=W):W=e[34];let w;e[35]!==i||e[36]!==U||e[37]!==W?(w=A.jsx("div",{"data-slot":"sidebar-container",className:U,...i,children:W}),e[35]=i,e[36]=U,e[37]=W,e[38]=w):w=e[38];let I;return e[39]!==u||e[40]!==m||e[41]!==w||e[42]!==v||e[43]!==Y||e[44]!==f?(I=A.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":m,"data-collapsible":v,"data-variant":f,"data-side":u,"data-slot":"sidebar",children:[Y,w]}),e[39]=u,e[40]=m,e[41]=w,e[42]=v,e[43]=Y,e[44]=f,e[45]=I):I=e[45],I}function xZ(t){const e=_t.c(17);let n,r,i;e[0]!==t?({className:n,onClick:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const{toggleSidebar:a,open:o}=r2();let l;e[4]!==n?(l=jt("size-7 bg-muted hover:bg-muted/80",n),e[4]=n,e[5]=l):l=e[5];let u;e[6]!==r||e[7]!==a?(u=m=>{r?.(m),a()},e[6]=r,e[7]=a,e[8]=u):u=e[8];let f;e[9]!==o?(f=o?A.jsx(uD,{}):A.jsx(dD,{}),e[9]=o,e[10]=f):f=e[10];let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=A.jsx("span",{className:"sr-only",children:"Toggle Sidebar"}),e[11]=p):p=e[11];let h;return e[12]!==i||e[13]!==l||e[14]!==u||e[15]!==f?(h=A.jsxs(wi,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:l,onClick:u,...i,children:[f,p]}),e[12]=i,e[13]=l,e[14]=u,e[15]=f,e[16]=h):h=e[16],h}function YZ(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex flex-col gap-2 p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function TZ(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex flex-col gap-2 p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function wZ(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function s6(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("relative flex w-full min-w-0 flex-col p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function WZ(t){const e=_t.c(10);let n,r,i;e[0]!==t?({className:n,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const o=(i===void 0?!1:i)?S1:"div";let l;e[4]!==n?(l=jt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),e[4]=n,e[5]=l):l=e[5];let u;return e[6]!==o||e[7]!==r||e[8]!==l?(u=A.jsx(o,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:l,...r}),e[6]=o,e[7]=r,e[8]=l,e[9]=u):u=e[9],u}function a6(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("w-full text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function o6(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex w-full min-w-0 flex-col gap-1",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function l6(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("group/menu-item relative",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}const EZ=wA("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function c6(t){const e=_t.c(28);let n,r,i,a,o,l,u;e[0]!==t?({asChild:i,isActive:a,variant:o,size:l,tooltip:u,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=l,e[7]=u):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6],u=e[7]);const f=i===void 0?!1:i,p=a===void 0?!1:a,h=o===void 0?"default":o,m=l===void 0?"default":l,g=f?S1:"button",{isMobile:_,state:v}=r2();let S;e[8]!==n||e[9]!==m||e[10]!==h?(S=jt(EZ({variant:h,size:m}),n),e[8]=n,e[9]=m,e[10]=h,e[11]=S):S=e[11];let b;e[12]!==g||e[13]!==p||e[14]!==r||e[15]!==m||e[16]!==S?(b=A.jsx(g,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":m,"data-active":p,className:S,...r}),e[12]=g,e[13]=p,e[14]=r,e[15]=m,e[16]=S,e[17]=b):b=e[17];const Y=b;if(!u)return Y;if(typeof u=="string"){let w;e[18]!==u?(w={children:u},e[18]=u,e[19]=w):w=e[19],u=w}let E;e[20]!==Y?(E=A.jsx(t2,{asChild:!0,children:Y}),e[20]=Y,e[21]=E):E=e[21];const M=v!=="collapsed"||_;let U;e[22]!==M||e[23]!==u?(U=A.jsx(n2,{side:"right",align:"center",hidden:M,...u}),e[22]=M,e[23]=u,e[24]=U):U=e[24];let W;return e[25]!==E||e[26]!==U?(W=A.jsxs(e2,{children:[E,U]}),e[25]=E,e[26]=U,e[27]=W):W=e[27],W}function u6(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function tw(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("group/menu-sub-item relative",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function nw(t){const e=_t.c(16);let n,r,i,a,o;e[0]!==t?({asChild:i,size:a,isActive:o,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const l=i===void 0?!1:i,u=a===void 0?"md":a,f=o===void 0?!1:o,p=l?S1:"a",h=u==="sm"&&"text-xs",m=u==="md"&&"text-sm";let g;e[6]!==n||e[7]!==h||e[8]!==m?(g=jt("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",h,m,"group-data-[collapsible=icon]:hidden",n),e[6]=n,e[7]=h,e[8]=m,e[9]=g):g=e[9];let _;return e[10]!==p||e[11]!==f||e[12]!==r||e[13]!==u||e[14]!==g?(_=A.jsx(p,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":u,"data-active":f,className:g,...r}),e[10]=p,e[11]=f,e[12]=r,e[13]=u,e[14]=g,e[15]=_):_=e[15],_}const s0={};function f6(t){return"init"in t}function hY(t){return!!t.write}function xU(t){return"v"in t||"e"in t}function u_(t){if("e"in t)throw t.e;if((s0?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v}const f_=new WeakMap;function d6(t){var e;return d_(t)&&!!((e=f_.get(t))!=null&&e[0])}function UZ(t){const e=f_.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(n=>n()))}function pY(t,e){let n=f_.get(t);if(!n){n=[!0,new Set],f_.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)}function d_(t){return typeof t?.then=="function"}function h6(t,e,n){if(!n.p.has(t)){n.p.add(t);const r=()=>n.p.delete(t);e.then(r,r)}}function p6(t,e,n){var r;const i=new Set;for(const a of((r=n.get(t))==null?void 0:r.t)||[])n.has(a)&&i.add(a);for(const a of e.p)i.add(a);return i}const CZ=(t,e,...n)=>e.read(...n),AZ=(t,e,...n)=>e.write(...n),kZ=(t,e)=>{var n;return(n=e.unstable_onInit)==null?void 0:n.call(e,t)},IZ=(t,e,n)=>{var r;return(r=e.onMount)==null?void 0:r.call(e,n)},RZ=(t,e)=>{const n=Ri(t),r=n[0],i=n[9];if((s0?"production":void 0)!=="production"&&!e)throw new Error("Atom is undefined or null");let a=r.get(e);return a||(a={d:new Map,p:new Set,n:0},r.set(e,a),i?.(t,e)),a},XZ=t=>{const e=Ri(t),n=e[1],r=e[3],i=e[4],a=e[5],o=e[6],l=e[13],u=[],f=p=>{try{p()}catch(h){u.push(h)}};do{o.f&&f(o.f);const p=new Set,h=p.add.bind(p);r.forEach(m=>{var g;return(g=n.get(m))==null?void 0:g.l.forEach(h)}),r.clear(),a.forEach(h),a.clear(),i.forEach(h),i.clear(),p.forEach(f),r.size&&l(t)}while(r.size||a.size||i.size);if(u.length)throw new AggregateError(u)},PZ=t=>{const e=Ri(t),n=e[1],r=e[2],i=e[3],a=e[11],o=e[14],l=e[17],u=[],f=new WeakSet,p=new WeakSet,h=Array.from(i);for(;h.length;){const m=h[h.length-1],g=a(t,m);if(p.has(m)){h.pop();continue}if(f.has(m)){if(r.get(m)===g.n)u.push([m,g]);else if((s0?"production":void 0)!=="production"&&r.has(m))throw new Error("[Bug] invalidated atom exists");p.add(m),h.pop();continue}f.add(m);for(const _ of p6(m,g,n))f.has(_)||h.push(_)}for(let m=u.length-1;m>=0;--m){const[g,_]=u[m];let v=!1;for(const S of _.d.keys())if(S!==g&&i.has(S)){v=!0;break}v&&(o(t,g),l(t,g)),r.delete(g)}},MZ=(t,e)=>{var n,r;const i=Ri(t),a=i[1],o=i[2],l=i[3],u=i[6],f=i[7],p=i[11],h=i[12],m=i[13],g=i[14],_=i[16],v=i[17],S=p(t,e);if(xU(S)&&(a.has(e)&&o.get(e)!==S.n||Array.from(S.d).every(([I,P])=>g(t,I).n===P)))return S;S.d.clear();let b=!0;function Y(){a.has(e)&&(v(t,e),m(t),h(t))}function E(I){var P;if(I===e){const V=p(t,I);if(!xU(V))if(f6(I))h_(t,I,I.init);else throw new Error("no atom init");return u_(V)}const O=g(t,I);try{return u_(O)}finally{S.d.set(I,O.n),d6(S.v)&&h6(e,S.v,O),(P=a.get(I))==null||P.t.add(e),b||Y()}}let M,U;const W={get signal(){return M||(M=new AbortController),M.signal},get setSelf(){return(s0?"production":void 0)!=="production"&&!hY(e)&&console.warn("setSelf function cannot be used with read-only atom"),!U&&hY(e)&&(U=(...I)=>{if((s0?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return _(t,e,...I)}finally{m(t),h(t)}}),U}},w=S.n;try{const I=f(t,e,E,W);return h_(t,e,I),d_(I)&&(pY(I,()=>M?.abort()),I.then(Y,Y)),(n=u.r)==null||n.call(u,e),S}catch(I){return delete S.v,S.e=I,++S.n,S}finally{b=!1,w!==S.n&&o.get(e)===w&&(o.set(e,S.n),l.add(e),(r=u.c)==null||r.call(u,e))}},NZ=(t,e)=>{const n=Ri(t),r=n[1],i=n[2],a=n[11],o=[e];for(;o.length;){const l=o.pop(),u=a(t,l);for(const f of p6(l,u,r)){const p=a(t,f);i.set(f,p.n),o.push(f)}}},m6=(t,e,...n)=>{const r=Ri(t),i=r[3],a=r[6],o=r[8],l=r[11],u=r[12],f=r[13],p=r[14],h=r[15],m=r[17];let g=!0;const _=S=>u_(p(t,S)),v=(S,...b)=>{var Y;const E=l(t,S);try{if(S===e){if(!f6(S))throw new Error("atom not writable");const M=E.n,U=b[0];h_(t,S,U),m(t,S),M!==E.n&&(i.add(S),(Y=a.c)==null||Y.call(a,S),h(t,S));return}else return m6(t,S,...b)}finally{g||(f(t),u(t))}};try{return o(t,e,_,v,...n)}finally{g=!1}},OZ=(t,e)=>{var n;const r=Ri(t),i=r[1],a=r[3],o=r[6],l=r[11],u=r[15],f=r[18],p=r[19],h=l(t,e),m=i.get(e);if(m&&!d6(h.v)){for(const[g,_]of h.d)if(!m.d.has(g)){const v=l(t,g);f(t,g).t.add(e),m.d.add(g),_!==v.n&&(a.add(g),(n=o.c)==null||n.call(o,g),u(t,g))}for(const g of m.d||[])if(!h.d.has(g)){m.d.delete(g);const _=p(t,g);_?.t.delete(e)}}},g6=(t,e)=>{var n;const r=Ri(t),i=r[1],a=r[4],o=r[6],l=r[10],u=r[11],f=r[12],p=r[13],h=r[14],m=r[16],g=u(t,e);let _=i.get(e);if(!_){h(t,e);for(const v of g.d.keys())g6(t,v).t.add(e);if(_={l:new Set,d:new Set(g.d.keys()),t:new Set},i.set(e,_),(n=o.m)==null||n.call(o,e),hY(e)){const v=()=>{let S=!0;const b=(...Y)=>{try{return m(t,e,...Y)}finally{S||(p(t),f(t))}};try{const Y=l(t,e,b);Y&&(_.u=()=>{S=!0;try{Y()}finally{S=!1}})}finally{S=!1}};a.add(v)}}return _},DZ=(t,e)=>{var n;const r=Ri(t),i=r[1],a=r[5],o=r[6],l=r[11],u=r[19],f=l(t,e);let p=i.get(e);if(p&&!p.l.size&&!Array.from(p.t).some(h=>{var m;return(m=i.get(h))==null?void 0:m.d.has(e)})){p.u&&a.add(p.u),p=void 0,i.delete(e),(n=o.u)==null||n.call(o,e);for(const h of f.d.keys()){const m=u(t,h);m?.t.delete(e)}return}return p},h_=(t,e,n)=>{const r=Ri(t)[11],i=r(t,e),a="v"in i,o=i.v;if(d_(n))for(const l of i.d.keys())h6(e,n,r(t,l));i.v=n,delete i.e,(!a||!Object.is(o,i.v))&&(++i.n,d_(o)&&UZ(o))},BZ=(t,e)=>{const n=Ri(t)[14];return u_(n(t,e))},VZ=(t,e,...n)=>{const r=Ri(t),i=r[12],a=r[13],o=r[16];try{return o(t,e,...n)}finally{a(t),i(t)}},FZ=(t,e,n)=>{const r=Ri(t),i=r[12],a=r[18],o=r[19],u=a(t,e).l;return u.add(n),i(t),()=>{u.delete(n),o(t,e),i(t)}},y6=new WeakMap,Ri=t=>{const e=y6.get(t);if((s0?"production":void 0)!=="production"&&!e)throw new Error("Store must be created by buildStore to read its building blocks");return e};function LZ(...t){const e={get(r){const i=Ri(e)[21];return i(e,r)},set(r,...i){const a=Ri(e)[22];return a(e,r,...i)},sub(r,i){const a=Ri(e)[23];return a(e,r,i)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},CZ,AZ,kZ,IZ,RZ,XZ,PZ,MZ,NZ,m6,OZ,g6,DZ,h_,BZ,VZ,FZ,void 0].map((r,i)=>t[i]||r);return y6.set(e,Object.freeze(n)),e}const v6={};let ZZ=0;function ft(t,e){const n=`atom${++ZZ}`,r={toString(){return(v6?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=zZ,r.write=$Z),e&&(r.write=e),r}function zZ(t){return t(this)}function $Z(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}function jZ(){return LZ()}let xg;function KZ(){return xg||(xg=jZ(),(v6?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=xg),globalThis.__JOTAI_DEFAULT_STORE__!==xg&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),xg}const HZ={},GZ=B.createContext(void 0);function W0(t){return B.useContext(GZ)||KZ()}const mY=t=>typeof t?.then=="function",gY=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},qZ=gt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(gY(t),t)}),nx=new WeakMap,YU=(t,e)=>{let n=nx.get(t);return n||(n=new Promise((r,i)=>{let a=t;const o=f=>p=>{a===f&&r(p)},l=f=>p=>{a===f&&i(p)},u=()=>{try{const f=e();mY(f)?(nx.set(f,n),a=f,f.then(o(f),l(f)),pY(f,u)):r(f)}catch(f){i(f)}};t.then(o(t),l(t)),pY(t,u)}),nx.set(t,n)),n};function Jt(t,e){const{delay:n,unstable_promiseStatus:r=!gt.use}={},i=W0(),[[a,o,l],u]=B.useReducer(p=>{const h=i.get(t);return Object.is(p[0],h)&&p[1]===i&&p[2]===t?p:[h,i,t]},void 0,()=>[i.get(t),i,t]);let f=a;if((o!==i||l!==t)&&(u(),f=i.get(t)),B.useEffect(()=>{const p=i.sub(t,()=>{if(r)try{const h=i.get(t);mY(h)&&gY(YU(h,()=>i.get(t)))}catch{}if(typeof n=="number"){setTimeout(u,n);return}u()});return u(),p},[i,t,n,r]),B.useDebugValue(f),mY(f)){const p=YU(f,()=>i.get(t));return r&&gY(p),qZ(p)}return f}function bn(t,e){const n=W0();return B.useCallback((...i)=>{if((HZ?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function p_(t,e){return[Jt(t),bn(t)]}const rw={},QZ=Symbol((rw?"production":void 0)!=="production"?"RESET":"");function _a(t,e){let n=null;const r=new Map,i=new Set,a=l=>{let u;if(u=r.get(l),u!==void 0)if(n?.(u[1],l))a.remove(l);else return u[0];const f=t(l);return r.set(l,[f,Date.now()]),o("CREATE",l,f),f},o=(l,u,f)=>{for(const p of i)p({type:l,param:u,atom:f})};return a.unstable_listen=l=>(i.add(l),()=>{i.delete(l)}),a.getParams=()=>r.keys(),a.remove=l=>{{if(!r.has(l))return;const[u]=r.get(l);r.delete(l),o("REMOVE",l,u)}},a.setShouldRemove=l=>{if(n=l,!!n)for(const[u,[f,p]]of r)n(p,u)&&(r.delete(u),o("REMOVE",u,f))},a}const _6=t=>typeof t?.then=="function";function JZ(t=()=>{try{return window.localStorage}catch(n){(rw?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const a={getItem:(u,f)=>{var p,h;const m=_=>{if(_=_||"",r!==_){try{i=JSON.parse(_,e?.reviver)}catch{return f}r=_}return i},g=(h=(p=t())==null?void 0:p.getItem(u))!=null?h:null;return _6(g)?g.then(m):m(g)},setItem:(u,f)=>{var p;return(p=t())==null?void 0:p.setItem(u,JSON.stringify(f,void 0))},removeItem:u=>{var f;return(f=t())==null?void 0:f.removeItem(u)}},o=u=>(f,p,h)=>u(f,m=>{let g;try{g=JSON.parse(m||"")}catch{g=h}p(g)});let l;try{l=(n=t())==null?void 0:n.subscribe}catch{}return!l&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(l=(u,f)=>{if(!(t()instanceof window.Storage))return()=>{};const p=h=>{h.storageArea===t()&&h.key===u&&f(h.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),l&&(a.subscribe=o(l)),a}const e9=JZ();function S6(t,e,n=e9,r){const i=ft(e);return(rw?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=o=>{o(n.getItem(t,e));let l;return n.subscribe&&(l=n.subscribe(t,o,e)),l},ft(o=>o(i),(o,l,u)=>{const f=typeof u=="function"?u(o(i)):u;return f===QZ?(l(i,e),n.removeItem(t)):_6(f)?f.then(p=>(l(i,p),n.setItem(t,p))):(l(i,f),n.setItem(t,f))})}const So=_a(t=>ft(null)),Ec=ft([]),t9=ft(t=>{const e=t(Ec),n=new Set;for(const r of e){const i=t(So(r));if(i)for(const a of i.channelIds)n.add(a)}return n});class i2{id;recordId;fileHashes;metadataFileHashes;timeStartEpochUs;timeEndEpochUs;sourceType;hasValidTime;constructor(e,n,r,i,a,o="unknown",l,u=!0){this.id=e,this.recordId=n,this.fileHashes=r,this.timeStartEpochUs=i,this.timeEndEpochUs=a,this.sourceType=o,this.metadataFileHashes=l,this.hasValidTime=u}supportsPositions(){const e=this.getType();return e==="image_collection"||e==="video"||e==="mediabunny_video"}frameIndexToTimestamp(e){const n=this.timeEndEpochUs-this.timeStartEpochUs,r=this.getFrameCount();return r<=1?this.timeStartEpochUs:this.timeStartEpochUs+e/(r-1)*n}timestampToFrameIndex(e){const n=this.timeEndEpochUs-this.timeStartEpochUs;if(n<=0)return 0;const r=(e-this.timeStartEpochUs)/n;return Math.floor(r*this.getFrameCount())}}class yY extends i2{frameRate;timestamps;constructor(e,n,r,i,a,o,l=1,u="unknown",f,p=!0){super(e,n,r,a,o,u,f,p),this.frameRate=l,this.timestamps=i}getType(){return"image_collection"}getFrameCount(){return this.fileHashes.length}getFrameHash(e){return this.fileHashes[e]??null}getDuration(){return this.timestamps.length>1?(this.timestamps[this.timestamps.length-1]-this.timestamps[0])/1e6:this.getFrameCount()/this.frameRate}getFrameRate(){return this.frameRate}frameIndexToTimestamp(e){return e<0||e>=this.timestamps.length?this.timeStartEpochUs:this.timestamps[e]}timestampToFrameIndex(e){if(this.timestamps.length===0||e<=this.timestamps[0])return 0;if(e>=this.timestamps[this.timestamps.length-1])return this.timestamps.length-1;let n=0,r=this.timestamps.length-1;for(;n<r-1;){const o=Math.floor((n+r)/2);this.timestamps[o]<=e?n=o:r=o}const i=Math.abs(this.timestamps[n]-e),a=Math.abs(this.timestamps[r]-e);return i<=a?n:r}}class n9 extends i2{duration;frameRate;constructor(e,n,r,i,a,o,l=30,u="unknown",f,p=!0){super(e,n,r,i,a,u,f,p),this.duration=o,this.frameRate=l}getType(){return"video"}getFrameCount(){return Math.floor(this.duration*this.frameRate)}getFrameHash(e){return this.fileHashes[0]??null}getDuration(){return this.duration}getFrameRate(){return this.frameRate}indexToTimestamp(e){return e/this.frameRate}timestampToIndex(e){return Math.floor(e*this.frameRate)}}class ga extends i2{streamId;remoteStream;constructor(e,n,r=Date.now()*1e3){super(e,"",[],r,r),this.streamId=n,this.remoteStream=null}getType(){return"livestream"}getFrameCount(){const e=this.getDuration();return Math.floor(e*this.getFrameRate())}getFrameHash(e){return null}getDuration(){return(this.timeEndEpochUs-this.timeStartEpochUs)/1e6}getFrameRate(){return 15}setRemoteStream(e){this.remoteStream=e}getRemoteStream(){return this.remoteStream}updateCurrentTime(){this.timeEndEpochUs=Date.now()*1e3}}class vY extends i2{duration;timestamps;constructor(e,n,r,i,a,o,l,u="unknown",f,p=!0){super(e,n,r,i,a,u,f,p),this.duration=o,this.timestamps=l}getType(){return"mediabunny_video"}getFrameCount(){return this.timestamps.length}getFrameHash(e){return this.fileHashes[0]??null}getDuration(){return this.duration}getFrameRate(){return(this.timestamps.length-1)/(this.timestamps[this.timestamps.length-1]-this.timestamps[0])}indexToTimestamp(e){if(this.timestamps.length===0)return 0;const n=Math.max(0,Math.min(e,this.timestamps.length-1));return this.timestamps[n]}timestampToIndex(e){let n=0;for(let r=0;r<this.timestamps.length&&this.timestamps[r]-1e-4<=e;r++)n=r;return n}}const Oa=Object.create(null);Oa.open="0";Oa.close="1";Oa.ping="2";Oa.pong="3";Oa.message="4";Oa.upgrade="5";Oa.noop="6";const vv=Object.create(null);Object.keys(Oa).forEach(t=>{vv[Oa[t]]=t});const _Y={type:"error",data:"parser error"},b6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",x6=typeof ArrayBuffer=="function",Y6=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,iw=({type:t,data:e},n,r)=>b6&&e instanceof Blob?n?r(e):TU(e,r):x6&&(e instanceof ArrayBuffer||Y6(e))?n?r(e):TU(new Blob([e]),r):r(Oa[t]+(e||"")),TU=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function wU(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let rx;function r9(t,e){if(b6&&t.data instanceof Blob)return t.data.arrayBuffer().then(wU).then(e);if(x6&&(t.data instanceof ArrayBuffer||Y6(t.data)))return e(wU(t.data));iw(t,!1,n=>{rx||(rx=new TextEncoder),e(rx.encode(n))})}const WU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ig=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<WU.length;t++)Ig[WU.charCodeAt(t)]=t;const i9=t=>{let e=t.length*.75,n=t.length,r,i=0,a,o,l,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),p=new Uint8Array(f);for(r=0;r<n;r+=4)a=Ig[t.charCodeAt(r)],o=Ig[t.charCodeAt(r+1)],l=Ig[t.charCodeAt(r+2)],u=Ig[t.charCodeAt(r+3)],p[i++]=a<<2|o>>4,p[i++]=(o&15)<<4|l>>2,p[i++]=(l&3)<<6|u&63;return f},s9=typeof ArrayBuffer=="function",sw=(t,e)=>{if(typeof t!="string")return{type:"message",data:T6(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:a9(t.substring(1),e)}:vv[n]?t.length>1?{type:vv[n],data:t.substring(1)}:{type:vv[n]}:_Y},a9=(t,e)=>{if(s9){const n=i9(t);return T6(n,e)}else return{base64:!0,data:t}},T6=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},w6="",o9=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((a,o)=>{iw(a,!1,l=>{r[o]=l,++i===n&&e(r.join(w6))})})},l9=(t,e)=>{const n=t.split(w6),r=[];for(let i=0;i<n.length;i++){const a=sw(n[i],e);if(r.push(a),a.type==="error")break}return r};function c9(){return new TransformStream({transform(t,e){r9(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let ix;function Gy(t){return t.reduce((e,n)=>e+n.length,0)}function qy(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function u9(t,e){ix||(ix=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Gy(n)<1)break;const u=qy(n,1);a=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Gy(n)<2)break;const u=qy(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Gy(n)<8)break;const u=qy(n,8),f=new DataView(u.buffer,u.byteOffset,u.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){l.enqueue(_Y);break}i=p*Math.pow(2,32)+f.getUint32(4),r=3}else{if(Gy(n)<i)break;const u=qy(n,i);l.enqueue(sw(a?u:ix.decode(u),e)),r=0}if(i===0||i>t){l.enqueue(_Y);break}}}})}const W6=4;function ni(t){if(t)return f9(t)}function f9(t){for(var e in ni.prototype)t[e]=ni.prototype[e];return t}ni.prototype.on=ni.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ni.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ni.prototype.off=ni.prototype.removeListener=ni.prototype.removeAllListeners=ni.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ni.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ni.prototype.emitReserved=ni.prototype.emit;ni.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ni.prototype.hasListeners=function(t){return!!this.listeners(t).length};const s2=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),zs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),d9="arraybuffer";function E6(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const h9=zs.setTimeout,p9=zs.clearTimeout;function a2(t,e){e.useNativeTimers?(t.setTimeoutFn=h9.bind(zs),t.clearTimeoutFn=p9.bind(zs)):(t.setTimeoutFn=zs.setTimeout.bind(zs),t.clearTimeoutFn=zs.clearTimeout.bind(zs))}const m9=1.33;function g9(t){return typeof t=="string"?y9(t):Math.ceil((t.byteLength||t.size)*m9)}function y9(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function U6(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function v9(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function _9(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class S9 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class aw extends ni{constructor(e){super(),this.writable=!1,a2(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new S9(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=sw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=v9(e);return n.length?"?"+n:""}}class b9 extends aw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};l9(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,o9(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=U6()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let C6=!1;try{C6=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const x9=C6;function Y9(){}class T9 extends b9{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Du=class _v extends ni{constructor(e,n,r){super(),this.createRequest=e,a2(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=E6(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=_v.requestsCount++,_v.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Y9,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _v.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Du.requestsCount=0;Du.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",EU);else if(typeof addEventListener=="function"){const t="onpagehide"in zs?"pagehide":"unload";addEventListener(t,EU,!1)}}function EU(){for(let t in Du.requests)Du.requests.hasOwnProperty(t)&&Du.requests[t].abort()}const w9=(function(){const t=A6({xdomain:!1});return t&&t.responseType!==null})();class W9 extends T9{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=w9&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Du(A6,this.uri(),e)}}function A6(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||x9))return new XMLHttpRequest}catch{}if(!e)try{return new zs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const k6=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class E9 extends aw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=k6?{}:E6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;iw(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&s2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=U6()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const sx=zs.WebSocket||zs.MozWebSocket;class U9 extends E9{createSocket(e,n,r){return k6?new sx(e,n,r):n?new sx(e,n):new sx(e)}doWrite(e,n){this.ws.send(n)}}class C9 extends aw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=u9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=c9();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:l,value:u})=>{l||(this.onPacket(u),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&s2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const A9={websocket:U9,webtransport:C9,polling:W9},k9=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,I9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function SY(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=k9.exec(t||""),a={},o=14;for(;o--;)a[I9[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=R9(a,a.path),a.queryKey=X9(a,a.query),a}function R9(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function X9(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const bY=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sv=[];bY&&addEventListener("offline",()=>{Sv.forEach(t=>t())},!1);class xl extends ni{constructor(e,n){if(super(),this.binaryType=d9,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=SY(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=SY(n.host).host);a2(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_9(this.opts.query)),bY&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=W6,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&xl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",xl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=g9(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,s2(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(xl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),bY&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Sv.indexOf(this._offlineEventListener);r!==-1&&Sv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}xl.protocol=W6;class P9 extends xl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;xl.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function u(){o("socket closed")}function f(h){n&&h.name!==n.name&&a()}const p=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",u),this.off("upgrading",f)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let M9=class extends P9{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>A9[i]).filter(i=>!!i)),super(e,r)}};function N9(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=SY(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const O9=typeof ArrayBuffer=="function",D9=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,I6=Object.prototype.toString,B9=typeof Blob=="function"||typeof Blob<"u"&&I6.call(Blob)==="[object BlobConstructor]",V9=typeof File=="function"||typeof File<"u"&&I6.call(File)==="[object FileConstructor]";function ow(t){return O9&&(t instanceof ArrayBuffer||D9(t))||B9&&t instanceof Blob||V9&&t instanceof File}function bv(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(bv(t[n]))return!0;return!1}if(ow(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return bv(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&bv(t[n]))return!0;return!1}function F9(t){const e=[],n=t.data,r=t;return r.data=xY(n,e),r.attachments=e.length,{packet:r,buffers:e}}function xY(t,e){if(!t)return t;if(ow(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=xY(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=xY(t[r],e));return n}return t}function L9(t,e){return t.data=YY(t.data,e),delete t.attachments,t}function YY(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=YY(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=YY(t[n],e));return t}const Z9=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],z9=5;var On;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(On||(On={}));class $9{constructor(e){this.replacer=e}encode(e){return(e.type===On.EVENT||e.type===On.ACK)&&bv(e)?this.encodeAsBinary({type:e.type===On.EVENT?On.BINARY_EVENT:On.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===On.BINARY_EVENT||e.type===On.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=F9(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function UU(t){return Object.prototype.toString.call(t)==="[object Object]"}class lw extends ni{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===On.BINARY_EVENT;r||n.type===On.BINARY_ACK?(n.type=r?On.EVENT:On.ACK,this.reconstructor=new j9(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ow(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(On[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===On.BINARY_EVENT||r.type===On.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(lw.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case On.CONNECT:return UU(n);case On.DISCONNECT:return n===void 0;case On.CONNECT_ERROR:return typeof n=="string"||UU(n);case On.EVENT:case On.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Z9.indexOf(n[0])===-1);case On.ACK:case On.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class j9{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=L9(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const K9=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lw,Encoder:$9,get PacketType(){return On},protocol:z9},Symbol.toStringTag,{value:"Module"}));function oa(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const H9=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class R6 extends ni{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[oa(e,"open",this.onopen.bind(this)),oa(e,"packet",this.onpacket.bind(this)),oa(e,"error",this.onerror.bind(this)),oa(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,a;if(H9.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:On.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,h=n.pop();this._registerAckCallback(p,h),o.id=p}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const a=(o,l)=>o?i(o):r(l);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:On.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case On.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case On.EVENT:case On.BINARY_EVENT:this.onevent(e);break;case On.ACK:case On.BINARY_ACK:this.onack(e);break;case On.DISCONNECT:this.ondisconnect();break;case On.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:On.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:On.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function E0(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}E0.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};E0.prototype.reset=function(){this.attempts=0};E0.prototype.setMin=function(t){this.ms=t};E0.prototype.setMax=function(t){this.max=t};E0.prototype.setJitter=function(t){this.jitter=t};class TY extends ni{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,a2(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new E0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||K9;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new M9(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=oa(n,"open",function(){r.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=oa(n,"error",a);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(oa(e,"ping",this.onping.bind(this)),oa(e,"data",this.ondata.bind(this)),oa(e,"error",this.onerror.bind(this)),oa(e,"close",this.onclose.bind(this)),oa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){s2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new R6(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Yg={};function xv(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=N9(t,e.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=Yg[i]&&a in Yg[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return l?u=new TY(r,e):(Yg[i]||(Yg[i]=new TY(r,e)),u=Yg[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(xv,{Manager:TY,Socket:R6,io:xv,connect:xv});const G9="https://webrtc.eagleeyessearch.com";class q9{socket;onConnect;onMessage;onError;onDisconnect;constructor(e,n){this.onConnect=e,this.onMessage=n}async connect(){return this.socket=xv(G9),this.socket.on("connect",()=>{this.onConnect?.()}),this.socket.on("message",async e=>{try{await this.onMessage?.(e)}catch(n){console.error("Error handling message",n),this.onError?.(n)}}),this.socket.on("joined-as-viewer",async e=>{await this.onMessage?.({type:"joined-as-viewer",...e})}),this.socket.on("offer",async e=>{await this.onMessage?.({type:"offer",...e})}),this.socket.on("ice-candidate",async e=>{await this.onMessage?.({type:"ice-candidate",...e})}),this.socket.on("connect_error",e=>{console.error("Connection error",e),this.onError?.(e)}),this.socket.on("disconnect",()=>{this.onDisconnect?.()}),new Promise((e,n)=>{this.socket&&(this.socket.once("connect",()=>e()),this.socket.once("connect_error",r=>n(r)))})}async send(e){if(this.socket?.connected){const{type:n,...r}=e;this.socket?.emit(n,r)}else return console.error("Cannot send message, not connected"),Promise.reject(new Error("Socket not connected"))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=void 0)}isConnected(){return this.socket?.connected??!1}}const m_=_a(t=>ft(null)),Iu=ft([]),cw=ft(t=>{const e=t(Iu),n=[];for(const r of e){const i=t(m_(r));i&&n.push(i)}return n}),hfe=ft(t=>{const e=t(cw),n=new Map;for(const r of e){const i=n.get(r.recordId)||[];i.push(r),n.set(r.recordId,i)}return n}),wn=ft({channelId:null,currentTimeUs:0,previousTimeUs:0,isPlaying:!1,playbackSpeed:1,channelModelName:null,selectionSource:null});ft(t=>t(wn).channelId);const o2=ft(t=>{const e=t(wn);if(!e.channelId)return 0;const n=t(gn(e.channelId));if(!n)return 0;const r=n.timeStartEpochUs+e.currentTimeUs;return n.timestampToFrameIndex(r)});ft(t=>{const e=t(wn);if(!e.channelId)return 0;const n=t(gn(e.channelId));if(!n)return 0;const r=n.timeStartEpochUs+e.previousTimeUs;return n.timestampToFrameIndex(r)});ft(t=>t(wn).isPlaying);ft(t=>t(wn).playbackSpeed);ft(t=>t(wn).channelModelName);const pfe=ft(null,(t,e)=>{const n=t(wn);e(wn,{...n,isPlaying:!0})}),mfe=ft(null,(t,e)=>{const n=t(wn);e(wn,{...n,isPlaying:!1})}),Q9=ft(null,(t,e,n)=>{const r=t(wn);if(!r.channelId)return;const i=t(gn(r.channelId));if(!i)return;const a=Math.max(0,Math.min(n,i.getFrameCount()-1)),l=i.frameIndexToTimestamp(a)-i.timeStartEpochUs;e(wn,{...r,previousTimeUs:r.currentTimeUs,currentTimeUs:l})}),gfe=ft(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,previousTimeUs:r.currentTimeUs,currentTimeUs:Math.max(0,n)})}),yfe=ft(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,playbackSpeed:Math.max(.1,Math.min(10,n))})}),wo=ft(null,(t,e,n)=>{const r=t(wn),i=typeof n=="object"&&n!==null?n.channelId:n,a=typeof n=="object"&&n!==null?n.source??null:null,o=typeof n=="object"&&n!==null?n.preservePosition??!1:!1;e(wn,{...r,channelId:i,currentTimeUs:o?r.currentTimeUs:0,previousTimeUs:o?r.previousTimeUs:0,isPlaying:!1,channelModelName:null,selectionSource:a});const l=t(g_);e(g_,{index:0,trigger:l.trigger})}),g_=ft({index:0,trigger:0}),X6=ft(null,(t,e,n)=>{const r=t(g_);e(g_,{index:n,trigger:r.trigger+1})}),J9=ft(null,(t,e,n)=>{const r=t(wn),{channelId:i,source:a}=n,o=r.channelId?t(gn(r.channelId)):null;let l=null;o&&(l=o.timeStartEpochUs+r.currentTimeUs);const f=t(cw).find(m=>m.channelId===i),p=t(gn(i));let h=0;if(l!==null&&f&&p){const m=f.startEpochTimeMillis*1e3,g=f.endEpochTimeMillis*1e3;l>=m&&l<=g&&(h=l-p.timeStartEpochUs)}e(wn,{...r,channelId:i,currentTimeUs:h,previousTimeUs:r.currentTimeUs,isPlaying:!1,channelModelName:null,selectionSource:a??null})}),ez=ft(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,channelModelName:n})}),vfe=ft(null,(t,e)=>{const n=t(wn);if(!n.channelId)return;const r=t(gn(n.channelId));if(!r)return;const i=t(o2);if(i>=r.getFrameCount()-1)return;const o=r.frameIndexToTimestamp(i+1)-r.timeStartEpochUs;e(wn,{...n,previousTimeUs:n.currentTimeUs,currentTimeUs:o})}),tz=ft({width:0,height:0}),_fe=ft(null,(t,e,n)=>{e(tz,n)}),Mr=_a(t=>{const e=ft(null);return ft(n=>n(e),(n,r,i)=>{const a=n(e);i===null&&a!==null&&(a.cleanupDataChannels&&a.cleanupDataChannels(),a.droneDataChannel?.close(),a.geojsonDataChannel?.close(),a.otherDroneDataChannel?.close(),a.peerConnection?.close(),a.signalingService?.disconnect(),a.remoteStream?.getTracks().forEach(o=>o.stop())),r(e,i)})});function nz(t){try{const e=JSON.parse(t);return e.type==="drone_telemetry"&&e.state?e:null}catch(e){return console.error("Error parsing drone data:",e),null}}function rz(t,e,n,r){const i=o=>{const l=n(Mr(t));if(!l)return;const u=1e3;let f=[...l.telemetryData,o];if(f.length>u){const h=f.length-u;f=f.slice(h)}const p=n(gn(l.channelId));if(p instanceof ga){const h=new ga(p.id,p.streamId,p.timeStartEpochUs);h.timeEndEpochUs=Date.now()*1e3,h.setRemoteStream(p.getRemoteStream()),r(gn(l.channelId),h)}r(Mr(t),{...l,telemetryData:f})},a=[];if(e.droneDataChannel){const o=l=>{const u=nz(l.data);u&&i(u)};e.droneDataChannel.addEventListener("message",o),a.push({channel:e.droneDataChannel,handler:o})}if(e.geojsonDataChannel){const o=l=>{};e.geojsonDataChannel.addEventListener("message",o),a.push({channel:e.geojsonDataChannel,handler:o})}if(e.otherDroneDataChannel){const o=l=>{};e.otherDroneDataChannel.addEventListener("message",o),a.push({channel:e.otherDroneDataChannel,handler:o})}return()=>{a.forEach(({channel:o,handler:l})=>{o.removeEventListener("message",l)})}}async function iz(t,e,n,r){const i={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},a=new RTCPeerConnection(i);return a.onconnectionstatechange=()=>{const o=n(Mr(t));o&&r(Mr(t),{...o,connectionState:a.connectionState})},a.ontrack=o=>{const[l]=o.streams,u=n(Mr(t));if(!u)return;const f=n(gn(e));if(f instanceof ga){const p=new ga(f.id,f.streamId,f.timeStartEpochUs);p.timeEndEpochUs=f.timeEndEpochUs,p.setRemoteStream(l),r(gn(e),p)}r(Mr(t),{...u,remoteStream:l})},a.onicecandidate=o=>{const l=n(Mr(t));o.candidate&&l?.signalingService&&l.signalingService.send({type:"ice-candidate",roomId:t,candidate:o.candidate})},a.ondatachannel=o=>{const l=o.channel,u=n(Mr(t));if(!u)return;const f={};switch(l.label){case"drone_data":f.droneDataChannel=l;break;case"geojson_data":f.geojsonDataChannel=l;break;case"telemetry_drone_data":f.otherDroneDataChannel=l;break}const p={...u,...f};p.cleanupDataChannels&&p.cleanupDataChannels();const h=rz(t,p,n,r);r(Mr(t),{...p,cleanupDataChannels:h})},a}async function sz(t,e,n,r){const i=n(Mr(t));if(!i?.signalingService)throw new Error("Signaling service not initialized");const a=await iz(t,e,n,r);i.signalingService.send({type:"request-stream",roomId:t}),r(Mr(t),{...i,peerConnection:a})}async function az(t,e,n){const r=n(Mr(t));if(!r?.peerConnection||!r.signalingService)throw new Error("Peer connection or signaling service not initialized");await r.peerConnection.setRemoteDescription(e.offer);const i=await r.peerConnection.createAnswer();await r.peerConnection.setLocalDescription(i),i&&e.senderId&&r.signalingService.send({type:"answer",roomId:t,targetId:e.senderId,answer:i})}async function oz(t,e,n){const r=n(Mr(t));r?.peerConnection&&await r.peerConnection.setRemoteDescription(e.answer)}async function lz(t,e,n){const r=n(Mr(t));r?.peerConnection&&await r.peerConnection.addIceCandidate(e.candidate)}const cz=ft(null,async(t,e,n)=>{const r=t(Mr(n));if(r){e(wo,r.channelId);return}const i=`livestream-${n}-${Date.now()}`,a=new ga(i,n);e(gn(i),a);const o=t(Xi);e(Xi,[...o,i]);const l=new q9(()=>{l.send({type:"join-as-viewer",roomId:n})},async f=>{try{switch(f.type){case"joined-as-viewer":f.hasPublisher&&await sz(n,i,t,e);break;case"offer":await az(n,f,t);break;case"answer":await oz(n,f,t);break;case"ice-candidate":await lz(n,f,t);break}}catch(p){throw console.error("Error handling message:",p),p}});try{await l.connect()}catch(f){throw console.error("Failed to connect to signaling server:",f),f}const u={streamId:n,channelId:i,connectionState:"new",signalingService:l,telemetryData:[],otherDroneTelemetry:new Map};e(Mr(n),u),e(wo,i)});ft(null,(t,e,n)=>{const r=t(Mr(n));if(!r)return;r.cleanupDataChannels&&r.cleanupDataChannels(),r.droneDataChannel?.close(),r.geojsonDataChannel?.close(),r.otherDroneDataChannel?.close(),r.peerConnection?.close(),r.signalingService?.disconnect(),r.remoteStream?.getTracks().forEach(o=>o.stop());const i=t(Xi);e(Xi,i.filter(o=>o!==r.channelId)),t(wn).channelId===r.channelId&&e(wo,null),e(Mr(n),null)});ft(t=>{const n=t(wn).channelId;if(!n)return[];const r=t(gn(n));return r instanceof ga?t(Mr(r.streamId))?.telemetryData??[]:[]});const y_=_a(t=>{const e=ft(null);return ft(n=>n(e),(n,r,i)=>{const a=n(e);i===null&&a!==null&&a.localStream?.getTracks().forEach(o=>o.stop()),r(e,i)})}),uz=ft(null,async(t,e,n)=>{const r=t(y_(n));if(r){e(wo,r.channelId);return}const i=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:n},width:{ideal:4096},height:{ideal:2160}},audio:!1}),a=`livestream-wired-${n.slice(0,8)}-${Date.now()}`,o=new ga(a,`wired-${n.slice(0,8)}`);o.setRemoteStream(i),e(gn(a),o);const l=t(Xi);e(Xi,[...l,a]);const u=i.getVideoTracks()[0];u&&(u.onended=()=>{e(fz,n)});const f={deviceId:n,channelId:a,localStream:i,connectionState:"active"};e(y_(n),f),e(wo,a)}),fz=ft(null,(t,e,n)=>{const r=t(y_(n));if(!r)return;r.localStream?.getTracks().forEach(o=>o.stop());const i=t(Xi);e(Xi,i.filter(o=>o!==r.channelId)),t(wn).channelId===r.channelId&&e(wo,null),e(y_(n),null)}),gn=_a(t=>ft(null));ft(t=>t(Xi).map(n=>t(gn(n))));const Xi=ft([]),dz=_a(t=>ft(null,async(e,n)=>{const r=e(gn(t));r instanceof ga&&n(Mr(r.streamId),null),n(gn(t),null);const i=e(Xi);n(Xi,i.filter(a=>a!==t))})),l2=_a(t=>ft(new Map)),Sfe=_a(t=>ft(e=>{const r=e(l2(t.channelId)).get(t.modelName)||[];return r[t.frameIndex]?r[t.frameIndex]:null})),bfe=ft(null,(t,e,n)=>{const r=l2(n.channelId),i=new Map(t(r)),a=i.get(n.modelName)||[];i.set(n.modelName,[...a,n]),e(r,i)}),hz=ft(null,(t,e,n)=>{const r=l2(n.channelId);if(n.modelName){const i=new Map(t(r));i.delete(n.modelName),e(r,i)}else e(r,new Map)}),uw=ft("V2.5.Video.Combined.Fast"),pz=ft(null,(t,e,n)=>{e(uw,n)}),mz=ft(null),a0=ft([]),gz=ft(null,(t,e,n)=>{const r={...n,id:crypto.randomUUID(),timestamp:new Date};e(a0,[...t(a0),r])}),yz=ft(null,(t,e,n)=>{e(a0,t(a0).filter(r=>r.id!==n))}),vz=ft(null,(t,e)=>{e(a0,[])}),_z=.05,Sz=900*1e3,wY=ft(null),P6=ft(null,(t,e,n)=>{const{startMs:r,endMs:i,nFrames:a}=n;if(!(!r||r===0))if(a===1||i<=r){const o=Sz/2;e(wY,{start:r-o,end:r+o})}else{const l=(i-r)*_z;e(wY,{start:r-l,end:i+l})}}),bz=ft(null,(t,e,n)=>{e(P6,{startMs:n.startEpochTimeMillis,endMs:n.endEpochTimeMillis,nFrames:n.nFrames})}),xz=ft(null,(t,e,n)=>{const r=t(m_(n));r&&e(bz,r)}),Yz=ft(t=>t(cw).filter(n=>n.hasValidTime).sort((n,r)=>{const i=n.name.localeCompare(r.name);return i!==0?i:n.sourceType.localeCompare(r.sourceType)}));function fw(t){if(t.length===0)return;let e=-90,n=90,r=-180,i=180;for(const a of t)a.lat>e&&(e=a.lat),a.lat<n&&(n=a.lat),a.lng>r&&(r=a.lng),a.lng<i&&(i=a.lng);return{north:e,south:n,east:r,west:i}}function xfe(t,e,n){if(t.length===0)return null;let r=t[0],i=Number.MAX_VALUE;for(const a of t){const o=Math.sqrt(Math.pow(a.lat-e,2)+Math.pow(a.lng-n,2));o<i&&(i=o,r=a)}return r}function M6(t,e){const n=t.state.drone_gps_location;return!n?.lat||!n?.lng?null:{frameIndex:e,timestampChannelUs:0,timestampEpochUs:t.timestamp_epoch_ms*1e3,lat:n.lat,lng:n.lng,altitude_m:n.altitude_asl_m??n.altitude_ellipsoid_m,pose:t.state.drone_pose,gimbalPose:t.state.gimbal_pose,source:"livestream"}}const bo=_a(t=>ft(null)),WY=ft(0),Tz=ft(null,(t,e)=>{e(WY,t(WY)+1)}),Yfe=ft({center:[49.2827,-123.1207],zoom:13,followPlayback:!0}),Tfe=ft(null),wz=ft(!1),wfe=ft(t=>{const e=t(wn);if(!e.channelId)return null;const n=t(gn(e.channelId));if(!n)return null;if(n instanceof ga){const p=t(Mr(n.streamId));if(!p||p.telemetryData.length===0)return null;const h=p.telemetryData[p.telemetryData.length-1],m=t(o2);return M6(h,m)}const r=t(bo(e.channelId));if(!r||!r.positions||r.positions.length===0)return null;const i=e.currentTimeUs,a=r.positions;if(i<=a[0].timestampChannelUs)return a[0];if(i>=a[a.length-1].timestampChannelUs)return a[a.length-1];let o=0,l=a.length-1;for(;o<l-1;){const p=Math.floor((o+l)/2);a[p].timestampChannelUs<=i?o=p:l=p}const u=Math.abs(a[o].timestampChannelUs-i),f=Math.abs(a[l].timestampChannelUs-i);return u<=f?a[o]:a[l]}),N6=_a(t=>ft(e=>{const n=e(bo(t));return n!==null&&n.positions.length>0})),Wfe=ft(t=>{t(WY);const e=t(Ec),n=[];for(const i of e){const a=t(So(i));if(a)for(const o of a.channelIds){const l=t(gn(o)),u=t(bo(o));l&&u&&u.positions.length>0&&n.push({channelId:o,channel:l,sourceType:l.sourceType,positions:u,recordId:i})}}const r=t(Xi);for(const i of r){const a=t(gn(i));if(a instanceof ga){const o=t(Mr(a.streamId));if(o&&o.telemetryData.length>0){const l=[];for(let u=0;u<o.telemetryData.length;u++){const f=M6(o.telemetryData[u],u);f&&l.push(f)}l.length>0&&n.push({channelId:i,channel:a,sourceType:a.sourceType,positions:{channelId:i,positions:l},recordId:null})}}}return n}),Wz=18,Ez=ft(!1),Uz=ft(null),O6=ft(null,(t,e,n)=>{const r=t(bo(n));if(!r?.positions.length)return;const i=r.bounds,a=r.positions[0],o=!i||i.north===i.south&&i.east===i.west;e(Uz,{bounds:o?null:i,center:o?[a.lat,a.lng]:null,maxZoom:Wz})}),U0=S6("displaySettings",{timeFormat:"12h",dateFormat:"short",zoneFormat:"abbrev",unitSystem:"metric"}),Cz=ft(!1),Az=S6("themeMode","system");function la(t,e,n){const{includeDate:r=!0,includeTime:i=!0,includeZone:a=!0,includeSeconds:o=!0}=n??{},l=new Date(t),u=[];if(r)if(e.dateFormat==="short")u.push(l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}));else{const f=l.getFullYear(),p=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");u.push(`${f}/${p}/${h}`)}if(i)if(e.timeFormat==="24h"){const f=String(l.getHours()).padStart(2,"0"),p=String(l.getMinutes()).padStart(2,"0");if(o){const h=String(l.getSeconds()).padStart(2,"0");u.push(`${f}:${p}:${h}`)}else u.push(`${f}:${p}`)}else{const f={hour:"numeric",minute:"2-digit",hour12:!0};o&&(f.second="2-digit"),u.push(l.toLocaleTimeString("en-US",f))}if(a)if(e.zoneFormat==="abbrev")try{const f=new Intl.DateTimeFormat("en-US",{timeZoneName:"short"}).formatToParts(l).find(p=>p.type==="timeZoneName")?.value;f?u.push(f):u.push(ax(l))}catch{u.push(ax(l))}else e.zoneFormat==="offset_numeric"?u.push(ax(l)):u.push(kz(l));return u.join(" ")}function ax(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return`${n}${String(i).padStart(2,"0")}${String(a).padStart(2,"0")}`}function kz(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return`UTC${n}${String(i).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function Efe(t,e){return e==="imperial"?`${(t*3.28084).toFixed(1)} ft`:`${t.toFixed(1)} m`}var Yv={exports:{}},Iz=Yv.exports,CU;function Rz(){return CU||(CU=1,(function(t,e){(function(n,r){t.exports=r()})(Iz,function(){var n=function(x,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var H in z)Object.prototype.hasOwnProperty.call(z,H)&&(D[H]=z[H])})(x,C)},r=function(){return(r=Object.assign||function(x){for(var C,D=1,z=arguments.length;D<z;D++)for(var H in C=arguments[D])Object.prototype.hasOwnProperty.call(C,H)&&(x[H]=C[H]);return x}).apply(this,arguments)};function i(x,C,D){for(var z,H=0,ne=C.length;H<ne;H++)!z&&H in C||((z=z||Array.prototype.slice.call(C,0,H))[H]=C[H]);return x.concat(z||Array.prototype.slice.call(C))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ag,o=Object.keys,l=Array.isArray;function u(x,C){return typeof C!="object"||o(C).forEach(function(D){x[D]=C[D]}),x}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var f=Object.getPrototypeOf,p={}.hasOwnProperty;function h(x,C){return p.call(x,C)}function m(x,C){typeof C=="function"&&(C=C(f(x))),(typeof Reflect>"u"?o:Reflect.ownKeys)(C).forEach(function(D){_(x,D,C[D])})}var g=Object.defineProperty;function _(x,C,D,z){g(x,C,u(D&&h(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},z))}function v(x){return{from:function(C){return x.prototype=Object.create(C.prototype),_(x.prototype,"constructor",x),{extend:m.bind(null,x.prototype)}}}}var S=Object.getOwnPropertyDescriptor,b=[].slice;function Y(x,C,D){return b.call(x,C,D)}function E(x,C){return C(x)}function M(x){if(!x)throw new Error("Assertion Failed")}function U(x){a.setImmediate?setImmediate(x):setTimeout(x,0)}function W(x,C){if(typeof C=="string"&&h(x,C))return x[C];if(!C)return x;if(typeof C!="string"){for(var D=[],z=0,H=C.length;z<H;++z){var ne=W(x,C[z]);D.push(ne)}return D}var he=C.indexOf(".");if(he!==-1){var _e=x[C.substr(0,he)];return _e==null?void 0:W(_e,C.substr(he+1))}}function w(x,C,D){if(x&&C!==void 0&&!("isFrozen"in Object&&Object.isFrozen(x)))if(typeof C!="string"&&"length"in C){M(typeof D!="string"&&"length"in D);for(var z=0,H=C.length;z<H;++z)w(x,C[z],D[z])}else{var ne,he,_e=C.indexOf(".");_e!==-1?(ne=C.substr(0,_e),(he=C.substr(_e+1))===""?D===void 0?l(x)&&!isNaN(parseInt(ne))?x.splice(ne,1):delete x[ne]:x[ne]=D:w(_e=!(_e=x[ne])||!h(x,ne)?x[ne]={}:_e,he,D)):D===void 0?l(x)&&!isNaN(parseInt(C))?x.splice(C,1):delete x[C]:x[C]=D}}function I(x){var C,D={};for(C in x)h(x,C)&&(D[C]=x[C]);return D}var P=[].concat;function O(x){return P.apply([],x)}var nt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map(function(x){return["Int","Uint","Float"].map(function(C){return C+x+"Array"})}))).filter(function(x){return a[x]}),V=new Set(nt.map(function(x){return a[x]})),N=null;function F(x){return N=new WeakMap,x=(function C(D){if(!D||typeof D!="object")return D;var z=N.get(D);if(z)return z;if(l(D)){z=[],N.set(D,z);for(var H=0,ne=D.length;H<ne;++H)z.push(C(D[H]))}else if(V.has(D.constructor))z=D;else{var he,_e=f(D);for(he in z=_e===Object.prototype?{}:Object.create(_e),N.set(D,z),D)h(D,he)&&(z[he]=C(D[he]))}return z})(x),N=null,x}var R={}.toString;function K(x){return R.call(x).slice(8,-1)}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",G=typeof Z=="symbol"?function(x){var C;return x!=null&&(C=x[Z])&&C.apply(x)}:function(){return null};function q(x,C){return C=x.indexOf(C),0<=C&&x.splice(C,1),0<=C}var Q={};function ue(x){var C,D,z,H;if(arguments.length===1){if(l(x))return x.slice();if(this===Q&&typeof x=="string")return[x];if(H=G(x)){for(D=[];!(z=H.next()).done;)D.push(z.value);return D}if(x==null)return[x];if(typeof(C=x.length)!="number")return[x];for(D=new Array(C);C--;)D[C]=x[C];return D}for(C=arguments.length,D=new Array(C);C--;)D[C]=arguments[C];return D}var j=typeof Symbol<"u"?function(x){return x[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ze=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Vi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ze),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fe(x,C){this.name=x,this.message=C}function J(x,C){return x+". Errors: "+Object.keys(C).map(function(D){return C[D].toString()}).filter(function(D,z,H){return H.indexOf(D)===z}).join(`
`)}function re(x,C,D,z){this.failures=C,this.failedKeys=z,this.successCount=D,this.message=J(x,C)}function ae(x,C){this.name="BulkError",this.failures=Object.keys(C).map(function(D){return C[D]}),this.failuresByPos=C,this.message=J(x,this.failures)}v(fe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(re).from(fe),v(ae).from(fe);var de=Vi.reduce(function(x,C){return x[C]=C+"Error",x},{}),pe=fe,ve=Vi.reduce(function(x,C){var D=C+"Error";function z(H,ne){this.name=D,H?typeof H=="string"?(this.message="".concat(H).concat(ne?`
 `+ne:""),this.inner=ne||null):typeof H=="object"&&(this.message="".concat(H.name," ").concat(H.message),this.inner=H):(this.message=te[C]||D,this.inner=null)}return v(z).from(pe),x[C]=z,x},{});ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError;var $e=ze.reduce(function(x,C){return x[C+"Error"]=ve[C],x},{}),Pe=Vi.reduce(function(x,C){return["Syntax","Type","Range"].indexOf(C)===-1&&(x[C+"Error"]=ve[C]),x},{});function Ye(){}function Oe(x){return x}function L(x,C){return x==null||x===Oe?C:function(D){return C(x(D))}}function Ue(x,C){return function(){x.apply(this,arguments),C.apply(this,arguments)}}function be(x,C){return x===Ye?C:function(){var D=x.apply(this,arguments);D!==void 0&&(arguments[0]=D);var z=this.onsuccess,H=this.onerror;this.onsuccess=null,this.onerror=null;var ne=C.apply(this,arguments);return z&&(this.onsuccess=this.onsuccess?Ue(z,this.onsuccess):z),H&&(this.onerror=this.onerror?Ue(H,this.onerror):H),ne!==void 0?ne:D}}function ce(x,C){return x===Ye?C:function(){x.apply(this,arguments);var D=this.onsuccess,z=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?Ue(D,this.onsuccess):D),z&&(this.onerror=this.onerror?Ue(z,this.onerror):z)}}function se(x,C){return x===Ye?C:function(D){var z=x.apply(this,arguments);u(D,z);var H=this.onsuccess,ne=this.onerror;return this.onsuccess=null,this.onerror=null,D=C.apply(this,arguments),H&&(this.onsuccess=this.onsuccess?Ue(H,this.onsuccess):H),ne&&(this.onerror=this.onerror?Ue(ne,this.onerror):ne),z===void 0?D===void 0?void 0:D:u(z,D)}}function me(x,C){return x===Ye?C:function(){return C.apply(this,arguments)!==!1&&x.apply(this,arguments)}}function Ne(x,C){return x===Ye?C:function(){var D=x.apply(this,arguments);if(D&&typeof D.then=="function"){for(var z=this,H=arguments.length,ne=new Array(H);H--;)ne[H]=arguments[H];return D.then(function(){return C.apply(z,ne)})}return C.apply(this,arguments)}}Pe.ModifyError=re,Pe.DexieError=fe,Pe.BulkError=ae;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ge(x){ke=x}var We={},et=100,nt=typeof Promise>"u"?[]:(function(){var x=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[x,f(x),x];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,f(C),x]})(),ze=nt[0],Vi=nt[1],nt=nt[2],Vi=Vi&&Vi.then,Mt=ze&&ze.constructor,pt=!!nt,Ft=function(x,C){ee.push([x,C]),oe&&(queueMicrotask(dt),oe=!1)},sn=!0,oe=!0,tt=[],De=[],it=Oe,Se={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ye,pgp:!1,env:{},finalize:Ye},xe=Se,ee=[],Je=0,mt=[];function X(x){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=xe;if(typeof x!="function"){if(x!==We)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ie(this,this._value))}this._state=null,this._value=null,++C.ref,(function D(z,H){try{H(function(ne){if(z._state===null){if(ne===z)throw new TypeError("A promise cannot be resolved with itself.");var he=z._lib&&St();ne&&typeof ne.then=="function"?D(z,function(_e,Ee){ne instanceof X?ne._then(_e,Ee):ne.then(_e,Ee)}):(z._state=!0,z._value=ne,ye(z)),he&&kt()}},ie.bind(null,z))}catch(ne){ie(z,ne)}})(this,x)}var Le={get:function(){var x=xe,C=ii;function D(z,H){var ne=this,he=!x.global&&(x!==xe||C!==ii),_e=he&&!$n(),Ee=new X(function(Ce,Be){Me(ne,new Ke(as(z,x,he,_e),as(H,x,he,_e),Ce,Be,x))});return this._consoleTask&&(Ee._consoleTask=this._consoleTask),Ee}return D.prototype=We,D},set:function(x){_(this,"then",x&&x.prototype===We?Le:{get:function(){return x},set:Le.set})}};function Ke(x,C,D,z,H){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof C=="function"?C:null,this.resolve=D,this.reject=z,this.psd=H}function ie(x,C){var D,z;De.push(C),x._state===null&&(D=x._lib&&St(),C=it(C),x._state=!1,x._value=C,z=x,tt.some(function(H){return H._value===z._value})||tt.push(z),ye(x),D&&kt())}function ye(x){var C=x._listeners;x._listeners=[];for(var D=0,z=C.length;D<z;++D)Me(x,C[D]);var H=x._PSD;--H.ref||H.finalize(),Je===0&&(++Je,Ft(function(){--Je==0&&Un()},[]))}function Me(x,C){if(x._state!==null){var D=x._state?C.onFulfilled:C.onRejected;if(D===null)return(x._state?C.resolve:C.reject)(x._value);++C.psd.ref,++Je,Ft(wt,[D,x,C])}else x._listeners.push(C)}function wt(x,C,D){try{var z,H=C._value;!C._state&&De.length&&(De=[]),z=ke&&C._consoleTask?C._consoleTask.run(function(){return x(H)}):x(H),C._state||De.indexOf(H)!==-1||(function(ne){for(var he=tt.length;he;)if(tt[--he]._value===ne._value)return tt.splice(he,1)})(C),D.resolve(z)}catch(ne){D.reject(ne)}finally{--Je==0&&Un(),--D.psd.ref||D.psd.finalize()}}function dt(){Br(Se,function(){St()&&kt()})}function St(){var x=sn;return oe=sn=!1,x}function kt(){var x,C,D;do for(;0<ee.length;)for(x=ee,ee=[],D=x.length,C=0;C<D;++C){var z=x[C];z[0].apply(null,z[1])}while(0<ee.length);oe=sn=!0}function Un(){var x=tt;tt=[],x.forEach(function(z){z._PSD.onunhandled.call(null,z._value,z)});for(var C=mt.slice(0),D=C.length;D;)C[--D]()}function hn(x){return new X(We,!1,x)}function At(x,C){var D=xe;return function(){var z=St(),H=xe;try{return mi(D,!0),x.apply(this,arguments)}catch(ne){C&&C(ne)}finally{mi(H,!1),z&&kt()}}}m(X.prototype,{then:Le,_then:function(x,C){Me(this,new Ke(null,null,x,C,xe))},catch:function(x){if(arguments.length===1)return this.then(null,x);var C=x,D=arguments[1];return typeof C=="function"?this.then(null,function(z){return(z instanceof C?D:hn)(z)}):this.then(null,function(z){return(z&&z.name===C?D:hn)(z)})},finally:function(x){return this.then(function(C){return X.resolve(x()).then(function(){return C})},function(C){return X.resolve(x()).then(function(){return hn(C)})})},timeout:function(x,C){var D=this;return x<1/0?new X(function(z,H){var ne=setTimeout(function(){return H(new ve.Timeout(C))},x);D.then(z,H).finally(clearTimeout.bind(null,ne))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(X.prototype,Symbol.toStringTag,"Dexie.Promise"),Se.env=za(),m(X,{all:function(){var x=ue.apply(null,arguments).map(gr);return new X(function(C,D){x.length===0&&C([]);var z=x.length;x.forEach(function(H,ne){return X.resolve(H).then(function(he){x[ne]=he,--z||C(x)},D)})})},resolve:function(x){return x instanceof X?x:x&&typeof x.then=="function"?new X(function(C,D){x.then(C,D)}):new X(We,!0,x)},reject:hn,race:function(){var x=ue.apply(null,arguments).map(gr);return new X(function(C,D){x.map(function(z){return X.resolve(z).then(C,D)})})},PSD:{get:function(){return xe},set:function(x){return xe=x}},totalEchoes:{get:function(){return ii}},newPSD:nn,usePSD:Br,scheduler:{get:function(){return Ft},set:function(x){Ft=x}},rejectionMapper:{get:function(){return it},set:function(x){it=x}},follow:function(x,C){return new X(function(D,z){return nn(function(H,ne){var he=xe;he.unhandleds=[],he.onunhandled=ne,he.finalize=Ue(function(){var _e,Ee=this;_e=function(){Ee.unhandleds.length===0?H():ne(Ee.unhandleds[0])},mt.push(function Ce(){_e(),mt.splice(mt.indexOf(Ce),1)}),++Je,Ft(function(){--Je==0&&Un()},[])},he.finalize),x()},C,D,z)})}}),Mt&&(Mt.allSettled&&_(X,"allSettled",function(){var x=ue.apply(null,arguments).map(gr);return new X(function(C){x.length===0&&C([]);var D=x.length,z=new Array(D);x.forEach(function(H,ne){return X.resolve(H).then(function(he){return z[ne]={status:"fulfilled",value:he}},function(he){return z[ne]={status:"rejected",reason:he}}).then(function(){return--D||C(z)})})})}),Mt.any&&typeof AggregateError<"u"&&_(X,"any",function(){var x=ue.apply(null,arguments).map(gr);return new X(function(C,D){x.length===0&&D(new AggregateError([]));var z=x.length,H=new Array(z);x.forEach(function(ne,he){return X.resolve(ne).then(function(_e){return C(_e)},function(_e){H[he]=_e,--z||D(new AggregateError(H))})})})}),Mt.withResolvers&&(X.withResolvers=Mt.withResolvers));var Zt={awaits:0,echoes:0,id:0},Dn=0,Rn=[],Ir=0,ii=0,Fn=0;function nn(x,C,D,z){var H=xe,ne=Object.create(H);return ne.parent=H,ne.ref=0,ne.global=!1,ne.id=++Fn,Se.env,ne.env=pt?{Promise:X,PromiseProp:{value:X,configurable:!0,writable:!0},all:X.all,race:X.race,allSettled:X.allSettled,any:X.any,resolve:X.resolve,reject:X.reject}:{},C&&u(ne,C),++H.ref,ne.finalize=function(){--this.parent.ref||this.parent.finalize()},z=Br(ne,x,D,z),ne.ref===0&&ne.finalize(),z}function rn(){return Zt.id||(Zt.id=++Dn),++Zt.awaits,Zt.echoes+=et,Zt.id}function $n(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*et,!0)}function gr(x){return Zt.echoes&&x&&x.constructor===Mt?(rn(),x.then(function(C){return $n(),C},function(C){return $n(),tr(C)})):x}function ss(){var x=Rn[Rn.length-1];Rn.pop(),mi(x,!1)}function mi(x,C){var D,z=xe;(C?!Zt.echoes||Ir++&&x===xe:!Ir||--Ir&&x===xe)||queueMicrotask(C?(function(H){++ii,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),Rn.push(xe),mi(H,!0)}).bind(null,x):ss),x!==xe&&(xe=x,z===Se&&(Se.env=za()),pt&&(D=Se.env.Promise,C=x.env,(z.global||x.global)&&(Object.defineProperty(a,"Promise",C.PromiseProp),D.all=C.all,D.race=C.race,D.resolve=C.resolve,D.reject=C.reject,C.allSettled&&(D.allSettled=C.allSettled),C.any&&(D.any=C.any))))}function za(){var x=a.Promise;return pt?{Promise:x,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject}:{}}function Br(x,C,D,z,H){var ne=xe;try{return mi(x,!0),C(D,z,H)}finally{mi(ne,!1)}}function as(x,C,D,z){return typeof x!="function"?x:function(){var H=xe;D&&rn(),mi(C,!0);try{return x.apply(this,arguments)}finally{mi(H,!1),z&&queueMicrotask($n)}}}function Us(x){Promise===Mt&&Zt.echoes===0?Ir===0?x():enqueueNativeMicroTask(x):setTimeout(x,0)}(""+Vi).indexOf("[native code]")===-1&&(rn=$n=Ye);var tr=X.reject,Vr="",Fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",or="String expected.",Ei=[],ji="__dbnames",ui="readonly",gi="readwrite";function Ki(x,C){return x?C?function(){return x.apply(this,arguments)&&C.apply(this,arguments)}:x:C}var Cs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function As(x){return typeof x!="string"||/\./.test(x)?function(C){return C}:function(C){return C[x]===void 0&&x in C&&delete(C=F(C))[x],C}}function xt(){throw ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function It(x,C){try{var D=Ur(x),z=Ur(C);if(D!==z)return D==="Array"?1:z==="Array"?-1:D==="binary"?1:z==="binary"?-1:D==="string"?1:z==="string"?-1:D==="Date"?1:z!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return C<x?1:x<C?-1:0;case"binary":return(function(H,ne){for(var he=H.length,_e=ne.length,Ee=he<_e?he:_e,Ce=0;Ce<Ee;++Ce)if(H[Ce]!==ne[Ce])return H[Ce]<ne[Ce]?-1:1;return he===_e?0:he<_e?-1:1})(rr(x),rr(C));case"Array":return(function(H,ne){for(var he=H.length,_e=ne.length,Ee=he<_e?he:_e,Ce=0;Ce<Ee;++Ce){var Be=It(H[Ce],ne[Ce]);if(Be!==0)return Be}return he===_e?0:he<_e?-1:1})(x,C)}}catch{}return NaN}function Ur(x){var C=typeof x;return C!="object"?C:ArrayBuffer.isView(x)?"binary":(x=K(x),x==="ArrayBuffer"?"binary":x)}function rr(x){return x instanceof Uint8Array?x:ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength):new Uint8Array(x)}function Bn(x,C,D){var z=x.schema.yProps;return z?(C&&0<D.numFailures&&(C=C.filter(function(H,ne){return!D.failures[ne]})),Promise.all(z.map(function(H){return H=H.updatesTable,C?x.db.table(H).where("k").anyOf(C).delete():x.db.table(H).clear()})).then(function(){return D})):D}var dr=(hr.prototype.execute=function(x){var C=this["@@propmod"];if(C.add!==void 0){var D=C.add;if(l(D))return i(i([],l(x)?x:[],!0),D).sort();if(typeof D=="number")return(Number(x)||0)+D;if(typeof D=="bigint")try{return BigInt(x)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(C.remove!==void 0){var z=C.remove;if(l(z))return l(x)?x.filter(function(H){return!z.includes(H)}).sort():[];if(typeof z=="number")return Number(x)-z;if(typeof z=="bigint")try{return BigInt(x)-z}catch{return BigInt(0)-z}throw new TypeError("Invalid subtrahend ".concat(z))}return D=(D=C.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof x=="string"&&x.startsWith(D)?C.replacePrefix[1]+x.substring(D.length):x},hr);function hr(x){this["@@propmod"]=x}function Qn(x,C){for(var D=o(C),z=D.length,H=!1,ne=0;ne<z;++ne){var he=D[ne],_e=C[he],Ee=W(x,he);_e instanceof dr?(w(x,he,_e.execute(Ee)),H=!0):Ee!==_e&&(w(x,he,_e),H=!0)}return H}var Cr=(qt.prototype._trans=function(x,C,D){var z=this._tx||xe.trans,H=this.name,ne=ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(x==="readonly"?"read":"write"," ").concat(this.name));function he(Ce,Be,we){if(!we.schema[H])throw new ve.NotFound("Table "+H+" not part of transaction");return C(we.idbtrans,we)}var _e=St();try{var Ee=z&&z.db._novip===this.db._novip?z===xe.trans?z._promise(x,he,D):nn(function(){return z._promise(x,he,D)},{trans:z,transless:xe.transless||xe}):(function Ce(Be,we,Fe,Ae){if(Be.idbdb&&(Be._state.openComplete||xe.letThrough||Be._vip)){var Re=Be._createTransaction(we,Fe,Be._dbSchema);try{Re.create(),Be._state.PR1398_maxLoop=3}catch(Xe){return Xe.name===de.InvalidState&&Be.isOpen()&&0<--Be._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Be.close({disableAutoOpen:!1}),Be.open().then(function(){return Ce(Be,we,Fe,Ae)})):tr(Xe)}return Re._promise(we,function(Xe,Ve){return nn(function(){return xe.trans=Re,Ae(Xe,Ve,Re)})}).then(function(Xe){if(we==="readwrite")try{Re.idbtrans.commit()}catch{}return we==="readonly"?Xe:Re._completion.then(function(){return Xe})})}if(Be._state.openComplete)return tr(new ve.DatabaseClosed(Be._state.dbOpenError));if(!Be._state.isBeingOpened){if(!Be._state.autoOpen)return tr(new ve.DatabaseClosed);Be.open().catch(Ye)}return Be._state.dbReadyPromise.then(function(){return Ce(Be,we,Fe,Ae)})})(this.db,x,[this.name],he);return ne&&(Ee._consoleTask=ne,Ee=Ee.catch(function(Ce){return console.trace(Ce),tr(Ce)})),Ee}finally{_e&&kt()}},qt.prototype.get=function(x,C){var D=this;return x&&x.constructor===Object?this.where(x).first(C):x==null?tr(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(z){return D.core.get({trans:z,key:x}).then(function(H){return D.hook.reading.fire(H)})}).then(C)},qt.prototype.where=function(x){if(typeof x=="string")return new this.db.WhereClause(this,x);if(l(x))return new this.db.WhereClause(this,"[".concat(x.join("+"),"]"));var C=o(x);if(C.length===1)return this.where(C[0]).equals(x[C[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(_e){if(_e.compound&&C.every(function(Ce){return 0<=_e.keyPath.indexOf(Ce)})){for(var Ee=0;Ee<C.length;++Ee)if(C.indexOf(_e.keyPath[Ee])===-1)return!1;return!0}return!1}).sort(function(_e,Ee){return _e.keyPath.length-Ee.keyPath.length})[0];if(D&&this.db._maxKey!==Vr){var ne=D.keyPath.slice(0,C.length);return this.where(ne).equals(ne.map(function(Ee){return x[Ee]}))}!D&&ke&&console.warn("The query ".concat(JSON.stringify(x)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var z=this.schema.idxByName;function H(_e,Ee){return It(_e,Ee)===0}var he=C.reduce(function(we,Ee){var Ce=we[0],Be=we[1],we=z[Ee],Fe=x[Ee];return[Ce||we,Ce||!we?Ki(Be,we&&we.multi?function(Ae){return Ae=W(Ae,Ee),l(Ae)&&Ae.some(function(Re){return H(Fe,Re)})}:function(Ae){return H(Fe,W(Ae,Ee))}):Be]},[null,null]),ne=he[0],he=he[1];return ne?this.where(ne.name).equals(x[ne.keyPath]).filter(he):D?this.filter(he):this.where(C).equals("")},qt.prototype.filter=function(x){return this.toCollection().and(x)},qt.prototype.count=function(x){return this.toCollection().count(x)},qt.prototype.offset=function(x){return this.toCollection().offset(x)},qt.prototype.limit=function(x){return this.toCollection().limit(x)},qt.prototype.each=function(x){return this.toCollection().each(x)},qt.prototype.toArray=function(x){return this.toCollection().toArray(x)},qt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qt.prototype.orderBy=function(x){return new this.db.Collection(new this.db.WhereClause(this,l(x)?"[".concat(x.join("+"),"]"):x))},qt.prototype.reverse=function(){return this.toCollection().reverse()},qt.prototype.mapToClass=function(x){var C,D=this.db,z=this.name;function H(){return C!==null&&C.apply(this,arguments)||this}(this.schema.mappedClass=x).prototype instanceof xt&&((function(Ee,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");function Be(){this.constructor=Ee}n(Ee,Ce),Ee.prototype=Ce===null?Object.create(Ce):(Be.prototype=Ce.prototype,new Be)})(H,C=x),Object.defineProperty(H.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),H.prototype.table=function(){return z},x=H);for(var ne=new Set,he=x.prototype;he;he=f(he))Object.getOwnPropertyNames(he).forEach(function(Ee){return ne.add(Ee)});function _e(Ee){if(!Ee)return Ee;var Ce,Be=Object.create(x.prototype);for(Ce in Ee)if(!ne.has(Ce))try{Be[Ce]=Ee[Ce]}catch{}return Be}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_e,this.hook("reading",_e),x},qt.prototype.defineClass=function(){return this.mapToClass(function(x){u(this,x)})},qt.prototype.add=function(x,C){var D=this,z=this.schema.primKey,H=z.auto,ne=z.keyPath,he=x;return ne&&H&&(he=As(ne)(x)),this._trans("readwrite",function(_e){return D.core.mutate({trans:_e,type:"add",keys:C!=null?[C]:null,values:[he]})}).then(function(_e){return _e.numFailures?X.reject(_e.failures[0]):_e.lastResult}).then(function(_e){if(ne)try{w(x,ne,_e)}catch{}return _e})},qt.prototype.upsert=function(x,C){var D=this,z=this.schema.primKey.keyPath;return this._trans("readwrite",function(H){return D.core.get({trans:H,key:x}).then(function(ne){var he=ne??{};return Qn(he,C),z&&w(he,z,x),D.core.mutate({trans:H,type:"put",values:[he],keys:[x],upsert:!0,updates:{keys:[x],changeSpecs:[C]}}).then(function(_e){return _e.numFailures?X.reject(_e.failures[0]):!!ne})})})},qt.prototype.update=function(x,C){return typeof x!="object"||l(x)?this.where(":id").equals(x).modify(C):(x=W(x,this.schema.primKey.keyPath),x===void 0?tr(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(x).modify(C))},qt.prototype.put=function(x,C){var D=this,z=this.schema.primKey,H=z.auto,ne=z.keyPath,he=x;return ne&&H&&(he=As(ne)(x)),this._trans("readwrite",function(_e){return D.core.mutate({trans:_e,type:"put",values:[he],keys:C!=null?[C]:null})}).then(function(_e){return _e.numFailures?X.reject(_e.failures[0]):_e.lastResult}).then(function(_e){if(ne)try{w(x,ne,_e)}catch{}return _e})},qt.prototype.delete=function(x){var C=this;return this._trans("readwrite",function(D){return C.core.mutate({trans:D,type:"delete",keys:[x]}).then(function(z){return Bn(C,[x],z)}).then(function(z){return z.numFailures?X.reject(z.failures[0]):void 0})})},qt.prototype.clear=function(){var x=this;return this._trans("readwrite",function(C){return x.core.mutate({trans:C,type:"deleteRange",range:Cs}).then(function(D){return Bn(x,null,D)})}).then(function(C){return C.numFailures?X.reject(C.failures[0]):void 0})},qt.prototype.bulkGet=function(x){var C=this;return this._trans("readonly",function(D){return C.core.getMany({keys:x,trans:D}).then(function(z){return z.map(function(H){return C.hook.reading.fire(H)})})})},qt.prototype.bulkAdd=function(x,C,D){var z=this,H=Array.isArray(C)?C:void 0,ne=(D=D||(H?void 0:C))?D.allKeys:void 0;return this._trans("readwrite",function(he){var Ce=z.schema.primKey,_e=Ce.auto,Ce=Ce.keyPath;if(Ce&&H)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(H&&H.length!==x.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var Ee=x.length,Ce=Ce&&_e?x.map(As(Ce)):x;return z.core.mutate({trans:he,type:"add",keys:H,values:Ce,wantResults:ne}).then(function(Re){var we=Re.numFailures,Fe=Re.results,Ae=Re.lastResult,Re=Re.failures;if(we===0)return ne?Fe:Ae;throw new ae("".concat(z.name,".bulkAdd(): ").concat(we," of ").concat(Ee," operations failed"),Re)})})},qt.prototype.bulkPut=function(x,C,D){var z=this,H=Array.isArray(C)?C:void 0,ne=(D=D||(H?void 0:C))?D.allKeys:void 0;return this._trans("readwrite",function(he){var Ce=z.schema.primKey,_e=Ce.auto,Ce=Ce.keyPath;if(Ce&&H)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(H&&H.length!==x.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var Ee=x.length,Ce=Ce&&_e?x.map(As(Ce)):x;return z.core.mutate({trans:he,type:"put",keys:H,values:Ce,wantResults:ne}).then(function(Re){var we=Re.numFailures,Fe=Re.results,Ae=Re.lastResult,Re=Re.failures;if(we===0)return ne?Fe:Ae;throw new ae("".concat(z.name,".bulkPut(): ").concat(we," of ").concat(Ee," operations failed"),Re)})})},qt.prototype.bulkUpdate=function(x){var C=this,D=this.core,z=x.map(function(he){return he.key}),H=x.map(function(he){return he.changes}),ne=[];return this._trans("readwrite",function(he){return D.getMany({trans:he,keys:z,cache:"clone"}).then(function(_e){var Ee=[],Ce=[];x.forEach(function(we,Fe){var Ae=we.key,Re=we.changes,Xe=_e[Fe];if(Xe){for(var Ve=0,je=Object.keys(Re);Ve<je.length;Ve++){var qe=je[Ve],st=Re[qe];if(qe===C.schema.primKey.keyPath){if(It(st,Ae)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else w(Xe,qe,st)}ne.push(Fe),Ee.push(Ae),Ce.push(Xe)}});var Be=Ee.length;return D.mutate({trans:he,type:"put",keys:Ee,values:Ce,updates:{keys:z,changeSpecs:H}}).then(function(we){var Fe=we.numFailures,Ae=we.failures;if(Fe===0)return Be;for(var Re=0,Xe=Object.keys(Ae);Re<Xe.length;Re++){var Ve,je=Xe[Re],qe=ne[Number(je)];qe!=null&&(Ve=Ae[je],delete Ae[je],Ae[qe]=Ve)}throw new ae("".concat(C.name,".bulkUpdate(): ").concat(Fe," of ").concat(Be," operations failed"),Ae)})})})},qt.prototype.bulkDelete=function(x){var C=this,D=x.length;return this._trans("readwrite",function(z){return C.core.mutate({trans:z,type:"delete",keys:x}).then(function(H){return Bn(C,x,H)})}).then(function(he){var H=he.numFailures,ne=he.lastResult,he=he.failures;if(H===0)return ne;throw new ae("".concat(C.name,".bulkDelete(): ").concat(H," of ").concat(D," operations failed"),he)})},qt);function qt(){}function yr(x){function C(he,_e){if(_e){for(var Ee=arguments.length,Ce=new Array(Ee-1);--Ee;)Ce[Ee-1]=arguments[Ee];return D[he].subscribe.apply(null,Ce),x}if(typeof he=="string")return D[he]}var D={};C.addEventType=ne;for(var z=1,H=arguments.length;z<H;++z)ne(arguments[z]);return C;function ne(he,_e,Ee){if(typeof he!="object"){var Ce;_e=_e||me;var Be={subscribers:[],fire:Ee=Ee||Ye,subscribe:function(we){Be.subscribers.indexOf(we)===-1&&(Be.subscribers.push(we),Be.fire=_e(Be.fire,we))},unsubscribe:function(we){Be.subscribers=Be.subscribers.filter(function(Fe){return Fe!==we}),Be.fire=Be.subscribers.reduce(_e,Ee)}};return D[he]=C[he]=Be}o(Ce=he).forEach(function(we){var Fe=Ce[we];if(l(Fe))ne(we,Ce[we][0],Ce[we][1]);else{if(Fe!=="asap")throw new ve.InvalidArgument("Invalid event config");var Ae=ne(we,Oe,function(){for(var Re=arguments.length,Xe=new Array(Re);Re--;)Xe[Re]=arguments[Re];Ae.subscribers.forEach(function(Ve){U(function(){Ve.apply(null,Xe)})})})}})}}function Xn(x,C){return v(C).from({prototype:x}),C}function Rr(x,C){return!(x.filter||x.algorithm||x.or)&&(C?x.justLimit:!x.replayFilter)}function yi(x,C){x.filter=Ki(x.filter,C)}function Mi(x,C,D){var z=x.replayFilter;x.replayFilter=z?function(){return Ki(z(),C())}:C,x.justLimit=D&&!z}function Ni(x,C){if(x.isPrimKey)return C.primaryKey;var D=C.getIndexByKeyPath(x.index);if(!D)throw new ve.Schema("KeyPath "+x.index+" on object store "+C.name+" is not indexed");return D}function $a(x,C,D){var z=Ni(x,C.schema);return C.openCursor({trans:D,values:!x.keysOnly,reverse:x.dir==="prev",unique:!!x.unique,query:{index:z,range:x.range}})}function vi(x,C,D,z){var H=x.replayFilter?Ki(x.filter,x.replayFilter()):x.filter;if(x.or){var ne={},he=function(_e,Ee,Ce){var Be,we;H&&!H(Ee,Ce,function(Fe){return Ee.stop(Fe)},function(Fe){return Ee.fail(Fe)})||((we=""+(Be=Ee.primaryKey))=="[object ArrayBuffer]"&&(we=""+new Uint8Array(Be)),h(ne,we)||(ne[we]=!0,C(_e,Ee,Ce)))};return Promise.all([x.or._iterate(he,D),si($a(x,z,D),x.algorithm,he,!x.keysOnly&&x.valueMapper)])}return si($a(x,z,D),Ki(x.algorithm,H),C,!x.keysOnly&&x.valueMapper)}function si(x,C,D,z){var H=At(z?function(ne,he,_e){return D(z(ne),he,_e)}:D);return x.then(function(ne){if(ne)return ne.start(function(){var he=function(){return ne.continue()};C&&!C(ne,function(_e){return he=_e},function(_e){ne.stop(_e),he=Ye},function(_e){ne.fail(_e),he=Ye})||H(ne.value,ne,function(_e){return he=_e}),he()})})}var Io=(Gt.prototype._read=function(x,C){var D=this._ctx;return D.error?D.table._trans(null,tr.bind(null,D.error)):D.table._trans("readonly",x).then(C)},Gt.prototype._write=function(x){var C=this._ctx;return C.error?C.table._trans(null,tr.bind(null,C.error)):C.table._trans("readwrite",x,"locked")},Gt.prototype._addAlgorithm=function(x){var C=this._ctx;C.algorithm=Ki(C.algorithm,x)},Gt.prototype._iterate=function(x,C){return vi(this._ctx,x,C,this._ctx.table.core)},Gt.prototype.clone=function(x){var C=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return x&&u(D,x),C._ctx=D,C},Gt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Gt.prototype.each=function(x){var C=this._ctx;return this._read(function(D){return vi(C,x,D,C.table.core)})},Gt.prototype.count=function(x){var C=this;return this._read(function(D){var z=C._ctx,H=z.table.core;if(Rr(z,!0))return H.count({trans:D,query:{index:Ni(z,H.schema),range:z.range}}).then(function(he){return Math.min(he,z.limit)});var ne=0;return vi(z,function(){return++ne,!1},D,H).then(function(){return ne})}).then(x)},Gt.prototype.sortBy=function(x,C){var D=x.split(".").reverse(),z=D[0],H=D.length-1;function ne(Ee,Ce){return Ce?ne(Ee[D[Ce]],Ce-1):Ee[z]}var he=this._ctx.dir==="next"?1:-1;function _e(Ee,Ce){return It(ne(Ee,H),ne(Ce,H))*he}return this.toArray(function(Ee){return Ee.sort(_e)}).then(C)},Gt.prototype.toArray=function(x){var C=this;return this._read(function(D){var z=C._ctx;if(z.dir==="next"&&Rr(z,!0)&&0<z.limit){var H=z.valueMapper,ne=Ni(z,z.table.core.schema);return z.table.core.query({trans:D,limit:z.limit,values:!0,query:{index:ne,range:z.range}}).then(function(_e){return _e=_e.result,H?_e.map(H):_e})}var he=[];return vi(z,function(_e){return he.push(_e)},D,z.table.core).then(function(){return he})},x)},Gt.prototype.offset=function(x){var C=this._ctx;return x<=0||(C.offset+=x,Rr(C)?Mi(C,function(){var D=x;return function(z,H){return D===0||(D===1?--D:H(function(){z.advance(D),D=0}),!1)}}):Mi(C,function(){var D=x;return function(){return--D<0}})),this},Gt.prototype.limit=function(x){return this._ctx.limit=Math.min(this._ctx.limit,x),Mi(this._ctx,function(){var C=x;return function(D,z,H){return--C<=0&&z(H),0<=C}},!0),this},Gt.prototype.until=function(x,C){return yi(this._ctx,function(D,z,H){return!x(D.value)||(z(H),C)}),this},Gt.prototype.first=function(x){return this.limit(1).toArray(function(C){return C[0]}).then(x)},Gt.prototype.last=function(x){return this.reverse().first(x)},Gt.prototype.filter=function(x){var C;return yi(this._ctx,function(D){return x(D.value)}),(C=this._ctx).isMatch=Ki(C.isMatch,x),this},Gt.prototype.and=function(x){return this.filter(x)},Gt.prototype.or=function(x){return new this.db.WhereClause(this._ctx.table,x,this)},Gt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Gt.prototype.desc=function(){return this.reverse()},Gt.prototype.eachKey=function(x){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(D,z){x(z.key,z)})},Gt.prototype.eachUniqueKey=function(x){return this._ctx.unique="unique",this.eachKey(x)},Gt.prototype.eachPrimaryKey=function(x){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(D,z){x(z.primaryKey,z)})},Gt.prototype.keys=function(x){var C=this._ctx;C.keysOnly=!C.isMatch;var D=[];return this.each(function(z,H){D.push(H.key)}).then(function(){return D}).then(x)},Gt.prototype.primaryKeys=function(x){var C=this._ctx;if(C.dir==="next"&&Rr(C,!0)&&0<C.limit)return this._read(function(z){var H=Ni(C,C.table.core.schema);return C.table.core.query({trans:z,values:!1,limit:C.limit,query:{index:H,range:C.range}})}).then(function(z){return z.result}).then(x);C.keysOnly=!C.isMatch;var D=[];return this.each(function(z,H){D.push(H.primaryKey)}).then(function(){return D}).then(x)},Gt.prototype.uniqueKeys=function(x){return this._ctx.unique="unique",this.keys(x)},Gt.prototype.firstKey=function(x){return this.limit(1).keys(function(C){return C[0]}).then(x)},Gt.prototype.lastKey=function(x){return this.reverse().firstKey(x)},Gt.prototype.distinct=function(){var x=this._ctx,x=x.index&&x.table.schema.idxByName[x.index];if(!x||!x.multi)return this;var C={};return yi(this._ctx,function(H){var z=H.primaryKey.toString(),H=h(C,z);return C[z]=!0,!H}),this},Gt.prototype.modify=function(x){var C=this,D=this._ctx;return this._write(function(z){var H=typeof x=="function"?x:function(Xe){return Qn(Xe,x)},ne=D.table.core,Ce=ne.schema.primaryKey,he=Ce.outbound,_e=Ce.extractKey,Ee=200,Ce=C.db._options.modifyChunkSize;Ce&&(Ee=typeof Ce=="object"?Ce[ne.name]||Ce["*"]||200:Ce);function Be(Xe,qe){var je=qe.failures,qe=qe.numFailures;Fe+=Xe-qe;for(var st=0,ct=o(je);st<ct.length;st++){var bt=ct[st];we.push(je[bt])}}var we=[],Fe=0,Ae=[],Re=x===Nr;return C.clone().primaryKeys().then(function(Xe){function Ve(qe){var st=Math.min(Ee,Xe.length-qe),ct=Xe.slice(qe,qe+st);return(Re?Promise.resolve([]):ne.getMany({trans:z,keys:ct,cache:"immutable"})).then(function(bt){var Ut=[],yt=[],Tt=he?[]:null,Et=Re?ct:[];if(!Re)for(var vt=0;vt<st;++vt){var Rt=bt[vt],Kt={value:F(Rt),primKey:Xe[qe+vt]};H.call(Kt,Kt.value,Kt)!==!1&&(Kt.value==null?Et.push(Xe[qe+vt]):he||It(_e(Rt),_e(Kt.value))===0?(yt.push(Kt.value),he&&Tt.push(Xe[qe+vt])):(Et.push(Xe[qe+vt]),Ut.push(Kt.value)))}return Promise.resolve(0<Ut.length&&ne.mutate({trans:z,type:"add",values:Ut}).then(function(tn){for(var pn in tn.failures)Et.splice(parseInt(pn),1);Be(Ut.length,tn)})).then(function(){return(0<yt.length||je&&typeof x=="object")&&ne.mutate({trans:z,type:"put",keys:Tt,values:yt,criteria:je,changeSpec:typeof x!="function"&&x,isAdditionalChunk:0<qe}).then(function(tn){return Be(yt.length,tn)})}).then(function(){return(0<Et.length||je&&Re)&&ne.mutate({trans:z,type:"delete",keys:Et,criteria:je,isAdditionalChunk:0<qe}).then(function(tn){return Bn(D.table,Et,tn)}).then(function(tn){return Be(Et.length,tn)})}).then(function(){return Xe.length>qe+st&&Ve(qe+Ee)})})}var je=Rr(D)&&D.limit===1/0&&(typeof x!="function"||Re)&&{index:D.index,range:D.range};return Ve(0).then(function(){if(0<we.length)throw new re("Error modifying one or more objects",we,Fe,Ae);return Xe.length})})})},Gt.prototype.delete=function(){var x=this._ctx,C=x.range;return!Rr(x)||x.table.schema.yProps||!x.isPrimKey&&C.type!==3?this.modify(Nr):this._write(function(D){var z=x.table.core.schema.primaryKey,H=C;return x.table.core.count({trans:D,query:{index:z,range:H}}).then(function(ne){return x.table.core.mutate({trans:D,type:"deleteRange",range:H}).then(function(Ee){var _e=Ee.failures,Ee=Ee.numFailures;if(Ee)throw new re("Could not delete some values",Object.keys(_e).map(function(Ce){return _e[Ce]}),ne-Ee);return ne-Ee})})})},Gt);function Gt(){}var Nr=function(x,C){return C.value=null};function Oi(x,C){return x<C?-1:x===C?0:1}function vr(x,C){return C<x?-1:x===C?0:1}function Lr(x,C,D){return x=x instanceof zr?new x.Collection(x):x,x._ctx.error=new(D||TypeError)(C),x}function ai(x){return new x.Collection(x,function(){return qs("")}).limit(0)}function Zr(x,C,D,z){var H,ne,he,_e,Ee,Ce,Be,we=D.length;if(!D.every(function(Re){return typeof Re=="string"}))return Lr(x,or);function Fe(Re){H=Re==="next"?function(Ve){return Ve.toUpperCase()}:function(Ve){return Ve.toLowerCase()},ne=Re==="next"?function(Ve){return Ve.toLowerCase()}:function(Ve){return Ve.toUpperCase()},he=Re==="next"?Oi:vr;var Xe=D.map(function(Ve){return{lower:ne(Ve),upper:H(Ve)}}).sort(function(Ve,je){return he(Ve.lower,je.lower)});_e=Xe.map(function(Ve){return Ve.upper}),Ee=Xe.map(function(Ve){return Ve.lower}),Be=(Ce=Re)==="next"?"":z}Fe("next"),x=new x.Collection(x,function(){return Di(_e[0],Ee[we-1]+z)}),x._ondirectionchange=function(Re){Fe(Re)};var Ae=0;return x._addAlgorithm(function(Re,Xe,Ve){var je=Re.key;if(typeof je!="string")return!1;var qe=ne(je);if(C(qe,Ee,Ae))return!0;for(var st=null,ct=Ae;ct<we;++ct){var bt=(function(Ut,yt,Tt,Et,vt,Rt){for(var Kt=Math.min(Ut.length,Et.length),tn=-1,pn=0;pn<Kt;++pn){var di=yt[pn];if(di!==Et[pn])return vt(Ut[pn],Tt[pn])<0?Ut.substr(0,pn)+Tt[pn]+Tt.substr(pn+1):vt(Ut[pn],Et[pn])<0?Ut.substr(0,pn)+Et[pn]+Tt.substr(pn+1):0<=tn?Ut.substr(0,tn)+yt[tn]+Tt.substr(tn+1):null;vt(Ut[pn],di)<0&&(tn=pn)}return Kt<Et.length&&Rt==="next"?Ut+Tt.substr(Ut.length):Kt<Ut.length&&Rt==="prev"?Ut.substr(0,Tt.length):tn<0?null:Ut.substr(0,tn)+Et[tn]+Tt.substr(tn+1)})(je,qe,_e[ct],Ee[ct],he,Ce);bt===null&&st===null?Ae=ct+1:(st===null||0<he(st,bt))&&(st=bt)}return Xe(st!==null?function(){Re.continue(st+Be)}:Ve),!1}),x}function Di(x,C,D,z){return{type:2,lower:x,upper:C,lowerOpen:D,upperOpen:z}}function qs(x){return{type:1,lower:x,upper:x}}var zr=(Object.defineProperty(Vn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vn.prototype.between=function(x,C,D,z){D=D!==!1,z=z===!0;try{return 0<this._cmp(x,C)||this._cmp(x,C)===0&&(D||z)&&(!D||!z)?ai(this):new this.Collection(this,function(){return Di(x,C,!D,!z)})}catch{return Lr(this,Fr)}},Vn.prototype.equals=function(x){return x==null?Lr(this,Fr):new this.Collection(this,function(){return qs(x)})},Vn.prototype.above=function(x){return x==null?Lr(this,Fr):new this.Collection(this,function(){return Di(x,void 0,!0)})},Vn.prototype.aboveOrEqual=function(x){return x==null?Lr(this,Fr):new this.Collection(this,function(){return Di(x,void 0,!1)})},Vn.prototype.below=function(x){return x==null?Lr(this,Fr):new this.Collection(this,function(){return Di(void 0,x,!1,!0)})},Vn.prototype.belowOrEqual=function(x){return x==null?Lr(this,Fr):new this.Collection(this,function(){return Di(void 0,x)})},Vn.prototype.startsWith=function(x){return typeof x!="string"?Lr(this,or):this.between(x,x+Vr,!0,!0)},Vn.prototype.startsWithIgnoreCase=function(x){return x===""?this.startsWith(x):Zr(this,function(C,D){return C.indexOf(D[0])===0},[x],Vr)},Vn.prototype.equalsIgnoreCase=function(x){return Zr(this,function(C,D){return C===D[0]},[x],"")},Vn.prototype.anyOfIgnoreCase=function(){var x=ue.apply(Q,arguments);return x.length===0?ai(this):Zr(this,function(C,D){return D.indexOf(C)!==-1},x,"")},Vn.prototype.startsWithAnyOfIgnoreCase=function(){var x=ue.apply(Q,arguments);return x.length===0?ai(this):Zr(this,function(C,D){return D.some(function(z){return C.indexOf(z)===0})},x,Vr)},Vn.prototype.anyOf=function(){var x=this,C=ue.apply(Q,arguments),D=this._cmp;try{C.sort(D)}catch{return Lr(this,Fr)}if(C.length===0)return ai(this);var z=new this.Collection(this,function(){return Di(C[0],C[C.length-1])});z._ondirectionchange=function(ne){D=ne==="next"?x._ascending:x._descending,C.sort(D)};var H=0;return z._addAlgorithm(function(ne,he,_e){for(var Ee=ne.key;0<D(Ee,C[H]);)if(++H===C.length)return he(_e),!1;return D(Ee,C[H])===0||(he(function(){ne.continue(C[H])}),!1)}),z},Vn.prototype.notEqual=function(x){return this.inAnyRange([[-1/0,x],[x,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vn.prototype.noneOf=function(){var x=ue.apply(Q,arguments);if(x.length===0)return new this.Collection(this);try{x.sort(this._ascending)}catch{return Lr(this,Fr)}var C=x.reduce(function(D,z){return D?D.concat([[D[D.length-1][1],z]]):[[-1/0,z]]},null);return C.push([x[x.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Vn.prototype.inAnyRange=function(je,C){var D=this,z=this._cmp,H=this._ascending,ne=this._descending,he=this._min,_e=this._max;if(je.length===0)return ai(this);if(!je.every(function(qe){return qe[0]!==void 0&&qe[1]!==void 0&&H(qe[0],qe[1])<=0}))return Lr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var Ee=!C||C.includeLowers!==!1,Ce=C&&C.includeUppers===!0,Be,we=H;function Fe(qe,st){return we(qe[0],st[0])}try{(Be=je.reduce(function(qe,st){for(var ct=0,bt=qe.length;ct<bt;++ct){var Ut=qe[ct];if(z(st[0],Ut[1])<0&&0<z(st[1],Ut[0])){Ut[0]=he(Ut[0],st[0]),Ut[1]=_e(Ut[1],st[1]);break}}return ct===bt&&qe.push(st),qe},[])).sort(Fe)}catch{return Lr(this,Fr)}var Ae=0,Re=Ce?function(qe){return 0<H(qe,Be[Ae][1])}:function(qe){return 0<=H(qe,Be[Ae][1])},Xe=Ee?function(qe){return 0<ne(qe,Be[Ae][0])}:function(qe){return 0<=ne(qe,Be[Ae][0])},Ve=Re,je=new this.Collection(this,function(){return Di(Be[0][0],Be[Be.length-1][1],!Ee,!Ce)});return je._ondirectionchange=function(qe){we=qe==="next"?(Ve=Re,H):(Ve=Xe,ne),Be.sort(Fe)},je._addAlgorithm(function(qe,st,ct){for(var bt,Ut=qe.key;Ve(Ut);)if(++Ae===Be.length)return st(ct),!1;return!Re(bt=Ut)&&!Xe(bt)||(D._cmp(Ut,Be[Ae][1])===0||D._cmp(Ut,Be[Ae][0])===0||st(function(){we===H?qe.continue(Be[Ae][0]):qe.continue(Be[Ae][1])}),!1)}),je},Vn.prototype.startsWithAnyOf=function(){var x=ue.apply(Q,arguments);return x.every(function(C){return typeof C=="string"})?x.length===0?ai(this):this.inAnyRange(x.map(function(C){return[C,C+Vr]})):Lr(this,"startsWithAnyOf() only works with strings")},Vn);function Vn(){}function Ui(x){return At(function(C){return Tr(C),x(C.target.error),!1})}function Tr(x){x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault()}var ks="storagemutated",lr="x-storagemutated-1",$r=yr(null,ks),Vl=(fi.prototype._lock=function(){return M(!xe.global),++this._reculock,this._reculock!==1||xe.global||(xe.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(M(!xe.global),--this._reculock==0)for(xe.global||(xe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var x=this._blockedFuncs.shift();try{Br(x[1],x[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&xe.lockOwnerFor!==this},fi.prototype.create=function(x){var C=this;if(!this.mode)return this;var D=this.db.idbdb,z=this.db._state.dbOpenError;if(M(!this.idbtrans),!x&&!D)switch(z&&z.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(z);case"MissingAPIError":throw new ve.MissingAPI(z.message,z);default:throw new ve.OpenFailed(z)}if(!this.active)throw new ve.TransactionInactive;return M(this._completion._state===null),(x=this.idbtrans=x||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(H){Tr(H),C._reject(x.error)}),x.onabort=At(function(H){Tr(H),C.active&&C._reject(new ve.Abort(x.error)),C.active=!1,C.on("abort").fire(H)}),x.oncomplete=At(function(){C.active=!1,C._resolve(),"mutatedParts"in x&&$r.storagemutated.fire(x.mutatedParts)}),this},fi.prototype._promise=function(x,C,D){var z=this;if(x==="readwrite"&&this.mode!=="readwrite")return tr(new ve.ReadOnly("Transaction is readonly"));if(!this.active)return tr(new ve.TransactionInactive);if(this._locked())return new X(function(ne,he){z._blockedFuncs.push([function(){z._promise(x,C,D).then(ne,he)},xe])});if(D)return nn(function(){var ne=new X(function(he,_e){z._lock();var Ee=C(he,_e,z);Ee&&Ee.then&&Ee.then(he,_e)});return ne.finally(function(){return z._unlock()}),ne._lib=!0,ne});var H=new X(function(ne,he){var _e=C(ne,he,z);_e&&_e.then&&_e.then(ne,he)});return H._lib=!0,H},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(x){var C,D=this._root(),z=X.resolve(x);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return z}):(D._waitingFor=z,D._waitingQueue=[],C=D.idbtrans.objectStore(D.storeNames[0]),(function ne(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(C.get(-1/0).onsuccess=ne)})());var H=D._waitingFor;return new X(function(ne,he){z.then(function(_e){return D._waitingQueue.push(At(ne.bind(null,_e)))},function(_e){return D._waitingQueue.push(At(he.bind(null,_e)))}).finally(function(){D._waitingFor===H&&(D._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},fi.prototype.table=function(x){var C=this._memoizedTables||(this._memoizedTables={});if(h(C,x))return C[x];var D=this.schema[x];if(!D)throw new ve.NotFound("Table "+x+" not part of transaction");return D=new this.db.Table(x,D,this),D.core=this.db.core.table(x),C[x]=D},fi);function fi(){}function Bi(x,C,D,z,H,ne,he,_e){return{name:x,keyPath:C,unique:D,multi:z,auto:H,compound:ne,src:(D&&!he?"&":"")+(z?"*":"")+(H?"++":"")+ja(C),type:_e}}function ja(x){return typeof x=="string"?x:x?"["+[].join.call(x,"+")+"]":""}function os(x,C,D){return{name:x,primKey:C,indexes:D,mappedClass:null,idxByName:(z=function(H){return[H.name,H]},D.reduce(function(H,ne,he){return he=z(ne,he),he&&(H[he[0]]=he[1]),H},{}))};var z}var Ci=function(x){try{return x.only([[]]),Ci=function(){return[[]]},[[]]}catch{return Ci=function(){return Vr},Vr}};function Qs(x){return x==null?function(){}:typeof x=="string"?(C=x).split(".").length===1?function(D){return D[C]}:function(D){return W(D,C)}:function(D){return W(D,x)};var C}function Ka(x){return[].slice.call(x)}var Js=0;function _r(x){return x==null?":id":typeof x=="string"?x:"[".concat(x.join("+"),"]")}function ls(x,C,Ee){function z(Ve){if(Ve.type===3)return null;if(Ve.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ae=Ve.lower,Re=Ve.upper,Xe=Ve.lowerOpen,Ve=Ve.upperOpen;return Ae===void 0?Re===void 0?null:C.upperBound(Re,!!Ve):Re===void 0?C.lowerBound(Ae,!!Xe):C.bound(Ae,Re,!!Xe,!!Ve)}function H(Fe){var Ae,Re=Fe.name;return{name:Re,schema:Fe,mutate:function(Xe){var Ve=Xe.trans,je=Xe.type,qe=Xe.keys,st=Xe.values,ct=Xe.range;return new Promise(function(bt,Ut){bt=At(bt);var yt=Ve.objectStore(Re),Tt=yt.keyPath==null,Et=je==="put"||je==="add";if(!Et&&je!=="delete"&&je!=="deleteRange")throw new Error("Invalid operation type: "+je);var vt,Rt=(qe||st||{length:1}).length;if(qe&&st&&qe.length!==st.length)throw new Error("Given keys array must have same length as given values array.");if(Rt===0)return bt({numFailures:0,failures:{},results:[],lastResult:void 0});function Kt(Kr){++di,Tr(Kr)}var tn=[],pn=[],di=0;if(je==="deleteRange"){if(ct.type===4)return bt({numFailures:di,failures:pn,results:[],lastResult:void 0});ct.type===3?tn.push(vt=yt.clear()):tn.push(vt=yt.delete(z(ct)))}else{var Tt=Et?Tt?[st,qe]:[st,null]:[qe,null],en=Tt[0],jr=Tt[1];if(Et)for(var Wr=0;Wr<Rt;++Wr)tn.push(vt=jr&&jr[Wr]!==void 0?yt[je](en[Wr],jr[Wr]):yt[je](en[Wr])),vt.onerror=Kt;else for(Wr=0;Wr<Rt;++Wr)tn.push(vt=yt[je](en[Wr])),vt.onerror=Kt}function jl(Kr){Kr=Kr.target.result,tn.forEach(function(Gi,N0){return Gi.error!=null&&(pn[N0]=Gi.error)}),bt({numFailures:di,failures:pn,results:je==="delete"?qe:tn.map(function(Gi){return Gi.result}),lastResult:Kr})}vt.onerror=function(Kr){Kt(Kr),jl(Kr)},vt.onsuccess=jl})},getMany:function(Xe){var Ve=Xe.trans,je=Xe.keys;return new Promise(function(qe,st){qe=At(qe);for(var ct,bt=Ve.objectStore(Re),Ut=je.length,yt=new Array(Ut),Tt=0,Et=0,vt=function(tn){tn=tn.target,yt[tn._pos]=tn.result,++Et===Tt&&qe(yt)},Rt=Ui(st),Kt=0;Kt<Ut;++Kt)je[Kt]!=null&&((ct=bt.get(je[Kt]))._pos=Kt,ct.onsuccess=vt,ct.onerror=Rt,++Tt);Tt===0&&qe(yt)})},get:function(Xe){var Ve=Xe.trans,je=Xe.key;return new Promise(function(qe,st){qe=At(qe);var ct=Ve.objectStore(Re).get(je);ct.onsuccess=function(bt){return qe(bt.target.result)},ct.onerror=Ui(st)})},query:(Ae=Ce,function(Xe){return new Promise(function(Ve,je){Ve=At(Ve);var qe,st,ct,Tt=Xe.trans,bt=Xe.values,Ut=Xe.limit,vt=Xe.query,yt=Ut===1/0?void 0:Ut,Et=vt.index,vt=vt.range,Tt=Tt.objectStore(Re),Et=Et.isPrimaryKey?Tt:Tt.index(Et.name),vt=z(vt);if(Ut===0)return Ve({result:[]});Ae?((yt=bt?Et.getAll(vt,yt):Et.getAllKeys(vt,yt)).onsuccess=function(Rt){return Ve({result:Rt.target.result})},yt.onerror=Ui(je)):(qe=0,st=!bt&&"openKeyCursor"in Et?Et.openKeyCursor(vt):Et.openCursor(vt),ct=[],st.onsuccess=function(Rt){var Kt=st.result;return Kt?(ct.push(bt?Kt.value:Kt.primaryKey),++qe===Ut?Ve({result:ct}):void Kt.continue()):Ve({result:ct})},st.onerror=Ui(je))})}),openCursor:function(Xe){var Ve=Xe.trans,je=Xe.values,qe=Xe.query,st=Xe.reverse,ct=Xe.unique;return new Promise(function(bt,Ut){bt=At(bt);var Et=qe.index,yt=qe.range,Tt=Ve.objectStore(Re),Tt=Et.isPrimaryKey?Tt:Tt.index(Et.name),Et=st?ct?"prevunique":"prev":ct?"nextunique":"next",vt=!je&&"openKeyCursor"in Tt?Tt.openKeyCursor(z(yt),Et):Tt.openCursor(z(yt),Et);vt.onerror=Ui(Ut),vt.onsuccess=At(function(Rt){var Kt,tn,pn,di,en=vt.result;en?(en.___id=++Js,en.done=!1,Kt=en.continue.bind(en),tn=(tn=en.continuePrimaryKey)&&tn.bind(en),pn=en.advance.bind(en),di=function(){throw new Error("Cursor not stopped")},en.trans=Ve,en.stop=en.continue=en.continuePrimaryKey=en.advance=function(){throw new Error("Cursor not started")},en.fail=At(Ut),en.next=function(){var jr=this,Wr=1;return this.start(function(){return Wr--?jr.continue():jr.stop()}).then(function(){return jr})},en.start=function(jr){function Wr(){if(vt.result)try{jr()}catch(Kr){en.fail(Kr)}else en.done=!0,en.start=function(){throw new Error("Cursor behind last entry")},en.stop()}var jl=new Promise(function(Kr,Gi){Kr=At(Kr),vt.onerror=Ui(Gi),en.fail=Gi,en.stop=function(N0){en.stop=en.continue=en.continuePrimaryKey=en.advance=di,Kr(N0)}});return vt.onsuccess=At(function(Kr){vt.onsuccess=Wr,Wr()}),en.continue=Kt,en.continuePrimaryKey=tn,en.advance=pn,Wr(),jl},bt(en)):bt(null)},Ut)})},count:function(Xe){var Ve=Xe.query,je=Xe.trans,qe=Ve.index,st=Ve.range;return new Promise(function(ct,bt){var Ut=je.objectStore(Re),yt=qe.isPrimaryKey?Ut:Ut.index(qe.name),Ut=z(st),yt=Ut?yt.count(Ut):yt.count();yt.onsuccess=At(function(Tt){return ct(Tt.target.result)}),yt.onerror=Ui(bt)})}}}var ne,he,_e,Be=(he=Ee,_e=Ka((ne=x).objectStoreNames),{schema:{name:ne.name,tables:_e.map(function(Fe){return he.objectStore(Fe)}).map(function(Fe){var Ae=Fe.keyPath,Ve=Fe.autoIncrement,Re=l(Ae),Xe={},Ve={name:Fe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ae==null,compound:Re,keyPath:Ae,autoIncrement:Ve,unique:!0,extractKey:Qs(Ae)},indexes:Ka(Fe.indexNames).map(function(je){return Fe.index(je)}).map(function(ct){var qe=ct.name,st=ct.unique,bt=ct.multiEntry,ct=ct.keyPath,bt={name:qe,compound:l(ct),keyPath:ct,unique:st,multiEntry:bt,extractKey:Qs(ct)};return Xe[_r(ct)]=bt}),getIndexByKeyPath:function(je){return Xe[_r(je)]}};return Xe[":id"]=Ve.primaryKey,Ae!=null&&(Xe[_r(Ae)]=Ve.primaryKey),Ve})},hasGetAll:0<_e.length&&"getAll"in he.objectStore(_e[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ee=Be.schema,Ce=Be.hasGetAll,Be=Ee.tables.map(H),we={};return Be.forEach(function(Fe){return we[Fe.name]=Fe}),{stack:"dbcore",transaction:x.transaction.bind(x),table:function(Fe){if(!we[Fe])throw new Error("Table '".concat(Fe,"' not found"));return we[Fe]},MIN_KEY:-1/0,MAX_KEY:Ci(C),schema:Ee}}function Is(x,C,D,z){var H=D.IDBKeyRange;return D.indexedDB,{dbcore:(z=ls(C,H,z),x.dbcore.reduce(function(ne,he){return he=he.create,r(r({},ne),he(ne))},z))}}function cs(x,z){var D=z.db,z=Is(x._middlewares,D,x._deps,z);x.core=z.dbcore,x.tables.forEach(function(H){var ne=H.name;x.core.schema.tables.some(function(he){return he.name===ne})&&(H.core=x.core.table(ne),x[ne]instanceof x.Table&&(x[ne].core=H.core))})}function Ro(x,C,D,z){D.forEach(function(H){var ne=z[H];C.forEach(function(he){var _e=(function Ee(Ce,Be){return S(Ce,Be)||(Ce=f(Ce))&&Ee(Ce,Be)})(he,H);(!_e||"value"in _e&&_e.value===void 0)&&(he===x.Transaction.prototype||he instanceof x.Transaction?_(he,H,{get:function(){return this.table(H)},set:function(Ee){g(this,H,{value:Ee,writable:!0,configurable:!0,enumerable:!0})}}):he[H]=new x.Table(H,ne))})})}function Ha(x,C){C.forEach(function(D){for(var z in D)D[z]instanceof x.Table&&delete D[z]})}function Ga(x,C){return x._cfg.version-C._cfg.version}function Xo(x,C,D,z){var H=x._dbSchema;D.objectStoreNames.contains("$meta")&&!H.$meta&&(H.$meta=os("$meta",Mn("")[0],[]),x._storeNames.push("$meta"));var ne=x._createTransaction("readwrite",x._storeNames,H);ne.create(D),ne._completion.catch(z);var he=ne._reject.bind(ne),_e=xe.transless||xe;nn(function(){return xe.trans=ne,xe.transless=_e,C!==0?(cs(x,D),Ce=C,((Ee=ne).storeNames.includes("$meta")?Ee.table("$meta").get("version").then(function(Be){return Be??Ce}):X.resolve(Ce)).then(function(Be){return Fe=Be,Ae=ne,Re=D,Xe=[],Be=(we=x)._versions,Ve=we._dbSchema=Pn(0,we.idbdb,Re),(Be=Be.filter(function(je){return je._cfg.version>=Fe})).length!==0?(Be.forEach(function(je){Xe.push(function(){var qe=Ve,st=je._cfg.dbschema;Ln(we,qe,Re),Ln(we,st,Re),Ve=we._dbSchema=st;var ct=Po(qe,st);ct.add.forEach(function(Et){Ll(Re,Et[0],Et[1].primKey,Et[1].indexes)}),ct.change.forEach(function(Et){if(Et.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var vt=Re.objectStore(Et.name);Et.add.forEach(function(Rt){return ln(vt,Rt)}),Et.change.forEach(function(Rt){vt.deleteIndex(Rt.name),ln(vt,Rt)}),Et.del.forEach(function(Rt){return vt.deleteIndex(Rt)})});var bt=je._cfg.contentUpgrade;if(bt&&je._cfg.version>Fe){cs(we,Re),Ae._memoizedTables={};var Ut=I(st);ct.del.forEach(function(Et){Ut[Et]=qe[Et]}),Ha(we,[we.Transaction.prototype]),Ro(we,[we.Transaction.prototype],o(Ut),Ut),Ae.schema=Ut;var yt,Tt=j(bt);return Tt&&rn(),ct=X.follow(function(){var Et;(yt=bt(Ae))&&Tt&&(Et=$n.bind(null,null),yt.then(Et,Et))}),yt&&typeof yt.then=="function"?X.resolve(yt):ct.then(function(){return yt})}}),Xe.push(function(qe){var st,ct,bt=je._cfg.dbschema;st=bt,ct=qe,[].slice.call(ct.db.objectStoreNames).forEach(function(Ut){return st[Ut]==null&&ct.db.deleteObjectStore(Ut)}),Ha(we,[we.Transaction.prototype]),Ro(we,[we.Transaction.prototype],we._storeNames,we._dbSchema),Ae.schema=we._dbSchema}),Xe.push(function(qe){we.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(we.idbdb.version/10)===je._cfg.version?(we.idbdb.deleteObjectStore("$meta"),delete we._dbSchema.$meta,we._storeNames=we._storeNames.filter(function(st){return st!=="$meta"})):qe.objectStore("$meta").put(je._cfg.version,"version"))})}),(function je(){return Xe.length?X.resolve(Xe.shift()(Ae.idbtrans)).then(je):X.resolve()})().then(function(){on(Ve,Re)})):X.resolve();var we,Fe,Ae,Re,Xe,Ve}).catch(he)):(o(H).forEach(function(Be){Ll(D,Be,H[Be].primKey,H[Be].indexes)}),cs(x,D),void X.follow(function(){return x.on.populate.fire(ne)}).catch(he));var Ee,Ce})}function Fl(x,C){on(x._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var D=Pn(0,x.idbdb,C);Ln(x,x._dbSchema,C);for(var z=0,H=Po(D,x._dbSchema).change;z<H.length;z++){var ne=(function(he){if(he.change.length||he.recreate)return console.warn("Unable to patch indexes of table ".concat(he.name," because it has changes on the type of index or primary key.")),{value:void 0};var _e=C.objectStore(he.name);he.add.forEach(function(Ee){ke&&"Dexie upgrade patch: Creating missing index ".concat(he.name,".").concat(Ee.src),ln(_e,Ee)})})(H[z]);if(typeof ne=="object")return ne.value}}function Po(x,C){var D,z={del:[],add:[],change:[]};for(D in x)C[D]||z.del.push(D);for(D in C){var H=x[D],ne=C[D];if(H){var he={name:D,def:ne,recreate:!1,del:[],add:[],change:[]};if(""+(H.primKey.keyPath||"")!=""+(ne.primKey.keyPath||"")||H.primKey.auto!==ne.primKey.auto)he.recreate=!0,z.change.push(he);else{var _e=H.idxByName,Ee=ne.idxByName,Ce=void 0;for(Ce in _e)Ee[Ce]||he.del.push(Ce);for(Ce in Ee){var Be=_e[Ce],we=Ee[Ce];Be?Be.src!==we.src&&he.change.push(we):he.add.push(we)}(0<he.del.length||0<he.add.length||0<he.change.length)&&z.change.push(he)}}else z.add.push([D,ne])}return z}function Ll(x,C,D,z){var H=x.db.createObjectStore(C,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return z.forEach(function(ne){return ln(H,ne)}),H}function on(x,C){o(x).forEach(function(D){C.db.objectStoreNames.contains(D)||Ll(C,D,x[D].primKey,x[D].indexes)})}function ln(x,C){x.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Pn(x,C,D){var z={};return Y(C.objectStoreNames,0).forEach(function(H){for(var ne=D.objectStore(H),he=Bi(ja(Ce=ne.keyPath),Ce||"",!0,!1,!!ne.autoIncrement,Ce&&typeof Ce!="string",!0),_e=[],Ee=0;Ee<ne.indexNames.length;++Ee){var Be=ne.index(ne.indexNames[Ee]),Ce=Be.keyPath,Be=Bi(Be.name,Ce,!!Be.unique,!!Be.multiEntry,!1,Ce&&typeof Ce!="string",!1);_e.push(Be)}z[H]=os(H,he,_e)}),z}function Ln(x,C,D){for(var z=D.db.objectStoreNames,H=0;H<z.length;++H){var ne=z[H],he=D.objectStore(ne);x._hasGetAll="getAll"in he;for(var _e=0;_e<he.indexNames.length;++_e){var Ee=he.indexNames[_e],Ce=he.index(Ee).keyPath,Be=typeof Ce=="string"?Ce:"["+Y(Ce).join("+")+"]";!C[ne]||(Ce=C[ne].idxByName[Be])&&(Ce.name=Ee,delete C[ne].idxByName[Be],C[ne].idxByName[Ee]=Ce)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(x._hasGetAll=!1)}function Mn(x){return x.split(",").map(function(C,D){var ne=C.split(":"),z=(H=ne[1])===null||H===void 0?void 0:H.trim(),H=(C=ne[0].trim()).replace(/([&*]|\+\+)/g,""),ne=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return Bi(H,ne||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),l(ne),D===0,z)})}var wr=(Sr.prototype._createTableSchema=os,Sr.prototype._parseIndexSyntax=Mn,Sr.prototype._parseStoresSpec=function(x,C){var D=this;o(x).forEach(function(z){if(x[z]!==null){var H=D._parseIndexSyntax(x[z]),ne=H.shift();if(!ne)throw new ve.Schema("Invalid schema for table "+z+": "+x[z]);if(ne.unique=!0,ne.multi)throw new ve.Schema("Primary key cannot be multiEntry*");H.forEach(function(he){if(he.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!he.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),H=D._createTableSchema(z,ne,H),C[z]=H}})},Sr.prototype.stores=function(D){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,D):D;var D=C._versions,z={},H={};return D.forEach(function(ne){u(z,ne._cfg.storesSource),H=ne._cfg.dbschema={},ne._parseStoresSpec(z,H)}),C._dbSchema=H,Ha(C,[C._allTables,C,C.Transaction.prototype]),Ro(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],o(H),H),C._storeNames=o(H),this},Sr.prototype.upgrade=function(x){return this._cfg.contentUpgrade=Ne(this._cfg.contentUpgrade||Ye,x),this},Sr);function Sr(){}function Ar(x,C){var D=x._dbNamesDB;return D||(D=x._dbNamesDB=new Xs(ji,{addons:[],indexedDB:x,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function ir(x){return x&&typeof x.databases=="function"}function pr(x){return nn(function(){return xe.letThrough=!0,x()})}function nr(x){return!("from"in x)}var Yn=function(x,C){if(!this){var D=new Yn;return x&&"d"in x&&u(D,x),D}u(this,arguments.length?{d:1,from:x,to:1<arguments.length?C:x}:{d:0})};function Zn(x,C,D){var z=It(C,D);if(!isNaN(z)){if(0<z)throw RangeError();if(nr(x))return u(x,{from:C,to:D,d:1});var H=x.l,z=x.r;if(It(D,x.from)<0)return H?Zn(H,C,D):x.l={from:C,to:D,d:1,l:null,r:null},ea(x);if(0<It(C,x.to))return z?Zn(z,C,D):x.r={from:C,to:D,d:1,l:null,r:null},ea(x);It(C,x.from)<0&&(x.from=C,x.l=null,x.d=z?z.d+1:1),0<It(D,x.to)&&(x.to=D,x.r=null,x.d=x.l?x.l.d+1:1),D=!x.r,H&&!x.l&&Cn(x,H),z&&D&&Cn(x,z)}}function Cn(x,C){nr(C)||(function D(z,Ee){var ne=Ee.from,he=Ee.to,_e=Ee.l,Ee=Ee.r;Zn(z,ne,he),_e&&D(z,_e),Ee&&D(z,Ee)})(x,C)}function _i(x,C){var D=Hi(C),z=D.next();if(z.done)return!1;for(var H=z.value,ne=Hi(x),he=ne.next(H.from),_e=he.value;!z.done&&!he.done;){if(It(_e.from,H.to)<=0&&0<=It(_e.to,H.from))return!0;It(H.from,_e.from)<0?H=(z=D.next(_e.from)).value:_e=(he=ne.next(H.from)).value}return!1}function Hi(x){var C=nr(x)?null:{s:0,n:x};return{next:function(D){for(var z=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,z)for(;C.n.l&&It(D,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!z||It(D,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function ea(x){var C,D,z=(((C=x.r)===null||C===void 0?void 0:C.d)||0)-(((D=x.l)===null||D===void 0?void 0:D.d)||0),H=1<z?"r":z<-1?"l":"";H&&(C=H=="r"?"l":"r",D=r({},x),z=x[H],x.from=z.from,x.to=z.to,x[H]=z[H],D[H]=z[C],(x[C]=D).d=Sa(D)),x.d=Sa(x)}function Sa(D){var C=D.r,D=D.l;return(C?D?Math.max(C.d,D.d):C.d:D?D.d:0)+1}function qa(x,C){return o(C).forEach(function(D){x[D]?Cn(x[D],C[D]):x[D]=(function z(H){var ne,he,_e={};for(ne in H)h(H,ne)&&(he=H[ne],_e[ne]=!he||typeof he!="object"||V.has(he.constructor)?he:z(he));return _e})(C[D])}),x}function Dc(x,C){return x.all||C.all||Object.keys(x).some(function(D){return C[D]&&_i(C[D],x[D])})}m(Yn.prototype,((Vi={add:function(x){return Cn(this,x),this},addKey:function(x){return Zn(this,x,x),this},addKeys:function(x){var C=this;return x.forEach(function(D){return Zn(C,D,D)}),this},hasKey:function(x){var C=Hi(this).next(x).value;return C&&It(C.from,x)<=0&&0<=It(C.to,x)}})[Z]=function(){return Hi(this)},Vi));var Rs={},k0={},I0=!1;function Bc(x){qa(k0,x),I0||(I0=!0,setTimeout(function(){I0=!1,R0(k0,!(k0={}))},0))}function R0(x,C){C===void 0&&(C=!1);var D=new Set;if(x.all)for(var z=0,H=Object.values(Rs);z<H.length;z++)I1(he=H[z],x,D,C);else for(var ne in x){var he,_e=/^idb\:\/\/(.*)\/(.*)\//.exec(ne);_e&&(ne=_e[1],_e=_e[2],(he=Rs["idb://".concat(ne,"/").concat(_e)])&&I1(he,x,D,C))}D.forEach(function(Ee){return Ee()})}function I1(x,C,D,z){for(var H=[],ne=0,he=Object.entries(x.queries.query);ne<he.length;ne++){for(var _e=he[ne],Ee=_e[0],Ce=[],Be=0,we=_e[1];Be<we.length;Be++){var Fe=we[Be];Dc(C,Fe.obsSet)?Fe.subscribers.forEach(function(Ve){return D.add(Ve)}):z&&Ce.push(Fe)}z&&H.push([Ee,Ce])}if(z)for(var Ae=0,Re=H;Ae<Re.length;Ae++){var Xe=Re[Ae],Ee=Xe[0],Ce=Xe[1];x.queries.query[Ee]=Ce}}function k2(x){var C=x._state,D=x._deps.indexedDB;if(C.isBeingOpened||x.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?tr(C.dbOpenError):x});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var z=C.openCanceller,H=Math.round(10*x.verno),ne=!1;function he(){if(C.openCanceller!==z)throw new ve.DatabaseClosed("db.open() was cancelled")}function _e(){return new X(function(Fe,Ae){if(he(),!D)throw new ve.MissingAPI;var Re=x.name,Xe=C.autoSchema||!H?D.open(Re):D.open(Re,H);if(!Xe)throw new ve.MissingAPI;Xe.onerror=Ui(Ae),Xe.onblocked=At(x._fireOnBlocked),Xe.onupgradeneeded=At(function(Ve){var je;Be=Xe.transaction,C.autoSchema&&!x._options.allowEmptyDB?(Xe.onerror=Tr,Be.abort(),Xe.result.close(),(je=D.deleteDatabase(Re)).onsuccess=je.onerror=At(function(){Ae(new ve.NoSuchDatabase("Database ".concat(Re," doesnt exist")))})):(Be.onerror=Ui(Ae),Ve=Ve.oldVersion>Math.pow(2,62)?0:Ve.oldVersion,we=Ve<1,x.idbdb=Xe.result,ne&&Fl(x,Be),Xo(x,Ve/10,Be,Ae))},Ae),Xe.onsuccess=At(function(){Be=null;var Ve,je,qe,st,ct,bt=x.idbdb=Xe.result,Ut=Y(bt.objectStoreNames);if(0<Ut.length)try{var yt=bt.transaction((st=Ut).length===1?st[0]:st,"readonly");if(C.autoSchema)je=bt,qe=yt,(Ve=x).verno=je.version/10,qe=Ve._dbSchema=Pn(0,je,qe),Ve._storeNames=Y(je.objectStoreNames,0),Ro(Ve,[Ve._allTables],o(qe),qe);else if(Ln(x,x._dbSchema,yt),((ct=Po(Pn(0,(ct=x).idbdb,yt),ct._dbSchema)).add.length||ct.change.some(function(Tt){return Tt.add.length||Tt.change.length}))&&!ne)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),bt.close(),H=bt.version+1,ne=!0,Fe(_e());cs(x,yt)}catch{}Ei.push(x),bt.onversionchange=At(function(Tt){C.vcFired=!0,x.on("versionchange").fire(Tt)}),bt.onclose=At(function(){x.close({disableAutoOpen:!1})}),we&&(ct=x._deps,yt=Re,bt=ct.indexedDB,ct=ct.IDBKeyRange,ir(bt)||yt===ji||Ar(bt,ct).put({name:yt}).catch(Ye)),Fe()},Ae)}).catch(function(Fe){switch(Fe?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_e();break;case"VersionError":if(0<H)return H=0,_e()}return X.reject(Fe)})}var Ee,Ce=C.dbReadyResolve,Be=null,we=!1;return X.race([z,(typeof navigator>"u"?X.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Fe){function Ae(){return indexedDB.databases().finally(Fe)}Ee=setInterval(Ae,100),Ae()}).finally(function(){return clearInterval(Ee)}):Promise.resolve()).then(_e)]).then(function(){return he(),C.onReadyBeingFired=[],X.resolve(pr(function(){return x.on.ready.fire(x.vip)})).then(function Fe(){if(0<C.onReadyBeingFired.length){var Ae=C.onReadyBeingFired.reduce(Ne,Ye);return C.onReadyBeingFired=[],X.resolve(pr(function(){return Ae(x.vip)})).then(Fe)}})}).finally(function(){C.openCanceller===z&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Fe){C.dbOpenError=Fe;try{Be&&Be.abort()}catch{}return z===C.openCanceller&&x._close(),tr(Fe)}).finally(function(){C.openComplete=!0,Ce()}).then(function(){var Fe;return we&&(Fe={},x.tables.forEach(function(Ae){Ae.schema.indexes.forEach(function(Re){Re.name&&(Fe["idb://".concat(x.name,"/").concat(Ae.name,"/").concat(Re.name)]=new Yn(-1/0,[[[]]]))}),Fe["idb://".concat(x.name,"/").concat(Ae.name,"/")]=Fe["idb://".concat(x.name,"/").concat(Ae.name,"/:dels")]=new Yn(-1/0,[[[]]])}),$r(ks).fire(Fe),R0(Fe,!0)),x})}function Zl(x){function C(ne){return x.next(ne)}var D=H(C),z=H(function(ne){return x.throw(ne)});function H(ne){return function(Ee){var _e=ne(Ee),Ee=_e.value;return _e.done?Ee:Ee&&typeof Ee.then=="function"?Ee.then(D,z):l(Ee)?Promise.all(Ee).then(D,z):D(Ee)}}return H(C)()}function ba(x,C,D){for(var z=l(x)?x.slice():[x],H=0;H<D;++H)z.push(C);return z}var I2={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(x){return r(r({},x),{table:function(C){var D=x.table(C),z=D.schema,H={},ne=[];function he(we,Fe,Ae){var Re=_r(we),Xe=H[Re]=H[Re]||[],Ve=we==null?0:typeof we=="string"?1:we.length,je=0<Fe,je=r(r({},Ae),{name:je?"".concat(Re,"(virtual-from:").concat(Ae.name,")"):Ae.name,lowLevelIndex:Ae,isVirtual:je,keyTail:Fe,keyLength:Ve,extractKey:Qs(we),unique:!je&&Ae.unique});return Xe.push(je),je.isPrimaryKey||ne.push(je),1<Ve&&he(Ve===2?we[0]:we.slice(0,Ve-1),Fe+1,Ae),Xe.sort(function(qe,st){return qe.keyTail-st.keyTail}),je}C=he(z.primaryKey.keyPath,0,z.primaryKey),H[":id"]=[C];for(var _e=0,Ee=z.indexes;_e<Ee.length;_e++){var Ce=Ee[_e];he(Ce.keyPath,0,Ce)}function Be(we){var Fe,Ae=we.query.index;return Ae.isVirtual?r(r({},we),{query:{index:Ae.lowLevelIndex,range:(Fe=we.query.range,Ae=Ae.keyTail,{type:Fe.type===1?2:Fe.type,lower:ba(Fe.lower,Fe.lowerOpen?x.MAX_KEY:x.MIN_KEY,Ae),lowerOpen:!0,upper:ba(Fe.upper,Fe.upperOpen?x.MIN_KEY:x.MAX_KEY,Ae),upperOpen:!0})}}):we}return r(r({},D),{schema:r(r({},z),{primaryKey:C,indexes:ne,getIndexByKeyPath:function(we){return(we=H[_r(we)])&&we[0]}}),count:function(we){return D.count(Be(we))},query:function(we){return D.query(Be(we))},openCursor:function(we){var Fe=we.query.index,Ae=Fe.keyTail,Re=Fe.isVirtual,Xe=Fe.keyLength;return Re?D.openCursor(Be(we)).then(function(je){return je&&Ve(je)}):D.openCursor(we);function Ve(je){return Object.create(je,{continue:{value:function(qe){qe!=null?je.continue(ba(qe,we.reverse?x.MAX_KEY:x.MIN_KEY,Ae)):we.unique?je.continue(je.key.slice(0,Xe).concat(we.reverse?x.MIN_KEY:x.MAX_KEY,Ae)):je.continue()}},continuePrimaryKey:{value:function(qe,st){je.continuePrimaryKey(ba(qe,x.MAX_KEY,Ae),st)}},primaryKey:{get:function(){return je.primaryKey}},key:{get:function(){var qe=je.key;return Xe===1?qe[0]:qe.slice(0,Xe)}},value:{get:function(){return je.value}}})}}})}})}};function Vc(x,C,D,z){return D=D||{},z=z||"",o(x).forEach(function(H){var ne,he,_e;h(C,H)?(ne=x[H],he=C[H],typeof ne=="object"&&typeof he=="object"&&ne&&he?(_e=K(ne))!==K(he)?D[z+H]=C[H]:_e==="Object"?Vc(ne,he,D,z+H+"."):ne!==he&&(D[z+H]=C[H]):ne!==he&&(D[z+H]=C[H])):D[z+H]=void 0}),o(C).forEach(function(H){h(x,H)||(D[z+H]=C[H])}),D}function Fc(x,C){return C.type==="delete"?C.keys:C.keys||C.values.map(x.extractKey)}var R1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(x){return r(r({},x),{table:function(C){var D=x.table(C),z=D.schema.primaryKey;return r(r({},D),{mutate:function(H){var ne=xe.trans,he=ne.table(C).hook,_e=he.deleting,Ee=he.creating,Ce=he.updating;switch(H.type){case"add":if(Ee.fire===Ye)break;return ne._promise("readwrite",function(){return Be(H)},!0);case"put":if(Ee.fire===Ye&&Ce.fire===Ye)break;return ne._promise("readwrite",function(){return Be(H)},!0);case"delete":if(_e.fire===Ye)break;return ne._promise("readwrite",function(){return Be(H)},!0);case"deleteRange":if(_e.fire===Ye)break;return ne._promise("readwrite",function(){return(function we(Fe,Ae,Re){return D.query({trans:Fe,values:!1,query:{index:z,range:Ae},limit:Re}).then(function(Xe){var Ve=Xe.result;return Be({type:"delete",keys:Ve,trans:Fe}).then(function(je){return 0<je.numFailures?Promise.reject(je.failures[0]):Ve.length<Re?{failures:[],numFailures:0,lastResult:void 0}:we(Fe,r(r({},Ae),{lower:Ve[Ve.length-1],lowerOpen:!0}),Re)})})})(H.trans,H.range,1e4)},!0)}return D.mutate(H);function Be(we){var Fe,Ae,Re,Xe=xe.trans,Ve=we.keys||Fc(z,we);if(!Ve)throw new Error("Keys missing");return(we=we.type==="add"||we.type==="put"?r(r({},we),{keys:Ve}):r({},we)).type!=="delete"&&(we.values=i([],we.values)),we.keys&&(we.keys=i([],we.keys)),Fe=D,Re=Ve,((Ae=we).type==="add"?Promise.resolve([]):Fe.getMany({trans:Ae.trans,keys:Re,cache:"immutable"})).then(function(je){var qe=Ve.map(function(st,ct){var bt,Ut,yt,Tt=je[ct],Et={onerror:null,onsuccess:null};return we.type==="delete"?_e.fire.call(Et,st,Tt,Xe):we.type==="add"||Tt===void 0?(bt=Ee.fire.call(Et,st,we.values[ct],Xe),st==null&&bt!=null&&(we.keys[ct]=st=bt,z.outbound||w(we.values[ct],z.keyPath,st))):(bt=Vc(Tt,we.values[ct]),(Ut=Ce.fire.call(Et,bt,st,Tt,Xe))&&(yt=we.values[ct],Object.keys(Ut).forEach(function(vt){h(yt,vt)?yt[vt]=Ut[vt]:w(yt,vt,Ut[vt])}))),Et});return D.mutate(we).then(function(st){for(var ct=st.failures,bt=st.results,Ut=st.numFailures,st=st.lastResult,yt=0;yt<Ve.length;++yt){var Tt=(bt||Ve)[yt],Et=qe[yt];Tt==null?Et.onerror&&Et.onerror(ct[yt]):Et.onsuccess&&Et.onsuccess(we.type==="put"&&je[yt]?we.values[yt]:Tt)}return{failures:ct,results:bt,numFailures:Ut,lastResult:st}}).catch(function(st){return qe.forEach(function(ct){return ct.onerror&&ct.onerror(st)}),Promise.reject(st)})})}}})}})}};function X0(x,C,D){try{if(!C||C.keys.length<x.length)return null;for(var z=[],H=0,ne=0;H<C.keys.length&&ne<x.length;++H)It(C.keys[H],x[ne])===0&&(z.push(D?F(C.values[H]):C.values[H]),++ne);return z.length===x.length?z:null}catch{return null}}var X1={stack:"dbcore",level:-1,create:function(x){return{table:function(C){var D=x.table(C);return r(r({},D),{getMany:function(z){if(!z.cache)return D.getMany(z);var H=X0(z.keys,z.trans._cache,z.cache==="clone");return H?X.resolve(H):D.getMany(z).then(function(ne){return z.trans._cache={keys:z.keys,values:z.cache==="clone"?F(ne):ne},ne})},mutate:function(z){return z.type!=="add"&&(z.trans._cache=null),D.mutate(z)}})}}}};function Qa(x,C){return x.trans.mode==="readonly"&&!!x.subscr&&!x.trans.explicit&&x.trans.db._options.cache!=="disabled"&&!C.schema.primaryKey.outbound}function P1(x,C){switch(x){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var R2={stack:"dbcore",level:0,name:"Observability",create:function(x){var C=x.schema.name,D=new Yn(x.MIN_KEY,x.MAX_KEY);return r(r({},x),{transaction:function(z,H,ne){if(xe.subscr&&H!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(xe.querier));return x.transaction(z,H,ne)},table:function(z){var H=x.table(z),ne=H.schema,he=ne.primaryKey,we=ne.indexes,_e=he.extractKey,Ee=he.outbound,Ce=he.autoIncrement&&we.filter(function(Ae){return Ae.compound&&Ae.keyPath.includes(he.keyPath)}),Be=r(r({},H),{mutate:function(Ae){function Re(vt){return vt="idb://".concat(C,"/").concat(z,"/").concat(vt),st[vt]||(st[vt]=new Yn)}var Xe,Ve,je,qe=Ae.trans,st=Ae.mutatedParts||(Ae.mutatedParts={}),ct=Re(""),bt=Re(":dels"),Ut=Ae.type,Et=Ae.type==="deleteRange"?[Ae.range]:Ae.type==="delete"?[Ae.keys]:Ae.values.length<50?[Fc(he,Ae).filter(function(vt){return vt}),Ae.values]:[],yt=Et[0],Tt=Et[1],Et=Ae.trans._cache;return l(yt)?(ct.addKeys(yt),(Et=Ut==="delete"||yt.length===Tt.length?X0(yt,Et):null)||bt.addKeys(yt),(Et||Tt)&&(Xe=Re,Ve=Et,je=Tt,ne.indexes.forEach(function(vt){var Rt=Xe(vt.name||"");function Kt(pn){return pn!=null?vt.extractKey(pn):null}function tn(pn){return vt.multiEntry&&l(pn)?pn.forEach(function(di){return Rt.addKey(di)}):Rt.addKey(pn)}(Ve||je).forEach(function(pn,jr){var en=Ve&&Kt(Ve[jr]),jr=je&&Kt(je[jr]);It(en,jr)!==0&&(en!=null&&tn(en),jr!=null&&tn(jr))})}))):yt?(Tt={from:(Tt=yt.lower)!==null&&Tt!==void 0?Tt:x.MIN_KEY,to:(Tt=yt.upper)!==null&&Tt!==void 0?Tt:x.MAX_KEY},bt.add(Tt),ct.add(Tt)):(ct.add(D),bt.add(D),ne.indexes.forEach(function(vt){return Re(vt.name).add(D)})),H.mutate(Ae).then(function(vt){return!yt||Ae.type!=="add"&&Ae.type!=="put"||(ct.addKeys(vt.results),Ce&&Ce.forEach(function(Rt){for(var Kt=Ae.values.map(function(en){return Rt.extractKey(en)}),tn=Rt.keyPath.findIndex(function(en){return en===he.keyPath}),pn=0,di=vt.results.length;pn<di;++pn)Kt[pn][tn]=vt.results[pn];Re(Rt.name).addKeys(Kt)})),qe.mutatedParts=qa(qe.mutatedParts||{},st),vt})}}),we=function(Re){var Xe=Re.query,Re=Xe.index,Xe=Xe.range;return[Re,new Yn((Re=Xe.lower)!==null&&Re!==void 0?Re:x.MIN_KEY,(Xe=Xe.upper)!==null&&Xe!==void 0?Xe:x.MAX_KEY)]},Fe={get:function(Ae){return[he,new Yn(Ae.key)]},getMany:function(Ae){return[he,new Yn().addKeys(Ae.keys)]},count:we,query:we,openCursor:we};return o(Fe).forEach(function(Ae){Be[Ae]=function(Re){var Xe=xe.subscr,Ve=!!Xe,je=Qa(xe,H)&&P1(Ae,Re)?Re.obsSet={}:Xe;if(Ve){var qe=function(Tt){return Tt="idb://".concat(C,"/").concat(z,"/").concat(Tt),je[Tt]||(je[Tt]=new Yn)},st=qe(""),ct=qe(":dels"),Xe=Fe[Ae](Re),Ve=Xe[0],Xe=Xe[1];if((Ae==="query"&&Ve.isPrimaryKey&&!Re.values?ct:qe(Ve.name||"")).add(Xe),!Ve.isPrimaryKey){if(Ae!=="count"){var bt=Ae==="query"&&Ee&&Re.values&&H.query(r(r({},Re),{values:!1}));return H[Ae].apply(this,arguments).then(function(Tt){if(Ae==="query"){if(Ee&&Re.values)return bt.then(function(Kt){return Kt=Kt.result,st.addKeys(Kt),Tt});var Et=Re.values?Tt.result.map(_e):Tt.result;(Re.values?st:ct).addKeys(Et)}else if(Ae==="openCursor"){var vt=Tt,Rt=Re.values;return vt&&Object.create(vt,{key:{get:function(){return ct.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var Kt=vt.primaryKey;return ct.addKey(Kt),Kt}},value:{get:function(){return Rt&&st.addKey(vt.primaryKey),vt.value}}})}return Tt})}ct.add(D)}}return H[Ae].apply(this,arguments)}}),Be}})}};function M1(x,C,D){if(D.numFailures===0)return C;if(C.type==="deleteRange")return null;var z=C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1;return D.numFailures===z?null:(C=r({},C),l(C.keys)&&(C.keys=C.keys.filter(function(H,ne){return!(ne in D.failures)})),"values"in C&&l(C.values)&&(C.values=C.values.filter(function(H,ne){return!(ne in D.failures)})),C)}function Lc(x,C){return D=x,((z=C).lower===void 0||(z.lowerOpen?0<It(D,z.lower):0<=It(D,z.lower)))&&(x=x,(C=C).upper===void 0||(C.upperOpen?It(x,C.upper)<0:It(x,C.upper)<=0));var D,z}function P0(x,C,Fe,z,H,ne){if(!Fe||Fe.length===0)return x;var he=C.query.index,_e=he.multiEntry,Ee=C.query.range,Ce=z.schema.primaryKey.extractKey,Be=he.extractKey,we=(he.lowLevelIndex||he).extractKey,Fe=Fe.reduce(function(Ae,Re){var Xe=Ae,Ve=[];if(Re.type==="add"||Re.type==="put")for(var je=new Yn,qe=Re.values.length-1;0<=qe;--qe){var st,ct=Re.values[qe],bt=Ce(ct);je.hasKey(bt)||(st=Be(ct),(_e&&l(st)?st.some(function(vt){return Lc(vt,Ee)}):Lc(st,Ee))&&(je.addKey(bt),Ve.push(ct)))}switch(Re.type){case"add":var Ut=new Yn().addKeys(C.values?Ae.map(function(Rt){return Ce(Rt)}):Ae),Xe=Ae.concat(C.values?Ve.filter(function(Rt){return Rt=Ce(Rt),!Ut.hasKey(Rt)&&(Ut.addKey(Rt),!0)}):Ve.map(function(Rt){return Ce(Rt)}).filter(function(Rt){return!Ut.hasKey(Rt)&&(Ut.addKey(Rt),!0)}));break;case"put":var yt=new Yn().addKeys(Re.values.map(function(Rt){return Ce(Rt)}));Xe=Ae.filter(function(Rt){return!yt.hasKey(C.values?Ce(Rt):Rt)}).concat(C.values?Ve:Ve.map(function(Rt){return Ce(Rt)}));break;case"delete":var Tt=new Yn().addKeys(Re.keys);Xe=Ae.filter(function(Rt){return!Tt.hasKey(C.values?Ce(Rt):Rt)});break;case"deleteRange":var Et=Re.range;Xe=Ae.filter(function(Rt){return!Lc(Ce(Rt),Et)})}return Xe},x);return Fe===x?x:(Fe.sort(function(Ae,Re){return It(we(Ae),we(Re))||It(Ce(Ae),Ce(Re))}),C.limit&&C.limit<1/0&&(Fe.length>C.limit?Fe.length=C.limit:x.length===C.limit&&Fe.length<C.limit&&(H.dirty=!0)),ne?Object.freeze(Fe):Fe)}function Mo(x,C){return It(x.lower,C.lower)===0&&It(x.upper,C.upper)===0&&!!x.lowerOpen==!!C.lowerOpen&&!!x.upperOpen==!!C.upperOpen}function zl(x,C){return(function(D,z,H,ne){if(D===void 0)return z!==void 0?-1:0;if(z===void 0)return 1;if((z=It(D,z))===0){if(H&&ne)return 0;if(H)return 1;if(ne)return-1}return z})(x.lower,C.lower,x.lowerOpen,C.lowerOpen)<=0&&0<=(function(D,z,H,ne){if(D===void 0)return z!==void 0?1:0;if(z===void 0)return-1;if((z=It(D,z))===0){if(H&&ne)return 0;if(H)return-1;if(ne)return 1}return z})(x.upper,C.upper,x.upperOpen,C.upperOpen)}function X2(x,C,D,z){x.subscribers.add(D),z.addEventListener("abort",function(){var H,ne;x.subscribers.delete(D),x.subscribers.size===0&&(H=x,ne=C,setTimeout(function(){H.subscribers.size===0&&q(ne,H)},3e3))})}var Zc={stack:"dbcore",level:0,name:"Cache",create:function(x){var C=x.schema.name;return r(r({},x),{transaction:function(D,z,H){var ne,he,_e=x.transaction(D,z,H);return z==="readwrite"&&(he=(ne=new AbortController).signal,H=function(Ee){return function(){if(ne.abort(),z==="readwrite"){for(var Ce=new Set,Be=0,we=D;Be<we.length;Be++){var Fe=we[Be],Ae=Rs["idb://".concat(C,"/").concat(Fe)];if(Ae){var Re=x.table(Fe),Xe=Ae.optimisticOps.filter(function(Rt){return Rt.trans===_e});if(_e._explicit&&Ee&&_e.mutatedParts)for(var Ve=0,je=Object.values(Ae.queries.query);Ve<je.length;Ve++)for(var qe=0,st=(Ut=je[Ve]).slice();qe<st.length;qe++)Dc((yt=st[qe]).obsSet,_e.mutatedParts)&&(q(Ut,yt),yt.subscribers.forEach(function(Rt){return Ce.add(Rt)}));else if(0<Xe.length){Ae.optimisticOps=Ae.optimisticOps.filter(function(Rt){return Rt.trans!==_e});for(var ct=0,bt=Object.values(Ae.queries.query);ct<bt.length;ct++)for(var Ut,yt,Tt,Et=0,vt=(Ut=bt[ct]).slice();Et<vt.length;Et++)(yt=vt[Et]).res!=null&&_e.mutatedParts&&(Ee&&!yt.dirty?(Tt=Object.isFrozen(yt.res),Tt=P0(yt.res,yt.req,Xe,Re,yt,Tt),yt.dirty?(q(Ut,yt),yt.subscribers.forEach(function(Rt){return Ce.add(Rt)})):Tt!==yt.res&&(yt.res=Tt,yt.promise=X.resolve({result:Tt}))):(yt.dirty&&q(Ut,yt),yt.subscribers.forEach(function(Rt){return Ce.add(Rt)})))}}}Ce.forEach(function(Rt){return Rt()})}}},_e.addEventListener("abort",H(!1),{signal:he}),_e.addEventListener("error",H(!1),{signal:he}),_e.addEventListener("complete",H(!0),{signal:he})),_e},table:function(D){var z=x.table(D),H=z.schema.primaryKey;return r(r({},z),{mutate:function(ne){var he=xe.trans;if(H.outbound||he.db._options.cache==="disabled"||he.explicit||he.idbtrans.mode!=="readwrite")return z.mutate(ne);var _e=Rs["idb://".concat(C,"/").concat(D)];return _e?(he=z.mutate(ne),ne.type!=="add"&&ne.type!=="put"||!(50<=ne.values.length||Fc(H,ne).some(function(Ee){return Ee==null}))?(_e.optimisticOps.push(ne),ne.mutatedParts&&Bc(ne.mutatedParts),he.then(function(Ee){0<Ee.numFailures&&(q(_e.optimisticOps,ne),(Ee=M1(0,ne,Ee))&&_e.optimisticOps.push(Ee),ne.mutatedParts&&Bc(ne.mutatedParts))}),he.catch(function(){q(_e.optimisticOps,ne),ne.mutatedParts&&Bc(ne.mutatedParts)})):he.then(function(Ee){var Ce=M1(0,r(r({},ne),{values:ne.values.map(function(Be,we){var Fe;return Ee.failures[we]?Be:(Be=(Fe=H.keyPath)!==null&&Fe!==void 0&&Fe.includes(".")?F(Be):r({},Be),w(Be,H.keyPath,Ee.results[we]),Be)})}),Ee);_e.optimisticOps.push(Ce),queueMicrotask(function(){return ne.mutatedParts&&Bc(ne.mutatedParts)})}),he):z.mutate(ne)},query:function(ne){if(!Qa(xe,z)||!P1("query",ne))return z.query(ne);var he=((Ce=xe.trans)===null||Ce===void 0?void 0:Ce.db._options.cache)==="immutable",we=xe,_e=we.requery,Ee=we.signal,Ce=(function(Re,Xe,Ve,je){var qe=Rs["idb://".concat(Re,"/").concat(Xe)];if(!qe)return[];if(!(Xe=qe.queries[Ve]))return[null,!1,qe,null];var st=Xe[(je.query?je.query.index.name:null)||""];if(!st)return[null,!1,qe,null];switch(Ve){case"query":var ct=st.find(function(bt){return bt.req.limit===je.limit&&bt.req.values===je.values&&Mo(bt.req.query.range,je.query.range)});return ct?[ct,!0,qe,st]:[st.find(function(bt){return("limit"in bt.req?bt.req.limit:1/0)>=je.limit&&(!je.values||bt.req.values)&&zl(bt.req.query.range,je.query.range)}),!1,qe,st];case"count":return ct=st.find(function(bt){return Mo(bt.req.query.range,je.query.range)}),[ct,!!ct,qe,st]}})(C,D,"query",ne),Be=Ce[0],we=Ce[1],Fe=Ce[2],Ae=Ce[3];return Be&&we?Be.obsSet=ne.obsSet:(we=z.query(ne).then(function(Re){var Xe=Re.result;if(Be&&(Be.res=Xe),he){for(var Ve=0,je=Xe.length;Ve<je;++Ve)Object.freeze(Xe[Ve]);Object.freeze(Xe)}else Re.result=F(Xe);return Re}).catch(function(Re){return Ae&&Be&&q(Ae,Be),Promise.reject(Re)}),Be={obsSet:ne.obsSet,promise:we,subscribers:new Set,type:"query",req:ne,dirty:!1},Ae?Ae.push(Be):(Ae=[Be],(Fe=Fe||(Rs["idb://".concat(C,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ne.query.index.name||""]=Ae)),X2(Be,Ae,_e,Ee),Be.promise.then(function(Re){return{result:P0(Re.result,ne,Fe?.optimisticOps,z,Be,he)}})}})}})}};function $l(x,C){return new Proxy(x,{get:function(D,z,H){return z==="db"?C:Reflect.get(D,z,H)}})}var Xs=(br.prototype.version=function(x){if(isNaN(x)||x<.1)throw new ve.Type("Given version is not a positive number");if(x=Math.round(10*x)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,x);var C=this._versions,D=C.filter(function(z){return z._cfg.version===x})[0];return D||(D=new this.Version(x),C.push(D),C.sort(Ga),D.stores({}),this._state.autoSchema=!1,D)},br.prototype._whenReady=function(x){var C=this;return this.idbdb&&(this._state.openComplete||xe.letThrough||this._vip)?x():new X(function(D,z){if(C._state.openComplete)return z(new ve.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void z(new ve.DatabaseClosed);C.open().catch(Ye)}C._state.dbReadyPromise.then(D,z)}).then(x)},br.prototype.use=function(x){var C=x.stack,D=x.create,z=x.level,H=x.name;return H&&this.unuse({stack:C,name:H}),x=this._middlewares[C]||(this._middlewares[C]=[]),x.push({stack:C,create:D,level:z??10,name:H}),x.sort(function(ne,he){return ne.level-he.level}),this},br.prototype.unuse=function(x){var C=x.stack,D=x.name,z=x.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(H){return z?H.create!==z:!!D&&H.name!==D})),this},br.prototype.open=function(){var x=this;return Br(Se,function(){return k2(x)})},br.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var x=this._state,C=Ei.indexOf(this);if(0<=C&&Ei.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}x.isBeingOpened||(x.dbReadyPromise=new X(function(D){x.dbReadyResolve=D}),x.openCanceller=new X(function(D,z){x.cancelOpen=z}))},br.prototype.close=function(D){var C=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;C?(D.isBeingOpened&&D.cancelOpen(new ve.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new ve.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},br.prototype.delete=function(x){var C=this;x===void 0&&(x={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",z=this._state;return new X(function(H,ne){function he(){C.close(x);var _e=C._deps.indexedDB.deleteDatabase(C.name);_e.onsuccess=At(function(){var Ee,Ce,Be;Ee=C._deps,Ce=C.name,Be=Ee.indexedDB,Ee=Ee.IDBKeyRange,ir(Be)||Ce===ji||Ar(Be,Ee).delete(Ce).catch(Ye),H()}),_e.onerror=Ui(ne),_e.onblocked=C._fireOnBlocked}if(D)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");z.isBeingOpened?z.dbReadyPromise.then(he):he()})},br.prototype.backendDB=function(){return this.idbdb},br.prototype.isOpen=function(){return this.idbdb!==null},br.prototype.hasBeenClosed=function(){var x=this._state.dbOpenError;return x&&x.name==="DatabaseClosed"},br.prototype.hasFailed=function(){return this._state.dbOpenError!==null},br.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(br.prototype,"tables",{get:function(){var x=this;return o(this._allTables).map(function(C){return x._allTables[C]})},enumerable:!1,configurable:!0}),br.prototype.transaction=function(){var x=(function(C,D,z){var H=arguments.length;if(H<2)throw new ve.InvalidArgument("Too few arguments");for(var ne=new Array(H-1);--H;)ne[H-1]=arguments[H];return z=ne.pop(),[C,O(ne),z]}).apply(this,arguments);return this._transaction.apply(this,x)},br.prototype._transaction=function(x,C,D){var z=this,H=xe.trans;H&&H.db===this&&x.indexOf("!")===-1||(H=null);var ne,he,_e=x.indexOf("?")!==-1;x=x.replace("!","").replace("?","");try{if(he=C.map(function(Ce){if(Ce=Ce instanceof z.Table?Ce.name:Ce,typeof Ce!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ce}),x=="r"||x===ui)ne=ui;else{if(x!="rw"&&x!=gi)throw new ve.InvalidArgument("Invalid transaction mode: "+x);ne=gi}if(H){if(H.mode===ui&&ne===gi){if(!_e)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");H=null}H&&he.forEach(function(Ce){if(H&&H.storeNames.indexOf(Ce)===-1){if(!_e)throw new ve.SubTransaction("Table "+Ce+" not included in parent transaction.");H=null}}),_e&&H&&!H.active&&(H=null)}}catch(Ce){return H?H._promise(null,function(Be,we){we(Ce)}):tr(Ce)}var Ee=(function Ce(Be,we,Fe,Ae,Re){return X.resolve().then(function(){var Xe=xe.transless||xe,Ve=Be._createTransaction(we,Fe,Be._dbSchema,Ae);if(Ve.explicit=!0,Xe={trans:Ve,transless:Xe},Ae)Ve.idbtrans=Ae.idbtrans;else try{Ve.create(),Ve.idbtrans._explicit=!0,Be._state.PR1398_maxLoop=3}catch(st){return st.name===de.InvalidState&&Be.isOpen()&&0<--Be._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Be.close({disableAutoOpen:!1}),Be.open().then(function(){return Ce(Be,we,Fe,null,Re)})):tr(st)}var je,qe=j(Re);return qe&&rn(),Xe=X.follow(function(){var st;(je=Re.call(Ve,Ve))&&(qe?(st=$n.bind(null,null),je.then(st,st)):typeof je.next=="function"&&typeof je.throw=="function"&&(je=Zl(je)))},Xe),(je&&typeof je.then=="function"?X.resolve(je).then(function(st){return Ve.active?st:tr(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Xe.then(function(){return je})).then(function(st){return Ae&&Ve._resolve(),Ve._completion.then(function(){return st})}).catch(function(st){return Ve._reject(st),tr(st)})})}).bind(null,this,ne,he,H,D);return H?H._promise(ne,Ee,"lock"):xe.trans?Br(xe.transless,function(){return z._whenReady(Ee)}):this._whenReady(Ee)},br.prototype.table=function(x){if(!h(this._allTables,x))throw new ve.InvalidTable("Table ".concat(x," does not exist"));return this._allTables[x]},br);function br(x,C){var D=this;this._middlewares={},this.verno=0;var z=br.dependencies;this._options=C=r({addons:br.addons,autoOpen:!0,indexedDB:z.indexedDB,IDBKeyRange:z.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},z=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var H,ne,he,_e,Ee,Ce={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};Ce.dbReadyPromise=new X(function(we){Ce.dbReadyResolve=we}),Ce.openCanceller=new X(function(we,Fe){Ce.cancelOpen=Fe}),this._state=Ce,this.name=x,this.on=yr(this,"populate","blocked","versionchange","close",{ready:[Ne,Ye]}),this.once=function(we,Fe){var Ae=function(){for(var Re=[],Xe=0;Xe<arguments.length;Xe++)Re[Xe]=arguments[Xe];D.on(we).unsubscribe(Ae),Fe.apply(D,Re)};return D.on(we,Ae)},this.on.ready.subscribe=E(this.on.ready.subscribe,function(we){return function(Fe,Ae){br.vip(function(){var Re,Xe=D._state;Xe.openComplete?(Xe.dbOpenError||X.resolve().then(Fe),Ae&&we(Fe)):Xe.onReadyBeingFired?(Xe.onReadyBeingFired.push(Fe),Ae&&we(Fe)):(we(Fe),Re=D,Ae||we(function Ve(){Re.on.ready.unsubscribe(Fe),Re.on.ready.unsubscribe(Ve)}))})}}),this.Collection=(H=this,Xn(Io.prototype,function(je,Ve){this.db=H;var Ae=Cs,Re=null;if(Ve)try{Ae=Ve()}catch(qe){Re=qe}var Xe=je._ctx,Ve=Xe.table,je=Ve.hook.reading.fire;this._ctx={table:Ve,index:Xe.index,isPrimKey:!Xe.index||Ve.schema.primKey.keyPath&&Xe.index===Ve.schema.primKey.name,range:Ae,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Re,or:Xe.or,valueMapper:je!==Oe?je:null}})),this.Table=(ne=this,Xn(Cr.prototype,function(we,Fe,Ae){this.db=ne,this._tx=Ae,this.name=we,this.schema=Fe,this.hook=ne._allTables[we]?ne._allTables[we].hook:yr(null,{creating:[be,Ye],reading:[L,Oe],updating:[se,Ye],deleting:[ce,Ye]})})),this.Transaction=(he=this,Xn(Vl.prototype,function(we,Fe,Ae,Re,Xe){var Ve=this;we!=="readonly"&&Fe.forEach(function(je){je=(je=Ae[je])===null||je===void 0?void 0:je.yProps,je&&(Fe=Fe.concat(je.map(function(qe){return qe.updatesTable})))}),this.db=he,this.mode=we,this.storeNames=Fe,this.schema=Ae,this.chromeTransactionDurability=Re,this.idbtrans=null,this.on=yr(this,"complete","error","abort"),this.parent=Xe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new X(function(je,qe){Ve._resolve=je,Ve._reject=qe}),this._completion.then(function(){Ve.active=!1,Ve.on.complete.fire()},function(je){var qe=Ve.active;return Ve.active=!1,Ve.on.error.fire(je),Ve.parent?Ve.parent._reject(je):qe&&Ve.idbtrans&&Ve.idbtrans.abort(),tr(je)})})),this.Version=(_e=this,Xn(wr.prototype,function(we){this.db=_e,this._cfg={version:we,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ee=this,Xn(zr.prototype,function(we,Fe,Ae){if(this.db=Ee,this._ctx={table:we,index:Fe===":id"?null:Fe,or:Ae},this._cmp=this._ascending=It,this._descending=function(Re,Xe){return It(Xe,Re)},this._max=function(Re,Xe){return 0<It(Re,Xe)?Re:Xe},this._min=function(Re,Xe){return It(Re,Xe)<0?Re:Xe},this._IDBKeyRange=Ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(we){0<we.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(we){!we.newVersion||we.newVersion<we.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(we.oldVersion/10))}),this._maxKey=Ci(C.IDBKeyRange),this._createTransaction=function(we,Fe,Ae,Re){return new D.Transaction(we,Fe,Ae,D._options.chromeTransactionDurability,Re)},this._fireOnBlocked=function(we){D.on("blocked").fire(we),Ei.filter(function(Fe){return Fe.name===D.name&&Fe!==D&&!Fe._state.vcFired}).map(function(Fe){return Fe.on("versionchange").fire(we)})},this.use(X1),this.use(Zc),this.use(R2),this.use(I2),this.use(R1);var Be=new Proxy(this,{get:function(we,Fe,Ae){if(Fe==="_vip")return!0;if(Fe==="table")return function(Xe){return $l(D.table(Xe),Be)};var Re=Reflect.get(we,Fe,Ae);return Re instanceof Cr?$l(Re,Be):Fe==="tables"?Re.map(function(Xe){return $l(Xe,Be)}):Fe==="_createTransaction"?function(){return $l(Re.apply(this,arguments),Be)}:Re}});this.vip=Be,z.forEach(function(we){return we(D)})}var No,Vi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",N1=(zc.prototype.subscribe=function(x,C,D){return this._subscribe(x&&typeof x!="function"?x:{next:x,error:C,complete:D})},zc.prototype[Vi]=function(){return this},zc);function zc(x){this._subscribe=x}try{No={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{No={indexedDB:null,IDBKeyRange:null}}function O1(x){var C,D=!1,z=new N1(function(H){var ne=j(x),he,_e=!1,Ee={},Ce={},Be={get closed(){return _e},unsubscribe:function(){_e||(_e=!0,he&&he.abort(),we&&$r.storagemutated.unsubscribe(Ae))}};H.start&&H.start(Be);var we=!1,Fe=function(){return Us(Re)},Ae=function(Xe){qa(Ee,Xe),Dc(Ce,Ee)&&Fe()},Re=function(){var Xe,Ve,je;!_e&&No.indexedDB&&(Ee={},Xe={},he&&he.abort(),he=new AbortController,je=(function(qe){var st=St();try{ne&&rn();var ct=nn(x,qe);return ct=ne?ct.finally($n):ct}finally{st&&kt()}})(Ve={subscr:Xe,signal:he.signal,requery:Fe,querier:x,trans:null}),Promise.resolve(je).then(function(qe){D=!0,C=qe,_e||Ve.signal.aborted||(Ee={},(function(st){for(var ct in st)if(h(st,ct))return;return 1})(Ce=Xe)||we||($r(ks,Ae),we=!0),Us(function(){return!_e&&H.next&&H.next(qe)}))},function(qe){D=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||_e||Us(function(){_e||H.error&&H.error(qe)})}))};return setTimeout(Fe,0),Be});return z.hasValue=function(){return D},z.getValue=function(){return C},z}var Ja=Xs;function M0(x){var C=xa;try{xa=!0,$r.storagemutated.fire(x),R0(x,!0)}finally{xa=C}}m(Ja,r(r({},Pe),{delete:function(x){return new Ja(x,{addons:[]}).delete()},exists:function(x){return new Ja(x,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(x){try{return C=Ja.dependencies,D=C.indexedDB,C=C.IDBKeyRange,(ir(D)?Promise.resolve(D.databases()).then(function(z){return z.map(function(H){return H.name}).filter(function(H){return H!==ji})}):Ar(D,C).toCollection().primaryKeys()).then(x)}catch{return tr(new ve.MissingAPI)}var C,D},defineClass:function(){return function(x){u(this,x)}},ignoreTransaction:function(x){return xe.trans?Br(xe.transless,x):x()},vip:pr,async:function(x){return function(){try{var C=Zl(x.apply(this,arguments));return C&&typeof C.then=="function"?C:X.resolve(C)}catch(D){return tr(D)}}},spawn:function(x,C,D){try{var z=Zl(x.apply(D,C||[]));return z&&typeof z.then=="function"?z:X.resolve(z)}catch(H){return tr(H)}},currentTransaction:{get:function(){return xe.trans||null}},waitFor:function(x,C){return C=X.resolve(typeof x=="function"?Ja.ignoreTransaction(x):x).timeout(C||6e4),xe.trans?xe.trans.waitFor(C):C},Promise:X,debug:{get:function(){return ke},set:function(x){ge(x)}},derive:v,extend:u,props:m,override:E,Events:yr,on:$r,liveQuery:O1,extendObservabilitySet:qa,getByKeyPath:W,setByKeyPath:w,delByKeyPath:function(x,C){typeof C=="string"?w(x,C,void 0):"length"in C&&[].map.call(C,function(D){w(x,D,void 0)})},shallowClone:I,deepClone:F,getObjectDiff:Vc,cmp:It,asap:U,minKey:-1/0,addons:[],connections:Ei,errnames:de,dependencies:No,cache:Rs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(x){return parseInt(x)}).reduce(function(x,C,D){return x+C/Math.pow(10,2*D)})})),Ja.maxKey=Ci(Ja.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($r(ks,function(x){xa||(x=new CustomEvent(lr,{detail:x}),xa=!0,dispatchEvent(x),xa=!1)}),addEventListener(lr,function(x){x=x.detail,xa||M0(x)}));var Oo,xa=!1,Ai=function(){};return typeof BroadcastChannel<"u"&&((Ai=function(){(Oo=new BroadcastChannel(lr)).onmessage=function(x){return x.data&&M0(x.data)}})(),typeof Oo.unref=="function"&&Oo.unref(),$r(ks,function(x){xa||Oo.postMessage(x)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(x){if(!Xs.disableBfCache&&x.persisted){Oo?.close();for(var C=0,D=Ei;C<D.length;C++)D[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(x){!Xs.disableBfCache&&x.persisted&&(Ai(),M0({all:new Yn(-1/0,[[]])}))})),X.rejectionMapper=function(x,C){return!x||x instanceof fe||x instanceof TypeError||x instanceof SyntaxError||!x.name||!$e[x.name]?x:(C=new $e[x.name](C||x.message,x),"stack"in x&&_(C,"stack",{get:function(){return this.inner.stack}}),C)},ge(ke),r(Xs,Object.freeze({__proto__:null,Dexie:Xs,liveQuery:O1,Entity:xt,cmp:It,PropModification:dr,replacePrefix:function(x,C){return new dr({replacePrefix:[x,C]})},add:function(x){return new dr({add:x})},remove:function(x){return new dr({remove:x})},default:Xs,RangeSet:Yn,mergeRanges:Cn,rangesOverlap:_i}),{default:Xs}),Xs})})(Yv)),Yv.exports}var Xz=Rz();const EY=Co(Xz),AU=Symbol.for("Dexie"),o0=globalThis[AU]||(globalThis[AU]=EY);if(EY.semVer!==o0.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${EY.semVer} and ${o0.semVer}`);const{liveQuery:Ufe,mergeRanges:Cfe,rangesOverlap:Afe,RangeSet:kfe,cmp:Ife,Entity:Rfe,PropModification:Xfe,replacePrefix:Pfe,add:Mfe,remove:Nfe,DexieYProvider:Ofe}=o0;class Pz extends o0{bookmarks;constructor(){super("bookmarkDB"),this.version(1).stores({bookmarks:"id, channelId, timestampChannelUs"})}}const kl=new Pz;async function Mz(t){const e=JSON.stringify({channelId:t.channelId,fileId:t.fileId,timestampChannelUs:t.timestampChannelUs,bbox:{i:Math.round(t.bbox.i*1e6)/1e6,j:Math.round(t.bbox.j*1e6)/1e6,h:Math.round(t.bbox.h*1e6)/1e6,w:Math.round(t.bbox.w*1e6)/1e6},name:t.name}),r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(i)).map(l=>l.toString(16).padStart(2,"0")).join("").slice(0,32)}const Uc=ft([]),Da=_a(t=>ft([])),Nz=ft(null),js=ft({mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null}),Il=ft([]),c2=ft(t=>{const e=t(Il),n=[];for(const r of e){const i=t(Da(r));n.push(...i)}return n}),Dfe=ft(null,async(t,e)=>{try{const n=await kl.bookmarks.toArray(),r=new Map,i=[];for(const a of n){i.push(a.id);const o=r.get(a.channelId)||[];o.push(a),r.set(a.channelId,o)}e(Uc,i),e(Il,Array.from(r.keys()));for(const[a,o]of r)o.sort((l,u)=>l.timestampChannelUs-u.timestampChannelUs),e(Da(a),o);`${n.length}`}catch(n){console.error("Failed to load bookmarks:",n)}}),UY=ft(null,async(t,e,n)=>{const r=await Mz(n),i=t(Uc);if(i.includes(r))return null;const a=Date.now(),o={...n,id:r,createdAt:a,updatedAt:a};try{await kl.bookmarks.add(o),e(Uc,[...i,o.id]);const l=t(Il);l.includes(o.channelId)||e(Il,[...l,o.channelId]);const f=[...t(Da(o.channelId)),o].sort((p,h)=>p.timestampChannelUs-h.timestampChannelUs);return e(Da(o.channelId),f),o.name,o.bbox,o}catch(l){throw console.error("Failed to add bookmark:",l),l}}),Oz=ft(null,async(t,e,n,r)=>{try{const i=await kl.bookmarks.get(n);if(!i)throw new Error(`Bookmark ${n} not found`);const a={...i,...r,updatedAt:Date.now()};await kl.bookmarks.put(a);const l=t(Da(i.channelId)).map(u=>u.id===n?a:u);return e(Da(i.channelId),l),a.name,a}catch(i){throw console.error("Failed to update bookmark:",i),i}}),Dz=ft(null,async(t,e)=>{try{const n=t(Il);await kl.bookmarks.clear();for(const r of n)e(Da(r),[]);e(Uc,[]),e(Il,[])}catch(n){throw console.error("Failed to clear bookmarks:",n),n}}),Bz=ft(null,async(t,e,n)=>{try{const r=await kl.bookmarks.get(n);if(!r){console.warn(`Bookmark ${n} not found for deletion`);return}await kl.bookmarks.delete(n);const i=t(Uc);e(Uc,i.filter(l=>l!==n));const o=t(Da(r.channelId)).filter(l=>l.id!==n);if(e(Da(r.channelId),o),o.length===0){const l=t(Il);e(Il,l.filter(u=>u!==r.channelId))}r.name}catch(r){throw console.error("Failed to delete bookmark:",r),r}}),dw=ft(null,async(t,e,n)=>{const r=typeof n=="string"?n:n.bookmarkId,i=typeof n=="string"?"bookmark":n.source??"bookmark",a=await kl.bookmarks.get(r);if(!a)return console.warn(`Bookmark ${r} not found`),a;const o=t(gn(a.channelId));if(!o)return console.warn(`Channel ${a.channelId} not found`),a;const l=o.timeStartEpochUs+a.timestampChannelUs,u=o.timestampToFrameIndex(l),f=Math.max(0,Math.min(u,o.getFrameCount()-1)),p=t(wn),h=a.timestampChannelUs;return e(wn,{...p,channelId:a.channelId,previousTimeUs:p.currentTimeUs,currentTimeUs:h,isPlaying:!1,selectionSource:i}),e(X6,f),e(Nz,{bbox:a.bbox}),a}),Vz=ft(null,(t,e)=>{e(js,{mode:"drawing",startPoint:null,currentPoint:null,pendingBbox:null})}),Ru=ft(null,(t,e)=>{e(js,{mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null})}),Bfe=ft(null,(t,e,n)=>{const r=t(js);r.mode==="drawing"&&e(js,{...r,startPoint:n,currentPoint:n})}),Vfe=ft(null,(t,e,n)=>{const r=t(js);r.mode!=="drawing"||!r.startPoint||e(js,{...r,currentPoint:n})}),Ffe=ft(null,(t,e,n)=>{const r=t(js);if(r.mode!=="drawing"||!r.startPoint)return;const i=r.startPoint,a=n,o=i.x,l=i.y,u=2*Math.abs(a.x-i.x),f=2*Math.abs(a.y-i.y);if(u<.01||f<.01){e(js,{mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null});return}e(js,{mode:"dialog",startPoint:null,currentPoint:null,pendingBbox:{i:l,j:o,h:f,w:u}})}),Fz=ft(null,async(t,e,n,r)=>{const i=t(js);if(i.mode!=="dialog"||!i.pendingBbox)return;const a=t(wn);if(!a.channelId){console.warn("No channel selected"),e(Ru);return}const o=t(gn(a.channelId));if(!o){console.warn("Channel not found"),e(Ru);return}const l=t(o2),u=o.getFrameHash(l);if(!u){console.warn("Could not determine file hash for bookmark"),e(Ru);return}await e(UY,{channelId:a.channelId,fileId:u,timestampChannelUs:a.currentTimeUs,bbox:i.pendingBbox,name:n,description:r}),e(Ru)});function Lz(t,e){const n=_t.c(4);let r,i;n[0]!==e||n[1]!==t?(r=()=>{if(!t)return;const a=new ResizeObserver(o=>{if(!o.length)return;const l=o[0],{width:u,height:f}=l.contentRect;e({width:u,height:f})});return a.observe(t),()=>a.disconnect()},i=[t,e],n[0]=e,n[1]=t,n[2]=r,n[3]=i):(r=n[2],i=n[3]),B.useEffect(r,i)}const Zz={visual:"V",thermal:"T",wide:"W",screen:"S",zoom:"Z",panorama:"P",unknown:"?"},zz=10,dc=t=>t.startEpochTimeMillis*1e3,Zg=t=>t.endEpochTimeMillis*1e3,ox=t=>t==="video"||t==="mediabunny_video"||t==="livestream";function $z(t,e){if(t.length===0)return[];const n=[...t].sort((a,o)=>dc(a)-dc(o)),r=[];let i={timeStartEpochUs:dc(n[0]),timeEndEpochUs:Zg(n[0]),tracks:[n[0]],isVideo:ox(n[0].channelType),totalFrames:n[0].nFrames};for(let a=1;a<n.length;a++){const o=n[a],l=e(dc(o)),u=e(i.timeEndEpochUs);l-u<zz?(i.tracks.push(o),i.timeEndEpochUs=Math.max(i.timeEndEpochUs,Zg(o)),i.totalFrames+=o.nFrames,ox(o.channelType)&&(i.isVideo=!0)):(r.push(i),i={timeStartEpochUs:dc(o),timeEndEpochUs:Zg(o),tracks:[o],isVideo:ox(o.channelType),totalFrames:o.nFrames})}return r.push(i),r}const CY=1e3,Tv=CY*60,wv=Tv*60,zg=wv*24,kU=zg*365,Bu=zg*29.530588853,jz=Date.UTC(2e3,0,6,18,14,0);function IU(t){return t>=kU?{major:kU,minor:Bu}:t>=Bu?{major:Bu,minor:zg}:t>=zg?{major:zg,minor:wv}:t>=wv?{major:wv,minor:Tv}:t>=Tv?{major:Tv,minor:CY}:{major:CY,minor:0}}function Qy(t,e,n,r,i,a){const o=[],l=Math.max(100,Math.min(500,n)),u=Math.abs(r-Bu)<1e3;for(let f=0;f<=l;f++){const p=f/l*n,h=t+f/l*e;let m;u?m=(h-jz)%Bu/Bu*2*Math.PI:m=h%r/r*2*Math.PI;const g=i/2-Math.cos(m)*a;o.push(`${f===0?"M":"L"} ${p.toFixed(1)} ${g.toFixed(1)}`)}return o.join(" ")}function Xu(t){const e=Math.abs(t)/1e3,n=60,r=n*60,i=r*24,a=i*365;if(e>=a){const o=Math.floor(e/a),l=Math.floor(e%a/i);return l>0?`${o}y ${l}d`:`${o}y`}else if(e>=i){const o=Math.floor(e/i),l=Math.floor(e%i/r);return l>0?`${o}d ${l}h`:`${o}d`}else if(e>=r){const o=Math.floor(e/r),l=Math.floor(e%r/n);return l>0?`${o}h ${l}m`:`${o}h`}else if(e>=n){const o=Math.floor(e/n),l=Math.floor(e%n);return l>0?`${o}m ${l}s`:`${o}m`}else return`${Math.floor(e)}s`}function Lfe(){const t=_t.c(109),e=Jt(Yz),n=Jt(wn),r=Jt(o2),i=e.filter(o$),a=bn(Q9),o=bn(X6),l=bn(wo),u=bn(O6),f=Jt(U0),p=W0(),[h,m]=B.useState(null),[g,_]=B.useState(800),[v,S]=B.useState(null),[b,Y]=B.useState(null),[E,M]=B.useState(null),[U,W]=B.useState(0),[w,I]=B.useState(null),[P,O]=B.useState(0),[V,N]=B.useState(0),[F,R]=p_(wY),K=bn(P6),[Z,G]=B.useState(!1),[q,Q]=B.useState(0),[ue,j]=B.useState(null),[te,fe]=B.useState(null),[J,re]=B.useState(null),[ae,de]=B.useState(null),[pe,ve]=B.useState(null),[$e,Pe]=B.useState(null);let Ye;t[0]===Symbol.for("react.memo_cache_sentinel")?(Ye=xt=>{const{width:It}=xt;_(It-64)},t[0]=Ye):Ye=t[0],Lz(h,Ye);let Oe;t[1]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{S(null),Y(null),M(null),W(0),I(null),re(null),de(null)},t[1]=Oe):Oe=t[1];const L=Oe,Ue=i.map(a$),be=i.map(s$),ce=Ue.length>0?Math.min(...Ue):0,se=be.length>0?Math.max(...be):0,me=se-ce,Ne=me*.05,ke=ce-Ne,ge=se+Ne,We=F?.start??ke,ze=(F?.end??ge)-We,nt=g;let Mt;t[2]!==nt||t[3]!==ze||t[4]!==We?(Mt=xt=>{const It=xt/1e3;return ze>0?(It-We)/ze*nt:0},t[2]=nt,t[3]=ze,t[4]=We,t[5]=Mt):Mt=t[5];const Ft=$z(i,Mt);let sn;t[6]!==h||t[7]!==me||t[8]!==te||t[9]!==ge||t[10]!==ke||t[11]!==R||t[12]!==nt||t[13]!==F?.end||t[14]!==F?.start?(sn=xt=>{if(xt.preventDefault(),xt.target.closest(".fixed"))return;const Ur=h?.getBoundingClientRect();if(!Ur)return;const rr=xt.clientX-Ur.left-16,Bn=Math.max(0,Math.min(1,rr/nt)),dr=F?.start??ke,Qn=(F?.end??ge)-dr,Cr=xt.deltaY>0?1.0375:.9625,qt=Qn*Cr,yr=ge-ke,Xn=Math.min(1e3,me*.01),Rr=Math.max(Xn,Math.min(yr,qt));let yi,Mi;if(te){const Io=te.timeStartEpochUs/1e3,Gt=te.timeEndEpochUs/1e3,Nr=Gt-Io;(Qn>0?Nr/Qn*nt:nt)<20?(yi=(Io+Gt)/2,Mi=Qn>0?(yi-dr)/Qn:.5):(yi=dr+Bn*Qn,Mi=Bn)}else yi=dr+Bn*Qn,Mi=Bn;const Ni=yi-Mi*Rr,$a=yi+(1-Mi)*Rr;let vi=Ni,si=$a;vi<ke&&(vi=ke,si=vi+Rr),si>ge&&(si=ge,vi=si-Rr),R({start:vi,end:si})},t[6]=h,t[7]=me,t[8]=te,t[9]=ge,t[10]=ke,t[11]=R,t[12]=nt,t[13]=F?.end,t[14]=F?.start,t[15]=sn):sn=t[15];const oe=sn;let tt;t[16]!==ge||t[17]!==ke||t[18]!==F?.end||t[19]!==F?.start?(tt=xt=>{if(xt.button!==0)return;const It=xt.target;It.closest("button")||It.closest('[role="button"]')||(G(!0),Q(xt.clientX),j({start:F?.start??ke,end:F?.end??ge}),xt.preventDefault())},t[16]=ge,t[17]=ke,t[18]=F?.end,t[19]=F?.start,t[20]=tt):tt=t[20];const De=tt;let it;t[21]!==ue||t[22]!==q||t[23]!==Z||t[24]!==ge||t[25]!==ke||t[26]!==R||t[27]!==nt?(it=xt=>{const It=xt.currentTarget.getBoundingClientRect(),Ur=xt.clientX-It.left-16,rr=xt.clientY-It.top;if(re(Math.max(0,Math.min(nt,Ur))),de(rr),!Z||!ue)return;const dr=-((xt.clientX-q)/nt)*(ue.end-ue.start);let hr=ue.start+dr,Qn=ue.end+dr;hr<ke&&(hr=ke,Qn=hr+(ue.end-ue.start)),Qn>ge&&(Qn=ge,hr=Qn-(ue.end-ue.start)),R({start:hr,end:Qn})},t[21]=ue,t[22]=q,t[23]=Z,t[24]=ge,t[25]=ke,t[26]=R,t[27]=nt,t[28]=it):it=t[28];const Se=it;let xe;t[29]===Symbol.for("react.memo_cache_sentinel")?(xe=()=>{G(!1),j(null)},t[29]=xe):xe=t[29];const ee=xe;let Je;t[30]!==Z?(Je=()=>{re(null),de(null),Z&&(G(!1),j(null))},t[30]=Z,t[31]=Je):Je=t[31];const mt=Je;let X,Le;if(t[32]!==h||t[33]!==oe?(X=()=>{const xt=h;if(xt)return xt.addEventListener("wheel",oe,{passive:!1}),()=>xt.removeEventListener("wheel",oe)},Le=[h,oe],t[32]=h,t[33]=oe,t[34]=X,t[35]=Le):(X=t[34],Le=t[35]),B.useEffect(X,Le),i.length===0){let xt;return t[36]===Symbol.for("react.memo_cache_sentinel")?(xt=A.jsx("div",{className:"h-full flex items-center justify-center bg-muted/20 border-t",children:A.jsx("p",{className:"text-sm text-muted-foreground",children:"No data to display"})}),t[36]=xt):xt=t[36],xt}const Ke=(xt,It,Ur,rr,Bn)=>{const dr=Ur/rr,hr=It.timeStartEpochUs+dr*(It.timeEndEpochUs-It.timeStartEpochUs);let Qn=!1;if(n.channelId){const Cr=i.find(qt=>qt.channelId===n.channelId);if(Cr){const qt=Cr.startEpochTimeMillis*1e3,yr=Cr.endEpochTimeMillis*1e3;if(hr>=qt&&hr<=yr){const Xn=p.get(gn(n.channelId));if(Xn){const Rr=Xn.timestampToFrameIndex(hr);a(Math.max(0,Math.min(Rr,Xn.getFrameCount()-1))),o(Math.max(0,Math.min(Rr,Xn.getFrameCount()-1))),Qn=!0}}}}if(!Qn){const Cr=It.tracks[0],qt=p.get(gn(Cr.channelId));if(qt){const yr=qt.timestampToFrameIndex(hr);l({channelId:Cr.channelId,source:"timeline"}),a(Math.max(0,Math.min(yr,qt.getFrameCount()-1))),o(Math.max(0,Math.min(yr,qt.getFrameCount()-1))),u(Cr.channelId)}}It.tracks.length>1&&(v===xt?(S(null),Y(null),M(null),W(0)):(S(xt),Y(Bn.getBoundingClientRect()),M(null),W(0)))},ie=i$,ye=r$;let Me;t[37]!==nt||t[38]!==ze||t[39]!==We?(Me=(xt,It,Ur)=>{const rr=Ur===void 0?!1:Ur,Bn=xt/1e3,dr=It/1e3,hr=dr-Bn,Qn=ze>0?(Bn-We)/ze*nt:0,Cr=ze>0?hr/ze*nt:nt,qt=rr||Cr<20;let yr,Xn;if(qt){const Rr=rr?Bn:(Bn+dr)/2;yr=(ze>0?(Rr-We)/ze*nt:0)-10,Xn=20}else yr=Qn,Xn=Math.min(Cr,nt-yr);return yr<0&&(Xn=Math.max(0,Xn+yr),yr=0),yr+Xn>nt&&(Xn=Math.max(0,nt-yr)),{leftOffset:yr,actualWidth:Xn,isMinWidth:qt}},t[37]=nt,t[38]=ze,t[39]=We,t[40]=Me):Me=t[40];const wt=Me;let dt;t[41]!==f?(dt=(xt,It)=>{const Ur=la(xt.timeStartEpochUs/1e3,f),rr=[...new Set(xt.tracks.map(n$))],dr=rr.includes("unknown")?"":rr.sort().map(t$).join(","),hr=It??(xt.timeEndEpochUs-xt.timeStartEpochUs)/1e3,Qn=Xu(hr),Cr=`${xt.tracks.length} channel${xt.tracks.length>1?"s":""}`;let qt;return dr?qt=`${Cr}: ${dr}: ${Qn}`:qt=`${Cr}: ${Qn}`,{timestamp:Ur,channelInfo:qt}},t[41]=f,t[42]=dt):dt=t[42];const St=dt,kt=e$,Un=Jz;let hn;t[43]===Symbol.for("react.memo_cache_sentinel")?(hn=xt=>Un(xt,"short"),t[43]=hn):hn=t[43];const At=hn;let Zt;t[44]!==n?(Zt=xt=>xt.channelId===n.channelId,t[44]=n,t[45]=Zt):Zt=t[45];const Dn=i.find(Zt),Ir=(Dn?p.get(gn(Dn.channelId)):null)?.frameIndexToTimestamp(r)??0,ii=Ir>0?la(Ir/1e3,f):"";if(i.length===0){let xt;return t[46]===Symbol.for("react.memo_cache_sentinel")?(xt=A.jsx("div",{className:"h-full flex items-center justify-center bg-muted/20 border-t",children:A.jsx("p",{className:"text-sm text-muted-foreground",children:"No data to display"})}),t[46]=xt):xt=t[46],xt}const Fn="w-full bg-background border-t border-border flex items-center";let nn;t[47]===Symbol.for("react.memo_cache_sentinel")?(nn={height:"44px"},t[47]=nn):nn=t[47];let rn;t[48]!==ii?(rn=A.jsx("div",{className:"text-xs font-mono text-foreground whitespace-nowrap",children:ii}),t[48]=ii,t[49]=rn):rn=t[49];let $n;t[50]!==ze?($n=Xu(ze),t[50]=ze,t[51]=$n):$n=t[51];let gr;t[52]!==$n?(gr=A.jsxs("div",{className:"text-[10px] font-mono text-muted-foreground whitespace-nowrap",children:[" ",$n," "]}),t[52]=$n,t[53]=gr):gr=t[53];let ss;t[54]!==rn||t[55]!==gr?(ss=A.jsxs("div",{className:"shrink-0 flex flex-col items-center justify-center border-r border-border px-4 py-1",children:[rn,gr]}),t[54]=rn,t[55]=gr,t[56]=ss):ss=t[56];let mi;t[57]===Symbol.for("react.memo_cache_sentinel")?(mi=xt=>m(xt),t[57]=mi):mi=t[57];const za=`relative flex-1 min-w-0 h-full flex items-center ${Z?"cursor-grabbing":"cursor-grab"}`;let Br;t[58]!==nt||t[59]!==ze||t[60]!==We?(Br=nt>0&&(()=>{const{major:xt,minor:It}=IU(ze),Ur=Qy(We,ze,nt,xt,36,12.6),rr=It>0?Qy(We,ze,nt,It,36,7.2):null;return A.jsxs("svg",{className:"absolute pointer-events-none",style:{left:16,right:16,top:4,bottom:4},width:nt,height:36,preserveAspectRatio:"none",children:[rr&&A.jsx("path",{d:rr,fill:"none",stroke:"currentColor",strokeWidth:.5,className:"text-neutral-400/30"}),A.jsx("path",{d:Ur,fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"text-neutral-500/40"})]})})(),t[58]=nt,t[59]=ze,t[60]=We,t[61]=Br):Br=t[61];let as;t[62]!==f||t[63]!==v||t[64]!==te||t[65]!==w||t[66]!==J||t[67]!==ae||t[68]!==nt||t[69]!==ze||t[70]!==We?(as=J!==null&&ae!==null&&!te&&!w&&v===null&&A.jsx("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/70 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10000]",style:{left:`${16+J}px`,top:`${ae-8}px`,transform:"translate(-50%, -100%)"},children:la(We+J/nt*ze,f)}),t[62]=f,t[63]=v,t[64]=te,t[65]=w,t[66]=J,t[67]=ae,t[68]=nt,t[69]=ze,t[70]=We,t[71]=as):as=t[71];const Us="absolute left-0 right-0 px-4",tr="relative";let Vr;t[72]===Symbol.for("react.memo_cache_sentinel")?(Vr={height:"28px"},t[72]=Vr):Vr=t[72];const Fr=Ft.map((xt,It)=>{const Ur=xt.tracks.some(Gt=>n.channelId===Gt.channelId),rr=v===It,Bn=xt.tracks.length===1&&xt.tracks[0].nFrames===1,{leftOffset:dr,actualWidth:hr}=wt(xt.timeStartEpochUs,xt.timeEndEpochUs,Bn);if(hr<=0)return null;const Qn=xt.tracks.length>1,Cr=xt.tracks.every(Qz),qt=xt.tracks.every(qz),yr=xt.tracks.every(Gz),Xn=xt.tracks.every(Hz),Rr=qt?RT:Cr?n0:yr?iY:Xn?r_:Qn?sD:xt.isVideo?n0:Bn?iY:r_,{channelInfo:yi}=St(xt),Mi=xt.tracks.length,Ni=(xt.timeEndEpochUs-xt.timeStartEpochUs)/1e3,$a=Xu(Ni),vi=Qn&&hr>=40,si=hr>=80,Io=vi||si;return A.jsxs("div",{className:"relative group/bar",children:[A.jsxs("div",{className:`absolute h-6 ${ie(It)} rounded border ${Ur?"border-primary ring-2 ring-primary/20":ye(It)} hover:border-primary transition-colors cursor-pointer flex items-center justify-center gap-1 overflow-hidden`,style:{width:`${hr}px`,left:`${dr}px`,top:"2px"},onClick:Gt=>{if(Gt.altKey){K({startMs:xt.timeStartEpochUs/1e3,endMs:xt.timeEndEpochUs/1e3,nFrames:xt.totalFrames});return}const Nr=Gt.currentTarget.getBoundingClientRect(),Oi=Gt.clientX-Nr.left;Ke(It,xt,Oi,hr,Gt.currentTarget)},onMouseEnter:()=>fe(xt),onMouseLeave:()=>{fe(null),N(0)},onMouseMove:Gt=>{const Nr=Gt.currentTarget.getBoundingClientRect(),Oi=Math.max(0,Math.min(1,(Gt.clientX-Nr.left)/Nr.width));N(Oi)},children:[A.jsx(Rr,{className:"w-3 h-3 shrink-0 text-foreground/70"}),Io&&A.jsxs("span",{className:"text-[10px] font-mono text-foreground/70 truncate",children:[vi?`x${Mi}`:"",vi&&si?" ":"",si?$a:""]})]}),v===null&&(()=>{const Gt=Math.max(200,yi.length*7+40),Nr=dr+hr/2,Oi=nt-8,vr=Nr+Gt/2>Oi,Lr=Nr-Gt/2<8;let ai;vr?ai={right:"8px",top:"-36px"}:Lr?ai={left:"8px",top:"-36px"}:ai={left:`${Nr}px`,top:"-36px",transform:"translateX(-50%)"};const Zr=xt.timeStartEpochUs/1e3,Di=xt.timeEndEpochUs/1e3,qs=Zr+V*(Di-Zr),zr=la(qs,f);return A.jsxs("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/70 backdrop-blur-sm rounded border border-border whitespace-nowrap opacity-0 group-hover/bar:opacity-100 pointer-events-none z-[10000]",style:ai,children:[A.jsx("div",{children:zr}),A.jsx("div",{children:yi})]})})(),rr&&b&&(()=>{const Gt=h?.parentElement?.getBoundingClientRect(),Nr=Gt?.left??16,Oi=Gt?.right??window.innerWidth-16,vr=Oi-Nr-24-32,Lr=b.left+b.width/2-Nr,ai=xt.timeStartEpochUs/1e3,Zr=xt.timeEndEpochUs/1e3,qs=(Zr-ai)*.05,zr=ai-qs,Vn=Zr+qs,Ui=Vn-zr,Tr=E?.start??zr,ks=E?.end??Vn,lr=ks-Tr,$r=la(Tr,f,{includeZone:!1}),Vl=Xu(lr),fi=`${$r}  ${xt.tracks.length} channels: ${Vl}`,Bi=Kz,ja=(on,ln,Pn)=>{const Ln=Pn===void 0?!1:Pn,Mn=on/1e3,wr=ln/1e3,Sr=wr-Mn,Ar=lr>0?(Mn-Tr)/lr*vr:0,ir=lr>0?Sr/lr*vr:vr,pr=Ln||ir<20;let nr,Yn;if(pr){const Zn=Ln?Mn:(Mn+wr)/2;nr=(lr>0?(Zn-Tr)/lr*vr:0)-10,Yn=20}else nr=Ar,Yn=ir;return{barLeft:nr,barWidth:Yn,isMinWidth:pr}},os=[],Ci=[];for(const on of xt.tracks){const{barLeft:ln,barWidth:Pn}=ja(dc(on),Zg(on),on.nFrames===1),Ln=At(on),Mn=Bi(Ln),wr=Pn>Mn+20,Sr=ln,Ar=wr?ln+Pn:ln+Pn+Mn+12;let ir=0;for(let pr=0;pr<Ci.length;pr++){if(Sr>=Ci[pr]+8){ir=pr;break}ir=pr+1}ir>=Ci.length?Ci.push(Ar):Ci[ir]=Math.max(Ci[ir],Ar),os.push({track:on,lane:ir,barLeft:ln,barRight:ln+Pn})}const Qs=Ci.length,Ka=Math.min(Qs,4),Js=Qs*26,_r=Ka*26,ls=Math.max(0,Js-_r),Is=Math.max(0,Math.min(U,ls)),cs=60+_r,Ro=on=>{on.stopPropagation();const ln=on.currentTarget.getBoundingClientRect(),Pn=on.clientX-ln.left-16,Ln=Math.max(0,Math.min(1,Pn/vr)),Mn=Tr,wr=lr,Sr=on.deltaY>0?1.0375:.9625,Ar=wr*Sr,ir=Math.min(1e3,Ui*.01),pr=Math.max(ir,Math.min(Ui,Ar));let nr,Yn;if(w){const _i=w.startEpochTimeMillis,Hi=w.endEpochTimeMillis,ea=Hi-_i;(wr>0?ea/wr*vr:vr)<20?(nr=(_i+Hi)/2,Yn=wr>0?(nr-Mn)/wr:.5):(nr=Mn+Ln*wr,Yn=Ln)}else nr=Mn+Ln*wr,Yn=Ln;let Zn=nr-Yn*pr,Cn=nr+(1-Yn)*pr;Zn<zr&&(Zn=zr,Cn=Zn+pr),Cn>Vn&&(Cn=Vn,Zn=Cn-pr),Zn<=zr&&Cn>=Vn?M(null):M({start:Zn,end:Cn})},Ha=on=>{if(on.button!==0||on.target.closest("button"))return;on.preventDefault(),on.stopPropagation();const Pn=on.clientX,Ln=on.clientY,Mn={start:Tr,end:ks},wr=Is,Sr=ir=>{const pr=ir.clientX-Pn,nr=ir.clientY-Ln,Yn=-(pr/vr)*(Mn.end-Mn.start);let Zn=Mn.start+Yn,Cn=Mn.end+Yn;Zn<zr&&(Zn=zr,Cn=Zn+(Mn.end-Mn.start)),Cn>Vn&&(Cn=Vn,Zn=Cn-(Mn.end-Mn.start)),Zn<=zr&&Cn>=Vn?M(null):M({start:Zn,end:Cn});const _i=Math.max(0,Math.min(ls,wr-nr));W(_i)},Ar=()=>{document.removeEventListener("mousemove",Sr),document.removeEventListener("mouseup",Ar)};document.addEventListener("mousemove",Sr),document.addEventListener("mouseup",Ar)},Ga=i.find(on=>on.channelId===n.channelId),Po=((Ga?p.get(gn(Ga.channelId)):null)?.frameIndexToTimestamp(r)??xt.timeStartEpochUs)/1e3,Ll=lr>0?(Po-Tr)/lr*vr:0;return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/20",onClick:L}),A.jsxs("div",{className:"fixed z-[9999] bg-background border-2 border-primary rounded-lg shadow-2xl ring-4 ring-primary/30",style:{left:`${Nr}px`,right:`${window.innerWidth-Oi}px`,top:`${b.top-cs-12-8}px`,height:`${cs}px`,padding:"12px"},children:[A.jsx("div",{className:"absolute w-0 h-0 border-l-[10px] border-r-[10px] border-t-[12px] border-l-transparent border-r-transparent border-t-primary",style:{left:`${Lr}px`,top:"100%",transform:"translateX(-50%)"}}),A.jsx("div",{className:"absolute w-0 h-0 border-l-[8px] border-r-[8px] border-t-[10px] border-l-transparent border-r-transparent border-t-background",style:{left:`${Lr}px`,top:"calc(100% - 2px)",transform:"translateX(-50%)"}}),A.jsx("button",{className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:L,children:""}),A.jsx("div",{className:"text-sm text-muted-foreground font-medium mb-2 pr-8",children:fi}),A.jsxs("div",{className:"relative overflow-hidden cursor-grab active:cursor-grabbing",style:{height:`${_r}px`},onWheel:Ro,onMouseDown:Ha,onMouseMove:on=>{const ln=on.currentTarget.getBoundingClientRect(),Pn=on.clientX-ln.left-16,Ln=on.clientY-ln.top;ve(Math.max(0,Math.min(vr,Pn))),Pe(Ln)},onMouseLeave:()=>{ve(null),Pe(null)},children:[A.jsxs("div",{className:"absolute left-0 right-0",style:{height:`${Js}px`,transform:`translateY(${-Is}px)`},children:[(()=>{const{major:on,minor:ln}=IU(lr),Pn=Js,Ln=Qy(Tr,lr,vr,on,Pn,Pn*.3),Mn=ln>0?Qy(Tr,lr,vr,ln,Pn,Pn*.15):null;return A.jsxs("svg",{className:"absolute pointer-events-none",style:{left:16,top:0},width:vr,height:Pn,preserveAspectRatio:"none",children:[Mn&&A.jsx("path",{d:Mn,fill:"none",stroke:"currentColor",strokeWidth:.5,className:"text-neutral-400/30"}),A.jsx("path",{d:Ln,fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"text-neutral-500/40"})]})})(),os.map(on=>{const{track:ln,lane:Pn,barLeft:Ln}=on,Mn=ln.nFrames,wr=n.channelId===ln.channelId,{barWidth:Sr}=ja(dc(ln),Zg(ln),ln.nFrames===1),Ar=At(ln),ir=Bi(Ar),pr=kt(ln),nr=Sr>ir+20+8,Yn=Ln>ir+8,Zn=nr?"inside":Yn?"left":"right";return A.jsxs("div",{className:"absolute flex items-center pointer-events-none",style:{left:"16px",right:"16px",height:"22px",top:`${Pn*26+2}px`},children:[Zn==="left"&&A.jsx("span",{className:"absolute text-[11px] font-mono text-foreground/80 whitespace-nowrap text-right",style:{right:`calc(100% - ${Ln-6}px)`},children:Ar}),A.jsxs("div",{className:`group/overlaybar absolute flex items-center gap-1 rounded border cursor-pointer transition-colors pointer-events-auto ${wr?"bg-primary/30 border-primary":"bg-neutral-400/40 border-neutral-500/60 hover:border-primary hover:bg-neutral-400/50"} ${nr?"px-2":"justify-center"}`,style:{left:`${Ln}px`,width:`${Sr}px`,height:"100%"},onMouseEnter:()=>I(ln),onMouseLeave:()=>{I(null),O(0)},onMouseMove:Cn=>{const _i=Cn.currentTarget.getBoundingClientRect(),Hi=Math.max(0,Math.min(1,(Cn.clientX-_i.left)/_i.width));O(Hi)},onClick:Cn=>{Cn.stopPropagation();const _i=Cn.currentTarget.closest(".fixed");if(!_i)return;const Hi=_i.getBoundingClientRect(),ea=Cn.clientX-Hi.left-12-16,Sa=Math.max(0,Math.min(1,ea/vr)),qa=Tr+Sa*lr,Rs=p.get(gn(ln.channelId))?.timestampToFrameIndex(qa*1e3)??0;l({channelId:ln.channelId,source:"timeline"}),a(Math.max(0,Math.min(Rs,Mn-1))),o(Math.max(0,Math.min(Rs,Mn-1))),u(ln.channelId)},children:[A.jsx(pr,{className:"w-3 h-3 shrink-0 text-foreground/70"}),Zn==="inside"&&A.jsx("span",{className:"text-[11px] font-mono text-foreground/80 truncate",children:Ar})]}),Zn==="right"&&A.jsx("span",{className:"absolute text-[11px] font-mono text-foreground/80 whitespace-nowrap",style:{left:`${Ln+Sr+6}px`},children:Ar})]},ln.channelId)}),A.jsx(l$,{tracksWithLanes:os,chunkStartMs:Tr,chunkDurationMs:lr,overlayTotalWidth:vr,barPadding:16,laneHeight:26,scrollY:Is}),A.jsxs("div",{className:"absolute w-0.5 bg-primary cursor-ew-resize",style:{left:`${16+Ll}px`,top:0,height:`${Js}px`},onMouseDown:on=>{on.preventDefault(),on.stopPropagation();const ln=on.currentTarget.parentElement?.parentElement;if(!ln)return;const Pn=Mn=>{const wr=ln.getBoundingClientRect(),Sr=Mn.clientX-wr.left,ir=Math.max(0,Math.min(Sr,vr))/vr,pr=Tr+ir*lr,nr=Ga||xt.tracks[0],Yn=nr?p.get(gn(nr.channelId)):null;if(Yn&&nr){const Zn=pr*1e3,Cn=Yn.timestampToFrameIndex(Zn);l({channelId:nr.channelId,source:"timeline"}),a(Math.max(0,Math.min(Cn,nr.nFrames-1))),o(Math.max(0,Math.min(Cn,nr.nFrames-1)))}},Ln=()=>{document.removeEventListener("mousemove",Pn),document.removeEventListener("mouseup",Ln)};document.addEventListener("mousemove",Pn),document.addEventListener("mouseup",Ln)},children:[A.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary rounded-full border-2 border-background"}),A.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary rounded-full border-2 border-background"})]})]}),ls>0&&A.jsx("div",{className:"absolute right-1 top-1 bottom-1 w-1 bg-muted/30 rounded",children:A.jsx("div",{className:"absolute w-full bg-muted-foreground/40 rounded",style:{top:`${Is/Js*100}%`,height:`${_r/Js*100}%`}})})]}),w&&(()=>{const on=os.find(Sa=>Sa.track.channelId===w.channelId);if(!on)return null;const{track:ln,lane:Pn,barLeft:Ln,barRight:Mn}=on,wr=Mn-Ln,Sr=Un(ln,"full"),Ar=kt(ln),ir=ln.startEpochTimeMillis,pr=ln.endEpochTimeMillis,nr=ir+P*(pr-ir),Yn=la(nr,f),Zn=16+Ln+P*wr,Cn=36+Pn*26-Is,_i=Nr+12+Zn,ea=window.innerWidth-_i<200;return A.jsxs("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/90 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10001]",style:{left:ea?void 0:`${12+Zn}px`,right:ea?`${12+vr+32-Zn}px`:void 0,top:`${Cn-4}px`,transform:"translateY(-100%)"},children:[A.jsx("div",{children:Yn}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(Ar,{className:"w-3 h-3 shrink-0"}),A.jsx("span",{children:Sr})]})]})})(),pe!==null&&$e!==null&&!w&&A.jsx("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/90 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10001]",style:{left:`${28+pe}px`,top:`${36+$e-8}px`,transform:"translate(-50%, -100%)"},children:la(Tr+pe/vr*lr,f)}),A.jsx("button",{className:"absolute top-2 right-8 px-3 py-1 text-xs font-medium text-muted-foreground hover:text-foreground bg-muted/50 hover:bg-muted rounded border border-border transition-colors",onClick:()=>{const on=lr*.05;R({start:Tr-on,end:ks+on}),S(null),Y(null),M(null),W(0)},children:"Zoom to here"})]})]})})()]},It)});let or;t[73]!==Vr||t[74]!==Fr?(or=A.jsx("div",{className:Us,children:A.jsx("div",{className:tr,style:Vr,children:Fr})}),t[73]=Vr,t[74]=Fr,t[75]=or):or=t[75];let Ei;t[76]!==Ir||t[77]!==n.channelId||t[78]!==Dn||t[79]!==nt||t[80]!==ze||t[81]!==We?(Ei=n.channelId&&Dn&&(()=>{const xt=Ir/1e3,It=ze>0?16+(xt-We)/ze*nt:16;return A.jsxs("div",{className:"absolute w-0.5 bg-primary pointer-events-none z-30",style:{left:`${It}px`,top:4,bottom:4},children:[A.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-primary rounded-sm"}),A.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-primary rounded-sm"})]})})(),t[76]=Ir,t[77]=n.channelId,t[78]=Dn,t[79]=nt,t[80]=ze,t[81]=We,t[82]=Ei):Ei=t[82];let ji;t[83]!==nt||t[84]!==ze||t[85]!==We?(ji=A.jsx(u$,{viewStart:We,viewDurationMs:ze,timelineWidth:nt}),t[83]=nt,t[84]=ze,t[85]=We,t[86]=ji):ji=t[86];let ui;t[87]!==De||t[88]!==mt||t[89]!==Se||t[90]!==ee||t[91]!==mi||t[92]!==za||t[93]!==Br||t[94]!==as||t[95]!==or||t[96]!==Ei||t[97]!==ji?(ui=A.jsxs("div",{ref:mi,onMouseDown:De,onMouseMove:Se,onMouseUp:ee,onMouseLeave:mt,className:za,children:[Br,as,or,Ei,ji]}),t[87]=De,t[88]=mt,t[89]=Se,t[90]=ee,t[91]=mi,t[92]=za,t[93]=Br,t[94]=as,t[95]=or,t[96]=Ei,t[97]=ji,t[98]=ui):ui=t[98];let gi;t[99]!==R?(gi=()=>R(null),t[99]=R,t[100]=gi):gi=t[100];let Ki;t[101]===Symbol.for("react.memo_cache_sentinel")?(Ki=A.jsx($D,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"}),t[101]=Ki):Ki=t[101];let Cs;t[102]!==gi?(Cs=A.jsx("button",{onClick:gi,className:"shrink-0 px-2 py-1 border-l border-border hover:bg-muted transition-colors",title:"Reset zoom to fit all data",children:Ki}),t[102]=gi,t[103]=Cs):Cs=t[103];let As;return t[104]!==nn||t[105]!==ss||t[106]!==ui||t[107]!==Cs?(As=A.jsxs("div",{className:Fn,style:nn,children:[ss,ui,Cs]}),t[104]=nn,t[105]=ss,t[106]=ui,t[107]=Cs,t[108]=As):As=t[108],As}function Kz(t){return t.length*7+20}function Hz(t){return t.channelType==="image_collection"}function Gz(t){return t.nFrames===1}function qz(t){return t.sourceType==="panorama"}function Qz(t){return t.channelType==="video"||t.channelType==="mediabunny_video"||t.channelType==="livestream"}function Jz(t,e){const n=t.nFrames,r=t.endEpochTimeMillis-t.startEpochTimeMillis,i=Xu(r),a=t.sourceType!=="unknown"?t.sourceType.charAt(0).toUpperCase()+t.sourceType.slice(1):null;return n===1?a?`${a} (1 frame)`:"(1 frame)":e==="short"?a?`${a}: ${i}`:i:a?`${a}: ${i} (${n} frames)`:`${i} (${n} frames)`}function e$(t){return t.sourceType==="panorama"?RT:t.channelType==="livestream"?n0:t.channelType==="image_collection"?t.nFrames===1?iY:r_:n0}function t$(t){return Zz[t]||"?"}function n$(t){return t.sourceType}function r$(t){const e=["border-neutral-400/60","border-neutral-500/60","border-neutral-600/60","border-neutral-500/60"];return e[t%e.length]}function i$(t){const e=["bg-neutral-300/40","bg-neutral-400/40","bg-neutral-500/40","bg-neutral-400/40"];return e[t%e.length]}function s$(t){return t.endEpochTimeMillis}function a$(t){return t.startEpochTimeMillis}function o$(t){return t.startEpochTimeMillis>0&&!isNaN(t.startEpochTimeMillis)&&t.endEpochTimeMillis>0&&!isNaN(t.endEpochTimeMillis)}function l$(t){const e=_t.c(32),{tracksWithLanes:n,chunkStartMs:r,chunkDurationMs:i,overlayTotalWidth:a,barPadding:o,laneHeight:l,scrollY:u}=t,f=Jt(c2),p=bn(dw),h=W0();let m;if(e[0]!==n){m=new Map;for(const{track:M,lane:U}of n)m.set(M.channelId,U);e[0]=n,e[1]=m}else m=e[1];const g=m;let _;e[2]!==n?(_=new Set(n.map(c$)),e[2]=n,e[3]=_):_=e[3];const v=_;let S;if(e[4]!==f||e[5]!==g||e[6]!==i||e[7]!==r||e[8]!==v||e[9]!==a||e[10]!==h){let M;e[12]!==g||e[13]!==i||e[14]!==r||e[15]!==v||e[16]!==a||e[17]!==h?(M=U=>{if(!v.has(U.channelId))return null;const W=g.get(U.channelId);if(W===void 0)return null;const w=h.get(gn(U.channelId));if(!w)return null;const P=(w.timeStartEpochUs+U.timestampChannelUs)/1e3;if(P<r||P>r+i)return null;const O=i>0?(P-r)/i*a:0;return{bookmark:U,xPosition:O,lane:W}},e[12]=g,e[13]=i,e[14]=r,e[15]=v,e[16]=a,e[17]=h,e[18]=M):M=e[18],S=f.map(M).filter(Boolean),e[4]=f,e[5]=g,e[6]=i,e[7]=r,e[8]=v,e[9]=a,e[10]=h,e[11]=S}else S=e[11];const b=S;if(b.length===0)return null;let Y;if(e[19]!==o||e[20]!==b||e[21]!==l||e[22]!==p||e[23]!==u){let M;e[25]!==o||e[26]!==l||e[27]!==p||e[28]!==u?(M=U=>{const{bookmark:W,xPosition:w,lane:I}=U;return A.jsxs(e2,{children:[A.jsx(t2,{asChild:!0,children:A.jsx("div",{className:"absolute cursor-pointer z-20",style:{left:`${o+w}px`,top:`${I*l+2-u}px`,height:`${l-4}px`,width:3,marginLeft:-1,background:"repeating-linear-gradient(to bottom, black 0px, black 2px, white 2px, white 4px)"},onClick:P=>{P.stopPropagation(),p(W.id)},children:A.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-neutral-200 dark:bg-neutral-700 border border-neutral-500 rounded-sm flex items-center justify-center",children:A.jsx(L_,{className:"w-2 h-2 text-neutral-600 dark:text-neutral-300",strokeWidth:2})})})}),A.jsx(n2,{side:"top",sideOffset:4,className:"z-[10001]",children:W.name})]},W.id)},e[25]=o,e[26]=l,e[27]=p,e[28]=u,e[29]=M):M=e[29],Y=b.map(M),e[19]=o,e[20]=b,e[21]=l,e[22]=p,e[23]=u,e[24]=Y}else Y=e[24];let E;return e[30]!==Y?(E=A.jsx(A.Fragment,{children:Y}),e[30]=Y,e[31]=E):E=e[31],E}function c$(t){return t.track.channelId}function u$(t){const e=_t.c(18),{viewStart:n,viewDurationMs:r,timelineWidth:i}=t,a=Jt(c2),o=bn(dw),l=W0();let u;if(e[0]!==a||e[1]!==l||e[2]!==i||e[3]!==r||e[4]!==n){let m;e[6]!==l||e[7]!==i||e[8]!==r||e[9]!==n?(m=g=>{const _=l.get(gn(g.channelId));if(!_)return null;const S=(_.timeStartEpochUs+g.timestampChannelUs)/1e3;if(S<n||S>n+r)return null;const b=r>0?16+(S-n)/r*i:16;return{bookmark:g,position:b}},e[6]=l,e[7]=i,e[8]=r,e[9]=n,e[10]=m):m=e[10],u=a.map(m).filter(Boolean),e[0]=a,e[1]=l,e[2]=i,e[3]=r,e[4]=n,e[5]=u}else u=e[5];const f=u;if(f.length===0)return null;let p;if(e[11]!==f||e[12]!==o){let m;e[14]!==o?(m=g=>{const{bookmark:_,position:v}=g;return A.jsxs(e2,{children:[A.jsx(t2,{asChild:!0,children:A.jsx("div",{className:"absolute cursor-pointer z-20 group",style:{left:`${v}px`,top:4,bottom:4,width:3,marginLeft:-1,background:"repeating-linear-gradient(to bottom, black 0px, black 3px, white 3px, white 6px)"},onClick:()=>o(_.id),children:A.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-neutral-200 dark:bg-neutral-700 border border-neutral-500 rounded-sm flex items-center justify-center",children:A.jsx(L_,{className:"w-2.5 h-2.5 text-neutral-600 dark:text-neutral-300",strokeWidth:2})})})}),A.jsx(n2,{side:"top",sideOffset:4,className:"z-[10001]",children:_.name})]},_.id)},e[14]=o,e[15]=m):m=e[15],p=f.map(m),e[11]=f,e[12]=o,e[13]=p}else p=e[13];let h;return e[16]!==p?(h=A.jsx(A.Fragment,{children:p}),e[16]=p,e[17]=h):h=e[17],h}function f$(t,e){const{channelId:n,selectionSource:r}=Jt(wn),i=B.useRef(n),a=B.useCallback(e,[e]);B.useEffect(()=>{n&&n!==i.current&&r!==t&&a(n),i.current=n},[n,r,t,a])}var Jy={},Wv={exports:{}},d$=Wv.exports,RU;function h$(){return RU||(RU=1,(function(t){(function(e){n(Math.pow(36,5)),n(Math.pow(16,7)),n(Math.pow(10,9)),n(Math.pow(2,30)),n(36),n(16),n(10),n(2);function n(o,l){if(!(this instanceof n))return new n(o,l);if(this._low=0,this._high=0,this.remainder=null,typeof l>"u")return i.call(this,o);if(typeof o=="string")return a.call(this,o,l);r.call(this,o,l)}function r(o,l){return this._low=o|0,this._high=l|0,this}n.prototype.fromBits=r;function i(o){return this._low=o&65535,this._high=o>>>16,this}n.prototype.fromNumber=i;function a(o,l){var u=parseInt(o,l||10);return this._low=u&65535,this._high=u>>>16,this}n.prototype.fromString=a,n.prototype.toNumber=function(){return this._high*65536+this._low},n.prototype.toString=function(o){return this.toNumber().toString(o||10)},n.prototype.add=function(o){var l=this._low+o._low,u=l>>>16;return u+=this._high+o._high,this._low=l&65535,this._high=u&65535,this},n.prototype.subtract=function(o){return this.add(o.clone().negate())},n.prototype.multiply=function(o){var l=this._high,u=this._low,f=o._high,p=o._low,h,m;return m=u*p,h=m>>>16,h+=l*p,h&=65535,h+=u*f,this._low=m&65535,this._high=h&65535,this},n.prototype.div=function(o){if(o._low==0&&o._high==0)throw Error("division by zero");if(o._high==0&&o._low==1)return this.remainder=new n(0),this;if(o.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(o))return this.remainder=new n(0),this._low=1,this._high=0,this;for(var l=o.clone(),u=-1;!this.lt(l);)l.shiftLeft(1,!0),u++;for(this.remainder=this.clone(),this._low=0,this._high=0;u>=0;u--)l.shiftRight(1),this.remainder.lt(l)||(this.remainder.subtract(l),u>=16?this._high|=1<<u-16:this._low|=1<<u);return this},n.prototype.negate=function(){var o=(~this._low&65535)+1;return this._low=o&65535,this._high=~this._high+(o>>>16)&65535,this},n.prototype.equals=n.prototype.eq=function(o){return this._low==o._low&&this._high==o._high},n.prototype.greaterThan=n.prototype.gt=function(o){return this._high>o._high?!0:this._high<o._high?!1:this._low>o._low},n.prototype.lessThan=n.prototype.lt=function(o){return this._high<o._high?!0:this._high>o._high?!1:this._low<o._low},n.prototype.or=function(o){return this._low|=o._low,this._high|=o._high,this},n.prototype.and=function(o){return this._low&=o._low,this._high&=o._high,this},n.prototype.not=function(){return this._low=~this._low&65535,this._high=~this._high&65535,this},n.prototype.xor=function(o){return this._low^=o._low,this._high^=o._high,this},n.prototype.shiftRight=n.prototype.shiftr=function(o){return o>16?(this._low=this._high>>o-16,this._high=0):o==16?(this._low=this._high,this._high=0):(this._low=this._low>>o|this._high<<16-o&65535,this._high>>=o),this},n.prototype.shiftLeft=n.prototype.shiftl=function(o,l){return o>16?(this._high=this._low<<o-16,this._low=0,l||(this._high&=65535)):o==16?(this._high=this._low,this._low=0):(this._high=this._high<<o|this._low>>16-o,this._low=this._low<<o&65535,l||(this._high&=65535)),this},n.prototype.rotateLeft=n.prototype.rotl=function(o){var l=this._high<<16|this._low;return l=l<<o|l>>>32-o,this._low=l&65535,this._high=l>>>16,this},n.prototype.rotateRight=n.prototype.rotr=function(o){var l=this._high<<16|this._low;return l=l>>>o|l<<32-o,this._low=l&65535,this._high=l>>>16,this},n.prototype.clone=function(){return new n(this._low,this._high)},t.exports?t.exports=n:e.UINT32=n})(d$)})(Wv)),Wv.exports}var Ev={exports:{}},p$=Ev.exports,XU;function m$(){return XU||(XU=1,(function(t){(function(e){var n={16:i(Math.pow(16,5)),10:i(Math.pow(10,5)),2:i(Math.pow(2,5))},r={16:i(16),10:i(10),2:i(2)};function i(u,f,p,h){if(!(this instanceof i))return new i(u,f,p,h);if(this.remainder=null,typeof u=="string")return l.call(this,u,f);if(typeof f>"u")return o.call(this,u);a.apply(this,arguments)}function a(u,f,p,h){return typeof p>"u"?(this._a00=u&65535,this._a16=u>>>16,this._a32=f&65535,this._a48=f>>>16,this):(this._a00=u|0,this._a16=f|0,this._a32=p|0,this._a48=h|0,this)}i.prototype.fromBits=a;function o(u){return this._a00=u&65535,this._a16=u>>>16,this._a32=0,this._a48=0,this}i.prototype.fromNumber=o;function l(u,f){f=f||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var p=n[f]||new i(Math.pow(f,5)),h=0,m=u.length;h<m;h+=5){var g=Math.min(5,m-h),_=parseInt(u.slice(h,h+g),f);this.multiply(g<5?new i(Math.pow(f,g)):p).add(new i(_))}return this}i.prototype.fromString=l,i.prototype.toNumber=function(){return this._a16*65536+this._a00},i.prototype.toString=function(u){u=u||10;var f=r[u]||new i(u);if(!this.gt(f))return this.toNumber().toString(u);for(var p=this.clone(),h=new Array(64),m=63;m>=0&&(p.div(f),h[m]=p.remainder.toNumber().toString(u),!!p.gt(f));m--);return h[m-1]=p.toNumber().toString(u),h.join("")},i.prototype.add=function(u){var f=this._a00+u._a00,p=f>>>16;p+=this._a16+u._a16;var h=p>>>16;h+=this._a32+u._a32;var m=h>>>16;return m+=this._a48+u._a48,this._a00=f&65535,this._a16=p&65535,this._a32=h&65535,this._a48=m&65535,this},i.prototype.subtract=function(u){return this.add(u.clone().negate())},i.prototype.multiply=function(u){var f=this._a00,p=this._a16,h=this._a32,m=this._a48,g=u._a00,_=u._a16,v=u._a32,S=u._a48,b=f*g,Y=b>>>16;Y+=f*_;var E=Y>>>16;Y&=65535,Y+=p*g,E+=Y>>>16,E+=f*v;var M=E>>>16;return E&=65535,E+=p*_,M+=E>>>16,E&=65535,E+=h*g,M+=E>>>16,M+=f*S,M&=65535,M+=p*v,M&=65535,M+=h*_,M&=65535,M+=m*g,this._a00=b&65535,this._a16=Y&65535,this._a32=E&65535,this._a48=M&65535,this},i.prototype.div=function(u){if(u._a16==0&&u._a32==0&&u._a48==0){if(u._a00==0)throw Error("division by zero");if(u._a00==1)return this.remainder=new i(0),this}if(u.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(u))return this.remainder=new i(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var f=u.clone(),p=-1;!this.lt(f);)f.shiftLeft(1,!0),p++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;p>=0;p--)f.shiftRight(1),this.remainder.lt(f)||(this.remainder.subtract(f),p>=48?this._a48|=1<<p-48:p>=32?this._a32|=1<<p-32:p>=16?this._a16|=1<<p-16:this._a00|=1<<p);return this},i.prototype.negate=function(){var u=(~this._a00&65535)+1;return this._a00=u&65535,u=(~this._a16&65535)+(u>>>16),this._a16=u&65535,u=(~this._a32&65535)+(u>>>16),this._a32=u&65535,this._a48=~this._a48+(u>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(u){return this._a48==u._a48&&this._a00==u._a00&&this._a32==u._a32&&this._a16==u._a16},i.prototype.greaterThan=i.prototype.gt=function(u){return this._a48>u._a48?!0:this._a48<u._a48?!1:this._a32>u._a32?!0:this._a32<u._a32?!1:this._a16>u._a16?!0:this._a16<u._a16?!1:this._a00>u._a00},i.prototype.lessThan=i.prototype.lt=function(u){return this._a48<u._a48?!0:this._a48>u._a48?!1:this._a32<u._a32?!0:this._a32>u._a32?!1:this._a16<u._a16?!0:this._a16>u._a16?!1:this._a00<u._a00},i.prototype.or=function(u){return this._a00|=u._a00,this._a16|=u._a16,this._a32|=u._a32,this._a48|=u._a48,this},i.prototype.and=function(u){return this._a00&=u._a00,this._a16&=u._a16,this._a32&=u._a32,this._a48&=u._a48,this},i.prototype.xor=function(u){return this._a00^=u._a00,this._a16^=u._a16,this._a32^=u._a32,this._a48^=u._a48,this},i.prototype.not=function(){return this._a00=~this._a00&65535,this._a16=~this._a16&65535,this._a32=~this._a32&65535,this._a48=~this._a48&65535,this},i.prototype.shiftRight=i.prototype.shiftr=function(u){return u%=64,u>=48?(this._a00=this._a48>>u-48,this._a16=0,this._a32=0,this._a48=0):u>=32?(u-=32,this._a00=(this._a32>>u|this._a48<<16-u)&65535,this._a16=this._a48>>u&65535,this._a32=0,this._a48=0):u>=16?(u-=16,this._a00=(this._a16>>u|this._a32<<16-u)&65535,this._a16=(this._a32>>u|this._a48<<16-u)&65535,this._a32=this._a48>>u&65535,this._a48=0):(this._a00=(this._a00>>u|this._a16<<16-u)&65535,this._a16=(this._a16>>u|this._a32<<16-u)&65535,this._a32=(this._a32>>u|this._a48<<16-u)&65535,this._a48=this._a48>>u&65535),this},i.prototype.shiftLeft=i.prototype.shiftl=function(u,f){return u%=64,u>=48?(this._a48=this._a00<<u-48,this._a32=0,this._a16=0,this._a00=0):u>=32?(u-=32,this._a48=this._a16<<u|this._a00>>16-u,this._a32=this._a00<<u&65535,this._a16=0,this._a00=0):u>=16?(u-=16,this._a48=this._a32<<u|this._a16>>16-u,this._a32=(this._a16<<u|this._a00>>16-u)&65535,this._a16=this._a00<<u&65535,this._a00=0):(this._a48=this._a48<<u|this._a32>>16-u,this._a32=(this._a32<<u|this._a16>>16-u)&65535,this._a16=(this._a16<<u|this._a00>>16-u)&65535,this._a00=this._a00<<u&65535),f||(this._a48&=65535),this},i.prototype.rotateLeft=i.prototype.rotl=function(u){if(u%=64,u==0)return this;if(u>=32){var f=this._a00;if(this._a00=this._a32,this._a32=f,f=this._a48,this._a48=this._a16,this._a16=f,u==32)return this;u-=32}var p=this._a48<<16|this._a32,h=this._a16<<16|this._a00,m=p<<u|h>>>32-u,g=h<<u|p>>>32-u;return this._a00=g&65535,this._a16=g>>>16,this._a32=m&65535,this._a48=m>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(u){if(u%=64,u==0)return this;if(u>=32){var f=this._a00;if(this._a00=this._a32,this._a32=f,f=this._a48,this._a48=this._a16,this._a16=f,u==32)return this;u-=32}var p=this._a48<<16|this._a32,h=this._a16<<16|this._a00,m=p>>>u|h<<32-u,g=h>>>u|p<<32-u;return this._a00=g&65535,this._a16=g>>>16,this._a32=m&65535,this._a48=m>>>16,this},i.prototype.clone=function(){return new i(this._a00,this._a16,this._a32,this._a48)},t.exports?t.exports=i:e.UINT64=i})(p$)})(Ev)),Ev.exports}var PU;function D6(){return PU||(PU=1,Jy.UINT32=h$(),Jy.UINT64=m$()),Jy}var lx,MU;function g$(){if(MU)return lx;MU=1;var t=D6().UINT32;t.prototype.xxh_update=function(f,p){var h=n._low,m=n._high,g,_;_=f*h,g=_>>>16,g+=p*h,g&=65535,g+=f*m;var v=this._low+(_&65535),S=v>>>16;S+=this._high+(g&65535);var b=S<<16|v&65535;b=b<<13|b>>>19,v=b&65535,S=b>>>16,h=e._low,m=e._high,_=v*h,g=_>>>16,g+=S*h,g&=65535,g+=v*m,this._low=_&65535,this._high=g&65535};var e=t("2654435761"),n=t("2246822519"),r=t("3266489917"),i=t("668265263"),a=t("374761393");function o(f){for(var p=[],h=0,m=f.length;h<m;h++){var g=f.charCodeAt(h);g<128?p.push(g):g<2048?p.push(192|g>>6,128|g&63):g<55296||g>=57344?p.push(224|g>>12,128|g>>6&63,128|g&63):(h++,g=65536+((g&1023)<<10|f.charCodeAt(h)&1023),p.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}return new Uint8Array(p)}function l(){if(arguments.length==2)return new l(arguments[1]).update(arguments[0]).digest();if(!(this instanceof l))return new l(arguments[0]);u.call(this,arguments[0])}function u(f){return this.seed=f instanceof t?f.clone():t(f),this.v1=this.seed.clone().add(e).add(n),this.v2=this.seed.clone().add(n),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(e),this.total_len=0,this.memsize=0,this.memory=null,this}return l.prototype.init=u,l.prototype.update=function(f){var p=typeof f=="string",h;p&&(f=o(f),p=!1,h=!0),typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer&&(h=!0,f=new Uint8Array(f));var m=0,g=f.length,_=m+g;if(g==0)return this;if(this.total_len+=g,this.memsize==0&&(p?this.memory="":h?this.memory=new Uint8Array(16):this.memory=new Buffer(16)),this.memsize+g<16)return p?this.memory+=f:h?this.memory.set(f.subarray(0,g),this.memsize):f.copy(this.memory,this.memsize,0,g),this.memsize+=g,this;if(this.memsize>0){p?this.memory+=f.slice(0,16-this.memsize):h?this.memory.set(f.subarray(0,16-this.memsize),this.memsize):f.copy(this.memory,this.memsize,0,16-this.memsize);var v=0;p?(this.v1.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v2.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v3.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v4.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2))):(this.v1.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v2.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v3.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v4.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2])),m+=16-this.memsize,this.memsize=0,p&&(this.memory="")}if(m<=_-16){var S=_-16;do p?(this.v1.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v2.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v3.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v4.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2))):(this.v1.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v2.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v3.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v4.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2])),m+=4;while(m<=S)}return m<_&&(p?this.memory+=f.slice(m):h?this.memory.set(f.subarray(m,_),this.memsize):f.copy(this.memory,this.memsize,m,_),this.memsize=_-m),this},l.prototype.digest=function(){var f=this.memory,p=typeof f=="string",h=0,m=this.memsize,g,_,v=new t;for(this.total_len>=16?g=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):g=this.seed.clone().add(a),g.add(v.fromNumber(this.total_len));h<=m-4;)p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2)):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2]),g.add(v.multiply(r)).rotl(17).multiply(i),h+=4;for(;h<m;)v.fromBits(p?f.charCodeAt(h++):f[h++],0),g.add(v.multiply(a)).rotl(11).multiply(e);return _=g.clone().shiftRight(15),g.xor(_).multiply(n),_=g.clone().shiftRight(13),g.xor(_).multiply(r),_=g.clone().shiftRight(16),g.xor(_),this.init(this.seed),g},lx=l,lx}var cx,NU;function y$(){if(NU)return cx;NU=1;var t=D6().UINT64,e=t("11400714785074694791"),n=t("14029467366897019727"),r=t("1609587929392839161"),i=t("9650029242287828579"),a=t("2870177450012600261");function o(f){for(var p=[],h=0,m=f.length;h<m;h++){var g=f.charCodeAt(h);g<128?p.push(g):g<2048?p.push(192|g>>6,128|g&63):g<55296||g>=57344?p.push(224|g>>12,128|g>>6&63,128|g&63):(h++,g=65536+((g&1023)<<10|f.charCodeAt(h)&1023),p.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}return new Uint8Array(p)}function l(){if(arguments.length==2)return new l(arguments[1]).update(arguments[0]).digest();if(!(this instanceof l))return new l(arguments[0]);u.call(this,arguments[0])}function u(f){return this.seed=f instanceof t?f.clone():t(f),this.v1=this.seed.clone().add(e).add(n),this.v2=this.seed.clone().add(n),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(e),this.total_len=0,this.memsize=0,this.memory=null,this}return l.prototype.init=u,l.prototype.update=function(f){var p=typeof f=="string",h;p&&(f=o(f),p=!1,h=!0),typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer&&(h=!0,f=new Uint8Array(f));var m=0,g=f.length,_=m+g;if(g==0)return this;if(this.total_len+=g,this.memsize==0&&(p?this.memory="":h?this.memory=new Uint8Array(32):this.memory=new Buffer(32)),this.memsize+g<32)return p?this.memory+=f:h?this.memory.set(f.subarray(0,g),this.memsize):f.copy(this.memory,this.memsize,0,g),this.memsize+=g,this;if(this.memsize>0){p?this.memory+=f.slice(0,32-this.memsize):h?this.memory.set(f.subarray(0,32-this.memsize),this.memsize):f.copy(this.memory,this.memsize,0,32-this.memsize);var v=0;if(p){var S;S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v1.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v2.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v3.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}else{var S;S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v1.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v2.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v3.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}m+=32-this.memsize,this.memsize=0,p&&(this.memory="")}if(m<=_-32){var b=_-32;do{if(p){var S;S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v1.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v2.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v3.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}else{var S;S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v1.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v2.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v3.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}m+=8}while(m<=b)}return m<_&&(p?this.memory+=f.slice(m):h?this.memory.set(f.subarray(m,_),this.memsize):f.copy(this.memory,this.memsize,m,_),this.memsize=_-m),this},l.prototype.digest=function(){var f=this.memory,p=typeof f=="string",h=0,m=this.memsize,g,_,v=new t;for(this.total_len>=32?(g=this.v1.clone().rotl(1),g.add(this.v2.clone().rotl(7)),g.add(this.v3.clone().rotl(12)),g.add(this.v4.clone().rotl(18)),g.xor(this.v1.multiply(n).rotl(31).multiply(e)),g.multiply(e).add(i),g.xor(this.v2.multiply(n).rotl(31).multiply(e)),g.multiply(e).add(i),g.xor(this.v3.multiply(n).rotl(31).multiply(e)),g.multiply(e).add(i),g.xor(this.v4.multiply(n).rotl(31).multiply(e)),g.multiply(e).add(i)):g=this.seed.clone().add(a),g.add(v.fromNumber(this.total_len));h<=m-8;)p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2),f.charCodeAt(h+5)<<8|f.charCodeAt(h+4),f.charCodeAt(h+7)<<8|f.charCodeAt(h+6)):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2],f[h+5]<<8|f[h+4],f[h+7]<<8|f[h+6]),v.multiply(n).rotl(31).multiply(e),g.xor(v).rotl(27).multiply(e).add(i),h+=8;for(h+4<=m&&(p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2),0,0):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2],0,0),g.xor(v.multiply(e)).rotl(23).multiply(n).add(r),h+=4);h<m;)v.fromBits(p?f.charCodeAt(h++):f[h++],0,0,0),g.xor(v.multiply(a)).rotl(11).multiply(e);return _=g.clone().shiftRight(33),g.xor(_).multiply(n),_=g.clone().shiftRight(29),g.xor(_).multiply(r),_=g.clone().shiftRight(32),g.xor(_),this.init(this.seed),g},cx=l,cx}var ux,OU;function v$(){return OU||(OU=1,ux={h32:g$(),h64:y$()}),ux}var _$=v$();const S$=Co(_$);function Rg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fx={exports:{}},dx={},DU;function Pl(){return DU||(DU=1,(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)n(l,u)&&(a[u]=l[u])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var r={arraySet:function(a,o,l,u,f){if(o.subarray&&a.subarray){a.set(o.subarray(l,l+u),f);return}for(var p=0;p<u;p++)a[f+p]=o[l+p]},flattenChunks:function(a){var o,l,u,f,p,h;for(u=0,o=0,l=a.length;o<l;o++)u+=a[o].length;for(h=new Uint8Array(u),f=0,o=0,l=a.length;o<l;o++)p=a[o],h.set(p,f),f+=p.length;return h}},i={arraySet:function(a,o,l,u,f){for(var p=0;p<u;p++)a[f+p]=o[l+p]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(dx)),dx}var Su={},ra={},oc={},BU;function b$(){if(BU)return oc;BU=1;var t=Pl(),e=4,n=0,r=1,i=2;function a(oe){for(var tt=oe.length;--tt>=0;)oe[tt]=0}var o=0,l=1,u=2,f=3,p=258,h=29,m=256,g=m+1+h,_=30,v=19,S=2*g+1,b=15,Y=16,E=7,M=256,U=16,W=17,w=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=512,F=new Array((g+2)*2);a(F);var R=new Array(_*2);a(R);var K=new Array(N);a(K);var Z=new Array(p-f+1);a(Z);var G=new Array(h);a(G);var q=new Array(_);a(q);function Q(oe,tt,De,it,Se){this.static_tree=oe,this.extra_bits=tt,this.extra_base=De,this.elems=it,this.max_length=Se,this.has_stree=oe&&oe.length}var ue,j,te;function fe(oe,tt){this.dyn_tree=oe,this.max_code=0,this.stat_desc=tt}function J(oe){return oe<256?K[oe]:K[256+(oe>>>7)]}function re(oe,tt){oe.pending_buf[oe.pending++]=tt&255,oe.pending_buf[oe.pending++]=tt>>>8&255}function ae(oe,tt,De){oe.bi_valid>Y-De?(oe.bi_buf|=tt<<oe.bi_valid&65535,re(oe,oe.bi_buf),oe.bi_buf=tt>>Y-oe.bi_valid,oe.bi_valid+=De-Y):(oe.bi_buf|=tt<<oe.bi_valid&65535,oe.bi_valid+=De)}function de(oe,tt,De){ae(oe,De[tt*2],De[tt*2+1])}function pe(oe,tt){var De=0;do De|=oe&1,oe>>>=1,De<<=1;while(--tt>0);return De>>>1}function ve(oe){oe.bi_valid===16?(re(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):oe.bi_valid>=8&&(oe.pending_buf[oe.pending++]=oe.bi_buf&255,oe.bi_buf>>=8,oe.bi_valid-=8)}function $e(oe,tt){var De=tt.dyn_tree,it=tt.max_code,Se=tt.stat_desc.static_tree,xe=tt.stat_desc.has_stree,ee=tt.stat_desc.extra_bits,Je=tt.stat_desc.extra_base,mt=tt.stat_desc.max_length,X,Le,Ke,ie,ye,Me,wt=0;for(ie=0;ie<=b;ie++)oe.bl_count[ie]=0;for(De[oe.heap[oe.heap_max]*2+1]=0,X=oe.heap_max+1;X<S;X++)Le=oe.heap[X],ie=De[De[Le*2+1]*2+1]+1,ie>mt&&(ie=mt,wt++),De[Le*2+1]=ie,!(Le>it)&&(oe.bl_count[ie]++,ye=0,Le>=Je&&(ye=ee[Le-Je]),Me=De[Le*2],oe.opt_len+=Me*(ie+ye),xe&&(oe.static_len+=Me*(Se[Le*2+1]+ye)));if(wt!==0){do{for(ie=mt-1;oe.bl_count[ie]===0;)ie--;oe.bl_count[ie]--,oe.bl_count[ie+1]+=2,oe.bl_count[mt]--,wt-=2}while(wt>0);for(ie=mt;ie!==0;ie--)for(Le=oe.bl_count[ie];Le!==0;)Ke=oe.heap[--X],!(Ke>it)&&(De[Ke*2+1]!==ie&&(oe.opt_len+=(ie-De[Ke*2+1])*De[Ke*2],De[Ke*2+1]=ie),Le--)}}function Pe(oe,tt,De){var it=new Array(b+1),Se=0,xe,ee;for(xe=1;xe<=b;xe++)it[xe]=Se=Se+De[xe-1]<<1;for(ee=0;ee<=tt;ee++){var Je=oe[ee*2+1];Je!==0&&(oe[ee*2]=pe(it[Je]++,Je))}}function Ye(){var oe,tt,De,it,Se,xe=new Array(b+1);for(De=0,it=0;it<h-1;it++)for(G[it]=De,oe=0;oe<1<<I[it];oe++)Z[De++]=it;for(Z[De-1]=it,Se=0,it=0;it<16;it++)for(q[it]=Se,oe=0;oe<1<<P[it];oe++)K[Se++]=it;for(Se>>=7;it<_;it++)for(q[it]=Se<<7,oe=0;oe<1<<P[it]-7;oe++)K[256+Se++]=it;for(tt=0;tt<=b;tt++)xe[tt]=0;for(oe=0;oe<=143;)F[oe*2+1]=8,oe++,xe[8]++;for(;oe<=255;)F[oe*2+1]=9,oe++,xe[9]++;for(;oe<=279;)F[oe*2+1]=7,oe++,xe[7]++;for(;oe<=287;)F[oe*2+1]=8,oe++,xe[8]++;for(Pe(F,g+1,xe),oe=0;oe<_;oe++)R[oe*2+1]=5,R[oe*2]=pe(oe,5);ue=new Q(F,I,m+1,g,b),j=new Q(R,P,0,_,b),te=new Q(new Array(0),O,0,v,E)}function Oe(oe){var tt;for(tt=0;tt<g;tt++)oe.dyn_ltree[tt*2]=0;for(tt=0;tt<_;tt++)oe.dyn_dtree[tt*2]=0;for(tt=0;tt<v;tt++)oe.bl_tree[tt*2]=0;oe.dyn_ltree[M*2]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function L(oe){oe.bi_valid>8?re(oe,oe.bi_buf):oe.bi_valid>0&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function Ue(oe,tt,De,it){L(oe),re(oe,De),re(oe,~De),t.arraySet(oe.pending_buf,oe.window,tt,De,oe.pending),oe.pending+=De}function be(oe,tt,De,it){var Se=tt*2,xe=De*2;return oe[Se]<oe[xe]||oe[Se]===oe[xe]&&it[tt]<=it[De]}function ce(oe,tt,De){for(var it=oe.heap[De],Se=De<<1;Se<=oe.heap_len&&(Se<oe.heap_len&&be(tt,oe.heap[Se+1],oe.heap[Se],oe.depth)&&Se++,!be(tt,it,oe.heap[Se],oe.depth));)oe.heap[De]=oe.heap[Se],De=Se,Se<<=1;oe.heap[De]=it}function se(oe,tt,De){var it,Se,xe=0,ee,Je;if(oe.last_lit!==0)do it=oe.pending_buf[oe.d_buf+xe*2]<<8|oe.pending_buf[oe.d_buf+xe*2+1],Se=oe.pending_buf[oe.l_buf+xe],xe++,it===0?de(oe,Se,tt):(ee=Z[Se],de(oe,ee+m+1,tt),Je=I[ee],Je!==0&&(Se-=G[ee],ae(oe,Se,Je)),it--,ee=J(it),de(oe,ee,De),Je=P[ee],Je!==0&&(it-=q[ee],ae(oe,it,Je)));while(xe<oe.last_lit);de(oe,M,tt)}function me(oe,tt){var De=tt.dyn_tree,it=tt.stat_desc.static_tree,Se=tt.stat_desc.has_stree,xe=tt.stat_desc.elems,ee,Je,mt=-1,X;for(oe.heap_len=0,oe.heap_max=S,ee=0;ee<xe;ee++)De[ee*2]!==0?(oe.heap[++oe.heap_len]=mt=ee,oe.depth[ee]=0):De[ee*2+1]=0;for(;oe.heap_len<2;)X=oe.heap[++oe.heap_len]=mt<2?++mt:0,De[X*2]=1,oe.depth[X]=0,oe.opt_len--,Se&&(oe.static_len-=it[X*2+1]);for(tt.max_code=mt,ee=oe.heap_len>>1;ee>=1;ee--)ce(oe,De,ee);X=xe;do ee=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],ce(oe,De,1),Je=oe.heap[1],oe.heap[--oe.heap_max]=ee,oe.heap[--oe.heap_max]=Je,De[X*2]=De[ee*2]+De[Je*2],oe.depth[X]=(oe.depth[ee]>=oe.depth[Je]?oe.depth[ee]:oe.depth[Je])+1,De[ee*2+1]=De[Je*2+1]=X,oe.heap[1]=X++,ce(oe,De,1);while(oe.heap_len>=2);oe.heap[--oe.heap_max]=oe.heap[1],$e(oe,tt),Pe(De,mt,oe.bl_count)}function Ne(oe,tt,De){var it,Se=-1,xe,ee=tt[1],Je=0,mt=7,X=4;for(ee===0&&(mt=138,X=3),tt[(De+1)*2+1]=65535,it=0;it<=De;it++)xe=ee,ee=tt[(it+1)*2+1],!(++Je<mt&&xe===ee)&&(Je<X?oe.bl_tree[xe*2]+=Je:xe!==0?(xe!==Se&&oe.bl_tree[xe*2]++,oe.bl_tree[U*2]++):Je<=10?oe.bl_tree[W*2]++:oe.bl_tree[w*2]++,Je=0,Se=xe,ee===0?(mt=138,X=3):xe===ee?(mt=6,X=3):(mt=7,X=4))}function ke(oe,tt,De){var it,Se=-1,xe,ee=tt[1],Je=0,mt=7,X=4;for(ee===0&&(mt=138,X=3),it=0;it<=De;it++)if(xe=ee,ee=tt[(it+1)*2+1],!(++Je<mt&&xe===ee)){if(Je<X)do de(oe,xe,oe.bl_tree);while(--Je!==0);else xe!==0?(xe!==Se&&(de(oe,xe,oe.bl_tree),Je--),de(oe,U,oe.bl_tree),ae(oe,Je-3,2)):Je<=10?(de(oe,W,oe.bl_tree),ae(oe,Je-3,3)):(de(oe,w,oe.bl_tree),ae(oe,Je-11,7));Je=0,Se=xe,ee===0?(mt=138,X=3):xe===ee?(mt=6,X=3):(mt=7,X=4)}}function ge(oe){var tt;for(Ne(oe,oe.dyn_ltree,oe.l_desc.max_code),Ne(oe,oe.dyn_dtree,oe.d_desc.max_code),me(oe,oe.bl_desc),tt=v-1;tt>=3&&oe.bl_tree[V[tt]*2+1]===0;tt--);return oe.opt_len+=3*(tt+1)+5+5+4,tt}function We(oe,tt,De,it){var Se;for(ae(oe,tt-257,5),ae(oe,De-1,5),ae(oe,it-4,4),Se=0;Se<it;Se++)ae(oe,oe.bl_tree[V[Se]*2+1],3);ke(oe,oe.dyn_ltree,tt-1),ke(oe,oe.dyn_dtree,De-1)}function et(oe){var tt=4093624447,De;for(De=0;De<=31;De++,tt>>>=1)if(tt&1&&oe.dyn_ltree[De*2]!==0)return n;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return r;for(De=32;De<m;De++)if(oe.dyn_ltree[De*2]!==0)return r;return n}var ze=!1;function nt(oe){ze||(Ye(),ze=!0),oe.l_desc=new fe(oe.dyn_ltree,ue),oe.d_desc=new fe(oe.dyn_dtree,j),oe.bl_desc=new fe(oe.bl_tree,te),oe.bi_buf=0,oe.bi_valid=0,Oe(oe)}function Mt(oe,tt,De,it){ae(oe,(o<<1)+(it?1:0),3),Ue(oe,tt,De)}function pt(oe){ae(oe,l<<1,3),de(oe,M,F),ve(oe)}function Ft(oe,tt,De,it){var Se,xe,ee=0;oe.level>0?(oe.strm.data_type===i&&(oe.strm.data_type=et(oe)),me(oe,oe.l_desc),me(oe,oe.d_desc),ee=ge(oe),Se=oe.opt_len+3+7>>>3,xe=oe.static_len+3+7>>>3,xe<=Se&&(Se=xe)):Se=xe=De+5,De+4<=Se&&tt!==-1?Mt(oe,tt,De,it):oe.strategy===e||xe===Se?(ae(oe,(l<<1)+(it?1:0),3),se(oe,F,R)):(ae(oe,(u<<1)+(it?1:0),3),We(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,ee+1),se(oe,oe.dyn_ltree,oe.dyn_dtree)),Oe(oe),it&&L(oe)}function sn(oe,tt,De){return oe.pending_buf[oe.d_buf+oe.last_lit*2]=tt>>>8&255,oe.pending_buf[oe.d_buf+oe.last_lit*2+1]=tt&255,oe.pending_buf[oe.l_buf+oe.last_lit]=De&255,oe.last_lit++,tt===0?oe.dyn_ltree[De*2]++:(oe.matches++,tt--,oe.dyn_ltree[(Z[De]+m+1)*2]++,oe.dyn_dtree[J(tt)*2]++),oe.last_lit===oe.lit_bufsize-1}return oc._tr_init=nt,oc._tr_stored_block=Mt,oc._tr_flush_block=Ft,oc._tr_tally=sn,oc._tr_align=pt,oc}var hx,VU;function B6(){if(VU)return hx;VU=1;function t(e,n,r,i){for(var a=e&65535|0,o=e>>>16&65535|0,l=0;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+n[i++]|0,o=o+a|0;while(--l);a%=65521,o%=65521}return a|o<<16|0}return hx=t,hx}var px,FU;function V6(){if(FU)return px;FU=1;function t(){for(var r,i=[],a=0;a<256;a++){r=a;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;i[a]=r}return i}var e=t();function n(r,i,a,o){var l=e,u=o+a;r^=-1;for(var f=o;f<u;f++)r=r>>>8^l[(r^i[f])&255];return r^-1}return px=n,px}var mx,LU;function hw(){return LU||(LU=1,mx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),mx}var ZU;function x$(){if(ZU)return ra;ZU=1;var t=Pl(),e=b$(),n=B6(),r=V6(),i=hw(),a=0,o=1,l=3,u=4,f=5,p=0,h=1,m=-2,g=-3,_=-5,v=-1,S=1,b=2,Y=3,E=4,M=0,U=2,W=8,w=9,I=15,P=8,O=29,V=256,N=V+1+O,F=30,R=19,K=2*N+1,Z=15,G=3,q=258,Q=q+G+1,ue=32,j=42,te=69,fe=73,J=91,re=103,ae=113,de=666,pe=1,ve=2,$e=3,Pe=4,Ye=3;function Oe(X,Le){return X.msg=i[Le],Le}function L(X){return(X<<1)-(X>4?9:0)}function Ue(X){for(var Le=X.length;--Le>=0;)X[Le]=0}function be(X){var Le=X.state,Ke=Le.pending;Ke>X.avail_out&&(Ke=X.avail_out),Ke!==0&&(t.arraySet(X.output,Le.pending_buf,Le.pending_out,Ke,X.next_out),X.next_out+=Ke,Le.pending_out+=Ke,X.total_out+=Ke,X.avail_out-=Ke,Le.pending-=Ke,Le.pending===0&&(Le.pending_out=0))}function ce(X,Le){e._tr_flush_block(X,X.block_start>=0?X.block_start:-1,X.strstart-X.block_start,Le),X.block_start=X.strstart,be(X.strm)}function se(X,Le){X.pending_buf[X.pending++]=Le}function me(X,Le){X.pending_buf[X.pending++]=Le>>>8&255,X.pending_buf[X.pending++]=Le&255}function Ne(X,Le,Ke,ie){var ye=X.avail_in;return ye>ie&&(ye=ie),ye===0?0:(X.avail_in-=ye,t.arraySet(Le,X.input,X.next_in,ye,Ke),X.state.wrap===1?X.adler=n(X.adler,Le,ye,Ke):X.state.wrap===2&&(X.adler=r(X.adler,Le,ye,Ke)),X.next_in+=ye,X.total_in+=ye,ye)}function ke(X,Le){var Ke=X.max_chain_length,ie=X.strstart,ye,Me,wt=X.prev_length,dt=X.nice_match,St=X.strstart>X.w_size-Q?X.strstart-(X.w_size-Q):0,kt=X.window,Un=X.w_mask,hn=X.prev,At=X.strstart+q,Zt=kt[ie+wt-1],Dn=kt[ie+wt];X.prev_length>=X.good_match&&(Ke>>=2),dt>X.lookahead&&(dt=X.lookahead);do if(ye=Le,!(kt[ye+wt]!==Dn||kt[ye+wt-1]!==Zt||kt[ye]!==kt[ie]||kt[++ye]!==kt[ie+1])){ie+=2,ye++;do;while(kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&kt[++ie]===kt[++ye]&&ie<At);if(Me=q-(At-ie),ie=At-q,Me>wt){if(X.match_start=Le,wt=Me,Me>=dt)break;Zt=kt[ie+wt-1],Dn=kt[ie+wt]}}while((Le=hn[Le&Un])>St&&--Ke!==0);return wt<=X.lookahead?wt:X.lookahead}function ge(X){var Le=X.w_size,Ke,ie,ye,Me,wt;do{if(Me=X.window_size-X.lookahead-X.strstart,X.strstart>=Le+(Le-Q)){t.arraySet(X.window,X.window,Le,Le,0),X.match_start-=Le,X.strstart-=Le,X.block_start-=Le,ie=X.hash_size,Ke=ie;do ye=X.head[--Ke],X.head[Ke]=ye>=Le?ye-Le:0;while(--ie);ie=Le,Ke=ie;do ye=X.prev[--Ke],X.prev[Ke]=ye>=Le?ye-Le:0;while(--ie);Me+=Le}if(X.strm.avail_in===0)break;if(ie=Ne(X.strm,X.window,X.strstart+X.lookahead,Me),X.lookahead+=ie,X.lookahead+X.insert>=G)for(wt=X.strstart-X.insert,X.ins_h=X.window[wt],X.ins_h=(X.ins_h<<X.hash_shift^X.window[wt+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[wt+G-1])&X.hash_mask,X.prev[wt&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=wt,wt++,X.insert--,!(X.lookahead+X.insert<G)););}while(X.lookahead<Q&&X.strm.avail_in!==0)}function We(X,Le){var Ke=65535;for(Ke>X.pending_buf_size-5&&(Ke=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ge(X),X.lookahead===0&&Le===a)return pe;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var ie=X.block_start+Ke;if((X.strstart===0||X.strstart>=ie)&&(X.lookahead=X.strstart-ie,X.strstart=ie,ce(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-Q&&(ce(X,!1),X.strm.avail_out===0))return pe}return X.insert=0,Le===u?(ce(X,!0),X.strm.avail_out===0?$e:Pe):(X.strstart>X.block_start&&(ce(X,!1),X.strm.avail_out===0),pe)}function et(X,Le){for(var Ke,ie;;){if(X.lookahead<Q){if(ge(X),X.lookahead<Q&&Le===a)return pe;if(X.lookahead===0)break}if(Ke=0,X.lookahead>=G&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+G-1])&X.hash_mask,Ke=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),Ke!==0&&X.strstart-Ke<=X.w_size-Q&&(X.match_length=ke(X,Ke)),X.match_length>=G)if(ie=e._tr_tally(X,X.strstart-X.match_start,X.match_length-G),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=G){X.match_length--;do X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+G-1])&X.hash_mask,Ke=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart;while(--X.match_length!==0);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else ie=e._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(ie&&(ce(X,!1),X.strm.avail_out===0))return pe}return X.insert=X.strstart<G-1?X.strstart:G-1,Le===u?(ce(X,!0),X.strm.avail_out===0?$e:Pe):X.last_lit&&(ce(X,!1),X.strm.avail_out===0)?pe:ve}function ze(X,Le){for(var Ke,ie,ye;;){if(X.lookahead<Q){if(ge(X),X.lookahead<Q&&Le===a)return pe;if(X.lookahead===0)break}if(Ke=0,X.lookahead>=G&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+G-1])&X.hash_mask,Ke=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=G-1,Ke!==0&&X.prev_length<X.max_lazy_match&&X.strstart-Ke<=X.w_size-Q&&(X.match_length=ke(X,Ke),X.match_length<=5&&(X.strategy===S||X.match_length===G&&X.strstart-X.match_start>4096)&&(X.match_length=G-1)),X.prev_length>=G&&X.match_length<=X.prev_length){ye=X.strstart+X.lookahead-G,ie=e._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-G),X.lookahead-=X.prev_length-1,X.prev_length-=2;do++X.strstart<=ye&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+G-1])&X.hash_mask,Ke=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart);while(--X.prev_length!==0);if(X.match_available=0,X.match_length=G-1,X.strstart++,ie&&(ce(X,!1),X.strm.avail_out===0))return pe}else if(X.match_available){if(ie=e._tr_tally(X,0,X.window[X.strstart-1]),ie&&ce(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return pe}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(ie=e._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<G-1?X.strstart:G-1,Le===u?(ce(X,!0),X.strm.avail_out===0?$e:Pe):X.last_lit&&(ce(X,!1),X.strm.avail_out===0)?pe:ve}function nt(X,Le){for(var Ke,ie,ye,Me,wt=X.window;;){if(X.lookahead<=q){if(ge(X),X.lookahead<=q&&Le===a)return pe;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=G&&X.strstart>0&&(ye=X.strstart-1,ie=wt[ye],ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye])){Me=X.strstart+q;do;while(ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ie===wt[++ye]&&ye<Me);X.match_length=q-(Me-ye),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=G?(Ke=e._tr_tally(X,1,X.match_length-G),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(Ke=e._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),Ke&&(ce(X,!1),X.strm.avail_out===0))return pe}return X.insert=0,Le===u?(ce(X,!0),X.strm.avail_out===0?$e:Pe):X.last_lit&&(ce(X,!1),X.strm.avail_out===0)?pe:ve}function Mt(X,Le){for(var Ke;;){if(X.lookahead===0&&(ge(X),X.lookahead===0)){if(Le===a)return pe;break}if(X.match_length=0,Ke=e._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,Ke&&(ce(X,!1),X.strm.avail_out===0))return pe}return X.insert=0,Le===u?(ce(X,!0),X.strm.avail_out===0?$e:Pe):X.last_lit&&(ce(X,!1),X.strm.avail_out===0)?pe:ve}function pt(X,Le,Ke,ie,ye){this.good_length=X,this.max_lazy=Le,this.nice_length=Ke,this.max_chain=ie,this.func=ye}var Ft;Ft=[new pt(0,0,0,0,We),new pt(4,4,8,4,et),new pt(4,5,16,8,et),new pt(4,6,32,32,et),new pt(4,4,16,16,ze),new pt(8,16,32,32,ze),new pt(8,16,128,128,ze),new pt(8,32,128,256,ze),new pt(32,128,258,1024,ze),new pt(32,258,258,4096,ze)];function sn(X){X.window_size=2*X.w_size,Ue(X.head),X.max_lazy_match=Ft[X.level].max_lazy,X.good_match=Ft[X.level].good_length,X.nice_match=Ft[X.level].nice_length,X.max_chain_length=Ft[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=G-1,X.match_available=0,X.ins_h=0}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(K*2),this.dyn_dtree=new t.Buf16((2*F+1)*2),this.bl_tree=new t.Buf16((2*R+1)*2),Ue(this.dyn_ltree),Ue(this.dyn_dtree),Ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(Z+1),this.heap=new t.Buf16(2*N+1),Ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*N+1),Ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tt(X){var Le;return!X||!X.state?Oe(X,m):(X.total_in=X.total_out=0,X.data_type=U,Le=X.state,Le.pending=0,Le.pending_out=0,Le.wrap<0&&(Le.wrap=-Le.wrap),Le.status=Le.wrap?j:ae,X.adler=Le.wrap===2?0:1,Le.last_flush=a,e._tr_init(Le),p)}function De(X){var Le=tt(X);return Le===p&&sn(X.state),Le}function it(X,Le){return!X||!X.state||X.state.wrap!==2?m:(X.state.gzhead=Le,p)}function Se(X,Le,Ke,ie,ye,Me){if(!X)return m;var wt=1;if(Le===v&&(Le=6),ie<0?(wt=0,ie=-ie):ie>15&&(wt=2,ie-=16),ye<1||ye>w||Ke!==W||ie<8||ie>15||Le<0||Le>9||Me<0||Me>E)return Oe(X,m);ie===8&&(ie=9);var dt=new oe;return X.state=dt,dt.strm=X,dt.wrap=wt,dt.gzhead=null,dt.w_bits=ie,dt.w_size=1<<dt.w_bits,dt.w_mask=dt.w_size-1,dt.hash_bits=ye+7,dt.hash_size=1<<dt.hash_bits,dt.hash_mask=dt.hash_size-1,dt.hash_shift=~~((dt.hash_bits+G-1)/G),dt.window=new t.Buf8(dt.w_size*2),dt.head=new t.Buf16(dt.hash_size),dt.prev=new t.Buf16(dt.w_size),dt.lit_bufsize=1<<ye+6,dt.pending_buf_size=dt.lit_bufsize*4,dt.pending_buf=new t.Buf8(dt.pending_buf_size),dt.d_buf=1*dt.lit_bufsize,dt.l_buf=3*dt.lit_bufsize,dt.level=Le,dt.strategy=Me,dt.method=Ke,De(X)}function xe(X,Le){return Se(X,Le,W,I,P,M)}function ee(X,Le){var Ke,ie,ye,Me;if(!X||!X.state||Le>f||Le<0)return X?Oe(X,m):m;if(ie=X.state,!X.output||!X.input&&X.avail_in!==0||ie.status===de&&Le!==u)return Oe(X,X.avail_out===0?_:m);if(ie.strm=X,Ke=ie.last_flush,ie.last_flush=Le,ie.status===j)if(ie.wrap===2)X.adler=0,se(ie,31),se(ie,139),se(ie,8),ie.gzhead?(se(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),se(ie,ie.gzhead.time&255),se(ie,ie.gzhead.time>>8&255),se(ie,ie.gzhead.time>>16&255),se(ie,ie.gzhead.time>>24&255),se(ie,ie.level===9?2:ie.strategy>=b||ie.level<2?4:0),se(ie,ie.gzhead.os&255),ie.gzhead.extra&&ie.gzhead.extra.length&&(se(ie,ie.gzhead.extra.length&255),se(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(X.adler=r(X.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=te):(se(ie,0),se(ie,0),se(ie,0),se(ie,0),se(ie,0),se(ie,ie.level===9?2:ie.strategy>=b||ie.level<2?4:0),se(ie,Ye),ie.status=ae);else{var wt=W+(ie.w_bits-8<<4)<<8,dt=-1;ie.strategy>=b||ie.level<2?dt=0:ie.level<6?dt=1:ie.level===6?dt=2:dt=3,wt|=dt<<6,ie.strstart!==0&&(wt|=ue),wt+=31-wt%31,ie.status=ae,me(ie,wt),ie.strstart!==0&&(me(ie,X.adler>>>16),me(ie,X.adler&65535)),X.adler=1}if(ie.status===te)if(ie.gzhead.extra){for(ye=ie.pending;ie.gzindex<(ie.gzhead.extra.length&65535)&&!(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),be(X),ye=ie.pending,ie.pending===ie.pending_buf_size));)se(ie,ie.gzhead.extra[ie.gzindex]&255),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=fe)}else ie.status=fe;if(ie.status===fe)if(ie.gzhead.name){ye=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),be(X),ye=ie.pending,ie.pending===ie.pending_buf_size)){Me=1;break}ie.gzindex<ie.gzhead.name.length?Me=ie.gzhead.name.charCodeAt(ie.gzindex++)&255:Me=0,se(ie,Me)}while(Me!==0);ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),Me===0&&(ie.gzindex=0,ie.status=J)}else ie.status=J;if(ie.status===J)if(ie.gzhead.comment){ye=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),be(X),ye=ie.pending,ie.pending===ie.pending_buf_size)){Me=1;break}ie.gzindex<ie.gzhead.comment.length?Me=ie.gzhead.comment.charCodeAt(ie.gzindex++)&255:Me=0,se(ie,Me)}while(Me!==0);ie.gzhead.hcrc&&ie.pending>ye&&(X.adler=r(X.adler,ie.pending_buf,ie.pending-ye,ye)),Me===0&&(ie.status=re)}else ie.status=re;if(ie.status===re&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&be(X),ie.pending+2<=ie.pending_buf_size&&(se(ie,X.adler&255),se(ie,X.adler>>8&255),X.adler=0,ie.status=ae)):ie.status=ae),ie.pending!==0){if(be(X),X.avail_out===0)return ie.last_flush=-1,p}else if(X.avail_in===0&&L(Le)<=L(Ke)&&Le!==u)return Oe(X,_);if(ie.status===de&&X.avail_in!==0)return Oe(X,_);if(X.avail_in!==0||ie.lookahead!==0||Le!==a&&ie.status!==de){var St=ie.strategy===b?Mt(ie,Le):ie.strategy===Y?nt(ie,Le):Ft[ie.level].func(ie,Le);if((St===$e||St===Pe)&&(ie.status=de),St===pe||St===$e)return X.avail_out===0&&(ie.last_flush=-1),p;if(St===ve&&(Le===o?e._tr_align(ie):Le!==f&&(e._tr_stored_block(ie,0,0,!1),Le===l&&(Ue(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),be(X),X.avail_out===0))return ie.last_flush=-1,p}return Le!==u?p:ie.wrap<=0?h:(ie.wrap===2?(se(ie,X.adler&255),se(ie,X.adler>>8&255),se(ie,X.adler>>16&255),se(ie,X.adler>>24&255),se(ie,X.total_in&255),se(ie,X.total_in>>8&255),se(ie,X.total_in>>16&255),se(ie,X.total_in>>24&255)):(me(ie,X.adler>>>16),me(ie,X.adler&65535)),be(X),ie.wrap>0&&(ie.wrap=-ie.wrap),ie.pending!==0?p:h)}function Je(X){var Le;return!X||!X.state?m:(Le=X.state.status,Le!==j&&Le!==te&&Le!==fe&&Le!==J&&Le!==re&&Le!==ae&&Le!==de?Oe(X,m):(X.state=null,Le===ae?Oe(X,g):p))}function mt(X,Le){var Ke=Le.length,ie,ye,Me,wt,dt,St,kt,Un;if(!X||!X.state||(ie=X.state,wt=ie.wrap,wt===2||wt===1&&ie.status!==j||ie.lookahead))return m;for(wt===1&&(X.adler=n(X.adler,Le,Ke,0)),ie.wrap=0,Ke>=ie.w_size&&(wt===0&&(Ue(ie.head),ie.strstart=0,ie.block_start=0,ie.insert=0),Un=new t.Buf8(ie.w_size),t.arraySet(Un,Le,Ke-ie.w_size,ie.w_size,0),Le=Un,Ke=ie.w_size),dt=X.avail_in,St=X.next_in,kt=X.input,X.avail_in=Ke,X.next_in=0,X.input=Le,ge(ie);ie.lookahead>=G;){ye=ie.strstart,Me=ie.lookahead-(G-1);do ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ye+G-1])&ie.hash_mask,ie.prev[ye&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ye,ye++;while(--Me);ie.strstart=ye,ie.lookahead=G-1,ge(ie)}return ie.strstart+=ie.lookahead,ie.block_start=ie.strstart,ie.insert=ie.lookahead,ie.lookahead=0,ie.match_length=ie.prev_length=G-1,ie.match_available=0,X.next_in=St,X.input=kt,X.avail_in=dt,ie.wrap=wt,p}return ra.deflateInit=xe,ra.deflateInit2=Se,ra.deflateReset=De,ra.deflateResetKeep=tt,ra.deflateSetHeader=it,ra.deflate=ee,ra.deflateEnd=Je,ra.deflateSetDictionary=mt,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var lc={},zU;function F6(){if(zU)return lc;zU=1;var t=Pl(),e=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new t.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1,lc.string2buf=function(o){var l,u,f,p,h,m=o.length,g=0;for(p=0;p<m;p++)u=o.charCodeAt(p),(u&64512)===55296&&p+1<m&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),g+=u<128?1:u<2048?2:u<65536?3:4;for(l=new t.Buf8(g),h=0,p=0;h<g;p++)u=o.charCodeAt(p),(u&64512)===55296&&p+1<m&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),u<128?l[h++]=u:u<2048?(l[h++]=192|u>>>6,l[h++]=128|u&63):u<65536?(l[h++]=224|u>>>12,l[h++]=128|u>>>6&63,l[h++]=128|u&63):(l[h++]=240|u>>>18,l[h++]=128|u>>>12&63,l[h++]=128|u>>>6&63,l[h++]=128|u&63);return l};function a(o,l){if(l<65534&&(o.subarray&&n||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,l));for(var u="",f=0;f<l;f++)u+=String.fromCharCode(o[f]);return u}return lc.buf2binstring=function(o){return a(o,o.length)},lc.binstring2buf=function(o){for(var l=new t.Buf8(o.length),u=0,f=l.length;u<f;u++)l[u]=o.charCodeAt(u);return l},lc.buf2string=function(o,l){var u,f,p,h,m=l||o.length,g=new Array(m*2);for(f=0,u=0;u<m;){if(p=o[u++],p<128){g[f++]=p;continue}if(h=r[p],h>4){g[f++]=65533,u+=h-1;continue}for(p&=h===2?31:h===3?15:7;h>1&&u<m;)p=p<<6|o[u++]&63,h--;if(h>1){g[f++]=65533;continue}p<65536?g[f++]=p:(p-=65536,g[f++]=55296|p>>10&1023,g[f++]=56320|p&1023)}return a(g,f)},lc.utf8border=function(o,l){var u;for(l=l||o.length,l>o.length&&(l=o.length),u=l-1;u>=0&&(o[u]&192)===128;)u--;return u<0||u===0?l:u+r[o[u]]>l?u:l},lc}var gx,$U;function L6(){if($U)return gx;$U=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return gx=t,gx}var jU;function Y$(){if(jU)return Su;jU=1;var t=x$(),e=Pl(),n=F6(),r=hw(),i=L6(),a=Object.prototype.toString,o=0,l=4,u=0,f=1,p=2,h=-1,m=0,g=8;function _(Y){if(!(this instanceof _))return new _(Y);this.options=e.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},Y||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var M=t.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(M!==u)throw new Error(r[M]);if(E.header&&t.deflateSetHeader(this.strm,E.header),E.dictionary){var U;if(typeof E.dictionary=="string"?U=n.string2buf(E.dictionary):a.call(E.dictionary)==="[object ArrayBuffer]"?U=new Uint8Array(E.dictionary):U=E.dictionary,M=t.deflateSetDictionary(this.strm,U),M!==u)throw new Error(r[M]);this._dict_set=!0}}_.prototype.push=function(Y,E){var M=this.strm,U=this.options.chunkSize,W,w;if(this.ended)return!1;w=E===~~E?E:E===!0?l:o,typeof Y=="string"?M.input=n.string2buf(Y):a.call(Y)==="[object ArrayBuffer]"?M.input=new Uint8Array(Y):M.input=Y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new e.Buf8(U),M.next_out=0,M.avail_out=U),W=t.deflate(M,w),W!==f&&W!==u)return this.onEnd(W),this.ended=!0,!1;(M.avail_out===0||M.avail_in===0&&(w===l||w===p))&&(this.options.to==="string"?this.onData(n.buf2binstring(e.shrinkBuf(M.output,M.next_out))):this.onData(e.shrinkBuf(M.output,M.next_out)))}while((M.avail_in>0||M.avail_out===0)&&W!==f);return w===l?(W=t.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===u):(w===p&&(this.onEnd(u),M.avail_out=0),!0)},_.prototype.onData=function(Y){this.chunks.push(Y)},_.prototype.onEnd=function(Y){Y===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=Y,this.msg=this.strm.msg};function v(Y,E){var M=new _(E);if(M.push(Y,!0),M.err)throw M.msg||r[M.err];return M.result}function S(Y,E){return E=E||{},E.raw=!0,v(Y,E)}function b(Y,E){return E=E||{},E.gzip=!0,v(Y,E)}return Su.Deflate=_,Su.deflate=v,Su.deflateRaw=S,Su.gzip=b,Su}var bu={},Fs={},yx,KU;function T$(){if(KU)return yx;KU=1;var t=30,e=12;return yx=function(r,i){var a,o,l,u,f,p,h,m,g,_,v,S,b,Y,E,M,U,W,w,I,P,O,V,N,F;a=r.state,o=r.next_in,N=r.input,l=o+(r.avail_in-5),u=r.next_out,F=r.output,f=u-(i-r.avail_out),p=u+(r.avail_out-257),h=a.dmax,m=a.wsize,g=a.whave,_=a.wnext,v=a.window,S=a.hold,b=a.bits,Y=a.lencode,E=a.distcode,M=(1<<a.lenbits)-1,U=(1<<a.distbits)-1;e:do{b<15&&(S+=N[o++]<<b,b+=8,S+=N[o++]<<b,b+=8),W=Y[S&M];t:for(;;){if(w=W>>>24,S>>>=w,b-=w,w=W>>>16&255,w===0)F[u++]=W&65535;else if(w&16){I=W&65535,w&=15,w&&(b<w&&(S+=N[o++]<<b,b+=8),I+=S&(1<<w)-1,S>>>=w,b-=w),b<15&&(S+=N[o++]<<b,b+=8,S+=N[o++]<<b,b+=8),W=E[S&U];n:for(;;){if(w=W>>>24,S>>>=w,b-=w,w=W>>>16&255,w&16){if(P=W&65535,w&=15,b<w&&(S+=N[o++]<<b,b+=8,b<w&&(S+=N[o++]<<b,b+=8)),P+=S&(1<<w)-1,P>h){r.msg="invalid distance too far back",a.mode=t;break e}if(S>>>=w,b-=w,w=u-f,P>w){if(w=P-w,w>g&&a.sane){r.msg="invalid distance too far back",a.mode=t;break e}if(O=0,V=v,_===0){if(O+=m-w,w<I){I-=w;do F[u++]=v[O++];while(--w);O=u-P,V=F}}else if(_<w){if(O+=m+_-w,w-=_,w<I){I-=w;do F[u++]=v[O++];while(--w);if(O=0,_<I){w=_,I-=w;do F[u++]=v[O++];while(--w);O=u-P,V=F}}}else if(O+=_-w,w<I){I-=w;do F[u++]=v[O++];while(--w);O=u-P,V=F}for(;I>2;)F[u++]=V[O++],F[u++]=V[O++],F[u++]=V[O++],I-=3;I&&(F[u++]=V[O++],I>1&&(F[u++]=V[O++]))}else{O=u-P;do F[u++]=F[O++],F[u++]=F[O++],F[u++]=F[O++],I-=3;while(I>2);I&&(F[u++]=F[O++],I>1&&(F[u++]=F[O++]))}}else if((w&64)===0){W=E[(W&65535)+(S&(1<<w)-1)];continue n}else{r.msg="invalid distance code",a.mode=t;break e}break}}else if((w&64)===0){W=Y[(W&65535)+(S&(1<<w)-1)];continue t}else if(w&32){a.mode=e;break e}else{r.msg="invalid literal/length code",a.mode=t;break e}break}}while(o<l&&u<p);I=b>>3,o-=I,b-=I<<3,S&=(1<<b)-1,r.next_in=o,r.next_out=u,r.avail_in=o<l?5+(l-o):5-(o-l),r.avail_out=u<p?257+(p-u):257-(u-p),a.hold=S,a.bits=b},yx}var vx,HU;function w$(){if(HU)return vx;HU=1;var t=Pl(),e=15,n=852,r=592,i=0,a=1,o=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return vx=function(m,g,_,v,S,b,Y,E){var M=E.bits,U=0,W=0,w=0,I=0,P=0,O=0,V=0,N=0,F=0,R=0,K,Z,G,q,Q,ue=null,j=0,te,fe=new t.Buf16(e+1),J=new t.Buf16(e+1),re=null,ae=0,de,pe,ve;for(U=0;U<=e;U++)fe[U]=0;for(W=0;W<v;W++)fe[g[_+W]]++;for(P=M,I=e;I>=1&&fe[I]===0;I--);if(P>I&&(P=I),I===0)return S[b++]=1<<24|64<<16|0,S[b++]=1<<24|64<<16|0,E.bits=1,0;for(w=1;w<I&&fe[w]===0;w++);for(P<w&&(P=w),N=1,U=1;U<=e;U++)if(N<<=1,N-=fe[U],N<0)return-1;if(N>0&&(m===i||I!==1))return-1;for(J[1]=0,U=1;U<e;U++)J[U+1]=J[U]+fe[U];for(W=0;W<v;W++)g[_+W]!==0&&(Y[J[g[_+W]]++]=W);if(m===i?(ue=re=Y,te=19):m===a?(ue=l,j-=257,re=u,ae-=257,te=256):(ue=f,re=p,te=-1),R=0,W=0,U=w,Q=b,O=P,V=0,G=-1,F=1<<P,q=F-1,m===a&&F>n||m===o&&F>r)return 1;for(;;){de=U-V,Y[W]<te?(pe=0,ve=Y[W]):Y[W]>te?(pe=re[ae+Y[W]],ve=ue[j+Y[W]]):(pe=96,ve=0),K=1<<U-V,Z=1<<O,w=Z;do Z-=K,S[Q+(R>>V)+Z]=de<<24|pe<<16|ve|0;while(Z!==0);for(K=1<<U-1;R&K;)K>>=1;if(K!==0?(R&=K-1,R+=K):R=0,W++,--fe[U]===0){if(U===I)break;U=g[_+Y[W]]}if(U>P&&(R&q)!==G){for(V===0&&(V=P),Q+=w,O=U-V,N=1<<O;O+V<I&&(N-=fe[O+V],!(N<=0));)O++,N<<=1;if(F+=1<<O,m===a&&F>n||m===o&&F>r)return 1;G=R&q,S[G]=P<<24|O<<16|Q-b|0}}return R!==0&&(S[Q+R]=U-V<<24|64<<16|0),E.bits=P,0},vx}var GU;function W$(){if(GU)return Fs;GU=1;var t=Pl(),e=B6(),n=V6(),r=T$(),i=w$(),a=0,o=1,l=2,u=4,f=5,p=6,h=0,m=1,g=2,_=-2,v=-3,S=-4,b=-5,Y=8,E=1,M=2,U=3,W=4,w=5,I=6,P=7,O=8,V=9,N=10,F=11,R=12,K=13,Z=14,G=15,q=16,Q=17,ue=18,j=19,te=20,fe=21,J=22,re=23,ae=24,de=25,pe=26,ve=27,$e=28,Pe=29,Ye=30,Oe=31,L=32,Ue=852,be=592,ce=15,se=ce;function me(Se){return(Se>>>24&255)+(Se>>>8&65280)+((Se&65280)<<8)+((Se&255)<<24)}function Ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ke(Se){var xe;return!Se||!Se.state?_:(xe=Se.state,Se.total_in=Se.total_out=xe.total=0,Se.msg="",xe.wrap&&(Se.adler=xe.wrap&1),xe.mode=E,xe.last=0,xe.havedict=0,xe.dmax=32768,xe.head=null,xe.hold=0,xe.bits=0,xe.lencode=xe.lendyn=new t.Buf32(Ue),xe.distcode=xe.distdyn=new t.Buf32(be),xe.sane=1,xe.back=-1,h)}function ge(Se){var xe;return!Se||!Se.state?_:(xe=Se.state,xe.wsize=0,xe.whave=0,xe.wnext=0,ke(Se))}function We(Se,xe){var ee,Je;return!Se||!Se.state||(Je=Se.state,xe<0?(ee=0,xe=-xe):(ee=(xe>>4)+1,xe<48&&(xe&=15)),xe&&(xe<8||xe>15))?_:(Je.window!==null&&Je.wbits!==xe&&(Je.window=null),Je.wrap=ee,Je.wbits=xe,ge(Se))}function et(Se,xe){var ee,Je;return Se?(Je=new Ne,Se.state=Je,Je.window=null,ee=We(Se,xe),ee!==h&&(Se.state=null),ee):_}function ze(Se){return et(Se,se)}var nt=!0,Mt,pt;function Ft(Se){if(nt){var xe;for(Mt=new t.Buf32(512),pt=new t.Buf32(32),xe=0;xe<144;)Se.lens[xe++]=8;for(;xe<256;)Se.lens[xe++]=9;for(;xe<280;)Se.lens[xe++]=7;for(;xe<288;)Se.lens[xe++]=8;for(i(o,Se.lens,0,288,Mt,0,Se.work,{bits:9}),xe=0;xe<32;)Se.lens[xe++]=5;i(l,Se.lens,0,32,pt,0,Se.work,{bits:5}),nt=!1}Se.lencode=Mt,Se.lenbits=9,Se.distcode=pt,Se.distbits=5}function sn(Se,xe,ee,Je){var mt,X=Se.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new t.Buf8(X.wsize)),Je>=X.wsize?(t.arraySet(X.window,xe,ee-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(mt=X.wsize-X.wnext,mt>Je&&(mt=Je),t.arraySet(X.window,xe,ee-Je,mt,X.wnext),Je-=mt,Je?(t.arraySet(X.window,xe,ee-Je,Je,0),X.wnext=Je,X.whave=X.wsize):(X.wnext+=mt,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=mt))),0}function oe(Se,xe){var ee,Je,mt,X,Le,Ke,ie,ye,Me,wt,dt,St,kt,Un,hn=0,At,Zt,Dn,Rn,Ir,ii,Fn,nn,rn=new t.Buf8(4),$n,gr,ss=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Se||!Se.state||!Se.output||!Se.input&&Se.avail_in!==0)return _;ee=Se.state,ee.mode===R&&(ee.mode=K),Le=Se.next_out,mt=Se.output,ie=Se.avail_out,X=Se.next_in,Je=Se.input,Ke=Se.avail_in,ye=ee.hold,Me=ee.bits,wt=Ke,dt=ie,nn=h;e:for(;;)switch(ee.mode){case E:if(ee.wrap===0){ee.mode=K;break}for(;Me<16;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ee.wrap&2&&ye===35615){ee.check=0,rn[0]=ye&255,rn[1]=ye>>>8&255,ee.check=n(ee.check,rn,2,0),ye=0,Me=0,ee.mode=M;break}if(ee.flags=0,ee.head&&(ee.head.done=!1),!(ee.wrap&1)||(((ye&255)<<8)+(ye>>8))%31){Se.msg="incorrect header check",ee.mode=Ye;break}if((ye&15)!==Y){Se.msg="unknown compression method",ee.mode=Ye;break}if(ye>>>=4,Me-=4,Fn=(ye&15)+8,ee.wbits===0)ee.wbits=Fn;else if(Fn>ee.wbits){Se.msg="invalid window size",ee.mode=Ye;break}ee.dmax=1<<Fn,Se.adler=ee.check=1,ee.mode=ye&512?N:R,ye=0,Me=0;break;case M:for(;Me<16;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ee.flags=ye,(ee.flags&255)!==Y){Se.msg="unknown compression method",ee.mode=Ye;break}if(ee.flags&57344){Se.msg="unknown header flags set",ee.mode=Ye;break}ee.head&&(ee.head.text=ye>>8&1),ee.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,ee.check=n(ee.check,rn,2,0)),ye=0,Me=0,ee.mode=U;case U:for(;Me<32;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.head&&(ee.head.time=ye),ee.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,rn[2]=ye>>>16&255,rn[3]=ye>>>24&255,ee.check=n(ee.check,rn,4,0)),ye=0,Me=0,ee.mode=W;case W:for(;Me<16;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.head&&(ee.head.xflags=ye&255,ee.head.os=ye>>8),ee.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,ee.check=n(ee.check,rn,2,0)),ye=0,Me=0,ee.mode=w;case w:if(ee.flags&1024){for(;Me<16;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.length=ye,ee.head&&(ee.head.extra_len=ye),ee.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,ee.check=n(ee.check,rn,2,0)),ye=0,Me=0}else ee.head&&(ee.head.extra=null);ee.mode=I;case I:if(ee.flags&1024&&(St=ee.length,St>Ke&&(St=Ke),St&&(ee.head&&(Fn=ee.head.extra_len-ee.length,ee.head.extra||(ee.head.extra=new Array(ee.head.extra_len)),t.arraySet(ee.head.extra,Je,X,St,Fn)),ee.flags&512&&(ee.check=n(ee.check,Je,St,X)),Ke-=St,X+=St,ee.length-=St),ee.length))break e;ee.length=0,ee.mode=P;case P:if(ee.flags&2048){if(Ke===0)break e;St=0;do Fn=Je[X+St++],ee.head&&Fn&&ee.length<65536&&(ee.head.name+=String.fromCharCode(Fn));while(Fn&&St<Ke);if(ee.flags&512&&(ee.check=n(ee.check,Je,St,X)),Ke-=St,X+=St,Fn)break e}else ee.head&&(ee.head.name=null);ee.length=0,ee.mode=O;case O:if(ee.flags&4096){if(Ke===0)break e;St=0;do Fn=Je[X+St++],ee.head&&Fn&&ee.length<65536&&(ee.head.comment+=String.fromCharCode(Fn));while(Fn&&St<Ke);if(ee.flags&512&&(ee.check=n(ee.check,Je,St,X)),Ke-=St,X+=St,Fn)break e}else ee.head&&(ee.head.comment=null);ee.mode=V;case V:if(ee.flags&512){for(;Me<16;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ye!==(ee.check&65535)){Se.msg="header crc mismatch",ee.mode=Ye;break}ye=0,Me=0}ee.head&&(ee.head.hcrc=ee.flags>>9&1,ee.head.done=!0),Se.adler=ee.check=0,ee.mode=R;break;case N:for(;Me<32;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}Se.adler=ee.check=me(ye),ye=0,Me=0,ee.mode=F;case F:if(ee.havedict===0)return Se.next_out=Le,Se.avail_out=ie,Se.next_in=X,Se.avail_in=Ke,ee.hold=ye,ee.bits=Me,g;Se.adler=ee.check=1,ee.mode=R;case R:if(xe===f||xe===p)break e;case K:if(ee.last){ye>>>=Me&7,Me-=Me&7,ee.mode=ve;break}for(;Me<3;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}switch(ee.last=ye&1,ye>>>=1,Me-=1,ye&3){case 0:ee.mode=Z;break;case 1:if(Ft(ee),ee.mode=te,xe===p){ye>>>=2,Me-=2;break e}break;case 2:ee.mode=Q;break;case 3:Se.msg="invalid block type",ee.mode=Ye}ye>>>=2,Me-=2;break;case Z:for(ye>>>=Me&7,Me-=Me&7;Me<32;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if((ye&65535)!==(ye>>>16^65535)){Se.msg="invalid stored block lengths",ee.mode=Ye;break}if(ee.length=ye&65535,ye=0,Me=0,ee.mode=G,xe===p)break e;case G:ee.mode=q;case q:if(St=ee.length,St){if(St>Ke&&(St=Ke),St>ie&&(St=ie),St===0)break e;t.arraySet(mt,Je,X,St,Le),Ke-=St,X+=St,ie-=St,Le+=St,ee.length-=St;break}ee.mode=R;break;case Q:for(;Me<14;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ee.nlen=(ye&31)+257,ye>>>=5,Me-=5,ee.ndist=(ye&31)+1,ye>>>=5,Me-=5,ee.ncode=(ye&15)+4,ye>>>=4,Me-=4,ee.nlen>286||ee.ndist>30){Se.msg="too many length or distance symbols",ee.mode=Ye;break}ee.have=0,ee.mode=ue;case ue:for(;ee.have<ee.ncode;){for(;Me<3;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.lens[ss[ee.have++]]=ye&7,ye>>>=3,Me-=3}for(;ee.have<19;)ee.lens[ss[ee.have++]]=0;if(ee.lencode=ee.lendyn,ee.lenbits=7,$n={bits:ee.lenbits},nn=i(a,ee.lens,0,19,ee.lencode,0,ee.work,$n),ee.lenbits=$n.bits,nn){Se.msg="invalid code lengths set",ee.mode=Ye;break}ee.have=0,ee.mode=j;case j:for(;ee.have<ee.nlen+ee.ndist;){for(;hn=ee.lencode[ye&(1<<ee.lenbits)-1],At=hn>>>24,Zt=hn>>>16&255,Dn=hn&65535,!(At<=Me);){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(Dn<16)ye>>>=At,Me-=At,ee.lens[ee.have++]=Dn;else{if(Dn===16){for(gr=At+2;Me<gr;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ye>>>=At,Me-=At,ee.have===0){Se.msg="invalid bit length repeat",ee.mode=Ye;break}Fn=ee.lens[ee.have-1],St=3+(ye&3),ye>>>=2,Me-=2}else if(Dn===17){for(gr=At+3;Me<gr;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ye>>>=At,Me-=At,Fn=0,St=3+(ye&7),ye>>>=3,Me-=3}else{for(gr=At+7;Me<gr;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ye>>>=At,Me-=At,Fn=0,St=11+(ye&127),ye>>>=7,Me-=7}if(ee.have+St>ee.nlen+ee.ndist){Se.msg="invalid bit length repeat",ee.mode=Ye;break}for(;St--;)ee.lens[ee.have++]=Fn}}if(ee.mode===Ye)break;if(ee.lens[256]===0){Se.msg="invalid code -- missing end-of-block",ee.mode=Ye;break}if(ee.lenbits=9,$n={bits:ee.lenbits},nn=i(o,ee.lens,0,ee.nlen,ee.lencode,0,ee.work,$n),ee.lenbits=$n.bits,nn){Se.msg="invalid literal/lengths set",ee.mode=Ye;break}if(ee.distbits=6,ee.distcode=ee.distdyn,$n={bits:ee.distbits},nn=i(l,ee.lens,ee.nlen,ee.ndist,ee.distcode,0,ee.work,$n),ee.distbits=$n.bits,nn){Se.msg="invalid distances set",ee.mode=Ye;break}if(ee.mode=te,xe===p)break e;case te:ee.mode=fe;case fe:if(Ke>=6&&ie>=258){Se.next_out=Le,Se.avail_out=ie,Se.next_in=X,Se.avail_in=Ke,ee.hold=ye,ee.bits=Me,r(Se,dt),Le=Se.next_out,mt=Se.output,ie=Se.avail_out,X=Se.next_in,Je=Se.input,Ke=Se.avail_in,ye=ee.hold,Me=ee.bits,ee.mode===R&&(ee.back=-1);break}for(ee.back=0;hn=ee.lencode[ye&(1<<ee.lenbits)-1],At=hn>>>24,Zt=hn>>>16&255,Dn=hn&65535,!(At<=Me);){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(Zt&&(Zt&240)===0){for(Rn=At,Ir=Zt,ii=Dn;hn=ee.lencode[ii+((ye&(1<<Rn+Ir)-1)>>Rn)],At=hn>>>24,Zt=hn>>>16&255,Dn=hn&65535,!(Rn+At<=Me);){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ye>>>=Rn,Me-=Rn,ee.back+=Rn}if(ye>>>=At,Me-=At,ee.back+=At,ee.length=Dn,Zt===0){ee.mode=pe;break}if(Zt&32){ee.back=-1,ee.mode=R;break}if(Zt&64){Se.msg="invalid literal/length code",ee.mode=Ye;break}ee.extra=Zt&15,ee.mode=J;case J:if(ee.extra){for(gr=ee.extra;Me<gr;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.length+=ye&(1<<ee.extra)-1,ye>>>=ee.extra,Me-=ee.extra,ee.back+=ee.extra}ee.was=ee.length,ee.mode=re;case re:for(;hn=ee.distcode[ye&(1<<ee.distbits)-1],At=hn>>>24,Zt=hn>>>16&255,Dn=hn&65535,!(At<=Me);){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if((Zt&240)===0){for(Rn=At,Ir=Zt,ii=Dn;hn=ee.distcode[ii+((ye&(1<<Rn+Ir)-1)>>Rn)],At=hn>>>24,Zt=hn>>>16&255,Dn=hn&65535,!(Rn+At<=Me);){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ye>>>=Rn,Me-=Rn,ee.back+=Rn}if(ye>>>=At,Me-=At,ee.back+=At,Zt&64){Se.msg="invalid distance code",ee.mode=Ye;break}ee.offset=Dn,ee.extra=Zt&15,ee.mode=ae;case ae:if(ee.extra){for(gr=ee.extra;Me<gr;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}ee.offset+=ye&(1<<ee.extra)-1,ye>>>=ee.extra,Me-=ee.extra,ee.back+=ee.extra}if(ee.offset>ee.dmax){Se.msg="invalid distance too far back",ee.mode=Ye;break}ee.mode=de;case de:if(ie===0)break e;if(St=dt-ie,ee.offset>St){if(St=ee.offset-St,St>ee.whave&&ee.sane){Se.msg="invalid distance too far back",ee.mode=Ye;break}St>ee.wnext?(St-=ee.wnext,kt=ee.wsize-St):kt=ee.wnext-St,St>ee.length&&(St=ee.length),Un=ee.window}else Un=mt,kt=Le-ee.offset,St=ee.length;St>ie&&(St=ie),ie-=St,ee.length-=St;do mt[Le++]=Un[kt++];while(--St);ee.length===0&&(ee.mode=fe);break;case pe:if(ie===0)break e;mt[Le++]=ee.length,ie--,ee.mode=fe;break;case ve:if(ee.wrap){for(;Me<32;){if(Ke===0)break e;Ke--,ye|=Je[X++]<<Me,Me+=8}if(dt-=ie,Se.total_out+=dt,ee.total+=dt,dt&&(Se.adler=ee.check=ee.flags?n(ee.check,mt,dt,Le-dt):e(ee.check,mt,dt,Le-dt)),dt=ie,(ee.flags?ye:me(ye))!==ee.check){Se.msg="incorrect data check",ee.mode=Ye;break}ye=0,Me=0}ee.mode=$e;case $e:if(ee.wrap&&ee.flags){for(;Me<32;){if(Ke===0)break e;Ke--,ye+=Je[X++]<<Me,Me+=8}if(ye!==(ee.total&4294967295)){Se.msg="incorrect length check",ee.mode=Ye;break}ye=0,Me=0}ee.mode=Pe;case Pe:nn=m;break e;case Ye:nn=v;break e;case Oe:return S;case L:default:return _}return Se.next_out=Le,Se.avail_out=ie,Se.next_in=X,Se.avail_in=Ke,ee.hold=ye,ee.bits=Me,(ee.wsize||dt!==Se.avail_out&&ee.mode<Ye&&(ee.mode<ve||xe!==u))&&sn(Se,Se.output,Se.next_out,dt-Se.avail_out),wt-=Se.avail_in,dt-=Se.avail_out,Se.total_in+=wt,Se.total_out+=dt,ee.total+=dt,ee.wrap&&dt&&(Se.adler=ee.check=ee.flags?n(ee.check,mt,dt,Se.next_out-dt):e(ee.check,mt,dt,Se.next_out-dt)),Se.data_type=ee.bits+(ee.last?64:0)+(ee.mode===R?128:0)+(ee.mode===te||ee.mode===G?256:0),(wt===0&&dt===0||xe===u)&&nn===h&&(nn=b),nn}function tt(Se){if(!Se||!Se.state)return _;var xe=Se.state;return xe.window&&(xe.window=null),Se.state=null,h}function De(Se,xe){var ee;return!Se||!Se.state||(ee=Se.state,(ee.wrap&2)===0)?_:(ee.head=xe,xe.done=!1,h)}function it(Se,xe){var ee=xe.length,Je,mt,X;return!Se||!Se.state||(Je=Se.state,Je.wrap!==0&&Je.mode!==F)?_:Je.mode===F&&(mt=1,mt=e(mt,xe,ee,0),mt!==Je.check)?v:(X=sn(Se,xe,ee,ee),X?(Je.mode=Oe,S):(Je.havedict=1,h))}return Fs.inflateReset=ge,Fs.inflateReset2=We,Fs.inflateResetKeep=ke,Fs.inflateInit=ze,Fs.inflateInit2=et,Fs.inflate=oe,Fs.inflateEnd=tt,Fs.inflateGetHeader=De,Fs.inflateSetDictionary=it,Fs.inflateInfo="pako inflate (from Nodeca project)",Fs}var _x,qU;function Z6(){return qU||(qU=1,_x={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),_x}var Sx,QU;function E$(){if(QU)return Sx;QU=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Sx=t,Sx}var JU;function U$(){if(JU)return bu;JU=1;var t=W$(),e=Pl(),n=F6(),r=Z6(),i=hw(),a=L6(),o=E$(),l=Object.prototype.toString;function u(h){if(!(this instanceof u))return new u(h);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),m.windowBits>=0&&m.windowBits<16&&!(h&&h.windowBits)&&(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&(m.windowBits&15)===0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var g=t.inflateInit2(this.strm,m.windowBits);if(g!==r.Z_OK)throw new Error(i[g]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),m.dictionary&&(typeof m.dictionary=="string"?m.dictionary=n.string2buf(m.dictionary):l.call(m.dictionary)==="[object ArrayBuffer]"&&(m.dictionary=new Uint8Array(m.dictionary)),m.raw&&(g=t.inflateSetDictionary(this.strm,m.dictionary),g!==r.Z_OK)))throw new Error(i[g])}u.prototype.push=function(h,m){var g=this.strm,_=this.options.chunkSize,v=this.options.dictionary,S,b,Y,E,M,U=!1;if(this.ended)return!1;b=m===~~m?m:m===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof h=="string"?g.input=n.binstring2buf(h):l.call(h)==="[object ArrayBuffer]"?g.input=new Uint8Array(h):g.input=h,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new e.Buf8(_),g.next_out=0,g.avail_out=_),S=t.inflate(g,r.Z_NO_FLUSH),S===r.Z_NEED_DICT&&v&&(S=t.inflateSetDictionary(this.strm,v)),S===r.Z_BUF_ERROR&&U===!0&&(S=r.Z_OK,U=!1),S!==r.Z_STREAM_END&&S!==r.Z_OK)return this.onEnd(S),this.ended=!0,!1;g.next_out&&(g.avail_out===0||S===r.Z_STREAM_END||g.avail_in===0&&(b===r.Z_FINISH||b===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Y=n.utf8border(g.output,g.next_out),E=g.next_out-Y,M=n.buf2string(g.output,Y),g.next_out=E,g.avail_out=_-E,E&&e.arraySet(g.output,g.output,Y,E,0),this.onData(M)):this.onData(e.shrinkBuf(g.output,g.next_out))),g.avail_in===0&&g.avail_out===0&&(U=!0)}while((g.avail_in>0||g.avail_out===0)&&S!==r.Z_STREAM_END);return S===r.Z_STREAM_END&&(b=r.Z_FINISH),b===r.Z_FINISH?(S=t.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===r.Z_OK):(b===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),g.avail_out=0),!0)},u.prototype.onData=function(h){this.chunks.push(h)},u.prototype.onEnd=function(h){h===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function f(h,m){var g=new u(m);if(g.push(h,!0),g.err)throw g.msg||i[g.err];return g.result}function p(h,m){return m=m||{},m.raw=!0,f(h,m)}return bu.Inflate=u,bu.inflate=f,bu.inflateRaw=p,bu.ungzip=f,bu}var bx,eC;function C$(){if(eC)return bx;eC=1;var t=Pl().assign,e=Y$(),n=U$(),r=Z6(),i={};return t(i,e,n,r),bx=i,bx}var tC;function A$(){return tC||(tC=1,(function(t){(function(){var e={};t.exports=e;var n=typeof Rg=="function"?C$():self.pako;function r(){typeof process>"u"&&console.log.apply(console,arguments)}(function(i,a){(function(){var o=(function(){function p(h){this.message="JPEG error: "+h}return p.prototype=new Error,p.prototype.name="JpegError",p.constructor=p,p})(),l=(function(){var p=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),h=4017,m=799,g=3406,_=2276,v=1567,S=3784,b=5793,Y=2896;function E(O){O==null&&(O={}),O.w==null&&(O.w=-1),this.V=O.n,this.N=O.w}function M(O,V){for(var N=0,F=[],R,K,Z=16,G;Z>0&&!O[Z-1];)Z--;F.push({children:[],index:0});var q=F[0];for(R=0;R<Z;R++){for(K=0;K<O[R];K++){for(q=F.pop(),q.children[q.index]=V[N];q.index>0;)q=F.pop();for(q.index++,F.push(q);F.length<=R;)F.push(G={children:[],index:0}),q.children[q.index]=G.children,q=G;N++}R+1<Z&&(F.push(G={children:[],index:0}),q.children[q.index]=G.children,q=G)}return F[0].children}function U(O,V,N){return 64*((O.P+1)*V+N)}function W(O,V,N,F,R,K,Z,G,q,Q){Q==null&&(Q=!1);var ue=N.m,j=N.Z,te=V,fe=0,J=0,re=0,ae=0,de,pe=0,ve,$e,Pe,Ye,Oe,L,Ue=0,be,ce,se,me;function Ne(){if(J>0)return J--,fe>>J&1;if(fe=O[V++],fe===255){var De=O[V++];if(De){if(De===220&&Q){V+=2;var it=u(O,V);if(V+=2,it>0&&it!==N.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",it)}else if(De===217){if(Q){var Se=pe*8;if(Se>0&&Se<N.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Se)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new o("unexpected marker")}}return J=7,fe>>>7}function ke(De){for(var it=De;;){switch(it=it[Ne()],typeof it){case"number":return it;case"object":continue}throw new o("invalid huffman sequence")}}function ge(De){for(var it=0;De>0;)it=it<<1|Ne(),De--;return it}function We(De){if(De===1)return Ne()===1?1:-1;var it=ge(De);return it>=1<<De-1?it:it+(-1<<De)+1}function et(De,it){var Se=ke(De.J),xe=Se===0?0:We(Se),ee=1;for(De.D[it]=De.Q+=xe;ee<64;){var Je=ke(De.i),mt=Je&15,X=Je>>4;if(mt===0){if(X<15)break;ee+=16;continue}ee+=X;var Le=p[ee];De.D[it+Le]=We(mt),ee++}}function ze(De,it){var Se=ke(De.J),xe=Se===0?0:We(Se)<<q;De.D[it]=De.Q+=xe}function nt(De,it){De.D[it]|=Ne()<<q}function Mt(De,it){if(re>0){re--;return}for(var Se=K,xe=Z;Se<=xe;){var ee=ke(De.i),Je=ee&15,mt=ee>>4;if(Je===0){if(mt<15){re=ge(mt)+(1<<mt)-1;break}Se+=16;continue}Se+=mt;var X=p[Se];De.D[it+X]=We(Je)*(1<<q),Se++}}function pt(De,it){for(var Se=K,xe=Z,ee=0,Je,mt;Se<=xe;){var X=it+p[Se],Le=De.D[X]<0?-1:1;switch(ae){case 0:if(mt=ke(De.i),Je=mt&15,ee=mt>>4,Je===0)ee<15?(re=ge(ee)+(1<<ee),ae=4):(ee=16,ae=1);else{if(Je!==1)throw new o("invalid ACn encoding");de=We(Je),ae=ee?2:3}continue;case 1:case 2:De.D[X]?De.D[X]+=Le*(Ne()<<q):(ee--,ee===0&&(ae=ae===2?3:0));break;case 3:De.D[X]?De.D[X]+=Le*(Ne()<<q):(De.D[X]=de<<q,ae=0);break;case 4:De.D[X]&&(De.D[X]+=Le*(Ne()<<q));break}Se++}ae===4&&(re--,re===0&&(ae=0))}function Ft(De,it,Se,xe,ee){var Je=Se/ue|0,mt=Se%ue;pe=Je*De.A+xe;var X=mt*De.h+ee,Le=U(De,pe,X);it(De,Le)}function sn(De,it,Se){pe=Se/De.P|0;var xe=Se%De.P,ee=U(De,pe,xe);it(De,ee)}var oe=F.length;for(j?K===0?L=G===0?ze:nt:L=G===0?Mt:pt:L=et,oe===1?ce=F[0].P*F[0].c:ce=ue*N.R;Ue<=ce;){var tt=R?Math.min(ce-Ue,R):ce;if(tt>0){for($e=0;$e<oe;$e++)F[$e].Q=0;if(re=0,oe===1)for(ve=F[0],Oe=0;Oe<tt;Oe++)sn(ve,L,Ue),Ue++;else for(Oe=0;Oe<tt;Oe++){for($e=0;$e<oe;$e++)for(ve=F[$e],se=ve.h,me=ve.A,Pe=0;Pe<me;Pe++)for(Ye=0;Ye<se;Ye++)Ft(ve,L,Ue,Pe,Ye);Ue++}}if(J=0,be=P(O,V),!be)break;if(be.u&&(V=be.offset),be.M>=65488&&be.M<=65495)V+=2;else break}return V-te}function w(O,V,N){var F=O.$,R=O.D,K,Z,G,q,Q,ue,j,te,fe,J,re,ae,de,pe,ve,$e,Pe;if(!F)throw new o("missing required Quantization Table.");for(var Ye=0;Ye<64;Ye+=8){if(fe=R[V+Ye],J=R[V+Ye+1],re=R[V+Ye+2],ae=R[V+Ye+3],de=R[V+Ye+4],pe=R[V+Ye+5],ve=R[V+Ye+6],$e=R[V+Ye+7],fe*=F[Ye],(J|re|ae|de|pe|ve|$e)===0){Pe=b*fe+512>>10,N[Ye]=Pe,N[Ye+1]=Pe,N[Ye+2]=Pe,N[Ye+3]=Pe,N[Ye+4]=Pe,N[Ye+5]=Pe,N[Ye+6]=Pe,N[Ye+7]=Pe;continue}J*=F[Ye+1],re*=F[Ye+2],ae*=F[Ye+3],de*=F[Ye+4],pe*=F[Ye+5],ve*=F[Ye+6],$e*=F[Ye+7],K=b*fe+128>>8,Z=b*de+128>>8,G=re,q=ve,Q=Y*(J-$e)+128>>8,te=Y*(J+$e)+128>>8,ue=ae<<4,j=pe<<4,K=K+Z+1>>1,Z=K-Z,Pe=G*S+q*v+128>>8,G=G*v-q*S+128>>8,q=Pe,Q=Q+j+1>>1,j=Q-j,te=te+ue+1>>1,ue=te-ue,K=K+q+1>>1,q=K-q,Z=Z+G+1>>1,G=Z-G,Pe=Q*_+te*g+2048>>12,Q=Q*g-te*_+2048>>12,te=Pe,Pe=ue*m+j*h+2048>>12,ue=ue*h-j*m+2048>>12,j=Pe,N[Ye]=K+te,N[Ye+7]=K-te,N[Ye+1]=Z+j,N[Ye+6]=Z-j,N[Ye+2]=G+ue,N[Ye+5]=G-ue,N[Ye+3]=q+Q,N[Ye+4]=q-Q}for(var Oe=0;Oe<8;++Oe){if(fe=N[Oe],J=N[Oe+8],re=N[Oe+16],ae=N[Oe+24],de=N[Oe+32],pe=N[Oe+40],ve=N[Oe+48],$e=N[Oe+56],(J|re|ae|de|pe|ve|$e)===0){Pe=b*fe+8192>>14,Pe<-2040?Pe=0:Pe>=2024?Pe=255:Pe=Pe+2056>>4,R[V+Oe]=Pe,R[V+Oe+8]=Pe,R[V+Oe+16]=Pe,R[V+Oe+24]=Pe,R[V+Oe+32]=Pe,R[V+Oe+40]=Pe,R[V+Oe+48]=Pe,R[V+Oe+56]=Pe;continue}K=b*fe+2048>>12,Z=b*de+2048>>12,G=re,q=ve,Q=Y*(J-$e)+2048>>12,te=Y*(J+$e)+2048>>12,ue=ae,j=pe,K=(K+Z+1>>1)+4112,Z=K-Z,Pe=G*S+q*v+2048>>12,G=G*v-q*S+2048>>12,q=Pe,Q=Q+j+1>>1,j=Q-j,te=te+ue+1>>1,ue=te-ue,K=K+q+1>>1,q=K-q,Z=Z+G+1>>1,G=Z-G,Pe=Q*_+te*g+2048>>12,Q=Q*g-te*_+2048>>12,te=Pe,Pe=ue*m+j*h+2048>>12,ue=ue*h-j*m+2048>>12,j=Pe,fe=K+te,$e=K-te,J=Z+j,ve=Z-j,re=G+ue,pe=G-ue,ae=q+Q,de=q-Q,fe<16?fe=0:fe>=4080?fe=255:fe>>=4,J<16?J=0:J>=4080?J=255:J>>=4,re<16?re=0:re>=4080?re=255:re>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,de<16?de=0:de>=4080?de=255:de>>=4,pe<16?pe=0:pe>=4080?pe=255:pe>>=4,ve<16?ve=0:ve>=4080?ve=255:ve>>=4,$e<16?$e=0:$e>=4080?$e=255:$e>>=4,R[V+Oe]=fe,R[V+Oe+8]=J,R[V+Oe+16]=re,R[V+Oe+24]=ae,R[V+Oe+32]=de,R[V+Oe+40]=pe,R[V+Oe+48]=ve,R[V+Oe+56]=$e}}function I(O,V){for(var N=V.P,F=V.c,R=new Int16Array(64),K=0;K<F;K++)for(var Z=0;Z<N;Z++){var G=U(V,K,Z);w(V,G,R)}return V.D}function P(O,V,N){N==null&&(N=V);var F=O.length-1,R=N<V?N:V;if(V>=F)return null;var K=u(O,V);if(K>=65472&&K<=65534)return{u:null,M:K,offset:V};for(var Z=u(O,R);!(Z>=65472&&Z<=65534);){if(++R>=F)return null;Z=u(O,R)}return{u:K.toString(16),M:Z,offset:R}}return E.prototype={parse(O,V){V==null&&(V={});var N=V.F,F=0,R=null,K=null,Z,G,q=0;function Q(){var X=u(O,F);F+=2;var Le=F+X-2,Ke=P(O,Le,F);Ke&&Ke.u&&(Le=Ke.offset);var ie=O.subarray(F,Le);return F+=ie.length,ie}function ue(X){for(var Le=Math.ceil(X.o/8/X.X),Ke=Math.ceil(X.s/8/X.B),ie=0;ie<X.W.length;ie++){pt=X.W[ie];var ye=Math.ceil(Math.ceil(X.o/8)*pt.h/X.X),Me=Math.ceil(Math.ceil(X.s/8)*pt.A/X.B),wt=Le*pt.h,dt=Ke*pt.A,St=64*dt*(wt+1);pt.D=new Int16Array(St),pt.P=ye,pt.c=Me}X.m=Le,X.R=Ke}var j=[],te=[],fe=[],J=u(O,F);if(F+=2,J!==65496)throw new o("SOI not found");J=u(O,F),F+=2;e:for(;J!==65497;){var re,ae,de;switch(J){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var pe=Q();J===65504&&pe[0]===74&&pe[1]===70&&pe[2]===73&&pe[3]===70&&pe[4]===0&&(R={version:{d:pe[5],T:pe[6]},K:pe[7],j:pe[8]<<8|pe[9],H:pe[10]<<8|pe[11],S:pe[12],I:pe[13],C:pe.subarray(14,14+3*pe[12]*pe[13])}),J===65518&&pe[0]===65&&pe[1]===100&&pe[2]===111&&pe[3]===98&&pe[4]===101&&(K={version:pe[5]<<8|pe[6],k:pe[7]<<8|pe[8],q:pe[9]<<8|pe[10],a:pe[11]});break;case 65499:var ve=u(O,F),$e;F+=2;for(var Pe=ve+F-2;F<Pe;){var Ye=O[F++],Oe=new Uint16Array(64);if(Ye>>4===0)for(ae=0;ae<64;ae++)$e=p[ae],Oe[$e]=O[F++];else if(Ye>>4===1)for(ae=0;ae<64;ae++)$e=p[ae],Oe[$e]=u(O,F),F+=2;else throw new o("DQT - invalid table spec");j[Ye&15]=Oe}break;case 65472:case 65473:case 65474:if(Z)throw new o("Only single frame JPEGs supported");F+=2,Z={},Z.G=J===65473,Z.Z=J===65474,Z.precision=O[F++];var L=u(O,F),Ue,be=0,ce=0;F+=2,Z.s=N||L,Z.o=u(O,F),F+=2,Z.W=[],Z._={};var se=O[F++];for(re=0;re<se;re++){Ue=O[F];var me=O[F+1]>>4,Ne=O[F+1]&15;be<me&&(be=me),ce<Ne&&(ce=Ne);var ke=O[F+2];de=Z.W.push({h:me,A:Ne,L:ke,$:null}),Z._[Ue]=de-1,F+=3}Z.X=be,Z.B=ce,ue(Z);break;case 65476:var ge=u(O,F);for(F+=2,re=2;re<ge;){var We=O[F++],et=new Uint8Array(16),ze=0;for(ae=0;ae<16;ae++,F++)ze+=et[ae]=O[F];var nt=new Uint8Array(ze);for(ae=0;ae<ze;ae++,F++)nt[ae]=O[F];re+=17+ze,(We>>4===0?fe:te)[We&15]=M(et,nt)}break;case 65501:F+=2,G=u(O,F),F+=2;break;case 65498:var Mt=++q===1&&!N,pt;F+=2;var Ft=O[F++],sn=[];for(re=0;re<Ft;re++){var oe=O[F++],tt=Z._[oe];pt=Z.W[tt],pt.index=oe;var De=O[F++];pt.J=fe[De>>4],pt.i=te[De&15],sn.push(pt)}var it=O[F++],Se=O[F++],xe=O[F++];try{var ee=W(O,F,Z,sn,G,it,Se,xe>>4,xe&15,Mt);F+=ee}catch(X){if(X instanceof DNLMarkerError)return this.parse(O,{F:X.s});if(X instanceof EOIMarkerError)break e;throw X}break;case 65500:F+=4;break;case 65535:O[F]!==255&&F--;break;default:var Je=P(O,F-2,F-3);if(Je&&Je.u){F=Je.offset;break}if(F>=O.length-1)break e;throw new o("JpegImage.parse - unknown marker: "+J.toString(16))}J=u(O,F),F+=2}for(this.width=Z.o,this.height=Z.s,this.g=R,this.b=K,this.W=[],re=0;re<Z.W.length;re++){pt=Z.W[re];var mt=j[pt.L];mt&&(pt.$=mt),this.W.push({index:pt.index,e:I(Z,pt),l:pt.h/Z.X,t:pt.A/Z.B,P:pt.P,c:pt.c})}this.p=this.W.length},Y(O,V,N){N==null&&(N=!1);var F=this.width/O,R=this.height/V,K,Z,G,q,Q,ue,j,te,fe,J,re=0,ae,de=this.W.length,pe=O*V*de,ve=new Uint8ClampedArray(pe),$e=new Uint32Array(O),Pe=4294967288,Ye;for(j=0;j<de;j++){if(K=this.W[j],Z=K.l*F,G=K.t*R,re=j,ae=K.e,q=K.P+1<<3,Z!==Ye){for(Q=0;Q<O;Q++)te=0|Q*Z,$e[Q]=(te&Pe)<<3|te&7;Ye=Z}for(ue=0;ue<V;ue++)for(te=0|ue*G,J=q*(te&Pe)|(te&7)<<3,Q=0;Q<O;Q++)ve[re]=ae[J+$e[Q]],re+=de}var Oe=this.V;if(!N&&de===4&&!Oe&&(Oe=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Oe)for(j=0;j<pe;)for(te=0,fe=0;te<de;te++,j++,fe+=2)ve[j]=(ve[j]*Oe[fe]>>8)+Oe[fe+1];return ve},get f(){return this.b?!!this.b.a:this.p===3?this.N===0?!1:!(this.W[0].index===82&&this.W[1].index===71&&this.W[2].index===66):this.N===1},z:function(V){for(var N,F,R,K=0,Z=V.length;K<Z;K+=3)N=V[K],F=V[K+1],R=V[K+2],V[K]=N-179.456+1.402*R,V[K+1]=N+135.459-.344*F-.714*R,V[K+2]=N-226.816+1.772*F;return V},O:function(V){for(var N,F,R,K,Z=0,G=0,q=V.length;G<q;G+=4)N=V[G],F=V[G+1],R=V[G+2],K=V[G+3],V[Z++]=-122.67195406894+F*(-660635669420364e-19*F+.000437130475926232*R-54080610064599e-18*N+.00048449797120281*K-.154362151871126)+R*(-.000957964378445773*R+.000817076911346625*N-.00477271405408747*K+1.53380253221734)+N*(.000961250184130688*N-.00266257332283933*K+.48357088451265)+K*(-.000336197177618394*K+.484791561490776),V[Z++]=107.268039397724+F*(219927104525741e-19*F-.000640992018297945*R+.000659397001245577*N+.000426105652938837*K-.176491792462875)+R*(-.000778269941513683*R+.00130872261408275*N+.000770482631801132*K-.151051492775562)+N*(.00126935368114843*N-.00265090189010898*K+.25802910206845)+K*(-.000318913117588328*K-.213742400323665),V[Z++]=-20.810012546947+F*(-.000570115196973677*F-263409051004589e-19*R+.0020741088115012*N-.00288260236853442*K+.814272968359295)+R*(-153496057440975e-19*R-.000132689043961446*N+.000560833691242812*K-.195152027534049)+N*(.00174418132927582*N-.00255243321439347*K+.116935020465145)+K*(-.000343531996510555*K+.24165260232407);return V.subarray(0,Z)},r:function(V){for(var N,F,R,K=0,Z=V.length;K<Z;K+=4)N=V[K],F=V[K+1],R=V[K+2],V[K]=434.456-N-1.402*R,V[K+1]=119.541-N+.344*F+.714*R,V[K+2]=481.816-N-1.772*F;return V},U:function(V){for(var N,F,R,K,Z=0,G=0,q=V.length;G<q;G+=4)N=V[G],F=V[G+1],R=V[G+2],K=V[G+3],V[Z++]=255+N*(-6747147073602441e-20*N+.0008379262121013727*F+.0002894718188643294*R+.003264231057537806*K-1.1185611867203937)+F*(26374107616089405e-21*F-8626949158638572e-20*R-.0002748769067499491*K-.02155688794978967)+R*(-3878099212869363e-20*R-.0003267808279485286*K+.0686742238595345)-K*(.0003361971776183937*K+.7430659151342254),V[Z++]=255+N*(.00013596372813588848*N+.000924537132573585*F+.00010567359618683593*R+.0004791864687436512*K-.3109689587515875)+F*(-.00023545346108370344*F+.0002702845253534714*R+.0020200308977307156*K-.7488052167015494)+R*(6834815998235662e-20*R+.00015168452363460973*K-.09751927774728933)-K*(.0003189131175883281*K+.7364883807733168),V[Z++]=255+N*(13598650411385307e-21*N+.00012423956175490851*F+.0004751985097583589*R-36729317476630422e-22*K-.05562186980264034)+F*(.00016141380598724676*F+.0009692239130725186*R+.0007782692450036253*K-.44015232367526463)+R*(5068882914068769e-22*R+.0017778369011375071*K-.7591454649749609)-K*(.0003435319965105553*K+.7063770186160144);return V.subarray(0,Z)},getData:function(O){var V=O.width,N=O.height,F=O.forceRGB,R=O.isSourcePDF;if(this.p>4)throw new o("Unsupported color mode");var K=this.Y(V,N,R);if(this.p===1&&F){for(var Z=K.length,G=new Uint8ClampedArray(Z*3),q=0,Q=0;Q<Z;Q++){var ue=K[Q];G[q++]=ue,G[q++]=ue,G[q++]=ue}return G}else{if(this.p===3&&this.f)return this.z(K);if(this.p===4){if(this.f)return F?this.O(K):this.r(K);if(F)return this.U(K)}}return K}},E})();function u(f,p){return f[p]<<8|f[p+1]}i.JpegDecoder=l})(),i.encodeImage=function(o,l,u,f){var p={t256:[l],t257:[u],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[u],t279:[l*u*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(f)for(var h in f)p[h]=f[h];for(var m=new Uint8Array(i.encode([p])),g=new Uint8Array(o),_=new Uint8Array(1e3+l*u*4),h=0;h<m.length;h++)_[h]=m[h];for(var h=0;h<g.length;h++)_[1e3+h]=g[h];return _.buffer},i.encode=function(o){var l=new Uint8Array(2e4),u=4,f=i._binBE;l[0]=l[1]=77,f.writeUshort(l,2,42);var p=8;f.writeUint(l,u,p),u+=4;for(var h=0;h<o.length;h++){var m=i._writeIFD(f,i._types.basic,l,p,o[h]);p=m[1],h<o.length-1&&((p&3)!=0&&(p+=4-(p&3)),f.writeUint(l,m[0],p))}return l.slice(0,p).buffer},i.decode=function(o,l){l==null&&(l={parseMN:!0,debug:!1});var u=new Uint8Array(o),f=0,p=i._binBE.readASCII(u,f,2);f+=2;var h=p=="II"?i._binLE:i._binBE;h.readUshort(u,f),f+=2;var m=h.readUint(u,f);f+=4;for(var g=[];;){var _=h.readUshort(u,m),v=h.readUshort(u,m+4);if(_!=0&&(v<1||13<v)){r("error in TIFF");break}if(i._readIFD(h,u,m,g,0,l),m=h.readUint(u,m+2+_*12),m==0)break}return g},i.decodeImage=function(o,l,u){if(!l.data){var f=new Uint8Array(o),p=i._binBE.readASCII(f,0,2);if(l.t256!=null){l.isLE=p=="II",l.width=l.t256[0],l.height=l.t257[0];var h=l.t259?l.t259[0]:1,m=l.t266?l.t266[0]:1;l.t284&&l.t284[0]==2&&r("PlanarConfiguration 2 should not be used!"),h==7&&l.t258&&l.t258.length>3&&(l.t258=l.t258.slice(0,3));var g=l.t277?l.t277[0]:1,_=l.t258?l.t258[0]:1,v=_*g;h==1&&l.t279!=null&&l.t278&&l.t262[0]==32803&&(v=Math.round(l.t279[0]*8/(l.width*l.t278[0]))),l.t50885&&l.t50885[0]==4&&(v=l.t258[0]*3);var S=Math.ceil(l.width*v/8)*8,b=l.t273;(b==null||l.t322)&&(b=l.t324);var Y=l.t279;h==1&&b.length==1&&(Y=[l.height*(S>>>3)]),(Y==null||l.t322)&&(Y=l.t325);var E=new Uint8Array(l.height*(S>>>3)),M=0;if(l.t322!=null){for(var U=l.t322[0],W=l.t323[0],w=Math.floor((l.width+U-1)/U),I=Math.floor((l.height+W-1)/W),P=new Uint8Array(Math.ceil(U*W*v/8)|0),O=0;O<I;O++)for(var V=0;V<w;V++){var N=O*w+V;P.fill(0),i.decode._decompress(l,u,f,b[N],Y[N],h,P,0,m,U,W),h==6?E=P:i._copyTile(P,Math.ceil(U*v/8)|0,W,E,Math.ceil(l.width*v/8)|0,l.height,Math.ceil(V*U*v/8)|0,O*W)}M=E.length*8}else{if(b==null)return;var F=l.t278?l.t278[0]:l.height;F=Math.min(F,l.height);for(var N=0;N<b.length;N++)i.decode._decompress(l,u,f,b[N],Y[N],h,E,Math.ceil(M/8)|0,m,l.width,F),M+=S*F;M=Math.min(M,E.length*8)}l.data=new Uint8Array(E.buffer,0,Math.ceil(M/8)|0)}}},i.decode._decompress=function(o,l,u,f,p,h,m,g,_,v,S){if(o.t271&&o.t271[0]=="Panasonic"&&o.t45&&o.t45[0]==6&&(h=34316),h==1)for(var b=0;b<p;b++)m[g+b]=u[f+b];else if(h==2)i.decode._decodeG2(u,f,p,m,g,v,_);else if(h==3)i.decode._decodeG3(u,f,p,m,g,v,_,o.t292?(o.t292[0]&1)==1:!1);else if(h==4)i.decode._decodeG4(u,f,p,m,g,v,_);else if(h==5)i.decode._decodeLZW(u,f,p,m,g,8);else if(h==6)i.decode._decodeOldJPEG(o,u,f,p,m,g);else if(h==7||h==34892)i.decode._decodeNewJPEG(o,u,f,p,m,g);else if(h==8||h==32946){var Y=new Uint8Array(u.buffer,f+2,p-6),E=a.inflateRaw(Y);g+E.length<=m.length&&m.set(E,g)}else h==9?i.decode._decodeVC5(u,f,p,m,g,o.t33422):h==32767?i.decode._decodeARW(o,u,f,p,m,g):h==32773?i.decode._decodePackBits(u,f,p,m,g):h==32809?i.decode._decodeThunder(u,f,p,m,g):h==34316?i.decode._decodePanasonic(o,u,f,p,m,g):h==34713?i.decode._decodeNikon(o,l,u,f,p,m,g):h==34676?i.decode._decodeLogLuv32(o,u,f,p,m,g):r("Unknown compression",h);var M=o.t258?Math.min(32,o.t258[0]):1,U=o.t277?o.t277[0]:1,W=M*U>>>3,w=Math.ceil(M*U*v/8);if(M==16&&!o.isLE&&o.t33422==null)for(var I=0;I<S;I++)for(var P=g+I*w,O=1;O<w;O+=2){var V=m[P+O];m[P+O]=m[P+O-1],m[P+O-1]=V}if(o.t317&&o.t317[0]==2)for(var I=0;I<S;I++){var N=g+I*w;if(M==16)for(var b=W;b<w;b+=2){var F=(m[N+b+1]<<8|m[N+b])+(m[N+b-W+1]<<8|m[N+b-W]);m[N+b]=F&255,m[N+b+1]=F>>>8&255}else if(U==3)for(var b=3;b<w;b+=3)m[N+b]=m[N+b]+m[N+b-3]&255,m[N+b+1]=m[N+b+1]+m[N+b-2]&255,m[N+b+2]=m[N+b+2]+m[N+b-1]&255;else for(var b=W;b<w;b++)m[N+b]=m[N+b]+m[N+b-W]&255}},i.decode._decodePanasonic=function(o,l,u,f,p,h){var m=l.buffer,g=o.t2[0],_=o.t3[0],v=o.t10[0],S=o.t45[0],b=0,Y=0,E=0,M=0,U=S==6?new Uint32Array(18):new Uint8Array(16),W,w,I,P=[0,0],O=[0,0],V,N=0,F,R,K,Z,G=new Uint8Array(16384),q=new Uint16Array(p.buffer);function Q(Ne){if(E==0){var ke=new Uint8Array(m,u+Y+8184,8200),ge=new Uint8Array(m,u+Y,8184);G.set(ke),G.set(ge,ke.length),Y+=16384}if(S==5)for(W=0;W<16;W++)U[W]=G[E++],E&=16383;else return E=E-Ne&131071,M=E>>3^16368,(G[M]|G[M+1]<<8)>>(E&7)&~(-1<<Ne)}function ue(Ne){return G[E+15-Ne]}function j(){U[0]=ue(0)<<6|ue(1)>>2,U[1]=((ue(1)&3)<<12|ue(2)<<4|ue(3)>>4)&16383,U[2]=ue(3)>>2&3,U[3]=(ue(3)&3)<<8|ue(4),U[4]=ue(5)<<2|ue(6)>>6,U[5]=(ue(6)&63)<<4|ue(7)>>4,U[6]=ue(7)>>2&3,U[7]=(ue(7)&3)<<8|ue(8),U[8]=ue(9)<<2&1020|ue(10)>>6,U[9]=(ue(10)<<4|ue(11)>>4)&1023,U[10]=ue(11)>>2&3,U[11]=(ue(11)&3)<<8|ue(12),U[12]=(ue(13)<<2&1020|ue(14)>>6)&1023,U[13]=(ue(14)<<4|ue(15)>>4)&1023,E+=16,M=0}function te(){U[0]=ue(0)<<4|ue(1)>>4,U[1]=((ue(1)&15)<<8|ue(2))&4095,U[2]=ue(3)>>6&3,U[3]=(ue(3)&63)<<2|ue(4)>>6,U[4]=(ue(4)&63)<<2|ue(5)>>6,U[5]=(ue(5)&63)<<2|ue(6)>>6,U[6]=ue(6)>>4&3,U[7]=(ue(6)&15)<<4|ue(7)>>4,U[8]=(ue(7)&15)<<4|ue(8)>>4,U[9]=(ue(8)&15)<<4|ue(9)>>4,U[10]=ue(9)>>2&3,U[11]=(ue(9)&3)<<6|ue(10)>>2,U[12]=(ue(10)&3)<<6|ue(11)>>2,U[13]=(ue(11)&3)<<6|ue(12)>>2,U[14]=ue(12)&3,U[15]=ue(13),U[16]=ue(14),U[17]=ue(15),E+=16,M=0}function fe(){P[0]=0,P[1]=0,O[0]=0,O[1]=0}if(S==7)throw S;if(S==6){var J=v==12,re=J?te:j,ae=J?14:11,de=J?128:512,pe=J?2048:8192,ve=J?16383:65535,$e=J?4095:16383,Pe=g/ae,Ye=Pe*16,Oe=J?18:14;for(R=0;R<_-15;R+=16){var L=Math.min(16,_-R),Ue=Ye*L;for(G=new Uint8Array(m,u+b,Ue),E=0,b+=Ue,Z=0,K=0;Z<L;Z++,K=0){N=(R+Z)*g;for(var be=0;be<Pe;be++)for(re(),fe(),I=0,F=0,W=0;W<ae;W++){if(V=W&1,W%3==2){var ce=M<Oe?U[M++]:0;ce==3&&(ce=4),F=de<<ce,I=1<<ce}var se=M<Oe?U[M++]:0;P[V]?(se*=I,F<pe&&O[V]>F&&(se+=O[V]-F),O[V]=se):(P[V]=se,se?O[V]=se:se=O[V]),q[N+K++]=se-15<=ve?se-15&ve:se+2147483633>>31&$e}}}}else if(S==5){var me=v==12?10:9;for(R=0;R<_;R++)for(K=0;K<g;K+=me)Q(0),v==12?(q[N++]=((U[1]&15)<<8)+U[0],q[N++]=16*U[2]+(U[1]>>4),q[N++]=((U[4]&15)<<8)+U[3],q[N++]=16*U[5]+(U[4]>>4),q[N++]=((U[7]&15)<<8)+U[6],q[N++]=16*U[8]+(U[7]>>4),q[N++]=((U[10]&15)<<8)+U[9],q[N++]=16*U[11]+(U[10]>>4),q[N++]=((U[13]&15)<<8)+U[12],q[N++]=16*U[14]+(U[13]>>4)):v==14&&(q[N++]=U[0]+((U[1]&63)<<8),q[N++]=(U[1]>>6)+4*U[2]+((U[3]&15)<<10),q[N++]=(U[3]>>4)+16*U[4]+((U[5]&3)<<12),q[N++]=((U[5]&252)>>2)+(U[6]<<6),q[N++]=U[7]+((U[8]&63)<<8),q[N++]=(U[8]>>6)+4*U[9]+((U[10]&15)<<10),q[N++]=(U[10]>>4)+16*U[11]+((U[12]&3)<<12),q[N++]=((U[12]&252)>>2)+(U[13]<<6),q[N++]=U[14]+((U[15]&63)<<8))}else if(S==4)for(R=0;R<_;R++)for(K=0;K<g;K++)W=K%14,V=W&1,W==0&&fe(),W%3==2&&(I=4>>3-Q(2)),O[V]?(w=Q(8),w!=0&&(P[V]-=128<<I,(P[V]<0||I==4)&&(P[V]&=~(-1<<I)),P[V]+=w<<I)):(O[V]=Q(8),(O[V]||W>11)&&(P[V]=O[V]<<4|Q(4))),q[N++]=P[K&1];else throw S},i.decode._decodeVC5=(function(){var o=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],l,u,f,p=[3,3,3,3,2,2,2,1,1,1],h=24576,m=16384,g=8192,_=m|g;function v(I){var P=I[1],O=I[0][P>>>3]>>>7-(P&7)&1;return I[1]++,O}function S(I,P){if(l==null){l={};for(var O=0;O<o.length;O+=4)l[o[O+1]]=o.slice(O,O+4)}for(var V=v(I),N=l[V];N==null;)V=V<<1|v(I),N=l[V];var F=N[3];F!=0&&(F=v(I)==0?F:-F),P[0]=N[2],P[1]=F}function b(I,P){for(var O=0;O<P;O++)(I&1)==1&&I++,I=I>>>1;return I}function Y(I,P){return I>>P}function E(I,P,O,V,N,F){P[O]=Y(Y(11*I[N]-4*I[N+F]+I[N+F+F]+4,3)+I[V],1),P[O+F]=Y(Y(5*I[N]+4*I[N+F]-I[N+F+F]+4,3)-I[V],1)}function M(I,P,O,V,N,F){var R=I[N-F]-I[N+F],K=I[N],Z=I[V];P[O]=Y(Y(R+4,3)+K+Z,1),P[O+F]=Y(Y(-R+4,3)+K-Z,1)}function U(I,P,O,V,N,F){P[O]=Y(Y(5*I[N]+4*I[N-F]-I[N-F-F]+4,3)+I[V],1),P[O+F]=Y(Y(11*I[N]-4*I[N-F]+I[N-F-F]+4,3)-I[V],1)}function W(I){return I=I<0?0:I>4095?4095:I,I=f[I]>>>2,I}function w(I,P,O,V,N,F){V=new Uint16Array(V.buffer);var R=Date.now(),K=i._binBE,Z=P+O,G,q,Q,ue,j,te,fe,J,re,ae;P+=4;for(var de=F[0]==1;P<Z;){var pe=K.readShort(I,P),ve=K.readUshort(I,P+2);if(P+=4,pe==12)G=ve;else if(pe==20)q=ve;else if(pe==21)Q=ve;else if(pe==48)ue=ve;else if(pe==53)j=ve;else if(pe!=35){if(pe==62)te=ve;else if(pe!=101){if(pe==109)fe=ve;else if(pe!=84){if(pe!=106){if(pe!=107){if(pe!=108){if(pe!=102){if(pe==104)J=ve;else if(pe!=105){var $e=pe<0?-pe:pe,Pe=$e&65280,Ye=0;if($e&_&&($e&g?(Ye=ve&65535,Ye+=($e&255)<<16):Ye=ve&65535),($e&h)==h){if(re==null){re=[];for(var Oe=0;Oe<4;Oe++)re[Oe]=new Int16Array((q>>>1)*(Q>>>1));ae=new Int16Array((q>>>1)*(Q>>>1)),u=new Int16Array(1024);for(var Oe=0;Oe<1024;Oe++){var L=Oe-512,Ue=Math.abs(L),G=Math.floor(768*Ue*Ue*Ue/(65025*255))+Ue;u[Oe]=Math.sign(L)*G}f=new Uint16Array(4096);for(var be=65535,Oe=0;Oe<4096;Oe++){var ce=Oe,se=be*(Math.pow(113,ce/4095)-1)/112;f[Oe]=Math.min(se,be)}}var me=re[te],Ne=b(q,1+p[ue]),ke=b(Q,1+p[ue]);if(ue==0)for(var ge=0;ge<ke;ge++)for(var We=0;We<Ne;We++){var et=P+(ge*Ne+We)*2;me[ge*(q>>>1)+We]=I[et]<<8|I[et+1]}else{for(var ze=[I,P*8],nt=[],Mt=0,pt=Ne*ke,Ft=[0,0],sn=0,ve=0;Mt<pt;)for(S(ze,Ft),sn=Ft[0],ve=Ft[1];sn>0;)nt[Mt++]=ve,sn--;for(var oe=(ue-1)%3,tt=oe!=1?Ne:0,De=oe!=0?ke:0,ge=0;ge<ke;ge++)for(var it=(ge+De)*(q>>>1)+tt,Se=ge*Ne,We=0;We<Ne;We++)me[it+We]=u[nt[Se+We]+512]*j;if(oe==2){for(var J=q>>>1,xe=Ne*2,ee=ke*2,ge=0;ge<ke;ge++)for(var We=0;We<xe;We++){var Oe=ge*2*J+We,Je=ge*J+We,mt=ke*J+Je;ge==0?E(me,ae,Oe,mt,Je,J):ge==ke-1?U(me,ae,Oe,mt,Je,J):M(me,ae,Oe,mt,Je,J)}var X=me;me=ae,ae=X;for(var ge=0;ge<ee;ge++)for(var We=0;We<Ne;We++){var Oe=ge*J+2*We,Je=ge*J+We,mt=Ne+Je;We==0?E(me,ae,Oe,mt,Je,1):We==Ne-1?U(me,ae,Oe,mt,Je,1):M(me,ae,Oe,mt,Je,1)}var X=me;me=ae,ae=X;for(var Le=[],Ke=2-~~((ue-1)/3),ie=0;ie<3;ie++)Le[ie]=fe>>14-ie*2&3;var ye=Le[Ke];if(ye!=0)for(var ge=0;ge<ee;ge++)for(var We=0;We<xe;We++){var Oe=ge*J+We;me[Oe]=me[Oe]<<ye}}}if(ue==9&&te==3)for(var Me=re[0],wt=re[1],dt=re[2],St=re[3],ge=0;ge<Q;ge+=2)for(var We=0;We<q;We+=2){var kt=ge*q+We,et=(ge>>>1)*(q>>>1)+(We>>>1),Un=Me[et],hn=wt[et]-2048,At=dt[et]-2048,Zt=St[et]-2048,Dn=(hn<<1)+Un,Rn=(At<<1)+Un,Ir=Un+Zt,ii=Un-Zt;de?(V[kt]=W(Ir),V[kt+1]=W(Rn),V[kt+q]=W(Dn),V[kt+q+1]=W(ii)):(V[kt]=W(Dn),V[kt+1]=W(Ir),V[kt+q]=W(ii),V[kt+q+1]=W(Rn))}P+=Ye*4}else if($e==16388)P+=Ye*4;else if(!(Pe==8192||Pe==8448||Pe==9216))throw $e.toString(16)}}}}}}}}}Date.now()-R}return w})(),i.decode._decodeLogLuv32=function(o,l,u,f,p,h){for(var m=o.width,g=m*4,_=0,v=new Uint8Array(g);_<f;){for(var S=0;S<g;){var b=l[u+_];if(_++,b<128){for(var Y=0;Y<b;Y++)v[S+Y]=l[u+_+Y];S+=b,_+=b}else{b=b-126;for(var Y=0;Y<b;Y++)v[S+Y]=l[u+_];S+=b,_++}}for(var E=0;E<m;E++)p[h+0]=v[E],p[h+1]=v[E+m],p[h+2]=v[E+m*2],p[h+4]=v[E+m*3],h+=6}},i.decode._ljpeg_diff=function(o,l,u){var f=i.decode._getbithuff,p,h;return p=f(o,l,u[0],u),h=f(o,l,p,0),(h&1<<p-1)==0&&(h-=(1<<p)-1),h},i.decode._decodeARW=function(o,l,u,f,p,h){var m=o.t256[0],g=o.t257[0],_=o.t258[0],v=o.isLE?i._binLE:i._binBE,S=m*g==f||m*g*1.5==f;if(!S){g+=8;var b=[u,0,0,0],Y=new Uint16Array(32770),E=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],fe,M,U,K,R,W=0,w=i.decode._ljpeg_diff;for(Y[0]=15,U=fe=0;fe<18;fe++)for(var I=32768>>>(E[fe]>>>8),M=0;M<I;M++)Y[++U]=E[fe];for(K=m;K--;)for(R=0;R<g+1;R+=2)if(R==g&&(R=1),W+=w(l,b,Y),R<g){var P=W&4095;i.decode._putsF(p,(R*m+K)*_,P<<16-_)}return}if(m*g*1.5==f){for(var fe=0;fe<f;fe+=3){var O=l[u+fe+0],V=l[u+fe+1],N=l[u+fe+2];p[h+fe]=V<<4|O>>>4,p[h+fe+1]=O<<4|N>>>4,p[h+fe+2]=N<<4|V>>>4}return}var F=new Uint16Array(16),R,K,Z,G,q,Q,ue,j,te,fe,J,re=new Uint8Array(m+1);for(R=0;R<g;R++){for(var ae=0;ae<m;ae++)re[ae]=l[u++];for(J=0,K=0;K<m-30;J+=16){for(G=2047&(Z=v.readUint(re,J)),q=2047&Z>>>11,Q=15&Z>>>22,ue=15&Z>>>26,j=0;j<4&&128<<j<=G-q;j++);for(te=30,fe=0;fe<16;fe++)fe==Q?F[fe]=G:fe==ue?F[fe]=q:(F[fe]=((v.readUshort(re,J+(te>>3))>>>(te&7)&127)<<j)+q,F[fe]>2047&&(F[fe]=2047),te+=7);for(fe=0;fe<16;fe++,K+=2){var P=F[fe]<<1;i.decode._putsF(p,(R*m+K)*_,P<<16-_)}K-=K&1?1:31}}},i.decode._decodeNikon=function(o,l,u,f,p,h,m){var g=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],_=o.t256[0],v=o.t257[0],S=o.t258[0],b=0,Y=0,E=i.decode._make_decoder,M=i.decode._getbithuff,U=l[0].exifIFD.makerNote,W=U.t150?U.t150:U.t140,w=0,I=W[w++],P=W[w++];(I==73||P==88)&&(w+=2110),I==70&&(b=2),S==14&&(b+=3);for(var O=[[0,0],[0,0]],V=o.isLE?i._binLE:i._binBE,Z=0;Z<2;Z++)for(var N=0;N<2;N++)O[Z][N]=V.readShort(W,w),w+=2;var F=1<<S&32767,R=0,K=V.readShort(W,w);w+=2,K>1&&(R=Math.floor(F/(K-1))),I==68&&P==32&&R>0&&(Y=V.readShort(W,562));var Z,G,q,Q,ue,j,te=[0,0],fe=E(g[b]),J=[f,0,0,0];for(G=0;G<v;G++)for(Y&&G==Y&&(fe=E(g[b+1])),q=0;q<_;q++){Z=M(u,J,fe[0],fe),Q=Z&15,ue=Z>>>4,j=(M(u,J,Q-ue,0)<<1)+1<<ue>>>1,(j&1<<Q-1)==0&&(j-=(1<<Q)-(ue==0?1:0)),q<2?te[q]=O[G&1][q]+=j:te[q&1]+=j;var re=Math.min(Math.max(te[q&1],0),(1<<S)-1),ae=(G*_+q)*S;i.decode._putsF(h,ae,re<<16-S)}},i.decode._putsF=function(o,l,u){u=u<<8-(l&7);var f=l>>>3;o[f]|=u>>>16,o[f+1]|=u>>>8,o[f+2]|=u},i.decode._getbithuff=function(o,l,u,f){var p=0;i.decode._get_byte;var h,m=l[0],g=l[1],_=l[2],v=l[3];if(u==0||_<0)return 0;for(;!v&&_<u&&(h=o[m++])!=-1&&!(v=p);)g=(g<<8)+h,_+=8;if(h=g<<32-_>>>32-u,f?(_-=f[h+1]>>>8,h=f[h+1]&255):_-=u,_<0)throw"e";return l[0]=m,l[1]=g,l[2]=_,l[3]=v,h},i.decode._make_decoder=function(o){var l,u,f,p,h,m=[];for(l=16;l!=0&&!o[l];l--);var g=17;for(m[0]=l,f=u=1;u<=l;u++)for(p=0;p<o[u];p++,++g)for(h=0;h<1<<l-u;h++)f<=1<<l&&(m[f++]=u<<8|o[g]);return m},i.decode._decodeNewJPEG=function(o,l,u,f,p,h){f=Math.min(f,l.length-u);var m=o.t347,g=m?m.length:0,_=new Uint8Array(g+f);if(m){for(var v=216,S=217,b=0,Y=0;Y<g-1&&!(m[Y]==255&&m[Y+1]==S);Y++)_[b++]=m[Y];var E=l[u],M=l[u+1];(E!=255||M!=v)&&(_[b++]=E,_[b++]=M);for(var Y=2;Y<f;Y++)_[b++]=l[u+Y]}else for(var Y=0;Y<f;Y++)_[Y]=l[u+Y];if(o.t262[0]==32803||o.t259[0]==7&&o.t262[0]==34892){var U=o.t258[0],W=i.LosslessJpegDecode(_),w=W.length;if(U==16)if(o.isLE)for(var Y=0;Y<w;Y++)p[h+(Y<<1)]=W[Y]&255,p[h+(Y<<1)+1]=W[Y]>>>8;else for(var Y=0;Y<w;Y++)p[h+(Y<<1)]=W[Y]>>>8,p[h+(Y<<1)+1]=W[Y]&255;else if(U==14||U==12||U==10)for(var I=16-U,Y=0;Y<w;Y++)i.decode._putsF(p,Y*U,W[Y]<<I);else if(U==8)for(var Y=0;Y<w;Y++)p[h+Y]=W[Y];else throw new Error("unsupported bit depth "+U)}else{var P=new i.JpegDecoder;P.parse(_);for(var O=P.getData({width:P.width,height:P.height,forceRGB:!0,isSourcePDF:!1}),Y=0;Y<O.length;Y++)p[h+Y]=O[Y]}o.t262[0]==6&&(o.t262[0]=2)},i.decode._decodeOldJPEGInit=function(o,l,u,f){var p=216,h=219,m=196,g=221,_=192,v=218,S=0,b=0,Y,E,M=!1,U,W,w,I=o.t513,P=I?I[0]:0,O=o.t514,V=O?O[0]:0,N=o.t324||o.t273||I,F=o.t530,R=0,K=0,Z=o.t277?o.t277[0]:1,G=o.t515;if(N&&(b=N[0],M=N.length>1),!M){if(l[u]==255&&l[u+1]==p)return{jpegOffset:u};if(I!=null&&(l[u+P]==255&&l[u+P+1]==p?S=u+P:r("JPEGInterchangeFormat does not point to SOI"),O==null?r("JPEGInterchangeFormatLength field is missing"):(P>=b||P+V<=b)&&r("JPEGInterchangeFormatLength field value is invalid"),S!=null))return{jpegOffset:S}}if(F!=null&&(R=F[0],K=F[1]),I!=null&&O!=null)if(V>=2&&P+V<=b){for(l[u+P+V-2]==255&&l[u+P+V-1]==p?Y=new Uint8Array(V-2):Y=new Uint8Array(V),U=0;U<Y.length;U++)Y[U]=l[u+P+U];r("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else r("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(Y==null){var q=0,Q=[];Q[q++]=255,Q[q++]=p;var ue=o.t519;if(ue==null)throw new Error("JPEGQTables tag is missing");for(U=0;U<ue.length;U++)for(Q[q++]=255,Q[q++]=h,Q[q++]=0,Q[q++]=67,Q[q++]=U,W=0;W<64;W++)Q[q++]=l[u+ue[U]+W];for(w=0;w<2;w++){var j=o[w==0?"t520":"t521"];if(j==null)throw new Error((w==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(U=0;U<j.length;U++){Q[q++]=255,Q[q++]=m;var te=19;for(W=0;W<16;W++)te+=l[u+j[U]+W];for(Q[q++]=te>>>8,Q[q++]=te&255,Q[q++]=U|w<<4,W=0;W<16;W++)Q[q++]=l[u+j[U]+W];for(W=0;W<te;W++)Q[q++]=l[u+j[U]+16+W]}}if(Q[q++]=255,Q[q++]=_,Q[q++]=0,Q[q++]=8+3*Z,Q[q++]=8,Q[q++]=o.height>>>8&255,Q[q++]=o.height&255,Q[q++]=o.width>>>8&255,Q[q++]=o.width&255,Q[q++]=Z,Z==1)Q[q++]=1,Q[q++]=17,Q[q++]=0;else for(U=0;U<3;U++)Q[q++]=U+1,Q[q++]=U!=0?17:(R&15)<<4|K&15,Q[q++]=U;G!=null&&G[0]!=0&&(Q[q++]=255,Q[q++]=g,Q[q++]=0,Q[q++]=4,Q[q++]=G[0]>>>8&255,Q[q++]=G[0]&255),Y=new Uint8Array(Q)}var fe=-1;for(U=0;U<Y.length-1;){if(Y[U]==255&&Y[U+1]==_){fe=U;break}U++}if(fe==-1){var J=new Uint8Array(Y.length+10+3*Z);J.set(Y);var re=Y.length;if(fe=Y.length,Y=J,Y[re++]=255,Y[re++]=_,Y[re++]=0,Y[re++]=8+3*Z,Y[re++]=8,Y[re++]=o.height>>>8&255,Y[re++]=o.height&255,Y[re++]=o.width>>>8&255,Y[re++]=o.width&255,Y[re++]=Z,Z==1)Y[re++]=1,Y[re++]=17,Y[re++]=0;else for(U=0;U<3;U++)Y[re++]=U+1,Y[re++]=U!=0?17:(R&15)<<4|K&15,Y[re++]=U}if(l[b]==255&&l[b+1]==v){var ae=l[b+2]<<8|l[b+3];for(E=new Uint8Array(ae+2),E[0]=l[b],E[1]=l[b+1],E[2]=l[b+2],E[3]=l[b+3],U=0;U<ae-2;U++)E[U+4]=l[b+U+4]}else{E=new Uint8Array(8+2*Z);var de=0;if(E[de++]=255,E[de++]=v,E[de++]=0,E[de++]=6+2*Z,E[de++]=Z,Z==1)E[de++]=1,E[de++]=0;else for(U=0;U<3;U++)E[de++]=U+1,E[de++]=U<<4|U;E[de++]=0,E[de++]=63,E[de++]=0}return{jpegOffset:u,tables:Y,sosMarker:E,sofPosition:fe}},i.decode._decodeOldJPEG=function(o,l,u,f,p,h){var m,g,_,v,S,b=i.decode._decodeOldJPEGInit(o,l,u,f);if(b.jpegOffset!=null)for(g=u+f-b.jpegOffset,v=new Uint8Array(g),m=0;m<g;m++)v[m]=l[b.jpegOffset+m];else{for(_=b.tables.length,v=new Uint8Array(_+b.sosMarker.length+f+2),v.set(b.tables),S=_,v[b.sofPosition+5]=o.height>>>8&255,v[b.sofPosition+6]=o.height&255,v[b.sofPosition+7]=o.width>>>8&255,v[b.sofPosition+8]=o.width&255,(l[u]!=255||l[u+1]!=SOS)&&(v.set(b.sosMarker,S),S+=sosMarker.length),m=0;m<f;m++)v[S++]=l[u+m];v[S++]=255,v[S++]=EOI}var Y=new i.JpegDecoder;Y.parse(v);for(var E=Y.getData({width:Y.width,height:Y.height,forceRGB:!0,isSourcePDF:!1}),m=0;m<E.length;m++)p[h+m]=E[m];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},i.decode._decodePackBits=function(o,l,u,f,p){for(var h=new Int8Array(o.buffer),m=new Int8Array(f.buffer),g=l+u;l<g;){var _=h[l];if(l++,_>=0&&_<128)for(var v=0;v<_+1;v++)m[p]=h[l],p++,l++;if(_>=-127&&_<0){for(var v=0;v<-_+1;v++)m[p]=h[l],p++;l++}}return p},i.decode._decodeThunder=function(o,l,u,f,p){for(var h=[0,1,0,-1],m=[0,1,2,3,0,-3,-2,-1],g=l+u,_=p*2,v=0;l<g;){var S=o[l],b=S>>>6,Y=S&63;if(l++,b==3&&(v=Y&15,f[_>>>1]|=v<<4*(1-_&1),_++),b==0)for(var E=0;E<Y;E++)f[_>>>1]|=v<<4*(1-_&1),_++;if(b==2)for(var E=0;E<2;E++){var M=Y>>>3*(1-E)&7;M!=4&&(v+=m[M],f[_>>>1]|=v<<4*(1-_&1),_++)}if(b==1)for(var E=0;E<3;E++){var M=Y>>>2*(2-E)&3;M!=2&&(v+=h[M],f[_>>>1]|=v<<4*(1-_&1),_++)}}},i.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},i.decode._lens=(function(){var o=function(_,v,S,b){for(var Y=0;Y<v.length;Y++)_[v[Y]]=S+Y*b},l="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",u="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",f="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",p="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",h="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";l=l.split(","),u=u.split(","),f=f.split(","),p=p.split(","),h=h.split(",");var m={},g={};return o(m,l,0,1),o(m,f,64,64),o(m,h,1792,64),o(g,u,0,1),o(g,p,64,64),o(g,h,1792,64),[m,g]})(),i.decode._decodeG4=function(o,l,u,f,p,h,m){for(var g=i.decode,_=l<<3,v=0,S="",b=[],Y=[],E=0;E<h;E++)Y.push(0);Y=g._makeDiff(Y);for(var M=0,U=0,W=0,w=0,I=0,P=0,O="",V=0,N=Math.ceil(h/8)*8;_>>>3<l+u;){W=g._findDiff(Y,M+(M==0?0:1),1-I),w=g._findDiff(Y,W,I);var F=0;if(m==1&&(F=o[_>>>3]>>>7-(_&7)&1),m==2&&(F=o[_>>>3]>>>(_&7)&1),_++,S+=F,O=="H"){if(g._lens[I][S]!=null){var R=g._lens[I][S];S="",v+=R,R<64&&(g._addNtimes(b,v,I),M+=v,I=1-I,v=0,V--,V==0&&(O=""))}}else S=="0001"&&(S="",g._addNtimes(b,w-M,I),M=w),S=="001"&&(S="",O="H",V=2),g._dmap[S]!=null&&(U=W+g._dmap[S],g._addNtimes(b,U-M,I),M=U,S="",I=1-I);b.length==h&&O==""&&(g._writeBits(b,f,p*8+P*N),I=0,P++,M=0,Y=g._makeDiff(b),b=[])}},i.decode._findDiff=function(o,l,u){for(var f=0;f<o.length;f+=2)if(o[f]>=l&&o[f+1]==u)return o[f]},i.decode._makeDiff=function(o){var l=[];o[0]==1&&l.push(0,1);for(var u=1;u<o.length;u++)o[u-1]!=o[u]&&l.push(u,o[u]);return l.push(o.length,0,o.length,1),l},i.decode._decodeG2=function(o,l,u,f,p,h,m){for(var g=i.decode,_=l<<3,v=0,S="",b=[],Y=0,E=0,M=Math.ceil(h/8)*8;_>>>3<l+u;){var U=0;m==1&&(U=o[_>>>3]>>>7-(_&7)&1),m==2&&(U=o[_>>>3]>>>(_&7)&1),_++,S+=U,v=g._lens[Y][S],v!=null&&(g._addNtimes(b,v,Y),S="",v<64&&(Y=1-Y),b.length==h&&(g._writeBits(b,f,p*8+E*M),b=[],E++,Y=0,(_&7)!=0&&(_+=8-(_&7)),v>=64&&(_+=8)))}},i.decode._decodeG3=function(o,l,u,f,p,h,m,g){for(var _=i.decode,v=l<<3,S=0,b="",Y=[],E=[],M=0;M<h;M++)Y.push(0);for(var U=0,W=0,w=0,I=0,P=0,O=-1,V="",N=0,F=!0,R=Math.ceil(h/8)*8;v>>>3<l+u;){w=_._findDiff(E,U+(U==0?0:1),1-P),I=_._findDiff(E,w,P);var K=0;if(m==1&&(K=o[v>>>3]>>>7-(v&7)&1),m==2&&(K=o[v>>>3]>>>(v&7)&1),v++,b+=K,F){if(_._lens[P][b]!=null){var Z=_._lens[P][b];b="",S+=Z,Z<64&&(_._addNtimes(Y,S,P),P=1-P,S=0)}}else if(V=="H"){if(_._lens[P][b]!=null){var Z=_._lens[P][b];b="",S+=Z,Z<64&&(_._addNtimes(Y,S,P),U+=S,P=1-P,S=0,N--,N==0&&(V=""))}}else b=="0001"&&(b="",_._addNtimes(Y,I-U,P),U=I),b=="001"&&(b="",V="H",N=2),_._dmap[b]!=null&&(W=w+_._dmap[b],_._addNtimes(Y,W-U,P),U=W,b="",P=1-P);b.endsWith("000000000001")&&(O>=0&&_._writeBits(Y,f,p*8+O*R),g&&(m==1&&(F=(o[v>>>3]>>>7-(v&7)&1)==1),m==2&&(F=(o[v>>>3]>>>(v&7)&1)==1),v++),b="",P=0,O++,U=0,E=_._makeDiff(Y),Y=[])}Y.length==h&&_._writeBits(Y,f,p*8+O*R)},i.decode._addNtimes=function(o,l,u){for(var f=0;f<l;f++)o.push(u)},i.decode._writeBits=function(o,l,u){for(var f=0;f<o.length;f++)l[u+f>>>3]|=o[f]<<7-(u+f&7)},i.decode._decodeLZW=i.decode._decodeLZW=(function(){var o,l,u,f,p=0,h=0,m=0,g=0,_=function(){var W=o>>>3,w=l[W]<<16|l[W+1]<<8|l[W+2],I=w>>>24-(o&7)-h&(1<<h)-1;return o+=h,I},v=new Uint32Array(4096*4),S=0,b=function(W){if(W!=S){S=W,m=1<<W,g=m+1;for(var w=0;w<g+1;w++)v[4*w]=v[4*w+3]=w,v[4*w+1]=65535,v[4*w+2]=1}},Y=function(W){h=W+1,p=g+1},E=function(W){for(var w=W<<2,I=v[w+2],P=f+I-1;w!=65535;)u[P--]=v[w],w=v[w+1];f+=I},M=function(W,w){var I=p<<2,P=W<<2;v[I]=v[(w<<2)+3],v[I+1]=P,v[I+2]=v[P+2]+1,v[I+3]=v[P+3],p++,p+1==1<<h&&h!=12&&h++},U=function(W,w,I,P,O,V){o=w<<3,l=W,u=P,f=O;var N=w+I<<3,F=0,R=0;for(b(V),Y(V);o<N&&(F=_())!=g;){if(F==m){if(Y(V),F=_(),F==g)break;E(F)}else F<p?(E(F),M(R,F)):(M(R,R),E(p-1));R=F}return f};return U})(),i.tags={},i._types=(function(){var o=new Array(250);o.fill(0),o=o.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var l={33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7};return{basic:{main:o,rest:l},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}})(),i._readIFD=function(o,l,u,f,p,h){var m=o.readUshort(l,u);u+=2;var g={};h.debug&&r("   ".repeat(p),f.length-1,">>>----------------");for(var _=0;_<m;_++){var v=o.readUshort(l,u);u+=2;var S=o.readUshort(l,u);u+=2;var b=o.readUint(l,u);u+=4;var Y=o.readUint(l,u);u+=4;var E=[];if(S==1||S==7){var M=b<5?u-4:Y;M+b>l.buffer.byteLength&&(b=l.buffer.byteLength-M),E=new Uint8Array(l.buffer,M,b)}if(S==2){var U=b<5?u-4:Y,W=l[U],w=Math.max(0,Math.min(b-1,l.length-U));W<128||w==0?E.push(o.readASCII(l,U,w)):E=new Uint8Array(l.buffer,U,w)}if(S==3)for(var I=0;I<b;I++)E.push(o.readUshort(l,(b<3?u-4:Y)+2*I));if(S==4||S==13)for(var I=0;I<b;I++)E.push(o.readUint(l,(b<2?u-4:Y)+4*I));if(S==5||S==10)for(var P=S==5?o.readUint:o.readInt,I=0;I<b;I++)E.push([P(l,Y+I*8),P(l,Y+I*8+4)]);if(S==8)for(var I=0;I<b;I++)E.push(o.readShort(l,(b<3?u-4:Y)+2*I));if(S==9)for(var I=0;I<b;I++)E.push(o.readInt(l,(b<2?u-4:Y)+4*I));if(S==11)for(var I=0;I<b;I++)E.push(o.readFloat(l,Y+I*4));if(S==12)for(var I=0;I<b;I++)E.push(o.readDouble(l,Y+I*8));if(b!=0&&E.length==0){if(r(v,"unknown TIFF tag type: ",S,"num:",b),_==0)return;continue}if(h.debug&&r("   ".repeat(p),v,S,i.tags[v],E),g["t"+v]=E,!(v==330&&g.t272&&g.t272[0]=="DSLR-A100")){if(v==330||v==34665||v==34853||v==50740&&o.readUshort(l,o.readUint(E,0))<300||v==61440){for(var O=v==50740?[o.readUint(E,0)]:E,V=[],I=0;I<O.length;I++)i._readIFD(o,l,O[I],V,p+1,h);v==330&&(g.subIFD=V),v==34665&&(g.exifIFD=V[0]),v==34853&&(g.gpsiIFD=V[0]),v==50740&&(g.dngPrvt=V[0]),v==61440&&(g.fujiIFD=V[0])}}if(v==37500&&h.parseMN){var N=E;if(o.readASCII(N,0,5)=="Nikon")g.makerNote=i.decode(N.slice(10).buffer)[0];else if(o.readASCII(N,0,5)=="OLYMP"||o.readASCII(N,0,9)=="OM SYSTEM"){var F=[8208,8224,8240,8256,8272],R=[];i._readIFD(o,N,N[1]==77?16:N[5]==85?12:8,R,p+1,h);for(var K=g.makerNote=R.pop(),I=0;I<F.length;I++){var Z="t"+F[I];K[Z]!=null&&(i._readIFD(o,N,K[Z][0],R,p+1,h),K[Z]=R.pop())}K.t12288&&(i._readIFD(o,K.t12288,0,R,p+1,h),K.t12288=R.pop())}else if(o.readUshort(l,Y)<300&&o.readUshort(l,Y+4)<=12){var R=[];i._readIFD(o,l,Y,R,p+1,h),g.makerNote=R[0]}}}return f.push(g),h.debug&&r("   ".repeat(p),"<<<---------------"),u},i._writeIFD=function(o,l,u,f,p){var h=Object.keys(p),m=h.length;p.exifIFD&&m--,p.gpsiIFD&&m--,o.writeUshort(u,f,m),f+=2;for(var g=f+m*12+4,_=0;_<h.length;_++){var v=h[_];if(!(v=="t34665"||v=="t34853")){v=="exifIFD"&&(v="t34665"),v=="gpsiIFD"&&(v="t34853");var S=parseInt(v.slice(1)),b=l.main[S];if(b==null&&(b=l.rest[S]),b==null||b==0)throw new Error("unknown type of tag: "+S);var Y=p[v];if(S==34665){var E=i._writeIFD(o,l,u,g,p.exifIFD);Y=[g],g=E[1]}if(S==34853){var E=i._writeIFD(o,i._types.gps,u,g,p.gpsiIFD);Y=[g],g=E[1]}b==2&&(Y=Y[0]+"\0");var M=Y.length;o.writeUshort(u,f,S),f+=2,o.writeUshort(u,f,b),f+=2,o.writeUint(u,f,M),f+=4;var U=[-1,1,1,2,4,8,0,1,0,4,8,0,8][b]*M,W=f;if(U>4&&(o.writeUint(u,f,g),W=g),b==1||b==7)for(var w=0;w<M;w++)u[W+w]=Y[w];else if(b==2)o.writeASCII(u,W,Y);else if(b==3)for(var w=0;w<M;w++)o.writeUshort(u,W+2*w,Y[w]);else if(b==4)for(var w=0;w<M;w++)o.writeUint(u,W+4*w,Y[w]);else if(b==5||b==10)for(var I=b==5?o.writeUint:o.writeInt,w=0;w<M;w++){var P=Y[w],O=P[0],V=P[1];if(O==null)throw"e";I(u,W+8*w,O),I(u,W+8*w+4,V)}else if(b==9)for(var w=0;w<M;w++)o.writeInt(u,W+4*w,Y[w]);else if(b==12)for(var w=0;w<M;w++)o.writeDouble(u,W+8*w,Y[w]);else throw b;U>4&&(U+=U&1,g+=U),f+=4}}return[f,g]},i.toRGBA8=function(o,l){function u(nt){return nt<.0031308?12.92*nt:1.055*Math.pow(nt,1/2.4)-.055}var f=o.width,p=o.height,h=f*p,m=o.data,g=new Uint8Array(h*4),_=o.t262?o.t262[0]:2,v=o.t258?Math.min(32,o.t258[0]):1;o.t262==null&&v==1&&(_=0);var S=o.t277?o.t277[0]:o.t258?o.t258.length:[1,1,3,1,1,4,3][_],b=o.t339?o.t339[0]:null;if(_==1&&v==32&&b!=3)throw"e";var Y=Math.ceil(S*v*f/8);if(_==0){l=1/256;for(var E=0;E<p;E++){var M=E*Y,U=E*f;if(v==1)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+(W>>3)]>>7-(W&7)&1;g[w]=g[w+1]=g[w+2]=(1-I)*255,g[w+3]=255}if(v==4)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+(W>>1)]>>4-4*(W&1)&15;g[w]=g[w+1]=g[w+2]=(15-I)*17,g[w+3]=255}if(v==8)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+W];g[w]=g[w+1]=g[w+2]=255-I,g[w+3]=255}if(v==16)for(var W=0;W<f;W++){var w=U+W<<2,P=M+2*W,I=m[P+1]<<8|m[P];g[w]=g[w+1]=g[w+2]=Math.min(255,255-~~(I*l)),g[w+3]=255}}}else if(_==1){l==null&&(l=1/256);for(var O=(m.length&3)==0?new Float32Array(m.buffer):null,E=0;E<p;E++){var M=E*Y,U=E*f;if(v==1)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+(W>>3)]>>7-(W&7)&1;g[w]=g[w+1]=g[w+2]=I*255,g[w+3]=255}if(v==2)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+(W>>2)]>>6-2*(W&3)&3;g[w]=g[w+1]=g[w+2]=I*85,g[w+3]=255}if(v==8)for(var W=0;W<f;W++){var w=U+W<<2,I=m[M+W*S];g[w]=g[w+1]=g[w+2]=I,g[w+3]=255}if(v==16)for(var W=0;W<f;W++){var w=U+W<<2,P=M+2*W,I=m[P+1]<<8|m[P];g[w]=g[w+1]=g[w+2]=Math.min(255,~~(I*l)),g[w+3]=255}if(v==32)for(var W=0;W<f;W++){var w=U+W<<2,P=(M>>>2)+W,I=O[P];g[w]=g[w+1]=g[w+2]=~~(.5+255*I),g[w+3]=255}}}else if(_==2)if(v==8){if(S==1)for(var W=0;W<h;W++)g[4*W]=g[4*W+1]=g[4*W+2]=m[W],g[4*W+3]=255;if(S==3)for(var W=0;W<h;W++){var w=W<<2,V=W*3;g[w]=m[V],g[w+1]=m[V+1],g[w+2]=m[V+2],g[w+3]=255}if(S>=4)for(var W=0;W<h;W++){var w=W<<2,V=W*S;g[w]=m[V],g[w+1]=m[V+1],g[w+2]=m[V+2],g[w+3]=m[V+3]}}else if(v==16){if(S==4)for(var W=0;W<h;W++){var w=W<<2,V=W*8+1;g[w]=m[V],g[w+1]=m[V+2],g[w+2]=m[V+4],g[w+3]=m[V+6]}if(S==3)for(var W=0;W<h;W++){var w=W<<2,V=W*6+1;g[w]=m[V],g[w+1]=m[V+2],g[w+2]=m[V+4],g[w+3]=255}}else if(v==32){for(var N=new Float32Array(m.buffer),F=0,W=0;W<N.length;W++)F=Math.min(F,N[W]);if(F<0)for(var W=0;W<m.length;W+=4){var R=m[W];m[W]=m[W+3],m[W+3]=R,R=m[W+1],m[W+1]=m[W+2],m[W+2]=R}for(var K=[],W=0;W<65536;W++)K.push(u(W/65535));for(var W=0;W<N.length;W++){var Z=Math.max(0,Math.min(1,N[W]));N[W]=K[~~(.5+Z*65535)]}if(S==3)for(var W=0;W<h;W++){var w=W<<2,V=W*3;g[w]=~~(.5+N[V]*255),g[w+1]=~~(.5+N[V+1]*255),g[w+2]=~~(.5+N[V+2]*255),g[w+3]=255}else if(S==4)for(var W=0;W<h;W++){var w=W<<2,V=W*4;g[w]=~~(.5+N[V]*255),g[w+1]=~~(.5+N[V+1]*255),g[w+2]=~~(.5+N[V+2]*255),g[w+3]=~~(.5+N[V+3]*255)}else throw S}else throw v;else if(_==3)for(var G=o.t320,q=1<<v,Q=v==8&&S>1&&o.t338&&o.t338[0]!=0,E=0;E<p;E++)for(var ue=0;ue<f;ue++){var W=E*f+ue,w=W<<2,j=0,te=E*Y;if(v==1)j=m[te+(ue>>>3)]>>>7-(ue&7)&1;else if(v==2)j=m[te+(ue>>>2)]>>>6-2*(ue&3)&3;else if(v==4)j=m[te+(ue>>>1)]>>>4-4*(ue&1)&15;else if(v==8)j=m[te+ue*S];else throw v;g[w]=G[j]>>8,g[w+1]=G[q+j]>>8,g[w+2]=G[q+q+j]>>8,g[w+3]=Q?m[te+ue*S+1]:255}else if(_==5)for(var fe=S>4?1:0,W=0;W<h;W++){var w=W<<2,J=W*S;if(window.UDOC){var re=m[J],ae=m[J+1],de=m[J+2],pe=m[J+3],ve=UDOC.C.cmykToRgb([re*(1/255),ae*(1/255),de*(1/255),pe*(1/255)]);g[w]=~~(.5+255*ve[0]),g[w+1]=~~(.5+255*ve[1]),g[w+2]=~~(.5+255*ve[2])}else{var re=255-m[J],ae=255-m[J+1],de=255-m[J+2],pe=(255-m[J+3])*(1/255);g[w]=~~(re*pe+.5),g[w+1]=~~(ae*pe+.5),g[w+2]=~~(de*pe+.5)}g[w+3]=255*(1-fe)+m[J+4]*fe}else if(_==6&&o.t278)for(var $e=o.t278[0],E=0;E<p;E+=$e)for(var W=E*f,Pe=$e*f,Ye=0;Ye<Pe;Ye++){var w=4*(W+Ye),J=3*W+4*(Ye>>>1),de=m[J+(Ye&1)],Oe=m[J+2]-128,L=m[J+3]-128,Ue=de+((L>>2)+(L>>3)+(L>>5)),be=de-((Oe>>2)+(Oe>>4)+(Oe>>5))-((L>>1)+(L>>3)+(L>>4)+(L>>5)),ce=de+(Oe+(Oe>>1)+(Oe>>2)+(Oe>>6));g[w]=Math.max(0,Math.min(255,Ue)),g[w+1]=Math.max(0,Math.min(255,be)),g[w+2]=Math.max(0,Math.min(255,ce)),g[w+3]=255}else if(_==32845)for(var E=0;E<p;E++)for(var ue=0;ue<f;ue++){var J=(E*f+ue)*6,w=(E*f+ue)*4,se=m[J+1]<<8|m[J],se=Math.pow(2,(se+.5)/256-64),me=(m[J+3]+.5)/410,Ne=(m[J+5]+.5)/410,ke=9*me/(6*me-16*Ne+12),ge=4*Ne/(6*me-16*Ne+12),We=se,et=ke*We/ge,de=We,ze=(1-ke-ge)*We/ge,Ue=2.69*et-1.276*de-.414*ze,be=-1.022*et+1.978*de+.044*ze,ce=.061*et-.224*de+1.163*ze;g[w]=u(Math.min(Ue,1))*255,g[w+1]=u(Math.min(be,1))*255,g[w+2]=u(Math.min(ce,1))*255,g[w+3]=255}else r("Unknown Photometric interpretation: "+_);return g},i.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var l=["tif","tiff","dng","cr2","nef"],u=0;u<o.length;u++){var f=o[u],p=f.getAttribute("src");if(p!=null){var h=p.split(".").pop().toLowerCase();if(l.indexOf(h)!=-1){var m=new XMLHttpRequest;i._xhrs.push(m),i._imgs.push(f),m.open("GET",p),m.responseType="arraybuffer",m.onload=i._imgLoaded,m.send()}}}},i._xhrs=[],i._imgs=[],i._imgLoaded=function(o){var l=i._xhrs.indexOf(o.target),u=i._imgs[l];i._xhrs.splice(l,1),i._imgs.splice(l,1),u.setAttribute("src",i.bufferToURI(o.target.response))},i.bufferToURI=function(o){var l=i.decode(o),u=l,f=0,p=u[0];l[0].subIFD&&(u=u.concat(l[0].subIFD));for(var h=0;h<u.length;h++){var m=u[h];if(!(m.t258==null||m.t258.length<3)){var g=m.t256*m.t257;g>f&&(f=g,p=m)}}i.decodeImage(o,p,l);var _=i.toRGBA8(p),v=p.width,S=p.height,b=document.createElement("canvas");b.width=v,b.height=S;var Y=b.getContext("2d"),E=new ImageData(new Uint8ClampedArray(_.buffer),v,S);return Y.putImageData(E,0,0),b.toDataURL()},i._binBE={nextZero:function(o,l){for(;o[l]!=0;)l++;return l},readUshort:function(o,l){return o[l]<<8|o[l+1]},readShort:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+1],u[1]=o[l+0],i._binBE.i16[0]},readInt:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+3],u[1]=o[l+2],u[2]=o[l+1],u[3]=o[l+0],i._binBE.i32[0]},readUint:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+3],u[1]=o[l+2],u[2]=o[l+1],u[3]=o[l+0],i._binBE.ui32[0]},readASCII:function(o,l,u){for(var f="",p=0;p<u;p++)f+=String.fromCharCode(o[l+p]);return f},readFloat:function(o,l){for(var u=i._binBE.ui8,f=0;f<4;f++)u[f]=o[l+3-f];return i._binBE.fl32[0]},readDouble:function(o,l){for(var u=i._binBE.ui8,f=0;f<8;f++)u[f]=o[l+7-f];return i._binBE.fl64[0]},writeUshort:function(o,l,u){o[l]=u>>8&255,o[l+1]=u&255},writeInt:function(o,l,u){var f=i._binBE.ui8;i._binBE.i32[0]=u,o[l+3]=f[0],o[l+2]=f[1],o[l+1]=f[2],o[l+0]=f[3]},writeUint:function(o,l,u){o[l]=u>>24&255,o[l+1]=u>>16&255,o[l+2]=u>>8&255,o[l+3]=u>>0&255},writeASCII:function(o,l,u){for(var f=0;f<u.length;f++)o[l+f]=u.charCodeAt(f)},writeDouble:function(o,l,u){i._binBE.fl64[0]=u;for(var f=0;f<8;f++)o[l+f]=i._binBE.ui8[7-f]}},i._binBE.ui8=new Uint8Array(8),i._binBE.i16=new Int16Array(i._binBE.ui8.buffer),i._binBE.i32=new Int32Array(i._binBE.ui8.buffer),i._binBE.ui32=new Uint32Array(i._binBE.ui8.buffer),i._binBE.fl32=new Float32Array(i._binBE.ui8.buffer),i._binBE.fl64=new Float64Array(i._binBE.ui8.buffer),i._binLE={nextZero:i._binBE.nextZero,readUshort:function(o,l){return o[l+1]<<8|o[l]},readShort:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+0],u[1]=o[l+1],i._binBE.i16[0]},readInt:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+0],u[1]=o[l+1],u[2]=o[l+2],u[3]=o[l+3],i._binBE.i32[0]},readUint:function(o,l){var u=i._binBE.ui8;return u[0]=o[l+0],u[1]=o[l+1],u[2]=o[l+2],u[3]=o[l+3],i._binBE.ui32[0]},readASCII:i._binBE.readASCII,readFloat:function(o,l){for(var u=i._binBE.ui8,f=0;f<4;f++)u[f]=o[l+f];return i._binBE.fl32[0]},readDouble:function(o,l){for(var u=i._binBE.ui8,f=0;f<8;f++)u[f]=o[l+f];return i._binBE.fl64[0]},writeUshort:function(o,l,u){o[l]=u&255,o[l+1]=u>>8&255},writeInt:function(o,l,u){var f=i._binBE.ui8;i._binBE.i32[0]=u,o[l+0]=f[0],o[l+1]=f[1],o[l+2]=f[2],o[l+3]=f[3]},writeUint:function(o,l,u){o[l]=u>>>0&255,o[l+1]=u>>>8&255,o[l+2]=u>>>16&255,o[l+3]=u>>>24&255},writeASCII:i._binBE.writeASCII},i._copyTile=function(o,l,u,f,p,h,m,g){for(var _=Math.min(l,p-m),v=Math.min(u,h-g),S=0;S<v;S++)for(var b=(g+S)*p+m,Y=S*l,E=0;E<_;E++)f[b+E]=o[Y+E]},i.LosslessJpegDecode=(function(){var o,l;function u(){return o[l++]}function f(){return o[l++]<<8|o[l++]}function p(W){for(var w=u(),I=[0,0,0,255],P=[],O=8,V=0;V<16;V++)P[V]=u();for(var V=0;V<16;V++)for(var N=0;N<P[V];N++){var F=h(I,0,V+1,1);I[F+3]=u()}var R=new Uint8Array(1<<O);W[w]=[new Uint8Array(I),R];for(var V=0;V<1<<O;V++){for(var K=O,Z=V,G=0,q=0;I[G+3]==255&&K!=0;)q=Z>>--K&1,G=I[G+q];R[V]=G}}function h(W,w,I,P){if(W[w+3]!=255)return 0;if(I==0)return w;for(var O=0;O<2;O++){W[w+O]==0&&(W[w+O]=W.length,W.push(0,0,P,255));var V=h(W,W[w+O],I-1,P+1);if(V!=0)return V}return 0}function m(W){for(var w=W.b,I=W.f;w<25&&W.a<W.d;){var P=W.data[W.a++];P==255&&!W.c&&W.a++,I=I<<8|P,w+=8}if(w<0)throw"e";W.b=w,W.f=I}function g(W,w){return w.b<W&&m(w),w.f>>(w.b-=W)&65535>>16-W}function _(W,w){var I=W[0],P=0,O=255,V=0;w.b<16&&m(w);var N=w.f>>w.b-8&255;for(P=W[1][N],O=I[P+3],w.b-=I[P+2];O==255;)V=w.f>>--w.b&1,P=I[P+V],O=I[P+3];return O}function v(W,w){return W<32768>>16-w&&(W+=-(1<<w)+1),W}function S(W,w){var I=_(W,w);if(I==0)return 0;if(I==16)return-32768;var P=g(I,w);return v(P,I)}function b(W,w,I,P,O,V){for(var N=0,F=0;F<V;F++){for(var R=F*w,K=0;K<w;K+=O){N++;for(var Z=0;Z<O;Z++)W[R+K+Z]=S(P[Z],I)}if(I.e!=0&&N%I.e==0&&F!=0){for(var G=I.a,q=I.data;q[G]!=255||!(208<=q[G+1]&&q[G+1]<=215);)G--;I.a=G+2,I.f=0,I.b=0}}}function Y(W,w){return v(g(W,w),W)}function E(W,w,I,P,O){for(var V=o.length-l,N=0;N<V;N+=4){var F=o[l+N];o[l+N]=o[l+N+3],o[l+N+3]=F;var F=o[l+N+1];o[l+N+1]=o[l+N+2],o[l+N+2]=F}for(var R=0;R<O;R++)for(var K=32768,Z=32768,G=0;G<w;G+=2){var q=_(P,I),Q=_(P,I);q!=0&&(K+=Y(q,I)),Q!=0&&(Z+=Y(Q,I)),W[R*w+G]=K&65535,W[R*w+G+1]=Z&65535}}function M(W){if(o=W,l=0,f()!=65496)throw"e";for(var w=[],I=0,P=0,O=0,V=[],N=[],F=[],R=0,K=0,Z=0;;){var G=f();if(G==65535){l--;continue}var q=f();if(G==65475){P=u(),K=f(),Z=f(),R=u();for(var Q=0;Q<R;Q++){var ue=u(),j=u(),te=u();if(te!=0)throw"e";w[ue]=[Q,j>>4,j&15]}}else if(G==65476)for(var fe=l+q-2;l<fe;)p(N);else if(G==65498){l++;for(var Q=0;Q<R;Q++){var J=u(),re=w[J];F[re[0]]=N[u()>>>4],V[re[0]]=re.slice(1)}I=u(),l+=2;break}else G==65501?O=f():l+=q-2}var ae=P>8?Uint16Array:Uint8Array,de=new ae(K*Z*R),pe={b:0,f:0,c:I==8,a:l,data:o,d:o.length,e:O};if(pe.c)E(de,Z*R,pe,F[0],K);else{for(var ve=[],$e=0,Pe=0,Q=0;Q<R;Q++){var Ye=V[Q],Oe=Ye[0],L=Ye[1];Oe>$e&&($e=Oe),L>Pe&&(Pe=L),ve.push(Oe*L)}if($e!=1||Pe!=1){if(R!=3||ve[1]!=1||ve[2]!=1||$e!=2||Pe!=1&&Pe!=2)throw"e";for(var Ue=[],be=0,Q=0;Q<R;Q++){for(var ce=0;ce<ve[Q];ce++)Ue.push(F[Q]);be+=ve[Q]}var se=Z/$e,me=K/Pe,Ne=se*me;b(de,se*be,pe,Ue,be,me),U(de,I,se,me,be-2,be,be,P);var ke=new Uint16Array(Ne*ve[0]);if($e==2&&Pe==2){for(var Q=0;Q<Ne;Q++)ke[4*Q]=de[6*Q],ke[4*Q+1]=de[6*Q+1],ke[4*Q+2]=de[6*Q+2],ke[4*Q+3]=de[6*Q+3];U(ke,I,se*4,me,0,1,1,P);for(var Q=0;Q<Ne;Q++)de[6*Q]=ke[4*Q],de[6*Q+1]=ke[4*Q+1],de[6*Q+2]=ke[4*Q+2],de[6*Q+3]=ke[4*Q+3]}if($e==2&&Pe==1){for(var Q=0;Q<Ne;Q++)ke[2*Q]=de[4*Q],ke[2*Q+1]=de[4*Q+1];U(ke,I,se*2,me,0,1,1,P);for(var Q=0;Q<Ne;Q++)de[4*Q]=ke[2*Q],de[4*Q+1]=ke[2*Q+1]}for(var ge=de.slice(0),L=0;L<K;L++)if(Pe==2)for(var Oe=0;Oe<Z;Oe++){var We=(L*Z+Oe)*R,et=((L>>>1)*se+(Oe>>>1))*be,ze=(L&1)*2+(Oe&1);de[We]=ge[et+ze],de[We+1]=ge[et+4],de[We+2]=ge[et+5]}else for(var Oe=0;Oe<Z;Oe++){var We=(L*Z+Oe)*R,et=(L*se+(Oe>>>1))*be,ze=Oe&1;de[We]=ge[et+ze],de[We+1]=ge[et+2],de[We+2]=ge[et+3]}}else if(b(de,Z*R,pe,F,R,K),O==0)U(de,I,Z,K,0,R,R,P);else for(var nt=Math.floor(O/Z),L=0;L<K;L+=nt){var Mt=de.slice(L*Z*R,(L+nt)*Z*R);U(Mt,I,Z,nt,0,R,R,P),de.set(Mt,L*Z*R)}}return de}function U(W,w,I,P,O,V,N,F){for(var R=I*N,K=O;K<V;K++)W[K]+=1<<F-1;for(var Z=N;Z<R;Z+=N)for(var K=O;K<V;K++)W[Z+K]+=W[Z+K-N];for(var G=1;G<P;G++){for(var q=G*R,K=O;K<V;K++)W[q+K]+=W[q+K-R];for(var Z=N;Z<R;Z+=N)for(var K=O;K<V;K++){var Q=q+Z+K,ue=Q-R,j=W[Q-N],te=0;if(w==0)te=0;else if(w==1)te=j;else if(w==2)te=W[ue];else if(w==3)te=W[ue-N];else if(w==4)te=j+(W[ue]-W[ue-N]);else if(w==5)te=j+(W[ue]-W[ue-N]>>>1);else if(w==6)te=W[ue]+(j-W[ue-N]>>>1);else if(w==7)te=j+W[ue]>>>1;else throw w;W[Q]+=te}}}return M})(),(function(){var o=0,l=1,u=2,f=3,p=4,h=5,m=6,g=7,_=8,v=9,S=10,b=11,Y=12,E=13,M=14,U=15,W=16,w=17,I=18;function P(J){var re=i._binBE.readUshort,ae={b:re(J,0),i:J[2],C:J[3],u:J[4],q:re(J,5),k:re(J,7),e:re(J,9),l:re(J,11),s:J[13],d:re(J,14)};if(ae.b!=18771||ae.i>1||ae.q<6||ae.q%6||ae.e<768||ae.e%24||ae.l!=768||ae.k<ae.l||ae.k%ae.l||ae.k-ae.e>=ae.l||ae.s>16||ae.s!=ae.k/ae.l||ae.s!=Math.ceil(ae.e/ae.l)||ae.d!=ae.q/6||ae.u!=12&&ae.u!=14&&ae.u!=16||ae.C!=16&&ae.C!=0)throw"Invalid data";if(ae.i==0)throw"Not implemented. We need this file!";return ae.h=ae.C==16,ae.m=(ae.h?ae.l*2/3:ae.l>>>1)|0,ae.A=ae.m+2,ae.f=64,ae.g=(1<<ae.u)-1,ae.n=4*ae.u,ae}function O(J,re){var ae=new Array(re.s),de=4*re.s,pe=16+de;de&12&&(pe+=16-(de&12));for(var ve=0,$e=16;ve<re.s;$e+=4){var Pe=i._binBE.readUint(J,$e);ae[ve]=J.slice(pe,pe+Pe),ae[ve].j=0,ae[ve].a=0,pe+=Pe,ve++}if(pe!=J.length)throw"Invalid data";return ae}function V(J,re){for(var ae=-re[4],de=0;ae<=re[4];de++,ae++)J[de]=ae<=-276?-4:ae<=-67?-3:ae<=-18?-2:ae<-0?-1:ae<=re[0]?0:ae<re[1]?1:ae<re[2]?2:ae<re[3]?3:4}function N(J,re,ae){var de=[re,3*re+18,5*re+67,7*re+276,ae];J.o=re,J.w=(de[4]+2*re)/(2*re+1)+1|0,J.v=Math.ceil(Math.log2(J.w)),J.t=9,V(J.c,de)}function F(J){var re={c:new Int8Array(2<<J.u)};return N(re,0,J.g),re}function R(J){for(var re=[[],[],[]],ae=Math.max(2,J.w+32>>>6),de=0;de<3;de++)for(var pe=0;pe<41;pe++)re[de][pe]=[ae,1];return re}function K(J){for(var re=-1,ae=0;!ae;re++)ae=J[J.j]>>>7-J.a&1,J.a++,J.a&=7,J.a||J.j++;return re}function Z(J,re){var ae=0,de=8-J.a;if(J.j,J.a,re){if(re>=de)do ae<<=de,re-=de,ae|=J[J.j]&(1<<de)-1,J.j++,de=8;while(re>=8);re&&(ae<<=re,de-=re,ae|=J[J.j]>>>de&(1<<re)-1),J.a=8-de}return ae}function G(J,re){var ae=0;if(re<J)for(;ae<=14&&re<<++ae<J;);return ae}function q(J,re,ae,de,pe,ve,$e,Pe){Pe==null&&(Pe=0);var Ye=ve+1,Oe=Ye%2,L=0,Ue,be,ce=de[pe],se=de[pe-1],me=de[pe-2][Ye],Ne=se[Ye-1],ke=se[Ye],ge=se[Ye+1],We=ce[Ye-1],et=ce[Ye+1],ze=Math.abs,nt,Mt,pt,Ft;if(Oe&&(nt=ze(ge-ke),Mt=ze(me-ke),pt=ze(Ne-ke)),Oe){if(Ft=nt>pt&&Mt<nt?me+Ne:nt<pt&&Mt<pt?me+ge:ge+Ne,Ft=Ft+2*ke>>>2,Pe){ce[Ye]=Ft;return}Ue=re.t*re.c[J.g+ke-me]+re.c[J.g+Ne-ke]}else Ft=ke>Ne&&ke>ge||ke<Ne&&ke<ge?et+We+2*ke>>>2:We+et>>>1,Ue=re.t*re.c[J.g+ke-Ne]+re.c[J.g+Ne-We];be=ze(Ue);var sn=K(ae);if(sn<J.n-re.v-1){var oe=G($e[be][0],$e[be][1]);L=Z(ae,oe)+(sn<<oe)}else L=Z(ae,re.v)+1;L=L&1?-1-(L>>>1):L>>>1,$e[be][0]+=ze(L),$e[be][1]==J.f&&($e[be][0]>>>=1,$e[be][1]>>>=1),$e[be][1]++,Ft=Ue<0?Ft-L:Ft+L,J.i&&(Ft<0?Ft+=re.w:Ft>J.g&&(Ft-=re.w)),ce[Ye]=Ft>=0?Math.min(Ft,J.g):0}function Q(J,re,ae){for(var de=J[0].length,pe=re;pe<=ae;pe++)J[pe][0]=J[pe-1][1],J[pe][de-1]=J[pe-1][de-2]}function ue(J){Q(J,g,Y),Q(J,u,p),Q(J,U,w)}function j(J,re,ae,de,pe,ve,$e,Pe,Ye,Oe,L,Ue,be){for(var ce=0,se=1,me=pe<E&&pe>p;se<J.m;)ce<J.m&&(q(J,re,ae,de,pe,ce,$e[Ye],J.h&&(me&&Oe||!me&&(L||(ce&Ue)==be))),q(J,re,ae,de,ve,ce,$e[Ye],J.h&&(!me&&Oe||me&&(L||(ce&Ue)==be))),ce+=2),ce>8&&(q(J,re,ae,de,pe,se,Pe[Ye]),q(J,re,ae,de,ve,se,Pe[Ye]),se+=2);ue(de)}function te(J,re,ae,de,pe,ve){j(J,re,ae,de,u,g,pe,ve,0,0,1,0,8),j(J,re,ae,de,_,U,pe,ve,1,0,1,0,8),j(J,re,ae,de,f,v,pe,ve,2,1,0,3,0),j(J,re,ae,de,S,W,pe,ve,0,0,0,3,2),j(J,re,ae,de,p,b,pe,ve,1,0,0,3,2),j(J,re,ae,de,Y,w,pe,ve,2,1,0,3,0)}function fe(J,re,ae,de,pe,ve){var $e=ve.length,Pe=J.l;pe+1==J.s&&(Pe=J.e-pe*J.l);for(var Ye=6*J.e*de+pe*J.l,Oe=0;Oe<6;Oe++){for(var L=0;L<Pe;L++){var Ue=ve[Oe%$e][L%$e],be;Ue==0?be=u+(Oe>>>1):Ue==2?be=U+(Oe>>>1):be=g+Oe;var ce=J.h?(L*2/3&2147483646|L%3&1)+(L%3>>>1):L>>>1;re[Ye+L]=ae[be][ce+1]}Ye+=J.e}}i._decompressRAF=function(J,re){var ae=P(J),de=O(J,ae),pe=F(ae),ve=new Int16Array(ae.e*ae.q);re==null&&(re=ae.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var $e=[[o,f],[l,p],[h,b],[m,Y],[E,W],[M,w]],Pe=[],Ye=0;Ye<I;Ye++)Pe[Ye]=new Uint16Array(ae.A);for(var Oe=0;Oe<ae.s;Oe++){for(var L=R(pe),Ue=R(pe),Ye=0;Ye<I;Ye++)for(var be=0;be<ae.A;be++)Pe[Ye][be]=0;for(var ce=0;ce<ae.d;ce++){te(ae,pe,de[Oe],Pe,L,Ue);for(var Ye=0;Ye<6;Ye++)for(var be=0;be<ae.A;be++)Pe[$e[Ye][0]][be]=Pe[$e[Ye][1]][be];fe(ae,ve,Pe,ce,Oe,re);for(var Ye=u;Ye<I;Ye++)if([h,m,E,M].indexOf(Ye)==-1)for(var be=0;be<ae.A;be++)Pe[Ye][be]=0;ue(Pe)}}return ve}})()})(e,n)})()})(fx)),fx.exports}var k$=A$();const xx=Co(k$);function I$(t){const e=t.toLowerCase();return e.endsWith(".tif")||e.endsWith(".tiff")}async function R$(t){const e=xx.decode(t);if(e.length===0)throw new Error("No images found in TIFF file");const n=e[0];xx.decodeImage(t,n);const r=xx.toRGBA8(n),i=n.width,a=n.height,o=document.createElement("canvas");o.width=i,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");const u=l.createImageData(i,a);return u.data.set(r),l.putImageData(u,0,0),new Promise((f,p)=>{o.toBlob(h=>{h?f(URL.createObjectURL(h)):p(new Error("Failed to create blob from canvas"))},"image/png")})}async function X$(t){const e=await t.arrayBuffer();return R$(e)}function Ct(t){if(!t)throw new Error("Assertion failed.")}const P$=t=>{const e=(t%360+360)%360;if(e===0||e===90||e===180||e===270)return e;throw new Error(`Invalid rotation ${t}.`)},l0=t=>t&&t[t.length-1];class Xa{constructor(e){this.bytes=e,this.pos=0}seekToByte(e){this.pos=8*e}readBit(){const e=Math.floor(this.pos/8),n=this.bytes[e]??0,r=7-(this.pos&7),i=(n&1<<r)>>r;return this.pos++,i}readBits(e){if(e===1)return this.readBit();let n=0;for(let r=0;r<e;r++)n<<=1,n|=this.readBit();return n}writeBits(e,n){const r=this.pos+e;for(let i=this.pos;i<r;i++){const a=Math.floor(i/8);let o=this.bytes[a];const l=7-(i&7);o&=~(1<<l),o|=(n&1<<r-i-1)>>r-i-1<<l,this.bytes[a]=o}this.pos=r}readAlignedByte(){if(this.pos%8!==0)throw new Error("Bitstream is not byte-aligned.");const e=this.pos/8,n=this.bytes[e]??0;return this.pos+=8,n}skipBits(e){this.pos+=e}getBitsLeft(){return this.bytes.length*8-this.pos}clone(){const e=new Xa(this.bytes);return e.pos=this.pos,e}}const _c=t=>t.constructor===Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),_o=t=>t.constructor===DataView?t:t instanceof ArrayBuffer?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),v_=new TextDecoder;new TextEncoder;const pw=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>[n,e])),z6={bt709:1,bt470bg:5,smpte170m:6,bt2020:9,smpte432:12},M$=pw(z6),$6={bt709:1,smpte170m:6,linear:8,"iec61966-2-1":13,pq:16,hlg:18},N$=pw($6),j6={rgb:0,bt709:1,bt470bg:5,smpte170m:6,"bt2020-ncl":9},O$=pw(j6),D$=t=>t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||ArrayBuffer.isView(t),nC=t=>[...t].map(e=>e.toString(16).padStart(2,"0")).join(""),rC=t=>(t=t>>1&1431655765|(t&1431655765)<<1,t=t>>2&858993459|(t&858993459)<<2,t=t>>4&252645135|(t&252645135)<<4,t=t>>8&16711935|(t&16711935)<<8,t=t>>16&65535|(t&65535)<<16,t>>>0),B$=(t,e,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+i>>1,l=n(t[o]);l===e?(a=o,i=o-1):l<e?r=o+1:i=o-1}return a},pi=(t,e,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+(i-r+1)/2|0;n(t[o])<=e?(a=o,r=o+1):i=o-1}return a},iC=(t,e,n)=>{const r=pi(t,n(e),n);t.splice(r+1,0,e)},_s=()=>{let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}},V$=(t,e)=>{for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1},F$=async function*(t){Symbol.iterator in t?yield*t[Symbol.iterator]():yield*t[Symbol.asyncIterator]()},L$=t=>{if(!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t))throw new TypeError("Argument must be an iterable or async iterable.")},K6=t=>{throw new Error(`Unexpected value: ${t}`)},H6=(t,e,n)=>{const r=t.getUint8(e),i=t.getUint8(e+1),a=t.getUint8(e+2);return r<<16|i<<8|a},sC=(t,e)=>({async next(){const n=await t.next();return n.done?{value:void 0,done:!0}:{value:e(n.value),done:!1}},return(){return t.return()},throw(n){return t.throw(n)},[Symbol.asyncIterator](){return this}}),aC=(t,e,n)=>Math.max(e,Math.min(n,t)),oC="und",Z$=(t,e)=>{const n=10**e;return Math.round(t*n)/n},z$=(t,e)=>Math.round(t/e)*e,$$=/^[a-z]{3}$/,j$=t=>$$.test(t),Pu=1e6*(1+Number.EPSILON);class K${constructor(){this.currentPromise=Promise.resolve()}call(e){return this.currentPromise=this.currentPromise.then(e)}}let Yx=null;const Tx=()=>{if(Yx!==null)return Yx;const t=!!(typeof navigator<"u"&&navigator.vendor?.match(/apple/i)&&!navigator.userAgent?.match(/crios/i)&&!navigator.userAgent?.match(/fxios/i)&&!navigator.userAgent?.match(/Opera|OPT\//));return Yx=t,t};let wx=null;const AY=()=>wx!==null?wx:wx=typeof navigator<"u"&&navigator.userAgent?.includes("Firefox"),kY=(t,e,n,r)=>t<=r&&n<=e,G6=()=>{Symbol.dispose??=Symbol("Symbol.dispose")},mw=t=>typeof t=="number"&&!Number.isNaN(t);class Uv{constructor(e,n){if(this.data=e,this.mimeType=n,!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(typeof n!="string")throw new TypeError("mimeType must be a string.")}}const gw=["pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be","pcm-u8","pcm-s8","ulaw","alaw"],Mu=[{maxPictureSize:36864,maxBitrate:2e5,level:10},{maxPictureSize:73728,maxBitrate:8e5,level:11},{maxPictureSize:122880,maxBitrate:18e5,level:20},{maxPictureSize:245760,maxBitrate:36e5,level:21},{maxPictureSize:552960,maxBitrate:72e5,level:30},{maxPictureSize:983040,maxBitrate:12e6,level:31},{maxPictureSize:2228224,maxBitrate:18e6,level:40},{maxPictureSize:2228224,maxBitrate:3e7,level:41},{maxPictureSize:8912896,maxBitrate:6e7,level:50},{maxPictureSize:8912896,maxBitrate:12e7,level:51},{maxPictureSize:8912896,maxBitrate:18e7,level:52},{maxPictureSize:35651584,maxBitrate:18e7,level:60},{maxPictureSize:35651584,maxBitrate:24e7,level:61},{maxPictureSize:35651584,maxBitrate:48e7,level:62}],lC=".01.01.01.01.00",cC=".0.110.01.01.01.0",H$=t=>{const{codec:e,codecDescription:n,colorSpace:r,avcCodecInfo:i,hevcCodecInfo:a,vp9CodecInfo:o,av1CodecInfo:l}=t;if(e==="avc"){if(i){const u=new Uint8Array([i.avcProfileIndication,i.profileCompatibility,i.avcLevelIndication]);return`avc1.${nC(u)}`}if(!n||n.byteLength<4)throw new TypeError("AVC decoder description is not provided or is not at least 4 bytes long.");return`avc1.${nC(n.subarray(1,4))}`}else if(e==="hevc"){let u,f,p,h,m,g;if(a)u=a.generalProfileSpace,f=a.generalProfileIdc,p=rC(a.generalProfileCompatibilityFlags),h=a.generalTierFlag,m=a.generalLevelIdc,g=[...a.generalConstraintIndicatorFlags];else{if(!n||n.byteLength<23)throw new TypeError("HEVC decoder description is not provided or is not at least 23 bytes long.");const v=_o(n),S=v.getUint8(1);u=S>>6&3,f=S&31,p=rC(v.getUint32(2)),h=S>>5&1,m=v.getUint8(12),g=[];for(let b=0;b<6;b++)g.push(v.getUint8(6+b))}let _="hev1.";for(_+=["","A","B","C"][u]+f,_+=".",_+=p.toString(16).toUpperCase(),_+=".",_+=h===0?"L":"H",_+=m;g.length>0&&g[g.length-1]===0;)g.pop();return g.length>0&&(_+=".",_+=g.map(v=>v.toString(16).toUpperCase()).join(".")),_}else{if(e==="vp8")return"vp8";if(e==="vp9"){if(!o){const b=t.width*t.height;let Y=l0(Mu).level;for(const E of Mu)if(b<=E.maxPictureSize){Y=E.level;break}return`vp09.00.${Y.toString().padStart(2,"0")}.08`}const u=o.profile.toString().padStart(2,"0"),f=o.level.toString().padStart(2,"0"),p=o.bitDepth.toString().padStart(2,"0"),h=o.chromaSubsampling.toString().padStart(2,"0"),m=o.colourPrimaries.toString().padStart(2,"0"),g=o.transferCharacteristics.toString().padStart(2,"0"),_=o.matrixCoefficients.toString().padStart(2,"0"),v=o.videoFullRangeFlag.toString().padStart(2,"0");let S=`vp09.${u}.${f}.${p}.${h}`;return S+=`.${m}.${g}.${_}.${v}`,S.endsWith(lC)&&(S=S.slice(0,-lC.length)),S}else if(e==="av1"){if(!l){const E=t.width*t.height;let M=l0(Mu).level;for(const U of Mu)if(E<=U.maxPictureSize){M=U.level;break}return`av01.0.${M.toString().padStart(2,"0")}M.08`}const u=l.profile,f=l.level.toString().padStart(2,"0"),p=l.tier?"H":"M",h=l.bitDepth.toString().padStart(2,"0"),m=l.monochrome?"1":"0",g=100*l.chromaSubsamplingX+10*l.chromaSubsamplingY+1*(l.chromaSubsamplingX&&l.chromaSubsamplingY?l.chromaSamplePosition:0),_=r?.primaries?z6[r.primaries]:1,v=r?.transfer?$6[r.transfer]:1,S=r?.matrix?j6[r.matrix]:1,b=r?.fullRange?1:0;let Y=`av01.${u}.${f}${p}.${h}`;return Y+=`.${m}.${g.toString().padStart(3,"0")}`,Y+=`.${_.toString().padStart(2,"0")}`,Y+=`.${v.toString().padStart(2,"0")}`,Y+=`.${S.toString().padStart(2,"0")}`,Y+=`.${b}`,Y.endsWith(cC)&&(Y=Y.slice(0,-cC.length)),Y}}throw new TypeError(`Unhandled codec '${e}'.`)},G$=t=>{const{codec:e,codecDescription:n,aacCodecInfo:r}=t;if(e==="aac"){if(!r)throw new TypeError("AAC codec info must be provided.");return r.isMpeg2?"mp4a.67":`mp4a.40.${q6(n).objectType}`}else{if(e==="mp3")return"mp3";if(e==="opus")return"opus";if(e==="vorbis")return"vorbis";if(e==="flac")return"flac";if(e&&gw.includes(e))return e}throw new TypeError(`Unhandled codec '${e}'.`)},uC=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],q$=[-1,1,2,3,4,5,6,8],q6=t=>{if(!t||t.byteLength<2)throw new TypeError("AAC description must be at least 2 bytes long.");const e=new Xa(t);let n=e.readBits(5);n===31&&(n=32+e.readBits(6));const r=e.readBits(4);let i=null;r===15?i=e.readBits(24):r<uC.length&&(i=uC[r]);const a=e.readBits(4);let o=null;return a>=1&&a<=7&&(o=q$[a]),{objectType:n,frequencyIndex:r,sampleRate:i,channelConfiguration:a,numberOfChannels:o}},Q$=48e3,J$=/^pcm-([usf])(\d+)+(be)?$/,ej=t=>{if(Ct(gw.includes(t)),t==="ulaw")return{dataType:"ulaw",sampleSize:1,littleEndian:!0,silentValue:255};if(t==="alaw")return{dataType:"alaw",sampleSize:1,littleEndian:!0,silentValue:213};const e=J$.exec(t);Ct(e);let n;e[1]==="u"?n="unsigned":e[1]==="s"?n="signed":n="float";const r=Number(e[2])/8,i=e[3]!=="be",a=t==="pcm-u8"?2**7:0;return{dataType:n,sampleSize:r,littleEndian:i,silentValue:a}};var IY;(function(t){t[t.IDR=5]="IDR",t[t.SPS=7]="SPS",t[t.PPS=8]="PPS",t[t.SPS_EXT=13]="SPS_EXT"})(IY||(IY={}));var c0;(function(t){t[t.RASL_N=8]="RASL_N",t[t.RASL_R=9]="RASL_R",t[t.BLA_W_LP=16]="BLA_W_LP",t[t.RSV_IRAP_VCL23=23]="RSV_IRAP_VCL23",t[t.VPS_NUT=32]="VPS_NUT",t[t.SPS_NUT=33]="SPS_NUT",t[t.PPS_NUT=34]="PPS_NUT",t[t.PREFIX_SEI_NUT=39]="PREFIX_SEI_NUT",t[t.SUFFIX_SEI_NUT=40]="SUFFIX_SEI_NUT"})(c0||(c0={}));const Q6=t=>{const e=[];let n=0;for(;n<t.length;){let r=-1,i=0;for(let a=n;a<t.length-3;a++){if(t[a]===0&&t[a+1]===0&&t[a+2]===1){r=a,i=3;break}if(a<t.length-4&&t[a]===0&&t[a+1]===0&&t[a+2]===0&&t[a+3]===1){r=a,i=4;break}}if(r===-1)break;if(n>0&&r>n){const a=t.subarray(n,r);a.length>0&&e.push(a)}n=r+i}if(n<t.length){const r=t.subarray(n);r.length>0&&e.push(r)}return e},J6=(t,e)=>{const n=[];let r=0;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;r+e<=t.length;){let a;e===1?a=i.getUint8(r):e===2?a=i.getUint16(r,!1):e===3?a=H6(i,r):e===4?a=i.getUint32(r,!1):(K6(e),Ct(!1)),r+=e;const o=t.subarray(r,r+a);n.push(o),r+=a}return n},tj=(t,e)=>{if(e.description){const i=(_c(e.description)[4]&3)+1;return J6(t,i)}else return Q6(t)},nj=t=>t[0]&31,eI=(t,e)=>{if(e.description){const i=(_c(e.description)[21]&3)+1;return J6(t,i)}else return Q6(t)},tI=t=>t[0]>>1&63,rj=t=>{const e=new Xa(t);if(e.readBits(2)!==2)return null;const r=e.readBits(1),a=(e.readBits(1)<<1)+r;if(a===3&&e.skipBits(1),e.readBits(1)===1||e.readBits(1)!==0||(e.skipBits(2),e.readBits(24)!==4817730))return null;let f=8;a>=2&&(f=e.readBits(1)?12:10);const p=e.readBits(3);let h=0,m=0;if(p!==7)if(m=e.readBits(1),a===1||a===3){const w=e.readBits(1),I=e.readBits(1);h=!w&&!I?3:w&&!I?2:1,e.skipBits(1)}else h=1;else h=3,m=1;const g=e.readBits(16),_=e.readBits(16),v=g+1,S=_+1,b=v*S;let Y=l0(Mu).level;for(const W of Mu)if(b<=W.maxPictureSize){Y=W.level;break}return{profile:a,level:Y,bitDepth:f,chromaSubsampling:h,videoFullRangeFlag:m,colourPrimaries:p===2?1:p===1?6:2,transferCharacteristics:p===2?1:p===1?6:2,matrixCoefficients:p===7?0:p===2?1:p===1?6:2}},nI=function*(t){const e=new Xa(t),n=()=>{let r=0;for(let i=0;i<8;i++){const a=e.readAlignedByte();if(r|=(a&127)<<i*7,!(a&128))break;if(i===7&&a&128)return null}return r>=2**32-1?null:r};for(;e.getBitsLeft()>=8;){e.skipBits(1);const r=e.readBits(4),i=e.readBits(1),a=e.readBits(1);e.skipBits(1),i&&e.skipBits(8);let o;if(a){const l=n();if(l===null)return;o=l}else o=Math.floor(e.getBitsLeft()/8);Ct(e.pos%8===0),yield{type:r,data:t.subarray(e.pos/8,e.pos/8+o)},e.skipBits(o*8)}},ij=t=>{for(const{type:e,data:n}of nI(t)){if(e!==1)continue;const r=new Xa(n),i=r.readBits(3);r.readBits(1);const a=r.readBits(1);let o=0,l=0,u=0;if(a)o=r.readBits(5);else{if(r.readBits(1)&&(r.skipBits(32),r.skipBits(32),r.readBits(1)))return null;const S=r.readBits(1);S&&(u=r.readBits(5),r.skipBits(32),r.skipBits(5),r.skipBits(5));const b=r.readBits(5);for(let Y=0;Y<=b;Y++){r.skipBits(12);const E=r.readBits(5);if(Y===0&&(o=E),E>7){const U=r.readBits(1);Y===0&&(l=U)}if(S&&r.readBits(1)){const W=u+1;r.skipBits(W),r.skipBits(W),r.skipBits(1)}r.readBits(1)&&r.skipBits(4)}}const f=r.readBits(1);let p=8;i===2&&f?p=r.readBits(1)?12:10:i<=2&&(p=f?10:8);let h=0;i!==1&&(h=r.readBits(1));let m=1,g=1,_=0;return h||(i===0?(m=1,g=1):i===1?(m=0,g=0):p===12&&(m=r.readBits(1),m&&(g=r.readBits(1))),m&&g&&(_=r.readBits(2))),{profile:i,level:o,tier:l,bitDepth:p,monochrome:h,chromaSubsamplingX:m,chromaSubsamplingY:g,chromaSamplePosition:_}}return null},rI=(t,e,n)=>{switch(t){case"avc":return tj(n,e).some(a=>nj(a)===IY.IDR)?"key":"delta";case"hevc":return eI(n,e).some(a=>{const o=tI(a);return c0.BLA_W_LP<=o&&o<=c0.RSV_IRAP_VCL23})?"key":"delta";case"vp8":return(n[0]&1)===0?"key":"delta";case"vp9":{const r=new Xa(n);if(r.readBits(2)!==2)return null;const i=r.readBits(1);return(r.readBits(1)<<1)+i===3&&r.skipBits(1),r.readBits(1)?null:r.readBits(1)===0?"key":"delta"}case"av1":{let r=!1;for(const{type:i,data:a}of nI(n))if(i===1){const o=new Xa(a);o.skipBits(4),r=!!o.readBits(1)}else if(i===3||i===6||i===7){if(r)return"key";const o=new Xa(a);return o.readBits(1)?null:o.readBits(2)===0?"key":"delta"}return null}default:K6(t),Ct(!1)}};var RY;(function(t){t[t.STREAMINFO=0]="STREAMINFO",t[t.VORBIS_COMMENT=4]="VORBIS_COMMENT",t[t.PICTURE=6]="PICTURE"})(RY||(RY={}));class sj{constructor(e){this.input=e}}const iI=[],aj=[];const __=new Uint8Array(0);class ua{constructor(e,n,r,i,a=-1,o,l){if(this.data=e,this.type=n,this.timestamp=r,this.duration=i,this.sequenceNumber=a,e===__&&o===void 0)throw new Error("Internal error: byteLength must be explicitly provided when constructing metadata-only packets.");if(o===void 0&&(o=e.byteLength),!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(n!=="key"&&n!=="delta")throw new TypeError('type must be either "key" or "delta".');if(!Number.isFinite(r))throw new TypeError("timestamp must be a number.");if(!Number.isFinite(i)||i<0)throw new TypeError("duration must be a non-negative number.");if(!Number.isFinite(a))throw new TypeError("sequenceNumber must be a number.");if(!Number.isInteger(o)||o<0)throw new TypeError("byteLength must be a non-negative integer.");if(l!==void 0&&(typeof l!="object"||!l))throw new TypeError("sideData, when provided, must be an object.");if(l?.alpha!==void 0&&!(l.alpha instanceof Uint8Array))throw new TypeError("sideData.alpha, when provided, must be a Uint8Array.");if(l?.alphaByteLength!==void 0&&(!Number.isInteger(l.alphaByteLength)||l.alphaByteLength<0))throw new TypeError("sideData.alphaByteLength, when provided, must be a non-negative integer.");this.byteLength=o,this.sideData=l??{},this.sideData.alpha&&this.sideData.alphaByteLength===void 0&&(this.sideData.alphaByteLength=this.sideData.alpha.byteLength)}get isMetadataOnly(){return this.data===__}get microsecondTimestamp(){return Math.trunc(Pu*this.timestamp)}get microsecondDuration(){return Math.trunc(Pu*this.duration)}toEncodedVideoChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}alphaToEncodedVideoChunk(e=this.type){if(!this.sideData.alpha)throw new TypeError("This packet does not contain alpha side data.");if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.sideData.alpha,type:e,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}toEncodedAudioChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to an audio chunk.");if(typeof EncodedAudioChunk>"u")throw new Error("Your browser does not support EncodedAudioChunk.");return new EncodedAudioChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}static fromEncodedChunk(e,n){if(!(e instanceof EncodedVideoChunk||e instanceof EncodedAudioChunk))throw new TypeError("chunk must be an EncodedVideoChunk or EncodedAudioChunk.");const r=new Uint8Array(e.byteLength);return e.copyTo(r),new ua(r,e.type,e.timestamp/1e6,(e.duration??0)/1e6,void 0,void 0,n)}clone(e){if(e!==void 0&&(typeof e!="object"||e===null))throw new TypeError("options, when provided, must be an object.");if(e?.timestamp!==void 0&&!Number.isFinite(e.timestamp))throw new TypeError("options.timestamp, when provided, must be a number.");if(e?.duration!==void 0&&!Number.isFinite(e.duration))throw new TypeError("options.duration, when provided, must be a number.");return new ua(this.data,this.type,e?.timestamp??this.timestamp,e?.duration??this.duration,this.sequenceNumber,this.byteLength)}}G6();class yl{get displayWidth(){return this.rotation%180===0?this.codedWidth:this.codedHeight}get displayHeight(){return this.rotation%180===0?this.codedHeight:this.codedWidth}get microsecondTimestamp(){return Math.trunc(Pu*this.timestamp)}get microsecondDuration(){return Math.trunc(Pu*this.duration)}get hasAlpha(){return this.format&&this.format.includes("A")}constructor(e,n){if(this._closed=!1,e instanceof ArrayBuffer||ArrayBuffer.isView(e)){if(!n||typeof n!="object")throw new TypeError("init must be an object.");if(!("format"in n)||typeof n.format!="string")throw new TypeError("init.format must be a string.");if(!Number.isInteger(n.codedWidth)||n.codedWidth<=0)throw new TypeError("init.codedWidth must be a positive integer.");if(!Number.isInteger(n.codedHeight)||n.codedHeight<=0)throw new TypeError("init.codedHeight must be a positive integer.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(n.timestamp))throw new TypeError("init.timestamp must be a number.");if(n.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=_c(e).slice(),this.format=n.format,this.codedWidth=n.codedWidth,this.codedHeight=n.codedHeight,this.rotation=n.rotation??0,this.timestamp=n.timestamp,this.duration=n.duration??0,this.colorSpace=new VideoColorSpace(n.colorSpace)}else if(typeof VideoFrame<"u"&&e instanceof VideoFrame){if(n?.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(n?.timestamp!==void 0&&!Number.isFinite(n?.timestamp))throw new TypeError("init.timestamp, when provided, must be a number.");if(n?.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=e,this.format=e.format,this.codedWidth=e.displayWidth,this.codedHeight=e.displayHeight,this.rotation=n?.rotation??0,this.timestamp=n?.timestamp??e.timestamp/1e6,this.duration=n?.duration??(e.duration??0)/1e6,this.colorSpace=e.colorSpace}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof SVGImageElement<"u"&&e instanceof SVGImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){if(!n||typeof n!="object")throw new TypeError("init must be an object.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(n.timestamp))throw new TypeError("init.timestamp must be a number.");if(n.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");if(typeof VideoFrame<"u")return new yl(new VideoFrame(e,{timestamp:Math.trunc(n.timestamp*Pu),duration:Math.trunc((n.duration??0)*Pu)||void 0}),n);let r=0,i=0;if("naturalWidth"in e?(r=e.naturalWidth,i=e.naturalHeight):"videoWidth"in e?(r=e.videoWidth,i=e.videoHeight):"width"in e&&(r=Number(e.width),i=Number(e.height)),!r||!i)throw new TypeError("Could not determine dimensions.");const a=new OffscreenCanvas(r,i),o=a.getContext("2d",{alpha:AY(),willReadFrequently:!0});Ct(o),o.drawImage(e,0,0),this._data=a,this.format="RGBX",this.codedWidth=r,this.codedHeight=i,this.rotation=n.rotation??0,this.timestamp=n.timestamp,this.duration=n.duration??0,this.colorSpace=new VideoColorSpace({matrix:"rgb",primaries:"bt709",transfer:"iec61966-2-1",fullRange:!0})}else throw new TypeError("Invalid data type: Must be a BufferSource or CanvasImageSource.")}clone(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),Tg(this._data)?new yl(this._data.clone(),{timestamp:this.timestamp,duration:this.duration,rotation:this.rotation}):this._data instanceof Uint8Array?new yl(this._data.slice(),{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation}):new yl(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation})}close(){this._closed||(Tg(this._data)?this._data.close():this._data=null,this._closed=!0)}allocationSize(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),Tg(this._data)?this._data.allocationSize():this._data instanceof Uint8Array?this._data.byteLength:this.codedWidth*this.codedHeight*4}async copyTo(e){if(!D$(e))throw new TypeError("destination must be an ArrayBuffer or an ArrayBuffer view.");if(this._closed)throw new Error("VideoSample is closed.");if(Ct(this._data!==null),Tg(this._data))await this._data.copyTo(e);else if(this._data instanceof Uint8Array)_c(e).set(this._data);else{const r=this._data.getContext("2d");Ct(r);const i=r.getImageData(0,0,this.codedWidth,this.codedHeight);_c(e).set(i.data)}}toVideoFrame(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),Tg(this._data)?new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0}):this._data instanceof Uint8Array?new VideoFrame(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0,colorSpace:this.colorSpace}):new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0})}draw(e,n,r,i,a,o,l,u,f){let p=0,h=0,m=this.displayWidth,g=this.displayHeight,_=0,v=0,S=this.displayWidth,b=this.displayHeight;if(o!==void 0?(p=n,h=r,m=i,g=a,_=o,v=l,u!==void 0?(S=u,b=f):(S=m,b=g)):(_=n,v=r,i!==void 0&&(S=i,b=a)),!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!Number.isFinite(p))throw new TypeError("sx must be a number.");if(!Number.isFinite(h))throw new TypeError("sy must be a number.");if(!Number.isFinite(m)||m<0)throw new TypeError("sWidth must be a non-negative number.");if(!Number.isFinite(g)||g<0)throw new TypeError("sHeight must be a non-negative number.");if(!Number.isFinite(_))throw new TypeError("dx must be a number.");if(!Number.isFinite(v))throw new TypeError("dy must be a number.");if(!Number.isFinite(S)||S<0)throw new TypeError("dWidth must be a non-negative number.");if(!Number.isFinite(b)||b<0)throw new TypeError("dHeight must be a non-negative number.");if(this._closed)throw new Error("VideoSample is closed.");({sx:p,sy:h,sWidth:m,sHeight:g}=this._rotateSourceRegion(p,h,m,g,this.rotation));const Y=this.toCanvasImageSource();e.save();const E=_+S/2,M=v+b/2;e.translate(E,M),e.rotate(this.rotation*Math.PI/180);const U=this.rotation%180===0?1:S/b;e.scale(1/U,U),e.drawImage(Y,p,h,m,g,-S/2,-b/2,S,b),e.restore()}drawWithFit(e,n){if(!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!n||typeof n!="object")throw new TypeError("options must be an object.");if(!["fill","contain","cover"].includes(n.fit))throw new TypeError("options.fit must be 'fill', 'contain', or 'cover'.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("options.rotation, when provided, must be 0, 90, 180, or 270.");n.crop!==void 0&&aI(n.crop,"options.");const r=e.canvas.width,i=e.canvas.height,a=n.rotation??this.rotation,[o,l]=a%180===0?[this.codedWidth,this.codedHeight]:[this.codedHeight,this.codedWidth];n.crop&&sI(n.crop,o,l);let u,f,p,h;const{sx:m,sy:g,sWidth:_,sHeight:v}=this._rotateSourceRegion(n.crop?.left??0,n.crop?.top??0,n.crop?.width??o,n.crop?.height??l,a);if(n.fit==="fill")u=0,f=0,p=r,h=i;else{const[b,Y]=n.crop?[n.crop.width,n.crop.height]:[o,l],E=n.fit==="contain"?Math.min(r/b,i/Y):Math.max(r/b,i/Y);p=b*E,h=Y*E,u=(r-p)/2,f=(i-h)/2}const S=a%180===0?1:p/h;e.translate(r/2,i/2),e.rotate(a*Math.PI/180),e.scale(1/S,S),e.translate(-r/2,-i/2),e.drawImage(this.toCanvasImageSource(),m,g,_,v,u,f,p,h)}_rotateSourceRegion(e,n,r,i,a){return a===90?[e,n,r,i]=[n,this.codedHeight-e-r,i,r]:a===180?[e,n]=[this.codedWidth-e-r,this.codedHeight-n-i]:a===270&&([e,n,r,i]=[this.codedWidth-n-i,e,i,r]),{sx:e,sy:n,sWidth:r,sHeight:i}}toCanvasImageSource(){if(this._closed)throw new Error("VideoSample is closed.");if(Ct(this._data!==null),this._data instanceof Uint8Array){const e=this.toVideoFrame();return queueMicrotask(()=>e.close()),e}else return this._data}setRotation(e){if(![0,90,180,270].includes(e))throw new TypeError("newRotation must be 0, 90, 180, or 270.");this.rotation=e}setTimestamp(e){if(!Number.isFinite(e))throw new TypeError("newTimestamp must be a number.");this.timestamp=e}setDuration(e){if(!Number.isFinite(e)||e<0)throw new TypeError("newDuration must be a non-negative number.");this.duration=e}[Symbol.dispose](){this.close()}}const Tg=t=>typeof VideoFrame<"u"&&t instanceof VideoFrame,sI=(t,e,n)=>{t.left=Math.min(t.left,e),t.top=Math.min(t.top,n),t.width=Math.min(t.width,e-t.left),t.height=Math.min(t.height,n-t.top),Ct(t.width>=0),Ct(t.height>=0)},aI=(t,e)=>{if(!t||typeof t!="object")throw new TypeError(e+"crop, when provided, must be an object.");if(!Number.isInteger(t.left)||t.left<0)throw new TypeError(e+"crop.left must be a non-negative integer.");if(!Number.isInteger(t.top)||t.top<0)throw new TypeError(e+"crop.top must be a non-negative integer.");if(!Number.isInteger(t.width)||t.width<0)throw new TypeError(e+"crop.width must be a non-negative integer.");if(!Number.isInteger(t.height)||t.height<0)throw new TypeError(e+"crop.height must be a non-negative integer.")};const xu=t=>{if(!t||typeof t!="object")throw new TypeError("options must be an object.");if(t.metadataOnly!==void 0&&typeof t.metadataOnly!="boolean")throw new TypeError("options.metadataOnly, when defined, must be a boolean.");if(t.verifyKeyPackets!==void 0&&typeof t.verifyKeyPackets!="boolean")throw new TypeError("options.verifyKeyPackets, when defined, must be a boolean.");if(t.verifyKeyPackets&&t.metadataOnly)throw new TypeError("options.verifyKeyPackets and options.metadataOnly cannot be enabled together.")},Sc=t=>{if(!mw(t))throw new TypeError("timestamp must be a number.")},Wx=(t,e,n)=>n.verifyKeyPackets?e.then(async r=>{if(!r||r.type==="delta")return r;const i=await t.determinePacketType(r);return i&&(r.type=i),r}):e;class yw{constructor(e){if(!(e instanceof vw))throw new TypeError("track must be an InputTrack.");this._track=e}getFirstPacket(e={}){if(xu(e),this._track.input._disposed)throw new bs;return Wx(this._track,this._track._backing.getFirstPacket(e),e)}getPacket(e,n={}){if(Sc(e),xu(n),this._track.input._disposed)throw new bs;return Wx(this._track,this._track._backing.getPacket(e,n),n)}getNextPacket(e,n={}){if(!(e instanceof ua))throw new TypeError("packet must be an EncodedPacket.");if(xu(n),this._track.input._disposed)throw new bs;return Wx(this._track,this._track._backing.getNextPacket(e,n),n)}async getKeyPacket(e,n={}){if(Sc(e),xu(n),this._track.input._disposed)throw new bs;if(!n.verifyKeyPackets)return this._track._backing.getKeyPacket(e,n);const r=await this._track._backing.getKeyPacket(e,n);return!r||r.type==="delta"?r:await this._track.determinePacketType(r)==="delta"?this.getKeyPacket(r.timestamp-1/this._track.timeResolution,n):r}async getNextKeyPacket(e,n={}){if(!(e instanceof ua))throw new TypeError("packet must be an EncodedPacket.");if(xu(n),this._track.input._disposed)throw new bs;if(!n.verifyKeyPackets)return this._track._backing.getNextKeyPacket(e,n);const r=await this._track._backing.getNextKeyPacket(e,n);return!r||r.type==="delta"?r:await this._track.determinePacketType(r)==="delta"?this.getNextKeyPacket(r,n):r}packets(e,n,r={}){if(e!==void 0&&!(e instanceof ua))throw new TypeError("startPacket must be an EncodedPacket.");if(e!==void 0&&e.isMetadataOnly&&!r?.metadataOnly)throw new TypeError("startPacket can only be metadata-only if options.metadataOnly is enabled.");if(n!==void 0&&!(n instanceof ua))throw new TypeError("endPacket must be an EncodedPacket.");if(xu(r),this._track.input._disposed)throw new bs;const i=[];let{promise:a,resolve:o}=_s(),{promise:l,resolve:u}=_s(),f=!1,p=!1,h=null;const m=[],g=()=>Math.max(2,m.length);(async()=>{let v=e??await this.getFirstPacket(r);for(;v&&!p&&!this._track.input._disposed&&!(n&&v.sequenceNumber>=n?.sequenceNumber);){if(i.length>g()){({promise:l,resolve:u}=_s()),await l;continue}i.push(v),o(),{promise:a,resolve:o}=_s(),v=await this.getNextPacket(v,r)}f=!0,o()})().catch(v=>{h||(h=v,o())});const _=this._track;return{async next(){for(;;){if(_.input._disposed)throw new bs;if(p)return{value:void 0,done:!0};if(h)throw h;if(i.length>0){const v=i.shift(),S=performance.now();for(m.push(S);m.length>0&&S-m[0]>=1e3;)m.shift();return u(),{value:v,done:!1}}else{if(f)return{value:void 0,done:!0};await a}}},async return(){return p=!0,u(),o(),{value:void 0,done:!0}},async throw(v){throw v},[Symbol.asyncIterator](){return this}}}}class oj{constructor(e,n){this.onSample=e,this.onError=n}}class lj{mediaSamplesInRange(e=0,n=1/0){Sc(e),Sc(n);const r=[];let i=!1,a=null,{promise:o,resolve:l}=_s(),{promise:u,resolve:f}=_s(),p=!1,h=!1,m=!1,g=null;(async()=>{const S=new Error,b=await this._createDecoder(w=>{if(f(),w.timestamp>=n&&(h=!0),h){w.close();return}a&&(w.timestamp>e?(r.push(a),i=!0):a.close()),w.timestamp>=e&&(r.push(w),i=!0),a=i?null:w,r.length>0&&(l(),{promise:o,resolve:l}=_s())},w=>{g||(w.stack=S.stack,g=w,l())}),Y=this._createPacketSink(),E=await Y.getKeyPacket(e,{verifyKeyPackets:!0})??await Y.getFirstPacket();if(!E)return;let M=E,U;if(n<1/0){const w=await Y.getPacket(n),I=w?w.type==="key"&&w.timestamp===n?w:await Y.getNextKeyPacket(w,{verifyKeyPackets:!0}):null;I&&(U=I)}const W=Y.packets(E,U);for(await W.next();M&&!h&&!this._track.input._disposed;){const w=fC(r.length);if(r.length+b.getDecodeQueueSize()>w){({promise:u,resolve:f}=_s()),await u;continue}b.decode(M);const I=await W.next();if(I.done)break;M=I.value}await W.return(),!m&&!this._track.input._disposed&&await b.flush(),b.close(),!i&&a&&r.push(a),p=!0,l()})().catch(S=>{g||(g=S,l())});const _=this._track,v=()=>{a?.close();for(const S of r)S.close()};return{async next(){for(;;){if(_.input._disposed)throw v(),new bs;if(m)return{value:void 0,done:!0};if(g)throw v(),g;if(r.length>0){const S=r.shift();return f(),{value:S,done:!1}}else if(!p)await o;else return{value:void 0,done:!0}}},async return(){return m=!0,h=!0,f(),l(),v(),{value:void 0,done:!0}},async throw(S){throw S},[Symbol.asyncIterator](){return this}}}mediaSamplesAtTimestamps(e){L$(e);const n=F$(e),r=[],i=[];let{promise:a,resolve:o}=_s(),{promise:l,resolve:u}=_s(),f=!1,p=!1,h=null;const m=v=>{i.push(v),o(),{promise:a,resolve:o}=_s()};(async()=>{const v=new Error,S=await this._createDecoder(w=>{if(u(),p){w.close();return}let I=0;for(;r.length>0&&w.timestamp-r[0]>-1e-10;)I++,r.shift();if(I>0)for(let P=0;P<I;P++)m(P<I-1?w.clone():w);else w.close()},w=>{h||(w.stack=v.stack,h=w,o())}),b=this._createPacketSink();let Y=null,E=null,M=-1;const U=async()=>{Ct(E);let w=E;for(S.decode(w);w.sequenceNumber<M;){const I=fC(i.length);for(;i.length+S.getDecodeQueueSize()>I&&!p;)({promise:l,resolve:u}=_s()),await l;if(p)break;const P=await b.getNextPacket(w);Ct(P),S.decode(P),w=P}M=-1},W=async()=>{await S.flush();for(let w=0;w<r.length;w++)m(null);r.length=0};for await(const w of n){if(Sc(w),p||this._track.input._disposed)break;const I=await b.getPacket(w),P=I&&await b.getKeyPacket(w,{verifyKeyPackets:!0});if(!P){M!==-1&&(await U(),await W()),m(null),Y=null;continue}Y&&(P.sequenceNumber!==E.sequenceNumber||I.timestamp<Y.timestamp)&&(await U(),await W()),r.push(I.timestamp),M=Math.max(I.sequenceNumber,M),Y=I,E=P}!p&&!this._track.input._disposed&&(M!==-1&&await U(),await W()),S.close(),f=!0,o()})().catch(v=>{h||(h=v,o())});const g=this._track,_=()=>{for(const v of i)v?.close()};return{async next(){for(;;){if(g.input._disposed)throw _(),new bs;if(p)return{value:void 0,done:!0};if(h)throw _(),h;if(i.length>0){const v=i.shift();return Ct(v!==void 0),u(),{value:v,done:!1}}else if(!f)await a;else return{value:void 0,done:!0}}},async return(){return p=!0,u(),o(),_(),{value:void 0,done:!0}},async throw(v){throw v},[Symbol.asyncIterator](){return this}}}}const fC=t=>t===0?40:8;class cj extends oj{constructor(e,n,r,i,a,o){super(e,n),this.codec=r,this.decoderConfig=i,this.rotation=a,this.timeResolution=o,this.decoder=null,this.customDecoder=null,this.customDecoderCallSerializer=new K$,this.customDecoderQueueSize=0,this.inputTimestamps=[],this.sampleQueue=[],this.currentPacketIndex=0,this.raslSkipped=!1,this.alphaDecoder=null,this.alphaHadKeyframe=!1,this.colorQueue=[],this.alphaQueue=[],this.merger=null,this.mergerCreationFailed=!1,this.decodedAlphaChunkCount=0,this.alphaDecoderQueueSize=0,this.nullAlphaFrameQueue=[],this.currentAlphaPacketIndex=0,this.alphaRaslSkipped=!1;const l=iI.find(u=>u.supports(r,i));if(l)this.customDecoder=new l,this.customDecoder.codec=r,this.customDecoder.config=i,this.customDecoder.onSample=u=>{if(!(u instanceof yl))throw new TypeError("The argument passed to onSample must be a VideoSample.");this.finalizeAndEmitSample(u)},this.customDecoderCallSerializer.call(()=>this.customDecoder.init());else{const u=f=>{if(this.alphaQueue.length>0){const p=this.alphaQueue.shift();Ct(p!==void 0),this.mergeAlpha(f,p)}else this.colorQueue.push(f)};this.decoder=new VideoDecoder({output:f=>{try{u(f)}catch(p){this.onError(p)}},error:n}),this.decoder.configure(i)}}getDecodeQueueSize(){return this.customDecoder?this.customDecoderQueueSize:(Ct(this.decoder),Math.max(this.decoder.decodeQueueSize,this.alphaDecoder?.decodeQueueSize??0))}decode(e){if(this.codec==="hevc"&&this.currentPacketIndex>0&&!this.raslSkipped){if(this.hasHevcRaslPicture(e.data))return;this.raslSkipped=!0}this.currentPacketIndex++,this.customDecoder?(this.customDecoderQueueSize++,this.customDecoderCallSerializer.call(()=>this.customDecoder.decode(e)).then(()=>this.customDecoderQueueSize--)):(Ct(this.decoder),Tx()||iC(this.inputTimestamps,e.timestamp,n=>n),this.decoder.decode(e.toEncodedVideoChunk()),this.decodeAlphaData(e))}decodeAlphaData(e){if(!e.sideData.alpha||this.mergerCreationFailed){this.pushNullAlphaFrame();return}if(!this.merger)try{this.merger=new uj}catch(r){console.error("Due to an error, only color data will be decoded.",r),this.mergerCreationFailed=!0,this.decodeAlphaData(e);return}if(!this.alphaDecoder){const r=i=>{if(this.alphaDecoderQueueSize--,this.colorQueue.length>0){const a=this.colorQueue.shift();Ct(a!==void 0),this.mergeAlpha(a,i)}else this.alphaQueue.push(i);for(this.decodedAlphaChunkCount++;this.nullAlphaFrameQueue.length>0&&this.nullAlphaFrameQueue[0]===this.decodedAlphaChunkCount;)if(this.nullAlphaFrameQueue.shift(),this.colorQueue.length>0){const a=this.colorQueue.shift();Ct(a!==void 0),this.mergeAlpha(a,null)}else this.alphaQueue.push(null)};this.alphaDecoder=new VideoDecoder({output:i=>{try{r(i)}catch(a){this.onError(a)}},error:this.onError}),this.alphaDecoder.configure(this.decoderConfig)}const n=rI(this.codec,this.decoderConfig,e.sideData.alpha);if(this.alphaHadKeyframe||(this.alphaHadKeyframe=n==="key"),this.alphaHadKeyframe){if(this.codec==="hevc"&&this.currentAlphaPacketIndex>0&&!this.alphaRaslSkipped){if(this.hasHevcRaslPicture(e.sideData.alpha)){this.pushNullAlphaFrame();return}this.alphaRaslSkipped=!0}this.currentAlphaPacketIndex++,this.alphaDecoder.decode(e.alphaToEncodedVideoChunk(n??e.type)),this.alphaDecoderQueueSize++}else this.pushNullAlphaFrame()}pushNullAlphaFrame(){this.alphaDecoderQueueSize===0?this.alphaQueue.push(null):this.nullAlphaFrameQueue.push(this.decodedAlphaChunkCount+this.alphaDecoderQueueSize)}hasHevcRaslPicture(e){return eI(e,this.decoderConfig).some(r=>{const i=tI(r);return i===c0.RASL_N||i===c0.RASL_R})}sampleHandler(e){if(Tx()){if(this.sampleQueue.length>0&&e.timestamp>=l0(this.sampleQueue).timestamp){for(const n of this.sampleQueue)this.finalizeAndEmitSample(n);this.sampleQueue.length=0}iC(this.sampleQueue,e,n=>n.timestamp)}else{const n=this.inputTimestamps.shift();Ct(n!==void 0),e.setTimestamp(n),this.finalizeAndEmitSample(e)}}finalizeAndEmitSample(e){e.setTimestamp(Math.round(e.timestamp*this.timeResolution)/this.timeResolution),e.setDuration(Math.round(e.duration*this.timeResolution)/this.timeResolution),e.setRotation(this.rotation),this.onSample(e)}mergeAlpha(e,n){if(!n){const a=new yl(e);this.sampleHandler(a);return}Ct(this.merger),this.merger.update(e,n),e.close(),n.close();const r=new VideoFrame(this.merger.canvas,{timestamp:e.timestamp,duration:e.duration??void 0}),i=new yl(r);this.sampleHandler(i)}async flush(){if(this.customDecoder?await this.customDecoderCallSerializer.call(()=>this.customDecoder.flush()):(Ct(this.decoder),await Promise.all([this.decoder.flush(),this.alphaDecoder?.flush()]),this.colorQueue.forEach(e=>e.close()),this.colorQueue.length=0,this.alphaQueue.forEach(e=>e?.close()),this.alphaQueue.length=0,this.alphaHadKeyframe=!1,this.decodedAlphaChunkCount=0,this.alphaDecoderQueueSize=0,this.nullAlphaFrameQueue.length=0,this.currentAlphaPacketIndex=0,this.alphaRaslSkipped=!1),Tx()){for(const e of this.sampleQueue)this.finalizeAndEmitSample(e);this.sampleQueue.length=0}this.currentPacketIndex=0,this.raslSkipped=!1}close(){this.customDecoder?this.customDecoderCallSerializer.call(()=>this.customDecoder.close()):(Ct(this.decoder),this.decoder.close(),this.alphaDecoder?.close(),this.colorQueue.forEach(e=>e.close()),this.colorQueue.length=0,this.alphaQueue.forEach(e=>e?.close()),this.alphaQueue.length=0,this.merger?.close());for(const e of this.sampleQueue)e.close();this.sampleQueue.length=0}}class uj{constructor(){typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(300,150):this.canvas=document.createElement("canvas");const e=this.canvas.getContext("webgl2",{premultipliedAlpha:!1});if(!e)throw new Error("Couldn't acquire WebGL 2 context.");this.gl=e,this.program=this.createProgram(),this.vao=this.createVAO(),this.colorTexture=this.createTexture(),this.alphaTexture=this.createTexture(),this.gl.useProgram(this.program),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"u_colorTexture"),0),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"u_alphaTexture"),1)}createProgram(){const e=this.createShader(this.gl.VERTEX_SHADER,`#version 300 es
			in vec2 a_position;
			in vec2 a_texCoord;
			out vec2 v_texCoord;
			
			void main() {
				gl_Position = vec4(a_position, 0.0, 1.0);
				v_texCoord = a_texCoord;
			}
		`),n=this.createShader(this.gl.FRAGMENT_SHADER,`#version 300 es
			precision highp float;
			
			uniform sampler2D u_colorTexture;
			uniform sampler2D u_alphaTexture;
			in vec2 v_texCoord;
			out vec4 fragColor;
			
			void main() {
				vec3 color = texture(u_colorTexture, v_texCoord).rgb;
				float alpha = texture(u_alphaTexture, v_texCoord).r;
				fragColor = vec4(color, alpha);
			}
		`),r=this.gl.createProgram();return this.gl.attachShader(r,e),this.gl.attachShader(r,n),this.gl.linkProgram(r),r}createShader(e,n){const r=this.gl.createShader(e);return this.gl.shaderSource(r,n),this.gl.compileShader(r),r}createVAO(){const e=this.gl.createVertexArray();this.gl.bindVertexArray(e);const n=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,1,1,1,0]),r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.STATIC_DRAW);const i=this.gl.getAttribLocation(this.program,"a_position"),a=this.gl.getAttribLocation(this.program,"a_texCoord");return this.gl.enableVertexAttribArray(i),this.gl.vertexAttribPointer(i,2,this.gl.FLOAT,!1,16,0),this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,2,this.gl.FLOAT,!1,16,8),e}createTexture(){const e=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),e}update(e,n){(e.displayWidth!==this.canvas.width||e.displayHeight!==this.canvas.height)&&(this.canvas.width=e.displayWidth,this.canvas.height=e.displayHeight),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colorTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.alphaTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}close(){this.gl.getExtension("WEBGL_lose_context")?.loseContext(),this.gl=null}}class fj extends lj{constructor(e){if(!(e instanceof u2))throw new TypeError("videoTrack must be an InputVideoTrack.");super(),this._track=e}async _createDecoder(e,n){if(!await this._track.canDecode())throw new Error("This video track cannot be decoded by this browser. Make sure to check decodability before using a track.");const r=this._track.codec,i=this._track.rotation,a=await this._track.getDecoderConfig(),o=this._track.timeResolution;return Ct(r&&a),new cj(e,n,r,a,i,o)}_createPacketSink(){return new yw(this._track)}async getSample(e){Sc(e);for await(const n of this.mediaSamplesAtTimestamps([e]))return n;throw new Error("Internal error: Iterator returned nothing.")}samples(e=0,n=1/0){return this.mediaSamplesInRange(e,n)}samplesAtTimestamps(e){return this.mediaSamplesAtTimestamps(e)}}class Zfe{constructor(e,n={}){if(this._nextCanvasIndex=0,!(e instanceof u2))throw new TypeError("videoTrack must be an InputVideoTrack.");if(n&&typeof n!="object")throw new TypeError("options must be an object.");if(n.alpha!==void 0&&typeof n.alpha!="boolean")throw new TypeError("options.alpha, when provided, must be a boolean.");if(n.width!==void 0&&(!Number.isInteger(n.width)||n.width<=0))throw new TypeError("options.width, when defined, must be a positive integer.");if(n.height!==void 0&&(!Number.isInteger(n.height)||n.height<=0))throw new TypeError("options.height, when defined, must be a positive integer.");if(n.fit!==void 0&&!["fill","contain","cover"].includes(n.fit))throw new TypeError('options.fit, when provided, must be one of "fill", "contain", or "cover".');if(n.width!==void 0&&n.height!==void 0&&n.fit===void 0)throw new TypeError("When both options.width and options.height are provided, options.fit must also be provided.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("options.rotation, when provided, must be 0, 90, 180 or 270.");if(n.crop!==void 0&&aI(n.crop,"options."),n.poolSize!==void 0&&(typeof n.poolSize!="number"||!Number.isInteger(n.poolSize)||n.poolSize<0))throw new TypeError("poolSize must be a non-negative integer.");const r=n.rotation??e.rotation,[i,a]=r%180===0?[e.codedWidth,e.codedHeight]:[e.codedHeight,e.codedWidth],o=n.crop;o&&sI(o,i,a);let[l,u]=o?[o.width,o.height]:[i,a];const f=l/u;n.width!==void 0&&n.height===void 0?(l=n.width,u=Math.round(l/f)):n.width===void 0&&n.height!==void 0?(u=n.height,l=Math.round(u*f)):n.width!==void 0&&n.height!==void 0&&(l=n.width,u=n.height),this._videoTrack=e,this._alpha=n.alpha??!1,this._width=l,this._height=u,this._rotation=r,this._crop=o,this._fit=n.fit??"fill",this._videoSampleSink=new fj(e),this._canvasPool=Array.from({length:n.poolSize??0},()=>null)}_videoSampleToWrappedCanvas(e){let n=this._canvasPool[this._nextCanvasIndex],r=!1;n||(typeof document<"u"?(n=document.createElement("canvas"),n.width=this._width,n.height=this._height):n=new OffscreenCanvas(this._width,this._height),this._canvasPool.length>0&&(this._canvasPool[this._nextCanvasIndex]=n),r=!0),this._canvasPool.length>0&&(this._nextCanvasIndex=(this._nextCanvasIndex+1)%this._canvasPool.length);const i=n.getContext("2d",{alpha:this._alpha||AY()});Ct(i),i.resetTransform(),r||(!this._alpha&&AY()?(i.fillStyle="black",i.fillRect(0,0,this._width,this._height)):i.clearRect(0,0,this._width,this._height)),e.drawWithFit(i,{fit:this._fit,rotation:this._rotation,crop:this._crop});const a={canvas:n,timestamp:e.timestamp,duration:e.duration};return e.close(),a}async getCanvas(e){Sc(e);const n=await this._videoSampleSink.getSample(e);return n&&this._videoSampleToWrappedCanvas(n)}canvases(e=0,n=1/0){return sC(this._videoSampleSink.samples(e,n),r=>this._videoSampleToWrappedCanvas(r))}canvasesAtTimestamps(e){return sC(this._videoSampleSink.samplesAtTimestamps(e),n=>n&&this._videoSampleToWrappedCanvas(n))}}class vw{constructor(e,n){this.input=e,this._backing=n}isVideoTrack(){return this instanceof u2}isAudioTrack(){return this instanceof oI}get id(){return this._backing.getId()}get internalCodecId(){return this._backing.getInternalCodecId()}get languageCode(){return this._backing.getLanguageCode()}get name(){return this._backing.getName()}get timeResolution(){return this._backing.getTimeResolution()}getFirstTimestamp(){return this._backing.getFirstTimestamp()}computeDuration(){return this._backing.computeDuration()}async computePacketStats(e=1/0){const n=new yw(this);let r=1/0,i=-1/0,a=0,o=0;for await(const l of n.packets(void 0,void 0,{metadataOnly:!0})){if(a>=e&&l.timestamp>=i)break;r=Math.min(r,l.timestamp),i=Math.max(i,l.timestamp+l.duration),a++,o+=l.byteLength}return{packetCount:a,averagePacketRate:a?Number((a/(i-r)).toPrecision(16)):0,averageBitrate:a?Number((8*o/(i-r)).toPrecision(16)):0}}}class u2 extends vw{constructor(e,n){super(e,n),this._backing=n}get type(){return"video"}get codec(){return this._backing.getCodec()}get codedWidth(){return this._backing.getCodedWidth()}get codedHeight(){return this._backing.getCodedHeight()}get rotation(){return this._backing.getRotation()}get displayWidth(){return this._backing.getRotation()%180===0?this._backing.getCodedWidth():this._backing.getCodedHeight()}get displayHeight(){return this._backing.getRotation()%180===0?this._backing.getCodedHeight():this._backing.getCodedWidth()}getColorSpace(){return this._backing.getColorSpace()}async hasHighDynamicRange(){const e=await this._backing.getColorSpace();return e.primaries==="bt2020"||e.primaries==="smpte432"||e.transfer==="pg"||e.transfer==="hlg"||e.matrix==="bt2020-ncl"}canBeTransparent(){return this._backing.canBeTransparent()}getDecoderConfig(){return this._backing.getDecoderConfig()}async getCodecParameterString(){return(await this._backing.getDecoderConfig())?.codec??null}async canDecode(){try{const e=await this._backing.getDecoderConfig();if(!e)return!1;const n=this._backing.getCodec();return Ct(n!==null),iI.some(i=>i.supports(n,e))?!0:typeof VideoDecoder>"u"?!1:(await VideoDecoder.isConfigSupported(e)).supported===!0}catch(e){return console.error("Error during decodability check:",e),!1}}async determinePacketType(e){if(!(e instanceof ua))throw new TypeError("packet must be an EncodedPacket.");if(e.isMetadataOnly)throw new TypeError("packet must not be metadata-only to determine its type.");if(this.codec===null)return null;const n=await this.getDecoderConfig();return Ct(n),rI(this.codec,n,e.data)}}class oI extends vw{constructor(e,n){super(e,n),this._backing=n}get type(){return"audio"}get codec(){return this._backing.getCodec()}get numberOfChannels(){return this._backing.getNumberOfChannels()}get sampleRate(){return this._backing.getSampleRate()}getDecoderConfig(){return this._backing.getDecoderConfig()}async getCodecParameterString(){return(await this._backing.getDecoderConfig())?.codec??null}async canDecode(){try{const e=await this._backing.getDecoderConfig();if(!e)return!1;const n=this._backing.getCodec();return Ct(n!==null),aj.some(r=>r.supports(n,e))||e.codec.startsWith("pcm-")?!0:typeof AudioDecoder>"u"?!1:(await AudioDecoder.isConfigSupported(e)).supported===!0}catch(e){return console.error("Error during decodability check:",e),!1}}async determinePacketType(e){if(!(e instanceof ua))throw new TypeError("packet must be an EncodedPacket.");return this.codec===null?null:"key"}}const dj=t=>{let n=(t.hasVideo?"video/":t.hasAudio?"audio/":"application/")+(t.isQuickTime?"quicktime":"mp4");if(t.codecStrings.length>0){const r=[...new Set(t.codecStrings)];n+=`; codecs="${r.join(", ")}"`}return n};const Eu=8,Xg=16,hl=t=>{let e=Xt(t);const n=Vu(t,4);let r=8;e===1&&(e=ia(t),r=16);const a=e-r;return a<0?null:{name:n,totalSize:e,headerSize:r,contentSize:a}},cc=t=>pc(t)/65536,Ex=t=>pc(t)/1073741824,Ux=t=>{let e=0;for(let n=0;n<4;n++){e<<=7;const r=Hn(t);if(e|=r&127,(r&128)===0)break}return e},Ea=t=>{let e=gs(t);return t.skip(2),e=Math.min(e,t.remainingLength),v_.decode(vs(t,e))},hj=t=>{const e=hl(t);if(!e||e.name!=="data"||t.remainingLength<8)return null;const n=Xt(t);t.skip(4);const r=vs(t,e.contentSize-8);switch(n){case 1:return v_.decode(r);case 2:return new TextDecoder("utf-16be").decode(r);case 13:return new Uv(r,"image/jpeg");case 14:return new Uv(r,"image/png");case 27:return new Uv(r,"image/bmp");default:return r}};class pj extends sj{constructor(e){super(e),this.moovSlice=null,this.currentTrack=null,this.tracks=[],this.metadataPromise=null,this.movieTimescale=-1,this.movieDurationInTimescale=-1,this.isQuickTime=!1,this.metadataTags={},this.currentMetadataKeys=null,this.isFragmented=!1,this.fragmentTrackDefaults=[],this.currentFragment=null,this.lastReadFragment=null,this.reader=e._reader}async computeDuration(){const e=await this.getTracks(),n=await Promise.all(e.map(r=>r.computeDuration()));return Math.max(0,...n)}async getTracks(){return await this.readMetadata(),this.tracks.map(e=>e.inputTrack)}async getMimeType(){await this.readMetadata();const e=await Promise.all(this.tracks.map(n=>n.inputTrack.getCodecParameterString()));return dj({isQuickTime:this.isQuickTime,hasVideo:this.tracks.some(n=>n.info?.type==="video"),hasAudio:this.tracks.some(n=>n.info?.type==="audio"),codecStrings:e.filter(Boolean)})}async getMetadataTags(){return await this.readMetadata(),this.metadataTags}readMetadata(){return this.metadataPromise??=(async()=>{let e=0;for(;;){let n=this.reader.requestSliceRange(e,Eu,Xg);if(n instanceof Promise&&(n=await n),!n)break;const r=e,i=hl(n);if(!i)break;if(i.name==="ftyp"){const a=Vu(n,4);this.isQuickTime=a==="qt  "}else if(i.name==="moov"){let a=this.reader.requestSlice(n.filePos,i.contentSize);if(a instanceof Promise&&(a=await a),!a)break;this.moovSlice=a,this.readContiguousBoxes(this.moovSlice);for(const o of this.tracks){const l=o.editListPreviousSegmentDurations/this.movieTimescale;o.editListOffset-=Math.round(l*o.timescale)}break}e=r+i.totalSize}if(this.isFragmented&&this.reader.fileSize!==null){let n=this.reader.requestSlice(this.reader.fileSize-4,4);n instanceof Promise&&(n=await n),Ct(n);const r=Xt(n),i=this.reader.fileSize-r;if(i>=0&&i<=this.reader.fileSize-Xg){let a=this.reader.requestSliceRange(i,Eu,Xg);if(a instanceof Promise&&(a=await a),a){const o=hl(a);if(o&&o.name==="mfra"){let l=this.reader.requestSlice(a.filePos,o.contentSize);l instanceof Promise&&(l=await l),l&&this.readContiguousBoxes(l)}}}}})()}getSampleTableForTrack(e){if(e.sampleTable)return e.sampleTable;const n={sampleTimingEntries:[],sampleCompositionTimeOffsets:[],sampleSizes:[],keySampleIndices:null,chunkOffsets:[],sampleToChunk:[],presentationTimestamps:null,presentationTimestampIndexMap:null};e.sampleTable=n,Ct(this.moovSlice);const r=this.moovSlice.slice(e.sampleTableByteOffset);if(this.currentTrack=e,this.traverseBox(r),this.currentTrack=null,e.info?.type==="audio"&&e.info.codec&&gw.includes(e.info.codec)&&n.sampleCompositionTimeOffsets.length===0){Ct(e.info?.type==="audio");const a=ej(e.info.codec),o=[],l=[];for(let u=0;u<n.sampleToChunk.length;u++){const f=n.sampleToChunk[u],p=n.sampleToChunk[u+1],h=(p?p.startChunkIndex:n.chunkOffsets.length)-f.startChunkIndex;for(let m=0;m<h;m++){const g=f.startSampleIndex+m*f.samplesPerChunk,_=g+f.samplesPerChunk,v=pi(n.sampleTimingEntries,g,I=>I.startIndex),S=n.sampleTimingEntries[v],b=pi(n.sampleTimingEntries,_,I=>I.startIndex),Y=n.sampleTimingEntries[b],E=S.startDecodeTimestamp+(g-S.startIndex)*S.delta,U=Y.startDecodeTimestamp+(_-Y.startIndex)*Y.delta-E,W=l0(o);W&&W.delta===U?W.count++:o.push({startIndex:f.startChunkIndex+m,startDecodeTimestamp:E,count:1,delta:U});const w=f.samplesPerChunk*a.sampleSize*e.info.numberOfChannels;l.push(w)}f.startSampleIndex=f.startChunkIndex,f.samplesPerChunk=1}n.sampleTimingEntries=o,n.sampleSizes=l}if(n.sampleCompositionTimeOffsets.length>0){n.presentationTimestamps=[];for(const a of n.sampleTimingEntries)for(let o=0;o<a.count;o++)n.presentationTimestamps.push({presentationTimestamp:a.startDecodeTimestamp+o*a.delta,sampleIndex:a.startIndex+o});for(const a of n.sampleCompositionTimeOffsets)for(let o=0;o<a.count;o++){const l=a.startIndex+o,u=n.presentationTimestamps[l];u&&(u.presentationTimestamp+=a.offset)}n.presentationTimestamps.sort((a,o)=>a.presentationTimestamp-o.presentationTimestamp),n.presentationTimestampIndexMap=Array(n.presentationTimestamps.length).fill(-1);for(let a=0;a<n.presentationTimestamps.length;a++)n.presentationTimestampIndexMap[n.presentationTimestamps[a].sampleIndex]=a}return n}async readFragment(e){if(this.lastReadFragment?.moofOffset===e)return this.lastReadFragment;let n=this.reader.requestSliceRange(e,Eu,Xg);n instanceof Promise&&(n=await n),Ct(n);const r=hl(n);Ct(r?.name==="moof");let i=this.reader.requestSlice(e,r.totalSize);i instanceof Promise&&(i=await i),Ct(i),this.traverseBox(i);const a=this.lastReadFragment;Ct(a&&a.moofOffset===e);for(const[,o]of a.trackData){const l=o.track,{fragmentPositionCache:u}=l;if(!o.startTimestampIsFinal){const p=l.fragmentLookupTable.find(h=>h.moofOffset===a.moofOffset);if(p)Cx(o,p.timestamp);else{const h=pi(u,a.moofOffset-1,m=>m.moofOffset);if(h!==-1){const m=u[h];Cx(o,m.endTimestamp)}}o.startTimestampIsFinal=!0}const f=pi(u,o.startTimestamp,p=>p.startTimestamp);(f===-1||u[f].moofOffset!==a.moofOffset)&&u.splice(f+1,0,{moofOffset:a.moofOffset,startTimestamp:o.startTimestamp,endTimestamp:o.endTimestamp})}return a}readContiguousBoxes(e){const n=e.filePos;for(;e.filePos-n<=e.length-Eu&&this.traverseBox(e););}*iterateContiguousBoxes(e){const n=e.filePos;for(;e.filePos-n<=e.length-Eu;){const r=e.filePos,i=hl(e);if(!i)break;yield{boxInfo:i,slice:e},e.filePos=r+i.totalSize}}traverseBox(e){const n=e.filePos,r=hl(e);if(!r)return!1;const i=e.filePos,a=n+r.totalSize;switch(r.name){case"mdia":case"minf":case"dinf":case"mfra":case"edts":this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"mvhd":{const o=Hn(e);e.skip(3),o===1?(e.skip(16),this.movieTimescale=Xt(e),this.movieDurationInTimescale=ia(e)):(e.skip(8),this.movieTimescale=Xt(e),this.movieDurationInTimescale=Xt(e))}break;case"trak":{const o={id:-1,demuxer:this,inputTrack:null,info:null,timescale:-1,durationInMovieTimescale:-1,durationInMediaTimescale:-1,rotation:0,internalCodecId:null,name:null,languageCode:oC,sampleTableByteOffset:-1,sampleTable:null,fragmentLookupTable:[],currentFragmentState:null,fragmentPositionCache:[],editListPreviousSegmentDurations:0,editListOffset:0};if(this.currentTrack=o,this.readContiguousBoxes(e.slice(i,r.contentSize)),o.id!==-1&&o.timescale!==-1&&o.info!==null){if(o.info.type==="video"&&o.info.width!==-1){const l=o;o.inputTrack=new u2(this.input,new mj(l)),this.tracks.push(o)}else if(o.info.type==="audio"&&o.info.numberOfChannels!==-1){const l=o;o.inputTrack=new oI(this.input,new gj(l)),this.tracks.push(o)}}this.currentTrack=null}break;case"tkhd":{const o=this.currentTrack;if(!o)break;const l=Hn(e);if(!((wg(e)&1)!==0))break;if(l===0)e.skip(8),o.id=Xt(e),e.skip(4),o.durationInMovieTimescale=Xt(e);else if(l===1)e.skip(16),o.id=Xt(e),e.skip(4),o.durationInMovieTimescale=ia(e);else throw new Error(`Incorrect track header version ${l}.`);e.skip(16);const p=[cc(e),cc(e),Ex(e),cc(e),cc(e),Ex(e),cc(e),cc(e),Ex(e)],h=P$(z$(Sj(p),90));Ct(h===0||h===90||h===180||h===270),o.rotation=h}break;case"elst":{const o=this.currentTrack;if(!o)break;const l=Hn(e);e.skip(3);let u=!1,f=0;const p=Xt(e);for(let h=0;h<p;h++){const m=l===1?ia(e):Xt(e),g=l===1?kj(e):pc(e),_=cc(e);if(m!==0){if(u){console.warn("Unsupported edit list: multiple edits are not currently supported. Only using first edit.");break}if(g===-1){f+=m;continue}if(_!==1){console.warn("Unsupported edit list entry: media rate must be 1.");break}o.editListPreviousSegmentDurations=f,o.editListOffset=g,u=!0}}}break;case"mdhd":{const o=this.currentTrack;if(!o)break;const l=Hn(e);e.skip(3),l===0?(e.skip(8),o.timescale=Xt(e),o.durationInMediaTimescale=Xt(e)):l===1&&(e.skip(16),o.timescale=Xt(e),o.durationInMediaTimescale=ia(e));let u=gs(e);if(u>0){o.languageCode="";for(let f=0;f<3;f++)o.languageCode=String.fromCharCode(96+(u&31))+o.languageCode,u>>=5;j$(o.languageCode)||(o.languageCode=oC)}}break;case"hdlr":{const o=this.currentTrack;if(!o)break;e.skip(8);const l=Vu(e,4);l==="vide"?o.info={type:"video",width:-1,height:-1,codec:null,codecDescription:null,colorSpace:null,avcCodecInfo:null,hevcCodecInfo:null,vp9CodecInfo:null,av1CodecInfo:null}:l==="soun"&&(o.info={type:"audio",numberOfChannels:-1,sampleRate:-1,codec:null,codecDescription:null,aacCodecInfo:null})}break;case"stbl":{const o=this.currentTrack;if(!o)break;o.sampleTableByteOffset=n,this.readContiguousBoxes(e.slice(i,r.contentSize))}break;case"stsd":{const o=this.currentTrack;if(!o||o.info===null||o.sampleTable)break;const l=Hn(e);e.skip(3);const u=Xt(e);for(let f=0;f<u;f++){const p=e.filePos,h=hl(e);if(!h)break;o.internalCodecId=h.name;const m=h.name.toLowerCase();if(o.info.type==="video")m==="avc1"?o.info.codec="avc":m==="hvc1"||m==="hev1"?o.info.codec="hevc":m==="vp08"?o.info.codec="vp8":m==="vp09"?o.info.codec="vp9":m==="av01"?o.info.codec="av1":console.warn(`Unsupported video codec (sample entry type '${h.name}').`),e.skip(24),o.info.width=gs(e),o.info.height=gs(e),e.skip(50),this.readContiguousBoxes(e.slice(e.filePos,p+h.totalSize-e.filePos));else{m==="mp4a"||(m==="opus"?o.info.codec="opus":m==="flac"?o.info.codec="flac":m==="twos"||m==="sowt"||m==="raw "||m==="in24"||m==="in32"||m==="fl32"||m==="fl64"||m==="lpcm"||m==="ipcm"||m==="fpcm"||(m==="ulaw"?o.info.codec="ulaw":m==="alaw"?o.info.codec="alaw":console.warn(`Unsupported audio codec (sample entry type '${h.name}').`))),e.skip(8);const g=gs(e);e.skip(6);let _=gs(e),v=gs(e);e.skip(4);let S=Xt(e)/65536;if(l===0&&g>0){if(g===1)e.skip(4),v=8*Xt(e),e.skip(8);else if(g===2){e.skip(4),S=Ij(e),_=Xt(e),e.skip(4),v=Xt(e);const b=Xt(e);if(e.skip(8),m==="lpcm"){const Y=v+7>>3,E=!!(b&1),M=!!(b&2),U=b&4?-1:0;v>0&&v<=64&&(E?v===32&&(o.info.codec=M?"pcm-f32be":"pcm-f32"):U&1<<Y-1?Y===1?o.info.codec="pcm-s8":Y===2?o.info.codec=M?"pcm-s16be":"pcm-s16":Y===3?o.info.codec=M?"pcm-s24be":"pcm-s24":Y===4&&(o.info.codec=M?"pcm-s32be":"pcm-s32"):Y===1&&(o.info.codec="pcm-u8")),o.info.codec===null&&console.warn("Unsupported PCM format.")}}}o.info.codec==="opus"&&(S=Q$),o.info.numberOfChannels=_,o.info.sampleRate=S,m==="twos"?v===8?o.info.codec="pcm-s8":v===16?o.info.codec="pcm-s16be":(console.warn(`Unsupported sample size ${v} for codec 'twos'.`),o.info.codec=null):m==="sowt"?v===8?o.info.codec="pcm-s8":v===16?o.info.codec="pcm-s16":(console.warn(`Unsupported sample size ${v} for codec 'sowt'.`),o.info.codec=null):m==="raw "?o.info.codec="pcm-u8":m==="in24"?o.info.codec="pcm-s24be":m==="in32"?o.info.codec="pcm-s32be":m==="fl32"?o.info.codec="pcm-f32be":m==="fl64"?o.info.codec="pcm-f64be":m==="ipcm"?o.info.codec="pcm-s16be":m==="fpcm"&&(o.info.codec="pcm-f32be"),this.readContiguousBoxes(e.slice(e.filePos,p+h.totalSize-e.filePos))}}}break;case"avcC":{const o=this.currentTrack;if(!o)break;Ct(o.info),o.info.codecDescription=vs(e,r.contentSize)}break;case"hvcC":{const o=this.currentTrack;if(!o)break;Ct(o.info),o.info.codecDescription=vs(e,r.contentSize)}break;case"vpcC":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="video"),e.skip(4);const l=Hn(e),u=Hn(e),f=Hn(e),p=f>>4,h=f>>1&7,m=f&1,g=Hn(e),_=Hn(e),v=Hn(e);o.info.vp9CodecInfo={profile:l,level:u,bitDepth:p,chromaSubsampling:h,videoFullRangeFlag:m,colourPrimaries:g,transferCharacteristics:_,matrixCoefficients:v}}break;case"av1C":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="video"),e.skip(1);const l=Hn(e),u=l>>5,f=l&31,p=Hn(e),h=p>>7,m=p>>6&1,g=p>>5&1,_=p>>4&1,v=p>>3&1,S=p>>2&1,b=p&3,Y=u===2&&m?g?12:10:m?10:8;o.info.av1CodecInfo={profile:u,level:f,tier:h,bitDepth:Y,monochrome:_,chromaSubsamplingX:v,chromaSubsamplingY:S,chromaSamplePosition:b}}break;case"colr":{const o=this.currentTrack;if(!o||(Ct(o.info?.type==="video"),Vu(e,4)!=="nclx"))break;const u=gs(e),f=gs(e),p=gs(e),h=!!(Hn(e)&128);o.info.colorSpace={primaries:M$[u],transfer:N$[f],matrix:O$[p],fullRange:h}}break;case"wave":this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"esds":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const l=Hn(e);Ct(l===3),Ux(e),e.skip(2);const u=Hn(e),f=(u&128)!==0,p=(u&64)!==0,h=(u&32)!==0;if(f&&e.skip(2),p){const S=Hn(e);e.skip(S)}h&&e.skip(2);const m=Hn(e);Ct(m===4);const g=Ux(e),_=e.filePos,v=Hn(e);if(v===64||v===103?(o.info.codec="aac",o.info.aacCodecInfo={isMpeg2:v===103}):v===105||v===107?o.info.codec="mp3":v===221?o.info.codec="vorbis":console.warn(`Unsupported audio codec (objectTypeIndication ${v}) - discarding track.`),e.skip(12),g>e.filePos-_){const S=Hn(e);Ct(S===5);const b=Ux(e);if(o.info.codecDescription=vs(e,b),o.info.codec==="aac"){const Y=q6(o.info.codecDescription);Y.numberOfChannels!==null&&(o.info.numberOfChannels=Y.numberOfChannels),Y.sampleRate!==null&&(o.info.sampleRate=Y.sampleRate)}}}break;case"enda":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),gs(e)&255&&(o.info.codec==="pcm-s16be"?o.info.codec="pcm-s16":o.info.codec==="pcm-s24be"?o.info.codec="pcm-s24":o.info.codec==="pcm-s32be"?o.info.codec="pcm-s32":o.info.codec==="pcm-f32be"?o.info.codec="pcm-f32":o.info.codec==="pcm-f64be"&&(o.info.codec="pcm-f64"))}break;case"pcmC":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const u=!!(Hn(e)&1),f=Hn(e);o.info.codec==="pcm-s16be"?u?f===16?o.info.codec="pcm-s16":f===24?o.info.codec="pcm-s24":f===32?o.info.codec="pcm-s32":(console.warn(`Invalid ipcm sample size ${f}.`),o.info.codec=null):f===16?o.info.codec="pcm-s16be":f===24?o.info.codec="pcm-s24be":f===32?o.info.codec="pcm-s32be":(console.warn(`Invalid ipcm sample size ${f}.`),o.info.codec=null):o.info.codec==="pcm-f32be"&&(u?f===32?o.info.codec="pcm-f32":f===64?o.info.codec="pcm-f64":(console.warn(`Invalid fpcm sample size ${f}.`),o.info.codec=null):f===32?o.info.codec="pcm-f32be":f===64?o.info.codec="pcm-f64be":(console.warn(`Invalid fpcm sample size ${f}.`),o.info.codec=null));break}case"dOps":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(1);const l=Hn(e),u=gs(e),f=Xt(e),p=Aj(e),h=Hn(e);let m;h!==0?m=vs(e,2+l):m=new Uint8Array(0);const g=new Uint8Array(19+m.byteLength),_=new DataView(g.buffer);_.setUint32(0,1332770163,!1),_.setUint32(4,1214603620,!1),_.setUint8(8,1),_.setUint8(9,l),_.setUint16(10,u,!0),_.setUint32(12,f,!0),_.setInt16(16,p,!0),_.setUint8(18,h),g.set(m,19),o.info.codecDescription=g,o.info.numberOfChannels=l}break;case"dfLa":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const l=127,u=128,f=e.filePos;for(;e.filePos<a;){const _=Hn(e),v=wg(e);if((_&l)===RY.STREAMINFO){e.skip(10);const b=Xt(e),Y=b>>>12,E=(b>>9&7)+1;o.info.sampleRate=Y,o.info.numberOfChannels=E,e.skip(20)}else e.skip(v);if(_&u)break}const p=e.filePos;e.filePos=f;const h=vs(e,p-f),m=new Uint8Array(4+h.byteLength);new DataView(m.buffer).setUint32(0,1716281667,!1),m.set(h,4),o.info.codecDescription=m}break;case"stts":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e);let u=0,f=0;for(let p=0;p<l;p++){const h=Xt(e),m=Xt(e);o.sampleTable.sampleTimingEntries.push({startIndex:u,startDecodeTimestamp:f,count:h,delta:m}),u+=h,f+=h*m}}break;case"ctts":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e);let u=0;for(let f=0;f<l;f++){const p=Xt(e),h=pc(e);o.sampleTable.sampleCompositionTimeOffsets.push({startIndex:u,count:p,offset:h}),u+=p}}break;case"stsz":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e),u=Xt(e);if(l===0)for(let f=0;f<u;f++){const p=Xt(e);o.sampleTable.sampleSizes.push(p)}else o.sampleTable.sampleSizes.push(l)}break;case"stz2":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4),e.skip(3);const l=Hn(e),u=Xt(e),f=vs(e,Math.ceil(u*l/8)),p=new Xa(f);for(let h=0;h<u;h++){const m=p.readBits(l);o.sampleTable.sampleSizes.push(m)}}break;case"stss":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4),o.sampleTable.keySampleIndices=[];const l=Xt(e);for(let u=0;u<l;u++){const f=Xt(e)-1;o.sampleTable.keySampleIndices.push(f)}o.sampleTable.keySampleIndices[0]!==0&&o.sampleTable.keySampleIndices.unshift(0)}break;case"stsc":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e);for(let f=0;f<l;f++){const p=Xt(e)-1,h=Xt(e),m=Xt(e);o.sampleTable.sampleToChunk.push({startSampleIndex:-1,startChunkIndex:p,samplesPerChunk:h,sampleDescriptionIndex:m})}let u=0;for(let f=0;f<o.sampleTable.sampleToChunk.length;f++)if(o.sampleTable.sampleToChunk[f].startSampleIndex=u,f<o.sampleTable.sampleToChunk.length-1){const h=o.sampleTable.sampleToChunk[f+1].startChunkIndex-o.sampleTable.sampleToChunk[f].startChunkIndex;u+=h*o.sampleTable.sampleToChunk[f].samplesPerChunk}}break;case"stco":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e);for(let u=0;u<l;u++){const f=Xt(e);o.sampleTable.chunkOffsets.push(f)}}break;case"co64":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const l=Xt(e);for(let u=0;u<l;u++){const f=ia(e);o.sampleTable.chunkOffsets.push(f)}}break;case"mvex":this.isFragmented=!0,this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"mehd":{const o=Hn(e);e.skip(3);const l=o===1?ia(e):Xt(e);this.movieDurationInTimescale=l}break;case"trex":{e.skip(4);const o=Xt(e),l=Xt(e),u=Xt(e),f=Xt(e),p=Xt(e);this.fragmentTrackDefaults.push({trackId:o,defaultSampleDescriptionIndex:l,defaultSampleDuration:u,defaultSampleSize:f,defaultSampleFlags:p})}break;case"tfra":{const o=Hn(e);e.skip(3);const l=Xt(e),u=this.tracks.find(Y=>Y.id===l);if(!u)break;const f=Xt(e),p=(f&48)>>4,h=(f&12)>>2,m=f&3,g=[Hn,gs,wg,Xt],_=g[p],v=g[h],S=g[m],b=Xt(e);for(let Y=0;Y<b;Y++){const E=o===1?ia(e):Xt(e),M=o===1?ia(e):Xt(e);_(e),v(e),S(e),u.fragmentLookupTable.push({timestamp:E,moofOffset:M})}u.fragmentLookupTable.sort((Y,E)=>Y.timestamp-E.timestamp);for(let Y=0;Y<u.fragmentLookupTable.length-1;Y++){const E=u.fragmentLookupTable[Y],M=u.fragmentLookupTable[Y+1];E.timestamp===M.timestamp&&(u.fragmentLookupTable.splice(Y+1,1),Y--)}}break;case"moof":this.currentFragment={moofOffset:n,moofSize:r.totalSize,implicitBaseDataOffset:n,trackData:new Map},this.readContiguousBoxes(e.slice(i,r.contentSize)),this.lastReadFragment=this.currentFragment,this.currentFragment=null;break;case"traf":if(Ct(this.currentFragment),this.readContiguousBoxes(e.slice(i,r.contentSize)),this.currentTrack){const o=this.currentFragment.trackData.get(this.currentTrack.id);if(o){const{currentFragmentState:l}=this.currentTrack;Ct(l),l.startTimestamp!==null&&(Cx(o,l.startTimestamp),o.startTimestampIsFinal=!0)}this.currentTrack.currentFragmentState=null,this.currentTrack=null}break;case"tfhd":{Ct(this.currentFragment),e.skip(1);const o=wg(e),l=!!(o&1),u=!!(o&2),f=!!(o&8),p=!!(o&16),h=!!(o&32),m=!!(o&65536),g=!!(o&131072),_=Xt(e),v=this.tracks.find(b=>b.id===_);if(!v)break;const S=this.fragmentTrackDefaults.find(b=>b.trackId===_);this.currentTrack=v,v.currentFragmentState={baseDataOffset:this.currentFragment.implicitBaseDataOffset,sampleDescriptionIndex:S?.defaultSampleDescriptionIndex??null,defaultSampleDuration:S?.defaultSampleDuration??null,defaultSampleSize:S?.defaultSampleSize??null,defaultSampleFlags:S?.defaultSampleFlags??null,startTimestamp:null},l?v.currentFragmentState.baseDataOffset=ia(e):g&&(v.currentFragmentState.baseDataOffset=this.currentFragment.moofOffset),u&&(v.currentFragmentState.sampleDescriptionIndex=Xt(e)),f&&(v.currentFragmentState.defaultSampleDuration=Xt(e)),p&&(v.currentFragmentState.defaultSampleSize=Xt(e)),h&&(v.currentFragmentState.defaultSampleFlags=Xt(e)),m&&(v.currentFragmentState.defaultSampleDuration=0)}break;case"tfdt":{const o=this.currentTrack;if(!o)break;Ct(o.currentFragmentState);const l=Hn(e);e.skip(3);const u=l===0?Xt(e):ia(e);o.currentFragmentState.startTimestamp=u}break;case"trun":{const o=this.currentTrack;if(!o)break;if(Ct(this.currentFragment),Ct(o.currentFragmentState),this.currentFragment.trackData.has(o.id)){console.warn("Can't have two trun boxes for the same track in one fragment. Ignoring...");break}const l=Hn(e),u=wg(e),f=!!(u&1),p=!!(u&4),h=!!(u&256),m=!!(u&512),g=!!(u&1024),_=!!(u&2048),v=Xt(e);let S=o.currentFragmentState.baseDataOffset;f&&(S+=pc(e));let b=null;p&&(b=Xt(e));let Y=S;if(v===0){this.currentFragment.implicitBaseDataOffset=Y;break}let E=0;const M={track:o,startTimestamp:0,endTimestamp:0,firstKeyFrameTimestamp:null,samples:[],presentationTimestamps:[],startTimestampIsFinal:!1};this.currentFragment.trackData.set(o.id,M);for(let w=0;w<v;w++){let I;h?I=Xt(e):(Ct(o.currentFragmentState.defaultSampleDuration!==null),I=o.currentFragmentState.defaultSampleDuration);let P;m?P=Xt(e):(Ct(o.currentFragmentState.defaultSampleSize!==null),P=o.currentFragmentState.defaultSampleSize);let O;g?O=Xt(e):(Ct(o.currentFragmentState.defaultSampleFlags!==null),O=o.currentFragmentState.defaultSampleFlags),w===0&&b!==null&&(O=b);let V=0;_&&(l===0?V=Xt(e):V=pc(e));const N=!(O&65536);M.samples.push({presentationTimestamp:E+V,duration:I,byteOffset:Y,byteSize:P,isKeyFrame:N}),Y+=P,E+=I}M.presentationTimestamps=M.samples.map((w,I)=>({presentationTimestamp:w.presentationTimestamp,sampleIndex:I})).sort((w,I)=>w.presentationTimestamp-I.presentationTimestamp);for(let w=0;w<M.presentationTimestamps.length;w++){const I=M.presentationTimestamps[w],P=M.samples[I.sampleIndex];if(M.firstKeyFrameTimestamp===null&&P.isKeyFrame&&(M.firstKeyFrameTimestamp=P.presentationTimestamp),w<M.presentationTimestamps.length-1){const O=M.presentationTimestamps[w+1];P.duration=O.presentationTimestamp-I.presentationTimestamp}}const U=M.samples[M.presentationTimestamps[0].sampleIndex],W=M.samples[l0(M.presentationTimestamps).sampleIndex];M.startTimestamp=U.presentationTimestamp,M.endTimestamp=W.presentationTimestamp+W.duration,this.currentFragment.implicitBaseDataOffset=Y}break;case"udta":{const o=this.iterateContiguousBoxes(e.slice(i,r.contentSize));for(const{boxInfo:l,slice:u}of o){if(l.name!=="meta"&&!this.currentTrack){const f=u.filePos;this.metadataTags.raw??={},l.name[0]===""?this.metadataTags.raw[l.name]??=Ea(u):this.metadataTags.raw[l.name]??=vs(u,l.contentSize),u.filePos=f}switch(l.name){case"meta":u.skip(-l.headerSize),this.traverseBox(u);break;case"nam":case"name":this.currentTrack?this.currentTrack.name=v_.decode(vs(u,l.contentSize)):this.metadataTags.title??=Ea(u);break;case"des":this.currentTrack||(this.metadataTags.description??=Ea(u));break;case"ART":this.currentTrack||(this.metadataTags.artist??=Ea(u));break;case"alb":this.currentTrack||(this.metadataTags.album??=Ea(u));break;case"albr":this.currentTrack||(this.metadataTags.albumArtist??=Ea(u));break;case"gen":this.currentTrack||(this.metadataTags.genre??=Ea(u));break;case"day":if(!this.currentTrack){const f=new Date(Ea(u));Number.isNaN(f.getTime())||(this.metadataTags.date??=f)}break;case"cmt":this.currentTrack||(this.metadataTags.comment??=Ea(u));break;case"lyr":this.currentTrack||(this.metadataTags.lyrics??=Ea(u));break}}}break;case"meta":{if(this.currentTrack)break;const l=Xt(e)!==0;this.currentMetadataKeys=new Map,l?this.readContiguousBoxes(e.slice(i,r.contentSize)):this.readContiguousBoxes(e.slice(i+4,r.contentSize-4)),this.currentMetadataKeys=null}break;case"keys":{if(!this.currentMetadataKeys)break;e.skip(4);const o=Xt(e);for(let l=0;l<o;l++){const u=Xt(e);e.skip(4);const f=v_.decode(vs(e,u-8));this.currentMetadataKeys.set(l+1,f)}}break;case"ilst":{if(!this.currentMetadataKeys)break;const o=this.iterateContiguousBoxes(e.slice(i,r.contentSize));for(const{boxInfo:l,slice:u}of o){let f=l.name;const p=(f.charCodeAt(0)<<24)+(f.charCodeAt(1)<<16)+(f.charCodeAt(2)<<8)+f.charCodeAt(3);this.currentMetadataKeys.has(p)&&(f=this.currentMetadataKeys.get(p));const h=hj(u);switch(this.metadataTags.raw??={},this.metadataTags.raw[f]??=h,f){case"nam":case"titl":case"com.apple.quicktime.title":case"title":typeof h=="string"&&(this.metadataTags.title??=h);break;case"des":case"desc":case"dscp":case"com.apple.quicktime.description":case"description":typeof h=="string"&&(this.metadataTags.description??=h);break;case"ART":case"com.apple.quicktime.artist":case"artist":typeof h=="string"&&(this.metadataTags.artist??=h);break;case"alb":case"albm":case"com.apple.quicktime.album":case"album":typeof h=="string"&&(this.metadataTags.album??=h);break;case"aART":case"album_artist":typeof h=="string"&&(this.metadataTags.albumArtist??=h);break;case"cmt":case"com.apple.quicktime.comment":case"comment":typeof h=="string"&&(this.metadataTags.comment??=h);break;case"gen":case"gnre":case"com.apple.quicktime.genre":case"genre":typeof h=="string"&&(this.metadataTags.genre??=h);break;case"lyr":case"lyrics":typeof h=="string"&&(this.metadataTags.lyrics??=h);break;case"day":case"rldt":case"com.apple.quicktime.creationdate":case"date":if(typeof h=="string"){const m=new Date(h);Number.isNaN(m.getTime())||(this.metadataTags.date??=m)}break;case"covr":case"com.apple.quicktime.artwork":h instanceof Uv?(this.metadataTags.images??=[],this.metadataTags.images.push({data:h.data,kind:"coverFront",mimeType:h.mimeType})):h instanceof Uint8Array&&(this.metadataTags.images??=[],this.metadataTags.images.push({data:h,kind:"coverFront",mimeType:"image/*"}));break;case"track":if(typeof h=="string"){const m=h.split("/"),g=Number.parseInt(m[0],10),_=m[1]&&Number.parseInt(m[1],10);Number.isInteger(g)&&g>0&&(this.metadataTags.trackNumber??=g),_&&Number.isInteger(_)&&_>0&&(this.metadataTags.tracksTotal??=_)}break;case"trkn":if(h instanceof Uint8Array&&h.length>=6){const m=_o(h),g=m.getUint16(2,!1),_=m.getUint16(4,!1);g>0&&(this.metadataTags.trackNumber??=g),_>0&&(this.metadataTags.tracksTotal??=_)}break;case"disc":case"disk":if(h instanceof Uint8Array&&h.length>=6){const m=_o(h),g=m.getUint16(2,!1),_=m.getUint16(4,!1);g>0&&(this.metadataTags.discNumber??=g),_>0&&(this.metadataTags.discsTotal??=_)}break}}}break}return e.filePos=a,!0}}class lI{constructor(e){this.internalTrack=e,this.packetToSampleIndex=new WeakMap,this.packetToFragmentLocation=new WeakMap}getId(){return this.internalTrack.id}getCodec(){throw new Error("Not implemented on base class.")}getInternalCodecId(){return this.internalTrack.internalCodecId}getName(){return this.internalTrack.name}getLanguageCode(){return this.internalTrack.languageCode}getTimeResolution(){return this.internalTrack.timescale}async computeDuration(){const e=await this.getPacket(1/0,{metadataOnly:!0});return(e?.timestamp??0)+(e?.duration??0)}async getFirstTimestamp(){return(await this.getFirstPacket({metadataOnly:!0}))?.timestamp??0}async getFirstPacket(e){const n=await this.fetchPacketForSampleIndex(0,e);return n||!this.internalTrack.demuxer.isFragmented?n:this.performFragmentedLookup(null,r=>r.trackData.get(this.internalTrack.id)?{sampleIndex:0,correctSampleFound:!0}:{sampleIndex:-1,correctSampleFound:!1},-1/0,1/0,e)}mapTimestampIntoTimescale(e){return Z$(e*this.internalTrack.timescale,14)+this.internalTrack.editListOffset}async getPacket(e,n){const r=this.mapTimestampIntoTimescale(e),i=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),a=dC(i,r),o=await this.fetchPacketForSampleIndex(a,n);return!hC(i)||!this.internalTrack.demuxer.isFragmented?o:this.performFragmentedLookup(null,l=>{const u=l.trackData.get(this.internalTrack.id);if(!u)return{sampleIndex:-1,correctSampleFound:!1};const f=pi(u.presentationTimestamps,r,m=>m.presentationTimestamp),p=f!==-1?u.presentationTimestamps[f].sampleIndex:-1,h=f!==-1&&r<u.endTimestamp;return{sampleIndex:p,correctSampleFound:h}},r,r,n)}async getNextPacket(e,n){const r=this.packetToSampleIndex.get(e);if(r!==void 0)return this.fetchPacketForSampleIndex(r+1,n);const i=this.packetToFragmentLocation.get(e);if(i===void 0)throw new Error("Packet was not created from this track.");return this.performFragmentedLookup(i.fragment,a=>{if(a===i.fragment){const o=a.trackData.get(this.internalTrack.id);if(i.sampleIndex+1<o.samples.length)return{sampleIndex:i.sampleIndex+1,correctSampleFound:!0}}else if(a.trackData.get(this.internalTrack.id))return{sampleIndex:0,correctSampleFound:!0};return{sampleIndex:-1,correctSampleFound:!1}},-1/0,1/0,n)}async getKeyPacket(e,n){const r=this.mapTimestampIntoTimescale(e),i=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),a=dC(i,r),o=a===-1?-1:vj(i,a),l=await this.fetchPacketForSampleIndex(o,n);return!hC(i)||!this.internalTrack.demuxer.isFragmented?l:this.performFragmentedLookup(null,u=>{const f=u.trackData.get(this.internalTrack.id);if(!f)return{sampleIndex:-1,correctSampleFound:!1};const p=V$(f.presentationTimestamps,g=>f.samples[g.sampleIndex].isKeyFrame&&g.presentationTimestamp<=r),h=p!==-1?f.presentationTimestamps[p].sampleIndex:-1,m=p!==-1&&r<f.endTimestamp;return{sampleIndex:h,correctSampleFound:m}},r,r,n)}async getNextKeyPacket(e,n){const r=this.packetToSampleIndex.get(e);if(r!==void 0){const a=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),o=_j(a,r);return this.fetchPacketForSampleIndex(o,n)}const i=this.packetToFragmentLocation.get(e);if(i===void 0)throw new Error("Packet was not created from this track.");return this.performFragmentedLookup(i.fragment,a=>{if(a===i.fragment){const l=a.trackData.get(this.internalTrack.id).samples.findIndex((u,f)=>u.isKeyFrame&&f>i.sampleIndex);if(l!==-1)return{sampleIndex:l,correctSampleFound:!0}}else{const o=a.trackData.get(this.internalTrack.id);if(o&&o.firstKeyFrameTimestamp!==null){const l=o.samples.findIndex(u=>u.isKeyFrame);return Ct(l!==-1),{sampleIndex:l,correctSampleFound:!0}}}return{sampleIndex:-1,correctSampleFound:!1}},-1/0,1/0,n)}async fetchPacketForSampleIndex(e,n){if(e===-1)return null;const r=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),i=yj(r,e);if(!i)return null;let a;if(n.metadataOnly)a=__;else{let f=this.internalTrack.demuxer.reader.requestSlice(i.sampleOffset,i.sampleSize);f instanceof Promise&&(f=await f),Ct(f),a=vs(f,i.sampleSize)}const o=(i.presentationTimestamp-this.internalTrack.editListOffset)/this.internalTrack.timescale,l=i.duration/this.internalTrack.timescale,u=new ua(a,i.isKeyFrame?"key":"delta",o,l,e,i.sampleSize);return this.packetToSampleIndex.set(u,e),u}async fetchPacketInFragment(e,n,r){if(n===-1)return null;const a=e.trackData.get(this.internalTrack.id).samples[n];Ct(a);let o;if(r.metadataOnly)o=__;else{let p=this.internalTrack.demuxer.reader.requestSlice(a.byteOffset,a.byteSize);p instanceof Promise&&(p=await p),Ct(p),o=vs(p,a.byteSize)}const l=(a.presentationTimestamp-this.internalTrack.editListOffset)/this.internalTrack.timescale,u=a.duration/this.internalTrack.timescale,f=new ua(o,a.isKeyFrame?"key":"delta",l,u,e.moofOffset+n,a.byteSize);return this.packetToFragmentLocation.set(f,{fragment:e,sampleIndex:n}),f}async performFragmentedLookup(e,n,r,i,a){const o=this.internalTrack.demuxer;let l=null,u=null,f=-1;if(e){const{sampleIndex:S,correctSampleFound:b}=n(e);if(b)return this.fetchPacketInFragment(e,S,a);S!==-1&&(u=e,f=S)}const p=pi(this.internalTrack.fragmentLookupTable,r,S=>S.timestamp),h=p!==-1?this.internalTrack.fragmentLookupTable[p]:null,m=pi(this.internalTrack.fragmentPositionCache,r,S=>S.startTimestamp),g=m!==-1?this.internalTrack.fragmentPositionCache[m]:null,_=Math.max(h?.moofOffset??0,g?.moofOffset??0)||null;let v;for(e?_===null||e.moofOffset>=_?(v=e.moofOffset+e.moofSize,l=e):v=_:v=_??0;;){if(l){const E=l.trackData.get(this.internalTrack.id);if(E&&E.startTimestamp>i)break}let S=o.reader.requestSliceRange(v,Eu,Xg);if(S instanceof Promise&&(S=await S),!S)break;const b=v,Y=hl(S);if(!Y)break;if(Y.name==="moof"){l=await o.readFragment(b);const{sampleIndex:E,correctSampleFound:M}=n(l);if(M)return this.fetchPacketInFragment(l,E,a);E!==-1&&(u=l,f=E)}v=b+Y.totalSize}if(h&&(!u||u.moofOffset<h.moofOffset)){const S=this.internalTrack.fragmentLookupTable[p-1];Ct(!S||S.timestamp<h.timestamp);const b=S?.timestamp??-1/0;return this.performFragmentedLookup(null,n,b,i,a)}return u?this.fetchPacketInFragment(u,f,a):null}}class mj extends lI{constructor(e){super(e),this.decoderConfigPromise=null,this.internalTrack=e}getCodec(){return this.internalTrack.info.codec}getCodedWidth(){return this.internalTrack.info.width}getCodedHeight(){return this.internalTrack.info.height}getRotation(){return this.internalTrack.rotation}async getColorSpace(){return{primaries:this.internalTrack.info.colorSpace?.primaries,transfer:this.internalTrack.info.colorSpace?.transfer,matrix:this.internalTrack.info.colorSpace?.matrix,fullRange:this.internalTrack.info.colorSpace?.fullRange}}async canBeTransparent(){return!1}async getDecoderConfig(){return this.internalTrack.info.codec?this.decoderConfigPromise??=(async()=>{if(this.internalTrack.info.codec==="vp9"&&!this.internalTrack.info.vp9CodecInfo){const e=await this.getFirstPacket({});this.internalTrack.info.vp9CodecInfo=e&&rj(e.data)}else if(this.internalTrack.info.codec==="av1"&&!this.internalTrack.info.av1CodecInfo){const e=await this.getFirstPacket({});this.internalTrack.info.av1CodecInfo=e&&ij(e.data)}return{codec:H$(this.internalTrack.info),codedWidth:this.internalTrack.info.width,codedHeight:this.internalTrack.info.height,description:this.internalTrack.info.codecDescription??void 0,colorSpace:this.internalTrack.info.colorSpace??void 0}})():null}}class gj extends lI{constructor(e){super(e),this.decoderConfig=null,this.internalTrack=e}getCodec(){return this.internalTrack.info.codec}getNumberOfChannels(){return this.internalTrack.info.numberOfChannels}getSampleRate(){return this.internalTrack.info.sampleRate}async getDecoderConfig(){return this.internalTrack.info.codec?this.decoderConfig??={codec:G$(this.internalTrack.info),numberOfChannels:this.internalTrack.info.numberOfChannels,sampleRate:this.internalTrack.info.sampleRate,description:this.internalTrack.info.codecDescription??void 0}:null}}const dC=(t,e)=>{if(t.presentationTimestamps){const n=pi(t.presentationTimestamps,e,r=>r.presentationTimestamp);return n===-1?-1:t.presentationTimestamps[n].sampleIndex}else{const n=pi(t.sampleTimingEntries,e,i=>i.startDecodeTimestamp);if(n===-1)return-1;const r=t.sampleTimingEntries[n];return r.startIndex+Math.min(Math.floor((e-r.startDecodeTimestamp)/r.delta),r.count-1)}},yj=(t,e)=>{const n=pi(t.sampleTimingEntries,e,b=>b.startIndex),r=t.sampleTimingEntries[n];if(!r||r.startIndex+r.count<=e)return null;let a=r.startDecodeTimestamp+(e-r.startIndex)*r.delta;const o=pi(t.sampleCompositionTimeOffsets,e,b=>b.startIndex),l=t.sampleCompositionTimeOffsets[o];l&&e-l.startIndex<l.count&&(a+=l.offset);const u=t.sampleSizes[Math.min(e,t.sampleSizes.length-1)],f=pi(t.sampleToChunk,e,b=>b.startSampleIndex),p=t.sampleToChunk[f];Ct(p);const h=p.startChunkIndex+Math.floor((e-p.startSampleIndex)/p.samplesPerChunk),m=t.chunkOffsets[h],g=p.startSampleIndex+(h-p.startChunkIndex)*p.samplesPerChunk;let _=0,v=m;if(t.sampleSizes.length===1)v+=u*(e-g),_+=u*p.samplesPerChunk;else for(let b=g;b<g+p.samplesPerChunk;b++){const Y=t.sampleSizes[b];b<e&&(v+=Y),_+=Y}let S=r.delta;if(t.presentationTimestamps){const b=t.presentationTimestampIndexMap[e];Ct(b!==void 0),b<t.presentationTimestamps.length-1&&(S=t.presentationTimestamps[b+1].presentationTimestamp-a)}return{presentationTimestamp:a,duration:S,sampleOffset:v,sampleSize:u,chunkOffset:m,chunkSize:_,isKeyFrame:t.keySampleIndices?B$(t.keySampleIndices,e,b=>b)!==-1:!0}},vj=(t,e)=>{if(!t.keySampleIndices)return e;const n=pi(t.keySampleIndices,e,r=>r);return t.keySampleIndices[n]??-1},_j=(t,e)=>{if(!t.keySampleIndices)return e+1;const n=pi(t.keySampleIndices,e,r=>r);return t.keySampleIndices[n+1]??-1},Cx=(t,e)=>{t.startTimestamp+=e,t.endTimestamp+=e;for(const n of t.samples)n.presentationTimestamp+=e;for(const n of t.presentationTimestamps)n.presentationTimestamp+=e},Sj=t=>{const[e,,,n]=t,r=Math.hypot(e,n),i=e/r,a=n/r,o=-Math.atan2(a,i)*(180/Math.PI);return Number.isFinite(o)?o:0},hC=t=>t.sampleSizes.length===0;class cI{}class uI extends cI{async _getMajorBrand(e){let n=e._reader.requestSlice(0,12);return n instanceof Promise&&(n=await n),!n||(n.skip(4),Vu(n,4)!=="ftyp")?null:Vu(n,4)}_createDemuxer(e){return new pj(e)}}class bj extends uI{async _canReadInput(e){const n=await this._getMajorBrand(e);return!!n&&n!=="qt  "}get name(){return"MP4"}get mimeType(){return"video/mp4"}}class xj extends uI{async _canReadInput(e){return await this._getMajorBrand(e)==="qt  "}get name(){return"QuickTime File Format"}get mimeType(){return"video/quicktime"}}const Yj=new bj,Tj=new xj;class _w{constructor(){this._disposed=!1,this._sizePromise=null,this.onread=null}async getSizeOrNull(){if(this._disposed)throw new bs;return this._sizePromise??=Promise.resolve(this._retrieveSize())}async getSize(){if(this._disposed)throw new bs;const e=await this.getSizeOrNull();if(e===null)throw new Error("Cannot determine the size of an unsized source.");return e}}class wj extends _w{constructor(e,n={}){if(!(e instanceof Blob))throw new TypeError("blob must be a Blob.");if(!n||typeof n!="object")throw new TypeError("options must be an object.");if(n.maxCacheSize!==void 0&&(!mw(n.maxCacheSize)||n.maxCacheSize<0))throw new TypeError("options.maxCacheSize, when provided, must be a non-negative number.");super(),this._readers=new WeakMap,this._blob=e,this._orchestrator=new dI({maxCacheSize:n.maxCacheSize??8*2**20,maxWorkerCount:4,runWorker:this._runWorker.bind(this),prefetchProfile:fI.fileSystem})}_retrieveSize(){const e=this._blob.size;return this._orchestrator.fileSize=e,e}_read(e,n){return this._orchestrator.read(e,n)}async _runWorker(e){let n=this._readers.get(e);for(n===void 0&&("stream"in this._blob?n=this._blob.slice(e.currentPos).stream().getReader():n=null,this._readers.set(e,n));e.currentPos<e.targetPos&&!e.aborted;)if(n){const{done:r,value:i}=await n.read();if(r){if(this._orchestrator.forgetWorker(e),e.currentPos<e.targetPos)throw new Error("Blob reader stopped unexpectedly before all requested data was read.");break}if(e.aborted)break;this.onread?.(e.currentPos,e.currentPos+i.length),this._orchestrator.supplyWorkerData(e,i)}else{const r=await this._blob.slice(e.currentPos,e.targetPos).arrayBuffer();if(e.aborted)break;this.onread?.(e.currentPos,e.currentPos+r.byteLength),this._orchestrator.supplyWorkerData(e,new Uint8Array(r))}e.running=!1}_dispose(){this._orchestrator.dispose()}}const Wj=.5*2**20;class Ej extends _w{constructor(e){if(!e||typeof e!="object")throw new TypeError("options must be an object.");if(typeof e.getSize!="function")throw new TypeError("options.getSize must be a function.");if(typeof e.read!="function")throw new TypeError("options.read must be a function.");if(e.dispose!==void 0&&typeof e.dispose!="function")throw new TypeError("options.dispose, when provided, must be a function.");if(e.maxCacheSize!==void 0&&(!mw(e.maxCacheSize)||e.maxCacheSize<0))throw new TypeError("options.maxCacheSize, when provided, must be a non-negative number.");if(e.prefetchProfile&&!["none","fileSystem","network"].includes(e.prefetchProfile))throw new TypeError("options.prefetchProfile, when provided, must be one of 'none', 'fileSystem' or 'network'.");super(),this._options=e,this._orchestrator=new dI({maxCacheSize:e.maxCacheSize??8*2**20,maxWorkerCount:2,prefetchProfile:fI[e.prefetchProfile??"none"],runWorker:this._runWorker.bind(this)})}_retrieveSize(){const e=this._options.getSize();if(e instanceof Promise)return e.then(n=>{if(!Number.isInteger(n)||n<0)throw new TypeError("options.getSize must return or resolve to a non-negative integer.");return this._orchestrator.fileSize=n,n});if(!Number.isInteger(e)||e<0)throw new TypeError("options.getSize must return or resolve to a non-negative integer.");return this._orchestrator.fileSize=e,e}_read(e,n){return this._orchestrator.read(e,n)}async _runWorker(e){for(;e.currentPos<e.targetPos&&!e.aborted;){const n=e.currentPos,r=e.targetPos;let i=this._options.read(e.currentPos,r);if(i instanceof Promise&&(i=await i),e.aborted)break;if(i instanceof Uint8Array){if(i=_c(i),i.length!==r-e.currentPos)throw new Error(`options.read returned a Uint8Array with unexpected length: Requested ${r-e.currentPos} bytes, but got ${i.length}.`);this.onread?.(e.currentPos,e.currentPos+i.length),this._orchestrator.supplyWorkerData(e,i)}else if(i instanceof ReadableStream){const a=i.getReader();for(;e.currentPos<r&&!e.aborted;){const{done:o,value:l}=await a.read();if(o){if(e.currentPos<r)throw new Error(`ReadableStream returned by options.read ended before supplying enough data. Requested ${r-n} bytes, but got ${e.currentPos-n}`);break}if(!(l instanceof Uint8Array))throw new TypeError("ReadableStream returned by options.read must yield Uint8Array chunks.");if(e.aborted)break;const u=_c(l);this.onread?.(e.currentPos,e.currentPos+u.length),this._orchestrator.supplyWorkerData(e,u)}}else throw new TypeError("options.read must return or resolve to a Uint8Array or a ReadableStream.")}e.running=!1}_dispose(){this._orchestrator.dispose(),this._options.dispose?.()}}const fI={none:(t,e)=>({start:t,end:e}),fileSystem:(t,e)=>(t=Math.floor((t-65536)/65536)*65536,e=Math.ceil((e+65536)/65536)*65536,{start:t,end:e}),network:(t,e,n)=>{t=Math.max(0,Math.floor((t-65536)/65536)*65536);for(const i of n){const o=Math.max((i.startPos+i.targetPos)/2,i.targetPos-8388608);if(kY(t,e,o,i.targetPos)){const l=i.targetPos-i.startPos,u=Math.ceil((l+1)/8388608)*8388608,f=2**Math.ceil(Math.log2(l+1)),p=Math.min(f,u);e=Math.max(e,i.startPos+p)}}return e=Math.max(e,t+Wj),{start:t,end:e}}};class dI{constructor(e){this.options=e,this.fileSize=null,this.nextAge=0,this.workers=[],this.cache=[],this.currentCacheSize=0,this.disposed=!1}read(e,n){Ct(this.fileSize!==null);const r=this.options.prefetchProfile(e,n,this.workers),i=Math.max(r.start,0),a=Math.min(r.end,this.fileSize);Ct(i<=e&&n<=a);let o=null;const l=pi(this.cache,e,Y=>Y.start),u=l!==-1?this.cache[l]:null;u&&u.start<=e&&n<=u.end&&(u.age=this.nextAge++,o={bytes:u.bytes,view:u.view,offset:u.start});const f=pi(this.cache,i,Y=>Y.start),p=o?null:new Uint8Array(n-e);let h=0,m=i;const g=[];if(f!==-1){for(let Y=f;Y<this.cache.length;Y++){const E=this.cache[Y];if(E.start>=a)break;if(E.end<=i)continue;const M=Math.max(i,E.start),U=Math.min(a,E.end);if(Ct(M<=U),m<M&&g.push({start:m,end:M}),m=U,p){const W=Math.max(e,E.start),w=Math.min(n,E.end);if(W<w){const I=W-e;p.set(E.bytes.subarray(W-E.start,w-E.start),I),I===h&&(h=w-e)}}E.age=this.nextAge++}m<a&&g.push({start:m,end:a})}else g.push({start:i,end:a});if(p&&h>=p.length&&(o={bytes:p,view:_o(p),offset:e}),g.length===0)return Ct(o),o;const{promise:_,resolve:v,reject:S}=_s(),b=[];for(const Y of g){const E=Math.max(e,Y.start),M=Math.min(n,Y.end);E===Y.start&&M===Y.end?b.push(Y):E<M&&b.push({start:E,end:M})}for(const Y of g){const E=p&&{start:e,bytes:p,holes:b,resolve:v,reject:S};let M=!1;for(const U of this.workers)if(kY(Y.start-131072,Y.start,U.currentPos,U.targetPos)){U.targetPos=Math.max(U.targetPos,Y.end),M=!0,E&&!U.pendingSlices.includes(E)&&U.pendingSlices.push(E),U.running||this.runWorker(U);break}if(!M){const U=this.createWorker(Y.start,Y.end);E&&(U.pendingSlices=[E]),this.runWorker(U)}}return o||(Ct(p),o=_.then(Y=>({bytes:Y,view:_o(Y),offset:e}))),o}createWorker(e,n){const r={startPos:e,currentPos:e,targetPos:n,running:!1,aborted:this.disposed,pendingSlices:[],age:this.nextAge++};for(this.workers.push(r);this.workers.length>this.options.maxWorkerCount;){let i=0,a=this.workers[0];for(let o=1;o<this.workers.length;o++){const l=this.workers[o];l.age<a.age&&(i=o,a=l)}if(a.running&&a.pendingSlices.length>0)break;a.aborted=!0,this.workers.splice(i,1)}return r}runWorker(e){Ct(!e.running),Ct(e.currentPos<e.targetPos),e.running=!0,e.age=this.nextAge++,this.options.runWorker(e).catch(n=>{if(e.running=!1,e.pendingSlices.length>0)e.pendingSlices.forEach(r=>r.reject(n)),e.pendingSlices.length=0;else throw n})}supplyWorkerData(e,n){Ct(!e.aborted);const r=e.currentPos,i=r+n.length;this.insertIntoCache({start:r,end:i,bytes:n,view:_o(n),age:this.nextAge++}),e.currentPos+=n.length,e.targetPos=Math.max(e.targetPos,e.currentPos);for(let a=0;a<e.pendingSlices.length;a++){const o=e.pendingSlices[a],l=Math.max(r,o.start),u=Math.min(i,o.start+o.bytes.length);l<u&&o.bytes.set(n.subarray(l-r,u-r),l-o.start);for(let f=0;f<o.holes.length;f++){const p=o.holes[f];r<=p.start&&i>p.start&&(p.start=i),p.end<=p.start&&(o.holes.splice(f,1),f--)}o.holes.length===0&&(o.resolve(o.bytes),e.pendingSlices.splice(a,1),a--)}for(let a=0;a<this.workers.length;a++){const o=this.workers[a];e===o||o.running||kY(r,i,o.currentPos,o.targetPos)&&(this.workers.splice(a,1),a--)}}forgetWorker(e){const n=this.workers.indexOf(e);Ct(n!==-1),this.workers.splice(n,1)}insertIntoCache(e){if(this.options.maxCacheSize===0)return;let n=pi(this.cache,e.start,r=>r.start)+1;if(n>0){const r=this.cache[n-1];if(r.end>=e.end)return;if(r.end>e.start){const i=new Uint8Array(e.end-r.start);i.set(r.bytes,0),i.set(e.bytes,e.start-r.start),this.currentCacheSize+=e.end-r.end,r.bytes=i,r.view=_o(i),r.end=e.end,n--,e=r}else this.cache.splice(n,0,e),this.currentCacheSize+=e.bytes.length}else this.cache.splice(n,0,e),this.currentCacheSize+=e.bytes.length;for(let r=n+1;r<this.cache.length;r++){const i=this.cache[r];if(e.end<=i.start)break;if(e.end>=i.end){this.cache.splice(r,1),this.currentCacheSize-=i.bytes.length,r--;continue}const a=new Uint8Array(i.end-e.start);a.set(e.bytes,0),a.set(i.bytes,i.start-e.start),this.currentCacheSize-=e.end-i.start,e.bytes=a,e.view=_o(a),e.end=i.end,this.cache.splice(r,1);break}for(;this.currentCacheSize>this.options.maxCacheSize;){let r=0,i=this.cache[0];for(let a=1;a<this.cache.length;a++){const o=this.cache[a];o.age<i.age&&(r=a,i=o)}if(this.currentCacheSize-i.bytes.length<=this.options.maxCacheSize)break;this.cache.splice(r,1),this.currentCacheSize-=i.bytes.length}}dispose(){for(const e of this.workers)e.aborted=!0;this.workers.length=0,this.cache.length=0,this.disposed=!0}}G6();class Uj{get disposed(){return this._disposed}constructor(e){if(this._demuxerPromise=null,this._format=null,this._disposed=!1,!e||typeof e!="object")throw new TypeError("options must be an object.");if(!Array.isArray(e.formats)||e.formats.some(n=>!(n instanceof cI)))throw new TypeError("options.formats must be an array of InputFormat.");if(!(e.source instanceof _w))throw new TypeError("options.source must be a Source.");if(e.source._disposed)throw new Error("options.source must not be disposed.");this._formats=e.formats,this._source=e.source,this._reader=new Cj(e.source)}_getDemuxer(){return this._demuxerPromise??=(async()=>{this._reader.fileSize=await this._source.getSizeOrNull();for(const e of this._formats)if(await e._canReadInput(this))return this._format=e,e._createDemuxer(this);throw new Error("Input has an unsupported or unrecognizable format.")})()}get source(){return this._source}async getFormat(){return await this._getDemuxer(),Ct(this._format),this._format}async computeDuration(){return(await this._getDemuxer()).computeDuration()}async getTracks(){return(await this._getDemuxer()).getTracks()}async getVideoTracks(){return(await this.getTracks()).filter(n=>n.isVideoTrack())}async getAudioTracks(){return(await this.getTracks()).filter(n=>n.isAudioTrack())}async getPrimaryVideoTrack(){return(await this.getTracks()).find(n=>n.isVideoTrack())??null}async getPrimaryAudioTrack(){return(await this.getTracks()).find(n=>n.isAudioTrack())??null}async getMimeType(){return(await this._getDemuxer()).getMimeType()}async getMetadataTags(){return(await this._getDemuxer()).getMetadataTags()}dispose(){this._disposed||(this._disposed=!0,this._source._disposed=!0,this._source._dispose())}[Symbol.dispose](){this.dispose()}}class bs extends Error{constructor(e="Input has been disposed."){super(e),this.name="InputDisposedError"}}class Cj{constructor(e){this.source=e}requestSlice(e,n){if(this.source._disposed)throw new bs;if(this.fileSize!==null&&e+n>this.fileSize)return null;const r=e+n,i=this.source._read(e,r);return i instanceof Promise?i.then(a=>a?new s1(a.bytes,a.view,a.offset,e,r):null):i?new s1(i.bytes,i.view,i.offset,e,r):null}requestSliceRange(e,n,r){if(this.source._disposed)throw new bs;if(this.fileSize!==null)return this.requestSlice(e,aC(this.fileSize-e,n,r));{const i=this.requestSlice(e,r),a=o=>{if(o)return o;const l=f=>(Ct(f!==null),this.requestSlice(e,aC(f-e,n,r))),u=this.source._retrieveSize();return u instanceof Promise?u.then(l):l(u)};return i instanceof Promise?i.then(a):a(i)}}}class s1{constructor(e,n,r,i,a){this.bytes=e,this.view=n,this.offset=r,this.start=i,this.end=a,this.bufferPos=i-r}static tempFromBytes(e){return new s1(e,_o(e),0,0,e.length)}get length(){return this.end-this.start}get filePos(){return this.offset+this.bufferPos}set filePos(e){this.bufferPos=e-this.offset}get remainingLength(){return Math.max(this.end-this.filePos,0)}skip(e){this.bufferPos+=e}slice(e,n=this.end-e){if(e<this.start||e+n>this.end)throw new RangeError("Slicing outside of original slice.");return new s1(this.bytes,this.view,this.offset,e,e+n)}}const ko=(t,e)=>{if(t.filePos<t.start||t.filePos+e>t.end)throw new RangeError(`Tried reading [${t.filePos}, ${t.filePos+e}), but slice is [${t.start}, ${t.end}). This is likely an internal error, please report it alongside the file that caused it.`)},vs=(t,e)=>{ko(t,e);const n=t.bytes.subarray(t.bufferPos,t.bufferPos+e);return t.bufferPos+=e,n},Hn=t=>(ko(t,1),t.view.getUint8(t.bufferPos++)),gs=t=>{ko(t,2);const e=t.view.getUint16(t.bufferPos,!1);return t.bufferPos+=2,e},wg=t=>{ko(t,3);const e=H6(t.view,t.bufferPos);return t.bufferPos+=3,e},Aj=t=>{ko(t,2);const e=t.view.getInt16(t.bufferPos,!1);return t.bufferPos+=2,e},Xt=t=>{ko(t,4);const e=t.view.getUint32(t.bufferPos,!1);return t.bufferPos+=4,e},pc=t=>{ko(t,4);const e=t.view.getInt32(t.bufferPos,!1);return t.bufferPos+=4,e},ia=t=>{const e=Xt(t),n=Xt(t);return e*4294967296+n},kj=t=>{const e=pc(t),n=Xt(t);return e*4294967296+n},Ij=t=>{ko(t,8);const e=t.view.getFloat64(t.bufferPos,!1);return t.bufferPos+=8,e},Vu=(t,e)=>{ko(t,e);let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t.bytes[t.bufferPos++]);return n};class f2{file;_path;constructor(e,n){this.file=e,this._path=n}get name(){return this.file.name}get size(){return this.file.size}get type(){return this.file.type}get lastModified(){return this.file.lastModified}get webkitRelativePath(){return this.file.webkitRelativePath}get path(){return this._path||this.file.webkitRelativePath}text(){return this.file.text()}arrayBuffer(){return this.file.arrayBuffer()}stream(){return this.file.stream()}slice(e,n,r){return this.file.slice(e,n,r)}getNativeFile(){return this.file}}class u0{name;size;type;lastModified;fileRef;path;constructor(e,n,r,i,a,o){this.name=e,this.fileRef=n,this.size=r,this.type=i,this.lastModified=a,this.path=o}static async create(e,n,r){if(!window.electronAPI)throw new Error("Electron API not available");const i=await window.electronAPI.getFileSize(n),a=await window.electronAPI.getFileMimeType(n),o=await window.electronAPI.getFileLastModified(n);return new u0(e,n,i,a,o,r)}async text(){if(!window.electronAPI)throw new Error("Electron API not available");return window.electronAPI.readFileAsText(this.fileRef)}async arrayBuffer(){if(!window.electronAPI)throw new Error("Electron API not available");return window.electronAPI.readFileAsArrayBuffer(this.fileRef)}stream(){throw new Error("Not implemented: File streams not yet supported in Electron")}slice(e,n,r){throw window.electronAPI?new Error("Not implemented: File slicing not yet supported in Electron"):new Error("Electron API not available")}async toFile(){if(!window.electronAPI)throw new Error("Electron API not available");const e=await this.arrayBuffer(),n=new Blob([e],{type:this.type});return new File([n],this.name,{type:this.type,lastModified:this.lastModified})}}async function Rj(t){if(t instanceof f2){const e=t.getNativeFile();return new wj(e)}else if(t instanceof u0){if(!window.electronAPI)throw new Error("Electron API not available");const e=await window.electronAPI.createStreamSource(t.fileRef);return new Ej({read:e.read,getSize:e.getSize,dispose:e.dispose})}else throw new Error("Unsupported IFile implementation")}async function Xj(t){if(t instanceof f2)return URL.createObjectURL(t.getNativeFile());if(t instanceof u0)return`${t.fileRef}`,`local:///${t.fileRef}`;throw new Error("Unsupported IFile implementation")}class a1{name;dirID;handle;constructor(e){this.handle=e.handle,this.dirID=crypto.randomUUID(),this.name=e.name}static fromDB(e){return Object.assign(new a1(e),e)}async requestPermission(){return await this.handle.requestPermission({mode:"read"})==="granted"}async queryPermission(){return await this.handle.queryPermission({mode:"read"})==="granted"}}class Yl{handle;fileID;path;hash;name;size;type;lastModified;category;constructor(e){this.handle=e.handle,this.fileID=e.fileID,this.path=e.path,this.hash=e.hash,this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.category=e.category}async getFile(){const e=await this.handle.getFile();return new f2(e,this.path)}async queryPermission(){return await this.handle.queryPermission({mode:"read"})==="granted"}async requestPermission(){return await this.handle.requestPermission({mode:"read"})==="granted"}static async create(e){const n=await e.handle.getFile(),r=await hI(n);return new Yl({handle:e.handle,fileID:crypto.randomUUID(),path:e.path,hash:r,name:n.name,size:n.size,type:n.type,lastModified:n.lastModified,category:e.category})}static fromDB(e){return Object.assign(new Yl(e),e)}}class Sw{kind="file";fileRef;fileID;path;hash;name;size;type;lastModified;category;constructor(e){this.fileRef=e.fileRef,this.fileID=e.fileID,this.path=e.path,this.hash=e.hash,this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.category=e.category}static async create(e){const n=await u0.create(e.name,e.fileRef);return new Sw({fileRef:e.fileRef,fileID:crypto.randomUUID(),path:e.path,hash:await hI(n),name:e.name,size:n.size,type:n.type,lastModified:n.lastModified,category:e.category})}async getFile(){if(!window.electronAPI)throw new Error("Electron API not available");return u0.create(this.name,this.fileRef,this.path)}async queryPermission(){return!0}async requestPermission(){return!0}}class Pj{name;size;type;lastModified;webkitRelativePath;constructor(e){this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.webkitRelativePath=e.webkitRelativePath}async text(){return""}async arrayBuffer(){return new ArrayBuffer(0)}stream(){return new ReadableStream}slice(e,n,r){return new Blob}}async function pC(t,e){if(t instanceof f2&&I$(e))try{const n=t.getNativeFile();return await X$(n)}catch(n){console.error("Failed to decode TIFF file, falling back to raw URL:",n)}return Xj(t)}const Mj=3735928559;async function hI(t){return Nj(t,65536)}async function Nj(t,e){const n=S$.h64(Mj),r=t.size;if(r<e*3){const a=await t.arrayBuffer();return n.update(a),n.digest().toString(16)}const i=[0,Math.floor(r/2)-e/2,r-e];for(const a of i){const l=await t.slice(a,a+e).arrayBuffer();n.update(l)}return n.digest().toString(16)}class Ls extends Error{constructor(e,n){super(e),this.cause=n,this.name="FileStoreError"}}class mC{urlMap=new Map;backend;constructor(e){this.backend=e}async queryPermissionAll(){const e=await this.getAllDirHandles();for(const r of e)if(!await r.queryPermission())return!1;const n=await this.getAllFileHandles();for(const r of n)if(!await r.queryPermission())return!1;return!0}async requestPermissionAll(){const e=await this.getAllDirHandles();for(const r of e)await r.requestPermission();const n=await this.getAllFileHandles();for(const r of n)await r.requestPermission()}async init(){try{if(!await this.queryPermissionAll()){console.warn("Not all permissions granted.");return}const e=await this.getAllFileHandles();for(const n of e){const r=await this.attemptGetMissingFile(n);if(!r)continue;const i=await pC(r,n.name);this.urlMap.set(n.hash,i)}}catch(e){console.error("Failed to load file handles:",e),e instanceof Error&&e.name==="SecurityError"&&console.error("Permission denied for some files.")}}async attemptGetMissingFile(e){try{return e.getFile()}catch(n){if(!(n instanceof Error))throw new Error("Unknown error type");return n.name==="NotFoundError"&&this.removeFile(e.hash),console.error("Failed to get file from handle:",n),null}}async storeDirHandle(e){try{await this.backend.storeDirHandle(e)}catch(n){throw new Ls(`Failed to store directory handle: ${e.name}`,n)}}async getDirHandle(e){try{return await this.backend.getDirHandle(e)}catch(n){throw new Ls(`Failed to get directory handle with ID: ${e}`,n)}}async getAllDirHandles(){try{return await this.backend.getAllDirHandles()}catch(e){throw new Ls("Failed to get all directory handles",e)}}async removeDirHandle(e){try{await this.backend.removeDirHandle(e)}catch(n){throw new Ls(`Failed to remove directory handle with ID: ${e}`,n)}}async clearAllDirHandles(){try{await this.backend.clearAllDirHandles()}catch(e){throw new Ls("Failed to clear all directory handles",e)}}async storeFile(e){const n=e.hash;let r;try{await this.backend.storeFileHandle(e);const i=await e.getFile();return r=await pC(i,e.name),this.urlMap.set(n,r),n}catch(i){throw r&&URL.revokeObjectURL(r),new Ls(`Failed to store file: ${e.name}`,i)}}async getFileHandle(e){try{return await this.backend.getFileHandle(e)}catch(n){throw new Ls(`Failed to get file handle with hash: ${e}`,n)}}async getFileHandles(e){try{return await this.backend.getFileHandles(e)}catch(n){throw new Ls("Failed to get file handles",n)}}async getFile(e){try{const n=await this.getFileHandle(e);return n?(await n.queryPermission()||n.requestPermission(),await this.attemptGetMissingFile(n)):null}catch(n){throw new Ls(`Failed to get file handle with hash: ${e}`,n)}}async getFiles(e){const r=(await this.backend.getFileHandles(e)).map(async a=>{try{return await a.queryPermission()||a.requestPermission(),a.getFile()}catch(o){throw o instanceof Error&&(o.name==="NotFoundError"||o.code===8)&&this.removeFile(a.hash),new Ls(`Failed to get file with hash: ${a.hash}`,o)}});return await Promise.all(r)}getUrlForFile(e){return this.urlMap.get(e)}async getAllFileHandles(){try{return await this.backend.getAllFileHandles()}catch(e){return console.error("Failed to get all file handles:",e),[]}}async hasFile(e){try{return await this.getFileHandle(e)!==null}catch{return!1}}async removeFile(e){try{await this.backend.removeFileHandle(e);const n=this.urlMap.get(e);n&&(URL.revokeObjectURL(n),this.urlMap.delete(e))}catch(n){throw new Ls(`Failed to remove file with hash: ${e}`,n)}}async clearAllFileHandles(){try{await this.backend.clearAllFileHandles();for(const e of this.urlMap.values())URL.revokeObjectURL(e);this.urlMap.clear()}catch(e){throw new Ls("Failed to clear file store",e)}}hasPendingHandles(){return!1}getPendingHandleCount(){return 0}async restorePendingHandles(){return 0}getPendingHandles(){return[]}}class Oj{async storeDirHandle(e){}async getDirHandle(e){return null}async getAllDirHandles(){return[]}async removeDirHandle(e){}async clearAllDirHandles(){}async storeFileHandle(e){}async getFileHandle(e){return null}async getFileHandles(e){return[]}async getAllFileHandles(){return[]}async removeFileHandle(e){}async clearAllFileHandles(){}}class Dj{db;constructor(){this.db=new o0("fileHandleDB"),this.db.version(1).stores({fileHandles:"hash",directoryHandles:"dirID"})}async storeDirHandle(e){try{await this.db.table("directoryHandles").put(e)}catch(n){throw new Error(`Dexie error storing directory handle: ${n}`)}}async getDirHandle(e){try{const n=await this.db.table("directoryHandles").get(e);return n?a1.fromDB(n):null}catch(n){throw new Error(`Dexie error retrieving directory handle ${e}: ${n}`)}}async getAllDirHandles(){try{return(await this.db.table("directoryHandles").toArray()).map(n=>a1.fromDB(n))}catch(e){throw new Error(`Dexie error retrieving directory handles: ${e}`)}}async removeDirHandle(e){try{await this.db.table("directoryHandles").delete(e)}catch(n){throw new Error(`Dexie error removing directory handle ${e}: ${n}`)}}async clearAllDirHandles(){try{await this.db.table("directoryHandles").clear()}catch(e){throw new Error(`Dexie error clearing directory handles: ${e}`)}}async storeFileHandle(e){try{await this.db.fileHandles.put(e)}catch(n){throw new Error(`Dexie error storing file handle: ${n}`)}}async getFileHandle(e){try{const n=await this.db.fileHandles.get(e);return n?Yl.fromDB(n):null}catch(n){throw new Error(`Dexie error retrieving file handle ${e}: ${n}`)}}async getFileHandles(e){try{return(await this.db.fileHandles.bulkGet(e)).map(i=>Yl.fromDB(i))}catch(n){throw new Error(`Dexie error retrieving multiple file handles: ${n}`)}}async getAllFileHandles(){try{return(await this.db.fileHandles.toArray()).map(r=>Yl.fromDB(r))}catch(e){throw new Error(`Dexie error retrieving all file handles: ${e}`)}}async removeFileHandle(e){try{await this.db.fileHandles.delete(e)}catch(n){throw new Error(`Dexie error removing file handle ${e}: ${n}`)}}async clearAllFileHandles(){try{await this.db.fileHandles.clear()}catch(e){throw new Error(`Dexie error clearing file handles: ${e}`)}}}class Bj{static async createFileStore(){if(window.electronAPI){const e=new Oj,n=new mC(e);return await n.init(),n}else{const e=new Dj,n=new mC(e);return await n.init(),n}}}let pI=await Bj.createFileStore();const Ml=ft(pI),zfe=ft(await pI.queryPermissionAll());let mI=class{constructor(e){if(Vj(e))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=e,this.byteLength=this.buffer.length}getUint8(e){return this.buffer.readUInt8(e)}getUint16(e,n){return n?this.buffer.readUInt16LE(e):this.buffer.readUInt16BE(e)}getUint32(e,n){return n?this.buffer.readUInt32LE(e):this.buffer.readUInt32BE(e)}getInt32(e,n){return n?this.buffer.readInt32LE(e):this.buffer.readInt32BE(e)}};function Vj(t){return typeof t!="object"||t.length===void 0||t.readUInt8===void 0||t.readUInt16LE===void 0||t.readUInt16BE===void 0||t.readUInt32LE===void 0||t.readUInt32BE===void 0||t.readInt32LE===void 0||t.readInt32BE===void 0}function gC(t,e,n){try{return new DataView(t,e,n)}catch{return new mI(t,e,n)}}function dn(t,e,n){const r=[];for(let i=0;i<n&&e+i<t.byteLength;i++)r.push(t.getUint8(e+i));return Cc(r)}function Uu(t,e){const n=[];let r=0;for(;e+r<t.byteLength;){const i=t.getUint8(e+r);if(i===0)break;n.push(i),r++}return Cc(n)}function Fj(t,e,n){const r=[];for(let i=0;i<n&&e+i<t.byteLength;i+=2)r.push(t.getUint16(e+i));return r[r.length-1]===0&&r.pop(),Cc(r)}function gI(t,e){const n=t.getUint8(e),r=dn(t,e+1,n);return[n,r]}function Cc(t){return t.map(e=>String.fromCharCode(e)).join("")}function _n(){for(let t=1;t<arguments.length;t++)for(const e in arguments[t])arguments[0][e]=arguments[t][e];return arguments[0]}function yI(t,e,n){let r=!1;Object.defineProperty(t,e,{get(){return r||(r=!0,Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n.apply(t),writable:!0})),t[e]},configurable:!0,enumerable:!0})}function vI(t){if(typeof btoa<"u")return btoa(typeof t=="string"?t:Array.prototype.reduce.call(new Uint8Array(t),(e,n)=>e+String.fromCharCode(n),""));if(!(typeof Buffer>"u"))return typeof Buffer.from<"u"?Buffer.from(t).toString("base64"):new Buffer(t).toString("base64")}function Lj(t){const e=t.substring(t.indexOf(",")+1);if(t.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(e),r=>r.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from<"u"?Buffer.from(e,"base64"):new Buffer(e,"base64");const n=decodeURIComponent(e);return typeof Buffer<"u"?typeof Buffer.from<"u"?Buffer.from(n):new Buffer(n):Uint8Array.from(n,r=>r.charCodeAt(0)).buffer}function Zj(t,e,n){return _I(n,e-t.length)+t}function zj(t,e){return parseInt(t.replace(".",""),e)/Math.pow(e,(t.split(".")[1]||"").length)}function _I(t,e){return new Array(e+1).join(t)}const S_=void 0,SI=0;function bI(t,e,n,r="string"){if(e===SI&&typeof DecompressionStream=="function"){const i=new DecompressionStream("deflate"),a=new Blob([t]).stream().pipeThrough(i);return r==="dataview"?new Response(a).arrayBuffer().then(o=>new DataView(o)):new Response(a).arrayBuffer().then(o=>new TextDecoder(n).decode(o))}return e!==void 0?Promise.reject(`Unknown compression method ${e}.`):t}const yC={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0,USE_MAKER_NOTES:!0};function Jr(t){return t.map(e=>String.fromCharCode(e)).join("")}function XY(t){if(t.length>=8){const e=Jr(t.slice(0,8));if(e==="ASCII\0\0\0")return Jr(t.slice(8));if(e==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(e==="UNICODE\0")return"[Unicode encoded text]";if(e==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function b_(t){return t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600}const PY=18761,MY=19789,Ba={BIG_ENDIAN:MY,LITTLE_ENDIAN:PY,getByteOrder:$j};function $j(t,e){if(t.getUint16(e)===PY)return PY;if(t.getUint16(e)===MY)return MY;throw new Error("Illegal byte order value. Faulty image.")}const vC={isTiffFile:jj,findTiffOffsets:Hj};function jj(t){return!!t&&t.byteLength>=4&&Kj(t)}function Kj(t){const r=t.getUint16(0)===Ba.LITTLE_ENDIAN;return t.getUint16(2,r)===42}function Hj(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const _C={isJpegFile:fK,findJpegOffsets:dK},Gj=2,qj=65496,SC=2,Hs=4,Ii=2,Qj=2,Jj=10,eK=18,bC=33,xC=79,YC=18,tK=8,NY="ICC_PROFILE\0",xI=Hs+NY.length,nK=xI+1,TC="MPF\0",YI=65472,TI=65474,rK=65476,iK=65499,sK=65501,aK=65498,wI=65504,bw=65505,WI=65506,oK=65517,lK=65519,cK=65534,uK=65535,wC="JFIF",WC="Exif",EC="http://ns.adobe.com/xap/1.0/\0",UC="http://ns.adobe.com/xmp/extension/\0",CC="Photoshop 3.0";function fK(t){return!!t&&t.byteLength>=Gj&&t.getUint16(0)===qj}function dK(t){let e=SC,n,r,i,a,o,l,u,f,p;for(;e+Hs+5<=t.byteLength;){if(hK(t,e))n=t.getUint16(e+Ii),r=e+Ii;else if(pK(t,e))n=t.getUint16(e+Ii),i=e+Ii;else if(yK(t,e))n=t.getUint16(e+Ii),a=e+Qj;else if(vK(t,e))n=t.getUint16(e+Ii),o=e+Jj;else if(_K(t,e))u||(u=[]),n=t.getUint16(e+Ii),u.push(YK(e,n));else if(bK(t,e))u||(u=[]),n=t.getUint16(e+Ii),u.push(TK(e,n));else if(wK(t,e))n=t.getUint16(e+Ii),l=e+eK;else if(mK(t,e)){n=t.getUint16(e+Ii);const h=e+YC,m=n-(YC-Ii),g=t.getUint8(e+xI),_=t.getUint8(e+nK);f||(f=[]),f.push({offset:h,length:m,chunkNumber:g,chunksTotal:_})}else if(gK(t,e))n=t.getUint16(e+Ii),p=e+tK;else if(WK(t,e))n=t.getUint16(e+Ii);else if(EK(t,e)){e++;continue}else break;e+=Ii+n}return{hasAppMarkers:e>SC,fileDataOffset:r||i,jfifDataOffset:a,tiffHeaderOffset:o,iptcDataOffset:l,xmpChunks:u,iccChunks:f,mpfDataOffset:p}}function hK(t,e){return t.getUint16(e)===YI}function pK(t,e){return t.getUint16(e)===TI}function mK(t,e){const n=NY.length;return t.getUint16(e)===WI&&dn(t,e+Hs,n)===NY}function gK(t,e){const n=TC.length;return t.getUint16(e)===WI&&dn(t,e+Hs,n)===TC}function yK(t,e){const n=wC.length;return t.getUint16(e)===wI&&dn(t,e+Hs,n)===wC&&t.getUint8(e+Hs+n)===0}function vK(t,e){const n=WC.length;return t.getUint16(e)===bw&&dn(t,e+Hs,n)===WC&&t.getUint8(e+Hs+n)===0}function _K(t,e){return t.getUint16(e)===bw&&SK(t,e)}function SK(t,e){const n=EC.length;return dn(t,e+Hs,n)===EC}function bK(t,e){return t.getUint16(e)===bw&&xK(t,e)}function xK(t,e){const n=UC.length;return dn(t,e+Hs,n)===UC}function YK(t,e){return{dataOffset:t+bC,length:e-(bC-Ii)}}function TK(t,e){return{dataOffset:t+xC,length:e-(xC-Ii)}}function wK(t,e){const n=CC.length;return t.getUint16(e)===oK&&dn(t,e+Hs,n)===CC&&t.getUint8(e+Hs+n)===0}function WK(t,e){const n=t.getUint16(e);return n>=wI&&n<=lK||n===cK||n===YI||n===TI||n===rK||n===iK||n===sK||n===aK}function EK(t,e){return t.getUint16(e)===uK}const AC={isPngFile:AK,findPngOffsets:kK},OY=`PNG\r

`,x_=4,da=4,Cu=0,Nl=x_,Ti=x_+da,DY="XML:com.adobe.xmp\0",xw="tEXt",Ac="iTXt",d2="zTXt",EI="pHYs",UI="tIME",UK="eXIf",CK="iCCP";function AK(t){return!!t&&dn(t,0,OY.length)===OY}function kK(t,e){const r={hasAppMarkers:!1};let i=OY.length;for(;i+x_+da<=t.byteLength;){if(IK(t,i))r.hasAppMarkers=!0,r.pngHeaderOffset=i+Ti;else if(RK(t,i)){const a=OK(t,i);a!==void 0&&(r.hasAppMarkers=!0,r.xmpChunks=[{dataOffset:a,length:t.getUint32(i+Cu)-(a-(i+Ti))}])}else if(XK(t,i,e)){r.hasAppMarkers=!0;const a=dn(t,i+Nl,da);r.pngTextChunks||(r.pngTextChunks=[]),r.pngTextChunks.push({length:t.getUint32(i+Cu),type:a,offset:i+Ti})}else if(PK(t,i))r.hasAppMarkers=!0,r.tiffHeaderOffset=i+Ti;else if(e&&MK(t,i)){r.hasAppMarkers=!0;const a=t.getUint32(i+Cu),o=i+Ti,{profileName:l,compressionMethod:u,compressedProfileOffset:f}=DK(t,o);r.iccChunks||(r.iccChunks=[]),r.iccChunks.push({offset:f,length:a-(f-o),chunkNumber:1,chunksTotal:1,profileName:l,compressionMethod:u})}else NK(t,i)&&(r.hasAppMarkers=!0,r.pngChunkOffsets||(r.pngChunkOffsets=[]),r.pngChunkOffsets.push(i+Cu));i+=t.getUint32(i+Cu)+x_+da+4}return r}function IK(t,e){return dn(t,e+Nl,da)==="IHDR"}function RK(t,e){return dn(t,e+Nl,da)===Ac&&dn(t,e+Ti,DY.length)===DY}function XK(t,e,n){const r=dn(t,e+Nl,da);return r===xw||r===Ac||r===d2&&n}function PK(t,e){return dn(t,e+Nl,da)===UK}function MK(t,e){return dn(t,e+Nl,da)===CK}function NK(t,e){const n=[EI,UI],r=dn(t,e+Nl,da);return n.includes(r)}function OK(t,e){e+=Ti+DY.length+1+1;let i=0;for(;i<2&&e<t.byteLength;)t.getUint8(e)===0&&i++,e++;if(!(i<2))return e}function DK(t,e){const i=Uu(t,e);e+=i.length+1;const a=t.getUint8(e);return e+=1,{profileName:i,compressionMethod:a,compressedProfileOffset:e}}function BK(t,e){return t.getUint32(e+4)}function VK(t,e,n,r){const{offsets:a,sizes:o}=FK(e,n+3),l=t.getUint8(a.offsetSize)>>4;o.item.extent.extentOffset=l;const u=t.getUint8(a.lengthSize)&15;o.item.extent.extentLength=u;const f=t.getUint8(a.baseOffsetSize)>>4;o.item.baseOffset=f;const p=LK(t,a.indexSize,e);o.item.extent.extentIndex=p!==void 0?p:0;const h=ZK(t,a.itemCount,e);return{type:"iloc",items:zK(t,e,a,o,l,u,p,h),length:r}}function FK(t,e){const n={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};t<2?(n.itemCount=2,n.item.itemId=2):t===2&&(n.itemCount=4,n.item.itemId=4),t===1||t===2?n.item.constructionMethod=2:n.item.constructionMethod=0;const r={offsetSize:e,lengthSize:e,baseOffsetSize:e+1,indexSize:e+1};return r.itemCount=e+2,r.items=r.itemCount+n.itemCount,r.item={itemId:0},r.item.constructionMethod=r.item.itemId+n.item.itemId,r.item.dataReferenceIndex=r.item.constructionMethod+n.item.constructionMethod,{offsets:r,sizes:n}}function LK(t,e,n){if(n===1||n===2)return t.getUint8(e)&15}function ZK(t,e,n){if(n<2)return t.getUint16(e);if(n===2)return t.getUint32(e)}function zK(t,e,n,r,i,a,o,l){if(l===void 0)return[];const u=[];let f=n.items;for(let p=0;p<l;p++){const h={extents:[]};h.itemId=$K(t,f,e),f+=r.item.itemId,h.constructionMethod=e===1||e===2?t.getUint16(f)&15:void 0,f+=r.item.constructionMethod,h.dataReferenceIndex=t.getUint16(f),f+=r.item.dataReferenceIndex,h.baseOffset=Cv(t,f,r.item.baseOffset),f+=r.item.baseOffset,h.extentCount=t.getUint16(f),f+=r.item.extentCount;for(let m=0;m<h.extentCount;m++){const g={};g.extentIndex=jK(t,e,f,o),f+=r.item.extent.extentIndex,g.extentOffset=Cv(t,f,i),f+=r.item.extent.extentOffset,g.extentLength=Cv(t,f,a),f+=r.item.extent.extentLength,h.extents.push(g)}u.push(h)}return u}function $K(t,e,n){if(n<2)return t.getUint16(e);if(n===2)return t.getUint32(e)}function jK(t,e,n,r){if((e===1||e===2)&&r>0)return Cv(t,n,r)}function Cv(t,e,n){return n===4?t.getUint32(e):n===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),BK(t,e)):0}const KK=1718909296,HK=1768977008,GK=1835365473,qK=1768714083,QK=1768517222,JK=1768842853,eH=1768973167,tH=1668246642,CI=1165519206,Yw=1835625829,nH=1970432288;function h2(t,e){const{length:a,contentOffset:o}=rH(t,e);if(a<8)return;const l=t.getUint32(e+4);if(l===KK)return pH(t,o,a);if(l===HK)return mH(t,e,o,a);if(l===eH)return gH(t,e,o,a);if(l===tH)return yH(t,o,a);const u=t.getUint8(o);return l===GK?_H(t,e,o+1,a):l===qK?VK(t,u,o+1,a):l===QK?SH(t,e,u,o+1,a):l===JK?xH(t,e,u,o+1,a):{type:void 0,length:a}}function rH(t,e){const o=t.getUint32(e);return iH(o)?{length:t.byteLength-e,contentOffset:e+4+4}:sH(o)&&aH(t,e)?{length:t.getUint32(e+12),contentOffset:e+4+4+8}:{length:o,contentOffset:e+4+4}}function iH(t){return t===0}function sH(t){return t===1}function aH(t,e){return t.getUint32(e+8)===0}function AI(t){{const e={},n=oH(t);return n?(e.tiffHeaderOffset=lH(t,n),e.xmpChunks=fH(n),e.iccChunks=hH(n),e.hasAppMarkers=e.tiffHeaderOffset!==void 0||e.xmpChunks!==void 0||e.iccChunks!==void 0,e):{hasAppMarkers:!1}}}function oH(t){let r=0;for(;r+4+4<=t.byteLength;){const i=h2(t,r);if(i===void 0)break;if(i.type==="meta")return i;r+=i.length}}function lH(t,e){try{const n=cH(e).itemId,r=BY(e,n),i=r.baseOffset+r.extents[0].extentOffset;return uH(t,i)}catch{return}}function cH(t){return t.subBoxes.find(e=>e.type==="iinf").itemInfos.find(e=>e.itemType===CI)}function BY(t,e){return t.subBoxes.find(n=>n.type==="iloc").items.find(n=>n.itemId===e)}function uH(t,e){return e+4+t.getUint32(e)}function fH(t){try{const e=dH(t).itemId,n=BY(t,e),r=BY(t,e).extents[0];return[{dataOffset:n.baseOffset+r.extentOffset,length:r.extentLength}]}catch{return}}function dH(t){return t.subBoxes.find(e=>e.type==="iinf").itemInfos.find(e=>e.itemType===Yw&&e.contentType==="application/rdf+xml")}function hH(t){try{const e=t.subBoxes.find(n=>n.type==="iprp").subBoxes.find(n=>n.type==="ipco").properties.find(n=>n.type==="colr").icc;if(e)return[e]}catch{}}function pH(t,e,n){return{type:"ftyp",majorBrand:dn(t,e,4),length:n}}function mH(t,e,n,r){return{type:"iprp",subBoxes:p2(t,n,r-(n-e)),length:r}}function gH(t,e,n,r){return{type:"ipco",properties:p2(t,n,r-(n-e)),length:r}}function yH(t,e,n){return{type:"colr",icc:vH(t,e),length:n}}function vH(t,e){const r=dn(t,e,4);if(!(r!=="prof"&&r!=="rICC"))return{offset:e+4,length:t.getUint32(e+4),chunkNumber:1,chunksTotal:1}}function _H(t,e,n,r){return{type:"meta",subBoxes:p2(t,n+3,r-(n+3-e)),length:r}}function p2(t,e,n){const r=[CI,Yw],i=[];let a=e;for(;a<e+n;){const o=h2(t,a);if(o===void 0)break;o.type!==void 0&&(o.itemType===void 0||r.indexOf(o.itemType)!==-1)&&i.push(o),a+=o.length}return i}function SH(t,e,n,r,i){const{offsets:a}=bH(n,r);return{type:"iinf",itemInfos:p2(t,a.itemInfos,i-(a.itemInfos-e)),length:i}}function bH(t,e){const r={entryCount:e+3},i={};return t===0?i.entryCount=2:i.entryCount=4,r.itemInfos=r.entryCount+i.entryCount,{offsets:r}}function xH(t,e,n,r,i){r+=3;const o={type:"infe",length:i};return(n===0||n===1)&&(o.itemId=t.getUint16(r),r+=2,o.itemProtectionIndex=t.getUint16(r),r+=2,o.itemName=Uu(t,r),r+=o.itemName.length+1),n>=2&&(n===2?(o.itemId=t.getUint16(r),r+=2):n===3&&(o.itemId=t.getUint32(r),r+=4),o.itemProtectionIndex=t.getUint16(r),r+=2,o.itemType=t.getUint32(r),r+=4,o.itemName=Uu(t,r),r+=o.itemName.length+1,o.itemType===Yw?(o.contentType=Uu(t,r),r+=o.contentType.length+1,e+i>r&&(o.contentEncoding=Uu(t,r),r+=o.contentEncoding.length+1)):o.itemType===nH&&(o.itemUri=Uu(t,r),r+=o.itemUri.length+1)),o}const kC={isHeicFile:YH,findHeicOffsets:TH};function YH(t){if(!t)return!1;const e=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{const n=h2(t,0);return n&&e.indexOf(n.majorBrand)!==-1}catch{return!1}}function TH(t){return AI(t)}const IC={isAvifFile:wH,findAvifOffsets:WH};function wH(t){if(!t)return!1;try{const e=h2(t,0);return e&&e.majorBrand==="avif"}catch{return!1}}function WH(t){return AI(t)}const RC={isWebpFile:EH,findOffsets:UH};function EH(t){const n="RIFF",i="WEBP";return!!t&&dn(t,0,n.length)===n&&dn(t,8,i.length)===i}function UH(t){const r="Exif\0\0";let a=12,o=!1,l,u,f,p;for(;a+8<t.byteLength;){const h=dn(t,a,4),m=t.getUint32(a+4,!0);h==="EXIF"?(o=!0,dn(t,a+8,r.length)===r?l=a+8+r.length:l=a+8):h==="XMP "?(o=!0,u=[{dataOffset:a+8,length:m}]):h==="ICCP"?(o=!0,f=[{offset:a+8,length:m,chunkNumber:1,chunksTotal:1}]):h==="VP8X"&&(o=!0,p=a+8),a+=8+(m%2===0?m:m+1)}return{hasAppMarkers:o,tiffHeaderOffset:l,xmpChunks:u,iccChunks:f,vp8xChunkOffset:p}}const XC={isGifFile:kH,findOffsets:IH},CH=6,AH=["GIF87a","GIF89a"];function kH(t){return!!t&&AH.includes(dn(t,0,CH))}function IH(){return{gifHeaderOffset:0}}const PC={isXMLFile:RH,findOffsets:XH},kI=0,MC="<?xpacket begin";function RH(t){return!!t&&dn(t,kI,MC.length)===MC}function XH(t){const e=[];return e.push({dataOffset:kI,length:t.byteLength}),{xmpChunks:e}}const PH={parseAppMarkers:MH};function MH(t,e){if(vC.isTiffFile(t))return ll(vC.findTiffOffsets(),"tiff","TIFF");if(_C.isJpegFile(t))return ll(_C.findJpegOffsets(t),"jpeg","JPEG");if(AC.isPngFile(t))return ll(AC.findPngOffsets(t,e),"png","PNG");if(kC.isHeicFile(t))return ll(kC.findHeicOffsets(t),"heic","HEIC");if(IC.isAvifFile(t))return ll(IC.findAvifOffsets(t),"avif","AVIF");if(RC.isWebpFile(t))return ll(RC.findOffsets(t),"webp","WebP");if(XC.isGifFile(t))return ll(XC.findOffsets(t),"gif","GIF");if(PC.isXMLFile(t))return ll(PC.findOffsets(t),"xml","XML");throw new Error("Invalid image format")}function ll(t,e,n){return _n({},t,{fileType:{value:e,description:n}})}const an={ApertureValue:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2),ColorSpace(t){return t===1?"sRGB":t===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(t){return t.map(e=>{if(e===49)return"Y";if(e===50)return"Cb";if(e===51)return"Cr";if(e===52)return"R";if(e===53)return"G";if(e===54)return"B"}).join("")},Contrast(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},CustomRendered(t){return t===0?"Normal process":t===1?"Custom process":"Unknown"},ExposureMode(t){return t===0?"Auto exposure":t===1?"Manual exposure":t===2?"Auto bracket":"Unknown"},ExposureProgram(t){return t===0?"Undefined":t===1?"Manual":t===2?"Normal program":t===3?"Aperture priority":t===4?"Shutter priority":t===5?"Creative program":t===6?"Action program":t===7?"Portrait mode":t===8?"Landscape mode":t===9?"Bulb":"Unknown"},ExposureTime(t){if(t[0]/t[1]>.25){const e=t[0]/t[1];return Number.isInteger(e)?""+e:e.toFixed(1)}return t[0]!==0?`1/${Math.round(t[1]/t[0])}`:`0/${t[1]}`},FNumber:t=>`f/${Number(t[0]/t[1]).toFixed(1)}`,FocalLength:t=>t[0]/t[1]+" mm",FocalPlaneResolutionUnit(t){return t===2?"inches":t===3?"centimeters":t===4?"millimeters":"Unknown"},LightSource:t=>t===1?"Daylight":t===2?"Fluorescent":t===3?"Tungsten (incandescent light)":t===4?"Flash":t===9?"Fine weather":t===10?"Cloudy weather":t===11?"Shade":t===12?"Daylight fluorescent (D 5700  7100K)":t===13?"Day white fluorescent (N 4600  5400K)":t===14?"Cool white fluorescent (W 3900  4500K)":t===15?"White fluorescent (WW 3200  3700K)":t===17?"Standard light A":t===18?"Standard light B":t===19?"Standard light C":t===20?"D55":t===21?"D65":t===22?"D75":t===23?"D50":t===24?"ISO studio tungsten":t===255?"Other light source":"Unknown",MeteringMode(t){return t===1?"Average":t===2?"CenterWeightedAverage":t===3?"Spot":t===4?"MultiSpot":t===5?"Pattern":t===6?"Partial":t===255?"Other":"Unknown"},ResolutionUnit(t){return t===2?"inches":t===3?"centimeters":"Unknown"},Saturation(t){return t===0?"Normal":t===1?"Low saturation":t===2?"High saturation":"Unknown"},FocalLengthIn35mmFilm(t){return t===0?"Unknown":t+" mm"},SceneCaptureType(t){return t===0?"Standard":t===1?"Landscape":t===2?"Portrait":t===3?"Night scene":"Unknown"},Sharpness(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},ShutterSpeedValue(t){const e=Math.pow(2,t[0]/t[1]);return e<=1?`${Math.round(1/e)}`:`1/${Math.round(e)}`},WhiteBalance(t){return t===0?"Auto white balance":t===1?"Manual white balance":"Unknown"},XResolution:t=>""+Math.round(t[0]/t[1]),YResolution:t=>""+Math.round(t[0]/t[1])},II={11:"ProcessingSoftware",254:{name:"SubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[t]||"Unknown"},255:{name:"OldSubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[t]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:t=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[t]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:t=>({1:"Normal",2:"Reversed"})[t]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:t=>t===1?"top-left":t===2?"top-right":t===3?"bottom-right":t===4?"bottom-left":t===5?"left-top":t===6?"right-top":t===7?"right-bottom":t===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:an.XResolution},283:{name:"YResolution",description:an.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:t=>""+Math.round(t[0]/t[1])},287:{name:"YPosition",description:t=>""+Math.round(t[0]/t[1])},290:{name:"GrayResponseUnit",description:t=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[t]||"Unknown"},296:{name:"ResolutionUnit",description:an.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:t=>t.map(e=>`${e[0]}/${e[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:t=>t.map(e=>`${e[0]}/${e[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:t=>({1:"CMYK",2:"Not CMYK"})[t]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:t=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[t]||"Unknown"},339:{name:"SampleFormat",description:t=>{const e={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(t)?t.map(n=>e[n]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:t=>t.map(e=>""+e[0]/e[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:t=>t===1?"centered":t===2?"co-sited":"undefined "+t},532:{name:"ReferenceBlackWhite",description:t=>t.map(e=>""+e[0]/e[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:t=>t.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:Wg},40092:{name:"XPComment",description:Wg},40093:{name:"XPAuthor",description:Wg},40094:{name:"XPKeywords",description:Wg},40095:{name:"XPSubject",description:Wg},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:t=>({0:"Unsafe",1:"Safe"})[t]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:an.LightSource},50779:{name:"CalibrationIlluminant2",description:an.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:t=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[t]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:t=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[t]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:t=>({0:"Auto",1:"None"})[t]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function Wg(t){return new TextDecoder("utf-16").decode(new Uint8Array(t)).replace(/\u0000+$/,"")}const NH={33434:{name:"ExposureTime",description:an.ExposureTime},33437:{name:"FNumber",description:an.FNumber},34850:{name:"ExposureProgram",description:an.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:t=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[t]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:t=>Jr(t)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:an.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:an.ShutterSpeedValue},37378:{name:"ApertureValue",description:an.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2)},37382:{name:"SubjectDistance",description:t=>t[0]/t[1]+" m"},37383:{name:"MeteringMode",description:an.MeteringMode},37384:{name:"LightSource",description:an.LightSource},37385:{name:"Flash",description:t=>t===0?"Flash did not fire":t===1?"Flash fired":t===5?"Strobe return light not detected":t===7?"Strobe return light detected":t===9?"Flash fired, compulsory flash mode":t===13?"Flash fired, compulsory flash mode, return light not detected":t===15?"Flash fired, compulsory flash mode, return light detected":t===16?"Flash did not fire, compulsory flash mode":t===24?"Flash did not fire, auto mode":t===25?"Flash fired, auto mode":t===29?"Flash fired, auto mode, return light not detected":t===31?"Flash fired, auto mode, return light detected":t===32?"No flash function":t===65?"Flash fired, red-eye reduction mode":t===69?"Flash fired, red-eye reduction mode, return light not detected":t===71?"Flash fired, red-eye reduction mode, return light detected":t===73?"Flash fired, compulsory flash mode, red-eye reduction mode":t===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":t===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":t===89?"Flash fired, auto mode, red-eye reduction mode":t===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":t===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:an.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:t=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[t]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:t=>t.length===2?`Location; X: ${t[0]}, Y: ${t[1]}`:t.length===3?`Circle; X: ${t[0]}, Y: ${t[1]}, diameter: ${t[2]}`:t.length===4?`Rectangle; X: ${t[0]}, Y: ${t[1]}, width: ${t[2]}, height: ${t[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:XY},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:t=>t[0]/t[1]+" C"},37889:{name:"Humidity",description:t=>t[0]/t[1]+" %"},37890:{name:"Pressure",description:t=>t[0]/t[1]+" hPa"},37891:{name:"WaterDepth",description:t=>t[0]/t[1]+" m"},37892:{name:"Acceleration",description:t=>t[0]/t[1]+" mGal"},37893:{name:"CameraElevationAngle",description:t=>t[0]/t[1]+" "},40960:{name:"FlashpixVersion",description:t=>t.map(e=>String.fromCharCode(e)).join("")},40961:{name:"ColorSpace",description:an.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:an.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([t,e])=>`X: ${t}, Y: ${e}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:t=>t===1?"Undefined":t===2?"One-chip color area sensor":t===3?"Two-chip color area sensor":t===4?"Three-chip color area sensor":t===5?"Color sequential area sensor":t===7?"Trilinear sensor":t===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:t=>t===3?"DSC":"Unknown"},41729:{name:"SceneType",description:t=>t===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:an.CustomRendered},41986:{name:"ExposureMode",description:an.ExposureMode},41987:{name:"WhiteBalance",description:an.WhiteBalance},41988:{name:"DigitalZoomRatio",description:t=>t[0]===0?"Digital zoom was not used":""+t[0]/t[1]},41989:{name:"FocalLengthIn35mmFilm",description:an.FocalLengthIn35mmFilm},41990:{name:"SceneCaptureType",description:an.SceneCaptureType},41991:{name:"GainControl",description:t=>t===0?"None":t===1?"Low gain up":t===2?"High gain up":t===3?"Low gain down":t===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:an.Contrast},41993:{name:"Saturation",description:an.Saturation},41994:{name:"Sharpness",description:an.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:t=>t===1?"Macro":t===2?"Close view":t===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:t=>{const e=parseFloat((t[0][0]/t[0][1]).toFixed(5)),n=parseFloat((t[1][0]/t[1][1]).toFixed(5)),r=`${e}-${n} mm`;if(t[3][1]===0)return`${r} f/?`;const i=1/(t[2][1]/t[2][1]/(t[3][0]/t[3][1]));return`${r} f/${parseFloat(i.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:t=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[t]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},OH={0:{name:"GPSVersionID",description:t=>t[0]===2&&t[1]===2&&t[2]===0&&t[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:t=>{const e=t.join("");return e==="N"?"North latitude":e==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:b_},3:{name:"GPSLongitudeRef",description:t=>{const e=t.join("");return e==="E"?"East longitude":e==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:b_},5:{name:"GPSAltitudeRef",description:t=>t===0?"Sea level":t===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:t=>t[0]/t[1]+" m"},7:{name:"GPSTimeStamp",description:t=>t.map(([e,n])=>{const r=e/n;return/^\d(\.|$)/.test(`${r}`)?`0${r}`:r}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:t=>{const e=t.join("");return e==="A"?"Measurement in progress":e==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:t=>{const e=t.join("");return e==="2"?"2-dimensional measurement":e==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:t=>{const e=t.join("");return e==="K"?"Kilometers per hour":e==="M"?"Miles per hour":e==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:t=>{const e=t.join("");return e==="N"?"North latitude":e==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:t=>{const e=t.join("");return e==="E"?"East longitude":e==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},23:{name:"GPSDestBearingRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:t=>{const e=t.join("");return e==="K"?"Kilometers":e==="M"?"Miles":e==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:XY},28:{name:"GPSAreaInformation",description:XY},29:"GPSDateStamp",30:{name:"GPSDifferential",description:t=>t===0?"Measurement without differential correction":t===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},DH={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:t=>Jr(t)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},BH={45056:{name:"MPFVersion",description:t=>Jr(t)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},VH={4:{name:"ShotInfo",description:t=>t}},FH={0:{name:"PentaxVersion",description:t=>t.join(".")},5:"PentaxModelID",555:"LevelInfo"},NC=_n({},II,NH),Tw="0th",RI="1st",XI="exif",PI="gps",MI="interoperability",NI="mpf",OI="canon",ww="pentax",cl={[Tw]:NC,[RI]:II,[XI]:NC,[PI]:OH,[MI]:DH,[NI]:BH,[OI]:VH,[ww]:FH},DI={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},VY={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},Wt={getAsciiValue:LH,getByteAt:BI,getAsciiAt:ZH,getShortAt:zH,getLongAt:Y_,getRationalAt:$H,getUndefinedAt:jH,getSlongAt:FY,getSrationalAt:KH,getIfdPointerAt:HH,typeSizes:DI,tagTypes:VY,getTypeSize:GH};function LH(t){return t.map(e=>String.fromCharCode(e))}function BI(t,e){return t.getUint8(e)}function ZH(t,e){return t.getUint8(e)}function zH(t,e,n){return t.getUint16(e,n===Ba.LITTLE_ENDIAN)}function Y_(t,e,n){return t.getUint32(e,n===Ba.LITTLE_ENDIAN)}function $H(t,e,n){return[Y_(t,e,n),Y_(t,e+4,n)]}function jH(t,e){return BI(t,e)}function FY(t,e,n){return t.getInt32(e,n===Ba.LITTLE_ENDIAN)}function KH(t,e,n){return[FY(t,e,n),FY(t,e+4,n)]}function HH(t,e,n){return Y_(t,e,n)}function GH(t){if(VY[t]===void 0)throw new Error("No such type found.");return DI[VY[t]]}const qH={1:Wt.getByteAt,2:Wt.getAsciiAt,3:Wt.getShortAt,4:Wt.getLongAt,5:Wt.getRationalAt,7:Wt.getUndefinedAt,9:Wt.getSlongAt,10:Wt.getSrationalAt,13:Wt.getIfdPointerAt};function VI(t,e,n){return e+Wt.getLongAt(t,e+4,n)}function Ol(t,e,n,r,i,a){const o=Wt.getTypeSize("SHORT"),l=12,u={},f=QH(t,r,i);r+=o;for(let p=0;p<f&&!(r+l>t.byteLength);p++){const h=JH(t,e,n,r,i,a);h!==void 0&&(u[h.name]={id:h.id,value:h.value,description:h.description},(h.name==="MakerNote"||e===ww&&h.name==="LevelInfo")&&(u[h.name].__offset=h.__offset)),r+=l}if(r<t.byteLength-Wt.getTypeSize("LONG")){const p=Wt.getLongAt(t,r,i);p!==0&&e===Tw&&(u.Thumbnail=Ol(t,RI,n,n+p,i,a))}return u}function QH(t,e,n){return e+Wt.getTypeSize("SHORT")<=t.byteLength?Wt.getShortAt(t,e,n):0}function JH(t,e,n,r,i,a){const l=Wt.getTypeSize("SHORT"),u=l+Wt.getTypeSize("SHORT"),f=u+Wt.getTypeSize("LONG"),p=Wt.getShortAt(t,r,i),h=Wt.getShortAt(t,r+l,i),m=Wt.getLongAt(t,r+u,i);let g,_;if(Wt.typeSizes[h]===void 0||!a&&cl[e][p]===void 0)return;if(eG(h,m))_=r+f,g=OC(t,_,h,m,i);else if(_=Wt.getLongAt(t,r+f,i),tG(t,n,_,h,m)){const b=p===33723;g=OC(t,n+_,h,m,i,b)}else g="<faulty value>";h===Wt.tagTypes.ASCII&&(g=nG(g),g=rG(g));let v=`undefined-${p}`,S=g;if(cl[e][p]!==void 0)if(cl[e][p].name!==void 0&&cl[e][p].description!==void 0){v=cl[e][p].name;try{S=cl[e][p].description(g)}catch{S=DC(g)}}else h===Wt.tagTypes.RATIONAL||h===Wt.tagTypes.SRATIONAL?(v=cl[e][p],S=""+g[0]/g[1]):(v=cl[e][p],S=DC(g));return{id:p,name:v,value:g,description:S,__offset:_}}function eG(t,e){return Wt.typeSizes[t]*e<=Wt.getTypeSize("LONG")}function OC(t,e,n,r,i,a=!1){let o=[];a&&(r=r*Wt.typeSizes[n],n=Wt.tagTypes.BYTE);for(let l=0;l<r;l++)o.push(qH[n](t,e,i)),e+=Wt.typeSizes[n];return n===Wt.tagTypes.ASCII?o=Wt.getAsciiValue(o):o.length===1&&(o=o[0]),o}function tG(t,e,n,r,i){return e+n+Wt.typeSizes[r]*i<=t.byteLength}function nG(t){const e=[];let n=0;for(let r=0;r<t.length;r++){if(t[r]==="\0"){n++;continue}e[n]===void 0&&(e[n]=""),e[n]+=t[r]}return e}function rG(t){try{return t.map(e=>decodeURIComponent(escape(e)))}catch{return t}}function DC(t){return t instanceof Array?t.join(", "):t}const BC="Exif IFD Pointer",VC="GPS Info IFD Pointer",FC="Interoperability IFD Pointer",FI={read:iG};function iG(t,e,n){const r=Ba.getByteOrder(t,e);let i=sG(t,e,r,n);return i=aG(i,t,e,r,n),i=oG(i,t,e,r,n),i=lG(i,t,e,r,n),{tags:i,byteOrder:r}}function sG(t,e,n,r){return Ol(t,Tw,e,VI(t,e,n),n,r)}function aG(t,e,n,r,i){return t[BC]!==void 0?_n(t,Ol(e,XI,n,n+t[BC].value,r,i)):t}function oG(t,e,n,r,i){return t[VC]!==void 0?_n(t,Ol(e,PI,n,n+t[VC].value,r,i)):t}function lG(t,e,n,r,i){return t[FC]!==void 0?_n(t,Ol(e,MI,n,n+t[FC].value,r,i)):t}const cG={read:uG},Au=16;function uG(t,e,n){const r=Ba.getByteOrder(t,e),i=Ol(t,NI,e,VI(t,e,r),r,n);return fG(t,e,i,r)}function fG(t,e,n,r){if(!n.MPEntry)return n;const i=[];for(let a=0;a<Math.ceil(n.MPEntry.value.length/Au);a++){i[a]={};const o=Pg(n.MPEntry.value,a*Au,Wt.getTypeSize("LONG"),r);i[a].ImageFlags=dG(o),i[a].ImageFormat=hG(o),i[a].ImageType=pG(o);const l=Pg(n.MPEntry.value,a*Au+4,Wt.getTypeSize("LONG"),r);i[a].ImageSize={value:l,description:""+l};const u=mG(a,n.MPEntry,r,e);i[a].ImageOffset={value:u,description:""+u};const f=Pg(n.MPEntry.value,a*Au+12,Wt.getTypeSize("SHORT"),r);i[a].DependentImage1EntryNumber={value:f,description:""+f};const p=Pg(n.MPEntry.value,a*Au+14,Wt.getTypeSize("SHORT"),r);i[a].DependentImage2EntryNumber={value:p,description:""+p},i[a].image=t.buffer.slice(u,u+l),yI(i[a],"base64",function(){return vI(this.image)})}return n.Images=i,n}function Pg(t,e,n,r){if(r===Ba.LITTLE_ENDIAN){let a=0;for(let o=0;o<n;o++)a+=t[e+o]<<8*o;return a}let i=0;for(let a=0;a<n;a++)i+=t[e+a]<<8*(n-1-a);return i}function dG(t){const e=[t>>31&1,t>>30&1,t>>29&1],n=[];return e[0]&&n.push("Dependent Parent Image"),e[1]&&n.push("Dependent Child Image"),e[2]&&n.push("Representative Image"),{value:e,description:n.join(", ")||"None"}}function hG(t){const e=t>>24&7;return{value:e,description:e===0?"JPEG":"Unknown"}}function pG(t){const e=t&16777215;return{value:e,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[e]||"Unknown"}}function mG(t,e,n,r){return gG(t)?0:Pg(e.value,t*Au+8,Wt.getTypeSize("LONG"),n)+r}function gG(t){return t===0}const yG={read:vG};function vG(t,e){const n=_G(t,e),r=YG(t,e,n);return{"Bits Per Sample":SG(t,e,n),"Image Height":bG(t,e,n),"Image Width":xG(t,e,n),"Color Components":r,Subsampling:r&&TG(t,e,r.value,n)}}function _G(t,e){return Wt.getShortAt(t,e)}function SG(t,e,n){if(3>n)return;const a=Wt.getByteAt(t,e+2);return{value:a,description:""+a}}function bG(t,e,n){if(5>n)return;const a=Wt.getShortAt(t,e+3);return{value:a,description:`${a}px`}}function xG(t,e,n){if(7>n)return;const a=Wt.getShortAt(t,e+5);return{value:a,description:`${a}px`}}function YG(t,e,n){if(8>n)return;const a=Wt.getByteAt(t,e+7);return{value:a,description:""+a}}function TG(t,e,n,r){if(8+3*n>r)return;const o=[];for(let l=0;l<n;l++){const u=e+8+l*3;o.push([Wt.getByteAt(t,u),Wt.getByteAt(t,u+1),Wt.getByteAt(t,u+2)])}return{value:o,description:o.length>1?wG(o)+WG(o):""}}function wG(t){const e={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return t.map(n=>e[n[0]]).join("")}function WG(t){const e={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return t.length===0||t[0][1]===void 0||e[t[0][1]]===void 0?"":e[t[0][1]]}const EG={read:UG};function UG(t,e){const n=CG(t,e),r=PG(t,e,n),i=MG(t,e,n),a={"JFIF Version":AG(t,e,n),"Resolution Unit":kG(t,e,n),XResolution:RG(t,e,n),YResolution:XG(t,e,n),"JFIF Thumbnail Width":r,"JFIF Thumbnail Height":i};if(r!==void 0&&i!==void 0){const o=NG(t,e,3*r.value*i.value,n);o&&(a["JFIF Thumbnail"]=o)}for(const o in a)a[o]===void 0&&delete a[o];return a}function CG(t,e){return Wt.getShortAt(t,e)}function AG(t,e,n){if(9>n)return;const a=Wt.getByteAt(t,e+7),o=Wt.getByteAt(t,e+7+1);return{value:a*256+o,description:a+"."+o}}function kG(t,e,n){if(10>n)return;const a=Wt.getByteAt(t,e+9);return{value:a,description:IG(a)}}function IG(t){return t===0?"None":t===1?"inches":t===2?"cm":"Unknown"}function RG(t,e,n){if(12>n)return;const a=Wt.getShortAt(t,e+10);return{value:a,description:""+a}}function XG(t,e,n){if(14>n)return;const a=Wt.getShortAt(t,e+12);return{value:a,description:""+a}}function PG(t,e,n){if(15>n)return;const a=Wt.getByteAt(t,e+14);return{value:a,description:`${a}px`}}function MG(t,e,n){if(16>n)return;const a=Wt.getByteAt(t,e+15);return{value:a,description:`${a}px`}}function NG(t,e,n,r){return n===0||16+n>r?void 0:{value:t.buffer.slice(e+16,e+16+n),description:"<24-bit RGB pixel data>"}}const vl={iptc:{256:{name:"Model Version",description:t=>((t[0]<<8)+t[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:t=>((t[0]<<8)+t[1]).toString()},278:{name:"File Format Version",description:t=>((t[0]<<8)+t[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:Ax},336:{name:"Time Sent",description:kx},346:{name:"Coded Character Set",description:LC,encoding_name:LC},356:"UNO",376:{name:"ARM Identifier",description:t=>((t[0]<<8)+t[1]).toString()},378:{name:"ARM Version",description:t=>((t[0]<<8)+t[1]).toString()},512:{name:"Record Version",description:t=>((t[0]<<8)+t[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:t=>Jr(t)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:t=>{const e=Jr(t).split(":");return e[2]+(e[3]?"/"+e[3]:"")+(e[4]?"/"+e[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:t=>{const e=Jr(t);return e==="01"?"Object Kill":e==="02"?"Object Replace":e==="03"?"Object Append":e==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:Ax},572:{name:"Time Created",description:kx},574:{name:"Digital Creation Date",description:Ax},575:{name:"Digital Creation Time",description:kx},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:t=>{const e=Jr(t);return e==="a"?"morning":e==="p"?"evening":e==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:t=>t},642:"Image Type",643:{name:"Image Orientation",description:t=>{const e=Jr(t);return e==="P"?"Portrait":e==="L"?"Landscape":e==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:t=>{const e=Jr(t),n=e.charAt(0),r=e.charAt(1);let i="";return n==="1"?i+="Mono":n==="2"&&(i+="Stereo"),r==="A"?i+=", actuality":r==="C"?i+=", question and answer session":r==="M"?i+=", music, transmitted by itself":r==="Q"?i+=", response to a question":r==="R"?i+=", raw sound":r==="S"?i+=", scener":r==="V"?i+=", voicer":r==="W"&&(i+=", wrap"),i!==""?i:e}},663:{name:"Audio Sampling Rate",description:t=>parseInt(Jr(t),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:t=>{const e=parseInt(Jr(t),10);return e+(e===1?" bit":" bits")}},665:{name:"Audio Duration",description:t=>{const e=Jr(t);return e.length>=6?e.substr(0,2)+":"+e.substr(2,2)+":"+e.substr(4,2):e}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:t=>t.length===2?"ObjectData Preview File Format":"Record 2 destination",description:t=>{if(t.length===2){const e=(t[0]<<8)+t[1];return e===0?"No ObjectData":e===1?"IPTC-NAA Digital Newsphoto Parameter Record":e===2?"IPTC7901 Recommended Message Format":e===3?"Tagged Image File Format (Adobe/Aldus Image data)":e===4?"Illustrator (Adobe Graphics data)":e===5?"AppleSingle (Apple Computer Inc)":e===6?"NAA 89-3 (ANPA 1312)":e===7?"MacBinary II":e===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":e===9?"United Press International ANPA 1312 variant":e===10?"United Press International Down-Load Message":e===11?"JPEG File Interchange (JFIF)":e===12?"Photo-CD Image-Pac (Eastman Kodak)":e===13?"Microsoft Bit Mapped Graphics File [*.BMP]":e===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":e===15?"Audio plus Moving Video [*.AVI] (Microsoft)":e===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":e===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":e===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":e===19?"RIFF Wave (Microsoft Corporation)":e===20?"Freehand (Macromedia/Aldus)":e===21?'Hypertext Markup Language "HTML" (The Internet Society)':e===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":e===23?"MPEG 2 Audio Layer 3, ISO/IEC":e===24?"Portable Document File (*.PDF) Adobe":e===25?"News Industry Text Format (NITF)":e===26?"Tape Archive (*.TAR)":e===27?"Tidningarnas Telegrambyr NITF version (TTNITF DTD)":e===28?"Ritzaus Bureau NITF version (RBNITF DTD)":e===29?"Corel Draw [*.CDR]":`Unknown format ${e}`}return Jr(t)}},713:{name:"ObjectData Preview File Format Version",description:(t,e)=>{const n={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},r=Jr(t);if(e["ObjectData Preview File Format"]){const i=Jr(e["ObjectData Preview File Format"].value);if(n[i]&&n[i][r])return n[i][r]}return r}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:t=>t[0].toString()},1812:{name:"Max Subfile Size",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}},1882:{name:"ObjectData Size Announced",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}},1887:{name:"Maximum ObjectData Size",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}}}};function Ax(t){const e=Jr(t);return e.length>=8?e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2):e}function kx(t){const e=Jr(t);let n=e;return e.length>=6&&(n=e.substr(0,2)+":"+e.substr(2,2)+":"+e.substr(4,2),e.length===11&&(n+=e.substr(6,1)+e.substr(7,2)+":"+e.substr(9,2))),n}function LC(t){const e=Jr(t);return e==="\x1B%G"?"UTF-8":e==="\x1B%5"?"Windows-1252":e==="\x1B%/G"?"UTF-8 Level 1":e==="\x1B%/H"?"UTF-8 Level 2":e==="\x1B%/I"?"UTF-8 Level 3":e==="\x1B/A"?"ISO-8859-1":e==="\x1B/B"?"ISO-8859-2":e==="\x1B/C"?"ISO-8859-3":e==="\x1B/D"?"ISO-8859-4":e==="\x1B/@"?"ISO-8859-5":e==="\x1B/G"?"ISO-8859-6":e==="\x1B/F"?"ISO-8859-7":e==="\x1B/H"?"ISO-8859-8":"Unknown"}const OG={get:DG};function DG(){if(typeof TextDecoder<"u")return TextDecoder}const BG=5,LI={decode:VG,TAG_HEADER_SIZE:BG};function VG(t,e){const n=OG.get();if(typeof n<"u"&&t!==void 0)try{return new n(t).decode(e instanceof DataView?e.buffer:Uint8Array.from(e))}catch{}const r=e.map(i=>String.fromCharCode(i)).join("");return FG(r)}function FG(t){try{return decodeURIComponent(escape(t))}catch{return t}}const LG=943868237,Mg=4,Av=2,ZG=1,zG=2,ZI=4,$G=Mg+Av+zG+ZI,jG=1028,zI=5,LY={read:KG};function KG(t,e,n){try{if(Array.isArray(t))return ZC(new DataView(Uint8Array.from(t).buffer),{size:t.length},0,n);const{naaBlock:r,dataOffset:i}=HG(t,e);return ZC(t,r,i,n)}catch{return{}}}function HG(t,e){for(;e+$G<=t.byteLength;){const n=GG(t,e);if(qG(n))return{naaBlock:n,dataOffset:e+n.headerSize};e+=n.headerSize+n.size+QG(n)}throw new Error("No IPTC NAA resource block.")}function GG(t,e){if(t.getUint32(e,!1)!==LG)throw new Error("Not an IPTC resource block.");const n=t.getUint8(e+Mg+Av),r=(n%2===0?n+1:n)+ZG;return{headerSize:Mg+Av+r+ZI,type:t.getUint16(e+Mg),size:t.getUint32(e+Mg+Av+r)}}function qG(t){return t.type===jG}function QG(t){return t.size%2!==0?1:0}function ZC(t,e,n,r){const i={};let a;const o=n+e.size;for(;n<o&&n<t.byteLength;){const{tag:l,tagSize:u}=JG(t,n,i,a,r);if(l===null)break;l&&("encoding"in l&&(a=l.encoding),i[l.name]===void 0||l.repeatable===void 0?i[l.name]={id:l.id,value:l.value,description:l.description}:(i[l.name]instanceof Array||(i[l.name]=[{id:i[l.name].id,value:i[l.name].value,description:i[l.name].description}]),i[l.name].push({id:l.id,value:l.value,description:l.description}))),n+=zI+u}return i}function JG(t,e,n,r,i){if(eq(t,e))return{tag:null,tagSize:0};const l=t.getUint16(e+1),u=t.getUint16(e+3);if(!i&&!vl.iptc[l])return{tag:void 0,tagSize:u};const f=tq(t,e+zI,u),p={id:l,name:nq(vl.iptc[l],l,f),value:f,description:sq(vl.iptc[l],f,n,r)};return lq(l)&&(p.repeatable=!0),cq(l)&&(p.encoding=vl.iptc[l].encoding_name(f)),{tag:p,tagSize:u}}function eq(t,e){return t.getUint8(e)!==28}function tq(t,e,n){const r=[];for(let i=0;i<n;i++)r.push(t.getUint8(e+i));return r}function nq(t,e,n){return t?rq(t)?t:iq(t)?t.name(n):t.name:`undefined-${e}`}function rq(t){return typeof t=="string"}function iq(t){return typeof t.name=="function"}function sq(t,e,n,r){if(oq(t))try{return t.description(e,n)}catch{}return aq(t,e)?LI.decode(r,e):e}function aq(t,e){return t&&e instanceof Array}function oq(t){return t&&t.description!==void 0}function lq(t){return vl.iptc[t]&&vl.iptc[t].repeatable}function cq(t){return vl.iptc[t]&&vl.iptc[t].encoding_name!==void 0}const ev={"tiff:Orientation"(t){return t==="1"?"Horizontal (normal)":t==="2"?"Mirror horizontal":t==="3"?"Rotate 180":t==="4"?"Mirror vertical":t==="5"?"Mirror horizontal and rotate 270 CW":t==="6"?"Rotate 90 CW":t==="7"?"Mirror horizontal and rotate 90 CW":t==="8"?"Rotate 270 CW":t},"tiff:ResolutionUnit":t=>an.ResolutionUnit(parseInt(t,10)),"tiff:XResolution":t=>Yu(an.XResolution,t),"tiff:YResolution":t=>Yu(an.YResolution,t),"exif:ApertureValue":t=>Yu(an.ApertureValue,t),"exif:GPSLatitude":zC,"exif:GPSLongitude":zC,"exif:FNumber":t=>Yu(an.FNumber,t),"exif:FocalLength":t=>Yu(an.FocalLength,t),"exif:FocalPlaneResolutionUnit":t=>an.FocalPlaneResolutionUnit(parseInt(t,10)),"exif:ColorSpace":t=>an.ColorSpace(uq(t)),"exif:ComponentsConfiguration"(t,e){if(/^\d, \d, \d, \d$/.test(e)){const n=e.split(", ").map(r=>r.charCodeAt(0));return an.ComponentsConfiguration(n)}return e},"exif:Contrast":t=>an.Contrast(parseInt(t,10)),"exif:CustomRendered":t=>an.CustomRendered(parseInt(t,10)),"exif:ExposureMode":t=>an.ExposureMode(parseInt(t,10)),"exif:ExposureProgram":t=>an.ExposureProgram(parseInt(t,10)),"exif:ExposureTime"(t){return $I(t)?an.ExposureTime(t.split("/").map(e=>parseInt(e,10))):t},"exif:MeteringMode":t=>an.MeteringMode(parseInt(t,10)),"exif:Saturation":t=>an.Saturation(parseInt(t,10)),"exif:SceneCaptureType":t=>an.SceneCaptureType(parseInt(t,10)),"exif:Sharpness":t=>an.Sharpness(parseInt(t,10)),"exif:ShutterSpeedValue":t=>Yu(an.ShutterSpeedValue,t),"exif:WhiteBalance":t=>an.WhiteBalance(parseInt(t,10))};function Yu(t,e){return $I(e)?t(e.split("/")):e}function uq(t){return t.substring(0,2)==="0x"?parseInt(t.substring(2),16):parseInt(t,10)}function $I(t){return/^-?\d+\/-?\d+$/.test(t)}function zC(t){const[e,n]=t.split(",");if(e!==void 0&&n!==void 0){const r=parseFloat(e),i=parseFloat(n),a=n.charAt(n.length-1);if(!Number.isNaN(r)&&!Number.isNaN(i))return""+(r+i/60)+a}return t}const fq={get:dq};function dq(t){if(t)return t;if(typeof DOMParser<"u")return new DOMParser;try{const{DOMParser:e,onErrorStopParsing:n}=__non_webpack_require__("@xmldom/xmldom");return new e({onError:n})}catch{return}}function hq(t){const e=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let n=0;n<e.length;n++)if(new RegExp(e[n]).test(t.message))return!0;return!1}function pq(t){const e=t.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!e)return t;const n=e[1],r=mq(t),a=gq(t).filter(l=>r.indexOf(l)===-1);if(a.length===0)return t;const o=vq(a);return _q(t,n,o)}function mq(t){const e=[],n=/xmlns:([\w-]+)=["'][^"']+["']/g;let r;for(;(r=n.exec(t))!==null;)e.indexOf(r[1])===-1&&e.push(r[1]);return e}function gq(t){const e=[],n=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;let r;for(;(r=n.exec(t))!==null;){const i=r[1];i==="xmlns"||i==="xml"||e.indexOf(i)===-1&&e.push(i)}return e}const yq={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"};function vq(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=yq[r]||"http://fallback.namespace/"+r;e.push(" xmlns:"+r+'="'+i+'"')}return e.join("")}function _q(t,e,n){const r=new RegExp("<"+e+"([^>]*)>");return t.replace(r,"<"+e+"$1"+n+">")}const $C={read:bq};class Sq extends Error{constructor(e){super(e),this.name="ParseError"}}function bq(t,e,n){const r={};if(typeof t=="string")return tv(r,t,n),r;const[i,a]=xq(t,e),o=tv(r,i,n);if(a){const l=tv(r,a,n);!o&&!l&&(delete r._raw,tv(r,ZY(t,e),n))}return r}function xq(t,e){if(e.length===0)return[];const n=[ZY(t,e.slice(0,1))];return e.length>1&&n.push(ZY(t,e.slice(1))),n}function ZY(t,e){const n=e.reduce((a,o)=>a+o.length,0),r=new Uint8Array(n);let i=0;for(let a=0;a<e.length;a++){const o=e[a],l=t.buffer.slice(o.dataOffset,o.dataOffset+o.length);r.set(new Uint8Array(l),i),i+=o.length}return new DataView(r.buffer)}function tv(t,e,n){try{const{doc:r,raw:i}=Yq(e,n);t._raw=(t._raw||"")+i;const a=KI(r);return _n(t,GI(HI(a,!0))),!0}catch{return!1}}function Yq(t,e){const n=fq.get(e);if(!n)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const r=typeof t=="string"?t:dn(t,0,t.byteLength);return{doc:jI(n,Tq(r)),raw:r}}function Tq(t){return t.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function jI(t,e,n=!1){try{const r=t.parseFromString(e,"application/xml"),i=r.getElementsByTagName("parsererror");if(i.length>0)throw new Sq(i[0].textContent);return r}catch(r){if(r.name==="ParseError"&&hq(r)&&!n)return jI(t,pq(e),!0);throw r}}function KI(t){for(let e=0;e<t.childNodes.length;e++){if(t.childNodes[e].tagName==="x:xmpmeta")return KI(t.childNodes[e]);if(t.childNodes[e].tagName==="rdf:RDF")return t.childNodes[e]}throw new Error}function HI(t,e=!1){const n=wq(t);return Wq(n)?e?{}:Eq(n[0]):Uq(n)}function wq(t){const e=[];for(let n=0;n<t.childNodes.length;n++)e.push(t.childNodes[n]);return e}function Wq(t){return t.length===1&&t[0].nodeName==="#text"}function Eq(t){return t.nodeValue}function Uq(t){const e={};return t.forEach(n=>{if(Cq(n)){const r=Aq(n);e[n.nodeName]!==void 0?(Array.isArray(e[n.nodeName])||(e[n.nodeName]=[e[n.nodeName]]),e[n.nodeName].push(r)):e[n.nodeName]=r}}),e}function Cq(t){return t.nodeName&&t.nodeName!=="#text"}function Aq(t){return{attributes:kq(t),value:HI(t)}}function kq(t){const e={};for(let n=0;n<t.attributes.length;n++)e[t.attributes[n].nodeName]=decodeURIComponent(escape(t.attributes[n].value));return e}function GI(t){const e={};if(typeof t=="string")return t;for(const n in t){let r=t[n];Array.isArray(r)||(r=[r]),r.forEach(i=>{_n(e,Ww(i.attributes)),typeof i.value=="object"&&_n(e,qI(i.value))})}return e}function Ww(t){const e={};for(const n in t)try{Iq(n)&&(e[g2(n)]={value:t[n],attributes:{},description:Wo(t[n],n)})}catch{}return e}function Iq(t){return t!=="rdf:parseType"&&!m2(t)}function m2(t){return t.split(":")[0]==="xmlns"}function g2(t){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(t)?"RatingPercent":t.split(":")[1]}function Wo(t,e=void 0){if(Array.isArray(t)){const n=Rq(t);return e&&typeof ev[e]=="function"?ev[e](t,n):n}if(typeof t=="object")return Xq(t);try{return e&&typeof ev[e]=="function"?ev[e](t):decodeURIComponent(escape(t))}catch{return t}}function Rq(t){return t.map(e=>e.value!==void 0?Wo(e.value):Wo(e)).join(", ")}function Xq(t){const e=[];for(const n in t)e.push(`${Pq(n)}: ${Wo(t[n].value)}`);return e.join("; ")}function Pq(t){return t==="CiAdrCity"?"CreatorCity":t==="CiAdrCtry"?"CreatorCountry":t==="CiAdrExtadr"?"CreatorAddress":t==="CiAdrPcode"?"CreatorPostalCode":t==="CiAdrRegion"?"CreatorRegion":t==="CiEmailWork"?"CreatorWorkEmail":t==="CiTelWork"?"CreatorWorkPhone":t==="CiUrlWork"?"CreatorWorkUrl":t}function qI(t){const e={};for(const n in t)try{m2(n)||(e[g2(n)]=Mq(t[n],n))}catch{}return e}function Mq(t,e){return Oq(t)?Dq(t,e):Nq(t)?{value:"",attributes:{},description:""}:QI(t)?JI(t,e):eR(t)?tR(t,e):nR(t)?rR(t,e):Fq(t)?Lq(t,e):Ew(t,e)}function Nq(t){return t.attributes["rdf:parseType"]==="Resource"&&typeof t.value=="string"&&t.value.trim()===""}function Oq(t){return Array.isArray(t)}function Dq(t,e){return Ew(t[t.length-1],e)}function QI(t){return t.attributes["rdf:parseType"]==="Resource"&&t.value["rdf:value"]!==void 0||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]!==void 0}function JI(t,e){const n=o1(t);t.value["rdf:Description"]!==void 0&&(t=t.value["rdf:Description"]),_n(n,o1(t),Bq(t));const r=Vq(t);return{value:r,attributes:n,description:Wo(r,e)}}function o1(t){const e={};for(const n in t.attributes)n!=="rdf:parseType"&&n!=="rdf:resource"&&!m2(n)&&(e[g2(n)]=t.attributes[n]);return e}function Bq(t){const e={};for(const n in t.value)n!=="rdf:value"&&!m2(n)&&(e[g2(n)]=t.value[n].value);return e}function Vq(t){return sR(t.value["rdf:value"])||t.value["rdf:value"].value}function eR(t){return t.attributes["rdf:parseType"]==="Resource"||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]===void 0}function tR(t,e){const n={value:{},attributes:{}};return t.value["rdf:Description"]!==void 0&&(_n(n.value,Ww(t.value["rdf:Description"].attributes)),_n(n.attributes,o1(t)),t=t.value["rdf:Description"]),_n(n.value,qI(t.value)),n.description=Wo(n.value,e),n}function nR(t){return Object.keys(t.value).length===0&&t.attributes["xml:lang"]===void 0&&t.attributes["rdf:resource"]===void 0}function rR(t,e){const n=Ww(t.attributes);return{value:n,attributes:{},description:Wo(n,e)}}function Fq(t){return iR(t.value)!==void 0}function iR(t){return t["rdf:Bag"]||t["rdf:Seq"]||t["rdf:Alt"]}function Lq(t,e){let n=iR(t.value).value["rdf:li"];const r=o1(t),i=[];return n===void 0?n=[]:Array.isArray(n)||(n=[n]),n.forEach(a=>{i.push(Zq(a))}),{value:i,attributes:r,description:Wo(i,e)}}function Zq(t){return QI(t)?JI(t):eR(t)?tR(t).value:nR(t)?rR(t).value:Ew(t)}function Ew(t,e){const n=sR(t)||GI(t.value);return{value:n,attributes:o1(t),description:Wo(n,e)}}function sR(t){return t.attributes&&t.attributes["rdf:resource"]}const yo={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},aR=24,Ix={2e3:{name:"PathInformation",description:zq},2999:{name:"ClippingPathName",description(t){const[,e]=gI(t,0);return e}}};function zq(t){const n={},r=[];for(let i=0;i<t.byteLength;i+=2+aR){const a=Wt.getShortAt(t,i);Rx[a]&&(n[a]||(n[a]=Rx[a].description),r.push({type:a,path:Rx[a].path(t,i+2)}))}return JSON.stringify({types:n,paths:r})}const Rx={[yo.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(t,e)=>[Wt.getShortAt(t,e)]},[yo.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:nv},[yo.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:nv},[yo.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(t,e)=>[Wt.getShortAt(t,e)]},[yo.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:nv},[yo.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:nv},[yo.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[yo.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(t,e)=>[Wt.getShortAt(t,e)]},[yo.CLIPBOARD]:{description:"Clipboard",path:jq}};function nv(t,e){const r=[];for(let i=0;i<aR;i+=8)r.push($q(t,e+i));return r}function $q(t,e){const n=hc(t,e,8);return[hc(t,e+4,8),n]}function jq(t,e){return[[hc(t,e,8),hc(t,e+4,8),hc(t,e+8,8),hc(t,e+12,8)],hc(t,e+16,8)]}function hc(t,e,n){const r=Wt.getLongAt(t,e),i=r>>>31?-1:1,a=(r&2130706432)>>>32-n,o=r&parseInt(_I("1",32-n),2);return i*zj(a.toString(2)+"."+Zj(o.toString(2),32-n,"0"),2)}const Kq={read:qq},oR="8BIM",Hq=2,Gq=4,jC=oR.length;function qq(t,e){const n=gC(new Uint8Array(t).buffer),r={};let i=0;for(;i<t.length;){const a=dn(n,i,jC);i+=jC;const o=Wt.getShortAt(n,i);i+=Hq;const{tagName:l,tagNameSize:u}=Qq(n,i);i+=u;const f=Wt.getLongAt(n,i);if(i+=Gq,a===oR){const p=gC(n.buffer,i,f),h={id:o,value:dn(p,0,f)};if(Ix[o]){try{h.description=Ix[o].description(p)}catch{h.description="<no description formatter>"}r[l||Ix[o].name]=h}else e&&(r[`undefined-${o}`]=h)}i+=f+f%2}return r}function Qq(t,e){const[n,r]=gI(t,e);return{tagName:r,tagNameSize:1+n+(n%2===0?1:0)}}const KC={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},HC={4:{name:"Preferred CMM type",value:(t,e)=>dn(t,e,4),description:t=>t!==null?Xx(t):""},8:{name:"Profile Version",value:(t,e)=>t.getUint8(e).toString(10)+"."+(t.getUint8(e+1)>>4).toString(10)+"."+(t.getUint8(e+1)%16).toString(10)},12:{name:"Profile/Device class",value:(t,e)=>dn(t,e,4),description:t=>{switch(t.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return t}}},16:{name:"Color Space",value:(t,e)=>dn(t,e,4)},20:{name:"Connection Space",value:(t,e)=>dn(t,e,4)},24:{name:"ICC Profile Date",value:(t,e)=>Jq(t,e).toISOString()},36:{name:"ICC Signature",value:(t,e)=>eQ(t.buffer.slice(e,e+4))},40:{name:"Primary Platform",value:(t,e)=>dn(t,e,4),description:t=>Xx(t)},48:{name:"Device Manufacturer",value:(t,e)=>dn(t,e,4),description:t=>Xx(t)},52:{name:"Device Model Number",value:(t,e)=>dn(t,e,4)},64:{name:"Rendering Intent",value:(t,e)=>t.getUint32(e),description:t=>{switch(t){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return t}}},80:{name:"Profile Creator",value:(t,e)=>dn(t,e,4)}};function Jq(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,i=t.getUint16(e+4),a=t.getUint16(e+6),o=t.getUint16(e+8),l=t.getUint16(e+10);return new Date(Date.UTC(n,r,i,a,o,l))}function eQ(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function Xx(t){switch(t.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return t}}const GC={read:cQ},tQ=84,nQ=128,rQ="acsp",iQ="desc",sQ="mluc",aQ="text",oQ="sig ",lQ=12;function cQ(t,e,n){return n&&e[0].compressionMethod!==S_?uQ(t,e):dQ(t,e)}function uQ(t,e){if(!fQ(e[0].compressionMethod))return{};const n=new DataView(t.buffer.slice(e[0].offset,e[0].offset+e[0].length));return bI(n,e[0].compressionMethod,"utf-8","dataview").then(lR).catch(()=>({}))}function fQ(t){return t===SI}function dQ(t,e){try{const n=e.reduce((o,l)=>o+l.length,0),r=new Uint8Array(n);let i=0;const a=hQ(t);for(let o=1;o<=e.length;o++){const l=e.find(p=>p.chunkNumber===o);if(!l)throw new Error(`ICC chunk ${o} not found`);const u=a.slice(l.offset,l.offset+l.length),f=new Uint8Array(u);r.set(f,i),i+=f.length}return lR(new DataView(r.buffer))}catch{return{}}}function hQ(t){return Array.isArray(t)?new DataView(Uint8Array.from(t).buffer).buffer:t.buffer}function pQ(t){return t.length<nQ+4}function mQ(t,e){return t.length<e+lQ}function lR(t){const e=t.buffer,n=t.getUint32();if(t.byteLength!==n)throw new Error("ICC profile length not matching");if(t.byteLength<tQ)throw new Error("ICC profile too short");const r={},i=Object.keys(HC);for(let u=0;u<i.length;u++){const f=i[u],p=HC[f],h=p.value(t,parseInt(f,10));let m=h;p.description&&(m=p.description(h)),r[p.name]={value:h,description:m}}if(rv(e.slice(36,40))!==rQ)throw new Error("ICC profile: missing signature");if(pQ(e))return r;const o=t.getUint32(128);let l=132;for(let u=0;u<o;u++){if(mQ(e,l))return r;const f=dn(t,l,4),p=t.getUint32(l+4),h=t.getUint32(l+8);if(p>e.length)return r;const m=dn(t,p,4);if(m===iQ){const g=t.getUint32(p+8);if(g>h)return r;const _=rv(e.slice(p+12,p+g+11));Eg(r,f,_)}else if(m===sQ){const g=t.getUint32(p+8),_=t.getUint32(p+12);let v=p+16;const S=[];for(let b=0;b<g;b++){const Y=dn(t,v+0,2),E=dn(t,v+2,2),M=t.getUint32(v+4),U=t.getUint32(v+8),W=Fj(t,p+U,M);S.push({languageCode:Y,countryCode:E,text:W}),v+=_}if(g===1)Eg(r,f,S[0].text);else{const b={};for(let Y=0;Y<S.length;Y++)b[`${S[Y].languageCode}-${S[Y].countryCode}`]=S[Y].text;Eg(r,f,b)}}else if(m===aQ){const g=rv(e.slice(p+8,p+h-7));Eg(r,f,g)}else if(m===oQ){const g=rv(e.slice(p+8,p+12));Eg(r,f,g)}l=l+12}return r}function rv(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function Eg(t,e,n){KC[e]?t[KC[e].name]={value:n,description:n}:t[e]={value:n,description:n}}const kv=27,gQ={read:yQ,SHOT_INFO_AUTO_ROTATE:kv};function yQ(t,e,n,r,i){let a=Ol(t,OI,e,e+n,r,i);return a.ShotInfo&&(a=_n({},a,vQ(a.ShotInfo.value)),delete a.ShotInfo),a}function vQ(t){const e={};return t[kv]!==void 0&&(e.AutoRotate={value:t[kv],description:_Q(t[kv])}),e}function _Q(t){return t===0?"None":t===1?"Rotate 90 CW":t===2?"Rotate 180":t===3?"Rotate 270 CW":"Unknown"}const cR=8,uR=cR+2,fR={K3_III:78420},Iv={CAMERA_ORIENTATION:1,ROLL_ANGLE:3,PITCH_ANGLE:5},SQ={read:bQ,PENTAX_IFD_OFFSET:uR,MODEL_ID:fR,LIK3III:Iv};function bQ(t,e,n,r){const i=Ba.getByteOrder(t,e+n+cR),a=e+n;let o=Ol(t,ww,a,a+uR,i,r);return xQ(o)&&(o=_n({},o,YQ(t,a+o.LevelInfo.__offset,i)),delete o.LevelInfo),o}function xQ(t){return t.PentaxModelID&&t.PentaxModelID.value===fR.K3_III&&t.LevelInfo}function YQ(t,e,n){const r={};if(e+7>t.byteLength)return r;const i=t.getInt8(e+Iv.CAMERA_ORIENTATION);r.CameraOrientation={value:i,description:TQ(i)};const a=t.getInt16(e+Iv.ROLL_ANGLE,n===Ba.LITTLE_ENDIAN);r.RollAngle={value:a,description:wQ(a)};const o=t.getInt16(e+Iv.PITCH_ANGLE,n===Ba.LITTLE_ENDIAN);return r.PitchAngle={value:o,description:WQ(o)},r}function TQ(t){return t===0?"Horizontal (normal)":t===1?"Rotate 270 CW":t===2?"Rotate 180":t===3?"Rotate 90 CW":t===4?"Upwards":t===5?"Downwards":"Unknown"}function wQ(t){return""+t*-.5}function WQ(t){return""+t*-.5}const EQ={read:UQ};function UQ(t,e){return{"Image Width":CQ(t,e),"Image Height":AQ(t,e),"Bit Depth":kQ(t,e),"Color Type":IQ(t,e),Compression:RQ(t,e),Filter:XQ(t,e),Interlace:PQ(t,e)}}function CQ(t,e){if(e+0+4>t.byteLength)return;const i=Wt.getLongAt(t,e);return{value:i,description:`${i}px`}}function AQ(t,e){if(e+4+4>t.byteLength)return;const i=Wt.getLongAt(t,e+4);return{value:i,description:`${i}px`}}function kQ(t,e){if(e+8+1>t.byteLength)return;const i=Wt.getByteAt(t,e+8);return{value:i,description:`${i}`}}function IQ(t,e){const i={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(e+9+1>t.byteLength)return;const a=Wt.getByteAt(t,e+9);return{value:a,description:i[a]||"Unknown"}}function RQ(t,e){if(e+10+1>t.byteLength)return;const i=Wt.getByteAt(t,e+10);return{value:i,description:i===0?"Deflate/Inflate":"Unknown"}}function XQ(t,e){if(e+11+1>t.byteLength)return;const i=Wt.getByteAt(t,e+11);return{value:i,description:i===0?"Adaptive":"Unknown"}}function PQ(t,e){const i={0:"Noninterlaced",1:"Adam7 Interlace"};if(e+12+1>t.byteLength)return;const a=Wt.getByteAt(t,e+12);return{value:a,description:i[a]||"Unknown"}}const MQ={read:VQ},zY="STATE_KEYWORD",$Y="STATE_COMPRESSION",jY="STATE_LANG",NQ="STATE_TRANSLATED_KEYWORD",KY="STATE_TEXT",OQ=1,DQ=1,BQ=6;function VQ(t,e,n,r){const i={},a=[];for(let o=0;o<e.length;o++){const{offset:l,length:u,type:f}=e[o],p=FQ(t,l,u,f,n);if(p instanceof Promise)a.push(p.then(({name:h,value:m,description:g})=>{try{if(yC.USE_EXIF&&QC(h,m))return{__exif:FI.read(e5(m),BQ,r).tags};if(yC.USE_IPTC&&JC(h,m))return{__iptc:LY.read(e5(m),0,r)};if(h&&!QC(h,m)&&!JC(h,m))return{[h]:{value:m,description:g}}}catch{}return{}}));else{const{name:h,value:m,description:g}=p;h&&(i[h]={value:m,description:g})}}return{readTags:i,readTagsPromise:a.length>0?Promise.all(a):void 0}}function FQ(t,e,n,r,i){const a=[],o=[];let l,u=zY,f=S_;for(let h=0;h<n&&e+h<t.byteLength;h++){if(u===$Y){f=LQ({type:r,dataView:t,offset:e+h}),r===Ac&&(h+=OQ),u=qC(r,u);continue}else if(u===KY){l=new DataView(t.buffer.slice(e+h,e+n));break}const m=t.getUint8(e+h);m===0?u=qC(r,u):u===zY?a.push(m):u===jY&&o.push(m)}if(f!==S_&&!i)return{};const p=bI(l,f,ZQ(r));return p instanceof Promise?p.then(h=>Px(h,r,o,a)).catch(()=>Px("<text using unknown compression>".split(""),r,o,a)):Px(p,r,o,a)}function LQ({type:t,dataView:e,offset:n}){if(t===Ac){if(e.getUint8(n)===DQ)return e.getUint8(n+1)}else if(t===d2)return e.getUint8(n);return S_}function qC(t,e){return e===zY&&[Ac,d2].includes(t)?$Y:e===$Y?t===Ac?jY:KY:e===jY?NQ:KY}function ZQ(t){return t===xw||t===d2?"latin1":"utf-8"}function Px(t,e,n,r){const i=$Q(t);return{name:zQ(e,n,r),value:i,description:e===Ac?jQ(t):i}}function zQ(t,e,n){const r=Cc(n);if(t===xw||e.length===0)return r;const i=Cc(e);return`${r} (${i})`}function $Q(t){return t instanceof DataView?dn(t,0,t.byteLength):t}function jQ(t){return LI.decode("UTF-8",t)}function QC(t,e){return t.toLowerCase()==="raw profile type exif"&&e.substring(1,5)==="exif"}function JC(t,e){return t.toLowerCase()==="raw profile type iptc"&&e.substring(1,5)==="iptc"}function e5(t){const e=t.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return KQ(e[2].replace(/\n/g,""))}function KQ(t){const e=new DataView(new ArrayBuffer(t.length/2));for(let n=0;n<t.length;n+=2)e.setUint8(n/2,parseInt(t.substring(n,n+2),16));return e}const HQ={read:GQ};function GQ(t,e){const n={};for(let r=0;r<e.length;r++){const i=Wt.getLongAt(t,e[r]+Cu),a=dn(t,e[r]+Nl,da);a===EI?(n["Pixels Per Unit X"]=qQ(t,e[r],i),n["Pixels Per Unit Y"]=QQ(t,e[r],i),n["Pixel Units"]=JQ(t,e[r],i)):a===UI&&(n["Modify Date"]=eJ(t,e[r],i))}return n}function qQ(t,e,n){if(!y2(t,e,n,0,4))return;const a=Wt.getLongAt(t,e+Ti+0);return{value:a,description:""+a}}function QQ(t,e,n){if(!y2(t,e,n,4,4))return;const a=Wt.getLongAt(t,e+Ti+4);return{value:a,description:""+a}}function JQ(t,e,n){if(!y2(t,e,n,8,1))return;const a=Wt.getByteAt(t,e+Ti+8);return{value:a,description:a===1?"meters":"Unknown"}}function eJ(t,e,n){if(!y2(t,e,n,0,7))return;const i=Wt.getShortAt(t,e+Ti),a=Wt.getByteAt(t,e+Ti+2),o=Wt.getByteAt(t,e+Ti+3),l=Wt.getByteAt(t,e+Ti+4),u=Wt.getByteAt(t,e+Ti+5),f=Wt.getByteAt(t,e+Ti+6);return{value:[i,a,o,l,u,f],description:`${Tu(i,4)}-${Tu(a,2)}-${Tu(o,2)} ${Tu(l,2)}:${Tu(u,2)}:${Tu(f,2)}`}}function y2(t,e,n,r,i){return r+i<=n&&e+Ti+r+i<=t.byteLength}function Tu(t,e){return`${"0".repeat(e-(""+t).length)}${t}`}const tJ={read:iJ},nJ=4,rJ=7;function iJ(t,e){const n={},r=Wt.getByteAt(t,e);return n.Alpha=sJ(r),n.Animation=aJ(r),n.ImageWidth=t5(t,e+nJ),n.ImageHeight=t5(t,e+rJ),n}function sJ(t){const e=t&16;return{value:e?1:0,description:e?"Yes":"No"}}function aJ(t){const e=t&2;return{value:e?1:0,description:e?"Yes":"No"}}function t5(t,e){const n=Wt.getByteAt(t,e)+256*Wt.getByteAt(t,e+1)+65536*Wt.getByteAt(t,e+2)+1;return{value:n,description:n+"px"}}const oJ={read:lJ};function lJ(t){return{"GIF Version":cJ(t),"Image Width":uJ(t),"Image Height":fJ(t),"Global Color Map":dJ(t),"Bits Per Pixel":pJ(t),"Color Resolution Depth":hJ(t)}}function cJ(t){if(6>t.byteLength)return;const r=dn(t,3,3);return{value:r,description:r}}function uJ(t){if(8>t.byteLength)return;const r=t.getUint16(6,!0);return{value:r,description:`${r}px`}}function fJ(t){if(10>t.byteLength)return;const r=t.getUint16(8,!0);return{value:r,description:`${r}px`}}function dJ(t){if(11>t.byteLength)return;const i=(t.getUint8(10)&128)>>>7;return{value:i,description:i===1?"Yes":"No"}}function hJ(t){if(11>t.byteLength)return;const i=((t.getUint8(10)&112)>>>4)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}function pJ(t){if(11>t.byteLength)return;const i=(t.getUint8(10)&7)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}const mJ=[6,7,99],gJ={get:yJ};function yJ(t,e,n){if(vJ(e)){e.type="image/jpeg";const r=n+e.JPEGInterchangeFormat.value;e.image=t.buffer.slice(r,r+e.JPEGInterchangeFormatLength.value),yI(e,"base64",function(){return vI(this.image)})}return e}function vJ(t){return t&&(t.Compression===void 0||mJ.includes(t.Compression.value))&&t.JPEGInterchangeFormat&&t.JPEGInterchangeFormat.value&&t.JPEGInterchangeFormatLength&&t.JPEGInterchangeFormatLength.value}const Mx={INCHES:2,CENTIMETERS:3,MILLIMETERS:4},Nx={INCHES_TO_MM:25.4,CM_TO_MM:10,MM_TO_MM:1},_J={get:SJ};function SJ(t,e){const n={};let r=!1;const i=uc(t,"exif","FocalLength",e),a=uc(t,"exif","FocalPlaneXResolution",e),o=uc(t,"exif","FocalPlaneYResolution",e),l=uc(t,"exif","FocalPlaneResolutionUnit",e),u=uc(t,"file","Image Width",e),f=uc(t,"file","Image Height",e),p=uc(t,"exif","FocalLengthIn35mmFilm",e)||bJ(a,o,l,u,f,i);p&&(n.FocalLength35efl={value:p,description:an.FocalLengthIn35mmFilm(p)},r=!0);const h=xJ(i,p);h&&(n.ScaleFactorTo35mmEquivalent=h,r=!0);const m=YJ(p);if(m&&(n.FieldOfView=m,r=!0),r)return n}function uc(t,e,n,r){if(r&&t[e]&&t[e][n])return t[e][n].value;if(!r&&t[n])return t[n].value}function bJ(t,e,n,r,i,a){if(t&&e&&n&&r&&i&&a)try{let l;switch(n){case Mx.INCHES:l=Nx.INCHES_TO_MM;break;case Mx.CENTIMETERS:l=Nx.CM_TO_MM;break;case Mx.MILLIMETERS:l=Nx.MM_TO_MM;break;default:return}const u=t[0]/t[1]*l,f=e[0]/e[1]*l,p=r/u,h=i/f,m=Math.sqrt(p**2+h**2);return a[0]/a[1]*(43.27/m)}catch{}}function xJ(t,e){if(t&&e)try{const n=e/(t[0]/t[1]);return{value:n,description:n.toFixed(1)}}catch{}}function YJ(t){if(t)try{const n=2*Math.atan(36/(2*t))*(180/Math.PI);return{value:n,description:n.toFixed(1)+" deg"}}catch{}}function dR(t){this.name="MetadataMissingError",this.message=t||"No Exif data",this.stack=new Error().stack}dR.prototype=new Error;const hR={MetadataMissingError:dR},HY={load:TJ,loadView:pR,errors:hR};function TJ(t,e={}){return wJ(t)?(e.async=!0,WJ(t,e).then(n=>Ox(n,e))):RJ(t)?(e.async=!0,XJ(t,e).then(n=>Ox(n,e))):Ox(t,e)}function wJ(t){return typeof t=="string"}function WJ(t,e){return/^\w+:\/\//.test(t)?typeof fetch<"u"?EJ(t,e):UJ(t,e):AJ(t)?Promise.resolve(Lj(t)):kJ(t,e)}function EJ(t,{length:e}={}){const n={method:"GET"};return Number.isInteger(e)&&e>=0&&(n.headers={range:`bytes=0-${e-1}`}),fetch(t,n).then(r=>r.arrayBuffer())}function UJ(t,{length:e}={}){return new Promise((n,r)=>{const i={};Number.isInteger(e)&&e>=0&&(i.headers={range:`bytes=0-${e-1}`}),CJ(t)(t,i,o=>{if(o.statusCode>=200&&o.statusCode<=299){const l=[];o.on("data",u=>l.push(Buffer.from(u))),o.on("error",u=>r(u)),o.on("end",()=>n(Buffer.concat(l)))}else r(`Could not fetch file: ${o.statusCode} ${o.statusMessage}`),o.resume()}).on("error",o=>r(o))})}function CJ(t){return/^https:\/\//.test(t)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function AJ(t){return/^data:[^;,]*(;base64)?,/.test(t)}function kJ(t,{length:e}={}){return new Promise((n,r)=>{const i=IJ();i.open(t,(a,o)=>{a?r(a):i.stat(t,(l,u)=>{if(l)r(l);else{const f=Math.min(u.size,e!==void 0?e:u.size),p=Buffer.alloc(f),h={buffer:p,length:f};i.read(o,h,m=>{m?r(m):i.close(o,g=>{g&&console.warn(`Could not close file ${t}:`,g),n(p)})})}})})})}function IJ(){try{return __non_webpack_require__("fs")}catch{return}}function RJ(t){return typeof File<"u"&&t instanceof File}function XJ(t,{length:e}){return new Promise((n,r)=>{const i=new FileReader;i.onload=a=>n(a.target.result),i.onerror=()=>r(i.error),Number.isInteger(e)&&e>=0&&t.slice!==void 0?i.readAsArrayBuffer(t.slice(0,e)):i.readAsArrayBuffer(t)})}function Ox(t,e){return PJ(t)&&(t=new Uint8Array(t).buffer),pR(MJ(t),e)}function PJ(t){try{return Buffer.isBuffer(t)}catch{return!1}}function MJ(t){try{return new DataView(t)}catch{return new mI(t)}}function pR(t,{expanded:e=!1,async:n=!1,includeUnknown:r=!1,domParser:i=void 0}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){let a=!1,o={};const l=[],{fileType:u,fileDataOffset:f,jfifDataOffset:p,tiffHeaderOffset:h,iptcDataOffset:m,xmpChunks:g,iccChunks:_,mpfDataOffset:v,pngHeaderOffset:S,pngTextChunks:b,pngChunkOffsets:Y,vp8xChunkOffset:E,gifHeaderOffset:M}=PH.parseAppMarkers(t,n);if(NJ(f)){a=!0;const P=yG.read(t,f);e?o.file=P:o=_n({},o,P)}if(OJ(p)){a=!0;const P=EG.read(t,p);e?o.jfif=P:o=_n({},o,P)}if(DJ(h)){a=!0;const{tags:P,byteOrder:O}=FI.read(t,h,r);if(P.Thumbnail&&(o.Thumbnail=P.Thumbnail,delete P.Thumbnail),e?(o.exif=P,BJ(o)):o=_n({},o,P),P["IPTC-NAA"]&&!n5(m)){const V=LY.read(P["IPTC-NAA"].value,0,r);e?o.iptc=V:o=_n({},o,V)}if(P.ApplicationNotes&&!r5(g)){const V=$C.read(Cc(P.ApplicationNotes.value),void 0,i);e?o.xmp=V:(delete V._raw,o=_n({},o,V))}if(P.ImageSourceData&&P.PhotoshopSettings){const V=Kq.read(P.PhotoshopSettings.value,r);e?o.photoshop=V:o=_n({},o,V)}if(P.ICC_Profile&&!i5(_)){const V=GC.read(P.ICC_Profile.value,[{offset:0,length:P.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);e?o.icc=V:o=_n({},o,V)}if(P.MakerNote){if(VJ(P)){const V=gQ.read(t,h,P.MakerNote.__offset,O,r);e?o.makerNotes=V:o=_n({},o,V)}else if(FJ(P)){const V=SQ.read(t,h,P.MakerNote.__offset,r);e?o.makerNotes=V:o=_n({},o,V)}}P.MakerNote&&delete P.MakerNote.__offset}if(n5(m)){a=!0;const P=LY.read(t,m,r);e?o.iptc=P:o=_n({},o,P)}if(r5(g)){a=!0;const P=$C.read(t,g,i);e?o.xmp=P:(delete P._raw,o=_n({},o,P))}if(i5(_)){a=!0;const P=GC.read(t,_,n);P instanceof Promise?l.push(P.then(w)):w(P)}if(LJ(v)){a=!0;const P=cG.read(t,v,r);e?o.mpf=P:o=_n({},o,P)}if(ZJ(S)){a=!0;const P=EQ.read(t,S);e?(o.png=o.png?_n({},o.png,P):P,o.pngFile=P):o=_n({},o,P)}if(zJ(b)){a=!0;const{readTags:P,readTagsPromise:O}=MQ.read(t,b,n,r);I(P),O&&l.push(O.then(V=>V.forEach(I)))}if($J(Y)){a=!0;const P=HQ.read(t,Y);e?o.png=o.png?_n({},o.png,P):P:o=_n({},o,P)}if(jJ(E)){a=!0;const P=tJ.read(t,E);e?o.riff=o.riff?_n({},o.riff,P):P:o=_n({},o,P)}if(KJ(M)){a=!0;const P=oJ.read(t,M);e?o.gif=o.gif?_n({},o.gif,P):P:o=_n({},o,P)}const U=_J.get(o,e);U&&(e?o.composite=U:o=_n({},o,U));const W=gJ.get(t,o.Thumbnail,h);if(W?(a=!0,o.Thumbnail=W):delete o.Thumbnail,u&&(e?(o.file||(o.file={}),o.file.FileType=u):o.FileType=u,a=!0),!a)throw new hR.MetadataMissingError;if(n)return Promise.all(l).then(()=>o);return o;function w(P){e?o.icc=P:o=_n({},o,P)}function I(P){if(e){for(const O of["exif","iptc"]){const V=`__${O}`;P[V]&&(o[O]=o[O]?_n({},o.exif,P[V]):P[V],delete P[V])}o.png=o.png?_n({},o.png,P):P,o.pngText=o.pngText?_n({},o.png,P):P}else o=_n({},o,P.__exif?P.__exif:{},P.__iptc?P.__iptc:{},P),delete o.__exif,delete o.__iptc}}function NJ(t){return t!==void 0}function OJ(t){return t!==void 0}function DJ(t){return t!==void 0}function BJ(t){if(t.exif){if(t.exif.GPSLatitude&&t.exif.GPSLatitudeRef)try{t.gps=t.gps||{},t.gps.Latitude=b_(t.exif.GPSLatitude.value),t.exif.GPSLatitudeRef.value.join("")==="S"&&(t.gps.Latitude=-t.gps.Latitude)}catch{}if(t.exif.GPSLongitude&&t.exif.GPSLongitudeRef)try{t.gps=t.gps||{},t.gps.Longitude=b_(t.exif.GPSLongitude.value),t.exif.GPSLongitudeRef.value.join("")==="W"&&(t.gps.Longitude=-t.gps.Longitude)}catch{}if(t.exif.GPSAltitude&&t.exif.GPSAltitudeRef)try{t.gps=t.gps||{},t.gps.Altitude=t.exif.GPSAltitude.value[0]/t.exif.GPSAltitude.value[1],t.exif.GPSAltitudeRef.value===1&&(t.gps.Altitude=-t.gps.Altitude)}catch{}}}function n5(t){return t!==void 0}function r5(t){return Array.isArray(t)&&t.length>0}function i5(t){return Array.isArray(t)&&t.length>0}function VJ(t){return t.Make&&t.Make.value&&Array.isArray(t.Make.value)&&t.Make.value[0]==="Canon"&&t.MakerNote&&t.MakerNote.__offset}function FJ(t){const e="PENTAX ";return t.MakerNote.value.length>e.length&&Cc(t.MakerNote.value.slice(0,e.length))===e&&t.MakerNote.__offset}function LJ(t){return t!==void 0}function ZJ(t){return t!==void 0}function zJ(t){return t!==void 0}function $J(t){return t!==void 0}function jJ(t){return t!==void 0}function KJ(t){return t!==void 0}var iv={exports:{}},s5;function HJ(){return s5||(s5=1,(function(t,e){(function(){var n={};n.version="1.0.4",n.remove=function(U){var W=!1;if(U.slice(0,2)!="")if(U.slice(0,23)=="data:image/jpeg;base64,"||U.slice(0,22)=="data:image/jpg;base64,")U=m(U.split(",")[1]),W=!0;else throw new Error("Given data is not jpeg.");var w=S(U),I=w.filter(function(O){return!(O.slice(0,2)==""&&O.slice(4,10)=="Exif\0\0")}),P=I.join("");return W&&(P="data:image/jpeg;base64,"+h(P)),P},n.insert=function(U,W){var w=!1;if(U.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(W.slice(0,2)!="")if(W.slice(0,23)=="data:image/jpeg;base64,"||W.slice(0,22)=="data:image/jpg;base64,")W=m(W.split(",")[1]),w=!0;else throw new Error("Given data is not jpeg.");var I=""+g(">H",[U.length+2])+U,P=S(W),O=Y(P,I);return w&&(O="data:image/jpeg;base64,"+h(O)),O},n.load=function(U){var W;if(typeof U=="string")if(U.slice(0,2)=="")W=U;else if(U.slice(0,23)=="data:image/jpeg;base64,"||U.slice(0,22)=="data:image/jpg;base64,")W=m(U.split(",")[1]);else if(U.slice(0,4)=="Exif")W=U.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");var w={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},I=new p(W);if(I.tiftag===null)return w;I.tiftag.slice(0,2)=="II"?I.endian_mark="<":I.endian_mark=">";var P=_(I.endian_mark+"L",I.tiftag.slice(4,8))[0];w["0th"]=I.get_ifd(P,"0th");var O=w["0th"].first_ifd_pointer;if(delete w["0th"].first_ifd_pointer,34665 in w["0th"]&&(P=w["0th"][34665],w.Exif=I.get_ifd(P,"Exif")),34853 in w["0th"]&&(P=w["0th"][34853],w.GPS=I.get_ifd(P,"GPS")),40965 in w.Exif&&(P=w.Exif[40965],w.Interop=I.get_ifd(P,"Interop")),O!="\0\0\0\0"&&(P=_(I.endian_mark+"L",O)[0],w["1st"]=I.get_ifd(P,"1st"),513 in w["1st"]&&514 in w["1st"])){var V=w["1st"][513]+w["1st"][514],N=I.tiftag.slice(w["1st"][513],V);w.thumbnail=N}return w},n.dump=function(U){var W=8,w=r(U),I="Exif\0\0MM\0*\0\0\0\b",P=!1,O=!1,V=!1,N=!1,F,R,K,Z,G;"0th"in w?F=w["0th"]:F={},"Exif"in w&&Object.keys(w.Exif).length||"Interop"in w&&Object.keys(w.Interop).length?(F[34665]=1,P=!0,R=w.Exif,"Interop"in w&&Object.keys(w.Interop).length?(R[40965]=1,V=!0,K=w.Interop):Object.keys(R).indexOf(n.ExifIFD.InteroperabilityTag.toString())>-1&&delete R[40965]):Object.keys(F).indexOf(n.ImageIFD.ExifTag.toString())>-1&&delete F[34665],"GPS"in w&&Object.keys(w.GPS).length?(F[n.ImageIFD.GPSTag]=1,O=!0,Z=w.GPS):Object.keys(F).indexOf(n.ImageIFD.GPSTag.toString())>-1&&delete F[n.ImageIFD.GPSTag],"1st"in w&&"thumbnail"in w&&w.thumbnail!=null&&(N=!0,w["1st"][513]=1,w["1st"][514]=1,G=w["1st"]);var q=f(F,"0th",0),Q=q[0].length+P*12+O*12+4+q[1].length,ue,j="",te=0,fe,J="",re=0,ae,de="",pe=0,ve,$e="",Pe;if(P&&(ue=f(R,"Exif",Q),te=ue[0].length+V*12+ue[1].length),O&&(fe=f(Z,"GPS",Q+te),J=fe.join(""),re=J.length),V){var Ye=Q+te+re;ae=f(K,"Interop",Ye),de=ae.join(""),pe=de.length}if(N){var Ye=Q+te+re+pe;if(ve=f(G,"1st",Ye),Pe=i(w.thumbnail),Pe.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}var Oe="",L="",Ue="",be="\0\0\0\0";if(P){var ce=W+Q,se=g(">L",[ce]),me=34665,Ne=g(">H",[me]),ke=g(">H",[E.Long]),ge=g(">L",[1]);Oe=Ne+ke+ge+se}if(O){var ce=W+Q+te,se=g(">L",[ce]),me=34853,Ne=g(">H",[me]),ke=g(">H",[E.Long]),ge=g(">L",[1]);L=Ne+ke+ge+se}if(V){var ce=W+Q+te+re,se=g(">L",[ce]),me=40965,Ne=g(">H",[me]),ke=g(">H",[E.Long]),ge=g(">L",[1]);Ue=Ne+ke+ge+se}if(N){var ce=W+Q+te+re+pe;be=g(">L",[ce]);var We=ce+ve[0].length+24+4+ve[1].length,et="\0\0\0\0"+g(">L",[We]),ze="\0\0\0\0"+g(">L",[Pe.length]);$e=ve[0]+et+ze+"\0\0\0\0"+ve[1]+Pe}var nt=q[0]+Oe+L+be+q[1];return P&&(j=ue[0]+Ue+ue[1]),I+nt+j+J+de+$e};function r(U){return JSON.parse(JSON.stringify(U))}function i(U){for(var W=S(U);""<=W[1].slice(0,2)&&W[1].slice(0,2)<="";)W=[W[0]].concat(W.slice(2));return W.join("")}function a(U){return g(">"+v("B",U.length),U)}function o(U){return g(">"+v("H",U.length),U)}function l(U){return g(">"+v("L",U.length),U)}function u(U,W,w){var I="",P="",O,V,N,F;if(W=="Byte")O=U.length,O<=4?P=a(U)+v("\0",4-O):(P=g(">L",[w]),I=a(U));else if(W=="Short")O=U.length,O<=2?P=o(U)+v("\0\0",2-O):(P=g(">L",[w]),I=o(U));else if(W=="Long")O=U.length,O<=1?P=l(U):(P=g(">L",[w]),I=l(U));else if(W=="Ascii")V=U+"\0",O=V.length,O>4?(P=g(">L",[w]),I=V):P=V+v("\0",4-O);else if(W=="Rational"){if(typeof U[0]=="number")O=1,N=U[0],F=U[1],V=g(">L",[N])+g(">L",[F]);else{O=U.length,V="";for(var R=0;R<O;R++)N=U[R][0],F=U[R][1],V+=g(">L",[N])+g(">L",[F])}P=g(">L",[w]),I=V}else if(W=="SRational"){if(typeof U[0]=="number")O=1,N=U[0],F=U[1],V=g(">l",[N])+g(">l",[F]);else{O=U.length,V="";for(var R=0;R<O;R++)N=U[R][0],F=U[R][1],V+=g(">l",[N])+g(">l",[F])}P=g(">L",[w]),I=V}else W=="Undefined"&&(O=U.length,O>4?(P=g(">L",[w]),I=U):P=U+v("\0",4-O));var K=g(">L",[O]);return[K,P,I]}function f(U,W,w){var I=8,P=Object.keys(U).length,O=g(">H",[P]),V;["0th","1st"].indexOf(W)>-1?V=2+P*12+4:V=2+P*12;var N="",F="",R;for(var R in U)if(typeof R=="string"&&(R=parseInt(R)),!(W=="0th"&&[34665,34853].indexOf(R)>-1)){{if(W=="Exif"&&R==40965)continue;if(W=="1st"&&[513,514].indexOf(R)>-1)continue}var K=U[R],Z=g(">H",[R]),G=M[W][R].type,q=g(">H",[E[G]]);typeof K=="number"&&(K=[K]);var Q=I+V+w+F.length,ue=u(K,G,Q),j=ue[0],te=ue[1],fe=ue[2];N+=Z+q+j+te,F+=fe}return[O+N,F]}function p(U){var W,w;if(U.slice(0,2)=="")W=S(U),w=b(W),w?this.tiftag=w.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(U.slice(0,2))>-1)this.tiftag=U;else if(U.slice(0,4)=="Exif")this.tiftag=U.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}if(p.prototype={get_ifd:function(U,W){var w={},I=_(this.endian_mark+"H",this.tiftag.slice(U,U+2))[0],P=U+2,O;["0th","1st"].indexOf(W)>-1?O="Image":O=W;for(var V=0;V<I;V++){U=P+12*V;var N=_(this.endian_mark+"H",this.tiftag.slice(U,U+2))[0],F=_(this.endian_mark+"H",this.tiftag.slice(U+2,U+4))[0],R=_(this.endian_mark+"L",this.tiftag.slice(U+4,U+8))[0],K=this.tiftag.slice(U+8,U+12),Z=[F,R,K];N in M[O]&&(w[N]=this.convert_value(Z))}return W=="0th"&&(U=P+12*I,w.first_ifd_pointer=this.tiftag.slice(U,U+4)),w},convert_value:function(U){var W=null,w=U[0],I=U[1],P=U[2],O;if(w==1)I>4?(O=_(this.endian_mark+"L",P)[0],W=_(this.endian_mark+v("B",I),this.tiftag.slice(O,O+I))):W=_(this.endian_mark+v("B",I),P.slice(0,I));else if(w==2)I>4?(O=_(this.endian_mark+"L",P)[0],W=this.tiftag.slice(O,O+I-1)):W=P.slice(0,I-1);else if(w==3)I>2?(O=_(this.endian_mark+"L",P)[0],W=_(this.endian_mark+v("H",I),this.tiftag.slice(O,O+I*2))):W=_(this.endian_mark+v("H",I),P.slice(0,I*2));else if(w==4)I>1?(O=_(this.endian_mark+"L",P)[0],W=_(this.endian_mark+v("L",I),this.tiftag.slice(O,O+I*4))):W=_(this.endian_mark+v("L",I),P);else if(w==5)if(O=_(this.endian_mark+"L",P)[0],I>1){W=[];for(var V=0;V<I;V++)W.push([_(this.endian_mark+"L",this.tiftag.slice(O+V*8,O+4+V*8))[0],_(this.endian_mark+"L",this.tiftag.slice(O+4+V*8,O+8+V*8))[0]])}else W=[_(this.endian_mark+"L",this.tiftag.slice(O,O+4))[0],_(this.endian_mark+"L",this.tiftag.slice(O+4,O+8))[0]];else if(w==7)I>4?(O=_(this.endian_mark+"L",P)[0],W=this.tiftag.slice(O,O+I)):W=P.slice(0,I);else if(w==9)I>1?(O=_(this.endian_mark+"L",P)[0],W=_(this.endian_mark+v("l",I),this.tiftag.slice(O,O+I*4))):W=_(this.endian_mark+v("l",I),P);else if(w==10)if(O=_(this.endian_mark+"L",P)[0],I>1){W=[];for(var V=0;V<I;V++)W.push([_(this.endian_mark+"l",this.tiftag.slice(O+V*8,O+4+V*8))[0],_(this.endian_mark+"l",this.tiftag.slice(O+4+V*8,O+8+V*8))[0]])}else W=[_(this.endian_mark+"l",this.tiftag.slice(O,O+4))[0],_(this.endian_mark+"l",this.tiftag.slice(O+4,O+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+w);return W instanceof Array&&W.length==1?W[0]:W}},typeof window<"u"&&typeof window.btoa=="function")var h=window.btoa;if(typeof h>"u")var h=function(W){for(var w="",I,P,O,V,N,F,R,K=0,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";K<W.length;)I=W.charCodeAt(K++),P=W.charCodeAt(K++),O=W.charCodeAt(K++),V=I>>2,N=(I&3)<<4|P>>4,F=(P&15)<<2|O>>6,R=O&63,isNaN(P)?F=R=64:isNaN(O)&&(R=64),w=w+Z.charAt(V)+Z.charAt(N)+Z.charAt(F)+Z.charAt(R);return w};if(typeof window<"u"&&typeof window.atob=="function")var m=window.atob;if(typeof m>"u")var m=function(W){var w="",I,P,O,V,N,F,R,K=0,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(W=W.replace(/[^A-Za-z0-9\+\/\=]/g,"");K<W.length;)V=Z.indexOf(W.charAt(K++)),N=Z.indexOf(W.charAt(K++)),F=Z.indexOf(W.charAt(K++)),R=Z.indexOf(W.charAt(K++)),I=V<<2|N>>4,P=(N&15)<<4|F>>2,O=(F&3)<<6|R,w=w+String.fromCharCode(I),F!=64&&(w=w+String.fromCharCode(P)),R!=64&&(w=w+String.fromCharCode(O));return w};function g(U,W){if(!(W instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(U.length-1!=W.length)throw new Error("'pack' error. "+(U.length-1)+" marks, "+W.length+" elements.");var w;if(U[0]=="<")w=!0;else if(U[0]==">")w=!1;else throw new Error("");for(var I="",P=1,O=null,V=null,N=null;V=U[P];){if(V.toLowerCase()=="b"){if(O=W[P-1],V=="b"&&O<0&&(O+=256),O>255||O<0)throw new Error("'pack' error.");N=String.fromCharCode(O)}else if(V=="H"){if(O=W[P-1],O>65535||O<0)throw new Error("'pack' error.");N=String.fromCharCode(Math.floor(O%65536/256))+String.fromCharCode(O%256),w&&(N=N.split("").reverse().join(""))}else if(V.toLowerCase()=="l"){if(O=W[P-1],V=="l"&&O<0&&(O+=4294967296),O>4294967295||O<0)throw new Error("'pack' error.");N=String.fromCharCode(Math.floor(O/16777216))+String.fromCharCode(Math.floor(O%16777216/65536))+String.fromCharCode(Math.floor(O%65536/256))+String.fromCharCode(O%256),w&&(N=N.split("").reverse().join(""))}else throw new Error("'pack' error.");I+=N,P+=1}return I}function _(U,W){if(typeof W!="string")throw new Error("'unpack' error. Got invalid type argument.");for(var w=0,I=1;I<U.length;I++)if(U[I].toLowerCase()=="b")w+=1;else if(U[I].toLowerCase()=="h")w+=2;else if(U[I].toLowerCase()=="l")w+=4;else throw new Error("'unpack' error. Got invalid mark.");if(w!=W.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+w+":"+W.length);var P;if(U[0]=="<")P=!0;else if(U[0]==">")P=!1;else throw new Error("'unpack' error.");for(var O=[],V=0,N=1,F=null,R=null,K=null,Z="";R=U[N];){if(R.toLowerCase()=="b")K=1,Z=W.slice(V,V+K),F=Z.charCodeAt(0),R=="b"&&F>=128&&(F-=256);else if(R=="H")K=2,Z=W.slice(V,V+K),P&&(Z=Z.split("").reverse().join("")),F=Z.charCodeAt(0)*256+Z.charCodeAt(1);else if(R.toLowerCase()=="l")K=4,Z=W.slice(V,V+K),P&&(Z=Z.split("").reverse().join("")),F=Z.charCodeAt(0)*16777216+Z.charCodeAt(1)*65536+Z.charCodeAt(2)*256+Z.charCodeAt(3),R=="l"&&F>=2147483648&&(F-=4294967296);else throw new Error("'unpack' error. "+R);O.push(F),V+=K,N+=1}return O}function v(U,W){for(var w="",I=0;I<W;I++)w+=U;return w}function S(U){if(U.slice(0,2)!="")throw new Error("Given data isn't JPEG.");for(var W=2,w=[""];;){if(U.slice(W,W+2)==""){w.push(U.slice(W));break}else{var I=_(">H",U.slice(W+2,W+4))[0],P=W+I+2;w.push(U.slice(W,P)),W=P}if(W>=U.length)throw new Error("Wrong JPEG data.")}return w}function b(U){for(var W,w=0;w<U.length;w++)if(W=U[w],W.slice(0,2)==""&&W.slice(4,10)=="Exif\0\0")return W;return null}function Y(U,W){var w=!1,I=[];return U.forEach(function(P,O){P.slice(0,2)==""&&P.slice(4,10)=="Exif\0\0"&&(w?I.unshift(O):(U[O]=W,w=!0))}),I.forEach(function(P){U.splice(P,1)}),!w&&W&&(U=[U[0],W].concat(U.slice(1))),U.join("")}var E={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},M={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};M["0th"]=M.Image,M["1st"]=M.Image,n.TAGS=M,n.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},n.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},n.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},n.InteropIFD={InteroperabilityIndex:1},n.GPSHelper={degToDmsRational:function(U){var W=Math.abs(U),w=W%1*60,I=w%1*60,P=Math.floor(W),O=Math.floor(w),V=Math.round(I*100);return[[P,1],[O,1],[V,100]]},dmsRationalToDeg:function(U,W){var w=W==="S"||W==="W"?-1:1,I=U[0][0]/U[0][1]+U[1][0]/U[1][1]/60+U[2][0]/U[2][1]/3600;return I*w}},t.exports&&(e=t.exports=n),e.piexif=n})()})(iv,iv.exports)),iv.exports}var GJ=HJ();const ti=Co(GJ);function Ug(t){if(!t)return null;try{if(t.startsWith("1970-01-01")||t.startsWith("1970:01:01"))return null;let e=t.trim();e.endsWith("Z")&&(e=e.slice(0,-1)+"+00:00");const n=/^(\d{4}):(\d{2}):(\d{2})\s+(\d{2}):(\d{2}):(\d{2})(.*)$/.exec(e);if(n){const[,a,o,l,u,f,p,h]=n;e=`${a}-${o}-${l}T${u}:${f}:${p}${h||""}`}const r=new Date(e);if(!isNaN(r.getTime()))return r;const i=/^(\d{4})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2}):(\d{2})/.exec(e);if(i){const[,a,o,l,u,f,p]=i;return new Date(parseInt(a),parseInt(o)-1,parseInt(l),parseInt(u),parseInt(f),parseInt(p))}return null}catch{return null}}function a5(t){const e=t.DateTimeOriginal?.description||t.DateTimeOriginal?.value;if(e){const o=Ug(e);if(o)return o}const n=t["xmp:CreateDate"]?.description||t.CreateDate?.description||t["xmp:CreateDate"]?.value;if(n){const o=Ug(n);if(o)return o}const r=t["xmp:ModifyDate"]?.description||t.ModifyDate?.description||t["xmp:ModifyDate"]?.value;if(r){const o=Ug(r);if(o)return o}const i=t["drone-dji:UTCAtExposure"]?.description||t.UTCAtExposure?.description||t["drone-dji:UTCAtExposure"]?.value;if(i){const o=Ug(i);if(o)return o}const a=t.DateTime?.description||t.DateTime?.value;if(a){const o=Ug(a);if(o)return o}return null}const qJ=[64*1024,128*1024];async function Dx(t){for(const e of qJ)try{const r=await t.slice(0,e).arrayBuffer(),i=await HY.load(r),a=a5(i),o=o5(i)??!1;if(a)return{timestamp:a,isPanorama:o}}catch{}try{const e=await t.arrayBuffer(),n=await HY.load(e);return{timestamp:a5(n),isPanorama:o5(n)??!1}}catch(e){return console.warn("Failed to extract metadata from image:",e),{timestamp:null,isPanorama:!1}}}function o5(t){if((t.ProjectionType?.description||t.ProjectionType?.value||t["GPano:ProjectionType"]?.description||t["GPano:ProjectionType"]?.value)?.toLowerCase()==="equirectangular"||(t.UsePanoramaViewer?.description||t.UsePanoramaViewer?.value||t["GPano:UsePanoramaViewer"]?.description||t["GPano:UsePanoramaViewer"]?.value)?.toLowerCase()==="true")return!0;const r=t["Image Width"]?.value||t["Exif Image Width"]?.value||t.ImageWidth?.value,i=t["Image Height"]?.value||t["Exif Image Height"]?.value||t.ImageHeight?.value;if(r&&i){const a=typeof r=="number"?r:parseInt(r),o=typeof i=="number"?i:parseInt(i),l=a/o;if(l>=1.9&&l<=2.1&&o>=7e3)return!0}return null}function QJ(t){return/^[0-9A-HJ-NP-TV-Z]{16}-.+\.ann\.(?:jpe?g|tiff?)$/i.test(t)}function JJ(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}async function eee(t){try{const e=await t.arrayBuffer(),r=`data:image/jpeg;base64,${JJ(e)}`,i=ti.load(r);if(!i.Exif)return null;const a=i.Exif[ti.ExifIFD.UserComment];if(!a)return null;let o;if(typeof a=="string")o=a;else if(Array.isArray(a))o=new TextDecoder().decode(new Uint8Array(a));else return null;const l=o.indexOf("{");if(l===-1)return null;o=o.slice(l);const u=JSON.parse(o);return typeof u._version!="number"||!u.bookmark?.id||!u.bookmark?.name||!u.bookmark?.bbox||!u.source?.fileId?(console.warn("Invalid bookmark metadata structure:",u),null):u}catch(e){return console.warn("Failed to extract bookmark metadata:",e),null}}class mR{constructor(e=!1){this.evenNumbersAreThermal=e}mediaChannels=[];extractedAnnotations=[];unparseableFiles=[];async parse(e,n){const r=/PANORAMA\/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_(\d+)\//i.exec(e);if(r){const f=this.getExtension(e).toLowerCase();if(![".jpg",".jpeg",".tif",".tiff"].includes(f))return null;if(n){const p=await Dx(n);if(p.timestamp){const h=r[7];return{path:e,timestamp:p.timestamp,sourceId:`PANO_${h}`,fileType:"image"}}}return null}const i=this.getExtension(e).toLowerCase();let a;if([".mp4",".mov"].includes(i))a="video";else if([".srt"].includes(i))a="video";else if([".jpg",".jpeg",".tif",".tiff"].includes(i))a="image";else return null;const o=this.getBaseName(e).toLowerCase();let l=null;if(this.evenNumbersAreThermal){const f=/dji_(\d{4})\.(mp4|mov|jpg|jpeg|tif|tiff)/.exec(o);if(f){if(l=parseInt(f[1],10)%2===0?"T":"V",a==="image"&&n){const h=await Dx(n);if(h.timestamp)return{path:e,timestamp:h.timestamp,sourceId:l,fileType:a}}return{path:e,timestamp:null,sourceId:l,fileType:a}}}if(a==="image"){if(n){const p=await Dx(n);if(p.timestamp){if(p.isPanorama)return{path:e,timestamp:p.timestamp,sourceId:"PANO_360",fileType:a};const h=this.parseImagePathForSourceId(o);return{path:e,timestamp:p.timestamp,sourceId:h.sourceId,fileType:a}}}const f=this.parseImagePath(o);return f?.timestamp?{path:e,...f}:{path:e,timestamp:null,sourceId:f?.sourceId??null,fileType:a}}const u=this.parseVideoPath(o);return u?.timestamp?{path:e,...u}:{path:e,timestamp:null,sourceId:null,fileType:a}}parseVideoPath(e){let n=/dji_(\d{14})_\d{4}_([a-z])\.(?:mp4|mov|srt)/.exec(e);if(n){const r=this.parseTimestamp14(n[1]),i=this.parseSourceId(n[2]);return{timestamp:r,sourceId:i,fileType:"video"}}return n=/dji_(\d{14})_\d{4}\.(?:mp4|mov|srt)/.exec(e),n?{timestamp:this.parseTimestamp14(n[1]),sourceId:null,fileType:"video"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}\.(?:mp4|mov|srt)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"video"}:null)}parseImagePath(e){let n=/(max|irx)_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e);if(n)return null;if(n=/dji_(\d{14})_\d{4}_([a-z]+)\.(?:jpg|jpeg|tif|tiff)/.exec(e),n){const r=this.parseTimestamp14(n[1]),i=this.parseSourceId(n[2]);return{timestamp:r,sourceId:i,fileType:"image"}}return n=/dji_(\d{14})_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:this.parseTimestamp14(n[1]),sourceId:null,fileType:"image"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"image"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}(?:_\d+)?\.ann\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"image"}:null))}parseImagePathForSourceId(e){let n=/(max|irx)_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e);return n?{sourceId:n[1]==="max"?"V":"T"}:(n=/dji_(?:\d{14}_)?\d{4}_([a-z]+)\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{sourceId:this.parseSourceId(n[1])}:{sourceId:null})}parseTimestamp14(e){return new Date(parseInt(e.substring(0,4)),parseInt(e.substring(4,6))-1,parseInt(e.substring(6,8)),parseInt(e.substring(8,10)),parseInt(e.substring(10,12)),parseInt(e.substring(12,14)))}parseSourceId(e){switch(e.toLowerCase()){case"t":return"T";case"v":return"V";case"w":return"W";case"s":return"S";case"z":return"Z";case"pano":return"PANO";default:return null}}canAcceptInChannel(e,n){if(e.sourceId!==n.sourceId||e.fileType!==n.fileType||!n.timestamp||!e.startTime||!e.endTime)return!1;const r=Math.abs(n.timestamp.getTime()-e.startTime.getTime()),i=Math.abs(n.timestamp.getTime()-e.endTime.getTime()),a=60*1e3;return r<a||i<a}addFileToChannel(e,n){if(!n.timestamp){e.filePaths.push(n.path);return}let r=0,i=e.timestamps.length;for(;r<i;){const a=Math.floor((r+i)/2);e.timestamps[a].getTime()<n.timestamp.getTime()?r=a+1:i=a}e.filePaths.splice(r,0,n.path),e.timestamps.splice(r,0,n.timestamp),(!e.startTime||n.timestamp<e.startTime)&&(e.startTime=n.timestamp),(!e.endTime||n.timestamp>e.endTime)&&(e.endTime=n.timestamp)}async addFiles(e,n){const r=[],i=[],a=[];for(const u of e){const f=u.split("/").pop()||"";QJ(f)?a.push(u):i.push(u)}if(a.length>0){const u=a.map(async p=>{const h=n?.get(p);if(!h)return null;const m=await eee(h);return m?{annotationFilePath:p,metadata:m}:null}),f=await Promise.all(u);for(const p of f)p&&(this.extractedAnnotations.push(p),`${p.metadata.bookmark.name}${p.annotationFilePath}`)}const o=i.map(async u=>{const f=n?.get(u),p=await this.parse(u,f);return{filePath:u,result:p}}),l=await Promise.all(o);for(const{filePath:u,result:f}of l)if(f)r.push(f);else{const p=u.split("/").pop()||u;this.unparseableFiles.push({path:u,reason:`Could not extract timestamp from "${p}". The file may be missing EXIF metadata or have an unsupported filename format.`})}r.sort((u,f)=>!u.timestamp&&!f.timestamp?0:u.timestamp?f.timestamp?u.timestamp.getTime()-f.timestamp.getTime():-1:1);for(const u of r){let f=null;for(const p of this.mediaChannels)if(this.canAcceptInChannel(p,u)){f=p;break}f||(f={channelId:Lu("CH"),sourceId:u.sourceId,fileType:u.fileType,startTime:u.timestamp,endTime:u.timestamp,filePaths:[],timestamps:[]},this.mediaChannels.push(f)),this.addFileToChannel(f,u)}}getChannels(){return[...this.mediaChannels]}getExtractedAnnotations(){return[...this.extractedAnnotations]}getUnparseableFiles(){return[...this.unparseableFiles]}reset(){this.mediaChannels=[],this.extractedAnnotations=[],this.unparseableFiles=[]}getBaseName(e){return e.split("/").pop()||e}getExtension(e){const n=this.getBaseName(e),r=n.lastIndexOf(".");return r===-1?"":n.substring(r)}}function tee(t){if(t==="PANO_360")return"panorama";if(t?.startsWith("PANO_")||t==="PANO")return"visual";switch(t){case"V":return"visual";case"T":return"thermal";case"S":return"screen";case"W":return"wide";case"Z":return"zoom";default:return"unknown"}}var nee=Object.defineProperty,gR=(t,e)=>{for(var n in e)nee(t,n,{get:e[n],enumerable:!0})},Bx=Math.pow(2,32),ci=Math.pow(2,32)-1,ree=1,iee=2,see=4,Rv=1,Xv=2,Pv=8,Mv=16,Nv=32,l5=131072,$g=1,Ov=4,jg=256,Kg=512,Hg=1024,Gg=2048,yR=-1,fl=0,ws=1,pl=class vR extends ArrayBuffer{constructor(e){super(e),this.fileStart=0,this.usedBytes=0}static fromArrayBuffer(e,n){const r=new vR(e.byteLength);return new Uint8Array(r).set(new Uint8Array(e)),r.fileStart=n,r}},v1,GY,In,ys=(In=class{constructor(e,n,r){Sb(this,v1);this._byteLength=0,this.failurePosition=0,this._dynamicSize=1,this._byteOffset=n||0,e instanceof ArrayBuffer?this.buffer=pl.fromArrayBuffer(e,0):e instanceof DataView?(this.dataView=e,n&&(this._byteOffset+=n)):this.buffer=new pl(e||0),this.position=0,this.endianness=r||1}getPosition(){return this.position}_realloc(e){if(!this._dynamicSize)return;const n=this._byteOffset+this.position+e;let r=this._buffer.byteLength;if(n<=r){n>this._byteLength&&(this._byteLength=n);return}for(r<1&&(r=1);n>r;)r*=2;const i=new pl(r),a=new Uint8Array(this._buffer);new Uint8Array(i,0,a.length).set(a),this.buffer=i,this._byteLength=n}_trimAlloc(){if(this._byteLength===this._buffer.byteLength)return;const e=new pl(this._byteLength),n=new Uint8Array(e),r=new Uint8Array(this._buffer,0,n.length);n.set(r),this.buffer=e}get byteLength(){return this._byteLength-this._byteOffset}get buffer(){return this._trimAlloc(),this._buffer}set buffer(e){this._buffer=e,this._dataView=new DataView(e,this._byteOffset),this._byteLength=e.byteLength}get byteOffset(){return this._byteOffset}set byteOffset(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}get dataView(){return this._dataView}set dataView(e){this._byteOffset=e.byteOffset,this._buffer=pl.fromArrayBuffer(e.buffer,0),this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}seek(e){const n=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(n)||!isFinite(n)?0:n}isEof(){return this.position>=this._byteLength}mapUint8Array(e){this._realloc(e*1);const n=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,n}readInt32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Int32Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt16Array(e,n){e=e===void 0?this.byteLength-this.position/2:e;const r=new Int16Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt8Array(e){e=e===void 0?this.byteLength-this.position:e;const n=new Int8Array(e);return In.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n}readUint32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Uint32Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readUint16Array(e,n){e=e===void 0?this.byteLength-this.position/2:e;const r=new Uint16Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readUint8Array(e){e=e===void 0?this.byteLength-this.position:e;const n=new Uint8Array(e);return In.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n}readFloat64Array(e,n){e=e===void 0?this.byteLength-this.position/8:e;const r=new Float64Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readFloat32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Float32Array(e);return In.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),In.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt32(e){const n=this._dataView.getInt32(this.position,(e??this.endianness)===2);return this.position+=4,n}readInt16(e){const n=this._dataView.getInt16(this.position,(e??this.endianness)===2);return this.position+=2,n}readInt8(){const e=this._dataView.getInt8(this.position);return this.position+=1,e}readUint32(e){const n=this._dataView.getUint32(this.position,(e??this.endianness)===2);return this.position+=4,n}readUint16(e){const n=this._dataView.getUint16(this.position,(e??this.endianness)===2);return this.position+=2,n}readUint8(){const e=this._dataView.getUint8(this.position);return this.position+=1,e}readFloat32(e){const n=this._dataView.getFloat32(this.position,(e??this.endianness)===2);return this.position+=4,n}readFloat64(e){const n=this._dataView.getFloat64(this.position,(e??this.endianness)===2);return this.position+=8,n}static memcpy(e,n,r,i,a){const o=new Uint8Array(e,n,a),l=new Uint8Array(r,i,a);o.set(l)}static arrayToNative(e,n){return n===In.ENDIANNESS?e:this.flipArrayEndianness(e)}static nativeToEndian(e,n){return n&&In.ENDIANNESS===2?e:this.flipArrayEndianness(e)}static flipArrayEndianness(e){const n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(let r=0;r<e.byteLength;r+=e.BYTES_PER_ELEMENT)for(let i=r+e.BYTES_PER_ELEMENT-1,a=r;i>a;i--,a++){const o=n[a];n[a]=n[i],n[i]=o}return e}readString(e,n){return n===void 0||n==="ASCII"?c5(this.mapUint8Array(e===void 0?this.byteLength-this.position:e)):new TextDecoder(n).decode(this.mapUint8Array(e))}readCString(e){let n=0;const r=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),a=e!==void 0?Math.min(e,r):r;for(;n<a&&i[n]!==0;n++);const o=c5(this.mapUint8Array(n));return e!==void 0?this.position+=a-n:n!==r&&(this.position+=1),o}readInt64(){return this.readInt32()*Bx+this.readUint32()}readUint64(){return this.readUint32()*Bx+this.readUint32()}readUint24(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()}save(e){const n=new Blob([this.buffer]);if(typeof window<"u"&&typeof document<"u")if(window.URL&&URL.createObjectURL){const r=window.URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("href",r),i.setAttribute("download",e),i.setAttribute("target","_self"),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}else throw new Error("DataStream.save: Can't create object URL.");return n}get dynamicSize(){return this._dynamicSize}set dynamicSize(e){e||this._trimAlloc(),this._dynamicSize=e}shift(e){const n=new pl(this._byteLength-e),r=new Uint8Array(n),i=new Uint8Array(this._buffer,e,r.length);r.set(i),this.buffer=n,this.position-=e}writeInt32Array(e,n){if(this._realloc(e.length*4),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeInt32(e[r],n)}writeInt16Array(e,n){if(this._realloc(e.length*2),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeInt16(e[r],n)}writeInt8Array(e){if(this._realloc(e.length*1),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(let n=0;n<e.length;n++)this.writeInt8(e[n])}writeUint32Array(e,n){if(this._realloc(e.length*4),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeUint32(e[r],n)}writeUint16Array(e,n){if(this._realloc(e.length*2),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeUint16(e[r],n)}writeUint8Array(e){if(this._realloc(e.length*1),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(let n=0;n<e.length;n++)this.writeUint8(e[n])}writeFloat64Array(e,n){if(this._realloc(e.length*8),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeFloat64(e[r],n)}writeFloat32Array(e,n){if(this._realloc(e.length*4),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)In.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeFloat32(e[r],n)}writeInt64(e,n){this._realloc(8),this._dataView.setBigInt64(this.position,BigInt(e),(n??this.endianness)===2),this.position+=8}writeInt32(e,n){this._realloc(4),this._dataView.setInt32(this.position,e,(n??this.endianness)===2),this.position+=4}writeInt16(e,n){this._realloc(2),this._dataView.setInt16(this.position,e,(n??this.endianness)===2),this.position+=2}writeInt8(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1}writeUint32(e,n){this._realloc(4),this._dataView.setUint32(this.position,e,(n??this.endianness)===2),this.position+=4}writeUint16(e,n){this._realloc(2),this._dataView.setUint16(this.position,e,(n??this.endianness)===2),this.position+=2}writeUint8(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1}writeFloat32(e,n){this._realloc(4),this._dataView.setFloat32(this.position,e,(n??this.endianness)===2),this.position+=4}writeFloat64(e,n){this._realloc(8),this._dataView.setFloat64(this.position,e,(n??this.endianness)===2),this.position+=8}writeUCS2String(e,n,r){r===void 0&&(r=e.length);let i;for(i=0;i<e.length&&i<r;i++)this.writeUint16(e.charCodeAt(i),n);for(;i<r;i++)this.writeUint16(0)}writeString(e,n,r){let i=0;if(n===void 0||n==="ASCII")if(r!==void 0){const a=Math.min(e.length,r);for(i=0;i<a;i++)this.writeUint8(e.charCodeAt(i));for(;i<r;i++)this.writeUint8(0)}else for(i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));else this.writeUint8Array(new TextEncoder(n).encode(e.substring(0,r)))}writeCString(e,n){let r=0;if(n!==void 0){const i=Math.min(e.length,n);for(r=0;r<i;r++)this.writeUint8(e.charCodeAt(r));for(;r<n;r++)this.writeUint8(0)}else{for(r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));this.writeUint8(0)}}writeStruct(e,n){for(let r=0;r<e.length;r++){const[i,a]=e[r],o=n[i];this.writeType(a,o,n)}}writeType(e,n,r){if(typeof e=="function")return e(this,n);if(typeof e=="object"&&!(e instanceof Array))return e.set(this,n,r);let i,a="ASCII";const o=this.position;let l=e;if(typeof e=="string"&&/:/.test(e)){const u=e.split(":");l=u[0],i=parseInt(u[1])}if(typeof l=="string"&&/,/.test(l)){const u=l.split(",");l=u[0],a=u[1]}switch(l){case"uint8":this.writeUint8(n);break;case"int8":this.writeInt8(n);break;case"uint16":this.writeUint16(n,this.endianness);break;case"int16":this.writeInt16(n,this.endianness);break;case"uint32":this.writeUint32(n,this.endianness);break;case"int32":this.writeInt32(n,this.endianness);break;case"float32":this.writeFloat32(n,this.endianness);break;case"float64":this.writeFloat64(n,this.endianness);break;case"uint16be":this.writeUint16(n,1);break;case"int16be":this.writeInt16(n,1);break;case"uint32be":this.writeUint32(n,1);break;case"int32be":this.writeInt32(n,1);break;case"float32be":this.writeFloat32(n,1);break;case"float64be":this.writeFloat64(n,1);break;case"uint16le":this.writeUint16(n,2);break;case"int16le":this.writeInt16(n,2);break;case"uint32le":this.writeUint32(n,2);break;case"int32le":this.writeInt32(n,2);break;case"float32le":this.writeFloat32(n,2);break;case"float64le":this.writeFloat64(n,2);break;case"cstring":this.writeCString(n,i);break;case"string":this.writeString(n,a,i);break;case"u16string":this.writeUCS2String(n,this.endianness,i);break;case"u16stringle":this.writeUCS2String(n,2,i);break;case"u16stringbe":this.writeUCS2String(n,1,i);break;default:if(bb(this,v1,GY).call(this,l)){const[,u]=l;for(let f=0;f<n.length;f++)this.writeType(u,n[f]);break}else{this.writeStruct(l,n);break}}i&&(this.position=o,this._realloc(i),this.position=o+i)}writeUint64(e){const n=Math.floor(e/Bx);this.writeUint32(n),this.writeUint32(e&4294967295)}writeUint24(e){this.writeUint8((e&16711680)>>16),this.writeUint8((e&65280)>>8),this.writeUint8(e&255)}adjustUint32(e,n){const r=this.position;this.seek(e),this.writeUint32(n),this.seek(r)}readStruct(e){const n={},r=this.position;for(let i=0;i<e.length;i+=1){const a=e[i][1],o=this.readType(a,n);if(!o){this.failurePosition===0&&(this.failurePosition=this.position),this.position=r;return}n[e[i][0]]=o}return n}readUCS2String(e,n){return String.fromCharCode.apply(void 0,this.readUint16Array(e,n))}readType(e,n){if(typeof e=="function")return e(this,n);if(typeof e=="object"&&!(e instanceof Array))return e.get(this,n);if(e instanceof Array&&e.length!==3)return this.readStruct(e);let r,i,a="ASCII";const o=this.position;let l=e;if(typeof l=="string"&&/:/.test(l)){const u=l.split(":");l=u[0],i=parseInt(u[1])}if(typeof l=="string"&&/,/.test(l)){const u=l.split(",");l=u[0],a=u[1]}switch(l){case"uint8":r=this.readUint8();break;case"int8":r=this.readInt8();break;case"uint16":r=this.readUint16(this.endianness);break;case"int16":r=this.readInt16(this.endianness);break;case"uint32":r=this.readUint32(this.endianness);break;case"int32":r=this.readInt32(this.endianness);break;case"float32":r=this.readFloat32(this.endianness);break;case"float64":r=this.readFloat64(this.endianness);break;case"uint16be":r=this.readUint16(1);break;case"int16be":r=this.readInt16(1);break;case"uint32be":r=this.readUint32(1);break;case"int32be":r=this.readInt32(1);break;case"float32be":r=this.readFloat32(1);break;case"float64be":r=this.readFloat64(1);break;case"uint16le":r=this.readUint16(2);break;case"int16le":r=this.readInt16(2);break;case"uint32le":r=this.readUint32(2);break;case"int32le":r=this.readInt32(2);break;case"float32le":r=this.readFloat32(2);break;case"float64le":r=this.readFloat64(2);break;case"cstring":r=this.readCString(i);break;case"string":r=this.readString(i,a);break;case"u16string":r=this.readUCS2String(i,this.endianness);break;case"u16stringle":r=this.readUCS2String(i,2);break;case"u16stringbe":r=this.readUCS2String(i,1);break;default:if(bb(this,v1,GY).call(this,l)){const[,u,f]=l,p=typeof f=="function"?f(n,this,l):typeof f=="string"&&n[f]!==void 0?parseInt(n[f]):typeof f=="number"?f:f==="*"?void 0:parseInt(f);if(typeof u=="string"){const h=u.replace(/(le|be)$/,"");let m;switch(/le$/.test(u)?m=2:/be$/.test(u)&&(m=1),h){case"uint8":r=this.readUint8Array(p);break;case"uint16":r=this.readUint16Array(p,m);break;case"uint32":r=this.readUint32Array(p,m);break;case"int8":r=this.readInt8Array(p);break;case"int16":r=this.readInt16Array(p,m);break;case"int32":r=this.readInt32Array(p,m);break;case"float32":r=this.readFloat32Array(p,m);break;case"float64":r=this.readFloat64Array(p,m);break;case"cstring":case"utf16string":case"string":if(p){r=new Array(p);for(let g=0;g<p;g++)r[g]=this.readType(u,n)}else for(r=[];!this.isEof();){const g=this.readType(u,n);if(!g)break;r.push(g)}break}}else if(p){r=new Array(p);for(let h=0;h<p;h++){const m=this.readType(u,n);if(!m)return;r[h]=m}}else for(r=[];;){const h=this.position;try{const m=this.readType(u,n);if(!m){this.position=h;break}r.push(m)}catch{this.position=h;break}}break}}return i&&(this.position=o+i),r}mapInt32Array(e,n){this._realloc(e*4);const r=new Int32Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*4,r}mapInt16Array(e,n){this._realloc(e*2);const r=new Int16Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*2,r}mapInt8Array(e,n){this._realloc(e*1);const r=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,r}mapUint32Array(e,n){this._realloc(e*4);const r=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*4,r}mapUint16Array(e,n){this._realloc(e*2);const r=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*2,r}mapFloat64Array(e,n){this._realloc(e*8);const r=new Float64Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*8,r}mapFloat32Array(e,n){this._realloc(e*4);const r=new Float32Array(this._buffer,this.byteOffset+this.position,e);return In.arrayToNative(r,n??this.endianness),this.position+=e*4,r}},v1=new WeakSet,GY=function(e){return Array.isArray(e)&&e.length===3&&e[0]==="[]"},In.ENDIANNESS=new Int8Array(new Int16Array([1]).buffer)[0]>0?2:1,In);function c5(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n];return String.fromCharCode.apply(void 0,e)}var sv=new Date,Dv=4,u5=3,f5=2,d5=1,vo=Dv,ot={setLogLevel(t){t===this.debug?vo=d5:t===this.info?vo=f5:t===this.warn?vo=u5:(this.error,vo=Dv)},debug(t,e){console.debug===void 0&&(console.debug=console.log),d5>=vo&&(""+ot.getDurationString(new Date().getTime()-sv.getTime(),1e3),""+t)},log(t,e){this.debug(t.msg)},info(t,e){f5>=vo&&(""+ot.getDurationString(new Date().getTime()-sv.getTime(),1e3),""+t)},warn(t,e){u5>=vo&&console.warn("["+ot.getDurationString(new Date().getTime()-sv.getTime(),1e3)+"]","["+t+"]",e)},error(t,e,n){n?.onError?n.onError(t,e):Dv>=vo&&console.error("["+ot.getDurationString(new Date().getTime()-sv.getTime(),1e3)+"]","["+t+"]",e)},getDurationString(t,e){let n;function r(f,p){const m=(""+f).split(".");for(;m[0].length<p;)m[0]="0"+m[0];return m.join(".")}t<0?(n=!0,t=-t):n=!1;let a=t/(e||1);const o=Math.floor(a/3600);a-=o*3600;const l=Math.floor(a/60);a-=l*60;let u=a*1e3;return a=Math.floor(a),u-=a*1e3,u=Math.floor(u),(n?"-":"")+o+":"+r(l,2)+":"+r(a,2)+"."+r(u,3)},printRanges(t){const e=t.length;if(e>0){let n="";for(let r=0;r<e;r++)r>0&&(n+=","),n+="["+ot.getDurationString(t.start(r))+","+ot.getDurationString(t.end(r))+"]";return n}else return"(empty)"}};function aee(t,e){ot.debug("ArrayBuffer","Trying to create a new buffer of size: "+(t.byteLength+e.byteLength));const n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n.buffer}var Bv=class extends ys{constructor(t){super(new ArrayBuffer,0),this.buffers=[],this.bufferIndex=-1,t&&(this.insertBuffer(t),this.bufferIndex=0)}initialized(){if(this.bufferIndex>-1)return!0;if(this.buffers.length>0){const t=this.buffers[0];return t.fileStart===0?(this.buffer=t,this.bufferIndex=0,ot.debug("MultiBufferStream","Stream ready for parsing"),!0):(ot.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)}else return ot.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1}reduceBuffer(t,e,n){const r=new Uint8Array(n);return r.set(new Uint8Array(t,e,n)),r.buffer.fileStart=t.fileStart+e,r.buffer.usedBytes=0,r.buffer}insertBuffer(t){let e=!0,n=0;for(;n<this.buffers.length;n++){const r=this.buffers[n];if(t.fileStart<=r.fileStart){if(t.fileStart===r.fileStart)if(t.byteLength>r.byteLength){this.buffers.splice(n,1),n--;continue}else ot.warn("MultiBufferStream","Buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+") already appended, ignoring");else t.fileStart+t.byteLength<=r.fileStart||(t=this.reduceBuffer(t,0,r.fileStart-t.fileStart)),ot.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.splice(n,0,t),n===0&&(this.buffer=t);e=!1;break}else if(t.fileStart<r.fileStart+r.byteLength){const i=r.fileStart+r.byteLength-t.fileStart,a=t.byteLength-i;if(a>0)t=this.reduceBuffer(t,i,a);else{e=!1;break}}}e&&(ot.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.push(t),n===0&&(this.buffer=t))}logBufferLevel(t){const e=[];let n="",r,i=0,a=0;for(let l=0;l<this.buffers.length;l++){const u=this.buffers[l];l===0?(r={start:u.fileStart,end:u.fileStart+u.byteLength},e.push(r),n+="["+r.start+"-"):r.end===u.fileStart?r.end=u.fileStart+u.byteLength:(r={start:u.fileStart,end:u.fileStart+u.byteLength},n+=e[e.length-1].end-1+"], ["+r.start+"-",e.push(r)),i+=u.usedBytes,a+=u.byteLength}e.length>0&&(n+=r.end-1+"]");const o=t?ot.info:ot.debug;this.buffers.length===0?o("MultiBufferStream","No more buffer in memory"):o("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+i+"/"+a+" bytes), continuous ranges: "+n)}cleanBuffers(){for(let t=0;t<this.buffers.length;t++){const e=this.buffers[t];e.usedBytes===e.byteLength&&(ot.debug("MultiBufferStream","Removing buffer #"+t),this.buffers.splice(t,1),t--)}}mergeNextBuffer(){if(this.bufferIndex+1<this.buffers.length){const t=this.buffers[this.bufferIndex+1];if(t.fileStart===this.buffer.fileStart+this.buffer.byteLength){const e=this.buffer.byteLength,n=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=aee(this.buffer,t),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=n,this.buffer.fileStart=r,ot.debug("ISOFile","Concatenating buffer for box parsing (length: "+e+"->"+this.buffer.byteLength+")"),!0}else return!1}else return!1}findPosition(t,e,n){let r=-1,i=t===!0?0:this.bufferIndex;for(;i<this.buffers.length;){const o=this.buffers[i];if(o&&o.fileStart<=e)r=i,n&&(o.fileStart+o.byteLength<=e?o.usedBytes=o.byteLength:o.usedBytes=e-o.fileStart,this.logBufferLevel());else break;i++}if(r===-1)return-1;const a=this.buffers[r];return a.fileStart+a.byteLength>=e?(ot.debug("MultiBufferStream","Found position in existing buffer #"+r),r):-1}findEndContiguousBuf(t){const e=t!==void 0?t:this.bufferIndex;let n=this.buffers[e];if(this.buffers.length>e+1)for(let r=e+1;r<this.buffers.length;r++){const i=this.buffers[r];if(i.fileStart===n.fileStart+n.byteLength)n=i;else break}return n.fileStart+n.byteLength}getEndFilePositionAfter(t){const e=this.findPosition(!0,t,!1);return e!==-1?this.findEndContiguousBuf(e):t}addUsedBytes(t){this.buffer.usedBytes+=t,this.logBufferLevel()}setAllUsedBytes(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()}seek(t,e,n){const r=this.findPosition(e,t,n);return r!==-1?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=t-this.buffer.fileStart,ot.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(ot.debug("MultiBufferStream","Position "+t+" not found in buffered data"),!1)}getPosition(){return this.bufferIndex===-1||this.buffers[this.bufferIndex]===void 0?0:this.buffers[this.bufferIndex].fileStart+this.position}getLength(){return this.byteLength}getEndPosition(){return this.bufferIndex===-1||this.buffers[this.bufferIndex]===void 0?0:this.buffers[this.bufferIndex].fileStart+this.byteLength}getAbsoluteEndPosition(){if(this.buffers.length===0)return 0;const t=this.buffers[this.buffers.length-1];return t.fileStart+t.byteLength}},_1,zu,Ot=(zu=class{constructor(e=0){Sb(this,_1);this.size=e}get type(){return this.constructor.fourcc??eE(this,_1)}set type(e){tE(this,_1,e)}addBox(e){return this.boxes||(this.boxes=[]),this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e}set(e,n){return this[e]=n,this}addEntry(e,n){const r=n||"entries";return this[r]||(this[r]=[]),this[r].push(e),this}writeHeader(e,n){if(this.size+=8,(this.size>ci||this.original_size===1)&&(this.size+=8),this.type==="uuid"&&(this.size+=16),ot.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(n||"")),this.original_size===0?e.writeUint32(0):this.size>ci||this.original_size===1?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,void 0,4),this.type==="uuid"){const r=new Uint8Array(16);for(let i=0;i<16;i++)r[i]=parseInt(this.uuid.substring(i*2,i*2+2),16);e.writeUint8Array(r)}(this.size>ci||this.original_size===1)&&(this.sizePosition=e.getPosition(),e.writeUint64(this.size))}write(e){if(this.type==="mdat"){const n=this;if(n.stream){this.size=n.stream.getAbsoluteEndPosition(),this.writeHeader(e);for(const r of n.stream.buffers){const i=new Uint8Array(r);e.writeUint8Array(i)}}else n.data&&(this.size=n.data.length,this.writeHeader(e),e.writeUint8Array(n.data))}else this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data)}printHeader(e){this.size+=8,this.size>ci&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)}print(e){this.printHeader(e)}parse(e){this.type!=="mdat"?this.data=e.readUint8Array(this.size-this.hdr_size):this.size===0?e.seek(e.getEndPosition()):e.seek(this.start+this.size)}parseDataAndRewind(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.seek(this.start+this.hdr_size)}parseLanguage(e){this.language=e.readUint16();const n=[];n[0]=this.language>>10&31,n[1]=this.language>>5&31,n[2]=this.language&31,this.languageString=String.fromCharCode(n[0]+96,n[1]+96,n[2]+96)}computeSize(e){const n=e||new Bv;this.write(n)}isEndOfBox(e){const n=e.getPosition(),r=this.start+this.size;return n===r}},_1=new WeakMap,zu.registryId=Symbol.for("BoxIdentifier"),zu),ht=class extends Ot{constructor(){super(...arguments),this.flags=0,this.version=0}writeHeader(t){this.size+=4,super.writeHeader(t," v="+this.version+" f="+this.flags),t.writeUint8(this.version),t.writeUint24(this.flags)}printHeader(t){this.size+=4,super.printHeader(t),t.log(t.indent+"version:"+this.version),t.log(t.indent+"flags:"+this.flags)}parseDataAndRewind(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,t.seek(this.start+this.hdr_size)}parseFullHeader(t){this.version=t.readUint8(),this.flags=t.readUint24(),this.hdr_size+=4}parse(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)}},$u,ri=($u=class{constructor(e){this.grouping_type=e}write(e){e.writeUint8Array(this.data)}parse(e){ot.warn("BoxParser",`Unknown sample group type: '${this.grouping_type}'`),this.data=e.readUint8Array(this.description_length)}},$u.registryId=Symbol.for("SampleGroupEntryIdentifier"),$u),oee=class extends ht{parse(t){this.parseFullHeader(t),this.track_group_id=t.readUint32()}},lee=class extends Ot{constructor(t,e,n,r,i){super(e),this.box_name=n,this.hdr_size=r,this.start=i,this.type=t}parse(t){this.from_item_ID=t.readUint16();const e=t.readUint16();this.references=[];for(let n=0;n<e;n++)this.references[n]={to_item_ID:t.readUint16()}}},cee=class extends Ot{constructor(t,e,n,r,i){super(e),this.box_name=n,this.hdr_size=r,this.start=i,this.type=t}parse(t){this.from_item_ID=t.readUint32();const e=t.readUint16();this.references=[];for(let n=0;n<e;n++)this.references[n]={to_item_ID:t.readUint32()}}},uee=class extends Ot{constructor(t,e,n,r){super(e),this.hdr_size=n,this.start=r,this.type=t}parse(t){this.track_ids=t.readUint32Array((this.size-this.hdr_size)/4)}write(t){this.size=this.track_ids.length*4,this.writeHeader(t),t.writeUint32Array(this.track_ids)}},qY=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],fee=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"];function dee(t,e){if(t&&!e)return!1;let n;for(n in t)if(!qY.find(r=>r===n)){if(t[n]instanceof Ot||e[n]instanceof Ot)continue;if(typeof t[n]>"u"||typeof e[n]>"u")continue;if(typeof t[n]=="function"||typeof e[n]=="function")continue;if("subBoxNames"in t&&t.subBoxNames.indexOf(n.slice(0,4))>-1||"subBoxNames"in e&&e.subBoxNames.indexOf(n.slice(0,4))>-1)continue;if(n==="data"||n==="start"||n==="size"||n==="creation_time"||n==="modification_time")continue;if(fee.find(r=>r===n))continue;if(t[n]!==e[n])return!1}return!0}function _R(t,e){if(!dee(t,e))return!1;for(let n=0;n<qY.length;n++){const r=qY[n];if(t[r]&&e[r]&&!_R(t[r],e[r]))return!1}return!0}function Uw(t){let e=t;for(;e;){if("registryId"in e)return e.registryId;e=Object.getPrototypeOf(e)}}var hee=t=>{const e=Symbol.for("SampleGroupEntryIdentifier");return Uw(t)===e},pee=t=>{const e=Symbol.for("SampleEntryIdentifier");return Uw(t)===e},mee=t=>{const e=Symbol.for("BoxIdentifier");return Uw(t)===e},rs={uuid:{},sampleEntry:{},sampleGroupEntry:{},box:{}};function gee(t){const e={uuid:{},sampleEntry:{},sampleGroupEntry:{},box:{}};for(const[n,r]of Object.entries(t)){if(hee(r)){const i="grouping_type"in r?r.grouping_type:void 0;if(!i)throw new Error(`SampleGroupEntry class ${n} does not have a valid static grouping_type. Please ensure it is defined correctly.`);if(i in e.sampleGroupEntry)throw new Error(`SampleGroupEntry class ${n} has a grouping_type that is already registered. Please ensure it is unique.`);e.sampleGroupEntry[i]=r;continue}if(pee(r)){const i="fourcc"in r?r.fourcc:void 0;if(!i)throw new Error(`SampleEntry class ${n} does not have a valid static fourcc. Please ensure it is defined correctly.`);if(i in e.sampleEntry)throw new Error(`SampleEntry class ${n} has a fourcc that is already registered. Please ensure it is unique.`);e.sampleEntry[i]=r;continue}if(mee(r)){const i="fourcc"in r?r.fourcc:void 0,a="uuid"in r?r.uuid:void 0;if(i==="uuid"){if(!a)throw new Error(`Box class ${n} has a fourcc of 'uuid' but does not have a valid uuid. Please ensure it is defined correctly.`);if(a in e.uuid)throw new Error(`Box class ${n} has a uuid that is already registered. Please ensure it is unique.`);e.uuid[a]=r;continue}e.box[i]=r;continue}throw new Error(`Box class ${n} does not have a valid static fourcc, uuid, or grouping_type. Please ensure it is defined correctly.`)}return rs.uuid={...e.uuid},rs.sampleEntry={...e.sampleEntry},rs.sampleGroupEntry={...e.sampleGroupEntry},rs.box={...e.box},rs}var T_={};function yee(t){return Object.entries(t).forEach(([e,n])=>T_[e]=n),T_}function vee(t){return kc(t)}function kc(t){let e="";for(let n=0;n<16;n++){const r=t.readUint8().toString(16);e+=r.length===1?"0"+r:r}return e}function Za(t,e,n){let r,i;const a=t.getPosition();let o=0,l;if(t.getEndPosition()-a<8)return ot.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:fl};if(n&&n<8)return ot.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:fl};let u=t.readUint32();const f=t.readString(4);if(f.length!==4||!/^[\x20-\x7E]{4}$/.test(f))return ot.error("BoxParser",`Invalid box type: '${f}'`),{code:yR,start:a,type:f};let p=f;if(ot.debug("BoxParser","Found box of type '"+f+"' and size "+u+" at position "+a),o=8,f==="uuid"){if(t.getEndPosition()-t.getPosition()<16||n-o<16)return t.seek(a),ot.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:fl};l=vee(t),o+=16,p=l}if(u===1){if(t.getEndPosition()-t.getPosition()<8||n&&n-o<8)return t.seek(a),ot.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+f+'" box'),{code:fl};i=u,u=t.readUint64(),o+=8}else if(u===0){if(n)u=n;else if(f!=="mdat")return ot.error("BoxParser","Unlimited box size not supported for type: '"+f+"'"),r=new Ot(u),r.type=f,{code:ws,box:r,size:r.size}}if(u!==0&&u<o)return ot.error("BoxParser","Box of type "+f+" has an invalid size "+u+" (too small to be a box)"),{code:fl,type:f,size:u,hdr_size:o,start:a};if(u!==0&&n&&u>n)return ot.error("BoxParser","Box of type '"+f+"' has a size "+u+" greater than its container size "+n),{code:fl,type:f,size:u,hdr_size:o,start:a};if(u!==0&&a+u>t.getEndPosition())return t.seek(a),ot.info("BoxParser","Not enough data in stream to parse the entire '"+f+"' box"),{code:fl,type:f,size:u,hdr_size:o,start:a,original_size:i};if(e)return{code:ws,type:f,size:u,hdr_size:o,start:a};f in rs.box?r=new rs.box[f](u):f!=="uuid"?(ot.warn("BoxParser",`Unknown box type: '${f}'`),r=new Ot(u),r.type=f,r.has_unparsed_data=!0):l in rs.uuid?r=new rs.uuid[l](u):(ot.warn("BoxParser",`Unknown UUID box type: '${l}'`),r=new Ot(u),r.type=f,r.uuid=l,r.has_unparsed_data=!0),r.original_size=i,r.hdr_size=o,r.start=a,r.write===Ot.prototype.write&&r.type!=="mdat"&&(ot.info("BoxParser","'"+p+"' box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(t)),r.parse(t);const h=t.getPosition()-(r.start+r.size);return h<0?(ot.warn("BoxParser","Parsing of box '"+p+"' did not read the entire indicated box data size (missing "+-h+" bytes), seeking forward"),t.seek(r.start+r.size)):h>0&&r.size!==0&&(ot.error("BoxParser","Parsing of box '"+p+"' read "+h+" more bytes than the indicated box data size, seeking backwards"),t.seek(r.start+r.size)),{code:ws,box:r,size:r.size}}var qn=class extends Ot{write(t){if(this.size=0,this.writeHeader(t),this.boxes)for(let e=0;e<this.boxes.length;e++)this.boxes[e]&&(this.boxes[e].write(t),this.size+=this.boxes[e].size);ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)}print(t){this.printHeader(t);for(let e=0;e<this.boxes.length;e++)if(this.boxes[e]){const n=t.indent;t.indent+=" ",this.boxes[e].print(t),t.indent=n}}parse(t){let e;for(;t.getPosition()<this.start+this.size;)if(e=Za(t,!1,this.size-(t.getPosition()-this.start)),e.code===ws){const n=e.box;if(this.boxes||(this.boxes=[]),this.boxes.push(n),this.subBoxNames&&this.subBoxNames.indexOf(n.type)!==-1){const r=this.subBoxNames[this.subBoxNames.indexOf(n.type)]+"s";this[r]||(this[r]=[]),this[r].push(n)}else{const r=n.type!=="uuid"?n.type:n.uuid;this[r]?ot.warn("ContainerBox",`Box of type ${r} already exists in container box ${this.type}.`):this[r]=n}}else return}},ju,Eo=(ju=class extends qn{constructor(e,n,r){super(e),this.hdr_size=n,this.start=r}isVideo(){return!1}isAudio(){return!1}isSubtitle(){return!1}isMetadata(){return!1}isHint(){return!1}getCodec(){return this.type.replace(".","")}getWidth(){return""}getHeight(){return""}getChannelCount(){return""}getSampleRate(){return""}getSampleSize(){return""}parseHeader(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8}parse(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)}parseDataAndRewind(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.seek(this.start+this.hdr_size)}parseFooter(e){super.parse(e)}writeHeader(e){this.size=8,super.writeHeader(e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)}writeFooter(e){if(this.boxes)for(let n=0;n<this.boxes.length;n++)this.boxes[n].write(e),this.size+=this.boxes[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}write(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},ju.registryId=Symbol.for("SampleEntryIdentifier"),ju),h5=class extends Eo{},f0=class extends Eo{isMetadata(){return!0}},Ic=class extends Eo{isSubtitle(){return!0}},_ee=class extends Eo{},kr=class extends Eo{parse(t){this.parseHeader(t),t.readUint16(),t.readUint16(),t.readUint32Array(3),this.width=t.readUint16(),this.height=t.readUint16(),this.horizresolution=t.readUint32(),this.vertresolution=t.readUint32(),t.readUint32(),this.frame_count=t.readUint16();const e=Math.min(31,t.readUint8());this.compressorname=t.readString(e),e<31&&t.readString(31-e),this.depth=t.readUint16(),t.readUint16(),this.parseFooter(t)}isVideo(){return!0}getWidth(){return this.width}getHeight(){return this.height}write(t){this.writeHeader(t),this.size+=70,t.writeUint16(0),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.width),t.writeUint16(this.height),t.writeUint32(this.horizresolution),t.writeUint32(this.vertresolution),t.writeUint32(0),t.writeUint16(this.frame_count),t.writeUint8(Math.min(31,this.compressorname.length)),t.writeString(this.compressorname,void 0,31),t.writeUint16(this.depth),t.writeInt16(-1),this.writeFooter(t)}},is=class extends Eo{parse(t){this.parseHeader(t),this.version=t.readUint16(),t.readUint16(),t.readUint32(),this.channel_count=t.readUint16(),this.samplesize=t.readUint16(),t.readUint16(),t.readUint16(),this.samplerate=t.readUint32()/65536,t.isofile?.ftyp?.major_brand.includes("qt")&&(this.version===1?this.extensions=t.readUint8Array(16):this.version===2&&(this.extensions=t.readUint8Array(36))),this.parseFooter(t)}isAudio(){return!0}getChannelCount(){return this.channel_count}getSampleRate(){return this.samplerate}getSampleSize(){return this.samplesize}write(t){this.writeHeader(t),this.size+=20,t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.channel_count),t.writeUint16(this.samplesize),t.writeUint16(0),t.writeUint16(0),t.writeUint32(this.samplerate<<16),this.writeFooter(t)}},Cw=class extends Eo{parse(t){this.parseHeader(t),this.parseFooter(t)}write(t){this.writeHeader(t),this.writeFooter(t)}},p5=class extends Array{toString(){let t="<table class='inner-table'>";t+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead>",t+="<tbody>";for(let e=0;e<this.length;e++){const n=this[e];t+="<tr>",t+="<td>"+n.length+"</td>",t+="<td>",t+=n.data.reduce(function(r,i){return r+i.toString(16).padStart(2,"0")},"0x"),t+="</td></tr>"}return t+="</tbody></table>",t}},Ku,SR=(Ku=class extends Ot{constructor(){super(...arguments),this.box_name="AVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=e.readUint8()&3,this.nb_SPS_nalus=e.readUint8()&31;let n=this.size-this.hdr_size-6;this.SPS=new p5;for(let r=0;r<this.nb_SPS_nalus;r++){const i=e.readUint16();this.SPS.push({length:i,data:e.readUint8Array(i)}),n-=2+i}this.nb_PPS_nalus=e.readUint8(),n--,this.PPS=new p5;for(let r=0;r<this.nb_PPS_nalus;r++){const i=e.readUint16();this.PPS.push({length:i,data:e.readUint8Array(i)}),n-=2+i}n>0&&(this.ext=e.readUint8Array(n))}write(e){this.size=7;for(let n=0;n<this.SPS.length;n++)this.size+=2+this.SPS[n].length;for(let n=0;n<this.PPS.length;n++)this.size+=2+this.PPS[n].length;this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224);for(let n=0;n<this.SPS.length;n++)e.writeUint16(this.SPS[n].length),e.writeUint8Array(this.SPS[n].data);e.writeUint8(this.PPS.length);for(let n=0;n<this.PPS.length;n++)e.writeUint16(this.PPS[n].length),e.writeUint8Array(this.PPS[n].data);this.ext&&e.writeUint8Array(this.ext)}},Ku.fourcc="avcC",Ku),Hu,Vv=(Hu=class extends Ot{constructor(){super(...arguments),this.box_name="MediaDataBox"}},Hu.fourcc="mdat",Hu),Gu,See=(Gu=class extends Ot{constructor(){super(...arguments),this.box_name="ItemDataBox"}},Gu.fourcc="idat",Gu),qu,bee=(qu=class extends Ot{constructor(){super(...arguments),this.box_name="FreeSpaceBox"}},qu.fourcc="free",qu),Qu,xee=(Qu=class extends Ot{constructor(){super(...arguments),this.box_name="FreeSpaceBox"}},Qu.fourcc="skip",Qu),Ju,bR=(Ju=class extends ht{constructor(){super(...arguments),this.box_name="HintMediaHeaderBox"}},Ju.fourcc="hmhd",Ju),ef,Fv=(ef=class extends ht{constructor(){super(...arguments),this.box_name="NullMediaHeaderBox"}},ef.fourcc="nmhd",ef),tf,Yee=(tf=class extends ht{constructor(){super(...arguments),this.box_name="ObjectDescriptorBox"}},tf.fourcc="iods",tf),nf,Tee=(nf=class extends ht{constructor(){super(...arguments),this.box_name="XMLBox"}},nf.fourcc="xml ",nf),rf,wee=(rf=class extends ht{constructor(){super(...arguments),this.box_name="BinaryXMLBox"}},rf.fourcc="bxml",rf),sf,Wee=(sf=class extends ht{constructor(){super(...arguments),this.box_name="ItemProtectionBox",this.sinfs=[]}get protections(){return this.sinfs}},sf.fourcc="ipro",sf),af,QY=(af=class extends qn{constructor(){super(...arguments),this.box_name="MovieBox",this.traks=[],this.psshs=[],this.subBoxNames=["trak","pssh"]}},af.fourcc="moov",af),of,xR=(of=class extends qn{constructor(){super(...arguments),this.box_name="TrackBox",this.samples=[]}},of.fourcc="trak",of),lf,Eee=(lf=class extends qn{constructor(){super(...arguments),this.box_name="EditBox"}},lf.fourcc="edts",lf),cf,YR=(cf=class extends qn{constructor(){super(...arguments),this.box_name="MediaBox"}},cf.fourcc="mdia",cf),uf,TR=(uf=class extends qn{constructor(){super(...arguments),this.box_name="MediaInformationBox"}},uf.fourcc="minf",uf),ff,wR=(ff=class extends qn{constructor(){super(...arguments),this.box_name="DataInformationBox"}},ff.fourcc="dinf",ff),df,WR=(df=class extends qn{constructor(){super(...arguments),this.box_name="SampleTableBox",this.sgpds=[],this.sbgps=[],this.subBoxNames=["sgpd","sbgp"]}},df.fourcc="stbl",df),hf,JY=(hf=class extends qn{constructor(){super(...arguments),this.box_name="MovieExtendsBox",this.trexs=[],this.subBoxNames=["trex"]}},hf.fourcc="mvex",hf),pf,ER=(pf=class extends qn{constructor(){super(...arguments),this.box_name="MovieFragmentBox",this.trafs=[],this.subBoxNames=["traf"]}},pf.fourcc="moof",pf),mf,UR=(mf=class extends qn{constructor(){super(...arguments),this.box_name="TrackFragmentBox",this.truns=[],this.sgpds=[],this.sbgps=[],this.subBoxNames=["trun","sgpd","sbgp"]}},mf.fourcc="traf",mf),gf,Uee=(gf=class extends qn{constructor(){super(...arguments),this.box_name="VTTCueBox"}},gf.fourcc="vttc",gf),yf,Cee=(yf=class extends qn{constructor(){super(...arguments),this.box_name="MovieFragmentRandomAccessBox",this.tfras=[],this.subBoxNames=["tfra"]}},yf.fourcc="mfra",yf),vf,Aee=(vf=class extends qn{constructor(){super(...arguments),this.box_name="AdditionalMetadataContainerBox"}},vf.fourcc="meco",vf),_f,kee=(_f=class extends qn{constructor(){super(...arguments),this.box_name="trackhintinformation",this.subBoxNames=["sdp ","rtp "]}},_f.fourcc="hnti",_f),Sf,Iee=(Sf=class extends qn{constructor(){super(...arguments),this.box_name="hintstatisticsbox",this.maxrs=[],this.subBoxNames=["maxr"]}},Sf.fourcc="hinf",Sf),bf,Ree=(bf=class extends qn{constructor(){super(...arguments),this.box_name="SubTrackBox"}},bf.fourcc="strk",bf),xf,Xee=(xf=class extends qn{constructor(){super(...arguments),this.box_name="SubTrackDefinitionBox"}},xf.fourcc="strd",xf),Yf,Pee=(Yf=class extends qn{constructor(){super(...arguments),this.box_name="ProtectionSchemeInfoBox"}},Yf.fourcc="sinf",Yf),Tf,Mee=(Tf=class extends qn{constructor(){super(...arguments),this.box_name="RestrictedSchemeInfoBox"}},Tf.fourcc="rinf",Tf),wf,Nee=(wf=class extends qn{constructor(){super(...arguments),this.box_name="SchemeInformationBox"}},wf.fourcc="schi",wf),Wf,Oee=(Wf=class extends qn{constructor(){super(...arguments),this.box_name="TrackGroupBox"}},Wf.fourcc="trgr",Wf),Ef,Dee=(Ef=class extends qn{constructor(){super(...arguments),this.box_name="UserDataBox",this.kinds=[],this.strks=[],this.subBoxNames=["kind","strk"]}},Ef.fourcc="udta",Ef),Uf,Bee=(Uf=class extends qn{constructor(){super(...arguments),this.box_name="ItemPropertiesBox",this.ipmas=[],this.subBoxNames=["ipma"]}},Uf.fourcc="iprp",Uf),Cf,Vee=(Cf=class extends qn{constructor(){super(...arguments),this.box_name="ItemPropertyContainerBox",this.hvcCs=[],this.ispes=[],this.claps=[],this.irots=[],this.subBoxNames=["hvcC","ispe","clap","irot"]}},Cf.fourcc="ipco",Cf),Af,Fee=(Af=class extends qn{constructor(){super(...arguments),this.box_name="GroupsListBox"}},Af.fourcc="grpl",Af),kf,Lee=(kf=class extends qn{constructor(){super(...arguments),this.box_name="J2KHeaderInfoBox"}},kf.fourcc="j2kH",kf),If,Zee=(If=class extends qn{constructor(){super(...arguments),this.box_name="ExtendedTypeBox",this.tycos=[],this.subBoxNames=["tyco"]}},If.fourcc="etyp",If),Rf,zee=(Rf=class extends qn{constructor(){super(...arguments),this.box_name="ProjectedOmniVideoBox",this.subBoxNames=["prfr"]}},Rf.fourcc="povd",Rf),Xf,CR=(Xf=class extends ht{constructor(){super(...arguments),this.box_name="DataReferenceBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){const i=Za(e,!1,this.size-(e.getPosition()-this.start));if(i.code===ws){const a=i.box;this.entries.push(a)}else return}}write(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},Xf.fourcc="dref",Xf),Pf,AR=(Pf=class extends ht{constructor(){super(...arguments),this.box_name="ExtendedLanguageBox"}parse(e){this.parseFullHeader(e),this.extended_language=e.readString(this.size-this.hdr_size)}write(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)}},Pf.fourcc="elng",Pf),Mf,kR=(Mf=class extends Ot{constructor(){super(...arguments),this.box_name="FileTypeBox"}parse(e){let n=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),n-=8,this.compatible_brands=[];let r=0;for(;n>=4;)this.compatible_brands[r]=e.readString(4),n-=4,r++}write(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,void 0,4),e.writeUint32(this.minor_version);for(let n=0;n<this.compatible_brands.length;n++)e.writeString(this.compatible_brands[n],void 0,4)}},Mf.fourcc="ftyp",Mf),Nf,IR=(Nf=class extends ht{constructor(){super(...arguments),this.box_name="HandlerBox"}parse(e){if(this.parseFullHeader(e),this.version===0&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),!this.isEndOfBox(e))){const n=this.start+this.size-e.getPosition();this.name=e.readCString();const r=this.start+this.size-1;e.seek(r),e.readUint8()!==0&&n>1&&(ot.info("BoxParser","Warning: hdlr name is not null-terminated, possibly length-prefixed string. Trimming first byte."),this.name=this.name.slice(1))}}write(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,void 0,4),e.writeUint32Array([0,0,0]),e.writeCString(this.name)}},Nf.fourcc="hdlr",Nf),Of,RR=(Of=class extends Ot{constructor(){super(...arguments),this.box_name="HEVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8();let n=e.readUint8();this.general_profile_space=n>>6,this.general_tier_flag=(n&32)>>5,this.general_profile_idc=n&31,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3,this.chroma_format_idc=e.readUint8()&3,this.bit_depth_luma_minus8=e.readUint8()&7,this.bit_depth_chroma_minus8=e.readUint8()&7,this.avgFrameRate=e.readUint16(),n=e.readUint8(),this.constantFrameRate=n>>6,this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];const r=e.readUint8();for(let i=0;i<r;i++){const a=[];this.nalu_arrays.push(a),n=e.readUint8(),a.completeness=(n&128)>>7,a.nalu_type=n&63;const o=e.readUint16();for(let l=0;l<o;l++){const u=e.readUint16();a.push({data:e.readUint8Array(u)})}}}write(e){this.size=23;for(let n=0;n<this.nalu_arrays.length;n++){this.size+=3;for(let r=0;r<this.nalu_arrays[n].length;r++)this.size+=2+this.nalu_arrays[n][r].data.length}this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),e.writeUint32(this.general_profile_compatibility),e.writeUint8Array(this.general_constraint_indicator),e.writeUint8(this.general_level_idc),e.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),e.writeUint8(this.parallelismType+252),e.writeUint8(this.chroma_format_idc+252),e.writeUint8(this.bit_depth_luma_minus8+248),e.writeUint8(this.bit_depth_chroma_minus8+248),e.writeUint16(this.avgFrameRate),e.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),e.writeUint8(this.nalu_arrays.length);for(let n=0;n<this.nalu_arrays.length;n++){e.writeUint8((this.nalu_arrays[n].completeness<<7)+this.nalu_arrays[n].nalu_type),e.writeUint16(this.nalu_arrays[n].length);for(let r=0;r<this.nalu_arrays[n].length;r++)e.writeUint16(this.nalu_arrays[n][r].data.length),e.writeUint8Array(this.nalu_arrays[n][r].data)}}},Of.fourcc="hvcC",Of),Df,XR=(Df=class extends ht{constructor(){super(...arguments),this.box_name="MediaHeaderBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=20,this.size+=n?12:0,this.flags=0,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.timescale),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration)),e.writeUint16(this.language),e.writeUint16(0)}},Df.fourcc="mdhd",Df),Bf,PR=(Bf=class extends ht{constructor(){super(...arguments),this.box_name="MovieExtendsHeaderBox"}parse(e){this.parseFullHeader(e),this.flags&1&&(ot.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version===1?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}write(e){const n=this.fragment_duration>ci||this.version===1;this.version=n?1:0,this.size=4,this.size+=n?4:0,this.flags=0,this.writeHeader(e),n?e.writeUint64(this.fragment_duration):e.writeUint32(this.fragment_duration)}},Bf.fourcc="mehd",Bf),Vf,$ee=(Vf=class extends ht{constructor(){super(...arguments),this.box_name="ItemInfoEntry"}parse(e){if(this.parseFullHeader(e),(this.version===0||this.version===1)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.isEndOfBox(e)||(this.content_encoding=e.readCString())),this.version===1){this.extension_type=e.readString(4),ot.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=e.readUint16():this.version===3&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),this.item_type==="mime"?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):this.item_type==="uri "&&(this.item_uri_type=e.readCString()))}},Vf.fourcc="infe",Vf),Ff,jee=(Ff=class extends ht{constructor(){super(...arguments),this.box_name="ItemInfoBox"}parse(e){this.parseFullHeader(e),this.version===0?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(let n=0;n<this.entry_count;n++){const r=Za(e,!1,this.size-(e.getPosition()-this.start));if(r.code===ws){const i=r.box;i.type==="infe"?this.item_infos[n]=i:ot.error("BoxParser","Expected 'infe' box, got "+r.box.type,e.isofile)}else return}}},Ff.fourcc="iinf",Ff),Lf,Kee=(Lf=class extends ht{constructor(){super(...arguments),this.box_name="ItemLocationBox"}parse(e){this.parseFullHeader(e);let n;n=e.readUint8(),this.offset_size=n>>4&15,this.length_size=n&15,n=e.readUint8(),this.base_offset_size=n>>4&15,this.version===1||this.version===2?this.index_size=n&15:this.index_size=0,this.items=[];let r=0;if(this.version<2)r=e.readUint16();else if(this.version===2)r=e.readUint32();else throw new Error("version of iloc box not supported");for(let i=0;i<r;i++){let a=0,o=0,l=0;if(this.version<2)a=e.readUint16();else if(this.version===2)a=e.readUint32();else throw new Error("version of iloc box not supported");this.version===1||this.version===2?o=e.readUint16()&15:o=0;const u=e.readUint16();switch(this.base_offset_size){case 0:l=0;break;case 4:l=e.readUint32();break;case 8:l=e.readUint64();break;default:throw new Error("Error reading base offset size")}const f=[],p=e.readUint16();for(let h=0;h<p;h++){let m=0,g=0,_=0;if(this.version===1||this.version===2)switch(this.index_size){case 0:m=0;break;case 4:m=e.readUint32();break;case 8:m=e.readUint64();break;default:throw new Error("Error reading extent index")}switch(this.offset_size){case 0:g=0;break;case 4:g=e.readUint32();break;case 8:g=e.readUint64();break;default:throw new Error("Error reading extent index")}switch(this.length_size){case 0:_=0;break;case 4:_=e.readUint32();break;case 8:_=e.readUint64();break;default:throw new Error("Error reading extent index")}f.push({extent_index:m,extent_length:_,extent_offset:g})}this.items.push({base_offset:l,construction_method:o,item_ID:a,data_reference_index:u,extents:f})}}},Lf.fourcc="iloc",Lf),Hee={auxl:"Auxiliary image item",base:"Pre-derived image item base",cdsc:"Item describes referenced item",dimg:"Derived image item",dpnd:"Item coding dependency",eroi:"Region",evir:"EVC slice",exbl:"Scalable image item","fdl ":"File delivery",font:"Font item",iloc:"Item data location",mask:"Region mask",mint:"Data integrity",pred:"Predictively coded item",prem:"Pre-multiplied item",tbas:"HEVC tile track base item",text:"Text item",thmb:"Thumbnail image item"},Wl,Gee=(Wl=class extends ht{constructor(){super(...arguments),this.box_name="ItemReferenceBox",this.references=[]}parse(e){for(this.parseFullHeader(e),this.references=[];e.getPosition()<this.start+this.size;){const n=Za(e,!0,this.size-(e.getPosition()-this.start));if(n.code===ws){let r="Unknown item reference";Wl.allowed_types.includes(n.type)?r=Hee[n.type]:ot.warn("BoxParser",`Unknown item reference type: '${n.type}'`);const i=this.version===0?new lee(n.type,n.size,r,n.hdr_size,n.start):new cee(n.type,n.size,r,n.hdr_size,n.start);i.write===Ot.prototype.write&&i.type!=="mdat"&&(ot.warn("BoxParser",i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),this.references.push(i)}else return}}},Wl.fourcc="iref",Wl.allowed_types=["auxl","base","cdsc","dimg","dpnd","eroi","evir","exbl","fdl ","font","iloc","mask","mint","pred","prem","tbas","text","thmb"],Wl),Zf,qee=(Zf=class extends ht{constructor(){super(...arguments),this.box_name="PrimaryItemBox"}parse(e){this.parseFullHeader(e),this.version===0?this.item_id=e.readUint16():this.item_id=e.readUint32()}},Zf.fourcc="pitm",Zf),zf,Qee=(zf=class extends ht{constructor(){super(...arguments),this.box_name="MetaBox",this.isQT=!1}parse(e){const n=e.getPosition();if(this.size>8){switch(e.readUint32(),e.readString(4)){case"hdlr":case"mhdr":case"keys":case"ilst":case"ctry":case"lang":this.isQT=!0;break}e.seek(n)}this.isQT||this.parseFullHeader(e),qn.prototype.parse.call(this,e)}},zf.fourcc="meta",zf),$f,MR=($f=class extends ht{constructor(){super(...arguments),this.box_name="MovieFragmentHeaderBox"}parse(e){this.parseFullHeader(e),this.sequence_number=e.readUint32()}write(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)}},$f.fourcc="mfhd",$f),jf,NR=(jf=class extends ht{constructor(){super(...arguments),this.box_name="MovieHeaderBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readInt32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=96,this.size+=n?12:0,this.flags=0,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.timescale),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration)),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeInt32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)}print(e){super.printHeader(e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)}},jf.fourcc="mvhd",jf),Kf,Jee=(Kf=class extends f0{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}},Kf.fourcc="mett",Kf),Hf,ete=(Hf=class extends f0{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}},Hf.fourcc="metx",Hf),Gf,tte=(Gf=class extends Ot{constructor(){super(...arguments),this.box_name="AV1CodecConfigurationBox"}parse(e){let n=e.readUint8();if((n>>7&1)!==1){ot.error("BoxParser","av1C marker problem",e.isofile);return}if(this.version=n&127,this.version!==1){ot.error("BoxParser","av1C version "+this.version+" not supported",e.isofile);return}if(n=e.readUint8(),this.seq_profile=n>>5&7,this.seq_level_idx_0=n&31,n=e.readUint8(),this.seq_tier_0=n>>7&1,this.high_bitdepth=n>>6&1,this.twelve_bit=n>>5&1,this.monochrome=n>>4&1,this.chroma_subsampling_x=n>>3&1,this.chroma_subsampling_y=n>>2&1,this.chroma_sample_position=n&3,n=e.readUint8(),this.reserved_1=n>>5&7,this.reserved_1!==0){ot.error("BoxParser","av1C reserved_1 parsing problem",e.isofile);return}if(this.initial_presentation_delay_present=n>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=n&15;else if(this.reserved_2=n&15,this.reserved_2!==0){ot.error("BoxParser","av1C reserved_2 parsing problem",e.isofile);return}const r=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(r)}},Gf.fourcc="av1C",Gf),qf,nte=(qf=class extends ht{constructor(){super(...arguments),this.box_name="ElementaryStreamDescriptorBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8Array(this.size-this.hdr_size);if("MPEG4DescriptorParser"in T_){const r=new T_.MPEG4DescriptorParser;this.esd=r.parseOneDescriptor(new ys(n.buffer,0))}}},qf.fourcc="esds",qf),Qf,rte=(Qf=class extends ht{constructor(){super(...arguments),this.box_name="VPCodecConfigurationRecord"}parse(e){if(this.parseFullHeader(e),this.version===1){this.profile=e.readUint8(),this.level=e.readUint8();const n=e.readUint8();this.bitDepth=n>>4,this.chromaSubsampling=n>>1&7,this.videoFullRangeFlag=n&1,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)}else{this.profile=e.readUint8(),this.level=e.readUint8();let n=e.readUint8();this.bitDepth=n>>4&15,this.colorSpace=n&15,n=e.readUint8(),this.chromaSubsampling=n>>4&15,this.transferFunction=n>>1&7,this.videoFullRangeFlag=n&1,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)}}},Qf.fourcc="vpcC",Qf),Jf,ite=(Jf=class extends ht{constructor(){super(...arguments),this.box_name="VvcConfigurationBox"}parse(e){this.parseFullHeader(e);const n={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(o){this.held_bits=o.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(o){this.held_bits=o.readUint16(),this.num_held_bits=16},extract_bits:function(o){const l=this.held_bits>>this.num_held_bits-o&(1<<o)-1;return this.num_held_bits-=o,l}};if(n.stream_read_1_bytes(e),n.extract_bits(5),this.lengthSizeMinusOne=n.extract_bits(2),this.ptl_present_flag=n.extract_bits(1),this.ptl_present_flag){n.stream_read_2_bytes(e),this.ols_idx=n.extract_bits(9),this.num_sublayers=n.extract_bits(3),this.constant_frame_rate=n.extract_bits(2),this.chroma_format_idc=n.extract_bits(2),n.stream_read_1_bytes(e),this.bit_depth_minus8=n.extract_bits(3),n.extract_bits(5);{if(n.stream_read_2_bytes(e),n.extract_bits(2),this.num_bytes_constraint_info=n.extract_bits(6),this.general_profile_idc=n.extract_bits(7),this.general_tier_flag=n.extract_bits(1),this.general_level_idc=e.readUint8(),n.stream_read_1_bytes(e),this.ptl_frame_only_constraint_flag=n.extract_bits(1),this.ptl_multilayer_enabled_flag=n.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(let o=0;o<this.num_bytes_constraint_info-1;o++){const l=n.extract_bits(6);n.stream_read_1_bytes(e);const u=n.extract_bits(2);this.general_constraint_info[o]=l<<2|u}this.general_constraint_info[this.num_bytes_constraint_info-1]=n.extract_bits(6)}else n.extract_bits(6);if(this.num_sublayers>1){n.stream_read_1_bytes(e),this.ptl_sublayer_present_mask=0;for(let o=this.num_sublayers-2;o>=0;--o){const l=n.extract_bits(1);this.ptl_sublayer_present_mask|=l<<o}for(let o=this.num_sublayers;o<=8&&this.num_sublayers>1;++o)n.extract_bits(1);this.sublayer_level_idc=[];for(let o=this.num_sublayers-2;o>=0;--o)this.ptl_sublayer_present_mask&1<<o&&(this.sublayer_level_idc[o]=e.readUint8())}if(this.ptl_num_sub_profiles=e.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(let o=0;o<this.ptl_num_sub_profiles;o++)this.general_sub_profile_idc.push(e.readUint32())}this.max_picture_width=e.readUint16(),this.max_picture_height=e.readUint16(),this.avg_frame_rate=e.readUint16()}const r=12,i=13;this.nalu_arrays=[];const a=e.readUint8();for(let o=0;o<a;o++){const l=[];this.nalu_arrays.push(l),n.stream_read_1_bytes(e),l.completeness=n.extract_bits(1),n.extract_bits(2),l.nalu_type=n.extract_bits(5);let u=1;l.nalu_type!==i&&l.nalu_type!==r&&(u=e.readUint16());for(let f=0;f<u;f++){const p=e.readUint16();l.push({data:e.readUint8Array(p),length:p})}}}},Jf.fourcc="vvcC",Jf),ed,ste=(ed=class extends Ot{constructor(){super(...arguments),this.box_name="ColourInformationBox"}parse(e){if(this.colour_type=e.readString(4),this.colour_type==="nclx"){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();const n=e.readUint8();this.full_range_flag=n>>7}else this.colour_type==="rICC"?this.ICC_profile=e.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=e.readUint8Array(this.size-4))}},ed.fourcc="colr",ed);function Fu(t,e){let n=Number(t).toString(16);for(e=typeof e>"u"?2:e;n.length<e;)n="0"+n;return n}var v2=class extends kr{getCodec(){const t=super.getCodec();return this.avcC?`${t}.${Fu(this.avcC.AVCProfileIndication)}${Fu(this.avcC.profile_compatibility)}${Fu(this.avcC.AVCLevelIndication)}`:t}},td,ate=(td=class extends v2{constructor(){super(...arguments),this.box_name="AVCSampleEntry"}},td.fourcc="avc1",td),nd,ote=(nd=class extends v2{constructor(){super(...arguments),this.box_name="AVC2SampleEntry"}},nd.fourcc="avc2",nd),rd,lte=(rd=class extends v2{constructor(){super(...arguments),this.box_name="AVCSampleEntry"}},rd.fourcc="avc3",rd),id,cte=(id=class extends v2{constructor(){super(...arguments),this.box_name="AVC2SampleEntry"}},id.fourcc="avc4",id),sd,ute=(sd=class extends kr{constructor(){super(...arguments),this.box_name="AV1SampleEntry"}getCodec(){const e=super.getCodec(),n=this.av1C.seq_level_idx_0,r=n<10?"0"+n:n;let i;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?i=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(i=this.av1C.high_bitdepth===1?"10":"08"),e+"."+this.av1C.seq_profile+"."+r+(this.av1C.seq_tier_0?"H":"M")+"."+i}},sd.fourcc="av01",sd),ad,fte=(ad=class extends kr{},ad.fourcc="dav1",ad),_2=class extends kr{getCodec(){let t=super.getCodec();if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C";break}t+=this.hvcC.general_profile_idc,t+=".";let e=this.hvcC.general_profile_compatibility,n=0;for(let a=0;a<32&&(n|=e&1,a!==31);a++)n<<=1,e>>=1;t+=Fu(n,0),t+=".",this.hvcC.general_tier_flag===0?t+="L":t+="H",t+=this.hvcC.general_level_idc;let r=!1,i="";for(let a=5;a>=0;a--)(this.hvcC.general_constraint_indicator[a]||r)&&(i="."+Fu(this.hvcC.general_constraint_indicator[a],0)+i,r=!0);t+=i}return t}},od,dte=(od=class extends _2{constructor(){super(...arguments),this.box_name="HEVCSampleEntry"}},od.fourcc="hvc1",od),ld,hte=(ld=class extends _2{},ld.fourcc="hvc2",ld),cd,pte=(cd=class extends _2{constructor(){super(...arguments),this.box_name="HEVCSampleEntry",this.colrs=[],this.subBoxNames=["colr"]}},cd.fourcc="hev1",cd),ud,mte=(ud=class extends _2{},ud.fourcc="hev2",ud),fd,gte=(fd=class extends kr{constructor(){super(...arguments),this.box_name="HEVCTileSampleSampleEntry"}},fd.fourcc="hvt1",fd),dd,yte=(dd=class extends kr{constructor(){super(...arguments),this.box_name="LHEVCSampleEntry"}},dd.fourcc="lhe1",dd),hd,vte=(hd=class extends kr{constructor(){super(...arguments),this.box_name="LHEVCSampleEntry"}},hd.fourcc="lhv1",hd),pd,_te=(pd=class extends kr{},pd.fourcc="dvh1",pd),md,Ste=(md=class extends kr{},md.fourcc="dvhe",md),OR=class extends kr{getCodec(){let t=super.getCodec();if(this.vvcC){t+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?t+=".H":t+=".L",t+=this.vvcC.general_level_idc;let e="";if(this.vvcC.general_constraint_info){const n=[];let r=0;r|=this.vvcC.ptl_frame_only_constraint_flag<<7,r|=this.vvcC.ptl_multilayer_enabled_flag<<6;let i;for(let a=0;a<this.vvcC.general_constraint_info.length;++a)r|=this.vvcC.general_constraint_info[a]>>2&63,n.push(r),r&&(i=a),r=this.vvcC.general_constraint_info[a]>>2&3;if(i===void 0)e=".CA";else{e=".C";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let o=0,l=0;for(let u=0;u<=i;++u)for(o=o<<8|n[u],l+=8;l>=5;){const f=o>>l-5&31;e+=a[f],l-=5,o&=(1<<l)-1}l&&(o<<=5-l,e+=a[o&31])}}t+=e}return t}},gd,bte=(gd=class extends OR{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},gd.fourcc="vvc1",gd),yd,xte=(yd=class extends OR{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},yd.fourcc="vvi1",yd),vd,Yte=(vd=class extends kr{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},vd.fourcc="vvs1",vd),_d,Tte=(_d=class extends kr{constructor(){super(...arguments),this.box_name="VvcNonVCLSampleEntry"}},_d.fourcc="vvcN",_d),DR=class extends kr{getCodec(){const t=super.getCodec();let e=this.vpcC.level;e===0&&(e="00");let n=this.vpcC.bitDepth;return n===8&&(n="08"),`${t}.0${this.vpcC.profile}.${e}.${n}`}},Sd,wte=(Sd=class extends DR{},Sd.fourcc="vp08",Sd),bd,Wte=(bd=class extends DR{},bd.fourcc="vp09",bd),xd,Ete=(xd=class extends kr{},xd.fourcc="avs3",xd),Yd,Ute=(Yd=class extends kr{constructor(){super(...arguments),this.box_name="J2KSampleEntry"}},Yd.fourcc="j2ki",Yd),Td,Cte=(Td=class extends kr{},Td.fourcc="mjp2",Td),wd,Ate=(wd=class extends kr{},wd.fourcc="mjpg",wd),Wd,kte=(Wd=class extends kr{constructor(){super(...arguments),this.box_name="UncompressedVideoSampleEntry"}},Wd.fourcc="uncv",Wd),Ed,Ite=(Ed=class extends kr{constructor(){super(...arguments),this.box_name="MP4VisualSampleEntry"}},Ed.fourcc="mp4v",Ed),Ud,Rte=(Ud=class extends is{constructor(){super(...arguments),this.box_name="MP4AudioSampleEntry"}getCodec(){const e=super.getCodec();if(this.esds&&this.esds.esd){const n=this.esds.esd.getOTI(),r=this.esds.esd.getAudioConfig();return e+"."+Fu(n)+(r?"."+r:"")}else return e}},Ud.fourcc="mp4a",Ud),Cd,Xte=(Cd=class extends is{},Cd.fourcc="m4ae",Cd),Ad,Pte=(Ad=class extends is{},Ad.fourcc="ac-3",Ad),kd,Mte=(kd=class extends is{},kd.fourcc="ac-4",kd),Id,Nte=(Id=class extends is{},Id.fourcc="ec-3",Id),Rd,Ote=(Rd=class extends is{},Rd.fourcc="Opus",Rd),Xd,Dte=(Xd=class extends is{},Xd.fourcc="mha1",Xd),Pd,Bte=(Pd=class extends is{},Pd.fourcc="mha2",Pd),Md,Vte=(Md=class extends is{},Md.fourcc="mhm1",Md),Nd,Fte=(Nd=class extends is{},Nd.fourcc="mhm2",Nd),Od,Lte=(Od=class extends is{},Od.fourcc="fLaC",Od),Dd,Zte=(Dd=class extends kr{},Dd.fourcc="encv",Dd),Bd,zte=(Bd=class extends is{},Bd.fourcc="enca",Bd),Vd,$te=(Vd=class extends Ic{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Vd.fourcc="encu",Vd),Fd,jte=(Fd=class extends Cw{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Fd.fourcc="encs",Fd),Ld,Kte=(Ld=class extends Cw{},Ld.fourcc="mp4s",Ld),Zd,Hte=(Zd=class extends _ee{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Zd.fourcc="enct",Zd),zd,Gte=(zd=class extends f0{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},zd.fourcc="encm",zd),$d,qte=($d=class extends kr{constructor(){super(...arguments),this.box_name="RestrictedVideoSampleEntry"}},$d.fourcc="resv",$d),jd,Qte=(jd=class extends Ic{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}},jd.fourcc="sbtt",jd),Kd,BR=(Kd=class extends Ic{parse(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}write(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)}},Kd.fourcc="stpp",Kd),Hd,Jte=(Hd=class extends Ic{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}getCodec(){const e=super.getCodec();return this.mime_format?e+"."+this.mime_format:e}},Hd.fourcc="stxt",Hd),Gd,ene=(Gd=class extends Ic{parse(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}},Gd.fourcc="tx3g",Gd),qd,tne=(qd=class extends f0{parse(e){this.parseHeader(e),this.parseFooter(e)}},qd.fourcc="wvtt",qd),Qd,nne=(Qd=class extends ht{constructor(){super(...arguments),this.box_name="SampleToGroupBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),this.version===1?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++)this.entries.push({sample_count:e.readInt32(),group_description_index:e.readInt32()})}write(e){this.grouping_type_parameter?this.version=1:this.version=0,this.flags=0,this.size=8+8*this.entries.length+(this.version===1?4:0),this.writeHeader(e),e.writeString(this.grouping_type,void 0,4),this.version===1&&e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++){const r=this.entries[n];e.writeInt32(r.sample_count),e.writeInt32(r.group_description_index)}}},Qd.fourcc="sbgp",Qd),Jd,rne=(Jd=class extends ht{constructor(){super(...arguments),this.box_name="SampleDependencyTypeBox"}parse(e){this.parseFullHeader(e);const n=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(let r=0;r<n;r++){const i=e.readUint8();this.is_leading[r]=i>>6,this.sample_depends_on[r]=i>>4&3,this.sample_is_depended_on[r]=i>>2&3,this.sample_has_redundancy[r]=i&3}}},Jd.fourcc="sdtp",Jd),eh,ine=(eh=class extends ht{constructor(){super(...arguments),this.box_name="SampleGroupDescriptionBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),ot.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){let i;this.grouping_type in rs.sampleGroupEntry?i=new rs.sampleGroupEntry[this.grouping_type](this.grouping_type):i=new ri(this.grouping_type),this.entries.push(i),this.version===1?this.default_length===0?i.description_length=e.readUint32():i.description_length=this.default_length:i.description_length=this.default_length,i.write===ri.prototype.write&&(ot.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),i.data=e.readUint8Array(i.description_length),e.seek(e.getPosition()-i.description_length)),i.parse(e)}}write(e){this.flags=0,this.size=12;for(let n=0;n<this.entries.length;n++){const r=this.entries[n];this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=r.data.length)}this.writeHeader(e),e.writeString(this.grouping_type,void 0,4),this.version===1&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++){const r=this.entries[n];this.version===1&&this.default_length===0&&e.writeUint32(r.description_length),r.write(e)}}},eh.fourcc="sgpd",eh),th,sne=(th=class extends ht{constructor(){super(...arguments),this.box_name="CompressedSegmentIndexBox"}parse(e){this.parseFullHeader(e),this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),this.version===0?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];const n=e.readUint16();for(let r=0;r<n;r++){const i=e.readUint32(),a=e.readUint32(),o=e.readUint32();this.references.push({reference_type:i>>31&1,referenced_size:i&2147483647,subsegment_duration:a,starts_with_SAP:o>>31&1,SAP_type:o>>28&7,SAP_delta_time:o&268435455})}}write(e){const n=this.earliest_presentation_time>ci||this.first_offset>ci||this.version===1;this.version=n?1:0,this.size=12+12*this.references.length,this.size+=n?16:8,this.flags=0,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),n?(e.writeUint64(this.earliest_presentation_time),e.writeUint64(this.first_offset)):(e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset)),e.writeUint16(0),e.writeUint16(this.references.length);for(let r=0;r<this.references.length;r++){const i=this.references[r];e.writeUint32(i.reference_type<<31|i.referenced_size),e.writeUint32(i.subsegment_duration),e.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}}},th.fourcc="sidx",th),nh,VR=(nh=class extends ht{constructor(){super(...arguments),this.box_name="SoundMediaHeaderBox"}parse(e){this.parseFullHeader(e),this.balance=e.readUint16(),e.readUint16()}write(e){this.version=0,this.size=4,this.writeHeader(e),e.writeUint16(this.balance),e.writeUint16(0)}},nh.fourcc="smhd",nh),rh,FR=(rh=class extends ht{constructor(){super(...arguments),this.box_name="ChunkOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.chunk_offsets=[],this.version===0)for(let r=0;r<n;r++)this.chunk_offsets.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)}unpack(e){for(let n=0;n<this.chunk_offsets.length;n++)e[n].offset=this.chunk_offsets[n]}},rh.fourcc="stco",rh),ih,LR=(ih=class extends ht{constructor(){super(...arguments),this.box_name="SubtitleMediaHeaderBox"}},ih.fourcc="sthd",ih),sh,ZR=(sh=class extends ht{constructor(){super(...arguments),this.box_name="SampleToChunkBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(let r=0;r<n;r++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length);for(let n=0;n<this.first_chunk.length;n++)e.writeUint32(this.first_chunk[n]),e.writeUint32(this.samples_per_chunk[n]),e.writeUint32(this.sample_description_index[n])}unpack(e){let n=0,r=0;for(let i=0;i<this.first_chunk.length;i++)for(let a=0;a<(i+1<this.first_chunk.length?this.first_chunk[i+1]:1/0);a++){r++;for(let o=0;o<this.samples_per_chunk[i];o++){if(e[n])e[n].description_index=this.sample_description_index[i],e[n].chunk_index=r;else return;n++}}}},sh.fourcc="stsc",sh),ah,zR=(ah=class extends ht{constructor(){super(...arguments),this.box_name="SampleDescriptionBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=1;r<=n;r++){const i=Za(e,!0,this.size-(e.getPosition()-this.start));if(i.code===ws){let a;i.type in rs.sampleEntry?(a=new rs.sampleEntry[i.type](i.size),a.hdr_size=i.hdr_size,a.start=i.start):(ot.warn("BoxParser",`Unknown sample entry type: '${i.type}'`),a=new Eo(i.size,i.hdr_size,i.start),a.type=i.type),a.write===Eo.prototype.write&&(ot.info("BoxParser","SampleEntry "+a.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),a.parseDataAndRewind(e)),a.parse(e),this.entries.push(a)}else return}}write(e){this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4;for(let n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},ah.fourcc="stsd",ah),oh,$R=(oh=class extends ht{constructor(){super(...arguments),this.box_name="SampleSizeBox"}parse(e){if(this.parseFullHeader(e),this.sample_sizes=[],this.version===0){this.sample_size=e.readUint32(),this.sample_count=e.readUint32();for(let n=0;n<this.sample_count;n++)this.sample_size===0?this.sample_sizes.push(e.readUint32()):this.sample_sizes[n]=this.sample_size}}write(e){let n=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0){let r=0;for(;r+1<this.sample_sizes.length;)if(this.sample_sizes[r+1]!==this.sample_sizes[0]){n=!1;break}else r++}else n=!1;this.size=8,n||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),n?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),n||e.writeUint32Array(this.sample_sizes)}unpack(e){for(let n=0;n<this.sample_sizes.length;n++)e[n].size=this.sample_sizes[n]}},oh.fourcc="stsz",oh),lh,jR=(lh=class extends ht{constructor(){super(...arguments),this.box_name="TimeToSampleBox",this.sample_counts=[],this.sample_deltas=[]}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.sample_counts.length=0,this.sample_deltas.length=0,this.version===0)for(let r=0;r<n;r++){this.sample_counts.push(e.readUint32());let i=e.readInt32();i<0&&(ot.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),i=1),this.sample_deltas.push(i)}}write(e){this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length);for(let n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),e.writeUint32(this.sample_deltas[n])}unpack(e){let n=0;for(let r=0;r<this.sample_counts.length;r++)for(let i=0;i<this.sample_counts[r];i++)n===0?e[n].dts=0:e[n].dts=e[n-1].dts+this.sample_deltas[r],n++}},lh.fourcc="stts",lh),ch,KR=(ch=class extends ht{constructor(){super(...arguments),this.box_name="TrackFragmentBaseMediaDecodeTimeBox"}parse(e){this.parseFullHeader(e),this.version===1?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}write(e){const n=this.baseMediaDecodeTime>ci||this.version===1;this.version=n?1:0,this.size=4,this.size+=n?4:0,this.flags=0,this.writeHeader(e),n?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)}},ch.fourcc="tfdt",ch),uh,HR=(uh=class extends ht{constructor(){super(...arguments),this.box_name="TrackFragmentHeaderBox"}parse(e){this.parseFullHeader(e);let n=0;this.track_id=e.readUint32(),this.size-this.hdr_size>n&&this.flags&Rv?(this.base_data_offset=e.readUint64(),n+=8):this.base_data_offset=0,this.size-this.hdr_size>n&&this.flags&Xv?(this.default_sample_description_index=e.readUint32(),n+=4):this.default_sample_description_index=0,this.size-this.hdr_size>n&&this.flags&Pv?(this.default_sample_duration=e.readUint32(),n+=4):this.default_sample_duration=0,this.size-this.hdr_size>n&&this.flags&Mv?(this.default_sample_size=e.readUint32(),n+=4):this.default_sample_size=0,this.size-this.hdr_size>n&&this.flags&Nv?(this.default_sample_flags=e.readUint32(),n+=4):this.default_sample_flags=0}write(e){this.version=0,this.size=4,this.flags&Rv&&(this.size+=8),this.flags&Xv&&(this.size+=4),this.flags&Pv&&(this.size+=4),this.flags&Mv&&(this.size+=4),this.flags&Nv&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&Rv&&e.writeUint64(this.base_data_offset),this.flags&Xv&&e.writeUint32(this.default_sample_description_index),this.flags&Pv&&e.writeUint32(this.default_sample_duration),this.flags&Mv&&e.writeUint32(this.default_sample_size),this.flags&Nv&&e.writeUint32(this.default_sample_flags)}},uh.fourcc="tfhd",uh),fh,GR=(fh=class extends ht{constructor(){super(...arguments),this.box_name="TrackHeaderBox",this.layer=0,this.alternate_group=0}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=80,this.size+=n?12:0,this.flags=this.flags??3,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration)),e.writeUint32Array([0,0]),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeInt16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)}print(e){super.printHeader(e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)}},fh.fourcc="tkhd",fh),dh,eT=(dh=class extends ht{constructor(){super(...arguments),this.box_name="TrackExtendsBox"}parse(e){this.parseFullHeader(e),this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}write(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)}},dh.fourcc="trex",dh),hh,qR=(hh=class extends ht{constructor(){super(...arguments),this.box_name="TrackRunBox",this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[]}parse(e){this.parseFullHeader(e);let n=0;if(this.sample_count=e.readUint32(),n+=4,this.size-this.hdr_size>n&&this.flags&$g?(this.data_offset=e.readInt32(),n+=4):this.data_offset=0,this.size-this.hdr_size>n&&this.flags&Ov?(this.first_sample_flags=e.readUint32(),n+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>n)for(let r=0;r<this.sample_count;r++)this.flags&jg&&(this.sample_duration[r]=e.readUint32()),this.flags&Kg&&(this.sample_size[r]=e.readUint32()),this.flags&Hg&&(this.sample_flags[r]=e.readUint32()),this.flags&Gg&&(this.version===0?this.sample_composition_time_offset[r]=e.readUint32():this.sample_composition_time_offset[r]=e.readInt32())}write(e){this.size=4,this.flags&$g&&(this.size+=4),this.flags&Ov&&(this.size+=4),this.flags&jg&&(this.size+=4*this.sample_duration.length),this.flags&Kg&&(this.size+=4*this.sample_size.length),this.flags&Hg&&(this.size+=4*this.sample_flags.length),this.flags&Gg&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&$g&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&Ov&&e.writeUint32(this.first_sample_flags);for(let n=0;n<this.sample_count;n++)this.flags&jg&&e.writeUint32(this.sample_duration[n]),this.flags&Kg&&e.writeUint32(this.sample_size[n]),this.flags&Hg&&e.writeUint32(this.sample_flags[n]),this.flags&Gg&&(this.version===0?e.writeUint32(this.sample_composition_time_offset[n]):e.writeInt32(this.sample_composition_time_offset[n]))}},hh.fourcc="trun",hh),ph,QR=(ph=class extends ht{constructor(){super(...arguments),this.box_name="DataEntryUrlBox"}parse(e){this.parseFullHeader(e),this.flags!==1&&(this.location=e.readCString())}write(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)}},ph.fourcc="url ",ph),mh,JR=(mh=class extends ht{constructor(){super(...arguments),this.box_name="VideoMediaHeaderBox"}parse(e){this.parseFullHeader(e),this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}write(e){this.version=0,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)}},mh.fourcc="vmhd",mh),Vx=class{constructor(t,e,n){this.grouping_type=t,this.grouping_type_parameter=e,this.sbgp=n,this.last_sample_in_run=-1,this.entry_index=-1}},ane=class dl{constructor(e,n=!0){this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.moovStartSent=!1,this.readySent=!1,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.sidxSent=!1,this.items=[],this.entity_groups=[],this.itemsDataSize=0,this.lastMoofIndex=0,this.samplesDataSize=0,this.lastBoxStartPosition=0,this.nextParsePosition=0,this.discardMdatData=!0,this.discardMdatData=n,e?(this.stream=e,this.parse()):this.stream=new Bv,this.stream.isofile=this}setSegmentOptions(e,n,r){const{sizePerSegment:i=Number.MAX_SAFE_INTEGER,rapAlignement:a=!0}=r;let o=r.nbSamples??r.nbSamplesPerFragment??1e3;const l=r.nbSamplesPerFragment??o;if(o<=0||l<=0||i<=0){ot.error("ISOFile",`Invalid segment options: nbSamples=${o}, nbSamplesPerFragment=${l}, sizePerSegment=${i}`);return}if(o<l&&(ot.warn("ISOFile",`nbSamples (${o}) is less than nbSamplesPerFragment (${l}), setting nbSamples to nbSamplesPerFragment`),o=l),this.fragmentedTracks.some(f=>f.nb_samples!==o)){ot.error("ISOFile",`Cannot set segment options for track ${e}: nbSamples (${o}) does not match existing tracks`);return}const u=this.getTrackById(e);if(u){const f={id:e,user:n,trak:u,segmentStream:void 0,nb_samples:o,nb_samples_per_fragment:l,size_per_segment:i,rapAlignement:a,state:{lastFragmentSampleNumber:0,lastSegmentSampleNumber:0,accumulatedSize:0}};this.fragmentedTracks.push(f),u.nextSample=0}this.discardMdatData&&ot.warn("ISOFile","Segmentation options set but discardMdatData is true, samples will not be segmented")}unsetSegmentOptions(e){let n=-1;for(let r=0;r<this.fragmentedTracks.length;r++)this.fragmentedTracks[r].id===e&&(n=r);n>-1&&this.fragmentedTracks.splice(n,1)}setExtractionOptions(e,n,{nbSamples:r=1e3}={}){const i=this.getTrackById(e);i&&(this.extractedTracks.push({id:e,user:n,trak:i,nb_samples:r,samples:[]}),i.nextSample=0),this.discardMdatData&&ot.warn("ISOFile","Extraction options set but discardMdatData is true, samples will not be extracted")}unsetExtractionOptions(e){let n=-1;for(let r=0;r<this.extractedTracks.length;r++)this.extractedTracks[r].id===e&&(n=r);n>-1&&this.extractedTracks.splice(n,1)}parse(){if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else{this.saveParsePosition&&this.saveParsePosition();const n=Za(this.stream,!1);if(n.code===fl)if(this.processIncompleteBox){if(this.processIncompleteBox(n))continue;return}else return;else if(n.code===ws){const r=n.box;if(this.boxes.push(r),r.type==="uuid")this[r.uuid]!==void 0&&ot.warn("ISOFile","Duplicate Box of uuid: "+r.uuid+", overriding previous occurrence"),this[r.uuid]=r;else switch(r.type){case"mdat":this.mdats.push(r),this.transferMdatData(r);break;case"moof":this.moofs.push(r);break;case"free":case"skip":break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[r.type]!==void 0?Array.isArray(this[r.type+"s"])?(ot.info("ISOFile",`Found multiple boxes of type ${r.type} in ISOFile, adding to array`),this[r.type+"s"].push(r)):(ot.warn("ISOFile",`Found multiple boxes of type ${r.type} but no array exists. Creating array dynamically.`),this[r.type+"s"]=[this[r.type],r]):(this[r.type]=r,Array.isArray(this[r.type+"s"])&&this[r.type+"s"].push(r));break}this.updateUsedBytes&&this.updateUsedBytes(r,n)}else if(n.code===yR){ot.error("ISOFile",`Invalid data found while parsing box of type '${n.type}' at position ${n.start}. Aborting parsing.`,this);break}}}checkBuffer(e){if(!e)throw new Error("Buffer must be defined and non empty");return e.byteLength===0?(ot.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(ot.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),this.stream.initialized()?!0:(ot.warn("ISOFile","Not ready to start parsing"),!1))}appendBuffer(e,n){let r;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(n),this.nextSeekPosition?(r=this.nextSeekPosition,this.nextSeekPosition=void 0):r=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(r=this.stream.getEndFilePositionAfter(r))):this.nextParsePosition?r=this.nextParsePosition:r=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(ot.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+r),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),ot.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),r}getFragmentDuration(){const e=this.getBox("mvex");if(!e)return;if(e.mehd)return{num:e.mehd.fragment_duration,den:this.moov.mvhd.timescale};const n=this.getBoxes("trak",!1);let r={num:0,den:1};for(const i of n){const a=i.samples_duration,o=i.mdia.mdhd.timescale;a&&o&&a/o>r.num/r.den&&(r={num:a,den:o})}return r}getInfo(){if(!this.moov)return{hasMoov:!1,mime:""};const e=new Date("1904-01-01T00:00:00Z").getTime(),n=this.getBox("mvex")!==void 0,r={hasMoov:!0,duration:this.moov.mvhd.duration,timescale:this.moov.mvhd.timescale,isFragmented:n,fragment_duration:this.getFragmentDuration(),isProgressive:this.isProgressive,hasIOD:this.moov.iods!==void 0,brands:[this.ftyp.major_brand].concat(this.ftyp.compatible_brands),created:new Date(e+this.moov.mvhd.creation_time*1e3),modified:new Date(e+this.moov.mvhd.modification_time*1e3),tracks:[],audioTracks:[],videoTracks:[],subtitleTracks:[],metadataTracks:[],hintTracks:[],otherTracks:[],mime:""};for(let i=0;i<this.moov.traks.length;i++){const a=this.moov.traks[i],o=a.mdia.minf.stbl.stsd.entries[0],l=a.samples_size,u=a.mdia.mdhd.timescale,f=a.samples_duration,p=l*8*u/f,h={samples_duration:f,bitrate:p,size:l,timescale:u,alternate_group:a.tkhd.alternate_group,codec:o.getCodec(),created:new Date(e+a.tkhd.creation_time*1e3),cts_shift:a.mdia.minf.stbl.cslg,duration:a.mdia.mdhd.duration,id:a.tkhd.track_id,kind:a.udta&&a.udta.kinds.length?a.udta.kinds[0]:{schemeURI:"",value:""},language:a.mdia.elng?a.mdia.elng.extended_language:a.mdia.mdhd.languageString,layer:a.tkhd.layer,matrix:a.tkhd.matrix,modified:new Date(e+a.tkhd.modification_time*1e3),movie_duration:a.tkhd.duration,movie_timescale:r.timescale,name:a.mdia.hdlr.name,nb_samples:a.samples.length,references:[],track_height:a.tkhd.height/65536,track_width:a.tkhd.width/65536,volume:a.tkhd.volume};if(r.tracks.push(h),a.tref)for(let m=0;m<a.tref.references.length;m++)h.references.push({type:a.tref.references[m].type,track_ids:a.tref.references[m].track_ids});a.edts!==void 0&&a.edts.elst!==void 0&&(h.edits=a.edts.elst.entries),o instanceof is?(h.type="audio",r.audioTracks.push(h),h.audio={sample_rate:o.getSampleRate(),channel_count:o.getChannelCount(),sample_size:o.getSampleSize()}):o instanceof kr?(h.type="video",r.videoTracks.push(h),h.video={width:o.getWidth(),height:o.getHeight()}):o instanceof Ic?(h.type="subtitles",r.subtitleTracks.push(h)):o instanceof h5?(h.type="metadata",r.hintTracks.push(h)):o instanceof f0?(h.type="metadata",r.metadataTracks.push(h)):(h.type="metadata",r.otherTracks.push(h))}r.videoTracks&&r.videoTracks.length>0?r.mime+='video/mp4; codecs="':r.audioTracks&&r.audioTracks.length>0?r.mime+='audio/mp4; codecs="':r.mime+='application/mp4; codecs="';for(let i=0;i<r.tracks.length;i++)i!==0&&(r.mime+=","),r.mime+=r.tracks[i].codec;return r.mime+='"; profiles="',r.mime+=this.ftyp.compatible_brands.join(),r.mime+='"',r}setNextSeekPositionFromSample(e){e&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(e.offset+e.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=e.offset+e.alreadyRead)}processSamples(e){if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==void 0){const n=new Set;for(;n.size<this.fragmentedTracks.length&&this.fragmentedTracks.some(r=>r.trak.nextSample<r.trak.samples.length)&&this.sampleProcessingStarted;)for(const r of this.fragmentedTracks){const i=r.trak;if(!n.has(r.id)){const a=i.nextSample<i.samples.length?this.getSample(i,i.nextSample):void 0;if(!a){this.setNextSeekPositionFromSample(i.samples[i.nextSample]),n.add(r.id);continue}r.state.accumulatedSize+=a.size;const o=i.nextSample+1,l=o-r.state.lastFragmentSampleNumber>r.nb_samples_per_fragment,u=o-r.state.lastSegmentSampleNumber>r.nb_samples;let f=l||o%r.nb_samples_per_fragment===0,p=u||o%r.nb_samples===0,h=r.state.accumulatedSize>=r.size_per_segment;const m=!r.rapAlignement||a.is_sync,g=e||i.nextSample+1>=i.samples.length;if(g&&!m&&ot.warn("ISOFile","Flushing track #"+r.id+" at sample #"+i.nextSample+" which is not a RAP, this may lead to playback issues"),f=f&&m,p=p&&m,h=h&&m,f||h||g){l?ot.warn("ISOFile","Fragment on track #"+r.id+" is overdue, creating it with samples ["+r.state.lastFragmentSampleNumber+", "+i.nextSample+"]"):ot.debug("ISOFile","Creating media fragment on track #"+r.id+" for samples ["+r.state.lastFragmentSampleNumber+", "+i.nextSample+"]");const _=this.createFragment(r.id,r.state.lastFragmentSampleNumber,i.nextSample,r.segmentStream);if(_)r.segmentStream=_,r.state.lastFragmentSampleNumber=i.nextSample+1;else{n.add(r.id);continue}}(p||h||g)&&(u?ot.warn("ISOFile","Segment on track #"+r.id+" is overdue, sending it with samples ["+Math.max(0,i.nextSample-r.nb_samples)+", "+(i.nextSample-1)+"]"):ot.info("ISOFile","Sending fragmented data on track #"+r.id+" for samples ["+Math.max(0,i.nextSample-r.nb_samples)+", "+(i.nextSample-1)+"]"),ot.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(r.id,r.user,r.segmentStream.buffer,i.nextSample+1,e||i.nextSample+1>=i.samples.length),r.segmentStream=void 0,r.state.accumulatedSize=0,r.state.lastSegmentSampleNumber=i.nextSample+1),i.nextSample++}}}if(this.onSamples!==void 0)for(let n=0;n<this.extractedTracks.length;n++){const r=this.extractedTracks[n],i=r.trak;for(;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){ot.debug("ISOFile","Exporting on track #"+r.id+" sample #"+i.nextSample);const a=this.getSample(i,i.nextSample);if(a)i.nextSample++,r.samples.push(a);else{this.setNextSeekPositionFromSample(i.samples[i.nextSample]);break}if((i.nextSample%r.nb_samples===0||i.nextSample>=i.samples.length)&&(ot.debug("ISOFile","Sending samples on track #"+r.id+" for sample "+i.nextSample),this.onSamples&&this.onSamples(r.id,r.user,r.samples),r.samples=[],r!==this.extractedTracks[n]))break}}}}getBox(e){const n=this.getBoxes(e,!0);return n.length?n[0]:void 0}getBoxes(e,n){const r=[],i=a=>{a instanceof Ot&&a.type&&a.type===e&&r.push(a);const o=[];a.boxes&&o.push(...a.boxes),a.entries&&o.push(...a.entries),a.item_infos&&o.push(...a.item_infos),a.references&&o.push(...a.references);for(const l of o){if(r.length&&n)return;i(l)}};return i(this),r}getTrackSamplesInfo(e){const n=this.getTrackById(e);if(n)return n.samples}getTrackSample(e,n){const r=this.getTrackById(e);return this.getSample(r,n)}releaseUsedSamples(e,n){let r=0;const i=this.getTrackById(e);i.lastValidSample||(i.lastValidSample=0);for(let a=i.lastValidSample;a<n;a++)r+=this.releaseSample(i,a);ot.info("ISOFile","Track #"+e+" released samples up to "+n+" (released size: "+r+", remaining: "+this.samplesDataSize+")"),i.lastValidSample=n}start(){this.sampleProcessingStarted=!0,this.processSamples(!1)}stop(){this.sampleProcessingStarted=!1}flush(){ot.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)}seekTrack(e,n,r){let i=0,a=0,o;if(r.samples.length===0)return ot.info("ISOFile","No sample in track, cannot seek! Using time "+ot.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(let u=0;u<r.samples.length;u++){const f=r.samples[u];if(u===0)a=0,o=f.timescale;else if(f.cts>e*f.timescale){a=u-1;break}n&&f.is_sync&&(i=u)}for(n&&(a=i),e=r.samples[a].cts,r.nextSample=a;r.samples[a].alreadyRead===r.samples[a].size&&r.samples[a+1];)a++;const l=r.samples[a].offset+r.samples[a].alreadyRead;return ot.info("ISOFile","Seeking to "+(n?"RAP":"")+" sample #"+r.nextSample+" on track "+r.tkhd.track_id+", time "+ot.getDurationString(e,o)+" and offset: "+l),{offset:l,time:e/o}}getTrackDuration(e){if(!e.samples)return 1/0;const n=e.samples[e.samples.length-1];return(n.cts+n.duration)/n.timescale}seek(e,n){const r=this.moov;let i={offset:1/0,time:1/0};if(this.moov){for(let a=0;a<r.traks.length;a++){const o=r.traks[a];if(e>this.getTrackDuration(o))continue;const l=this.seekTrack(e,n,o);l.offset<i.offset&&(i.offset=l.offset),l.time<i.time&&(i.time=l.time)}return ot.info("ISOFile","Seeking at time "+ot.getDurationString(i.time,1)+" needs a buffer with a fileStart position of "+i.offset),i.offset===1/0?i={offset:this.nextParsePosition,time:0}:i.offset=this.stream.getEndFilePositionAfter(i.offset),ot.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+i.offset),i}else throw new Error("Cannot seek: moov not received!")}equal(e){let n=0;for(;n<this.boxes.length&&n<e.boxes.length;){const r=this.boxes[n],i=e.boxes[n];if(!_R(r,i))return!1;n++}return!0}write(e){for(let n=0;n<this.boxes.length;n++)this.boxes[n].write(e)}createFragment(e,n,r,i){const a=[];for(let p=n;p<=r;p++){const h=this.getTrackById(e),m=this.getSample(h,p);if(!m){this.setNextSeekPositionFromSample(h.samples[p]);return}a.push(m)}const o=i||new ys,l=this.createMoof(a);l.write(o),l.trafs[0].truns[0].data_offset=l.size+8,ot.debug("MP4Box","Adjusting data_offset with new value "+l.trafs[0].truns[0].data_offset),o.adjustUint32(l.trafs[0].truns[0].data_offset_position,l.trafs[0].truns[0].data_offset);const u=new Vv;u.stream=new Bv;let f=0;for(const p of a)if(p.data){const h=pl.fromArrayBuffer(p.data.buffer,f);u.stream.insertBuffer(h),f+=p.data.byteLength}return u.write(o),o}static writeInitializationSegment(e,n,r){ot.debug("ISOFile","Generating initialization segment");const i=new ys;e.write(i);const a=n.addBox(new JY);if(r){const o=a.addBox(new PR);o.fragment_duration=r}for(let o=0;o<n.traks.length;o++){const l=a.addBox(new eT);l.track_id=n.traks[o].tkhd.track_id,l.default_sample_description_index=1,l.default_sample_duration=n.traks[o].samples[0]?.duration??0,l.default_sample_size=0,l.default_sample_flags=65536}return n.write(i),i.buffer}save(e){const n=new ys;return n.isofile=this,this.write(n),n.save(e)}getBuffer(){const e=new ys;return e.isofile=this,this.write(e),e}initializeSegmentation(){this.onSegment||ot.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.resetTables());const e=new QY;e.addBox(this.moov.mvhd);for(let n=0;n<this.fragmentedTracks.length;n++){const r=this.getTrackById(this.fragmentedTracks[n].id);if(!r){ot.warn("ISOFile",`Track with id ${this.fragmentedTracks[n].id} not found, skipping fragmentation initialization`);continue}e.addBox(r)}return{tracks:e.traks.map((n,r)=>({id:n.tkhd.track_id,user:this.fragmentedTracks[r].user})),buffer:dl.writeInitializationSegment(this.ftyp,e,this.moov?.mvex?.mehd.fragment_duration)}}resetTables(){this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0;for(let e=0;e<this.moov.traks.length;e++){const n=this.moov.traks[e];n.tkhd.duration=0,n.mdia.mdhd.duration=0;const r=n.mdia.minf.stbl.stco||n.mdia.minf.stbl.co64;r.chunk_offsets=[];const i=n.mdia.minf.stbl.stsc;i.first_chunk=[],i.samples_per_chunk=[],i.sample_description_index=[];const a=n.mdia.minf.stbl.stsz||n.mdia.minf.stbl.stz2;a.sample_sizes=[];const o=n.mdia.minf.stbl.stts;o.sample_counts=[],o.sample_deltas=[];const l=n.mdia.minf.stbl.ctts;l&&(l.sample_counts=[],l.sample_offsets=[]);const u=n.mdia.minf.stbl.stss,f=n.mdia.minf.stbl.boxes.indexOf(u);f!==-1&&(n.mdia.minf.stbl.boxes[f]=void 0)}}static initSampleGroups(e,n,r,i,a){n&&(n.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]);for(let o=0;o<r.length;o++){const l=r[o].grouping_type+"/"+r[o].grouping_type_parameter,u=new Vx(r[o].grouping_type,r[o].grouping_type_parameter,r[o]);n&&(n.sample_groups_info[l]=u),e.sample_groups_info[l]||(e.sample_groups_info[l]=u);for(let f=0;f<i.length;f++)i[f].grouping_type===r[o].grouping_type&&(u.description=i[f],u.description.used=!0);if(a)for(let f=0;f<a.length;f++)a[f].grouping_type===r[o].grouping_type&&(u.fragment_description=a[f],u.fragment_description.used=!0,u.is_fragment=!0)}if(n){if(a){for(let o=0;o<a.length;o++)if(!a[o].used&&a[o].version>=2){const l=a[o].grouping_type+"/0",u=new Vx(a[o].grouping_type,0);u.is_fragment=!0,n.sample_groups_info[l]||(n.sample_groups_info[l]=u)}}}else for(let o=0;o<i.length;o++)if(!i[o].used&&i[o].version>=2){const l=i[o].grouping_type+"/0",u=new Vx(i[o].grouping_type,0);e.sample_groups_info[l]||(e.sample_groups_info[l]=u)}}static setSampleGroupProperties(e,n,r,i){n.sample_groups=[];for(const a in i)if(n.sample_groups[a]={grouping_type:i[a].grouping_type,grouping_type_parameter:i[a].grouping_type_parameter},r>=i[a].last_sample_in_run&&(i[a].last_sample_in_run<0&&(i[a].last_sample_in_run=0),i[a].entry_index++,i[a].entry_index<=i[a].sbgp.entries.length-1&&(i[a].last_sample_in_run+=i[a].sbgp.entries[i[a].entry_index].sample_count)),i[a].entry_index<=i[a].sbgp.entries.length-1?n.sample_groups[a].group_description_index=i[a].sbgp.entries[i[a].entry_index].group_description_index:n.sample_groups[a].group_description_index=-1,n.sample_groups[a].group_description_index!==0){let o;if(i[a].fragment_description?o=i[a].fragment_description:o=i[a].description,n.sample_groups[a].group_description_index>0){let l;n.sample_groups[a].group_description_index>65535?l=(n.sample_groups[a].group_description_index>>16)-1:l=n.sample_groups[a].group_description_index-1,o&&l>=0&&(n.sample_groups[a].description=o.entries[l])}else o&&o.version>=2&&o.default_group_description_index>0&&(n.sample_groups[a].description=o.entries[o.default_group_description_index-1])}}static process_sdtp(e,n,r){n&&(e?(n.is_leading=e.is_leading[r],n.depends_on=e.sample_depends_on[r],n.is_depended_on=e.sample_is_depended_on[r],n.has_redundancy=e.sample_has_redundancy[r]):(n.is_leading=0,n.depends_on=0,n.is_depended_on=0,n.has_redundancy=0))}buildSampleLists(){for(let e=0;e<this.moov.traks.length;e++)this.buildTrakSampleLists(this.moov.traks[e])}buildTrakSampleLists(e){let n,r,i,a,o,l;e.samples=[],e.samples_duration=0,e.samples_size=0;const u=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,f=e.mdia.minf.stbl.stsc,p=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,h=e.mdia.minf.stbl.stts,m=e.mdia.minf.stbl.ctts,g=e.mdia.minf.stbl.stss,_=e.mdia.minf.stbl.stsd,v=e.mdia.minf.stbl.subs,S=e.mdia.minf.stbl.stdp,b=e.mdia.minf.stbl.sbgps,Y=e.mdia.minf.stbl.sgpds;let E=-1,M=-1,U=-1,W=-1,w=0,I=0,P=0;if(dl.initSampleGroups(e,void 0,b,Y),!(typeof p>"u")){for(n=0;n<p.sample_sizes.length;n++){const O={number:n,track_id:e.tkhd.track_id,timescale:e.mdia.mdhd.timescale,alreadyRead:0,size:p.sample_sizes[n]};e.samples[n]=O,e.samples_size+=O.size,n===0?(i=1,r=0,O.chunk_index=i,O.chunk_run_index=r,l=f.samples_per_chunk[r],o=0,r+1<f.first_chunk.length?a=f.first_chunk[r+1]-1:a=1/0):n<l?(O.chunk_index=i,O.chunk_run_index=r):(i++,O.chunk_index=i,o=0,i<=a||(r++,r+1<f.first_chunk.length?a=f.first_chunk[r+1]-1:a=1/0),O.chunk_run_index=r,l+=f.samples_per_chunk[r]),O.description_index=f.sample_description_index[O.chunk_run_index]-1,O.description=_.entries[O.description_index],O.offset=u.chunk_offsets[O.chunk_index-1]+o,o+=O.size,n>E&&(M++,E<0&&(E=0),E+=h.sample_counts[M]),n>0?(e.samples[n-1].duration=h.sample_deltas[M],e.samples_duration+=e.samples[n-1].duration,O.dts=e.samples[n-1].dts+e.samples[n-1].duration):O.dts=0,m?(n>=U&&(W++,U<0&&(U=0),U+=m.sample_counts[W]),O.cts=e.samples[n].dts+m.sample_offsets[W]):O.cts=O.dts,g?(n===g.sample_numbers[w]-1?(O.is_sync=!0,w++):(O.is_sync=!1,O.degradation_priority=0),v&&v.entries[I].sample_delta+P===n+1&&(O.subsamples=v.entries[I].subsamples,P+=v.entries[I].sample_delta,I++)):O.is_sync=!0,dl.process_sdtp(e.mdia.minf.stbl.sdtp,O,O.number),S?O.degradation_priority=S.priority[n]:O.degradation_priority=0,v&&v.entries[I].sample_delta+P===n&&(O.subsamples=v.entries[I].subsamples,P+=v.entries[I].sample_delta),(b.length>0||Y.length>0)&&dl.setSampleGroupProperties(e,O,n,e.sample_groups_info)}n>0&&(e.samples[n-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[n-1].dts,0),e.samples_duration+=e.samples[n-1].duration)}}updateSampleLists(){let e,n,r,i,a;if(this.moov!==void 0)for(;this.lastMoofIndex<this.moofs.length;){const o=this.moofs[this.lastMoofIndex];if(this.lastMoofIndex++,o.type==="moof"){const l=o;for(let u=0;u<l.trafs.length;u++){const f=l.trafs[u],p=this.getTrackById(f.tfhd.track_id),h=this.getTrexById(f.tfhd.track_id);f.tfhd.flags&Xv?e=f.tfhd.default_sample_description_index:e=h?h.default_sample_description_index:1,f.tfhd.flags&Pv?n=f.tfhd.default_sample_duration:n=h?h.default_sample_duration:0,f.tfhd.flags&Mv?r=f.tfhd.default_sample_size:r=h?h.default_sample_size:0,f.tfhd.flags&Nv?i=f.tfhd.default_sample_flags:i=h?h.default_sample_flags:0,f.sample_number=0,f.sbgps.length>0&&dl.initSampleGroups(p,f,f.sbgps,p.mdia.minf.stbl.sgpds,f.sgpds);for(let m=0;m<f.truns.length;m++){const g=f.truns[m];for(let _=0;_<g.sample_count;_++){const v=e-1;let S=i;g.flags&Hg?S=g.sample_flags[_]:_===0&&g.flags&Ov&&(S=g.first_sample_flags);let b=r;g.flags&Kg&&(b=g.sample_size[_]),p.samples_size+=b;let Y=n;g.flags&jg&&(Y=g.sample_duration[_]),p.samples_duration+=Y;let E;p.first_traf_merged||_>0?E=p.samples[p.samples.length-1].dts+p.samples[p.samples.length-1].duration:(f.tfdt?E=f.tfdt.baseMediaDecodeTime:E=0,p.first_traf_merged=!0);let M=E;g.flags&Gg&&(M=E+g.sample_composition_time_offset[_]);const U=!!(f.tfhd.flags&Rv),W=!!(f.tfhd.flags&l5),w=!!(g.flags&$g);let I=0;U?I=f.tfhd.base_data_offset:W||m===0?I=l.start:I=a;let P;m===0&&_===0?w?P=I+g.data_offset:P=I:P=a,a=P+b;const O=f.sample_number;f.sample_number++;const V={cts:M,description_index:v,description:p.mdia.minf.stbl.stsd.entries[v],dts:E,duration:Y,moof_number:this.lastMoofIndex,number_in_traf:O,number:p.samples.length,offset:P,size:b,timescale:p.mdia.mdhd.timescale,track_id:p.tkhd.track_id,is_sync:!(S>>16&1),is_leading:S>>26&3,depends_on:S>>24&3,is_depended_on:S>>22&3,has_redundancy:S>>20&3,degradation_priority:S&65535};f.first_sample_index=p.samples.length,p.samples.push(V),(f.sbgps.length>0||f.sgpds.length>0||p.mdia.minf.stbl.sbgps.length>0||p.mdia.minf.stbl.sgpds.length>0)&&dl.setSampleGroupProperties(p,V,V.number_in_traf,f.sample_groups_info)}}if(f.subs){p.has_fragment_subsamples=!0;let m=f.first_sample_index;for(let g=0;g<f.subs.entries.length;g++){m+=f.subs.entries[g].sample_delta;const _=p.samples[m-1];_.subsamples=f.subs.entries[g].subsamples}}}}}}getSample(e,n){const r=e.samples[n];if(this.moov){if(!r.data)r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,ot.debug("ISOFile","Allocating sample #"+n+" on track #"+e.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");else if(r.alreadyRead===r.size)return r;for(;;){let i=this.stream,a=i.findPosition(!0,r.offset+r.alreadyRead,!1),o,l;if(a>-1)o=i.buffers[a],l=o.fileStart;else for(const u of this.mdats){if(!u.stream){ot.debug("ISOFile","mdat stream not yet fully read for #"+this.mdats.indexOf(u)+" mdat");continue}if(a=u.stream.findPosition(!0,r.offset+r.alreadyRead-u.start-u.hdr_size,!1),a>-1){i=u.stream,o=u.stream.buffers[a],l=u.start+u.hdr_size+o.fileStart;break}}if(o){const u=o.byteLength-(r.offset+r.alreadyRead-l);if(r.size-r.alreadyRead<=u)return ot.debug("ISOFile","Getting sample #"+n+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-l)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),ys.memcpy(r.data.buffer,r.alreadyRead,o,r.offset+r.alreadyRead-l,r.size-r.alreadyRead),o.usedBytes+=r.size-r.alreadyRead,i.logBufferLevel(),r.alreadyRead=r.size,r;if(u===0)return;ot.debug("ISOFile","Getting sample #"+n+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-l)+" read size: "+u+" full size: "+r.size+")"),ys.memcpy(r.data.buffer,r.alreadyRead,o,r.offset+r.alreadyRead-l,u),r.alreadyRead+=u,o.usedBytes+=u,i.logBufferLevel()}else return}}}releaseSample(e,n){const r=e.samples[n];return r.data?(this.samplesDataSize-=r.size,r.data=void 0,r.alreadyRead=0,r.size):0}getAllocatedSampleDataSize(){return this.samplesDataSize}getCodecs(){let e="";for(let n=0;n<this.moov.traks.length;n++){const r=this.moov.traks[n];n>0&&(e+=","),e+=r.mdia.minf.stbl.stsd.entries[0].getCodec()}return e}getTrexById(e){if(!(!this.moov||!this.moov.mvex))for(let n=0;n<this.moov.mvex.trexs.length;n++){const r=this.moov.mvex.trexs[n];if(r.track_id===e)return r}}getTrackById(e){if(this.moov)for(let n=0;n<this.moov.traks.length;n++){const r=this.moov.traks[n];if(r.tkhd.track_id===e)return r}}flattenItemInfo(){const e=this.items,n=this.entity_groups,r=this.meta;if(!(!r||!r.hdlr||!r.iinf)){for(let i=0;i<r.iinf.item_infos.length;i++){const a=r.iinf.item_infos[i].item_ID;e[a]={id:a,name:r.iinf.item_infos[i].item_name,ref_to:[],content_type:r.iinf.item_infos[i].content_type,content_encoding:r.iinf.item_infos[i].content_encoding,item_uri_type:r.iinf.item_infos[i].item_uri_type,type:r.iinf.item_infos[i].item_type?r.iinf.item_infos[i].item_type:"mime",protection:r.iinf.item_infos[i].item_protection_index>0?r.ipro.protections[r.iinf.item_infos[i].item_protection_index-1]:void 0}}if(r.grpl)for(let i=0;i<r.grpl.boxes.length;i++){const a=r.grpl.boxes[i];n[a.group_id]={id:a.group_id,entity_ids:a.entity_ids,type:a.type}}if(r.iloc)for(let i=0;i<r.iloc.items.length;i++){const a=r.iloc.items[i],o=e[a.item_ID];a.data_reference_index!==0&&(ot.warn("Item storage with reference to other files: not supported"),o.source=r.dinf.boxes[a.data_reference_index-1]),o.extents=[],o.size=0;for(let l=0;l<a.extents.length;l++)o.extents[l]={offset:a.extents[l].extent_offset+a.base_offset,length:a.extents[l].extent_length,alreadyRead:0},a.construction_method===1&&(o.extents[l].offset+=r.idat.start+r.idat.hdr_size),o.size+=o.extents[l].length}if(r.pitm&&(e[r.pitm.item_id].primary=!0),r.iref)for(let i=0;i<r.iref.references.length;i++){const a=r.iref.references[i];for(let o=0;o<a.references.length;o++)e[a.from_item_ID].ref_to.push({type:a.type,id:a.references[o]})}if(r.iprp)for(let i=0;i<r.iprp.ipmas.length;i++){const a=r.iprp.ipmas[i];for(let o=0;o<a.associations.length;o++){const l=a.associations[o],u=e[l.id]??n[l.id];if(u){u.properties===void 0&&(u.properties={boxes:[]});for(let f=0;f<l.props.length;f++){const p=l.props[f];if(p.property_index>0&&p.property_index-1<r.iprp.ipco.boxes.length){const h=r.iprp.ipco.boxes[p.property_index-1];u.properties[h.type]=h,u.properties.boxes.push(h)}}}}}}}getItem(e){if(!this.meta)return;const n=this.items[e];if(!n.data&&n.size)n.data=new Uint8Array(n.size),n.alreadyRead=0,this.itemsDataSize+=n.size,ot.debug("ISOFile","Allocating item #"+e+" of size "+n.size+" (total: "+this.itemsDataSize+")");else if(n.alreadyRead===n.size)return n;for(let r=0;r<n.extents.length;r++){const i=n.extents[r];if(i.alreadyRead!==i.length){const a=this.stream.findPosition(!0,i.offset+i.alreadyRead,!1);if(a>-1){const o=this.stream.buffers[a],l=o.byteLength-(i.offset+i.alreadyRead-o.fileStart);if(i.length-i.alreadyRead<=l)ot.debug("ISOFile","Getting item #"+e+" extent #"+r+" data (alreadyRead: "+i.alreadyRead+" offset: "+(i.offset+i.alreadyRead-o.fileStart)+" read size: "+(i.length-i.alreadyRead)+" full extent size: "+i.length+" full item size: "+n.size+")"),ys.memcpy(n.data.buffer,n.alreadyRead,o,i.offset+i.alreadyRead-o.fileStart,i.length-i.alreadyRead),(!this.parsingMdat||this.discardMdatData)&&(o.usedBytes+=i.length-i.alreadyRead),this.stream.logBufferLevel(),n.alreadyRead+=i.length-i.alreadyRead,i.alreadyRead=i.length;else{ot.debug("ISOFile","Getting item #"+e+" extent #"+r+" partial data (alreadyRead: "+i.alreadyRead+" offset: "+(i.offset+i.alreadyRead-o.fileStart)+" read size: "+l+" full extent size: "+i.length+" full item size: "+n.size+")"),ys.memcpy(n.data.buffer,n.alreadyRead,o,i.offset+i.alreadyRead-o.fileStart,l),i.alreadyRead+=l,n.alreadyRead+=l,(!this.parsingMdat||this.discardMdatData)&&(o.usedBytes+=l),this.stream.logBufferLevel();return}}else return}}if(n.alreadyRead===n.size)return n}releaseItem(e){const n=this.items[e];if(n.data){this.itemsDataSize-=n.size,n.data=void 0,n.alreadyRead=0;for(let r=0;r<n.extents.length;r++){const i=n.extents[r];i.alreadyRead=0}return n.size}else return 0}processItems(e){for(const n in this.items){const r=this.items[n];this.getItem(r.id),e&&!r.sent&&(e(r),r.sent=!0,r.data=void 0)}}hasItem(e){for(const n in this.items){const r=this.items[n];if(r.name===e)return r.id}return-1}getMetaHandler(){if(this.meta)return this.meta.hdlr.handler}getPrimaryItem(){if(this.meta&&this.meta.pitm)return this.getItem(this.meta.pitm.item_id)}itemToFragmentedTrackFile({itemId:e}={}){let n;if(e?n=this.getItem(e):n=this.getPrimaryItem(),!n)return;const r=new dl;r.discardMdatData=!1;const i={type:n.type,description_boxes:n.properties.boxes};n.properties.ispe&&(i.width=n.properties.ispe.image_width,i.height=n.properties.ispe.image_height);const a=r.addTrack(i);if(a)return r.addSample(a,n.data),r}processIncompleteBox(e){if(e.type==="mdat"){const n=new Vv(e.size);return this.parsingMdat=n,this.boxes.push(n),this.mdats.push(n),n.start=e.start,n.hdr_size=e.hdr_size,n.original_size=e.original_size,this.stream.addUsedBytes(n.hdr_size),this.lastBoxStartPosition=n.start+n.size,this.stream.seek(n.start+n.size,!1,this.discardMdatData)?(this.transferMdatData(),this.parsingMdat=void 0,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=n.start+n.size,!1)}else return e.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),(this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1)?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1)}hasIncompleteMdat(){return this.parsingMdat!==void 0}transferMdatData(e){const n=e??this.parsingMdat;if(this.discardMdatData){ot.debug("ISOFile","Discarding 'mdat' data, not transferring it to the mdat box stream");return}if(!n){ot.warn("ISOFile","Cannot transfer 'mdat' data, no mdat box is being parsed");return}const r=this.stream.findPosition(!0,n.start+n.hdr_size,!1),i=this.stream.findPosition(!0,n.start+n.size,!1);if(r===-1||i===-1){ot.warn("ISOFile","Cannot transfer 'mdat' data, start or end buffer not found");return}n.stream=new Bv;for(let a=r;a<=i;a++){const o=this.stream.buffers[a],l=a===r?n.start+n.hdr_size-o.fileStart:0,u=a===i?n.start+n.size-o.fileStart:o.byteLength;if(u>l){ot.debug("ISOFile","Transferring 'mdat' data from buffer #"+a+" ("+l+" to "+u+")");const f=u-l,p=new pl(f),h=n.stream.getAbsoluteEndPosition();ys.memcpy(p,0,o,l,f),p.fileStart=h,n.stream.insertBuffer(p),o.usedBytes+=f}}}processIncompleteMdat(){const e=this.parsingMdat;return this.stream.seek(e.start+e.size,!1,this.discardMdatData)?(ot.debug("ISOFile","Found 'mdat' end in buffered data"),this.transferMdatData(),this.parsingMdat=void 0,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)}restoreParsePosition(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)}saveParsePosition(){this.lastBoxStartPosition=this.stream.getPosition()}updateUsedBytes(e,n){this.stream.addUsedBytes&&(e.type==="mdat"?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))}addBox(e){return Ot.prototype.addBox.call(this,e)}init(e={}){const n=this.addBox(new kR);n.major_brand=e.brands&&e.brands[0]||"iso4",n.minor_version=0,n.compatible_brands=e.brands||["iso4"];const r=this.addBox(new QY);r.addBox(new JY);const i=r.addBox(new NR);return i.timescale=e.timescale||600,i.rate=e.rate||65536,i.creation_time=0,i.modification_time=0,i.duration=e.duration||0,i.volume=e.width?0:256,i.matrix=[65536,0,0,0,65536,0,0,0,1073741824],i.next_track_id=1,this}addTrack(e={}){this.moov||this.init(e);const n=e||{};n.width=n.width||320,n.height=n.height||320,n.id=n.id||this.moov.mvhd.next_track_id,n.type=n.type||"avc1";const r=this.moov.addBox(new xR);this.moov.mvhd.next_track_id=n.id+1;const i=r.addBox(new GR);i.flags=ree|iee|see,i.creation_time=0,i.modification_time=0,i.track_id=n.id,i.duration=n.duration||0,i.layer=n.layer||0,i.alternate_group=0,i.volume=1,i.matrix=[65536,0,0,0,65536,0,0,0,1073741824],i.width=n.width<<16,i.height=n.height<<16;const a=r.addBox(new YR),o=a.addBox(new XR);o.creation_time=0,o.modification_time=0,o.timescale=n.timescale||1,o.duration=n.media_duration||0,o.language=n.language||"und";const l=a.addBox(new IR);l.handler=n.hdlr||"vide",l.name=n.name||"Track created with MP4Box.js";const u=a.addBox(new AR);u.extended_language=n.language||"fr-FR";const f=a.addBox(new TR),p=rs.sampleEntry[n.type];if(!p)return;const h=new p;if(h.data_reference_index=1,h instanceof kr){const W=h,w=f.addBox(new JR);w.graphicsmode=0,w.opcolor=[0,0,0],W.width=n.width,W.height=n.height,W.horizresolution=72<<16,W.vertresolution=72<<16,W.frame_count=1,W.compressorname=n.type+" Compressor",W.depth=24,n.avcDecoderConfigRecord?W.addBox(new SR(n.avcDecoderConfigRecord.byteLength)).parse(new ys(n.avcDecoderConfigRecord)):n.hevcDecoderConfigRecord&&W.addBox(new RR(n.hevcDecoderConfigRecord.byteLength)).parse(new ys(n.hevcDecoderConfigRecord))}else if(h instanceof is){const W=h,w=f.addBox(new VR);w.balance=n.balance||0,W.channel_count=n.channel_count||2,W.samplesize=n.samplesize||16,W.samplerate=n.samplerate||65536}else h instanceof h5?f.addBox(new bR):h instanceof Ic?(f.addBox(new LR),h instanceof BR&&(h.namespace=n.namespace||"nonamespace",h.schema_location=n.schema_location||"",h.auxiliary_mime_types=n.auxiliary_mime_types||"")):h instanceof f0?f.addBox(new Fv):h instanceof Cw?f.addBox(new Fv):f.addBox(new Fv);n.description&&h.addBox.call(h,n.description),n.description_boxes&&n.description_boxes.forEach(function(W){h.addBox.call(h,W)});const g=f.addBox(new wR).addBox(new CR),_=new QR;_.flags=1,g.addEntry(_);const v=f.addBox(new WR);v.addBox(new zR).addEntry(h);const b=v.addBox(new jR);b.sample_counts=[],b.sample_deltas=[];const Y=v.addBox(new ZR);Y.first_chunk=[],Y.samples_per_chunk=[],Y.sample_description_index=[];const E=v.addBox(new FR);E.chunk_offsets=[];const M=v.addBox(new $R);M.sample_sizes=[];const U=this.moov.mvex.addBox(new eT);return U.track_id=n.id,U.default_sample_description_index=n.default_sample_description_index||1,U.default_sample_duration=n.default_sample_duration||0,U.default_sample_size=n.default_sample_size||0,U.default_sample_flags=n.default_sample_flags||0,this.buildTrakSampleLists(r),n.id}addSample(e,n,{sample_description_index:r,duration:i=1,cts:a=0,dts:o=0,is_sync:l=!1,is_leading:u=0,depends_on:f=0,is_depended_on:p=0,has_redundancy:h=0,degradation_priority:m=0,subsamples:g,offset:_=0}={}){const v=this.getTrackById(e);if(v===void 0)return;const S=r?r-1:0,b={number:v.samples.length,track_id:v.tkhd.track_id,timescale:v.mdia.mdhd.timescale,description_index:S,description:v.mdia.minf.stbl.stsd.entries[S],data:n,size:n.byteLength,alreadyRead:n.byteLength,duration:i,cts:a,dts:o,is_sync:l,is_leading:u,depends_on:f,is_depended_on:p,has_redundancy:h,degradation_priority:m,offset:_,subsamples:g};v.samples.push(b),v.samples_size+=b.size,v.samples_duration+=b.duration,v.first_dts===void 0&&(v.first_dts=o),this.processSamples();const Y=this.addBox(this.createMoof([b]));Y.computeSize(),Y.trafs[0].truns[0].data_offset=Y.size+8;const E=this.addBox(new Vv);return E.data=new Uint8Array(n),b}createMoof(e){if(e.length===0)return;if(e.some(p=>p.track_id!==e[0].track_id))throw new Error("Cannot create moof for samples from different tracks: "+e.map(p=>p.track_id).join(", "));const n=e[0].track_id,r=this.getTrackById(n);if(!r)throw new Error("Cannot create moof for non-existing track: "+n);const i=new ER,a=i.addBox(new MR);a.sequence_number=++this.nextMoofNumber;const o=i.addBox(new UR),l=o.addBox(new HR);l.track_id=n,l.flags=l5;const u=o.addBox(new KR);u.baseMediaDecodeTime=e[0].dts-(r.first_dts||0);const f=o.addBox(new qR);f.flags=$g|jg|Kg|Hg|Gg,f.data_offset=0,f.first_sample_flags=0,f.sample_count=e.length;for(const p of e){let h=0;p.is_sync?h=1<<25:h=65536,f.sample_duration.push(p.duration),f.sample_size.push(p.size),f.sample_flags.push(h),f.sample_composition_time_offset.push(p.cts-p.dts)}return i}print(e){e.indent="";for(let n=0;n<this.boxes.length;n++)this.boxes[n]&&this.boxes[n].print(e)}};function eX(t=!1,e){return new ane(e,!t)}var tX={};gR(tX,{Descriptor:()=>Mc,ES_Descriptor:()=>sX,MPEG4DescriptorParser:()=>fne});var nX=3,w_=4,Aw=5,rX=6,Mc=class iX{constructor(e,n){this.tag=e,this.size=n,this.descs=[]}parse(e){this.data=e.readUint8Array(this.size)}findDescriptor(e){for(let n=0;n<this.descs.length;n++)if(this.descs[n].tag===e)return this.descs[n]}parseOneDescriptor(e){let n=0;const r=e.readUint8();let i=e.readUint8();for(;i&128;)n=(n<<7)+(i&127),i=e.readUint8();n=(n<<7)+(i&127),ot.debug("Descriptor","Found "+(Lv[r]||"Descriptor "+r)+", size "+n+" at position "+e.getPosition());const a=Lv[r]?new une[Lv[r]](n):new iX(n);return a.parse(e),a}parseRemainingDescriptors(e){const n=e.getPosition();for(;e.getPosition()<n+this.size;){const r=this.parseOneDescriptor?.(e);this.descs.push(r)}}},sX=class extends Mc{constructor(t){super(nX,t)}parse(t){if(this.ES_ID=t.readUint16(),this.flags=t.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=t.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){const e=t.readUint8();this.URL=t.readString(e),this.size-=e+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=t.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(t)}getOTI(){const t=this.findDescriptor(w_);return t?t.oti:0}getAudioConfig(){const t=this.findDescriptor(w_);if(!t)return;const e=t.findDescriptor(Aw);if(e&&e.data){let n=(e.data[0]&248)>>3;return n===31&&e.data.length>=2&&(n=32+((e.data[0]&7)<<3)+((e.data[1]&224)>>5)),n}}},one=class extends Mc{constructor(t){super(w_,t)}parse(t){this.oti=t.readUint8(),this.streamType=t.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=t.readUint24(),this.maxBitrate=t.readUint32(),this.avgBitrate=t.readUint32(),this.size-=13,this.parseRemainingDescriptors(t)}},lne=class extends Mc{constructor(t){super(Aw,t)}},cne=class extends Mc{constructor(t){super(rX,t)}},une={Descriptor:Mc,ES_Descriptor:sX,DecoderConfigDescriptor:one,DecoderSpecificInfo:lne,SLConfigDescriptor:cne},Lv={[nX]:"ES_Descriptor",[w_]:"DecoderConfigDescriptor",[Aw]:"DecoderSpecificInfo",[rX]:"SLConfigDescriptor"},fne=class{constructor(){this.parseOneDescriptor=Mc.prototype.parseOneDescriptor}getDescriptorName(t){return Lv[t]}},aX={};gR(aX,{CoLLBox:()=>Tne,ItemContentIDPropertyBox:()=>Jie,OpusSampleEntry:()=>Ote,SmDmBox:()=>Gre,a1lxBox:()=>dne,a1opBox:()=>hne,ac_3SampleEntry:()=>Pte,ac_4SampleEntry:()=>Mte,aebrBox:()=>Fne,afbrBox:()=>Lne,albcBox:()=>Zne,alstSampleGroupEntry:()=>Uie,altrBox:()=>zne,auxCBox:()=>pne,av01SampleEntry:()=>ute,av1CBox:()=>tte,avc1SampleEntry:()=>ate,avc2SampleEntry:()=>ote,avc3SampleEntry:()=>lte,avc4SampleEntry:()=>cte,avcCBox:()=>SR,avllSampleGroupEntry:()=>Cie,avs3SampleEntry:()=>Ete,avssSampleGroupEntry:()=>Aie,brstBox:()=>$ne,btrtBox:()=>mne,bxmlBox:()=>wee,ccstBox:()=>gne,cdefBox:()=>yne,clapBox:()=>vne,clefBox:()=>Xre,clliBox:()=>_ne,cmexBox:()=>Sne,cminBox:()=>bne,cmpdBox:()=>xne,co64Box:()=>Yne,colrBox:()=>ste,coviBox:()=>Ene,cprtBox:()=>Une,cschBox:()=>Cne,cslgBox:()=>Ane,cttsBox:()=>kne,dOpsBox:()=>One,dac3Box:()=>Ine,dataBox:()=>Ng,dav1SampleEntry:()=>fte,dec3Box:()=>Rne,dfLaBox:()=>Xne,dimmBox:()=>Pne,dinfBox:()=>wR,dmax:()=>Mne,dmedBox:()=>Nne,dobrBox:()=>jne,drefBox:()=>CR,drepBox:()=>Dne,dtrtSampleGroupEntry:()=>kie,dvh1SampleEntry:()=>_te,dvheSampleEntry:()=>Ste,ec_3SampleEntry:()=>Nte,edtsBox:()=>Eee,elngBox:()=>AR,elstBox:()=>Bne,emsgBox:()=>Vne,encaSampleEntry:()=>zte,encmSampleEntry:()=>Gte,encsSampleEntry:()=>jte,enctSampleEntry:()=>Hte,encuSampleEntry:()=>$te,encvSampleEntry:()=>Zte,enofBox:()=>Mre,eqivBox:()=>Kne,esdsBox:()=>nte,etypBox:()=>Zee,fLaCSampleEntry:()=>Lte,favcBox:()=>Hne,fielBox:()=>sre,fobrBox:()=>Gne,freeBox:()=>bee,frmaBox:()=>are,ftypBox:()=>kR,grplBox:()=>Fee,hdlrBox:()=>IR,hev1SampleEntry:()=>pte,hev2SampleEntry:()=>mte,hinfBox:()=>Iee,hmhdBox:()=>bR,hntiBox:()=>kee,hvc1SampleEntry:()=>dte,hvc2SampleEntry:()=>hte,hvcCBox:()=>RR,hvt1SampleEntry:()=>gte,iaugBox:()=>qne,idatBox:()=>See,iinfBox:()=>jee,ilocBox:()=>Kee,ilstBox:()=>Nre,imirBox:()=>ore,infeBox:()=>$ee,iodsBox:()=>Yee,ipcoBox:()=>Vee,ipmaBox:()=>lre,iproBox:()=>Wee,iprpBox:()=>Bee,irefBox:()=>Gee,irotBox:()=>cre,ispeBox:()=>ure,itaiBox:()=>fre,j2kHBox:()=>Lee,j2kiSampleEntry:()=>Ute,keysBox:()=>Ore,kindBox:()=>dre,levaBox:()=>hre,lhe1SampleEntry:()=>yte,lhv1SampleEntry:()=>vte,lhvCBox:()=>pre,lselBox:()=>mre,m4aeSampleEntry:()=>Xte,maxrBox:()=>gre,mdatBox:()=>Vv,mdcvBox:()=>yre,mdhdBox:()=>XR,mdiaBox:()=>YR,mecoBox:()=>Aee,mehdBox:()=>PR,metaBox:()=>Qee,mettSampleEntry:()=>Jee,metxSampleEntry:()=>ete,mfhdBox:()=>MR,mfraBox:()=>Cee,mfroBox:()=>vre,mha1SampleEntry:()=>Dte,mha2SampleEntry:()=>Bte,mhm1SampleEntry:()=>Vte,mhm2SampleEntry:()=>Fte,minfBox:()=>TR,mjp2SampleEntry:()=>Cte,mjpgSampleEntry:()=>Ate,moofBox:()=>ER,moovBox:()=>QY,mp4aSampleEntry:()=>Rte,mp4sSampleEntry:()=>Kte,mp4vSampleEntry:()=>Ite,mskCBox:()=>_re,msrcTrackGroupTypeBox:()=>gie,mvexBox:()=>JY,mvhdBox:()=>NR,mvifSampleGroupEntry:()=>Iie,nmhdBox:()=>Fv,npckBox:()=>Sre,numpBox:()=>bre,padbBox:()=>Yre,panoBox:()=>Qne,paspBox:()=>Tre,paylBox:()=>wre,paytBox:()=>Wre,pdinBox:()=>Ere,piffLsmBox:()=>jie,piffPsshBox:()=>Kie,piffSencBox:()=>Hie,piffTencBox:()=>Gie,piffTfrfBox:()=>qie,piffTfxdBox:()=>Qie,pitmBox:()=>qee,pixiBox:()=>Ure,pmaxBox:()=>Cre,povdBox:()=>zee,prdiBox:()=>Are,prfrBox:()=>kre,prftBox:()=>Ire,prgrBox:()=>rre,profBox:()=>Dre,prolSampleGroupEntry:()=>Rie,psshBox:()=>Rre,pymdBox:()=>ire,rapSampleGroupEntry:()=>Xie,rashSampleGroupEntry:()=>Pie,resvSampleEntry:()=>qte,rinfBox:()=>Mee,rollSampleGroupEntry:()=>Mie,rtp_Box:()=>Fre,saioBox:()=>Lre,saizBox:()=>Zre,sbgpBox:()=>nne,sbpmBox:()=>$re,sbttSampleEntry:()=>Qte,schiBox:()=>Nee,schmBox:()=>jre,scifSampleGroupEntry:()=>Nie,scnmSampleGroupEntry:()=>Oie,sdp_Box:()=>Kre,sdtpBox:()=>rne,seigSampleGroupEntry:()=>Die,sencBox:()=>Hre,sgpdBox:()=>ine,sidxBox:()=>sne,sinfBox:()=>Pee,skipBox:()=>xee,slidBox:()=>Jne,smhdBox:()=>VR,sratBox:()=>qre,ssixBox:()=>Qre,stblBox:()=>WR,stcoBox:()=>FR,stdpBox:()=>Jre,sterBox:()=>ere,sthdBox:()=>LR,stppSampleEntry:()=>BR,strdBox:()=>Xee,striBox:()=>eie,strkBox:()=>Ree,stsaSampleGroupEntry:()=>Bie,stscBox:()=>ZR,stsdBox:()=>zR,stsgBox:()=>tie,stshBox:()=>nie,stssBox:()=>rie,stszBox:()=>$R,sttsBox:()=>jR,stviBox:()=>iie,stxtSampleEntry:()=>Jte,stypBox:()=>sie,stz2Box:()=>aie,subsBox:()=>oie,syncSampleGroupEntry:()=>Vie,taicBox:()=>lie,taptBox:()=>Bre,teleSampleGroupEntry:()=>Fie,tencBox:()=>cie,tfdtBox:()=>KR,tfhdBox:()=>HR,tfraBox:()=>uie,tkhdBox:()=>GR,tmaxBox:()=>fie,tminBox:()=>die,totlBox:()=>hie,tpayBox:()=>pie,tpylBox:()=>mie,trafBox:()=>UR,trakBox:()=>xR,trefBox:()=>yie,trepBox:()=>vie,trexBox:()=>eT,trgrBox:()=>Oee,trpyBox:()=>_ie,trunBox:()=>qR,tsasSampleGroupEntry:()=>Lie,tsclSampleGroupEntry:()=>Zie,tselBox:()=>Sie,tsynBox:()=>tre,tx3gSampleEntry:()=>ene,txtcBox:()=>bie,tycoBox:()=>xie,udesBox:()=>Yie,udtaBox:()=>Dee,uncCBox:()=>Tie,uncvSampleEntry:()=>kte,urlBox:()=>QR,urnBox:()=>wie,viprSampleGroupEntry:()=>zie,vmhdBox:()=>JR,vp08SampleEntry:()=>wte,vp09SampleEntry:()=>Wte,vpcCBox:()=>rte,vttCBox:()=>Wie,vttcBox:()=>Uee,vvc1SampleEntry:()=>bte,vvcCBox:()=>ite,vvcNSampleEntry:()=>Tte,vvi1SampleEntry:()=>xte,vvnCBox:()=>Eie,vvs1SampleEntry:()=>Yte,waveBox:()=>Vre,wbbrBox:()=>nre,wvttSampleEntry:()=>tne,xmlBox:()=>Tee});var gh,dne=(gh=class extends Ot{constructor(){super(...arguments),this.box_name="AV1LayeredImageIndexingProperty"}parse(e){const r=((e.readUint8()&1&1)+1)*16;this.layer_size=[];for(let i=0;i<3;i++)r===16?this.layer_size[i]=e.readUint16():this.layer_size[i]=e.readUint32()}},gh.fourcc="a1lx",gh),yh,hne=(yh=class extends Ot{constructor(){super(...arguments),this.box_name="OperatingPointSelectorProperty"}parse(e){this.op_index=e.readUint8()}},yh.fourcc="a1op",yh),vh,pne=(vh=class extends ht{constructor(){super(...arguments),this.box_name="AuxiliaryTypeProperty"}parse(e){this.parseFullHeader(e),this.aux_type=e.readCString();const n=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(n)}},vh.fourcc="auxC",vh),_h,mne=(_h=class extends Ot{constructor(){super(...arguments),this.box_name="BitRateBox"}parse(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}},_h.fourcc="btrt",_h),Sh,gne=(Sh=class extends ht{constructor(){super(...arguments),this.box_name="CodingConstraintsBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.all_ref_pics_intra=(n&128)===128,this.intra_pred_used=(n&64)===64,this.max_ref_per_pic=(n&63)>>2,e.readUint24()}},Sh.fourcc="ccst",Sh),bh,yne=(bh=class extends Ot{constructor(){super(...arguments),this.box_name="ComponentDefinitionBox"}parse(e){this.channel_count=e.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[];for(let n=0;n<this.channel_count;n++)this.channel_indexes.push(e.readUint16()),this.channel_types.push(e.readUint16()),this.channel_associations.push(e.readUint16())}},bh.fourcc="cdef",bh),xh,vne=(xh=class extends Ot{constructor(){super(...arguments),this.box_name="CleanApertureBox"}parse(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}},xh.fourcc="clap",xh),Yh,_ne=(Yh=class extends Ot{constructor(){super(...arguments),this.box_name="ContentLightLevelBox"}parse(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}},Yh.fourcc="clli",Yh),Th,Sne=(Th=class extends Ot{constructor(){super(...arguments),this.box_name="CameraExtrinsicMatrixProperty"}parse(e){this.flags&1&&(this.pos_x=e.readInt32()),this.flags&2&&(this.pos_y=e.readInt32()),this.flags&4&&(this.pos_z=e.readInt32()),this.flags&8&&(this.version===0?this.flags&16?(this.quat_x=e.readInt32(),this.quat_y=e.readInt32(),this.quat_z=e.readInt32()):(this.quat_x=e.readInt16(),this.quat_y=e.readInt16(),this.quat_z=e.readInt16()):this.version),this.flags&32&&(this.id=e.readUint32())}},Th.fourcc="cmex",Th),wh,bne=(wh=class extends Ot{constructor(){super(...arguments),this.box_name="CameraIntrinsicMatrixProperty"}parse(e){this.focal_length_x=e.readInt32(),this.principal_point_x=e.readInt32(),this.principal_point_y=e.readInt32(),this.flags&1&&(this.focal_length_y=e.readInt32(),this.skew_factor=e.readInt32())}},wh.fourcc="cmin",wh),Wh,xne=(Wh=class extends Ot{constructor(){super(...arguments),this.box_name="ComponentDefinitionBox"}parse(e){this.component_count=e.readUint32(),this.component_types=[],this.component_type_urls=[];for(let n=0;n<this.component_count;n++){const r=e.readUint16();this.component_types.push(r),r>=32768&&this.component_type_urls.push(e.readCString())}}},Wh.fourcc="cmpd",Wh),Eh,Yne=(Eh=class extends ht{constructor(){super(...arguments),this.box_name="ChunkLargeOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.chunk_offsets=[],this.version===0)for(let r=0;r<n;r++)this.chunk_offsets.push(e.readUint64())}write(e){this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length);for(let n=0;n<this.chunk_offsets.length;n++)e.writeUint64(this.chunk_offsets[n])}},Eh.fourcc="co64",Eh),Uh,Tne=(Uh=class extends ht{constructor(){super(...arguments),this.box_name="ContentLightLevelBox"}parse(e){this.parseFullHeader(e),this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}},Uh.fourcc="CoLL",Uh),wne=class{toString(){let t="centre_azimuth: ";return t+=this.centre_azimuth,t+=" (",t+=this.centre_azimuth*2**-16,t+="), centre_elevation: ",t+=this.centre_elevation,t+=" (",t+=this.centre_elevation*2**-16,t+="), centre_tilt: ",t+=this.centre_tilt,t+=" (",t+=this.centre_tilt*2**-16,t+=")",this.range_included_flag&&(t+=", azimuth_range: ",t+=this.azimuth_range,t+=" (",t+=this.azimuth_range*2**-16,t+="), elevation_range: ",t+=this.elevation_range,t+=" (",t+=this.elevation_range*2**-16,t+=")"),this.interpolate_included_flag&&(t+=", interpolate: ",t+=this.interpolate),t}},Wne=class{toString(){let t="";return this.view_idc&&(t+="view_idc: ",t+=this.view_idc,t+=", "),t+="sphere_region: {",t+=this.sphere_region,t+="}",t}},Ch,Ene=(Ch=class extends ht{constructor(){super(...arguments),this.box_name="CoverageInformationBox"}parse(e){this.parseFullHeader(e),this.coverage_shape_type=e.readUint8();const n=e.readUint8(),r=e.readInt8(),i=r&128;i&&(this.default_view_idc=(r&96)>>5),this.coverage_regions=new Array;for(let a=0;a<n;a++){const o=new Wne;i&&(o.view_idc=e.readUint8()>>6),o.sphere_region=this.parseSphereRegion(e,!0,!0),this.coverage_regions.push(o)}}parseSphereRegion(e,n,r){const i=new wne;return i.centre_azimuth=e.readInt32(),i.centre_elevation=e.readInt32(),i.centre_tilt=e.readInt32(),i.range_included_flag=n,n&&(i.azimuth_range=e.readUint32(),i.elevation_range=e.readUint32()),i.interpolate_included_flag=r,r&&(i.interpolate=(e.readUint8()&128)===128),i}},Ch.fourcc="covi",Ch),Ah,Une=(Ah=class extends ht{constructor(){super(...arguments),this.box_name="CopyrightBox"}parse(e){this.parseFullHeader(e),this.parseLanguage(e),this.notice=e.readCString()}},Ah.fourcc="cprt",Ah),kh,Cne=(kh=class extends ht{constructor(){super(...arguments),this.box_name="CompatibleSchemeTypeBox"}parse(e){this.parseFullHeader(e),this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readCString())}},kh.fourcc="csch",kh),Cg=2147483647,Ih,Ane=(Ih=class extends ht{constructor(){super(...arguments),this.box_name="CompositionToDecodeBox"}parse(e){this.parseFullHeader(e),this.version===0?(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32()):this.version===1&&(this.compositionToDTSShift=e.readInt64(),this.leastDecodeToDisplayDelta=e.readInt64(),this.greatestDecodeToDisplayDelta=e.readInt64(),this.compositionStartTime=e.readInt64(),this.compositionEndTime=e.readInt64())}write(e){this.version=0,(this.compositionToDTSShift>Cg||this.leastDecodeToDisplayDelta>Cg||this.greatestDecodeToDisplayDelta>Cg||this.compositionStartTime>Cg||this.compositionEndTime>Cg)&&(this.version=1),this.flags=0,this.version===0?(this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)):this.version===1&&(this.size=40,this.writeHeader(e),e.writeInt64(this.compositionToDTSShift),e.writeInt64(this.leastDecodeToDisplayDelta),e.writeInt64(this.greatestDecodeToDisplayDelta),e.writeInt64(this.compositionStartTime),e.writeInt64(this.compositionEndTime))}},Ih.fourcc="cslg",Ih),Rh,kne=(Rh=class extends ht{constructor(){super(...arguments),this.box_name="CompositionOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.sample_counts=[],this.sample_offsets=[],this.version===0)for(let r=0;r<n;r++){this.sample_counts.push(e.readUint32());const i=e.readInt32();i<0&&ot.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(i)}else if(this.version===1)for(let r=0;r<n;r++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}write(e){this.version=this.sample_offsets.some(n=>n<0)?1:0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length);for(let n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),this.version===1?e.writeInt32(this.sample_offsets[n]):e.writeUint32(this.sample_offsets[n])}unpack(e){let n=0;for(let r=0;r<this.sample_counts.length;r++)for(let i=0;i<this.sample_counts[r];i++)e[n].pts=e[n].dts+this.sample_offsets[r],n++}},Rh.fourcc="ctts",Rh),Xh,Ine=(Xh=class extends Ot{constructor(){super(...arguments),this.box_name="AC3SpecificBox"}parse(e){const n=e.readUint8(),r=e.readUint8(),i=e.readUint8();this.fscod=n>>6,this.bsid=n>>1&31,this.bsmod=(n&1)<<2|r>>6&3,this.acmod=r>>3&7,this.lfeon=r>>2&1,this.bit_rate_code=r&3|i>>5&7}},Xh.fourcc="dac3",Xh),Ph,Rne=(Ph=class extends Ot{constructor(){super(...arguments),this.box_name="EC3SpecificBox"}parse(e){const n=e.readUint16();this.data_rate=n>>3,this.num_ind_sub=n&7,this.ind_subs=[];for(let r=0;r<this.num_ind_sub+1;r++){const i=e.readUint8(),a=e.readUint8(),o=e.readUint8(),l={fscod:i>>6,bsid:i>>1&31,bsmod:(i&1)<<4|a>>4&15,acmod:a>>1&7,lfeon:a&1,num_dep_sub:o>>1&15};this.ind_subs.push(l),l.num_dep_sub>0&&(l.chan_loc=(o&1)<<8|e.readUint8())}}},Ph.fourcc="dec3",Ph),Mh,Xne=(Mh=class extends ht{constructor(){super(...arguments),this.box_name="FLACSpecificBox"}parse(e){this.parseFullHeader(e);const n=127,r=128,i=[],a=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];let o;do{o=e.readUint8();const l=Math.min(o&n,a.length-1);l?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),i.push(a[l])}while(o&r);this.numMetadataBlocks=i.length+" ("+i.join(", ")+")"}},Mh.fourcc="dfLa",Mh),Nh,Pne=(Nh=class extends Ot{constructor(){super(...arguments),this.box_name="hintimmediateBytesSent"}parse(e){this.bytessent=e.readUint64()}},Nh.fourcc="dimm",Nh),Oh,Mne=(Oh=class extends Ot{constructor(){super(...arguments),this.box_name="hintlongestpacket"}parse(e){this.time=e.readUint32()}},Oh.fourcc="dmax",Oh),Dh,Nne=(Dh=class extends Ot{constructor(){super(...arguments),this.box_name="hintmediaBytesSent"}parse(e){this.bytessent=e.readUint64()}},Dh.fourcc="dmed",Dh),Bh,One=(Bh=class extends Ot{constructor(){super(...arguments),this.box_name="OpusSpecificBox"}parse(e){if(this.Version=e.readUint8(),this.OutputChannelCount=e.readUint8(),this.PreSkip=e.readUint16(),this.InputSampleRate=e.readUint32(),this.OutputGain=e.readInt16(),this.ChannelMappingFamily=e.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=e.readUint8(),this.CoupledCount=e.readUint8(),this.ChannelMapping=[];for(let n=0;n<this.OutputChannelCount;n++)this.ChannelMapping[n]=e.readUint8()}}write(e){if(this.size=11,this.ChannelMappingFamily!==0&&(this.size+=2+this.OutputChannelCount),this.writeHeader(e),e.writeUint8(this.Version),e.writeUint8(this.OutputChannelCount),e.writeUint16(this.PreSkip),e.writeUint32(this.InputSampleRate),e.writeInt16(this.OutputGain),e.writeUint8(this.ChannelMappingFamily),this.ChannelMappingFamily!==0){e.writeUint8(this.StreamCount),e.writeUint8(this.CoupledCount);for(let n=0;n<this.OutputChannelCount;n++)e.writeUint8(this.ChannelMapping[n])}}},Bh.fourcc="dOps",Bh),Vh,Dne=(Vh=class extends Ot{constructor(){super(...arguments),this.box_name="hintrepeatedBytesSent"}parse(e){this.bytessent=e.readUint64()}},Vh.fourcc="drep",Vh),Fh,Bne=(Fh=class extends ht{constructor(){super(...arguments),this.box_name="EditListBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){const i={segment_duration:this.version===1?e.readUint64():e.readUint32(),media_time:this.version===1?e.readInt64():e.readInt32(),media_rate_integer:e.readInt16(),media_rate_fraction:e.readInt16()};this.entries.push(i)}}write(e){const n=this.entries.some(r=>r.segment_duration>ci||r.media_time>ci)||this.version===1;this.version=n?1:0,this.size=4+12*this.entries.length,this.size+=n?8*this.entries.length:0,this.writeHeader(e),e.writeUint32(this.entries.length);for(let r=0;r<this.entries.length;r++){const i=this.entries[r];n?(e.writeUint64(i.segment_duration),e.writeInt64(i.media_time)):(e.writeUint32(i.segment_duration),e.writeInt32(i.media_time)),e.writeInt16(i.media_rate_integer),e.writeInt16(i.media_rate_fraction)}}},Fh.fourcc="elst",Fh),Lh,Vne=(Lh=class extends ht{constructor(){super(...arguments),this.box_name="EventMessageBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());let n=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version===1&&(n-=4),this.message_data=e.readUint8Array(n)}write(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)}},Lh.fourcc="emsg",Lh),Wi=class extends ht{parse(t){this.parseFullHeader(t),this.group_id=t.readUint32(),this.num_entities_in_group=t.readUint32(),this.entity_ids=[];for(let e=0;e<this.num_entities_in_group;e++){const n=t.readUint32();this.entity_ids.push(n)}}},Zh,Fne=(Zh=class extends Wi{constructor(){super(...arguments),this.box_name="Auto exposure bracketing"}},Zh.fourcc="aebr",Zh),zh,Lne=(zh=class extends Wi{constructor(){super(...arguments),this.box_name="Flash exposure information"}},zh.fourcc="afbr",zh),$h,Zne=($h=class extends Wi{constructor(){super(...arguments),this.box_name="Album collection"}},$h.fourcc="albc",$h),jh,zne=(jh=class extends Wi{constructor(){super(...arguments),this.box_name="Alternative entity"}},jh.fourcc="altr",jh),Kh,$ne=(Kh=class extends Wi{constructor(){super(...arguments),this.box_name="Burst image"}},Kh.fourcc="brst",Kh),Hh,jne=(Hh=class extends Wi{constructor(){super(...arguments),this.box_name="Depth of field bracketing"}},Hh.fourcc="dobr",Hh),Gh,Kne=(Gh=class extends Wi{constructor(){super(...arguments),this.box_name="Equivalent entity"}},Gh.fourcc="eqiv",Gh),qh,Hne=(qh=class extends Wi{constructor(){super(...arguments),this.box_name="Favorites collection"}},qh.fourcc="favc",qh),Qh,Gne=(Qh=class extends Wi{constructor(){super(...arguments),this.box_name="Focus bracketing"}},Qh.fourcc="fobr",Qh),Jh,qne=(Jh=class extends Wi{constructor(){super(...arguments),this.box_name="Image item with an audio track"}},Jh.fourcc="iaug",Jh),ep,Qne=(ep=class extends Wi{constructor(){super(...arguments),this.box_name="Panorama"}},ep.fourcc="pano",ep),tp,Jne=(tp=class extends Wi{constructor(){super(...arguments),this.box_name="Slideshow"}},tp.fourcc="slid",tp),np,ere=(np=class extends Wi{constructor(){super(...arguments),this.box_name="Stereo"}},np.fourcc="ster",np),rp,tre=(rp=class extends Wi{constructor(){super(...arguments),this.box_name="Time-synchronized capture"}},rp.fourcc="tsyn",rp),ip,nre=(ip=class extends Wi{constructor(){super(...arguments),this.box_name="White balance bracketing"}},ip.fourcc="wbbr",ip),sp,rre=(sp=class extends Wi{constructor(){super(...arguments),this.box_name="Progressive rendering"}},sp.fourcc="prgr",sp),ap,ire=(ap=class extends Wi{constructor(){super(...arguments),this.box_name="Image pyramid"}parse(e){this.parseFullHeader(e),this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[];for(let n=0;n<this.num_entities_in_group;n++){const r=e.readUint32();this.entity_ids.push(r)}this.tile_size_x=e.readUint16(),this.tile_size_y=e.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[];for(let n=0;n<this.num_entities_in_group;n++)this.layer_binning[n]=e.readUint16(),this.tiles_in_layer_row_minus1[n]=e.readUint16(),this.tiles_in_layer_column_minus1[n]=e.readUint16()}},ap.fourcc="pymd",ap),op,sre=(op=class extends Ot{constructor(){super(...arguments),this.box_name="FieldHandlingBox"}parse(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}},op.fourcc="fiel",op),lp,are=(lp=class extends Ot{constructor(){super(...arguments),this.box_name="OriginalFormatBox"}parse(e){this.data_format=e.readString(4)}},lp.fourcc="frma",lp),cp,ore=(cp=class extends Ot{constructor(){super(...arguments),this.box_name="ImageMirror"}parse(e){const n=e.readUint8();this.reserved=n>>7,this.axis=n&1}},cp.fourcc="imir",cp),up,lre=(up=class extends ht{constructor(){super(...arguments),this.box_name="ItemPropertyAssociationBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.associations=[];for(let r=0;r<n;r++){const i=this.version<1?e.readUint16():e.readUint32(),a=[],o=e.readUint8();for(let l=0;l<o;l++){const u=e.readUint8();a.push({essential:(u&128)>>7===1,property_index:this.flags&1?(u&127)<<8|e.readUint8():u&127})}this.associations.push({id:i,props:a})}}},up.fourcc="ipma",up),fp,cre=(fp=class extends Ot{constructor(){super(...arguments),this.box_name="ImageRotation"}parse(e){this.angle=e.readUint8()&3}},fp.fourcc="irot",fp),dp,ure=(dp=class extends ht{constructor(){super(...arguments),this.box_name="ImageSpatialExtentsProperty"}parse(e){this.parseFullHeader(e),this.image_width=e.readUint32(),this.image_height=e.readUint32()}},dp.fourcc="ispe",dp),hp,fre=(hp=class extends ht{constructor(){super(...arguments),this.box_name="TAITimestampBox"}parse(e){this.TAI_timestamp=e.readUint64();const n=e.readUint8();this.sychronization_state=n>>7&1,this.timestamp_generation_failure=n>>6&1,this.timestamp_is_modified=n>>5&1}},hp.fourcc="itai",hp),pp,dre=(pp=class extends ht{constructor(){super(...arguments),this.box_name="KindBox"}parse(e){this.parseFullHeader(e),this.schemeURI=e.readCString(),this.isEndOfBox(e)||(this.value=e.readCString())}write(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value?this.value.length+1:0),this.writeHeader(e),e.writeCString(this.schemeURI),this.value&&e.writeCString(this.value)}},pp.fourcc="kind",pp),mp,hre=(mp=class extends ht{constructor(){super(...arguments),this.box_name="LevelAssignmentBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.levels=[];for(let r=0;r<n;r++){const i={};this.levels[r]=i,i.track_ID=e.readUint32();const a=e.readUint8();switch(i.padding_flag=a>>7,i.assignment_type=a&127,i.assignment_type){case 0:i.grouping_type=e.readString(4);break;case 1:i.grouping_type=e.readString(4),i.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:i.sub_track_id=e.readUint32();break;default:ot.warn("BoxParser",`Unknown level assignment type: ${i.assignment_type}`)}}}},mp.fourcc="leva",mp),gp,pre=(gp=class extends Ot{constructor(){super(...arguments),this.box_name="LHEVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3;let n=e.readUint8();this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];const r=e.readUint8();for(let i=0;i<r;i++){const a=[];this.nalu_arrays.push(a),n=e.readUint8(),a.completeness=(n&128)>>7,a.nalu_type=n&63;const o=e.readUint16();for(let l=0;l<o;l++){const u=e.readUint16();a.push({data:e.readUint8Array(u)})}}}},gp.fourcc="lhvC",gp),yp,mre=(yp=class extends Ot{constructor(){super(...arguments),this.box_name="LayerSelectorProperty"}parse(e){this.layer_id=e.readUint16()}},yp.fourcc="lsel",yp),vp,gre=(vp=class extends Ot{constructor(){super(...arguments),this.box_name="hintmaxrate"}parse(e){this.period=e.readUint32(),this.bytes=e.readUint32()}},vp.fourcc="maxr",vp),av=class{constructor(t,e){this.x=t,this.y=e}toString(){return"("+this.x+","+this.y+")"}},_p,yre=(_p=class extends Ot{constructor(){super(...arguments),this.box_name="MasteringDisplayColourVolumeBox"}parse(e){this.display_primaries=[],this.display_primaries[0]=new av(e.readUint16(),e.readUint16()),this.display_primaries[1]=new av(e.readUint16(),e.readUint16()),this.display_primaries[2]=new av(e.readUint16(),e.readUint16()),this.white_point=new av(e.readUint16(),e.readUint16()),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}},_p.fourcc="mdcv",_p),Sp,vre=(Sp=class extends ht{constructor(){super(...arguments),this.box_name="MovieFragmentRandomAccessOffsetBox"}parse(e){this.parseFullHeader(e),this._size=e.readUint32()}},Sp.fourcc="mfro",Sp),bp,_re=(bp=class extends ht{constructor(){super(...arguments),this.box_name="MaskConfigurationProperty"}parse(e){this.parseFullHeader(e),this.bits_per_pixel=e.readUint8()}},bp.fourcc="mskC",bp),xp,Sre=(xp=class extends Ot{constructor(){super(...arguments),this.box_name="hintPacketsSent"}parse(e){this.packetssent=e.readUint32()}},xp.fourcc="npck",xp),Yp,bre=(Yp=class extends Ot{constructor(){super(...arguments),this.box_name="hintPacketsSent"}parse(e){this.packetssent=e.readUint64()}},Yp.fourcc="nump",Yp),xre=class{constructor(t,e){this.pad1=t,this.pad2=e}},Tp,Yre=(Tp=class extends ht{constructor(){super(...arguments),this.box_name="PaddingBitsBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.padbits=[];for(let r=0;r<Math.floor((n+1)/2);r++){const i=e.readUint8(),a=(i&112)>>4,o=i&7;this.padbits.push(new xre(a,o))}}},Tp.fourcc="padb",Tp),wp,Tre=(wp=class extends Ot{constructor(){super(...arguments),this.box_name="PixelAspectRatioBox"}parse(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}},wp.fourcc="pasp",wp),Wp,wre=(Wp=class extends Ot{constructor(){super(...arguments),this.box_name="CuePayloadBox"}parse(e){this.text=e.readString(this.size-this.hdr_size)}},Wp.fourcc="payl",Wp),Ep,Wre=(Ep=class extends Ot{constructor(){super(...arguments),this.box_name="hintpayloadID"}parse(e){this.payloadID=e.readUint32();const n=e.readUint8();this.rtpmap_string=e.readString(n)}},Ep.fourcc="payt",Ep),Up,Ere=(Up=class extends ht{constructor(){super(...arguments),this.box_name="ProgressiveDownloadInfoBox",this.rate=[],this.initial_delay=[]}parse(e){this.parseFullHeader(e);const n=(this.size-this.hdr_size)/8;for(let r=0;r<n;r++)this.rate[r]=e.readUint32(),this.initial_delay[r]=e.readUint32()}},Up.fourcc="pdin",Up),Cp,Ure=(Cp=class extends ht{constructor(){super(...arguments),this.box_name="PixelInformationProperty"}parse(e){this.parseFullHeader(e),this.num_channels=e.readUint8(),this.bits_per_channels=[];for(let n=0;n<this.num_channels;n++)this.bits_per_channels[n]=e.readUint8()}},Cp.fourcc="pixi",Cp),Ap,Cre=(Ap=class extends Ot{constructor(){super(...arguments),this.box_name="hintlargestpacket"}parse(e){this.bytes=e.readUint32()}},Ap.fourcc="pmax",Ap),kp,Are=(kp=class extends ht{constructor(){super(...arguments),this.box_name="ProgressiveDerivedImageItemInformationProperty"}parse(e){if(this.parseFullHeader(e),this.step_count=e.readUint16(),this.item_count=[],this.flags&2)for(let n=0;n<this.step_count;n++)this.item_count[n]=e.readUint16()}},kp.fourcc="prdi",kp),Ip,kre=(Ip=class extends ht{constructor(){super(...arguments),this.box_name="ProjectionFormatBox"}parse(e){this.parseFullHeader(e),this.projection_type=e.readUint8()&31}},Ip.fourcc="prfr",Ip),Rp,Ire=(Rp=class extends ht{constructor(){super(...arguments),this.box_name="ProducerReferenceTimeBox"}parse(e){this.parseFullHeader(e),this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),this.version===0?this.media_time=e.readUint32():this.media_time=e.readUint64()}},Rp.fourcc="prft",Rp),Xp,Rre=(Xp=class extends ht{constructor(){super(...arguments),this.box_name="ProtectionSystemSpecificHeaderBox"}parse(e){if(this.parseFullHeader(e),this.system_id=kc(e),this.kid=[],this.version>0){const r=e.readUint32();for(let i=0;i<r;i++)this.kid[i]=kc(e)}const n=e.readUint32();n>0&&(this.protection_data=e.readUint8Array(n))}},Xp.fourcc="pssh",Xp),Pp,Xre=(Pp=class extends ht{constructor(){super(...arguments),this.box_name="TrackCleanApertureDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},Pp.fourcc="clef",Pp);function Pre(t,e){if(t===Ng.Types.UTF8)return new TextDecoder("utf-8").decode(e);const n=new DataView(e.buffer);if(t===Ng.Types.BE_UNSIGNED_INT){if(e.length===1)return n.getUint8(0);if(e.length===2)return n.getUint16(0,!1);if(e.length===4)return n.getUint32(0,!1);if(e.length===8)return n.getBigUint64(0,!1);throw new Error("Unsupported ITIF_TYPE_BE_UNSIGNED_INT length "+e.length)}else if(t===Ng.Types.BE_SIGNED_INT){if(e.length===1)return n.getInt8(0);if(e.length===2)return n.getInt16(0,!1);if(e.length===4)return n.getInt32(0,!1);if(e.length===8)return n.getBigInt64(0,!1);throw new Error("Unsupported ITIF_TYPE_BE_SIGNED_INT length "+e.length)}else if(t===Ng.Types.BE_FLOAT32)return n.getFloat32(0,!1);ot.warn("DataBox","Unsupported or unimplemented itif data type: "+t)}var bc,Ng=(bc=class extends Ot{constructor(){super(...arguments),this.box_name="DataBox"}parse(e){this.valueType=e.readUint32(),this.country=e.readUint16(),this.country>255&&(e.seek(e.getPosition()-2),this.countryString=e.readString(2)),this.language=e.readUint16(),this.language>255&&(e.seek(e.getPosition()-2),this.parseLanguage(e)),this.raw=e.readUint8Array(this.size-this.hdr_size-8),this.value=Pre(this.valueType,this.raw)}},bc.fourcc="data",bc.Types={RESERVED:0,UTF8:1,UTF16:2,SJIS:3,UTF8_SORT:4,UTF16_SORT:5,JPEG:13,PNG:14,BE_SIGNED_INT:21,BE_UNSIGNED_INT:22,BE_FLOAT32:23,BE_FLOAT64:24,BMP:27,QT_ATOM:28,BE_SIGNED_INT8:65,BE_SIGNED_INT16:66,BE_SIGNED_INT32:67,BE_FLOAT32_POINT:70,BE_FLOAT32_DIMENSIONS:71,BE_FLOAT32_RECT:72,BE_SIGNED_INT64:74,BE_UNSIGNED_INT8:75,BE_UNSIGNED_INT16:76,BE_UNSIGNED_INT32:77,BE_UNSIGNED_INT64:78,BE_FLOAT64_AFFINE_TRANSFORM:79},bc),Mp,Mre=(Mp=class extends ht{constructor(){super(...arguments),this.box_name="TrackEncodedPixelsDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},Mp.fourcc="enof",Mp),Np,Nre=(Np=class extends Ot{constructor(){super(...arguments),this.box_name="IlstBox"}parse(e){this.list={};let n=this.size-this.hdr_size;for(;n>0;){const r=e.readUint32(),i=e.readUint32(),a=Za(e,!1,r-8);a.code===ws&&(this.list[i]=a.box),n-=r}}},Np.fourcc="ilst",Np),Op,Ore=(Op=class extends ht{constructor(){super(...arguments),this.box_name="KeysBox"}parse(e){this.parseFullHeader(e),this.count=e.readUint32(),this.keys={};for(let n=0;n<this.count;n++){const r=e.readUint32();this.keys[n+1]=e.readString(r-4)}}},Op.fourcc="keys",Op),Dp,Dre=(Dp=class extends ht{constructor(){super(...arguments),this.box_name="TrackProductionApertureDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},Dp.fourcc="prof",Dp),Bp,Bre=(Bp=class extends qn{constructor(){super(...arguments),this.box_name="TrackApertureModeDimensionsBox",this.clefs=[],this.profs=[],this.enofs=[],this.subBoxNames=["clef","prof","enof"]}},Bp.fourcc="tapt",Bp),Vp,Vre=(Vp=class extends qn{constructor(){super(...arguments),this.box_name="siDecompressionParamBox"}},Vp.fourcc="wave",Vp),Fp,Fre=(Fp=class extends Ot{constructor(){super(...arguments),this.box_name="rtpmoviehintinformation"}parse(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}},Fp.fourcc="rtp ",Fp),Lp,Lre=(Lp=class extends ht{constructor(){super(...arguments),this.box_name="SampleAuxiliaryInformationOffsetsBox"}parse(e){this.parseFullHeader(e),this.flags&1&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32());const n=e.readUint32();this.offset=[];for(let r=0;r<n;r++)this.version===0?this.offset[r]=e.readUint32():this.offset[r]=e.readUint64()}},Lp.fourcc="saio",Lp),Zp,Zre=(Zp=class extends ht{constructor(){super(...arguments),this.box_name="SampleAuxiliaryInformationSizesBox"}parse(e){if(this.parseFullHeader(e),this.flags&1&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8(),this.sample_count=e.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(let n=0;n<this.sample_count;n++)this.sample_info_size[n]=e.readUint8()}},Zp.fourcc="saiz",Zp),zre=class{constructor(t,e){this.bad_pixel_row=t,this.bad_pixel_column=e}toString(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"}},zp,$re=(zp=class extends ht{constructor(){super(...arguments),this.box_name="SensorBadPixelsMapBox"}parse(e){this.parseFullHeader(e),this.component_count=e.readUint16(),this.component_index=[];for(let r=0;r<this.component_count;r++)this.component_index.push(e.readUint16());const n=e.readUint8();this.correction_applied=(n&128)===128,this.num_bad_rows=e.readUint32(),this.num_bad_cols=e.readUint32(),this.num_bad_pixels=e.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[];for(let r=0;r<this.num_bad_rows;r++)this.bad_rows.push(e.readUint32());for(let r=0;r<this.num_bad_cols;r++)this.bad_columns.push(e.readUint32());for(let r=0;r<this.num_bad_pixels;r++){const i=e.readUint32(),a=e.readUint32();this.bad_pixels.push(new zre(i,a))}}},zp.fourcc="sbpm",zp),$p,jre=($p=class extends ht{constructor(){super(...arguments),this.box_name="SchemeTypeBox"}parse(e){this.parseFullHeader(e),this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}},$p.fourcc="schm",$p),jp,Kre=(jp=class extends Ot{constructor(){super(...arguments),this.box_name="rtptracksdphintinformation"}parse(e){this.sdptext=e.readString(this.size-this.hdr_size)}},jp.fourcc="sdp ",jp),Kp,Hre=(Kp=class extends ht{constructor(){super(...arguments),this.box_name="SampleEncryptionBox"}},Kp.fourcc="senc",Kp),Hp,Gre=(Hp=class extends ht{constructor(){super(...arguments),this.box_name="SMPTE2086MasteringDisplayMetadataBox"}parse(e){this.parseFullHeader(e),this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}},Hp.fourcc="SmDm",Hp),Gp,qre=(Gp=class extends ht{constructor(){super(...arguments),this.box_name="SamplingRateBox"}parse(e){this.parseFullHeader(e),this.sampling_rate=e.readUint32()}},Gp.fourcc="srat",Gp),qp,Qre=(qp=class extends ht{constructor(){super(...arguments),this.box_name="CompressedSubsegmentIndexBox"}parse(e){this.parseFullHeader(e),this.subsegments=[];const n=e.readUint32();for(let r=0;r<n;r++){const i={};this.subsegments.push(i),i.ranges=[];const a=e.readUint32();for(let o=0;o<a;o++){const l={};i.ranges.push(l),l.level=e.readUint8(),l.range_size=e.readUint24()}}}},qp.fourcc="ssix",qp),Qp,Jre=(Qp=class extends ht{constructor(){super(...arguments),this.box_name="DegradationPriorityBox"}parse(e){this.parseFullHeader(e);const n=(this.size-this.hdr_size)/2;this.priority=[];for(let r=0;r<n;r++)this.priority[r]=e.readUint16()}},Qp.fourcc="stpd",Qp),Jp,eie=(Jp=class extends ht{constructor(){super(...arguments),this.box_name="SubTrackInformationBox"}parse(e){this.parseFullHeader(e),this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();const n=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(let r=0;r<n;r++)this.attribute_list[r]=e.readUint32()}},Jp.fourcc="stri",Jp),em,tie=(em=class extends ht{constructor(){super(...arguments),this.box_name="SubTrackSampleGroupBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readUint32();const n=e.readUint16();this.group_description_index=[];for(let r=0;r<n;r++)this.group_description_index[r]=e.readUint32()}},em.fourcc="stsg",em),tm,nie=(tm=class extends ht{constructor(){super(...arguments),this.box_name="ShadowSyncSampleBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(let r=0;r<n;r++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length);for(let n=0;n<this.shadowed_sample_numbers.length;n++)e.writeUint32(this.shadowed_sample_numbers[n]),e.writeUint32(this.sync_sample_numbers[n])}},tm.fourcc="stsh",tm),nm,rie=(nm=class extends ht{constructor(){super(...arguments),this.box_name="SyncSampleBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.version===0){this.sample_numbers=[];for(let r=0;r<n;r++)this.sample_numbers.push(e.readUint32())}}write(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)}},nm.fourcc="stss",nm),rm,iie=(rm=class extends ht{constructor(){super(...arguments),this.box_name="StereoVideoBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.single_view_allowed=n&3,this.stereo_scheme=e.readUint32();const r=e.readUint32();for(this.stereo_indication_type=e.readString(r),this.boxes=[];e.getPosition()<this.start+this.size;){const i=Za(e,!1,this.size-(e.getPosition()-this.start));if(i.code===ws){const a=i.box;this.boxes.push(a),this[a.type]=a}else return}}},rm.fourcc="stvi",rm),im,sie=(im=class extends Ot{constructor(){super(...arguments),this.box_name="SegmentTypeBox"}parse(e){let n=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),n-=8,this.compatible_brands=[];let r=0;for(;n>=4;)this.compatible_brands[r]=e.readString(4),n-=4,r++}write(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,void 0,4),e.writeUint32(this.minor_version);for(let n=0;n<this.compatible_brands.length;n++)e.writeString(this.compatible_brands[n],void 0,4)}},im.fourcc="styp",im),sm,aie=(sm=class extends ht{constructor(){super(...arguments),this.box_name="CompactSampleSizeBox"}parse(e){if(this.parseFullHeader(e),this.sample_sizes=[],this.version===0){this.reserved=e.readUint24(),this.field_size=e.readUint8();const n=e.readUint32();if(this.field_size===4)for(let r=0;r<n;r+=2){const i=e.readUint8();this.sample_sizes[r]=i>>4&15,this.sample_sizes[r+1]=i&15}else if(this.field_size===8)for(let r=0;r<n;r++)this.sample_sizes[r]=e.readUint8();else if(this.field_size===16)for(let r=0;r<n;r++)this.sample_sizes[r]=e.readUint16();else ot.error("BoxParser","Error in length field in stz2 box",e.isofile)}}},sm.fourcc="stz2",sm),am,oie=(am=class extends ht{constructor(){super(...arguments),this.box_name="SubSampleInformationBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.entries=[];let r;for(let i=0;i<n;i++){const a={};if(this.entries[i]=a,a.sample_delta=e.readUint32(),a.subsamples=[],r=e.readUint16(),r>0)for(let o=0;o<r;o++){const l={};a.subsamples.push(l),this.version===1?l.size=e.readUint32():l.size=e.readUint16(),l.priority=e.readUint8(),l.discardable=e.readUint8(),l.codec_specific_parameters=e.readUint32()}}}},am.fourcc="subs",am),om,lie=(om=class extends ht{constructor(){super(...arguments),this.box_name="TAIClockInfoBox"}parse(e){this.time_uncertainty=e.readUint64(),this.clock_resolution=e.readUint32(),this.clock_drift_rate=e.readInt32();const n=e.readUint8();this.clock_type=(n&192)>>6}},om.fourcc="taic",om),lm,cie=(lm=class extends ht{constructor(){super(...arguments),this.box_name="TrackEncryptionBox"}parse(e){if(this.parseFullHeader(e),e.readUint8(),this.version===0)e.readUint8();else{const n=e.readUint8();this.default_crypt_byte_block=n>>4&15,this.default_skip_byte_block=n&15}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=kc(e),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}},lm.fourcc="tenc",lm),cm,uie=(cm=class extends ht{constructor(){super(...arguments),this.box_name="TrackFragmentRandomAccessBox"}parse(e){this.parseFullHeader(e),this.track_ID=e.readUint32(),e.readUint24();const n=e.readUint8();this.length_size_of_traf_num=n>>4&3,this.length_size_of_trun_num=n>>2&3,this.length_size_of_sample_num=n&3,this.entries=[];const r=e.readUint32();for(let i=0;i<r;i++)this.version===1?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()}},cm.fourcc="tfra",cm),um,fie=(um=class extends Ot{constructor(){super(...arguments),this.box_name="hintmaxrelativetime"}parse(e){this.time=e.readUint32()}},um.fourcc="tmax",um),fm,die=(fm=class extends Ot{constructor(){super(...arguments),this.box_name="hintminrelativetime"}parse(e){this.time=e.readUint32()}},fm.fourcc="tmin",fm),dm,hie=(dm=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint32()}},dm.fourcc="totl",dm),hm,pie=(hm=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint32()}},hm.fourcc="tpay",hm),pm,mie=(pm=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint64()}},pm.fourcc="tpyl",pm),mm,gie=(mm=class extends oee{},mm.fourcc="msrc",mm),El,yie=(El=class extends Ot{constructor(){super(...arguments),this.box_name="TrackReferenceBox",this.references=[]}parse(e){for(;e.getPosition()<this.start+this.size;){const n=Za(e,!0,this.size-(e.getPosition()-this.start));if(n.code===ws){El.allowed_types.includes(n.type)||ot.warn("BoxParser",`Unknown track reference type: '${n.type}'`);const r=new uee(n.type,n.size,n.hdr_size,n.start);r.write===Ot.prototype.write&&r.type!=="mdat"&&(ot.info("BoxParser","TrackReference "+r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),this.references.push(r)}else return}}},El.fourcc="tref",El.allowed_types=["hint","cdsc","font","hind","vdep","vplx","subt","thmb","auxl","cdtg","shsc","aest"],El),gm,vie=(gm=class extends ht{constructor(){super(...arguments),this.box_name="TrackExtensionPropertiesBox"}parse(e){for(this.parseFullHeader(e),this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;){const n=Za(e,!1,this.size-(e.getPosition()-this.start));if(n.code===ws){const r=n.box;this.boxes.push(r)}else return}}},gm.fourcc="trep",gm),ym,_ie=(ym=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint64()}},ym.fourcc="trpy",ym),vm,Sie=(vm=class extends ht{constructor(){super(...arguments),this.box_name="TrackSelectionBox"}parse(e){this.parseFullHeader(e),this.switch_group=e.readUint32();const n=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(let r=0;r<n;r++)this.attribute_list[r]=e.readUint32()}},vm.fourcc="tsel",vm),_m,bie=(_m=class extends ht{constructor(){super(...arguments),this.box_name="TextConfigBox"}parse(e){this.parseFullHeader(e),this.config=e.readCString()}},_m.fourcc="txtc",_m),Sm,xie=(Sm=class extends Ot{constructor(){super(...arguments),this.box_name="TypeCombinationBox"}parse(e){const n=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(let r=0;r<n;r++)this.compatible_brands[r]=e.readString(4)}},Sm.fourcc="tyco",Sm),bm,Yie=(bm=class extends ht{constructor(){super(...arguments),this.box_name="UserDescriptionProperty"}parse(e){this.parseFullHeader(e),this.lang=e.readCString(),this.name=e.readCString(),this.description=e.readCString(),this.tags=e.readCString()}},bm.fourcc="udes",bm),xm,Tie=(xm=class extends ht{constructor(){super(...arguments),this.box_name="UncompressedFrameConfigBox"}parse(e){if(this.parseFullHeader(e),this.profile=e.readString(4),this.version!==1){if(this.version===0){this.component_count=e.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[];for(let r=0;r<this.component_count;r++)this.component_index.push(e.readUint16()),this.component_bit_depth_minus_one.push(e.readUint8()),this.component_format.push(e.readUint8()),this.component_align_size.push(e.readUint8());this.sampling_type=e.readUint8(),this.interleave_type=e.readUint8(),this.block_size=e.readUint8();const n=e.readUint8();this.component_little_endian=n>>7&1,this.block_pad_lsb=n>>6&1,this.block_little_endian=n>>5&1,this.block_reversed=n>>4&1,this.pad_unknown=n>>3&1,this.pixel_size=e.readUint32(),this.row_align_size=e.readUint32(),this.tile_align_size=e.readUint32(),this.num_tile_cols_minus_one=e.readUint32(),this.num_tile_rows_minus_one=e.readUint32()}}}},xm.fourcc="uncC",xm),Ym,wie=(Ym=class extends ht{constructor(){super(...arguments),this.box_name="DataEntryUrnBox"}parse(e){this.parseFullHeader(e),this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}write(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)}},Ym.fourcc="urn ",Ym),Tm,Wie=(Tm=class extends Ot{constructor(){super(...arguments),this.box_name="WebVTTConfigurationBox"}parse(e){this.text=e.readString(this.size-this.hdr_size)}},Tm.fourcc="vttC",Tm),wm,Eie=(wm=class extends ht{constructor(){super(...arguments),this.box_name="VvcNALUConfigBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.lengthSizeMinusOne=n&3}},wm.fourcc="vvnC",wm),Wm,Uie=(Wm=class extends ri{parse(e){const n=e.readUint16();this.first_output_sample=e.readUint16(),this.sample_offset=[];for(let i=0;i<n;i++)this.sample_offset[i]=e.readUint32();const r=this.description_length-4-4*n;this.num_output_samples=[],this.num_total_samples=[];for(let i=0;i<r/4;i++)this.num_output_samples[i]=e.readUint16(),this.num_total_samples[i]=e.readUint16()}},Wm.grouping_type="alst",Wm),Em,Cie=(Em=class extends ri{parse(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}},Em.grouping_type="avll",Em),Um,Aie=(Um=class extends ri{parse(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();const n=e.readUint8();this.durationFlag=n>>7,this.avgRateFlag=n>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];const r=e.readUint8();for(let i=0;i<r;i++)this.dependency.push({subSeqDirectionFlag:e.readUint8(),layerNumber:e.readUint8(),subSequenceIdentifier:e.readUint16()})}},Um.grouping_type="avss",Um),Cm,kie=(Cm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Cm.grouping_type="dtrt",Cm),Am,Iie=(Am=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Am.grouping_type="mvif",Am),km,Rie=(km=class extends ri{parse(e){this.roll_distance=e.readInt16()}},km.grouping_type="prol",km),Im,Xie=(Im=class extends ri{parse(e){const n=e.readUint8();this.num_leading_samples_known=n>>7,this.num_leading_samples=n&127}},Im.grouping_type="rap ",Im),Rm,Pie=(Rm=class extends ri{parse(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)ot.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(let n=0;n<this.operation_point_count;n++)this.available_bitrate[n]=e.readUint32(),this.target_rate_share[n]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}},Rm.grouping_type="rash",Rm),Xm,Mie=(Xm=class extends ri{parse(e){this.roll_distance=e.readInt16()}},Xm.grouping_type="roll",Xm),Pm,Nie=(Pm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Pm.grouping_type="scif",Pm),Mm,Oie=(Mm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Mm.grouping_type="scnm",Mm),Nm,Die=(Nm=class extends ri{parse(e){this.reserved=e.readUint8();const n=e.readUint8();this.crypt_byte_block=n>>4,this.skip_byte_block=n&15,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=kc(e),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}},Nm.grouping_type="seig",Nm),Om,Bie=(Om=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Om.grouping_type="stsa",Om),Dm,Vie=(Dm=class extends ri{parse(e){const n=e.readUint8();this.NAL_unit_type=n&63}},Dm.grouping_type="sync",Dm),Bm,Fie=(Bm=class extends ri{parse(e){const n=e.readUint8();this.level_independently_decodable=n>>7}},Bm.grouping_type="tele",Bm),Vm,Lie=(Vm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Vm.grouping_type="tsas",Vm),Fm,Zie=(Fm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Fm.grouping_type="tscl",Fm),Lm,zie=(Lm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Lm.grouping_type="vipr",Lm),Zm,$ie=(Zm=class extends Ot{},Zm.fourcc="uuid",Zm),zm,C0=(zm=class extends ht{},zm.fourcc="uuid",zm),$m,jie=($m=class extends C0{constructor(){super(...arguments),this.box_name="LiveServerManifestBox"}parse(e){this.parseFullHeader(e),this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},$m.uuid="a5d40b30e81411ddba2f0800200c9a66",$m),jm,Kie=(jm=class extends C0{constructor(){super(...arguments),this.box_name="PiffProtectionSystemSpecificHeaderBox"}parse(e){this.parseFullHeader(e),this.system_id=kc(e);const n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))}},jm.uuid="d08a4f1810f34a82b6c832d8aba183d3",jm),Km,Hie=(Km=class extends C0{constructor(){super(...arguments),this.box_name="PiffSampleEncryptionBox"}},Km.uuid="a2394f525a9b4f14a2446c427c648df4",Km),Hm,Gie=(Hm=class extends C0{constructor(){super(...arguments),this.box_name="PiffTrackEncryptionBox"}parse(e){this.parseFullHeader(e),this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=kc(e)}},Hm.uuid="8974dbce7be74c5184f97148f9882554",Hm),Gm,qie=(Gm=class extends C0{constructor(){super(...arguments),this.box_name="TfrfBox"}parse(e){this.parseFullHeader(e),this.fragment_count=e.readUint8(),this.entries=[];for(let n=0;n<this.fragment_count;n++){let r=0,i=0;this.version===1?(r=e.readUint64(),i=e.readUint64()):(r=e.readUint32(),i=e.readUint32()),this.entries.push({absolute_time:r,absolute_duration:i})}}},Gm.uuid="d4807ef2ca3946958e5426cb9e46a79f",Gm),qm,Qie=(qm=class extends C0{constructor(){super(...arguments),this.box_name="TfxdBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}},qm.uuid="6d1d9b0542d544e680e2141daff757b2",qm),Qm,Jie=(Qm=class extends $ie{constructor(){super(...arguments),this.box_name="ItemContentIDProperty"}parse(e){this.content_id=e.readCString()}},Qm.uuid="261ef3741d975bbaacbd9d2c8ea73522",Qm);gee(aX);yee(tX);const ese=6371e3;function tse(t,e,n,r){const i=ov(t),a=ov(n),o=ov(n-t),l=ov(r-e),u=Math.sin(o/2)**2+Math.cos(i)*Math.cos(a)*Math.sin(l/2)**2,f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return ese*f}function ov(t){return t*Math.PI/180}function oX(t,e=5){if(t.length===0)return[];if(t.length===1)return[...t];const n=[t[0]];for(let a=1;a<t.length;a++){const o=n[n.length-1],l=t[a];tse(o.lat,o.lng,l.lat,l.lng)>=e&&n.push(l)}const r=t[t.length-1],i=n[n.length-1];return r!==i&&n.push(r),n}function d0(t){return(t%360+360)%360}function lX(t){const e=t.match(/GPS\s*\(\s*([WE]):\s*(-?\d+\.?\d*)\s*,\s*([NS]):\s*(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)m?\s*\)/);if(!e)return null;const n=e[1],r=parseFloat(e[2]),i=e[3],a=parseFloat(e[4]),o=parseFloat(e[5]);if(isNaN(r)||isNaN(a))return null;const l=n==="W"?-Math.abs(r):Math.abs(r),f={lat:i==="S"?-Math.abs(a):Math.abs(a),lng:l,altitude_m:isNaN(o)?void 0:o},p=t.match(/(\d{4}-\d{2}-\d{2})\s+(\d{2}:\d{2}:\d{2})/);if(p){const g=`${p[1]}T${p[2]}`,_=new Date(g);isNaN(_.getTime())||(f.timestamp=_)}const h=t.match(/G\.PRY\s*\(\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*\)/);if(h){const g=parseFloat(h[1]),_=parseFloat(h[2]),v=parseFloat(h[3]);f.gimbalPose={pitch_deg:isNaN(g)?void 0:g,roll_deg:isNaN(_)?void 0:_,yaw_deg:isNaN(v)?void 0:d0(v)}}const m=t.match(/F\.PRY\s*\(\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*\)/);if(m){const g=parseFloat(m[1]),_=parseFloat(m[2]),v=parseFloat(m[3]);f.flightPose={pitch_deg:isNaN(g)?void 0:g,roll_deg:isNaN(_)?void 0:_,yaw_deg:isNaN(v)?void 0:d0(v)}}return f}async function nse(t){try{const e=await t.arrayBuffer(),n=await HY.load(e),r=n.GPSLatitude?.description,i=n.GPSLongitude?.description,a=n.GPSLatitudeRef?.description,o=n.GPSLongitudeRef?.description,l=n.GPSAltitude?.description;if(!r||!i)return null;let u=parseFloat(r),f=parseFloat(i);if(isNaN(u)||isNaN(f))return null;a&&(a.includes("S")||a.toLowerCase().includes("south"))?u=-Math.abs(u):a&&(a.includes("N")||a.toLowerCase().includes("north"))&&(u=Math.abs(u)),o&&(o.includes("W")||o.toLowerCase().includes("west"))?f=-Math.abs(f):o&&(o.includes("E")||o.toLowerCase().includes("east"))&&(f=Math.abs(f));const p={lat:u,lng:f};if(l){const b=parseFloat(l.split(" ")[0]);isNaN(b)||(p.altitude_m=b)}const h=n.FlightYawDegree?.description||n["drone-dji:FlightYawDegree"]?.description||n.FlightYawDegree?.value||n.Yaw?.description||n.Yaw?.value,m=n.FlightPitchDegree?.description||n["drone-dji:FlightPitchDegree"]?.description||n.FlightPitchDegree?.value||n.Pitch?.description||n.Pitch?.value,g=n.FlightRollDegree?.description||n["drone-dji:FlightRollDegree"]?.description||n.FlightRollDegree?.value||n.Roll?.description||n.Roll?.value;if(h||m||g){if(p.pose={},h){const b=parseFloat(h);isNaN(b)||(p.pose.yaw_deg=d0(b))}if(m){const b=parseFloat(m);isNaN(b)||(p.pose.pitch_deg=b)}if(g){const b=parseFloat(g);isNaN(b)||(p.pose.roll_deg=b)}}const _=n.GimbalYawDegree?.description||n["drone-dji:GimbalYawDegree"]?.description||n.GimbalYawDegree?.value,v=n.GimbalPitchDegree?.description||n["drone-dji:GimbalPitchDegree"]?.description||n.GimbalPitchDegree?.value,S=n.GimbalRollDegree?.description||n["drone-dji:GimbalRollDegree"]?.description||n.GimbalRollDegree?.value;if(_||v||S){if(p.gimbalPose={},_){const b=parseFloat(_);isNaN(b)||(p.gimbalPose.yaw_deg=d0(b))}if(v){const b=parseFloat(v);isNaN(b)||(p.gimbalPose.pitch_deg=b)}if(S){const b=parseFloat(S);isNaN(b)||(p.gimbalPose.roll_deg=b)}}return p}catch(e){return console.warn("Failed to extract EXIF from image:",e),null}}async function rse(t,e){const n=[];for(let r=0;r<t.fileHashes.length;r++){const i=t.fileHashes[r],a=await e.getFile(i);if(!a){console.warn(`File not found for hash: ${i}`);continue}const o=await nse(a);if(o){const l=t.frameIndexToTimestamp(r),u=l-t.timeStartEpochUs;n.push({frameIndex:r,timestampChannelUs:u,timestampEpochUs:l,lat:o.lat,lng:o.lng,altitude_m:o.altitude_m,pose:o.pose,gimbalPose:o.gimbalPose,source:"exif"})}}return{channelId:t.id,positions:n,bounds:fw(n)}}function ise(t){const e=[],n=t.split(`

`).filter(r=>r.trim());for(const r of n){const i=r.split(`
`);if(!(i.length<3))try{const o=i[1].split(" --> ")[0],[l,u,f]=o.split(":"),[p,h]=f.split(","),m=parseInt(l)*36e5+parseInt(u)*6e4+parseInt(p)*1e3+parseInt(h);let g=null,_=null,v,S,b,Y;for(const E of i){const M=E.match(/\[latitude:\s*(-?\d+\.\d+)\]/),U=E.match(/\[longitude:\s*(-?\d+\.\d+)\]/),W=E.match(/\[altitude:\s*(-?\d+\.?\d*)\]/),w=E.match(/\[rel_alt:\s*(-?\d+\.?\d*)\s+abs_alt:\s*(-?\d+\.?\d*)\]/),I=E.match(/\[gb_yaw:\s*(-?\d+\.?\d*)/),P=E.match(/gb_pitch:\s*(-?\d+\.?\d*)/),O=E.match(/gb_roll:\s*(-?\d+\.?\d*)\]/);M&&(g=parseFloat(M[1])),U&&(_=parseFloat(U[1])),W&&(v=parseFloat(W[1])),w&&!v&&(v=parseFloat(w[1])),I&&(S=parseFloat(I[1])),P&&(b=parseFloat(P[1])),O&&(Y=parseFloat(O[1]))}if(g!==null&&_!==null){const E={timestampMs:m,lat:g,lng:_,altitude_m:v};(S!==void 0||b!==void 0||Y!==void 0)&&(E.gimbalPose={yaw_deg:S!==void 0?d0(S):void 0,pitch_deg:b,roll_deg:Y}),e.push(E)}}catch(a){console.warn("Failed to parse SRT block:",a)}}return e}async function m5(t,e,n=5){const r=await sse(t,e,n);return r||await ose(t,e,n)}async function sse(t,e,n=5){const r=t.metadataFileHashes?.get("srt");if(!r)return null;const i=await e.getFile(r);if(!i)return console.warn("SRT file not found in store:",r),null;const a=await i.text(),o=ise(a);if(o.length===0)return console.warn("No GPS data found in SRT file"),null;const l=o.map(p=>{const h=p.timestampMs*1e3,m=Math.round(p.timestampMs/1e3*t.getFrameRate()),g=t.frameIndexToTimestamp(m);return{frameIndex:m,timestampChannelUs:h,timestampEpochUs:g,lat:p.lat,lng:p.lng,altitude_m:p.altitude_m,pose:p.gimbalPose,gimbalPose:p.gimbalPose,source:"srt"}}),u=oX(l,n);`${l.length}${u.length}${n}`,t.getFrameCount();const f=uX(u);return{channelId:t.id,positions:f,bounds:fw(f)}}function ase(t){const e=lX(t);if(e)return{lat:e.lat,lng:e.lng,altitude_m:e.altitude_m,pose:e.flightPose,gimbalPose:e.gimbalPose};const n=t.match(/\[latitude:\s*(-?\d+\.?\d*)\]\s*\[longitude:\s*(-?\d+\.?\d*)\](?:\s*\[(?:rel_alt|altitude):\s*(-?\d+\.?\d*))?/);if(n){const i=parseFloat(n[1]),a=parseFloat(n[2]),o=n[3]?parseFloat(n[3]):void 0;if(!isNaN(i)&&!isNaN(a))return{lat:i,lng:a,altitude_m:o}}const r=t.match(/GPS\s*\(\s*(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)\s*,\s*\d+\s*\)(?:.*?H\s*(-?\d+\.?\d*)m)?/);if(r){const i=parseFloat(r[1]),a=parseFloat(r[2]),o=r[3]?parseFloat(r[3]):void 0;if(!isNaN(a)&&!isNaN(i))return{lat:a,lng:i,altitude_m:o}}return null}async function ose(t,e,n=5){const r=t.fileHashes[0];if(!r)return null;const i=await e.getFile(r);if(!i)return console.warn("Video file not found in store:",r),null;try{const a=await cX(i);if(!a||a.length===0)return null;const o=t.getFrameRate(),l=[];for(const h of a){const m=ase(h.text);if(m){const g=h.timestampMs*1e3,_=Math.round(h.timestampMs/1e3*o),v=t.frameIndexToTimestamp(_);l.push({frameIndex:_,timestampChannelUs:g,timestampEpochUs:v,lat:m.lat,lng:m.lng,altitude_m:m.altitude_m,pose:m.pose,gimbalPose:m.gimbalPose,source:"embedded_track"})}}if(l.length===0)return console.warn("No GPS data found in embedded track samples"),null;const u=oX(l,n);`${l.length}${u.length}${n}`;const f=t.getFrameCount(),p=uX(u,f);return{channelId:t.id,positions:p,bounds:fw(p)}}catch(a){return console.warn("Failed to extract embedded video positions:",a),null}}async function cX(t){return new Promise(async e=>{const n=eX();let r=!1,i=null,a=null;n.onReady=o=>{a=o;const l=o.tracks.find(u=>u.codec==="text"||u.codec==="tx3g"||u.codec==="stxt"||u.codec==="wvtt"||u.type==="text"||u.type==="sbtl"||u.type==="subt"||u.type==="subtitles"||u.name?.toLowerCase().includes("subtitle"));l?(l.id,l.type,l.codec,l.nb_samples,i=l):o.tracks.map(u=>({id:u.id,type:u.type,codec:u.codec,name:u.name}))},n.onError=o=>{console.warn("MP4Box error:",o),r||(r=!0,e(null))};try{const o=t.size;`${(o/(1024*1024)).toFixed(1)}`;const l=20*1024*1024,u=await t.slice(0,Math.min(l,o)).arrayBuffer();if(u.fileStart=0,n.appendBuffer(u),!a){const S=Math.max(0,o-5242880);`${(S/(1024*1024)).toFixed(1)}`;const b=await t.slice(S,o).arrayBuffer();b.fileStart=S,n.appendBuffer(b)}if(n.flush(),!i||!a){r=!0,e(null);return}const f=n.getTrackById(i.id);if(!f){r=!0,e(null);return}const p=f.samples;if(!p||p.length===0){r=!0,e(null);return}const h=i.timescale||3e4;`${p.length}${h}`;const m=new TextDecoder,g=[],_=Math.min(p.length,5e4);for(let v=0;v<_;v++){const S=p[v],b=S.offset,Y=S.size,E=S.cts??S.dts??0;if(b===void 0||Y===void 0||Y===0)continue;const M=Math.round(E/h*1e3),U=await t.slice(b,b+Y).arrayBuffer();let W=new Uint8Array(U);if(W.length>2){const I=W[0]<<8|W[1];I>0&&I<=W.length-2&&(W=W.slice(2,2+I))}const w=m.decode(W);w.trim()&&g.push({timestampMs:M,text:w}),(v+1)%5e3===0&&(v+1,`${_}`)}`${g.length}`,r=!0,e(g.length>0?g:null)}catch(o){console.warn("Failed to parse MP4:",o),r||(r=!0,e(null))}})}function uX(t,e){if(t.length===0)return[];if(t.length===1)return[t[0]];const n=[...t].sort((o,l)=>o.timestampChannelUs-l.timestampChannelUs),r=[...n],i=2e6,a=33333;for(let o=0;o<n.length-1;o++){const l=n[o],u=n[o+1],f=u.timestampChannelUs-l.timestampChannelUs;if(f>a&&f<i)for(let p=l.timestampChannelUs+a;p<u.timestampChannelUs;p+=a){const h=(p-l.timestampChannelUs)/f,m=l.lat+(u.lat-l.lat)*h,g=l.lng+(u.lng-l.lng)*h,_=l.altitude_m!==void 0&&u.altitude_m!==void 0?l.altitude_m+(u.altitude_m-l.altitude_m)*h:void 0,v=p,S=l.timestampEpochUs+(u.timestampEpochUs-l.timestampEpochUs)*h,b=Math.round(l.frameIndex+(u.frameIndex-l.frameIndex)*h);let Y;if(l.pose?.yaw_deg!==void 0&&u.pose?.yaw_deg!==void 0){let E=l.pose.yaw_deg,U=u.pose.yaw_deg-E;U>180&&(U-=360),U<-180&&(U+=360),Y={yaw_deg:d0(E+U*h)}}else l.pose&&(Y={...l.pose});r.push({frameIndex:b,timestampChannelUs:v,timestampEpochUs:S,lat:m,lng:g,altitude_m:_,pose:Y,gimbalPose:Y,source:"interpolated"})}}return r.sort((o,l)=>o.timestampChannelUs-l.timestampChannelUs)}async function g5(t,e){if(!t.supportsPositions())return null;try{if(t.getType()==="image_collection")return await rse(t,e);if(t.getType()==="video")return await m5(t,e);if(t.getType()==="mediabunny_video")return await m5(t,e)}catch(n){console.error("Failed to extract channel positions:",n)}return null}async function lse(t){return new Promise(async e=>{const n=eX();let r=!1;n.onReady=i=>{if(!r){if(r=!0,i.created instanceof Date){if(i.created.getTime()<864e5){e(null);return}const o=i.created.getFullYear();if(o>=2e3&&o<=2100){`${i.created.toISOString()}`,e(i.created);return}}e(null)}},n.onError=i=>{console.warn("MP4Box error during timestamp extraction:",i),r||(r=!0,e(null))};try{const i=t.size,a=1*1024*1024,o=await t.slice(0,Math.min(a,i)).arrayBuffer();if(o.fileStart=0,n.appendBuffer(o),!r){const u=Math.max(0,i-2097152),f=await t.slice(u,i).arrayBuffer();f.fileStart=u,n.appendBuffer(f)}n.flush(),r||(r=!0,e(null))}catch(i){console.warn("Error extracting MP4 creation time:",i),r||(r=!0,e(null))}})}async function cse(t){try{const e=await cX(t);if(!e||e.length===0)return null;const n=lX(e[0].text);if(n?.timestamp){const r=n.timestamp.getFullYear();if(r>=2e3&&r<=2100)return`${n.timestamp.toISOString()}`,n.timestamp}return null}catch(e){return console.warn("Error extracting subtitle timestamp:",e),null}}async function use(t){const e=await lse(t);if(e)return e;const n=await cse(t);return n||null}const fse="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function Lu(t){const e=[];for(let n=0;n<20;n++){const r=Math.floor(Math.random()*32);e.push(fse[r])}return`${t}_${e.join("")}`}async function kw(t,e,n=!1){if(!window.electronAPI){const r=await t.getAllDirHandles();if(n){const i=r.map(async u=>await fX(u.handle,t)),o=(await Promise.all(i)).flat(),l=S2(o);Iw(l,t),e(l)}else{const i=await t.getAllFileHandles();e(i)}}}function dse(t){return tee(t)}async function fX(t,e){const n=[],i=[{dirHandle:t,basePath:""}];try{for(;i.length>0;){const{dirHandle:a,basePath:o}=i.pop();for await(const l of a.values()){const u=o?`${o}/${a.name}/${l.name}`:`${a.name}/${l.name}`;if(l.kind==="directory")i.push({dirHandle:l,basePath:u});else if(l.kind==="file"){const f=await Yl.create({handle:l,path:u,category:"placeholder"});(!e||!await e.getFileHandle(f.hash))&&n.push(f)}}}}catch(a){console.error("Error scanning directory:",a)}return n}async function hse(t,e){if(!window.electronAPI)throw new Error("Electron API not available");const n=[],i=[{node:t,basePath:""}];for(;i.length>0;){const{node:a,basePath:o}=i.pop(),l=o?`${o}/${a.name}`:a.name;if(a.kind==="file"){const u=await Sw.create({fileRef:a.fileRef,path:`${l}/${a.name}`,name:a.name,category:"placeholder"});n.push(u)}else if(a.kind==="directory"&&Array.isArray(a.children))for(let u=a.children.length-1;u>=0;u--)i.push({node:a.children[u],basePath:l})}return n}async function pse(t,e,n,r,i,a){const o=new Map,l=r,u=[...i];for(const[f,p]of a.entries()){const h=[];for(const g of p){const _=dse(g.sourceId),v=g.filePaths;try{const{fileHashes:S,mediaFiles:b,metadataFileHashes:Y}=await yse(v,t);if(S.length===0){console.warn(`No files found for channel: ${g.channelId}`);continue}const E=`CH_${S[0]}`;if(r.has(E)){h.push(E);continue}const M=v.find(P=>P.toLowerCase().slice(P.lastIndexOf("."))!==".srt");if(!M){console.warn(`No media files found for channel: ${E}`);continue}let U;const W=M.toLowerCase().endsWith(".mp4")||M.toLowerCase().endsWith(".mov");let w,I=!0;if(g.startTime)w=g.startTime.getTime()*1e3;else if(W){const P=await use(b[0]);P?(`${M}${P.toISOString()}`,w=P.getTime()*1e3):(`${M}`,w=0,I=!1)}else console.warn(`No timestamp for non-video file ${M}`),w=0,I=!1;if(W)U=await _se(E,f,S,w,b,_,Y,I);else{const P=g.timestamps.map(O=>O.getTime()*1e3);U=Sse(E,f,S,P,w,_,Y,I)}l.set(E,U),h.push(E)}catch(S){const b=S instanceof Error?S.message:String(S);console.error("Failed to process channel:",S),u.push({message:`Failed to load ${v[0]?.split("/").pop()||"channel"}`,details:b})}}if(h.length===0)continue;const m={id:f,channelIds:h,name:f.split("/").pop()||f,description:`Drone recording with ${h.length} channel(s)`};o.set(f,m)}return{records:o,channels:l,errors:u}}async function mse(t,e,n,r){const{records:i,channels:a,errors:o}=n,l=n.grouper;`${e.length}`;const u=new Map;for(const M of l.getChannels())u.set(M.channelId,structuredClone(M));const f=e.length+t.length,p=new Map;let h=0;for(const M of e)p.set(M.path,await M.getFile()),r?.(h+1,f),h++;const m=new Map;for(const M of e)m.set(M.path,M),r?.(h+1,f),h++;for(const M of t)m.set(M.path,M);const g=e.map(M=>M.path);await l.addFiles(g,p);const _=l.getChannels(),v=l.getUnparseableFiles().map(M=>({message:M.reason,details:M.path})),S=vse(_),{records:b,channels:Y,errors:E}=await pse(m,u,i,a,[...o,...v],S);return{records:b,channels:Y,errors:E,grouper:l}}async function gse(t){try{let e=[];if(window.electronAPI){const a=await window.electronAPI.showOpenDialog();for(const o of a)e.push(...await hse(o))}else{if(window.location.href,window.location.protocol,window.isSecureContext,"showDirectoryPicker"in window,!window.showDirectoryPicker){const f=window.location.protocol,p=f==="https:";let h=`File System Access API is not available.

`;return p?window.isSecureContext?(h+=`Your browser may have this API disabled.
`,h+="Try: brave://flags/#file-system-access-api and enable it."):h+="Not in a secure context. Check your HTTPS certificate.":(h+=`You are on ${f} but HTTPS is required.
`,h+=`Please access the site at: https://${window.location.host}${window.location.pathname}`),alert(h),[]}const a=await window.showDirectoryPicker({mode:"read"});if(await a.requestPermission({mode:"read"})!=="granted")throw new Error("Directory access denied");`${a.name}`;const l=await t.getAllDirHandles();let u=!1;for(const f of l)if(f&&f.handle&&typeof f.handle.isSameEntry=="function"&&await f.handle.isSameEntry(a))return u=!0,[];if(!u){const f=new a1({handle:a,name:a.name});await t.storeDirHandle(f)}e=await fX(a)}const n=S2(e),r=dX(e),i=[...n,...r];return await Iw(i,t),i}catch(e){return console.error("Error parsing files:",e),[]}}function S2(t){const e=[".mp4",".mov",".jpg",".jpeg",".tif",".tiff",".srt"];return t.filter(n=>{if((n.path.split("/").pop()||n.path).startsWith("."))return!1;const i=n.path.toLowerCase().slice(n.path.lastIndexOf("."));return e.includes(i)})}function dX(t){const e=[".json",".geojson",".kml"];return t.filter(n=>{if((n.path.split("/").pop()||n.path).startsWith("."))return!1;const i=n.path.toLowerCase().slice(n.path.lastIndexOf("."));return e.includes(i)})}async function Iw(t,e){for(const n of t)await e.storeFile(n)}async function yse(t,e){const n=[],r=new Map,i=[];for(const a of t){const o=e.get(a);if(o)if(a.toLowerCase().slice(a.lastIndexOf("."))===".srt")r.set("srt",o.hash);else{n.push(o.hash);const u=await o.getFile();i.push(u)}else console.warn(`File not found for path: ${a}`)}return{fileHashes:n,mediaFiles:i,metadataFileHashes:r}}function vse(t){const n=t.filter(u=>u.startTime!==null),r=t.filter(u=>u.startTime===null),i=[...n].sort((u,f)=>u.startTime.getTime()-f.startTime.getTime()),a=new Map;let o=[],l=null;for(const u of i){const f=u.startTime.getTime();if(o.length===0||l!==null&&f-l<6e4)o.push(u),l===null&&(l=f);else{const p=Lu("RC");a.set(p,o),o=[u],l=f}}if(o.length>0){const u=Lu("RC");a.set(u,o)}for(const u of r){const f=Lu("RC");a.set(f,[u])}return a}async function _se(t,e,n,r,i,a,o,l=!0){if(i[0]instanceof Pj)return new vY(t,e,n,r,r,40,[1,2,3,4,5],a,o.size>0?o:void 0,l);const u=await Rj(i[0]),f=new Uj({formats:[Yj,Tj],source:u}),h=await f.computeDuration()??0,m=await f.getPrimaryVideoTrack(),g=new yw(m);let _=r;h>0&&(_=r+h*1e6);const v=g.packets(void 0,void 0,{metadataOnly:!0,verifyKeyPackets:!1}),S=[];for await(const Y of v)S.push(Y.timestamp);const b=S.sort((Y,E)=>Y-E);return new vY(t,e,n,r,_,h,b,a,o.size>0?o:void 0,l)}function Sse(t,e,n,r,i,a,o,l=!0){const f=r.length>0?r[r.length-1]:i;return new yY(t,e,n,r,i,f,1,a,o.size>0?o:void 0,l)}async function hX(t,e){return e.toLowerCase().slice(e.lastIndexOf("."))===".kml"?xse(t):bse(t)}function bse(t){const e=JSON.parse(t);if(Wse(e))return e.features;if(Ese(e))return[e];throw new Error("Invalid GeoJSON: expected Feature or FeatureCollection")}function xse(t){const n=new DOMParser().parseFromString(t,"text/xml"),r=n.querySelector("parsererror");if(r)throw new Error("Invalid KML: "+r.textContent);const i=[],a=n.querySelectorAll("Placemark");for(const o of a){const l=Yse(o,n);l&&i.push(l)}return i}function Yse(t,e){const n=t.querySelector("name")?.textContent||"",r=t.querySelector("description")?.textContent||"",i=Tse(t,e),a=pX(t);return a?{type:"Feature",id:crypto.randomUUID(),geometry:a,properties:{title:n,description:r,...i}}:null}function Tse(t,e){const n={};let r=t.querySelector("Style");if(!r){const l=t.querySelector("styleUrl")?.textContent;if(l){const u=l.replace("#","");if(r=e.querySelector(`Style[id="${u}"]`),!r){const f=e.querySelector(`StyleMap[id="${u}"]`);if(f){const p=f.querySelectorAll("Pair");for(const h of p)if(h.querySelector("key")?.textContent==="normal"){const g=h.querySelector("styleUrl")?.textContent;if(g){const _=g.replace("#","");r=e.querySelector(`Style[id="${_}"]`)}break}}}}}if(!r)return n;const i=r.querySelector("IconStyle");if(i){const l=i.querySelector("color")?.textContent;l&&(n["marker-color"]=Fx(l))}const a=r.querySelector("LineStyle");if(a){const l=a.querySelector("color")?.textContent,u=a.querySelector("width")?.textContent;l&&(n.stroke=Fx(l)),u&&(n["stroke-width"]=parseFloat(u))}const o=r.querySelector("PolyStyle");if(o){const l=o.querySelector("color")?.textContent,u=o.querySelector("fill")?.textContent,f=o.querySelector("outline")?.textContent;if(l){const p=Fx(l),h=wse(l);n.fill=p,n["fill-opacity"]=h}u==="0"&&(n["fill-opacity"]=0),f==="0"&&(n["stroke-opacity"]=0)}return n}function pX(t){const e=t.querySelector("Point");if(e){const a=lv(e.querySelector("coordinates")?.textContent||"");if(a.length>0)return{type:"Point",coordinates:a[0]}}const n=t.querySelector("LineString");if(n){const a=lv(n.querySelector("coordinates")?.textContent||"");if(a.length>0)return{type:"LineString",coordinates:a}}const r=t.querySelector("Polygon");if(r){const a=[],o=r.querySelector("outerBoundaryIs");if(o){const u=o.querySelector("LinearRing");if(u){const f=u.querySelector("coordinates");f&&a.push(lv(f.textContent||""))}}const l=r.querySelectorAll("innerBoundaryIs");for(const u of l){const f=u.querySelector("LinearRing");if(f){const p=f.querySelector("coordinates");p&&a.push(lv(p.textContent||""))}}if(a.length>0&&a[0].length>0)return{type:"Polygon",coordinates:a}}const i=t.querySelector("MultiGeometry");if(i){const a=[];for(const o of i.children){const l=document.createElement("Placemark");l.appendChild(o.cloneNode(!0));const u=pX(l);u&&a.push(u)}if(a.length>0)return{type:"GeometryCollection",geometries:a}}return null}function lv(t){const e=[],n=t.trim().split(/\s+/);for(const r of n){const i=r.split(",").map(parseFloat);if(i.length>=2&&!isNaN(i[0])&&!isNaN(i[1])){const a=[i[0],i[1]];i.length>=3&&!isNaN(i[2])&&a.push(i[2]),e.push(a)}}return e}function Fx(t){if(!t||t.length<6)return"#FF0000";const e=t.replace("#","");if(e.length===8){const n=e.slice(6,8),r=e.slice(4,6),i=e.slice(2,4);return`#${n}${r}${i}`}return e.length===6?`#${e}`:"#FF0000"}function wse(t){if(!t||t.length<8)return 1;const e=t.replace("#","");return e.length===8?parseInt(e.slice(0,2),16)/255:1}function Wse(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="FeatureCollection"&&"features"in t&&Array.isArray(t.features)}function Ese(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="Feature"&&"geometry"in t}class Use extends o0{features;constructor(){super("geojsonDB"),this.version(1).stores({features:"id"})}}const b2=new Use,h0=ft([]),jfe=ft(null,async(t,e)=>{try{const n=await b2.features.toArray();e(h0,n),`${n.length}`}catch(n){console.error("Failed to load imported GeoJSON features:",n)}});ft(null,async(t,e,n)=>{const{data:r,sourceFile:i}=n,a=[];if(Ase(r))a.push(...r.features);else if(kse(r))a.push(r);else{console.error("Invalid GeoJSON: expected Feature or FeatureCollection");return}await e(Rw,{features:a,sourceFile:i})});const Rw=ft(null,async(t,e,n)=>{const{features:r,sourceFile:i}=n,a=Date.now(),o=r.map(l=>({id:l.id??crypto.randomUUID(),feature:l,importedAt:a,sourceFile:i}));try{await b2.features.bulkAdd(o);const l=t(h0);e(h0,[...l,...o]),`${o.length}${i??"unknown"}`}catch(l){throw console.error("Failed to import GeoJSON features:",l),l}}),Cse=ft(null,async(t,e)=>{try{await b2.features.clear(),e(h0,[])}catch(n){throw console.error("Failed to clear imported GeoJSON features:",n),n}});ft(null,async(t,e,n)=>{try{await b2.features.delete(n);const r=t(h0);e(h0,r.filter(i=>i.id!==n)),`${n}`}catch(r){throw console.error("Failed to remove imported GeoJSON feature:",r),r}});function Ase(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="FeatureCollection"&&"features"in t&&Array.isArray(t.features)}function kse(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="Feature"&&"geometry"in t}var Lx={exports:{}},y5;function Ise(){return y5||(y5=1,(function(t){function e(n,r){var i="XKXJXJXIXIXSXSXRXRXQXQXP##U;U;U;#$UZUZUZUZUZXHXGXGXTXTXXXXXYXYXZXZY#Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUXVXVXWXKXJXJXIXIXSXSU:U$#%#&V,#'U;#(#)UZUZUZUZUZ#*UZXGXGVPVPVP#+YIYIYIYI#,W@W@W@W@W@W@Y&X/X/X/X/X/XVXWVTUV#-T,T,#.U:U:#/#0#1#2#3U;U;U;UZUZUZUZ#4#5YJYJXGYJ#6#7#8YIYIYI#9X1#:W@W@W@#;X/X/#<#=#>#?#@VTVT#A#B#CT,T,#D#E#F#G#H#IV,#J#K#L#MUZUZUZUZX9X9#N#OYJ#P#Q#R#SYI#T#U#VX1#W#XW@W@#Y#ZX/$#$$$%$&$'$($)$*$+$,T,T,$-$.$/U$$0$1$2$3$4$5$6$7UZUZXLXLXH$8$9$:$;$<$=$>YI$?$@$A$B$C$D$E$FW6$G$H$I$J$K$LW;$MT+T+T+XJXIXIXSVB$N$O$P$Q$R$S$T$U$V$WV7XMXLXLXHY6$X$Y$Z%#%$%%%&%'%(%)VR%*%+%,%-%.%/%0%1%2%3%4W;XVT+XKXJXJXIXIXSXSUC%5%6%7TN%8%9%:%;U0XMXMX3X3XH%<%=%>%?%@%A%B%C%D%E%F%G%HX+%I%J%KWX%L%M%N%OXUXVXVXWXKXJXJXIXIXSXSUC%P%Q%RTN%SUUXOX4XNXMXMXLX3X8%T%US2%V%W%X%Y%Z&#&$&%&&&'WXWXWXWXWX&(&)X(XUXUXVXVXW&*ZCZCXIXIXSXSXR&+&,&-&.&/&0UTXNXNXMXMXLXL&1&2&3S2&4T(&5&6WT&7&8&9&:&;&<&=&>&?&@&AX(X(XUX(XVXVXWXKZCZCZCXIXSXSXRUK&B&C&D&E&F&G&HXNXMXMXLX6&I&J&K&L&M&N&O&P&Q&R&SWHW?W?&T&U&V&W&X&YY'X(ZUXUXVZYXWXKXJXJXIXIXSXSXRXRXQXQ&Z'#'$'%'&''XMXMXLX6'(')'*'+','-'.'/'0'1VQXZW?'2Y$'3'4'5'6WGZPZ9'7'8ZH'9XWXKXJZEZEXIXSXSXRXRXQXQZ?':';'<'='>'?XMXLUWXH'@'A'B'C'D'E'F'G'HXZXZZ1W*Y$'I'J'K'L'M'NW8Z9'O'P'QZWZDZDXJZEXIXSXSXRXRXQXQZ?'R'S'TUG'U'V'W'XXLXHXHXGSS'Y'Z(#($(%XYZ0XZ(&Y#Y$Y$W7('((()W8(*ZS(+ZA(,(-(.(/ZTZE(0(1XSXRXRXQXQXPUBUB(2(3(4(5(6(7XLXHX;XGXGSP(8(9(:(;(<Z2XZY#Y#Y$Z-Y%(=(>(?(@(A(B(CZA(D(E(FZLZT(GZV(HXSXRXRXQXQXPXPUB(I(J(K(L(MXLV3XHXHX;XG(N(O(P(Q(RZ*(SZ2Y#Y#Y$Y$Y%Y%XEXE(T(UX>X>ZN(VZ=(WXJXJZVZVZ@(XZQXRZ:XQXPXPV1(Y(Z)#V3V3XLXLXHXHXGXGT*)$)%)&Z*Z*XZXZY#Y#Y$Y$Y%Y%XEXE)')()))*XV)+XWZ6XJXJXIXIXSXSXRXRXQXQXPXPV1),)-).V3XMXLXLXHX;XGXGXTSG)/SGXYXYXZXZY#Y#Y$Y$Y%Y%XE)0)1)2)3XFXCZ6Z6Z8XJXJXIXIXSXSXRXRXQXQXPXPTR)4)5T0XMXMXLXLXHX;XGXGXTXTXXXXXYXYXZXZY#Z/Y$Y$Y%Y%Y&Y&Y')6)7XDXVZ6Z6XKXJXJXIXIXSXSXRXRXQXQXPXP)8)9):X<XMXMXLXLXHXHXGXGXTXTXXSGSGZ/Z/XZZ/Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUXVZ6Z6XKXJXJXIXIXSXSXRXRXQXQXPXPV+);)<X<XMX:X:X:XHXHXGXGXTXTXXXXXYXYXZXZY#Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUVIZ6XWXKXJXJXIXIXSXSXRXRXQXQXPXPVLVL)=)>T;T;XLXLXHXHXGXGXTXTVMVMVMVM)?VJVJVG)@VOVFVFVFVHVHVHVHVH)AVKXWXKXJXJXIXIXSXSXRXRXQXQXPXPVLVLT;T;T;T;)BVL)CY()DVNVNVN)EVMVMVM)FVJVJ)G)HVO)I)J)K)L)M)N)O)P)QVKVKVKVKVKVKXIXSXSXRXRXQXQXPXPVLVLT;T;T;T;)RVL)SY()TVNVNVN)UVMVMVM)VVJVJ)W)XVOVOVO)YXEXEXEXEXE)ZVKVKVKVKVKVKVKVKVKVKVKVKVKVKVK*#*$*%*&*'*(*)***+*,*-*.*/*0*1*2*3*4*5*6*7*8*9*:*;*<*=*>*?*@*A*B*CVKVKXPXPV,*CXNXNU;UZ*BTH*CTHTHV,THV,V,*BV,*CU;*CV>V>*CUZ*DUZUZUZTV*DVP*DVPXXY#W@YIY#XJT,UVT,XSXS*B*CU$U$*C*D*DTH*ETHTH*ETHTH*EV,THTHV,*E*F*GUZ*GUZ*HUZUZV4XHVPVPYJ*GYJYJ*G*HXXXX*HYIYIX1YI*H*HW@X1*IW@*I*J*KX/*KX/*L*L*MX.*N*N*OWZWZ*OWZWZWZXVXVWZ*OVTVTVTUV*NUVUVUVUVT,UVT,*MVC*NVC*NU:VC*OU:U:*OU:U$*OU$U$*O*PU$U$THV,U$V,V,*OV,*P*PU;*Q*RU;U;*RU;U;U;U;*RX9XHXHX7XGXGX7YBYJ*PYJ*QYWYWYW*Q*QY9Y9*R*RYIYIYIYIYI*RYIYIYI*R*S*S*TX1X1X1X1*T*U*UW@*VW@*VX/*W*XX/X/*XX/X/*XX/*Y*Y*ZW>+#+#WZ+$WE+$+%WEWE+%+&WE+'VTVTW;+'VTVT+'VTXKUVXKT+UVUVT+UV+%T,UVT,VE+%XSV5+%VB+&VB+&+'VB+(+(V.+)+*V.VD+*VDVD+*VDVDV,+*V@++U;++U;V@V@++V@V@++U*+,U*XNXNU*V7YBYBXH++YBYB++YBXGYJYB+++++,+-+.YW+.+/+0+0+1+2+3YIYI+3YI+3+4+5+6+6X1+7X1X1X1+7+8X1+8+9+:+:+;+<+=+=+>+?+@W@W@W@+@+@+AW6W6W6+A+BW)X/X/+B+CX/+CX/X.X.X.X.+CX.WEWUXUWE+BXUW;W;W;W;T+VB+A+B+C+C+D+E+F+F+GTYTYV.VD+G+HVDVDTN+HV@V@+H+I+IV@V@V@V@V@V@+IV@+I+J+K+KV7+LV7+L+MYKYK+M+NYK+O+O+P+Q+R+R+S+T+U+U+V+W+X+X+Y+Z,#,#,$,%,&,&,',(,),),*,+VV,+,,,-,.VR,.VRVR,.,/,0X+,0,1,2X*X*,2X*X*,2,3X*X*,3,4X*,5,5,6WXWX,6,7,8,9X.,9X.,:WUXUWUWEWZ,9,:WZ,:,;UC,<,<TYTYTYTY,<TYTN,<,=,>,?,?,@UUUU,@UUUUUU,@U0XNXNXH,@XHY@,@,A,BYD,B,CYDYD,C,DYOYO,D,EYO,F,F,G,H,I,I,JY;Y;,J,KY;,L,L,M,N,O,O,PVW,Q,Q,R,S,T,T,U,V,W,W,X,YX+X+,YWXWX,Y,ZWXWX,Z-#WXWXWX-#WX-$-$X.-%Y'X.X(X(X(-$WEXUXUUC-$-%-&-&TY-'-(-(TN-)TNTN-)TN-*XH-*XHS<-*-+S<-,-,---.-/YOY,T(T(Y,-.-/S;-/-0S;-1-1-2-3-4-4X&-5X&X&-5X&X&-5-6-7-8-8-9-:-;-;-<-=->WXWWWXWW-=X(X(X(ZJZCXKZCV?-<XRUK-<-=UK->->-?-@-ATNTN-AUMTN-AUM-B-BUT-CUTXHX5XHSC-B-C-DT$S2S2-D-E-ET(-F-G-GS;-HS;S;-HS;-I-I-JWT-KX&-K-L-M-MW<-NW<-N-O-PW?W?-PW?W?-P-QW?-R-R-S-T-U-UWX-V-WWXWX-WWXWXWX-W-XWXX(-XX(UK-XUKXQ-X-YUNUNUNUMUN-Y-YU1-ZV=-Z.#.$.%.%V2.&.'VAT-.'.(XH.(X6.).)T$.*T$.*S4.+S4.+.,S4T#.,T#T#T#SZ.,SZSZ.,SJ.-SJ.-SJSJ....WT./.0WTWT.0VQ.0WH.1WHW?.1W?Y$.1X0X0X0.1.2.3.4.4WX.5.6.6X#WX.7.7Y&WGY&XP.7XPXP.7UFXPTQTFTFV$.7TF.7.8TKTK.8TK.9TAXNU/XNXH.8XHS7.8.9.:.;.;.<.=.>.>.?.@SM.@.ASM.B.BSZ.C.DSJSJ.D.ESJ.E.FS1.F.GS1.H.H.ISWSWW?W?W?.IW?.IW?.J.J.K.L.M.MW3W3W3.M.N.OWGZBXUZ9Z9XUXUZ9ZRZHZH.MZHTQV$Z?XP.LTF.MTFTF.MTF.NTK.N.O.P.P.Q.R.S.SXMTBTBSD.SXHXHS/.SXGXG.SSMXGT'.SSB.T.U.U.V.WSL.W.X.Y.ZSH.Z/#/$S1/$SYSW/$SWSWXYW?W7Y$W7/#/$W7/%W7W7W7/%/%/&/'WFWG/'WF/(ZPZP/(/)Z9ZRXUZRZRZFXVXVZHZHXVZWZ?UBXPUB/%/&/'UB/'/(/)/*/*V0/+V0TB/+TB/,U(U(U(/,U(UWU(UWSN/+SN/,/,/-/./////0SQ/1/1/2S@S@/2/3/4XYY#Z1Z+Z+W7WOW7/3/3WF/4WFWFW8WF/4W8/4W8/5ZSZ7ZS/5ZKZWXVXVZWZWZ>Z>Z>Z<ZZ/3/3ZT/4/5ZEXIZVZVZIZIZVZV/3/4UB/5/5/6UA/7/7/8TTTT/8/9/:/;/;/<T?/=/=XLT?XLSP/=SPSPSQ/=/>/?/?S@/@/AS@Z.ST/AZ0Z0/AZ*/AW7Y%Y%/AWFY&Y&WF/AXEXE/A/B/CX@/C/DX@X>/DZSX>XUZS/DZSZSZAXV/DZAXWZ>XWZ=Z=ZX/CZXZVZV/CZVZVZVZV/CUB/CUB/DUAUA/D/E/E/F/G/H/HV3/IV3V3/IV3V3XT/IXTT*/ISPT*/J/J/KSE/L/L/M/NSTSTZ*XYZ*XZZ2Z4Z2/LX@/MX@X@X>/MX>Z;Z;ZN/MZXZXZ6XKZ@ZQXSXSXOV1V1/K/K/L/MT2/M/N/O/PT*/P/Q/R/R/SSG/T/TST/UXX/UX@/VX=X@X>X=/VX>X>/V/WX>X>/W/XZNZNZMXVV1/WV1/X/X/Y/Z0#0#0$0%0&SG0&SGSGXE0&XEXE0&X=Y'X=X=0&X=0'XFXF0'0(0(0)0*T1T70*0+T7Y'0+Y'Y'0+0,XBXBXOTRXOV+0+0,0-0.0.XNT6X<V+0.XOV+T;0.XNXNV+V+T;T;0-T;T;T;XZXZ0-VJY$Y$VGVOXVXV0,VKXLXL0,VLXH0,VL0-0-SG0.SG0.VM0/VM0/VJ00VJ00VG01VGVGVOVGVO0001VOVO0102VOVO020304XE0405XEXE0506XEXE0607XEXE0708XEXE0809XEXE09VK0:VK0:VL0;VLVL0;VL0<0<SG0=SG0=VM0>VM0>VJ0?VJ0?VG0@VGVGVOVGVO0?XE0@XE0@VK0AVK0AVLVKVKVLVLVKVKT;T;VKVKT;T;VKVKT;T;VKVKT;T;VKVK0<VLVKVKVLVLVKVKVL0;VKVKY(Y(VKVK0:SGVKVKVNVNVKVKVNVNVKVKVNVNVKVK07VMVKVKVMVMVKVKVMVMVKVKVMVMVKVK04VJVKVKVJVJVKVKVJVJVKVK02VGVKVKVGVOVKVKVOVOVKVKVOVOVKVKVOVOVKVK0.XEVKVKXEXEVKVKXEXEVKVKXEXEVKVKXEXEVKVKXEXEVKVK0)VKVKVKXPXPV,U;XQXQU$THU$THU$THV,U;V,U;V,U;V,U;U;U;U;UZU;U;UZUZV>UZV>V>TVTVUZUZXXXXVPYIT,TWT,TWTWU:VCU:U$U$THTHU$U$THTHU$THU$THU$THTHTHV,V,THTHV,V,THTHV,U;V,U;V,V,THV,V,U;V,U;UZUZUZV4UZV4UZUZYJYJYWYWYJYJ/IY9YJYJY9YI/HYIYIYIYIX1/HX1X1W@X1X1X1W@X1X1W@X/W@X/W@W@W@X/W@X/X/X/Y'X/X.X.X/X.X/X.X/X/X.X.X/X/X.X.X.X.X.WZX/X/X.WZX/X/WZWZX/XUWZWZWZVTVTVTVTVTVTUVT,TWT,TWT,TWT,TWVCU:VCVCVCU:VCVCU:U:VCU:THTHU$U$THTHU$U$THTHU$THV,U;T>T>T>T>V,U;U;U;T>U;T>U;U;U;U;U;U;V@U;U;V@V@U;XNU*XNYJYJ/*YWYWYW/*YWYW/*/+/,YWY9/,Y9Y9Y9/,/-YIYI/-YIYIYIYI/-YIYIYIX1YIYIX1X1YIYIX1X1/*X1X1X1X1X1X1/*X1X1/*X1W@W@X1W@X1W@X1W@W@X/W@X/W@W6W6W6X/X/W6X/X/X/X//%X.X.X/W>X//$X/W>X.X.W>W>WZWZW>X,W>X,X.X.WZWZX,WZX,WEX.X.WZWZWZWEWZWZWEWEWZVTWEWEVTVTWEW;WEW;W;W;W;VTW;W;VTVTW;VTUVT,XJXJVBU=U=V5.NVBV5VBV5V5VBVBU'U'VBVBU'U'TXTXVBTXVBVBU$V.U$V.U$V.U$.IV.V.V<V.V..HV..IV,V,VDV,V,U;V,U;V@U;V@V@V@V@U;V@V@U;V@V@U;V@V@V@V@V@U*U*Y6.BY6Y6.BYB.C.DXGXGY).DYJ.D.E.F.FYW.GYW.G.HY.Y..H.IY..J.J.K.L.M.M.NZ'Z'.N.OZ'Z'.OYX.P.Q.Q.R.SYI.S.T.U.V.V.WYGYG.WYI.X.YYIY>YI.Y.Y.Z/#/$/$/%/&/'YI/'/(/)/)X1/*/+/+X1/,X1X1X1/,WRX1X1WRVRX1X1WLWL/*/+VRVRWLWLVRVR/*X)/+/,X)X)/,X)/,WKVR/-WKWKW%/-X)X)X)/-X)W@X)W@/,/-/.//WJ///0/1W@/1W@W@W@W@/1W6W@W@W6W6W6X/W)W)W6W6W6W)W)X/W)/.X/X//.X/X/X.X.X.X.WUX.WUWEWEW;W;VBVB/+VBVBUCXRUC/*UCUCUCVB/*/+/,U$U$/,/-UCUCUC/-TYTYUCTYU$V<U$V<V<V.V<V.TY/*TYTYTNTN/*TN/*TNTN/+/+TZ/,/-V@V@/-/.V@U;V@V@V@/-/.//TDTDV@TD/.UPUP//U0U0U0U)TD/.V7V7V7V7U)UO/-YBYB/.YBYB/./////0YK/1/1/2/3/4YK/4YK/5Y.Y./5Y.Y./5/6/7/7/8/9/:/:/;/</=/=Z'/>/?Z'Z'/?/@/@/A/B/C/C/D/E/F/F/G/HY?/H/IY?Y?/I/JY1Y1/J/KY1/L/L/MY?Y?/MYI/N/OY?Y?Y?/OY?Y?/O/PYIYI/P/Q/Q/R/SZ&/S/TYIYI/T/UYIYI/UYSZ&/V/V/WWMWM/W/XYI/YVXVXVX/Y/YX1WMVV/Y/ZVVVVVXVV/Z0#X1WRVVWRWRVRWRWRVVVVWSWSVRVRWSWSW%/WVRVRW%W%VRVRW%W@W%W%VRVR/UX+W@W@W5W5W@W@W5X*W5W5X+W5W6W6X*X*W6W6/QX*/QW)W)W)W)W)X*X*W)W)/P/QX*WXWXWX/PWXWXWXWXWXWX/PX/X//PX//PX.X.X.WX/PWXWX/PWX/Q/RX.WUX.WUX.WUX./QWZW;WZWZWEWZWEWEUC/OUC/PTGTG/P/QUC/QUCTY/QTY/RTY/RTNTNTNTN/RTN/STZTZ/S/TTN/TTN/U/UUU/VUUV@/V/W/X/X/YUUUU/YUUUUUU/YU0XNXNYDYDYD/YYDYD/YYDYD/YYD/Z/ZYD0#YDYKYK0#0$YK0$YKYK0$YO0%0&0&0'YOYO0'0(0)0*0*0+0,0-0-0.Y,Y,0.0/000101020304Y,04Y,05Y;Y;05Y;XXYTY;Y;YT04Y;Y;YI04Y;05YIYI0506Y;06Y;07YIYI0708VUVUW#VU0708090:W#W#0:XYVUVUVWVUWVWVWV09VWVW090:WVWS0:WVWSWSWVVRVW09VW0:WV0:0;0<0<VR0=0>VRVR0>0?0?0@0A0B0B0CW/W/VRVR0C0DVRX+X+X+0CX+X+X+X+X*WXWXX*X*WXWXX*X*WXX*X*X*X*0@X*WX0@WXWXWXWX0@0@0AWP0BWX0B0C0DWPWP0DWWX(0DX(X(0D0E0F0GUC0GXRV?0GV&0HU20HTY0I0JV&0J0K0LTYTYTP0LTY0LTYTNTY0LTNTN0LUU0MUU0MUU0NUUXHY@XHS<0M0NS<S<YD0N0O0PS<0PS2S20PT)0QT)YO0QT)YE0QT)S2T(0QT(T(T(0Q0RY,XXT(T(T(S;Y;Y;XX0Q0Q0R0S0T0T0U0VVS0V0WW+0X0X0YVYVYVSVYWT0YVYVYWTVY0XX&0YX&0Y0ZVY1#X&1#X&X&1#VW1$1%1%1&W:W:W:W:1&W:W:W:W:1&1&1'W:1(1(1)1*1+1+1,W<W<W<1,W<1-X+X+W<W?X+WXWXWX1+W?W?W?WXWXW?WXWWWW1*1+V?1+UKUKU2U21+U2TO1+TO1,UKUQUK1,1,UJ1-1.1.TN1/10UQUQ10UN101112UQ12XPUQXP12UUXPUUXPUUU1U1UUUUUU11UU1112UTX5S<1213S<S<SC13SCSCSCT$T$S2T$S4S2S2S4S2S2T(S2T(S2T(S2S2T(T(T#T(T(1-T(S;T(S;T(S;1,1-1.WTS;1.S;S;1.1/WTWT1/X&10X&1011WTWTX&X&11X&1112W.1313X&WHWH13W<X&14X&W<WHXZW<W<W<131314W?W?W<14W?W?14W=W?1515WX1617WXWX17181819W?1:WXWX1:W?W?WX1:X01:1;1<W?1<X0X0X0WXWXX0WX1;WX1<WXWXWXWX1<WXWX1<WXWXWX1<1=WX1=WX1>1>1?X#X(UK1?XQUN1?UNUNUNUN1?UNUNUN1?UNU-UM1?1@TJ1@TCU-1AU1U1TMTMU1UTU1U1XOXOV=TFU<1>U<XOUTU+U1V'V'1=XOXOV21=XOXOV*1=XNTK1=T.US1>1>SCT$T$XHT$S?1>SCT$T$T$T$T$S?T$T$S4T$S4T$S4T$S4S2S2S4S4S2S2S219S2T#T#T#SZT(SZSZT(SJSZSJSZSJSZSJ15SJSJSJSJSJSJ1515WTSJWT15WTS3S3WT1516VQWTWTVQVQWTWTWTWHWHWHVQWHW?13W?Y$W,13Y$X0X0131415X-W$X-X-14W$15W$1516W$17W$17W$1818W3X-19WXWXW3WX18WXY&Y&Y&WGWXWG17WGWGWG17U-XPXP1718U&UFV$TFV$TFXOXO1718TF18TF19XN19TKV;TK19TKTK191:S?1;S?1;S7S>S4S4S41;S>S>1;SDS>1;1<S>S4S4S41<1<T%T%T%1<1=S/S/T%1=1>S01>T#T%T#1>T#1?SM1?T&1@1AT#T#SM1AT#SZSM1ASM1A1BSBSZSZ1BSZ1BSZSZ1CSZSZS5S5SJSJS5SHSJ1ASHSHSJ1ASJS1SJSHSHSH1@1AS1S11AVQ1B1CS1SWS1S1VQVQVQSWVQVQSWSW1@W*1AW*W?X0W?X0Y$X0W?W$X0W$X01?1?1@1AWN1AW$W$W$WNWNW$W3WN1@WN1AY&Y&W3WGWXWGY&WGWXWGW3WBZHZGZHZHV$V$TFXOXOTFU.U.TF1;TFTFTFTFTFUGTKU/TKTETKTKUGUGTETEUGTEU/17U/V%V%TLV%TLU/U/TEV0V%TLV0TBXMXM14XMSX14SXSX14S015S01516S0XGSM1617SBSSSBSN17SBSBSNS9S5S5S516S5S5SLS5SBS9S915S5S515SQSHSHSQ1515SQSQSQSQSQSQ15S1S1SHS114SI15SISISY15SYS1S1S1SWS1SWSWSWW$13W7WA13WAWAWA13WA1415W7WB15WOW(WB1516WBWG16WBWBWFWOWFWG15WFWFWFWFWFW8W8ZPW8W8ZPY'W8W8U.U.1213U.U.13UBUB13UBUBTFTFUBUBTFUGTFUGUBUBUBU%U%UGU%UGUGV0UGUGUGV0UGV0TBU(TBU(1,U(1-U(U(U(1-U(SN1-S9S91-1.1/10S910S9SLSLSLSLSQ1/SLSPSL1/SQSLSQSLSQSQSQSQ1.SQ1/SQ1/SQSQ1/SI10S@10SYS@11SYSY11SYSWSWSYXY1011S@S@W7WOW7W7WOWOWO10WOWFW7W7WFW8WFW8W8ZSW8ZSW8ZSW8ZSZ7Z7Z7ZAZZXKZZZ5Z<XJZOXJZOXJZ5ZOXJZTZOXJ1'V/UBUBV/U%V/1'UBUAUBUAUG1&UAV)V)UGV)TTV)1%UAUAUGV0TTTTV0V0TTTTTBTBTTT/T/U(T/U(TTT/TTV3T/0X0YT?U(U(T?T?0X0Y0Z1#T?1#T?T?1#1$UEUESPSPSP1$SQSQSQSRSPSRSRSR0Z1#SRSR1#1$SRSRSR1$SR1%1%ST1&STZ.Z.XYZ3Z3Z*Z3Z*W7W7Z,Y%W71#Y&Y&WFW-WFW-W8W8Y'X@W8Y'X@X@Y'X@XEX@Y'W8X@X@W8ZSY'X>ZSZSX>X>ZAZAZSZSZAZAZ;Z;Z=Z=Z=ZXZTXIXIZVZVZVZVZ@UBUA0OUAV10OV10PUAUAUA0PUAT=0PT=TTTTUATITTTTTITIT=0NT=TITITI0NTI0NV3V3V30NV30OV30OT?0PT?SPSPT*T*SPSP0OT*T*SET*SESRSRSE0NSR0N0OSFSFSF0O0PSFSTSFSF0OSTSTSTSF0O0PSTXEX@XEX@XEX@XEX@X@0NX@X@Z;XVZNZNV1T10M0NT30NT70O0OT=T2T20O0P0Q0RT=T=0R0S0S0T0UV3T2T=T20U0U0V0WV3T*SET*SET*T*T*SGT*SGSGSGSESESE0T0TSGSGSGSGSG0T0USGST0UST0USGSGSGXEX@XEX@XEX=XEX=X=X>X=XFX>X>XFXFX>X>XF0QX>X>0Q0RX>XUXFXU0QT80R0S0ST50T0UT4T2T90UT2T2T20UT90UT7T70U0V0WT0T20W0X0Y0YV3UR0Z0Z1#T0T0URURT0XN0ZSGSGSGXEXEXEXA0YX=XAY'X=XFX=0YX=0YX=0ZXFXFXD0ZXFXF0ZXFV1V1V10Z0ZT7T7T7V10ZTRTRT0T00ZT0T10ZT1T1X=0ZY'Y'XDXDXBXB0YXDXBXBTR0YTRT60Y0ZT6T6V+T6V+V+T6T60YT60YT1T6T6V+T;V+V+XNX<T;XNT;T;V+T;VMVJVMVJVHVKVHVKXLXLT;VLXHXHVLY(VLY(VLY(Y(SGY(SGY(SGY(SGVNVMVNVMVNVMVNVMVMVJVMVJVMVJVMVJVJVGVJVGVJVGVJVGVFVFVOVOVFVFVOVOVFVFVOVOVFVFVOVOVFVFVOXEVFVFXEXEVOXEVOXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVKXEVKXEVKXEVKT;VLT;VLT;VLT;VLVLY(VLY(VLY(VLY(Y(SGY(SGY(SGY(SGVNVMVNVMVNVMVNVMVMVJVMVJVMVJVMVJVJVGVJVGVJVGVJVGVOXEVOXEVOXEVOXEXEVKXEVKXEVKXEVKXOVLVKVLT;VLT;VLVLY(VLY(Y(SGY(SGVNVMVNVMVMVJVMVJVJVGVJVGVOXEVOXEXEVKXEVKYJYJ/U/VYJYJ/VYIYIX1YIYIYJYJYJ/UYJ/UYJYW/UY9Y9Y9XTY9/UYFY9Y9/UY9YW/UY9Y9Y9Y9/U/VY9/VYIYIYIYI/VYIYIYI/VY>YIX1X1X1X1X1/U/VX1X1X)X)X/X//UW6X/W>X/X/VBVBU=VBU$V<U$V<V.VDV.VDV./QV.V.Y6Y6Y6/QYBYB/QYB/Q/RY6Y6Y:/RYBYBY)Y.Y)/RYJYJYJ/RYJY5Y5Y5Y5/QY5Y5/QYWYWYWYWYWY5YWY5Y5/P/QY5Y5/Q/RY5/RY5Y5YW/R/S/TY./TY./UYWYFYWYWYFY9YXYXYWYWYWYNYN/RYN/S/SYWY5Z'YWXTZ'Z'XTY=/RY=/RZ%Y=/SY9/SYXYXYNYNYN/SYN/SYNYN/S/TYXYI/TYIYIYI/TYIYN/UZ%Z%/UZ%Z%Z%Z%/U/U/VZ'/W/W/XYGYG/XYGYGYG/XYGYGYGYIYIYGYIYG/WYGYGYIYI/WYI/WY>/XYI/XY>Y>Y>Y>Y>Y>/XY>Y>YIY>Y>YP/WYPYIYIYI/WYIYIYI/WYI/WYIYIYZYZYZ/W/W/X/Y/Z/Z0#YPYPYP0#YP0$Y>X10$X1YP0$0%0&X1X10&X10&0'0(0)0)X1X1X1X10)X1WRX1X1VRVRX1WLVR0(0(0)0*X)WLX)WLWKX)X)WKWKX)X)WKX)WKWKWLWKWK0&VR0'0'WKW%W%X)X)X)0'WK0'WKWK0'WJ0(WJWK0(W%W%W%0(W%W%0(0)W@W@0)WJW%WJWJW@WJW@W@0(W@W60(W6W6W6X/X/WXWXX/X/WXWXVBVB0&0'0'UCUCUCU$U$VBU$VBVB0&0'VBVB0'TSU$U$0'U$U$U$U$0'UCUCUC0'TNTN0'UX0'TNTYTN0'TNTNTNTN0'TNTNV@V@TZTZ0&TZTNTN0&TZ0'0(TZ0(TZTZ0(V@TZ0)V@V@UU0)V@UUV@UUUU0(UU0)V@V@UPUPUPU0UPU0U*V70'V7Y6Y6XGYBYBYBYKYKYB0%YK0&YBYBYKYKYBYBYB0%YBY)0%0&YK0&YKYKY)Y)0&0'0'0(0)Y.0)0*YKYK0*Y.0+0,YKYKYK0,0,0-YK0.Y.Y.0.Y.Y.0.0/00Y.00Y.0101YM02YM02Y.0304Y.Y.04050506YO070708YOYOY.08090:0:0;Z$Z$YO0;YOYO0;0<0=0>Z'Z'0>Z'YM0>0?0@0@0A0B0CZ'Z'0C0DZ'Z'0D0EZ$0EZ$0F0FY/0G0H0H0I0J0K0KY20L0M0M0NY2Y20N0OY20P0P0Q0RY-0RY10SY10S0TZ'0U0U0VY?Y?0V0WY?Y?0WYGY?Y?YGYGY?Y?0V0WY1Y1Y?0WY1Y10W0XY10Y0YY?Y40Z0Z1#1$1%1%1&1'Y?1'Y?Y?Y?YIYIY?1'Y?1'Y?Y?1'1(Y?Y?Y?1(YTYT1(Y?YTYTY?Y?YTYI1'1(Y?Y?YIYI1(YIYI1(1)1*1*1+1,1-Z&Z&YIZ&Y?Y?1,1-1-YIYIYIYI1-YI1.Z&1.1/YI1/YS101111YSWMWMYS11YSWM11X1WMWM1112YIYIWMWMY+12Y+Y+YIY+VXVXVUVUX1X110WMX1X1X110X1X110X1VX1011VU11VUVUVUW%W%11W%X+X+11X+X*11X*X*W6W611W)11W)WX1212WXWXWXW)WXWXWXWX11WXWX11X/WXWXX/X.X.X.WXX.WXWXX.X.WXWXWXWX1.WX1.X.1/X.WUWUX(1/UCTGTGTGTGTGUCUCTGTGUCUCTGTGTYTY1+TYTYTYTGTYTGTGTGTG1*TY1*TNTNTNTN1*TNTZTNTZTN1*TZTZ1*TZTZ1*1+1,1,1-1.U31.1/1011U311U312U31213UUV@V@V@1313V@14UU1415UUUUV@V@1516V@16UUUU16UUUUUU16U0U0U0YDYD1617YDYD1718YKYK18YK1819YDYD19YD1:YD1:YDYDYD1:1;YDYD1;1<YDYDYK1<YK1=1=YO1>YOYKYKYK1>1>YO1?YOYOYOYO1?Z(Z(YOZ(1>1?Z(Z(YRYR1?YRZ(Z(YOYO1>1?YOYL1?Y-YRY-Y-1?Y-1@1@1A1B1CY-1C1DYUYYYYY,Y,1C1DY,Y,1DY11E1FY1Y11F1GYVYV1G1HYVYV1HYV1H1I1J1KY1Y11KXXYVYV1KY;YVXXY;Y;Y,1JY,Y;Y,Y,Y,1J1JY;1KY;YTYIXXXXYIYI1JYIX%X%Y;Y;X%X%X%1IX%1IX%X%1IX21J1KY;1KY;1L1LYI1MX%YIYI1M1N1NW#1O1PW#W#W#1P1P1QX&X&1Q1RX&X&1RW#X&X&1R1SVWVWVWVWX&1SVWVW1S1TWVWV1TWVWVWV1T1UVW1UVWVWWVX$WV1U1U1VVWVWWVWVVWWV1UVR1VVRVRVRVR1VVRVR1V1W1W1X1YW'1Y1ZW'W'X$1Z2#2$2$2%2&2'2'W/2(W/W/W/2(W:2(2)2*W'W'W'W'X+2)W'W'W'W'2)W'W'W'W'X+X+X*X*WXWXX*WXWXWXWXWXWX2&WX2&2'WP2'WPWPWPWPWP2'2(WX2(WXWXWXWX2(WP2(2)WPWP2)WW2*WWX(WEX(WEUCUCUC2)2)TYV&V&UC2)UCUCV&V&2)V&UCUC2)2*UCUC2*2+V?2+V?V?TY2+V&TYV&2+V&V&V&2+V&2,V&2,V&V&U22,U2U22,2-U2U22-TYTOTPTYTNTNTNTNTN2,TN2,2-TN2.2.2/TNUUTN2/TN20TN20TN2121YDYD22YDYD22YDYDYDS2S22122S<S<22S223S2S2S2S<S2S2T)22T)22T)23T)YOYOYEYET)T)S2T)21T(T(T(Y,21Y,22Y;Y;2223WI23WIWIY;Y;23Y;Y;23242525W+WIW&W+W+25W+XX25W92626W+27282829S;W929Y;W+W+292:W+W+W+2:W+2;2;2<2=VY2=VYVYVYWT2=WTWT2=X&2>2?VY2?2@X&VY2@VYVYX&X&2@X&2@X&VY2AX&2AX&X&2A2BX&2CX&W:2CW:2CW:W:W:VW2CW:W:W:2CW:W:X&2CX&X&W:W:W:W<W:2BW:W:2BW:W:W:W:W:2B2CW/W/2CW<W:W<W<W<2BW<W<W<W<W<W<W?W:W:W:2A2AW<2BW<2B2CW<2DW<2D2E2FW?W?2FW?WW2FWWX(2FX(X(X(V?U2V?2FUKU2UKUKTOV#TOTOTOTOTO2DUKUQUKUK2CTNTOUJTO2C2D2EUJUQUQUQTNTN2DTNUQ2DUQUQTNTN2DTNUQUNUQUNUQUQ2CUQUQ2CUQUQ2CUQUNUQ2CXPUJXP2CUUXPXPUUUTUUUTUUUTUUUTUUU1U1U1X5SCSCSCS<S<SCSCSCS2SCT$2=S;T(S;S;2=2>2?VSWTWTWTS;WTS;S;WTWTS;WTVYVYWTWTWC2;WT2<X&X&WTX&WTWTWT2;WT2;WTWT2;WQ2<2=X&X&2=X&WQX&W.W.X&2<W.2=W.2=W.WH2=X&2>XZX&2>X&2?X&W<X&W<2>W?W?W?W<2>W<2?2?W?W?W?W<W?W<W<W?2>W?2?W?2?W?W?W=WXW=W=W=W=W?W?W=W=2=W=2=W=W=2>W?X'2>2?W?W?W?2?2?2@2AW,2AW,W?W,X'X'2AW?W?W?W?2AW?W?W,2AW?W?2AW?W,2AW,2BW?X0W?X0X0WX2AWX2AWXX0X0WXWXWX2AWXWXW$WXWXWXWX2@WXWX2@WXWXWX2@WXWXX#Y&X#WXX#2?X#X#Y&2?X(UKUKUK2?UKUN2?UNUN2?UNUNUMUMUNU-UMTJ2>TJUM2>UMTJUM2>U-TCTCV=V=V=U<V'U<U<V'V2XOV2V2V*XOXO2:VAV:V:2:V6U@2;U,U,U#UIXHSCXH2:2:S?S?S?S2T#T#T#S;29SJSJSJS3SJS3XYWTSJWTSJSJS3S3WTWTVQ26WT26VQVQW?W,W?W,W,X025X0WXWXX0X-X0X0W$W$23X-W$W$W$W$X0W$X022X0W$X-22W$W$W$X-W$22W$22W$W$WXWXW$WXW$W$Y%WX20W$X-W$20W3X-W3WX20WXWXX#X#Y&WGUN2/XPU-U-V=U&U&V=V=2.2/TK2/TKTKTUU@2/TKTFTKTKTKTKTK2.TKUIUIV;V9V(V(2-TKXHS?XHS6S?S?2,2-2-S?S7S7S?S4S?S4S4S4S>S4XH2+XHSDS>S4S>S/SDS>2*SXS4T%S4T%S4S4S4T%S4S4S/S/T%T%2'T%S02'S0S0S/S0S/2'T#T#2'T#T#T#T#2'2'SMSMSM2'T&SOT&S02'S0SOT&SMT&SM2&SMSMSMSMSBSM2&2&SB2'SZSM2'SMSBSZSZ2'SZ2'SZ2(SZSZSZSZS5SJSJSJSHSJS3SJS1S12%S1S12%S3S1S1S3VQS3S3S12$S1SAVQVQ2$XYW?W?2$W*W?W*W*W*W$W$2#Y%W$W$W$WN1ZW$WNWNW$1ZW$W$X01ZX0W$X-W3WNW3WNW3W3W3TKTKTF1XU/XNU/V%TLTLTLTBSX1VSXSX1VS0S/S01VS0XGS01V1W1X1Y1YSM1ZSMSMSMSBSBSMSB1Y1ZSSSSSNSNS5S5S51YS9SLS9SL1XS5SQSQSHSH1XSQSQSQSLSQSQSQSQ1WSQSISQ1W1WSISISISI1W1XSYW$W$WA1XW$W$W$WAWAWA1WWAW71WW7W71WW7W7W7WO1WWOWOY&W(WB1W1WWBWBWBWBWBWF1WWGWGWGWFXOU.UBU.U.U.1UU.U.U.1UUBUBU.UBUBTBU(TB1TT/U(T/U(U(U(U(1SSNS9SNS9S91R1S1TS9S9SL1TSP1TXTSP1TSPSPSPS9SLSLSL1SSLSLSLSLSLSLSQSQ1RSQ1S1S1TSQ1USQS:SQ1USISI1US@1US@S:S@1USY1V1WS@SYS@S@SYSY1VSYS@SYS@S@SYXY1UXYWOWF1UWFUBV/UBUBV/V/V/UAUGUGUG1SV)V)V)1ST/T?T/T?1RV3V3V3U(V-1RT?V-V-T?1R1RT?T?T?T?1RT?UET?1RT?T?1R1S1T1UV-V-1UXLSPSPSP1USQ1USR1VSRSR1VSQSQS@SRSRS@S@1US@SRSRSR1U1U1VST1WS8STS8STS8ST1VS8WFWF1VWFUBUB1V1W1WUA1XUAV1UAV1UAUAUA1WUAUAUA1WT=1WTITITITITI1WTI1WV3V3V3TIV3TI1W1WV3V3V3T?T?V31WV3T?V3V31VSPT*T*SRSRSE1VSRSRSRSFSRSFSFSFSE1TSESESFSFSE1TSTS8ST1T1TSTSFSTSFSF1TSFX@X>X@X>V1V1V1T8T4T4T8T4T3T7T3T71PT7T7T7T71PT7T7T1T1T11PT:T21PT2T41PT4T41PT2T1T2T2T2T21P1PT=1QT=1QTIT=TITIV3V3V3T=T=T=1PT2T2T21PT=T21P1QT2V3V3V31PV3V3V3SE1PSG1QSE1QSESGSG1QSG1R1RSGSUSGSGSGSG1RSGSVSGSGX>X>XFXFX>X>XFXF1O1PXFXFV1T8V1T8V1T8V1T51NT5T5T5V1T5V1T5V1T5T71MT5T51MT71MT21NT2T2T2T21NT9T2T91NT21N1OT01OT0T0T01OT0T0T01O1P1QURT21Q1R1S1SURURUR1SV3UR1T1T1UURV3T01UT0T01UURT01VSG1VSGSGXEXEXA1V1VXFXFXFXD1VXDXDXDXD1VXD1V1WXDXD1WXDXDXDV11WV11X1XT7T7T7V1T7V1T1T0T01WT0T7T7T1T11VXDXDXDXDXDXDXBTR1UTRT6T1T1T61UT1T11U1VT6T6V+T6T1T1T6T6YW1TYWYW1TY91UY9YJYJ1U1VYJYJYJYWYWYWYJ1UYWY9Y9Y9YWYFYWYFYFY9YFY9YWY9Y9Y9Y9Y9Y91QY9Y9YIYIY9Y9YIYIYIYIY9YI1NY>Y>Y>1N1OX)X)X)1OX)X)X/X/X/W6VDVDV.VDY6Y6Y61M1MYBYB1N1N1OY6Y6YBYBY6Y6Y:Y:YBYB1M1N1O1PYJ1PYWYWY5YWY5Y5YJYW1OYWY.1OY.Y.1OY5Y.1PY5Y51PY.Y5Y5Y51P1PYWY51QYWYWYWY5YWYWY.Y.Y5Y5Z'Y5Z'Z'1NZ'1NZ'1O1PYXYXYNYNYNYNYN1OYWYWY5YWZ'Y=Z'Z'Z%1MZ%Z%Y=Z%Y=Y=Y9Y9YXYXYNYN1KYNYN1KYNYNYXYIYXYXYIYIYX1JYIYI1JYIYXYXYNYNYNYIYNYNZ%Z%Y=Z%Z%Z%Z%YGZ'1FZ'Z'Z%Z%1FYG1FYGZ'YGZ%1FYGYG1FYGYGYGYNYNZ%YGYGYIYGYGYGYIYG1DYGYIYIYI1CY>Y>Y>Y>Y>YIYIYIYIY>1BY>Y>Y>1BY>Y>Y>1BYIYIYI1BYIYIYZ1BYIYZ1BYZ1B1CYSYP1C1DYIYIYP1DYIYIYIYIYI1DYIYIYI1DYZYZ1DYPYZYP1DYPYPYPYP1DYPX1X1X1Y>Y>1CYPYPX1YPYPYPYP1B1CYP1CYP1DX1X11DX11DYIYIYIYP1DYI1EYIYIYI1EX1X11EX1X11EX1X1X11EX1WRVR1EVRVRX1X1X11EX1X1X)X)X11DX)X)WKWK1DWKW%W%VR1DW%WKW%W%X)X)X)WJX)WKWKWKWJWJ1AWJWKWJWKWJWKW%W%W%W%1?W%W%WJWJWJW@W@W@1>W@WJWJ1>WJW@1>W@W6W@W@1>W6VBVBVB1>VBVB1>1?VB1?UCUCVBVBUCUCVBVBUC1>VBVB1>UCU$U$TSTYU$U$TYTYUCTGUC1<TY1<TYTY1<1=TNTN1=TNTNTNTN1=TNTN1=TZ1>1?TZTZULTZ1>UL1?1@TZTZTNTNTZ1?TZTZ1?V@TZV@V@V@TZTZ1>UPUUUPUU1>UUUPUU1>UUUUTDTDTDV7YBYBY81=1=Y8YK1>YBYB1>YKYK1>YK1?1?1@1AY0YK1AYKYK1A1BY0Y01B1CY0Y0Y)Y)1C1D1D1E1FY.1F1G1H1I1IY0YK1JY0Y01JY0Y0Y.1J1K1K1LYKYK1LY.1M1N1N1OZ)Z)YK1O1P1Q1QZ)1RZ)1R1S1T1UY.Y.1U1VY.1VY.1WY.Y.Y.1WY.1W1X1Y1Y1Z2#YMY.YMY.Y.1ZYMYMYMYMYMY.YM1YY.1ZY.1Z2#Z)Z)2#2$Z)Z)2$2%2&Z$2&Y.Z$2'Z)Z)Z)2'Z)Z)2'2(YO2(YOYOZ)2(2)2*2*YOYOYOY.Y.Y.2*2*2+2,2-Z$2-Z$Z$2-Z$Z$Z$2-2.Z$Z$2.2/YOYO2/2021222223YAYA2324Z(Z(YAYAZ(Z(Z'Z'2324YMZ'YMYMYMYMYM23YMYM232424Z'YMYMZ'Z'2425YMYM2526YM2627Y/2728Y/Y/Z'Z'Y/Y/2728Y/Y/28Z'Y/Y/Z$28Z$Z$Z$28292:2:Y/2;2<Y22<Y2Y22<2=Y2Y2YA2=YAYA2=2>Z(Z(2>2?Z(Z(Z(Z(2?2@Y2Y2Y22@Z(Z(Z(2@Z(2@2A2BY/Y/2B2CY/2C2D2E2E2FY2Y22F2GY2Y2Y2Y12GY1Y2Y22G2HY2Y22H2I2IY-2JY-Y22JY12KY1Y1Y-2KZ'2KZ'Z'2KYGYGYG2KY?Z'2LYGYG2LY?YGYGY?Y?Z'Z'2KY?2KY?Y?Y?YGYGY?YGY?Y?2JY?Y?Y?2J2KY?Y?Y?2KY?Y?Y1Y1Y?2JY4Y4Y4Y4Y12JY?Y?2J2K2KY?Y42LY4Y4Y42LY42LY?Y?2LY?2M2NY?Y?2NY1YGYGYG2NYGYGY?Y?2M2NY?Y?YIY?Y?Y?YIYIY?Y?Y?2LY?Y?2L2MY?Y?2MY?Y?Y?Y?Y?Y?2MY?Y?2MY?YIYIY?2MYIYIY?YIY?2LY?YIYIYIYIYSYIYI2KZ&2K2LZ&Z&YS2LYSYS2LYSYSYSYSYSZ&2LYSYSZ&Z&Y?2KY?Y?2KYIYIYIY?2K2L2M2MZ&Z&Z&YI2MYIYIZ&Z&Z&YI2LYIYIYI2LYSYSYSYSYS2L2MYSYS2MYSZ&WM2MWMYPYPYSYSYPYPYP2L2L2MYIY+Y+WMY+Y+Y+VXY+Y+WM2KWMWMX1X1VVVV2JX1VVX1VXVX2J2KVU2KVUVUVXVX2KVUW%W%VRVRX+X+2JX+2J2KX*X*2KW)W)W)W)W)X*W)2J2KWXWXW)W)2KWXWX2KWXWX2KX/X/X/WXWXWXX.WXWXWXX.2IX.X.X.X(WUX(X(2HTY2ITYTY2ITYTYTYTYTY2ITNTZTNTZ2H2ITN2J2JTZU3U3TZTZ2J2KTZ2KUUUU2KV@UUUUTNTNTNU32J2K2LU3TN2LTN2MTNU3TN2MU3U3U8U3TN2LTNTN2LU52MTNU3UUU3UUU32LU32MU3UUUUUU2L2MUUUUV@V@V@2M2MV@V@V@V@UUUUUUV@V@V@UUV@2KUUUUV@V@UUUUV@V@UUUU2IUUUUUU2IUUUUUUUUUPUUUPYD2HY@Y@Y@2HY@Y@2H2IY@Y@YDYD2IYDYKYK2IYKYD2IYDYDYKYKYDYDY@2HY@2IY@2IY@YDY@2IY@YDYKYKYDYDYKYKYD2HYKYK2H2IYKYK2I2J2JYO2K2LYK2LYKYKYOYO2LYO2LYOYKXTYKYKYK2L2LYOYKYOYKYOYKXT2KYOYOYOZ(2KZ(Z(YRYR2KYRYRYRZ(2KZ(2KZ(Z(2K2L2M2N2N2O2P2QY1Y1Y-Y-Y-2PY-Y-YLYLYL2PYL2PYY2QYL2QYYYYYYYYYY2QY-Y-2QY-2Q2RYUYU2R2SYYY,2SY,Y,Y,2SY1Y1Y12S2T2UYVY1Y1YVYVY12TYVYV2T2UYVYVYUYVYUYVYVYVYVY,YVYV2SYVY1Y12SY1Y1Y12SY12SYVYVYVYV2SYVYV2S2TYVYV2TY;2UY;Y,Y,Y,Y;Y,2TY,Y,Y,Y;Y;Y;Y;Y;Y,Y,YIYIYI2RX%X%Y;X%YIYIX%X%Y;2PY;2QY;2QY;Y;2Q2R2SX&2SX&X&X&Y;X&Y;X&YIYIX%YIX%X%2QX%YIYI2QYIYI2QYIW#X2W#X2W#X2X22PX2W#W#X2W#W#W#2OW#2O2PX&X&2P2QX&X&2QX&X&X&X&W#X&2QW#W#2QW#WVWVVWVWWVWV2P2QVWVWX&X&VWVW2PVWVWVW2PVW2PWV2QWVVW2QVWVWWVWVVWWVVW2PVWVWWVX$WV2P2P2QVW2RWVWV2RWVVRVR2RVRWS2RWSVRVRVRVR2RVRVR2RX$X$W'W'W'2QVRW'W'VRVRW'W'W'W'2P2QVRW'W'W'W'2PW'W'2P2Q2RX$X$X$2R2S2S2T2UW/X$2U2V2W2W2X2Y2Z2Z3#W'3$3$3%W'W'W/3%WV3&WV3&WVW/W/W/3&W/3&3'3(3)3)3*3+3,3,3-W'W'3-3.W'W'VRVRW'W'3-WXWPWPWXWX3-WPWX3-3.WPWX3.WPWPWPWPWP3.3.3/30WWWXWXWX30WXWXWX30WX30WPWP30X.WPX.WPWPWP303031WWWWUCUCUC31UCTYUCV&UC30UC3131V&V&V&UC31XRV?3132V?V?V?32V?V?V?32V?U2V?U2V?V?TYTY31TY31TYV&V&TYTYV&TYV&TYV&30V&TYV&TYV&V&U23/V&V&U2U2V&TY3.U23.3/TPTP3/TNTNTNTN3/TNTNUUUU3/30TNUUTNUUTNTNTN3/3/UUUUUUUUUU3/UU3/UU30UU30UUTNUUTNUUUUUU3/YDYDYDYDYDS<3/3/YD30S<S<30S<S<S<S2S<30S2S230S230S2S2S2S230S231S2S2S231S231T)T)T)T(31T(Y;Y;3132Y,32Y,Y,32Y;Y,XX32Y;Y,Y;W032WI33Y;Y;W0W0Y;Y;3233Y;33343535W+W+W+W0W035WI35363738W&W&3839393:3;W23;W+3<W+3<3=VSVSW+W+VSVSW13<S;3=3=3>W93?Y;Y;3?3@Y;Y;Y;W+Y;3?W+W+W+W+W+3?W+3?VYVY3?Y;W+W+3?3@VYVY3@VYVYVY3@3AVYVYWTVYWTWTX&X&3@X&3@X&VY3AX&X&3AX&3AX&X&X&VY3A3B3C3CX&3DX&3DX&VY3EVYVYVY3E3EX&3F3G3GVWX&X&VWVWVW3GVWVW3GVW3GVWX&VWX&X&X&W:VWVWW:W:3E3FW:W:W:3FW:W:W:W:X&3FW/3FW:W:3FW:W:W:W:W:W:3FW:W:3F3GW:W<3GW<W:W<W<W<W:3FW:W:W:3F3G3H3HW<W<W<W<3HW<3I3IW?3JW?W<3JW<W<W<3J3K3LW<3LW<3M3MW?W?W?W?W?3MW?WWWWWW3MWWY'X(Y'V?U2V?V?TOTOUQUQV#3JV#V#UQUJUQ3JTO3JTOUQ3JUQUQUQUJ3JUJUJUJTNUJ3JTNTNUJ3JUQUQ3JUQ3J3KUJUJUNUQUN3K3KTNUJUJTN3KXPTNT(S;T(3K3KVSWTVSS;S;S;3K3KWTWTWTWC3KWCWCWCWCWT3KWTWTWT3KWT3KWTWTVZWQ3KWQWQWQWTWQWQWQW.W.X&X&WHX&X&3HW.3IW.W.W.WH3H3IWHWHWHX&3IX&3IXZWHWH3IW:3J3KX&3KX&X&W<W<W<W?W<W<W<3JW<W?W?W?3IW?W?W?W?W?3IW=3IW=W?W?W?W=W?W?3H3IW?W?W=3IW=W=W=W=3IW=W?W?3IW?X'X'W?W?W?W?W?3HW,W,3H3I3IW?W,W,3I3J3KW,3K3LW?W,X'X'W?W?W?W?W?X0W,3JW,W,3JW?W,W?W,W,3JW?W,W?W,W,X0WXWXWX3HWXX0X0WXWXW$W$WXWXWX3GWXWX3GWXWXWX3GWXWXX#X#X#X#Y&X#X(UKUKT@3EUKUKUNUNUN3DUNUNUM3DUM3EUMUM3ETJTJ3ETJTCV*3EV*V:T-T-T-3EV8T.3ET.XHSCXH3ET$T$3ES?S;S;SJSJ3DWTVQVQWTWTVQVQ3CX0W,X0X03CW$W$W$W$X0W$X-X-3B3CW$3CW$W$W$3CW$W$W$W$X-W$W3W3X-W33A3BWXWXUN3BUNU-U&V=U&V=V=V=V=UFT<T<3@T<3@TUTKTKTFTFTF3@3@V(TKTKS?S?3@S6S?3@3A3BS?S?S?3BS>S>XHSDSDSDSDSXS/T%S/S/T%3?S0S03?S0S0S0T%T#T%T%T#T#SMSMT#SMSMSMSOT%SO3<SOT&SOT&T#SMSMSMSM3:SMSBSMSBSMSB39SBSBSBSMSBSMSB38SZSZSZSZSZ38SZ38SZSZSZS3S3S1S1S3S3S1S1S3S3SASASASA35SWW?W?W?W*34W$W$W$W$W$WNWNW$WNW$WNX0W$X0W$TKTKTF3131S/S/S/S/S/S/S0S/S/S/S0S03/S030SOSOSO30S030S0S0303132SOT&T&T&32T&32T&XGSMSMXTSSSBSBSSSBS530S5S5S5S530S530SQSQSQSQSQSQ3030SI31SISQSQ31SISISYSYSY3031SISYWAW$WAWAWAWAW730W730W7W7WA30W731WBWBWOWBWB30WBWBW(WBW(30WBWBWFWFU.U.UBU.U.U.U.UBU(U(3-U(U(U(U(3-S9S9S93-S93-XTSPSPSL3-SL3-SLSLSL3-SLSPSP3-SLSPSPS9S93-SLSQSISQ3-SQ3-3.SKSQSQSQ3.SKSKSK3.S:S:3.S:SQS@SQS@3-S@SKSKSK3-3.3/3/SYSYSYS@3/S@S@3/SYS@SYSYSY3/SY3/S@S@S@3/WFWFWFUG3/V)V)V)V)V)3/V33/V3V3V-V-T?3/V-V-3/UET?3/T?T?3/UET?UET?UET?T?V-U(3.V-3.U(V-V-V-V-3.V-V-V-V-UE3-V-UEUESP3-SPSQSQSQ3-SQSR3-SRSR3-SQ3.3/S@S@SR3/SRS8S8S8SRSRSR3.S8S8S83.ST3.ST3/S83/STSTW7WFW7WFUBUBUB3.UBV1V1V1V1UAV1V1V1V1V1UAUAUA3+T7UAUAT7T73*TITITITITITI3*TTTT3*V3TIV33*V3TI3*TIV3V3T?T?T?SPSPT*T*SF3(SESFSESFSESFSFSFSG3'S8S83'STSF3'SFSFSFSF3'SFT73'T7T7T7T=T73'T13'T1T1T:3'T:T2T1T1T4T1T1T23&3'T2T2T23'T=T=3'T=3'3(T=T=T=3(T=TIT=3(T=T2T23(3)V33)T2T2T2T2T2V3V3T2V33(V3SE3(3)SGSESGSGSGSESESE3(SGSGSG3(3(SUSUSUSGSGSUSUSGSG3'SV3'XFXFXFXF3'XFXFT5T8T5T5T73&T73'T5T53'3(3(3)T93*T9T2T9T2T2T2T23)T2T2T7T7T2T23(T0T2T0T7T0T23'T0T0T7T0T7T0T23&3'URUR3'URUR3'UR3(URT23(T23)T2T23)T2T23)T2UR3)URURURV3V3V33)V3V3URURURV3URURV3V33'V33'URT0T0URUR3'URURURT0T03&SUSGSGXEX=XAX=X=3%X=XFXF3%XDXDX=XD3%XDXFXF3%XDXFXFXDXDXF3$XD3%V1T7V1T7V1T7V1T7T7T7V1T7T7T0T72Z2ZXDX=XDTRTRTRT1T62YT6T62YT6T6T6T62YT6T6Y9Y92Y2ZY9Y92ZY92ZY9Y9Y9YJYJ2ZYIYJYJ2Z3#YJYWYWYWY9Y9YIYIYIY>Y>Y>2X2YX1X)2Y2ZX)X)2ZX1X)X)Y62Z3#YBY6Y63#YBYBYB3#YBYBY63#Y6Y63#Y6Y6Y)3#Y)Y)3#Y.3$Y.Y)Y)Y)3$3$Y.3%Y.YJ3%YWYWYJYJ3%YJY5Y5Y.Y.Y5Y5Y.3$Y.3$Y.Y.3$Y.Y.Y.Y5Y5Y.Y.Y53#Y5Y53#YWYWYWY.Z'Y.Z'Y.2Z3#3$3$Z'Y.Y.Z'Z'3$Z'YNYN3$3%YNZ%Z%Z%YNYN3$YNYXYX3$3%YX3%YXYI3%YIYIYIZ'Z%Z'Z'Z'YGZ'YGZ'YGZ'Z'Z%Z%YGYGYGZ%YGYGYG2XYGYG2X2YYIYIY>YIY>Y>Y>Y>YPYPYPYP2WYP2WYIYZYZYIYIYZYZYI2VYIYIYZYPYZ2VYPYP2VYPYI2VYIYI2VYPYIYIYPYP2VYIYIYIYPYPYIYIYI2UYZYPYPYPYP2TYPYPYP2T2UX1Y>Y>YPYPYP2TYPYI2TYPYPYPYPYP2TX12TX1YPYPX1X12TX1YPYIYIYIYP2SX1X12SX1X1X1YIYIYI2S2SX12TX12TYIX12UX1X12UX1WLWLVRWLX1X12T2UX1X)X)X)WKWKWKW%W%W%VRW%WKWJWKWKWJWJW%WJ2PW@W@W@WJWJW%WJ2OW@W6W6W@W62OW6VB2OVBUC2O2PUCUC2PVBUCUCUCUC2PUC2PVBUCUCVBVBUCUC2OTGTGTGTNTN2OTYUY2OUYUYTNTNUYTNVD2NTNTNTNTZTN2NTZTZULTZTN2MTNTNUL2MTNTN2MULTNULTNTNTN2MULUL2MTNV@V@TZ2MV@V@2MV@UPUP2MUPUUUP2MUPUUUPUU2MY8YKY8YKY8Y8Y82LY<Y<YKYKYB2KYBYKY0Y02KY02KY0YK2LY02LY0Y02LY)2M2NY0Y02N2O2O2PYK2QY)Y)2Q2R2R2SY0Y02S2TY0Y0Y)Y)2T2UY)2UY)2V2V2W2XY.2X2YY)2Z2ZY.3#Y.3#Y.Y.Y.Y)Y)3#3$3$Y.3%Y.3%3&3'3(Y.Y.3(Y.Y0Y03(3)Y0Y0YKYK3(Y0YK3)Y0YC3)3*Y.Y.YCY.3)3*YKYK3*3+YKYKY.Y.3+Y.3+3,YKYK3,YKYKYKYKYKYK3,YKYKZ)YKYKZ)Z)3+YK3+YK3,3,YK3-YKZ)Z)3-Z)YKZ)YK3-YK3-YK3.3.YO3/YOYKYK3/30YOYO30YO3031YKYK31Y.323333Z'34Z'34Z'35Z'Y.Y.3536Y.Y.Y.36Y.3637YM3738YMYMY.Y.Y.YMY.37YMYM37YMY.YM37YMYMYMYK37YK3838Y.39Y.393:3;3<3<3=3>Z)3>3?Z)Z)3?3@Z)Z)3@Y.3A3BY.Y.Z$Y.3AZ$Z)Z)Y.Y.Y.Z$Z$Z$Z$3@3@YO3AYOZ)Z)YO3AZ)YO3AYO3AYOYOYOZ)Z)3A3B3BYOYOYO3B3CYOYOZ)YO3CYO3C3DY.3EY.Y.Y.3EY.Y.Z$Z$Z$Z$Z$YOZ$Z$YOYOY.3BZ$Z$Y.3B3CZ$YMYMZ$Z$YMZ$Z$Z$YOZ$YOYOZ$Z$YOYOZ$Z$YOYOZ$Z$3>3?YOYAYO3?YAYA3?YAZ$Z$3?Z$Z$Z$Z$YAYO3>3?3@3@YA3A3BYMZ'YMYMZ'Z'3AZ'YMYMZ$YMYMYM3@YMYMYM3@3AZ'Z'YMYM3@3AYMYM3AZ'3B3CYMYM3C3DYMYM3DY/YMYMY/Y/YM3CY/Y/Z'Z'Y/Y/3BZ'Y/Y/Z'Z'Y/Y/Z'Z'Y/Y/Z'Z'Y/Y/Z$3?Z$Z$3?3@Z$Y2Z$Z$Z$3@3@Y23AY23AY/Y/Y/3AY/3B3CY/Y/3CY/Y23CY2Y23C3DY2Y23D3EY2Y23EZ$YAYA3E3FYA3G3GY23HY2YAYAYAZ(3GZ(Z(Z(Z(Z(YRZ(Z(Z(YRYRY2Y23EY2Z(Z(YRZ(Y2Z(Z(Z(Z(Z(3C3DZ(Z(Z(3DY/Y/3DY23DY2Y2Y2Y/Y/Y/3D3DY2Y2Y23DY2Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/3B3C3C3D3E3FY23F3GY1Y2Y2Y23GY23GY23H3HY2Y-Y-Y23H3I3JZ(Y-Z(Y-Z(Y-Z(3IY2Y23IY13IY1Y1Y1Y1Y1Y-3IZ'YGZ'3IYGYG3IYGZ'Y?Z'Y?Y?Y?Z'Y?YG3GY?Y?Z'Z'Z'3GZ'Z'Z'Y?Y?Y?Y23FY?Y?Y13FY?Y?3FY?Y?Y?Y1Y1Y?Y?3EY?3EY4Y1Y13EY?Y4Y4Y?Y?Y43E3EY?3FY?Y?Y?3FY?Y43FY4Y4Y43FY43GY4Y43GY43GY?Y1Y13G3H3IY13IY1Y1Y1YGY?Y?Y?3HYGY?Y?YGY?Y?Y?Y?YIY?Y?YIYIY?Y?3EYI3FY?YIYIYI3FY?Y?Y?3FY?Y?YTYTYIY?Y?Y?Y?YIY?3DYI3DZ&Z&YIYI3DYIYSYSZ&YS3C3DYSYS3DYSYSYS3DZ&Z&Z&Y?Y?Y?YI3C3DYIYIYIYI3DYIY?Y?Y?3D3DYIYIYIYI3DZ&Z&YIZ&YIYIZ&Z&YIYIYI3BYSYSZ&YSZ&YSYSYSYSZ&YSYS3@YSZ&Z&WMWM3?X1X1X1Z&Z&Y+Y+3>3?Y+Y+WM3?WMWMX1X13?X1VXVXVXVUVX3>VUVUVX3>VUVU3>VUVUVU3>X+3?X+W6W63?X*W6W63?X*W6W)W)W)3>3?WXWX3?WXWXWXW)W)W)WXWXX/WX3>X/X/3>X/WXWXWX3>UCTYUC3>UC3>UCTYTGTGTYTYTY3=TYTNTZTZTZ3=TZTZTZ3=3=U3U4U3TZTZ3=3>TZTZTZ3>TZV@3>V@TZTZ3>3?TZ3?3@UUTN3@TNU33@3AU3U33AU3U3U33AU3TNU33AU33BU33BU83CU8TNU6TNTNU8U8TN3BTN3BTNTNUUUU3BUU3BUUUUUUU>U>U>3B3B3C3D3EV@UU3EUU3EV@3FV@3F3G3H3IV@V@3I3J3JUUUUUUYD3J3KY@YDYDY@3KYDYD3KY@YDYDY@Y@Y@3JY@3K3KYK3LYDYDYKYDYDY@YDY@YDY@YDY@YDYDYDY@YDYDYD3HYD3H3IYDYD3IYK3JYDYKYK3JYD3J3KYDYDYKYDYDYD3J3KYKYKYKYOYKYKYOYO3JYOYKYKYK3JYOYO3JYO3JYO3KYOYKYKYK3KYKYOYKYK3J3KYOYOZ(YRZ(Z(Z(YRZ(3JYRYR3JYRZ(3JZ(Z(YRYR3J3KYRYLYRYLZ(3JZ(Z(3JYLZ(YLZ(3JYR3K3KY-3LY-YR3LYRYRY-Y-YRY-Y-3KY-3LYLYL3LYYY-Y-3LY-Y-Y-3L3M3MYY3NYYYY3NYYYYY-Y-3NYUY-3NYUYU3NYUYUYUYUYUYYYUYUYU3M3NYUYUY,Y,Y1Y13MY1YV3MYVYV3MY1YVYVYVYVY-Y-Y1Y1Y13LY1Y13LY13L3M3NYVYVYVY,Y,Y1Y1Y13MY1Y13MY1YV3MYVYVYVY1YVYVY1Y1YV3LY1Y13LY1YVYVYV3LY,3LY,3MY,3MY,Y,YIYIYIX%X%X23LX2Y;X2X2X2X2X2Y;3KX2X23K3LX2X23LX2Y;Y;Y;3LX&X&Y;X&X%X%X%W#W#YIW#3JYIYIYIW#X2X23IW#3IW#X&X&3IW#X&X&W#W#3IW#X2X2W#X23HW#X2X&W#X&X&X&W#W#3GW#W#W#3GW#WVWVVW3GWVWV3GWVVWVWX&X&VWVW3FVWWVWV3FWVVWWVVW3F3FWVVWWVVW3FVWVWWV3FWV3GWVWVVW3GWVWV3GWVVW3GVWVW3GWVVWVWVRVRWS3G3GVRVRVRVRVR3G3H3HX$3IX$VRVR3I3JW'W'3J3KW'W'3KW'3K3LW'W'VRVR3L3M3MX$X$X$VRX$X$X$3L3MW/W/X$X$3M3N3N3OX$X$3O3PW/W/X$W/3PW/X$X$X$3PW/3PW/W/3PW/W/W/X$X$3P3QX$3QX$X$W/3Q3R3S3SX$X$3TW/3TW'W'3TW/W'W'W'W'W/W/W/3S3T3U3U3VW'3WW/W/3WW/WVW/3WW/3WW/WVWVW/W/3WW/3WX$X$X$3W3XX$X$X$X$3XX$X$X$X$3X3XW'X$3YW'W'3Y3Z3ZX$4#W'4#4$W'W'W'4$W'W'4$4%W'W'VRVR4%4&VRVR4&4'WXWXWX4'WXWXWXWP4&4'4(WPWX4(WXWP4(WPWPWPWP4(WWWWWPWPWP4(4(4)WWWW4)WWWWWWWX4)WXWXWXWP4)WP4)WXWPWPWXWX4)X.WPWPWP4)WW4)WWWW4)WWWWWW4)V&UCV&UCV&UC4)4)4*UCV&V&V&UCV&UCUCV?V?UCUC4(4)UCUCV?V?4(4)V?V?4)4*4+V&4+TYTYTYV&TYV&TY4*TYV&TY4*U2U2U24*U2U2U2TP4*TPTP4*TY4+TY4+TNTNTNTN4+TNTNTN4+TNU?4+UUU?UUTN4+TNUUTNUU4+UUUUUU4+UUUUUU4+4,TNUU4,UU4,UUTNUUYDYD4,YDYDYDS<S<YDYDYD4+YD4+S<S<S<S<S<4+4+4,S<4-S2S24-S24-S2S<S2S2T)S2S2S2T)S2T)S2S2S2T)S2T)T)T)T)T(T)T(4(Y;Y;Y;Y;Y;4(Y;Y,4(Y,Y,4(XXY,XXY;Y;Y;4(W0W04(W04(4)WIWIY;Y;W+W+Y;Y;4(Y;Y;Y;Y;4(W+4(W+W+Y;W+W+W+W+W+4'W+4'WIWIWIW&4'W&W&4'4(W&W&W&W&W&4(W&W&4(W+W9W&W9W9W&4'W9W9W9W9W94'W9W94'4(W94(W94)W&4)4*W+4*W+W9W+4*4+VS4,W+W+4,W+W9W9W14,4,W9W9W9W9W9W9W24+W2W2VSW9VSW94+Y;Y;W+W+4*Y;W+W+Y;Y;Y;4*W+4*W+W+W+VY4*VYY;Y;4*Y;Y;Y;W+4*Y;Y;VYVY4)VYVYVYY;Y;VY4)Y;Y;4)VYX&X&4)X&VYX&VY4)X&X&VYVYX&X&VYX&4'X&VYX&4'X&X&X&VY4'VY4(4(X&4)X&X&X&VYX&4(X&VYVYX&X&VY4(VYX&VYVYVYX&VYVYVYX&VYX&VY4%4&VY4&X&4'X&X&VWX&X&VWVW4&4'VWVW4'4(4(4)X&VWVWVWVWW:VWVWW:W:4'WV4(4)X&W:X&X&4(W/4)4*4*W:W:W:W:W:4*W<W:W:W<W<W:4)W<W<W<W<W:W<W:W:W:4(4(4)W:W:4)4*4+W<W:W<W<W<4*W<W<W<W<4*W<W<W<4*W<W<W?W?4*W?W?W?W<W?4)W?4*W<W?W?4*W?W<W<W<4*W?W?4*W?W<W<W<4*W<4*W<W?W<W?W?W?W<W?W?W?WWWWWWX(TNTN4'TNUJUJUQUJTOTOTO4&TO4&TO4'UJTNUJ4'UJ4'UJUJTNTN4'TNUQUQ4'UN4'4(UJUJTNTNUJ4(UNUQUNUQTNTN4'UJTN4'TNTNS;S;T(S;W9W9S;4&S;4&S;WT4&WTWTWT4&4'WCVY4'WTWTWTWTVZ4'VZ4'VZWTVZVZWQWQWQW.WHW.4&W.4&W.W.W.4&W.WH4&WHWHWH4&W.W.W.4&W.4'WHW:W:4'W<X&W<X&X&W<W<4&W<4&W<X&W<W<W<W<4&W<W?4&W?W?W?W?4&W?4&W?W?W?4&W?W?4&W=W?W=4&WXW=W=W=W=4&W?W?4&W?W,W?4&W?W?W?4&W?W?W,W,W?W,W,W?W,W,W?W?4$W,4$4%W,W,W,W,4%W,W?4%W?W?4%W,W?W,W?W?W,W,W?W?W,W,4#4$4%4&X0WXX04&WXWX4&4'WXWX4'WXWXWX4'4(UKUK4(UNUQUQ4(UNUMTJ4(TJ4(TJTJTJUMTJTJTJTJTJTC4'V:VAV:4'4'4(4)4*V8V8V8T.SC4)SCT$T$T$S?4)WTWT4)WTW,W,W,X04(X-W$W$X-X-W$4(X-X-4(W$X-X-4(4)W$X-4)X-WX4)4*WX4*W44+4,4,U-UNU-T<T<TK4,TUTUTKTU4+TKTFTKV(V(TKTKS6S6S64*S?S?4*S6S6S6S?S?S6S?S?S?S?S?S7S74'4(S0S0S/S04(S0SOT&SOT&SB4'SBSBSMSBSMSB4&SZSZSZSBSZ4&SZSB4&SZSB4&SWSWSWX0W$X0W$TFTFTF4%S/S/SXS/S0SO4$SO4$SO4%SOSOT&SOT&S0SOS0S0SOSO4#4$SO4$4%4&S0SOS0S0T&T&T&4%T&4%T&T&S5S5S54%S5S5S54%SHSHSQSHSQ4$SQSISISI4$SI4$SISQSISQSQSQSISISISI4#4#SY4$SYWAWAW7W7WAWAW7WAWAWA3Z4#4#4$W7W74$W(WBWBW(WB4$W(U(U(T/4$U(U(V-U(S9S9SPSPS9S9S9SPSPSLSPSLSL3XSLSL3XSL3Y3ZSLSLSPSP3Y3Z4#SL4#SI4$SISISISI4$SQ4$4%SKSQ4%SQ4&SK4&SKSK4&S:SQS:SISI4&SKSKSKSK4&4&S:S:4'S@4'S@S@SISYSISYSYSYS@4&SYSY4&SY4&SYS@SYSYS@S@S@WOWF4%WFUGV)V)V)V)4$V)TTV3T/V3V3V-V-4#4$V-V-4$4%4%4&T?T?T?4&T?T?V-U(V-V-U(U(U(4%V-V-UE4%V-V-4%V-SPSQSPSQ4$SQSRSQ4$SQSRSRSQSQSRSQSRSRSR4#SQSQSRSQS@S@SR3ZSR3ZSRSRS8S83ZS83ZS8ST4#ST4#STSTS8S84#S8UB4#V1V14#T3T3T7UAUAUA4#TITI4#TITTTTTT4#TITIV3V3TI3ZTIV33ZSRSFSFSGSFSGSGS83YSTS8SF3YSFSFSFSF3YSG3YT3T7T7T23YT2T2T:T:T1T:T:T2T:T2T13WT1T13WT2T1T2T2T2T23WT=T=T23WT23WT2T23WT=T=T=3WTIT=TI3W3XT=3Y3YV3V3V33YV3V3V3T=3YT2T23YV3V3V3SESE3YSGSESESE3YSESGSGSGSGSG3X3YSG3YSG3ZSGSVSVSVX>X>X>XF3X3YXFXFT5T53YT53Y3ZT7T73ZT5T74#T5T54#T5T94#T9T9T2T24#T2T9T2T9T23Z4#T0T04#T2T0T0T24#T0T04#V34$URT2URT2URV3V34#4$T2UR4$UR4$URURURT2T2T24$T24$T2T24$T2T04%T2T2T2URURUR4$URV3V34$4%V3V34%V3T2T2T0T04$URT0UR4$SUSGSUX?X?XFX?XFXF4#XFX=XDX=XDXD3ZXDXDXFXF3Z4#4#XDXDXDT74#T7T7X=XDX=XD3Z4#T6T64#4$T6T6T64$T6T6YW4$YWYW4$4%YW4&Y9Y94&Y94&4'Y9Y9YJYIYIYIYJYJYIYIYJYJYIYIX14$X1X14$X1X)X)X1X14$4%X1X1X)X)X1X1X)4$Y64$YBYBY64$YBYBY64$YBYBYBYB4$YBY64$Y6Y6YBYB4$YBY)4$Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.3ZY)Y.Y.Y)Y.3ZY.3ZY.Y.Y.YJYWYWYWYJYJ3Y3ZY5Y5Y53ZY.3ZY.Y.3ZY.Y.Y.YWYWY53ZY5YWY5Y5Y.Z'Y.Z'Y.Y.Y.3X3XZ'3YZ'3YZ'Y.Y.Z'Z'3YZ'3Y3ZZ%Z%YNYNZ%Z%YNYNZ%Z%YN3XYNYN3XYX3YYXYXYIYXYXYIYI3XYIYGYIYGYGY>Y>YIYIY>Y>YIYIY>YPY>Y>YIYIYIYZYZYZYIYZYZYPYZYZYPYP3QYPYIY>YIYIY>Y>YIYIYPYIYIYIYIYIYIYPYZYPYPYPYPX13LX1YP3LYPX1YPYPYP3LYPYP3L3MYPYP3M3N3NX1YPYPX1X13NX13NX1X1X1YI3NYIYIYI3NYI3OYIYI3OX13OX1X1X13O3PYIYI3PYIX1X13PX1WRWRX13PX1X13P3QX)X)3Q3RW@W@W@W@W@3R3RW6W6W6VBVBVB3RVBVB3RVBVBVBVB3RVBVB3RVBVBUCVBUCVBVB3Q3RUCTGTGTGTYTNTYTYUY3PUYUYVDVD3P3QULUL3QULULULTNTNTZTZULUL3OUL3PTNTN3PTNTNULUL3PTNV@V@TZTZV@V@3OTZUPUP3O3PUUUUUU3PUP3PUUUUY8Y8Y8Y<YBYBYBYKYKY0YK3NYK3NYKYKYKY0YKYKY0Y)Y0Y0Y)Y)3LY)Y0Y)Y0Y03KY0Y0Y0Y03K3L3M3M3NYK3OY03OYKYKY0Y03O3PYK3PYKYK3PY)Y0Y03P3QY0Y0Y)Y)3Q3R3RY)Y0Y03RY)Y03SY)Y)3S3T3T3UY0Y03U3VY0Y0Y)Y)Y)3V3V3WY)3XY)Y)3X3YY)Y)3YY.Y.Y.3YY.Y)3YY)Y)Y)3YY)Y)3Y3Z4#Y.4#Y.Y.Y.4#Y.Y.Y.Y)4#4$4%Y)Y)4%4&Y)4&Y)4'4'4(4)4*4*Y.4+Y.Y04+4,4-4-Y.Y)4.4.4/Y0Y0Y)4/Y0Y0Y.Y.4/Y.YK4/YKYK4/40YKYK4041YKY0Y0Y0YKYKY0YCY040YCYC40YCY040414242YC4344YCYC44YC44Y.45Y.Y.Y.4546YK46YKYK4647YKYK47Y.YKYKYKYKYKZ)Z)Z)Z)46YKYKYK46YK46YKYK4647484949YKYKYKZ)Z)494:Z)Z)YKYKYK49YOYOYKYOYK4949YOYOYOYOYO49YOYK494:YOYKYOYOYO49YOYOYOY.Y.YKYKY.Y.YK48Y.Y.48Y.YK48494:4:Y.Y.Y.4:Z'4;Z'Y.4;Y.4<Y.4<4=Z'Y.4=Y.Y.Y.Y.YMYMY.YM4<YMY.Y.Y.4<4<4=YMYM4=YMYMYM4=Y.4>Y.Y.4>4?4@Y.Y.Y.YMYMYMY.Y.Y.YMYMYM4=4>4?Y.4?Y.Y.Y.YKY.4?Y.4?Y.4@Y.4@Y.4A4BY.Y.4BY.4B4CZ)Z)4C4DZ)Z)Y.Y.Y.4DY.Y.4DY.4DZ)Z)Z)Z)4DZ)4E4E4FZ)4GY.Y.4GZ)Y.Y.4GZ)Y.Y.4GY.Z)4GZ)Z)4GZ$4HZ$Z)4HZ)4IZ$Z$4IYOZ)Z)Z)YO4HYOYOYO4H4IYOZ)Z)4I4JYO4J4KYOYOZ)4KZ)Z)4KYOYOYO4KZ)YOYOYOZ)YOYOYOYO4JYO4J4KYOYOY.4KY.4L4L4MZ$Z$Z$Z$4MZ$Y.Z$Z$Z$4LZ$Y.Y.Y.Y.4L4MY.Y.Y.4MZ$Z$YOYAZ$Z$YA4LYO4LYO4MYAYA4MYAZ$Z$4MZ$YO4MYOYOYOYOYOZ(YOYOZ(4L4LYA4M4NYO4NYAYA4NYAYAYAZ'Z'YMYMYMYM4MYMYMYM4M4NYMYM4NYMZ'Z'4N4OZ'Z'YM4OZ'Z'4O4PYM4PYMYM4PZ'4Q4RYMYMYM4R4RYM4S4TYMYMY/Y/YMY/4SY/Z'Z'Y/Y/Z$4RZ$Z$4R4S4T4U4UZ$Y2Y2Z$4U4VY2Z$Y2Y2Y2Z$Y2Y2Y24TY/Z$Y/4TY/Z$4UZ$4UZ$4V4V4WY2Y2Y/Y/Y24W4W4XY2Y2Y/4XY2Y24X4YY2Y24Y4ZY2Y24Z5#Y2Y2Z$Z$Z$5#Z$YA5#YAYAY2YAYAYAYAYAZ(Y2Y24YY24YY2Z(Z(YA4YZ(Z(Y2Y24YY2Z(4YZ(YR4YZ(YRYRZ(Z(YR4YY2Y24YY2Y/Y/4YY/Y/Y2Y2Y2Y/Y/4XY24X4YY2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/4WY/4X4XY?Y?Y?4X4Y4ZY2Y?Y?4ZY?Y2Y14ZY1Y24ZY2Y1Y2Y2Y2Y-Y2Y2Y24Y4YY-Y-Y-Y2Y24YY2Y2Y24YY2Y-Y1Y-4YY1Y14YY1Z(Z(Z(Y-Y24XY2Y2Y2Y1Y1Y1Y-Y14WY1Z'YGZ'Z'YGYGZ'4VYGYG4V4WZ'Z'Z'Y?Y2Y?4VY1Y14VY1Y14VY?Y1Y14V4WY4Y4Y4Y4Y14WY44WY44XY4Y?Y4Y4Y4Y?Y4Y?Y4Y?Y4Y4Y4Y?4U4VY44VY4Y4Y44VY44WY44WY4Y4Y4Y4Y44WY14WY1Y1Y?Y?Y?4WY?Y?4WY1Y14WY1Y1Y?4WY1Y1YGYGY?Y?YIYI4VYIY?4VY?Y?4V4WY?Y?Y?YTYTYT4VYIY?YIYIYIZ&Z&YIYI4UYIYIYIYSYSYIYIYSYSYIYIYSYI4RZ&Z&Z&Y?Y?YIYIY?YIYIYI4PYI4Q4RY?Y?Y?4RY?YI4RYIYIYI4RYIYIYIYSYSYSYS4QYSYPX1X1X1Z&Z&Y+Y+4OY+Y+Y+X14OWMWMX1X1X14OVXVXVU4OVXVXVUVUVXVX4NVUX+X+4NX+4NX+X+X+X*4NX*X*4NX*X*X*WX4NWXWX4N4OWXWXW)W)4O4PWXX/WX4PX/X/4PX/WXX.X.X.UCTY4OTY4OTYUCTYTNTNTY4OTZTZ4OTZTZTZTZ4OTN4OTNTNTZTZ4OTZTZTZ4OTZTZ4O4PV@4P4QV@V@TZTZTZ4QTZTZ4Q4R4RV@TZV@TZTZ4RUU4RU44SU9U44SU9U94SU3U3U34SU3U3U3TNU3TNU3TNU3TNU3TNU3TNU3TNU8TN4P4PU8U8TNTNU7TN4PTN4PTNTNUUUU4PUU4PUUUUUUU>U>U>UUU>4OU>U>UUUU4OUUU>U>UUUUU>UUUUUUV@UUV@4M4MV@4NV@4NV@4OV@V@4OV@V@UUUU4OUUV@V@UUUU4NUUUUUUV@V@V@4NV@V@4NUU4NUUUUUUYDYD4NY@4NY@Y@Y@YDYDY@Y@YDYDY@Y@YDYD4LYD4LYDYDYDYDYK4LYK4L4MYDYDYDYD4MYDY*4MY*Y*4MYKYDYDYKYK4M4N4NYKYDYDYDYKYDYDYKYK4M4NYKYK4N4OYK4OYKYKYOYOYKYKYO4NYKYKYK4NYKYKYOYOYKYKYKYO4MYO4MYOYKYOYKYKYKYOYO4LYO4M4MYO4NYOYRYRZ(YRYRYRZ(YR4LYRZ(YRZ(YRZ(Z(YRYR4KYRZ(4KZ(Z(Z(YRZ(4KZ(Y-YRYRYRYRYR4JY-Y-YRY-4IY-Y-Y-YR4IYRY-Y-Y-Y-YVY-YVY-Y-YLYLYLYYYLY-Y-Y-YYY-YYYYY-Y-YYY-YLYYYLYYYLYYYLYYYYYU4A4BY-Y-YU4BY-YUYUYUYUY-YUYUYUYUY,Y,YUYUY,Y,4>Y14?4@YV4@YVY14@Y1Y1Y1Y1Y1YV4@Y1Y14@Y1Y1Y1Y14@Y1Y14@YVY14@YVYVY1Y1Y14@Y1Y14@Y1YV4@YVYVY1Y1YVYVY1Y1YVYVYVY;Y;Y;4=Y;4>Y;Y,Y;Y;Y;Y,4=Y,4>X2X2Y;X2Y;4=Y;Y;4=Y;Y;Y;Y;X2Y;Y;X2X24<X2Y;X&4<4=W#YIW#W#W#W#4<W#W#W#4<4=4=W#X&X&W#W#4=4>X2W#4>W#W#W#X&X&W#W#4=W#4=WVVWVWWVWVVWVWVWVW4<VW4<WV4=WVWVWVVWWV4<WVVWWVVWWVVW4<WVWVWVX$WV4;WVWVWVWVVWVWWVWVVW4:VW4:VW4;WVWV4;WVVRVR4;4<WSVRVRVRVR4;VR4<4<4=X$X$VRVRVR4=4=X$X$X$VRVRW'W'VRVRW'W'W'W'W'4;W'W'4;4<X$W'X$4<W'4<W'W'VRVR4<4=VRX$VRX$4<X$X$X$4<X$X$X$X$X$X$4<X$X$4<X$4<4=W/W/4=4>W/W/X$X$4>4?X$4?W/W/4?4@W/W/4@4AW/W/X$W/W/W/X$X$X$W/X$4?W/W/4?W/W/W/X$W/W/W/X$X$W/X$4=4>X$X$W/4>4?4@W/X$4@4AX$X$4AX$4AX$X$X$X$X$4A4BW/W/4B4CW/W/W'W'X$X$4B4CW'4CW'W'4CW'W'W'4CX$4DW'4DW'4EW'4E4F4G4HW/W/WVWVWVW/WVW/4F4GWVWVW/W/W/4GW'4GX$X$X$4GX$X$W'4G4H4IX$X$4IX$X$4I4JW'W'W'W'4J4J4KX$X$W'W'4K4LW'W'4L4MX$X$X$4M4MX$W'W'X$4M4NW'4N4OW'W'4O4PW'4QX$4Q4RW'4RW'W'W'W'4RW'W'4RW'W'W'W'4RW'W'4RW'W'W'WXWX4R4SWXWXWX4SWXWP4SWPWX4SWPWPWX4SWXWPWXWX4SWPWPWPWW4SWP4SWWWWWP4S4T4UWPWPWWWWWPWW4T4UWXX.WX4UWX4UWPWPWXWX4UWPWXWXWXX.WPWP4TWWWP4TWWWWWP4T4UWWUCV&UCV&V&V&4TV&UC4TUCUC4TV&V&V&4T4UV?V?4UV?V?V?UCUCV?4UUCUC4U4VUC4VV?V&4VV&V&V&4VV&U2U24V4W4X4YV&TYV&TY4X4YU2U24Y4ZU2U24Z5#TP5$TYTY5$TY5$TYTPTP5$TNTYTNUUUUTNUUTNTNU?U?U?UUU?U?TN4YUUUUTNUUUUUUTNUU4XUUTNUUTNTNUUUU4WUUTNTNTN4WTN4WTNTN4WYDY@YDYDYD4WYDYDS=4WS=4W4XS<S<S<S2S<4XS2S24XS2S<S2S<S<S2S24WS24WS2S<S2Y;Y;Y,Y,Y;Y;Y,Y,Y,Y;Y,Y,4TY,Y,Y,Y;Y;Y;Y,W0W04S4TWI4TWIWIW0W0WIWIY;Y;4SW+Y;4SW+W+Y;Y;W+Y;4RW+W+W+W04RWIWI4R4SW&W&4S4TW&W&4T4UW&W+W&W&W&4UW&W&4UW+W&4UW&W9W9W9W9W24T4UW2W2W9W9W9VSW9W24TW2W9W2W9W9W&W+W&W+W&W&4R4SW94SW9W9W9W+VSVSW+W+VS4RVS4RVSVS4R4SVSVS4SW94TW9W14TS;W9W9W24TW24TVS4UVSY;Y;Y;W+Y;Y;W+4TW+W+W+4TW+4TVYVYY;Y;4TY;Y;4TVYVYW+VYW+VYVY4SVYVY4SVYVYVY4SX&4TX&X&X&VYX&VYX&VYX&VYVY4R4SVYVYVY4SVY4SVYVYVYX&4SX&4SX&VYX&VYVYVY4S4S4TVYVY4T4UVY4VVYVY4VVYX&X&4VX&VYX&VY4VVWVWX&4VVWVW4VX&VWVWX&4VVWVW4VVWX&4VX&X&4VVWVWVWWVWVW:WVW:4UW:W:4UW:W:W:W/W/4UW/W:4UW:W:4UW/4VW:W:W:4VW:4VW<4WW<4WW<4XW<W:W<W:W<W:4WW:W:4WW<W:W<W:W:W:4WW:W:W:4WW:4W4X4Y4YW<4ZW<W<W?W<4ZW<4ZW<W<W<W?4ZW?W<W?W<W?W<W?W<W<4XW?W<W?W<4XW<4YW?W?4YW?W<W<4Y4Z4ZW?W<W?TNTN4Z5#TOTOUQTOUQUQ4ZUQ4ZUQTOUQ4ZTN5#TN5#TN5$5%TNTNUJTNUN5$UNUN5$TNUJ5%TNTN5%TNUJ5%UJ5&TNTN5&UJTN5&TNUUW9VS5&VSS;S;S;WT5%WTWTWTVY5%WCVY5%X&VYVYWC5%WTWTWTWTWTVZWTVZWTVZW.WHW.WHW.WHW.4ZW.4ZW.5#5#WH5$WHWHWH5$W.5$W.W.W.W.W.W.WHX&W<X&W<W<W<4ZW<4ZW<X&X&W<W<W<W?W<W<W<W?W?W?W?4XW?4XW?W=W?W=W?4XW=W=4XW=WXWXW=4X4X4YW?W?W?W?W,W?W?W?W?W,W,W,W?W,W?W?W,W?W?W?W,W,W?W,W,W,W,W,W?W?W?4RW?W?4RW,W?W,W,W,W,4R4RW?4SW?W,4SW,W,4SW?4TW?WXWX4T4UWXWXWX4UWXWX4U4VWXWX4VWXWXWX4VX#4VWXX#WXT@T@T@4V4V4WUNUNUMTJUMTJUMTJUMTJ4UTJTCTCVAVAV:V:T-T-T-4TT-T-4TUHUHUDUDUD4SV6V6V6SCT$4ST$T$T$S?S?WTWTWTVQX0X04QX0X-4QW$4RX-4R4SW$W$4SW$4TX-X-4TX-W$4TW$W$WX4TWXWX4T4U4V4W4WW4W4W4W4W4WXWXW4W4WXWXUNUNUNU-T<T<TKTKTF4STF4TS6S64TS6S?S6S6S6T%T%S0S0T%T%S0S0S/S/S/S0SB4PSBSB4PSZ4QSZSB4QSBSB4Q4RSBSBSASASASWTFTK4QTKS0SOS0SOS0SOS0SOS0SOS0S04NSOS04OSOSO4OSO4OT&SOT&SO4OSOSO4OT&T&T&T&4OT&4PT&4PT&4Q4Q4RSLSLS5S54R4SSQ4SSQSISISI4SSISQ4SSQSQSI4SSISYSISISISY4RSYSYSYWAWA4R4SWAWA4S4T4TWYWYWYWYWY4T4UWBW(WBWBW(4TWBWB4TU(4UU(SLS94US9SPSPSLSLSLSLSPSLSLSLSLSPS94RS94S4S4TSLSLS9SLSLSLSQSI4S4T4TSISQSISISISKSISQSQ4SSKSQ4SSQSKSQSK4SSK4SSKSQSQSKSKSKS:SQ4RSQS:SISISI4RSKS@SKS@4Q4RS:S:S:4RS:S:4RS@S@S@SYSYS@4RSYSY4RSYS@S@4RSYWOWFWFWFV)4QV)TTT?V-V-V-V-V-4PV-T?V-T?4PV-UEUEUEV-4OT?T?4OT?T?T?4OUET?T?U(V-V-V-V-V-UEUEV-V-UEUE4LSQSRSRSQSRSRSRSR4KSRSRS@S@SR4K4KSRSRSRS8S84KS84KS8STS8S8S8ST4KST4KSTST4KS84L4MUBV1V1V14LUAT3T3UA4LTITITITI4LTITTTT4LTTTITITI4L4LSRSFSRS8S8S84LSFSFSF4L4LSGSGSGT3T3T7T3T2T=T2T2T14JT1T14JT2T1T2T2T2T24JT2T=T24JT24JT2T24JT=4KT=4KTIT=TIT=T=T=4KV3V34KV34KV3T2T2T24KT2V3T2T24K4LT=T=4L4MT24MV3V3SESESESGSESESE4LSG4LSUSU4LSUSUSUSGSG4LSU4LSUSUSUX>4LXFXF4LXFXFXFT5T5T7T5T74KT7T7T5T54KT7T5T5T74K4K4LT7T7T5T54LT7T2T2T9T2T2T24K4LT24LT2T04L4MT04NT2T2T0T04MT0T0T0T2T24MV34MURURURURV3UR4MV3V34MV3T2T2T24M4MURT2URT24MT2T2T24MT24NT2T24NT2T2T2T04NURUR4NURV3V3V34NV3V34NV34NURURURURURT04NSGSUSG4NXFXF4N4OXD4OXDXDXFXF4O4PXFXF4PXDXD4PXDXD4PT0T7T74P4QT6T6T1T1T6T6T14PT6T64PT1T6T6T14PT6T6YWY9YW4PY9Y9YWYWY9Y94OY9YW4OYWYW4OY9YWYWYWYWYWY9YW4NY9Y9X1X1X14NX1X14N4OX)4OX)X)4OX)X)X)4O4PX)X)Y6Y64P4Q4Q4R4SYB4S4TYBYBYBYB4T4U4UY6Y6Y6YBYB4U4VY.Y.4VY.Y)Y)Y.Y.4UY.4VY.4VY.4WY.YJYJ4W4XYJYJ4XYJY5Y5Y.Y.Y54WY.Y.4WY.Y.Y.YWYWY54WY.Y.Y.Z'Y.Z'Y.Z'4UZ'Z'Z'Y.Z'Y.4UY.4UY.Z'YNYNZ%Z%YNYNZ%4TYX4TYNYNYXYX4TYX4TYNYNYN4T4U4VYI4V4WYZYPYPX1X1X1YP4VYPX1YPYPYP4VYPYP4V4WYPYP4WYPYPYP4W4X4XX14YX1X1X1YPYPX1X14XX1YPYP4XX14X4YYIYIYIYIYI4YYI4YYIX1YIYIYI4Y4YX1X1X1YI4YX1X1YIYIX1YIYIYIX14XX1X1WR4XX1X1X1X)4W4XX)X)4XX)X)X)WJWJW@4X4XWJW@W@W64XW6W6W@W@W@W6VBVBVB4WVBVB4WVBVBVBVB4WVBVB4W4XVBVBVB4XVBVB4XVB4XTNUY4Y4Y4ZVDTN4ZTNTNTN4ZUL5#5$ULUL5$UL5$5%TNTNTNULTN5%5%TNTNTN5%5&TZTZUPUPUP5&UPUP5&UPUUUPUUUPUPUP5%UPY0Y0YK5%YK5%YKYKY0Y)Y05%Y)Y)Y0Y0Y0Y05$5%5%5&YKYK5&YKYKYKY0Y05&5'Y0Y05'Y05'5(YK5)Y0Y0Y05)5)5*YKYK5*Y05+Y05+Y0YKYKY)Y)5+Y)Y)Y)5+5,5,5-Y0Y0Y)Y)5-5.Y)Y05.5/Y)Y)Y0Y)Y)Y)Y)Y0Y0Y)Y0Y05,Y0Y0Y0Y0Y)Y05,Y05,Y0Y0Y)Y)5,Y0Y)5,Y0Y05,Y)5-5.Y)Y)Y.Y.Y)5-Y)Y)Y.Y.Y)Y.Y)5,Y)Y)Y)5,Y.Y.5,5-Y.Y.Y)Y)Y.Y.Y.Y.5,Y.Y)Y.Y)Y)Y.5+Y)5,Y)Y)Y)5,Y)5,5-Y.Y)Y.Y.Y.Y.Y.5,Y.5,Y.Y.Y.Y)5,Y)Y)5,5-Y.Y.5-Y.Y.Y.5-Y0Y0Y0Y)5-Y05.Y)Y)Y)5.Y)5.Y)5/Y)5/Y)Y)Y.Y.5/Y.Y)Y)Y)5/Y.Y.5/Y.5/50Y.Y.50Y.51Y.51Y)52Y)Y052535454Y)Y)Y)54Y)55565657Y)585859Y05:Y)Y)5:Y)5:5;Y)Y.Y.Y.Y0Y.Y0Y0YKYKY0Y0YK59Y0Y059Y0Y059YKYKYKY0YKY0Y0YCY058YCYC58YCY0Y0Y058YK58YKYK5859YKYK59YCYCYCYCYC595:YCYCYC5:YCYC5:YKYCYC5:5;5;Y.YCY.YK5;YK5<Y.Y.5<Y.5<Y.YKYK5<5=5>YK5>5?YKYKY.Y.5?5@Z)Z)YKYKYK5?Z)Z)Z)5?YKYK5?5@5AZ)5A5BYKYK5BZ)Z)5CZ)YK5C5D5D5EYKYKZ)Z)YKYKZ)Z)YKYKYKYKYOYOYKYOYK5BZ)Z)YOYOYOYO5AYOYKYK5A5BYKYOYKYK5AYOYOYOY.5AYKYKY.Y.5AY.YK5A5B5CYKYK5CY.5CY.Y.Y.5CY.Y.Y.Y.Z'5CZ'5CZ'5DZ'Y.Z'5DZ'5DZ'Y.Y.Y.5DY.5EY.Y.Y.Z'5DZ'5EZ'5EYMYMYMY.Y.Y.5EY.Y.YMYMY.Y.YMYMY.YMYMYMY.Y.5BY.YMY.YMYMY.5A5BZ'Y.5BY.5C5CZ'Z'Z'YKYKYK5CYK5C5DY.YK5DYK5E5E5F5GY.YKYKYK5GYK5GYKYKYKY.5GY.5GY.YKY.5GY.YK5HY.Y.5HY.Y.Y.Y.5H5HZ)Z)Z)5H5IZ)Z)5I5JZ)Z)Z)5JZ)Z)Y.Y.Y.5JY.Y.5JY.5J5KZ)Z)Z)Y.Z)Z)5JZ)Z)Z)Y.Y.5JY.Y.Y.5JY.Z)Y.Z)Z)Y.Z)Z)Z)5H5IZ)Z)Y.Y.Z)Y.Y.Y.Z)5HY.Y.Z$Z$5GZ$5HZ$Z)Z$Z)5H5HZ$5IZ#Z$Z$Z$YOZ)Z)Z)YOZ)Z)YOYOZ)Z)YOZ)Z)Z)Z)YOZ)Z)Z)5D5DZ)5E5FZ)YO5FYOZ)Z)Z)5F5FYO5GYOYO5GYOYOZ)5GYOYOZ)Z)Z)5GZ)YO5GYOY.Y.Y.5G5GZ$Z$Z$Y.Y.Z$Z$5FZ$Z$Z$Y.Z$Y.5FY.5FY.Z$Y.Y.Y.5FY.Y.5FZ$Y.Y.Y.Z$YAZ$YAYAYOYOYOYA5CYA5D5EYAYA5EYAZ$Z$YAYAYOYOYO5DYAYAZ(5D5DYAYAYA5D5EYOYOYAYA5E5FYOYO5FYO5FYA5G5HYMYMZ$YMYMYMYMZ$YMYMZ$5FYMYM5FYMZ'Z'YMYMZ'YMYMYMZ'Z'YM5DZ'Z'5D5EZ'Z'5EZ'YM5EYMYM5EZ'YM5FYM5FYMYMZ'Z'5FZ'YMYMYMY/YMYMYM5E5EY/Y/Y/5EY/Y/Y/YMY/Y/Y/YM5DZ$Z$Z$Z$Z$5DZ$Z$5DY2Z$Y2Z$Z$Y2Y2Z$Z$Z$Z$5BZ$Z$Z$5BZ$Z$5BY2Y25BYMZ$YMZ$5BZ$5C5C5DZ$5EZ$5EZ$5FZ$5FZ$Y25FY/Y2Y2Y/Y/Y2Y2Y/Y/Y25EY25EY2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y25CY/Y/5C5DY/Y/5D5EY/5EY2Y25EY/Y2Y25E5FY2Y2Z$5FYAYAZ$5F5G5HY2Y25HY25HY2YAYAYAYAYA5HY2Y25HY2Z(Z(5H5IZ(Z(5IZ(5IZ(YR5JY2Y25JY2Y/Y/5J5KY25KY2Y2Y/Y2Y2Y25JY2Y2Y2Y/Y/Y/5JY/Y?Y?Y?Y/Y?5IY?Y/Y/Y/5IY?Y?5I5J5J5KY2Y2Y?Y?Y2Y?Y2Y1Y1Y1Y2Y1Y1Y1Y2Y2Y25HY25HY-Y-Y2Y25HY2Y2Y2Y25HY-Y1Y-Y-Y1Y15G5HY25HY2Y1Y-Y-Y-Y15GYGZ'5HY?5HY?Y?5HY?Y?Y?Y2Y1Y1Y1Y?Y?Y15GY?Y?5GY1Y?Y?Y4Y4Y?Y?5FY?5FY4Y1Y4Y?Y?Y4Y4Y45EY4Y4Y4Y?Y4Y4Y?Y?Y4Y?5CY?5DY?Y?Y?Y45DY45DY45EY45EY4Y?Y4Y4Y?Y?5DY?5EY?Y?5EY?Y15EY?Y1Y15EY1Y1Y1Y?5EY1Y1YIYIY?5E5EYIY?YIYIYIY?Y?YIYIY?Y?YIYI5C5DYIYIZ&Z&YSZ&Z&Z&YIYIY?5BY?5B5C5DYIYI5DYIY?YIYIYIY?YI5CYIYIYIYI5CYSYSZ&Z&Z&Z&5BY+X1X1WMWMX1X1VVVVVX5@VUVU5@VUVUVUVRX+VR5@5@5AX+X+5AW6X*X*W65A5B5CW)W)WXWXW)W)WX5BW)W)5BW)WXW)WXWXW)W)WXWXWX5@WXWX5@5AWXWXUCUCUC5A5A5BUCUC5BTNTNTNTZTZ5B5CTZTZ5C5DTN5DTN5ETZTZ5E5FTZTZ5F5GTZTZ5G5HTZ5HTZ5ITZTZ5IV@TZV@V@V@TZTZTZ5HTZTZ5H5ITZTZ5I5JTZ5JTZ5KTZTZ5KUUU4U45K5L5LU9U9U9U4U4U95L5LU35MU35M5NU3U3TNU85NU8TNU8U8U8TNU7TNU7TN5LTNTNU3UU5LUU5LUUU3UUU>UUU>5L5LUUU>U>5LUU5MUUTZTZTZ5MTZ5M5NV@5NV@5OV@5OV@V@V@5OUUV@V@5OUUV@5PV@UUUUUUV@V@V@5OV@UU5OUUUU5OUUUU5O5PY@Y@YD5P5QY@Y@Y@Y@5Q5QYDYDYDYDYDYD5QYD5QYDYD5QYKYDYDY@YD5QYDY*5QY*Y*YKYKY*Y*YK5P5Q5RYKYK5RYKYD5RYDYDYKYK5R5SYKYKYDYDYKYK5R5SYKYK5SYKYKYOYKYOYOYO5RYOYKYK5R5SYKYO5SYO5SYOYKYOYOYOYO5SYO5SYOYOYOYO5S5T5T5UYOYO5U5VZ(5W5WYRZ(5X5XYRZ(Z(5XYLZ(5YYRYRYR5YYRYRYRY-YRY-YRY-YY5WYY5X5XYUYUYUY-Y-YUYUY1Y15WY1Y-5WY-Y-5W5XY-Y-YVYV5XY1YVY1Y1Y1YVY1YVYVY1Y15V5WY1Y15W5X5XYVYVYV5XYVYVYVY1Y1Y15XY1Y1YV5X5XYVYVYV5XY;5YY;Y,5YY,5ZY,Y;Y,Y;5YY;Y,Y;X2X2Y;Y;X2X2Y;Y;X2X2Y;X2Y;Y;5V5WX&X&5WX&W#W#5WW#W#W#X&X&5VW#X&X&X&5VX&X&W#W#X&X&W#W#5U5VX2X25VW#W#W#5V5WWVWVVWVWX&VWX&X&5UWVVWVWVWVWVWWV5TWV5UWVVWWVVWVWWVWV5TW/5TWVVW5UWVWV5UWVVW5UVWVW5UWVVWVWWS5UWSWSVRVRWS5UVRVRVR5UX$5UX$X$5U5V5WX$5W5XX$X$VRX$X$X$5W5XX$X$W'W'W'5XW'W'5X5Y5YX$X$X$5YW'X$W'VRVR5Y5ZW'5ZW'W'VRVRW'W'5Y5ZX$X$VRVRX$X$X$X$X$5YX$X$5YW/W/5YW/W/X$X$W/W/X$X$W/W/X$X$W/W/X$5VX$5W5WW/W/W/X$X$X$5WX$X$5WX$X$X$W/5WX$5W5X5Y5YW/5ZW/X$X$X$5ZX$X$W/W/W'W'X$5YW'W'5YX$W/W/W/5YW/5YW/X$5Y5ZX$X$W/X$W/W/X$X$5Y5ZX$X$5ZX$5ZX$X$X$X$X$X$5ZX$X$X$5ZW/5ZW'W'5Z6#W'W'W/6#W/W/6#6$6%W'W'W/W'6%W/6%6&6'X$X$6'X$6'W'W'W'6'W'6(W'6(W'X$W'X$X$W'6(W'W'6(W'W'6(W'W'X$W'W'W'WV6'WVWV6'W/WVWVW/6'W:W:W'6'W'X$6'W'X$W'W'W'6'6(X$6(X$X$6(6)X$X$X$X$6)X$X$X$X$W'X$X$6(6)W'W'6)6*X$6*X$X$W'W'6*W'W'6*X$X$6*W'X$X$W'W'6*6+W'W'X$X$X$X$X$W'X$X$W'6)X$X$6)6*X$6*6+6,6,6-W'W'6-X$W'W'6-X$W'6.6.X$6/W'W'6/W'W'X$X$W'W'6.W'W'W'6.6/W'W'W'6/W'W'6/60W'W'VRVR6061VRW'61W'WX61WXWP61WXWPWPWX6162WP62WPWPWP62WP63WPWXWPWXWPWX62WPWP62WPWW6363WW64WWWPWPWP64WP64WWWW64WWWWWWWP64656666WWWWWWWXX.WXX.WXWXWX6565WPWPWPWP65WPWPWPWP65WPWPWP65WWWW65WWWW65V&66V&UC66UC6767V&V&V&UC67V?V?6768V?V?6869V?V?UC69V?V?696:V?V?6:6;V?V?UCUC6;6<UCV&6<V&6<V&6=6>TYTYV&V&TYTY6=TYV&6=TYTY6=TYTYTYV&V&U26=V&V&6=6>V&V&U26>V&V&6>U2TYTY6>6?TYTY6?TY6?6@TPTP6@TYTP6ATP6ATPTPTYTNTYTNTNUUTNUUTNUUTNUUUUUUUU6>TNTNTN6>TNUUTNUUY@6=Y@6>YDYDY7Y7S=S=6=S=S<S<S<6=S<S=6=S<S<6=S<S<S2S26=S2S<S2S<S<S<S2S<S2Y;Y,Y,Y,W0W06:6;W0W06;W06;W0WIWI6;6<W+W+Y;Y;Y;6<Y;Y;6<Y;6<W0WI6=W+W+W&W&6<W+W&W&6<W+W&W&W+W+W&W&W&W+W&6;6;W+6<W+W&W&6<W+W&W+W+W+W&W96;W9W9W9W2W2W9W9W2W969W9W9W9W&W&W&W9W&W+W9W+6768W969W+W+696:VS6:VSVSW+W+VSVSW+W+VSW+68W9W1W168W9W9W968W9W1W96869W2W2W9VS69VS69VSVSVSY;Y;W+69W+VYW+69W+69VYVYY;Y;69W+Y;Y;69VYVY69VYVY69Y;VYVYX&X&VYX&VYX&VYX&VY67VYX&67X&X&X&VYVYVY67VY67VYVY67X&X&X&67X&VYX&VY67VY68X&X&68X&X&X&6869VY69VYVYX&X&69X&696:VYVYVYVYWC6:6:X&VY6;X&X&6;X&VWVWX&X&VWVWX&X&VW69X&6:VWVW6:VWX&6:X&X&6:VWVWVW6:6;W:6<WVWV6<W:W/W/W:6<6<6=W:6>W/W/6>W/6>6?W:W:6?W:6@W:6@W<6A6BW:6BW:W:W:W:W:6BW:W<W<W<W:6AW:W:6A6BW:6CW:W:W:W<6BW:W<W<6BW<W<W<W:W:W:6BW<W<6BW<W<W<6BW<W:W<W:W<W<W?W<W<W<6@W<W<W<W<6@6A6AW?W<W?W<6AW<W<W<W<6A6B6BW?W?W?W<W<W<6BW<W<6BW?W<6BW<W?V#TNV#V#TNTN6ATNTOUQ6AUQUQUQ6AUQTNTN6ATN6ATNUJUJTN6AUJ6BUJ6BUJUJ6BTN6CTNUNUQUNUNTNTNUJ6B6BTNUJUJTNTNUJUJTNTN6A6BUJ6BUJUJ6BTNUJUJ6BTN6CUUW9VSW9VSS;WTS;WTVY6AVYVY6AX&VYVYWCWTWTWTW.WHW.W.W.W.W.6?W.6?W.W.W.WH6?WH6?6@W.W.6@6AW.W.WH6AW.W.W<W<X&6AX&6AX&X&W?W?W?6AW?6AW?W=W=W=W?W?W=W=6@W=W=6@W=W=W=W=W?W=W=W=W=W?W,W,W?W?W,W,W?W?W,W,W,6<W,6<W,6=W,W?6=W?W,6=W,W,6=W?W?W?W,W?W,W?WXWXWXX06;X0X0X0WXWX6;6<WXWX6<W4WXWXW4W4WXWXW4WXWX6:6;X#WXWXX#X#T@T@T@6:UN6:UNUN6:UNUNUN6:6;TCTCT-6;UH6<UHUH6<UHUDUHUDV6SCT$6;T$X06;6<W$X-X-6<6=W$6=W$X-X-X-6=W$6=6>6?W$X-X-W$6?W$6?W$W$6?X-6@X-W$W$W$6@WXWXWX6@WX6@WX6AWXWXWDWXWX6@WXWX6@WXWXWX6@6AW4W4TF6ATF6BTFTKTFTKS6S6S?S?SZSZSB6@SZSZ6@SZSBSZSBSZ6?SZSBSBSB6?SBSB6?SZ6@SZTFTFTF6@S0SOS06@6@6AS0S06ASO6BSO6BT&SOSOSOSOSO6BSOSO6BT&T&SMT&6B6BSM6CSM6CSM6DSMSMSM6DSMS5S5S56DS5S56DSLS5S56D6E6ESQ6FSQ6FSISISISISISQ6F6FSI6G6HSISISI6HSISYSYSYWAWAWA6GWA6G6H6I6IWA6J6KWAWA6KWYWAWY6KWYWYWYWYW7WYW7W7W76IW(6JW(U(U(T/U(T/6IT/T/SL6ISL6JS9S9S96JS9SLSLSLS9S96ISLS9S9SLSLSQSQSQ6H6HSISISISQ6HSQSQSQSKSKSKSQ6GSQSKSQSKSQ6GSQ6GSQSK6GS:6HS:6HSKSKSKS:SKS:S:SK6GSKS:S:6GS:S@6G6HS@S@S@SYS@6HSYSY6HSYS@6HS@S@V)TT6HTTV-V-V-6HT?V-T?6HV-V-V-6H6H6IT?T?6IUET?T?6ISQ6J6KSR6KSRSR6K6LSR6MSR6MSRSRS8S86MS8STS8S8S8S8S8S86LS86L6MSTS8S8S86M6MSTSTSTSTS8STST6L6MT3T3UA6MTITIT=TI6MTITTTT6MV3TIV3TIV3SRSR6L6MS86MS8S8STST6MSTSG6MSGSGT16MT1T16MT26NT2T26NT26O6OT=6P6QT26QT2T2T=T=6Q6RT26RT2T=6RTIT=6ST=6ST=T=V3V36SV36S6T6UT2T26U6VV3T2T2T26V6VV36WV3T=6WT2T26WT=6XT=T26XV3V3SESGSESGSGSGSU6W6WSGSUSUSGSGSG6W6WSUSUSUX>6WXFXF6WXFXFXFT5T56W6XT76XT7T7T7T5T7T7T76WT76XT5T5T56X6XT7T7T7T2T2T26XT2T26XT2T26XT0T06XT2T06YT2T26YT2T0T2T06YT2T2T2T0T2T26X6Y6Y6ZURURUR6ZURUR6ZV37#7$7$UR7%URT27%T2URT2URT27%T2UR7%UR7%URT2URT2T27%T27%T0T0T07%UR7&URV37&URURV3V37&V3UR7&URURURURT0URSG7%SG7&XFXFXD7&7&XF7'7(7(7)XDXDXFXFXD7)XFXF7)XFXFXF7)XFXD7)XDXD7)7*T7T7T1T1T6T6T1T1T6T6T1T1T6T6T1T1T6T6T1T1T6T67%YWYWYWY9Y97%Y9Y9Y9YW7%Y9Y97%Y9YWY9YWY9X1X1X1X)7#7$X)X)X1X1X)X)7#7$X)X)7$X)X)X)X1X17$7%X1X1X17%Y6Y6YB7%7%YB7&YBY6Y6Y67&Y67&YBYB7&YBYBYBY6Y67&YBY6Y6YBYBYBYBY6Y6YBYB7$YB7$7%Y6Y6Y67%Y6Y67%Y6Y6Y6Y)Y.Y)Y)Y)Y)Y)7$Y)7$Y)Y.Y)Y.Y)Y.Y)Y.Y.Y.YJ6ZYWYW6ZYWYWYWYJYJYWYJY5Y56YY.Y.6YY.Y.Y5YWY5Y5Y.Y.6XZ'Y.6X6YZ'6YZ'Y.6Z6ZYNZ%Z%YXYXYNYNYNYX6YYXYN6YYNYNYX6YYXYX6YYI6ZYIYX6ZYXYI6Z7#YZYZYPYP7#YPYP7#7$X1YP7$YPYI7$7%YIYI7%7&YIYI7&YPYPYPX17&X1X1YPYPX1X1YPYPYP7%7%X1X1X1YPX17%X1YPX1X1X1X1YIYIYIYIX1YIYIYI6ZYI7#YI7#YIX1YIYIYIX1YI6ZX1X1YIYIX16ZX1YIX1YIX1X1WRX1X1X1X16XX1X16XX)X1X)X)X)WJW@W@W@WJWJ6V6WW@W@W6W@VBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUC6OTNUY6P6PTNTNTNVDVDVD6PVDVD6PTNVDVDTNTNULULTN6OTN6OTNTNULULTNULTN6N6OUL6OULTNTNULULTNTNULULTN6N6N6OTNTNV@6OTZTZV@V@TZTZUPUP6N6OUPUP6OUPUPUPUUUPY0Y06NY0YK6NYKYK6NY)Y0Y)Y0Y0Y06NY0Y06NYKY0Y0YKYKY0Y06M6N6NYKYKYK6N6OYKYK6O6PYKYKY0Y06PY0YK6PYKYKY0Y0YKY06OY0YKY0Y0Y0YKYKYK6NYKYK6N6OYKYKY0Y06OY0YK6OYK6PYKY0YKY0Y06OY06PY)Y)Y0Y0Y)6OY0Y0Y)Y)Y)6OY)6OY0Y0Y06O6PY06P6QY0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y06NY)Y0Y)Y)Y)6NY)6NY0Y0Y0Y)Y)6NY0Y)Y)6NY)Y06NY06OY)Y)6OY)Y)Y)Y)6OY)Y.Y)Y)Y.Y)Y.6NY)Y)6N6OY)Y)6OY)Y.Y.Y)6OY.Y.Y)Y.Y)6NY)Y)Y)Y)Y)Y.Y)Y)Y.6MY)6MY.Y.Y.Y.6MY.6MY.6NY.Y)Y.Y)Y)Y)6MY.Y.6MY.Y.Y.Y.Y)Y.Y.Y0Y)Y0Y0Y)Y)6KY)Y06K6LY)Y)Y)Y)Y.Y)Y.Y)6KY)Y)6KY.Y)Y.Y)6K6KY.6LY.Y)Y)Y)6L6LY.Y.Y.Y)Y)Y)6L6LY.Y.Y.Y.Y.6LY)6L6MY.Y.Y0Y0Y0Y)Y0Y)6LY)Y06LY06MY0Y06M6N6N6OY)Y)6OY)Y)Y)Y)Y)6O6P6PY.Y)6QY.Y.6QY.Y)6QY)6RY.Y.6RY.Y)6RY)6S6SY)Y06TY)Y)6TY)6TY)6U6V6VY)Y0Y0Y)6VY)Y.6V6WY.Y.YK6WYKYKY0Y06WY0Y06WYKYKY0YCY0Y0YCYC6VYCY0Y0Y06VY0Y0YKYK6U6VYKYK6V6WYK6X6X6YY06Z6Z7#YKYK7#7$YKYKYCYC7$7%YCYC7%YKYCYCYC7%YCY.Y.Y.YC7$YCY.Y.Y.7$Y.YK7$YKYKY.Y.7$Y.YK7$YK7%Y.7%Y.7&YK7&YKYKYK7&YKYKYK7&YKYK7&Y.YKYK7&Y.7'7(7(7)YKYKYKYK7)7*7*7+YKYKYKZ)YKYKZ)Z)7*Z)YK7*YKZ)Z)Z)Z)7*Z)YKYKYK7)Z)7*Z)Z)Z)Z)7*Z)7*YKYK7*YKYKYKZ)Z)YKYK7)YKYKYKYKYOYKYKYOYO7(YOYKYKYO7(YKYKYOYOYOYKYOYOY.Y.Y.7&7&Y.YKYKYK7&YKY.YKYKYK7&7&Y.Y.Y.YKYK7&YKYKY.YKY.7%Y.Y.Y.Y.Z'7%Z'7%Z'Y.Z'Y.7%Y.Y.Y.7%Y.7&Y.Z'Y.Y.7%Z'7&Z'7&Z'Z'Z'Z'Z'7&Z'7&Z'Y.Y.Y.YMYMYMY.Y.Y.7%Y.Y.YM7%Y.7%Y.Z'Y.Y.Y.7%Y.Y.Y.7%7%Z'7&7'7'Z'7(Z'YKYKYK7(YKYKYKY.YKYK7'Y.YK7'7(Y.7(Y.7)Y.YK7)YKY.7)Y.Y.Y.YKY.Y.Y.7(Y.7)Y.7)Y.YKYKYKYKYK7)YK7)YKY.7)Y.YK7*7*Y.YK7+Y.Y.7+7,Y.Y.Y.7,YK7,Z)Z)Z)7,Z)7-Y.Y.7-7.Y.Y.Z)Z)7-Z)Z)Z)Y.7-Z)Z)Y.7-Z)Z)7-Y.Z)Z)Y.Y.Z)Z)7,7-Z)Z)Z)Z)Y.Y.Z)Z)7,Z)Y.Y.Z)Z)Y.Y.Z)7+Y.Y.7+Z)7+Z$Z)7,Z)7,Z)7-Z)Z)7-Z$Z$Z$7-Z$7-Z#Z#Z#7-Z#7.Z#7.YOZ)Z)Z)Z)7.Z)YOZ)7.7/Z)Z)7/Z)Z)YO7/YOZ)Z)Z)YOZ)Z)7.YO7.YOYOYOYOZ)YO7.Z)YO7.YOZ)Z)YOYOZ)Z)7-7.Y.7.7/Z$Y.7/Z$Z$7/70Z$Z$Y.70Y.7171Z$Z$Z$7172Y.Z$72Z$Z$Z$YOYA72YA72YAYOYOYA72YOYO7273YO74YO74YO75YAYAZ(75YO7576YA76YAYOYOYAYAYO76YO76YOYO76YAYO77YOYO777878YAYO79YOYOYO7979YAYAYAYMYMZ$Z$YMYMZ$YMYMZ'YMYMZ'Z'76Z'Z'Z'7677Z'Z'77787879YMYM79YMYMYM79Z'7:Z'7:Z'YM7;Z'Z'YM7;YMYMYM7;YM7;Y/Y/Y/7;Y/Y/YMYMZ$Z$Z$Z$Z$7:7:Y27;Y27;7<Y2Y2Z$Z$7<Z$Z$7<7=Y2YMYMZ$YMY/Y/7<Y/Z$Y/Z$Z$7;Y/Z$Z$Y/Y/7;Y/Z$7;Z$Y/Z$Y/Z$Z$Z$Z$Z$7:Z$7:Z$Y2Y/Y/Z$Y279Y/Y2Y/Y/Y/Y279Y279Y2Y2797:Y2Y27:7;Y2Y27;Y/Y2Y27;Y2Y2Y2Y/Y/7;Y/Y/Y/7;Y/Y/Y/Y/7;Y/7;7<Y2Z$Z$7<Z$YAYA7<YA7<7=YAYAZ$7=YAYAYAY27=Y27=Y2YAYAYAYAZ(7=7=Y27>7?Z(Z(Z(7?Z(Z(YR7?Z(Z(YRZ(Z(Z(Z(7>7>Z(YRZ(Y/Y/Y/7>Y/Y/Y/Y27=7>Y2Y2Y27>Y2Y27>7?Y2Y2Y/Y/Y/7?Y/7?Y?Y?Y/7?Y/7@Y?Y?7@7AY?Y?7AY?Y/Y/Y2Y27@7AY2Y2Y2Y27A7BY27BY-Y-Y2Y27BY2Y2Y2Y27BY1Y1Y-Y-Y1Y17AY1Y27AY2Y1YGYGZ'Z'Z'7@Z'YGYG7@Y?Y?YGYGY?Y?Y?Y?Y?7?Y?Y?7?7@7@Y?Y4Y47@Y4Y1Y4Y?Y?Y4Y4Y?Y?Y4Y?Y47>Y4Y?Y?Y?Y4Y?Y4Y?Y4Y?Y4Y?7<Y?7<Y?Y4Y?7<Y?Y17=Y17=Y1Y17=7>Y?Y1Y?Y?Y1Y17=Y1Y1Y1Y?Y?Y1Y1YIYI7<7=YIYIY?Y?Y?7<Y?Y?7<YIY?Y?YIYI7<YI7<YI7=YIYIYIY?Y?YIYI7<7=YIYIY?YIY?YI7<YIYIYIYI7<Z&Y+Y+Y+VX7;VUVU7;7<VUVUVRX+VRX+VRVR7;7<7<X+X+X+X*W6X*W6W6W6W67;W67;X*X*7;X*X*X*7;7<WXWXW)W)WXW)7;7<WXWX7<X/WXWXX/X/WX7<UCTYUC7<UCUCUCTYUC7;TYTYTY7;TYTYTZTZTNTNTZTZTNTNTZTZU3U37879U3U3TNU379U3797:TNTN7:TZU3U3TZTZU3U3797:U3U3TZTZU3U3TZTZ797:TZTZV@V@TZ79TZ7:7:V@7;V@7;7<V@V@TZTZTZ7<TZTZ7<7=TZTZ7=7>TZTZ7>7?TZTZ7?7@7@V@7AV@7AV@V@V@TZTZUUUUTNU4TNU9U4U4U9U9TNU9TNU9U47=U9U9U4U37=U37=U3U9U3TNTNTN7=TNU37=U37=U87>U8U7U7TNU7U3UUU3UUU3UUU3UUUUUUU>7;U>7;U>U>V@7;V@7<V@7<V@7=TZTZTZ7=7=V@7>V@TZ7>TZ7?TZV@TZV@7>V@TZV@TZV@TZV@V@7=V@7>UUUU7>7?7?UU7@UUV@V@V@UU7?UUUUUUV@UUUUUUYD7>YDY@7>YDY@Y@YDYDYDY@YD7=Y@Y@Y@YD7=YDY@7=Y@YDYDYDYDYKYD7<YDYDYKYKYDYKY@YDYDYDYKYKY*Y*YKYKYK79YKYKYDYDYKYD78YK78YKYKYKYDYKYDYKYKYKYDYDYKYKYDYDYKYKYDYKYKYK7475YKYK75YKYOYOYK75YK75YK76YKYKYHYKYOYO75YO75YOYKYOYOYOYO75YO75YOYOYOYO75YQ75YOYQYOYQYQ757676YOYOYO76YRZ(Z(YRYR76YR76YRZ(YRYRYRZ(76YRYRZ(76Z(YRZ(Z(Z(YLZ(7575YLZ(Z(YR75YRY-YYYYYY75YUYUYYYUYY7475YU75Y1Y-7676Y1Y-Y-Y1Y1Y-Y-Y1Y1Y-Y1YV7475Y17576YVYVY1Y1YVYVY1Y1Y17575YVYVYVY1Y1757676YVYVYVY1Y176YVYVY1YVYV75YVYVYVY;Y;75Y;Y,Y;Y,Y,Y,Y,Y,74Y,74Y,Y,Y,74Y,Y;Y;Y;Y;X&Y;73X&X&73X&X&X&W#W#X&73W#7374X&74W#X&W#X&74X&X&7475X&X&X2W#X2X2W#W#W#74W#W#7475VWWVVW75VWVWVW75VW75VWVW75WVWVW/WVWV75WVWVWVVWWVWVWV74757576VWVWWVWVVWWVWSVRWSWS74VRWS75VRVR75X$75X$X$X$VRVR7576VR76X$X$76X$X$X$VRVR7677VR77X$X$7778X$X$VRX$X$X$W'77W'X$7778X$X$78X$X$X$W'X$X$X$W'X$X$X$VRVRW'W'VRVR75VRW'VRW'W'VRVRVR7474X$75X$X$75W/W/75X$W/W/X$X$W/W/X$X$X$74X$74X$X$X$X$W/W/X$X$7374X$X$74W/X$X$W/W/X$X$X$73X$X$7374X$X$747575X$W/W/X$75X$76X$X$W/W/W'W'X$75W'W'75X$W/W/7576W/W/W/7676X$X$X$76X$X$X$W/76W/W/76X$W/W/X$X$W/X$X$X$75X$X$X$X$75X$X$W'W'W/W/W/74W/W/W'W'73W'W'W'7374W/W/7475W/W/75W/W/W/W/W/W'W'W'W'W'74W/W/W/W'W'W/W/7373W'74W'X$X$74X$W/W/W/W'X$X$W'W'72W'W'W'7273X$X$W'737475X$X$X$W'W'X$X$X$WV73WV74W/W/74WVW/W/7475W'X$W'X$X$74X$W'W'W'W'74W'W'X$W'X$73X$X$73X$X$X$X$W'X$X$X$X$7273X$X$73W'73W'W'W'W'W'X$X$W'W'72W'W'W'727373W'X$X$W'W'W'73W'W'737474W'X$757576X$X$X$X$W'X$X$X$7576X$7677W'X$X$X$777778W'W'7879W'W'X$X$X$79X$797:W'7:X$W'W'X$X$W'X$X$X$W'W'X$X$787979W'W'W'W'79W'W'X$797:W'X$7:X$7;7;W'7<W'VRVRW'W'VRVRW'W'VRVRW'7:W'7:W'W'7:VRW'W'VRW'W'W'WXWXWX79WXWX79WXWXWXWX79WXWXWXWP78WPWPWPWPWP78WPWXWPWPWPWX77WPWPWPWPWW77WW77WWWWWPWPWP777778WWWWWPWPWP78WP7879WW79WWWWWWWPWPWP79WP79WWWW797:WWWW7:WWWWWWWX7:WPWPWXWP7:7;WP7;WP7<WPWPWP7<WPWP7<7=WW7=WWWWUCV&UCV&UC7<UC7=UCUCUC7=UC7=UCUCUCV&V&V&UCUC7<7=UCUC7=V?UCUCV?V?UCUCV?V?UC7;V?V?UCUC7;V?UCUCV?V?UCUCV?V?UC79V?V?79UCV?V?UC79V&V&79UCV&V&797:V&V&V?V&V?7:V?V&7:U2V&V&7:7;V&V&7;TYV&V&TYTY7:TYTYTYV&7:U2U27:7;U2U27;U2U2U2U27;U2U27;7<U2U2TYTYTPTPTYTYTPTPTYTY7:TYTP7:TPTPTP7:TPTP7:TYTP7;TYTY7;TYTPTYTPTPUUUU7:UUTNUU7:UU7:YDY@YDY@YDY@7:7:S=S<7;S<7;7<S=S=S=7<S<S2S27<7=7=S2S<S<W0W07=7>W07>7?WIW0W07?W0WIW0WIWIY;Y;W+7>7>W+W+W+Y;Y;W+7>Y;Y;7>Y;W0W0WIW0W0W0WIWIW+W+7<7=W+W+7=7>7>W&W&W+W+W+7>W+7>W+W+W+W&W&W&W+W&W9W&W9W9W9W9W2W97;W9W9W+W+7;W+7;W+W9W+VS7;VSVSW+W+7;W+VSW+VSW+W9W9W17:W1W17:W9W1W1W1W9W9W9W2W2W9W9W9W2W9W9W977W9VSW9VS7677W+W+W+VYW+VYW+76W+VY76W+W+W+Y;Y;Y;76VY76VYVYY;Y;VYY;X&75X&X&7576X&X&VYVY767777X&VYVY77X&78X&X&X&VYX&VY7778X&X&X&VYX&X&X&7778X&X&X&78X&X&VYVYX&X&VY7777X&78X&VYX&VYVY7778VYVYVYVYWCVYX&X&77X&X&X&VYX&VY76VY77VWVWX&VWX&76X&X&VWVW76VWX&X&X&7676VWVWVWW:76W:W:76WVW:WVW:76W:W:7677W:W:7778W:7979W/W:7:W/W/7:W/7:W/W:7;W/W/7;W/W:7;W:W:7;W/W:W/W:W:W/W:W/W:W/W/W:W<W:W<W:78W:W:W<W<78W<78W<W:W:W:78W<W<7879W:W:W<W<W:W:W<W<78W<78W<W:W<W:W:78W<78W<W<W<W:W<W:W<77W<W<W<W:W<W:W:76W?W?W?W<W<W<7676W?W?W?76W?W<W<W<W?W<W<W<W<W<75W<75W?W?W<W?W?W?W<W<W<74W<W<W<W?W<73W<W<73TNV#74TO7475UQ75UQ767777TNUJ78UJ78UJUJTNTN78TN78TNUJ79UJTNUJ79TNTN79TN79TNTNTNTNTNUJ79797:UJ7;UJ7;UJUJ7;TN7<TNUJ7<UJUJ7<7=UJUJTNUUTN7=TN7=UUUU7=X&VYVYX&X&7=7>W.W.W.7>W.WHW.W.7=WH7>WHWHWH7>7?WHWH7?7@WHWH7@W.WHW.W.W.WH7?WHW.W<W<7?W<X&7?X&W<W?7?W?7@W?W=W?W=7?W=W?W?7?WXW=7@W,W?W,7@W?W?7@W?7@W?W?W?W?W?7@W?W,7@W,7A7AW?W?W?WX7A7B7CWXWXWX7CWX7CW4W47CW4W4W4WXWXWXX#WXX#X#X#7AUNUNUNUQUQ7A7BUQ7B7CUNTJTJTCTCTJTJTCTJT-T-UHUHUHUHUH7@UHUH7@UHSC7@SCT$X0X0X07@7@W$W$W$7@X-W$W$X-X-7@X-7@X-X-X-X-X-7@X-X-X-X-7@X-X-7@7AX-W$X-W$X-X-W$X-W$7?W$W$X-X-7?X-W$7?W$7@W$X-W$X-WXW4WXW4WXWXWX7>WX7>WX7?WX7?WXWXWDWD7?WDWX7?W4W47?W4W4W47?TK7@TK7@TKTFTKSZ7@SB7A7ASZSB7BSB7BSBSBSB7BSBSBSZSZ7BSZSB7BSBSBTF7BTF7CS0SOS0S0S0SOS0S0SOSO7A7BSOSO7BSOS0SOS0SOSO7ASOSOSOSOSO7A7A7BT&T&T&SM7BSMT&7BT&7CT&7CT&7DT&7D7ESMT&SMSMSM7DSMT&SMS5S57D7ES5S5SLSLS5S5S57D7DS5SQ7ES5SQS5SQ7DSQSQSQSQ7D7ESI7ESISQSQSQSISQSISQ7DSQSQ7DSQSQSQSISISYSYWAWAWAWYWAWAWA7BWY7BWYWY7BWYWYWYWAWA7BWAWY7BWYWYWAWA7BWYWAWAWYWYWAWYWAWYW(W(W(WBW(WBWBWB7>U(T/U(SLSLSL7>SL7>SLSLS9S97>7?S97?7@SLSQSQSQ7@SISI7@SISQ7@SQSI7@SKSKSKSKSK7@SKSKSKSQSKSQS:SQS:SQS:SQS:SI7=SI7>SKSKSKS:S:S:S:S@SKSKS@S@SKSKS@S@S@7:S@S@7:SYS@7;S@S@S@SYV)7:V)V)V-V-V-7:7:UET?7;V-V-T?T?V-V-7:T?V-7:7;T?UEUE7;UESRSQSR7;SR7;SRSR7;SQSRSRSR7;SRSRS@S@SRSRS@S@7:S@SR7:SRSRSRS8SRSRS8S8STS8S8S8S8STSTST77ST7778STSTS8S87879S879STSTUAUAUA79UAUA79UAUATITITIT=TIT=TI777879V3SFSRSFSFSRSR78SRS8S8S878STST78STSGSFSGSGT177T17878T279T279T2T1T2T2T2T279T279T2T2T2T=T279T279T2T2T=T=79T=T2T=T2T27879T2T2T=T=79T=T279T2T=T=79T=7:T=TIT=T=T=T=T=7979V37:V37:V37;7<V3V37<V3T2T2T=T2T2T27;V37;V3V3V3T2T27;V3T2T2T2V37:V3V3V3T=T=7:7;T=T=7;T=T27;T2T2T2T27;V3SGSGSUSUSGSGSGSUSGSG797:SG7:SGSUX>X>7:7;X>X>7;7<T77<T7T7T5T57<7=7=7>T7T7T7T5T7T5T7T5T7T7T5T57<7=T77=T7T7T2T2T9T9T2T2T9T9T2T0T0T0T0T2T0T0797:T0T0T2T27:T2T07:T0T0URURT2URV3V3URV3T278T2URURV3URURURV3UR77V3V377V3UR77URURV3V3URV3T2URT2UR75UR76UR7677URUR77URT278T2T2T2URT2URT2T276T0T0T0T2T276T276URT2URT2UR76URV3V3UR7676V3UR777778URURSUSUSG78SGSUSUSU77XDXDXDXFXF77XF7778XDXD78XF79XF79XFXDXDXFXDXDXDXFXFXD78XFXF7879XFXF79XF797:XDXD7:7;T7T7T0T0T7T0YWY9YWYWYWY9YWYWY9Y9YWYWY9Y9YWY9X1X1X)X)X1X1X)X)X)X1X)X)X1X1X)X)X1X)X)X)X1X1X)X)X1X1X)X)X1X1X1X)Y6Y6YBYBY6YBY6YBY6YBYBYBY6Y6YBYBY6Y6YBYBY6YBYBYBY6YBYBYBY6YBY6Y6YBYBY6Y6YBYBY6Y6Y6YBY6Y6YBYBY6Y6Y)Y.Y)Y.Y)Y.Y)Y.YJYJYWYWYJYJYWYWY5Y5Y.Y.Y.Y5Y.Y.Y.Y.Y.Z'Z'Z'Y.Z'Y.Y.Y.Z'Z'Z'Y.Z'Z'Z'Y.Z'YNYNZ%Z%YNYXYNYXYXYXYNYNYXYIYXYXYIYIYXYIYXYXYXYIYXYXYXYIYPYPYZYZYPYPYZYPYZYZYZYPYPYPX1X1YPYPYPX1YPYIYPYPYIYPYIYIYPYPYIYIYIYPYIYIYPYPYIYIYPYPYPYIYPYPX1X1YPX1X1X1YPYPX1X1YPX1YPX1YIYIYIX1YIX1YIX1YIYIYIX1YIYIX1X1X1YIX1YIX1X1X1X)X1X)X)X)WJWJW@W@WJWJW@W@UYTNUYUYUYTNUYUYUYTNUYTNVDVDVDTNVDVDTNTNULULTNULTNULTNTNTNULULULTNULULULULULTNULULULTNULULULTNTNULULTNTNV@V@TZV@UPUPUPUUUPUPUUUUUPUPUUUUY0Y0YKY0Y0Y0YKY0Y0Y)Y0Y0Y0Y0YKYKY0YKYKYKY0Y0YKYKY0Y0YKYKY0YKYKYKY0Y0YKY0Y0Y0Y0YKY0Y0YKYKY0Y0YKY0Y0Y0YKY0Y0Y0YKY0YKYKYKY0Y0Y0YKYKY0Y0YKYKY0Y0YKY0Y0Y0YKYKY0Y0YKY0YKY0YKY0Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y0Y)Y)Y0Y0Y)Y)Y0Y)Y0Y)Y0Y)Y0Y)Y0Y0Y)Y)Y0Y0Y0Y)Y0Y0Y0Y)Y0Y)Y0Y)Y0Y0Y)Y)Y0Y)Y)Y)Y.Y.Y.Y)Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y.Y.Y)Y)Y)Y.Y)Y.Y)Y)Y.Y.Y)Y)Y)Y.Y.Y.Y)Y)Y)Y.Y)Y)Y)Y.Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y)Y)Y0Y0Y0Y)Y)Y)Y0Y)Y0Y0Y)Y.Y)Y)Y)Y)Y)Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y.Y.Y)Y.Y.Y.Y.Y)Y)Y)Y)Y)Y.Y.Y)Y.Y.Y.Y0Y0Y0Y)Y0Y)Y0Y0Y0Y0Y0Y)Y0Y0Y0Y)Y0Y)Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y)Y)Y0Y)Y)Y)Y)Y.Y)Y.Y.Y.Y)Y.Y)Y)Y)Y.Y)Y.Y.Y.Y.Y)Y)Y.Y.Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y)Y.Y)Y.Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y0Y)Y)Y)Y0Y)Y)Y)Y.Y)Y.Y.Y.Y)Y.Y.Y.Y0Y0YKYKYKY0YKYKY0Y0YKYKY0Y0Y0YCY0YCY0Y0Y0Y0Y0YKY0Y0YKYKY0Y0YKYCY0YCYCYCYKYCYKYCYCYCY0Y0YCYCY0YCY0YCY0YCYCYCYKYKYCYCYKYKYCYCYKYKYCYCYKYCYCYCYCYKYCYCYKYCYCYCYKYKYCY.YCY.YCY.YCY.Y.Y.YKYKYKY.YKYKYKY.YKY.YKY.YKY.Y.Y.YKYKY.YKY.Y.Y.Y.Y.YKY.YKYKYKY.YKYKYKY.Y.YKYKY.Y.YKYKY.Y.YKY.YKY.YKYKY.YKYKYKYKY.YKYKY.Y.YKY.YKYKYKZ)YKYKZ)Z)Z)Z)Z)YKZ)Z)Z)YKYKZ)Z)Z)YKZ)YKZ)Z)Z)Z)YKYKZ)YKZ)YKYKZ)Z)Z)Z)Z)YKZ)Z)Z)YKZ)YKYKYKZ)Z)YKYKYKYOYKYOYOYKYOYOY.Y.YKY.Y.Y.YKYKYKY.YKYKYKY.YKY.YKY.Y.Y.YKYKY.Y.Y.Y.YKY.Y.Z'Z'Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Y.Y.Z'Y.Y.Y.Z'Y.Z'Z'Z'Z'Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Y.Y.Z'Y.Z'YMY.YMYMY.Z'Z'Z'Y.Z'Z'Z'Y.Y.Y.Z'Y.Y.Y.Z'Z'Z'YMYMZ'Z'YMYMY.Y.Y.Z'Y.Z'Z'Z'YKYKYKY.YKY.Y.Y.YKY.Y.Y.YKY.YKY.YKY.YKY.YKY.YKY.YKYKYKY.YKY.Y.Y.YKY.YKY.YKY.YKY.YKY.YKY.YKYKYKY.YKY.Y.Y.YKY.YKY.Y.Y.YKY.YKY.YKY.Y.Y.Z)Y.Y.Y.Y.Z)Y.Y.Z)Z)Y.Y.Z)Y.YKYKZ)Z)Z)Z)Y.Y.Z)Y.Z)Z)Y.Y.Z)Z)Y.Z)Z)Z)Y.Z)Z)Z)Y.Y.Y.Z)Y.Y.Y.Z)Y.Y.Z)Y.Y.Y.Y.Z)Y.Y.Z)Z)Z)Z)Y3Y3Y.Y.Z)Z)Y.Y.Z)Z)Z)Z$Z)Z$Z$Z$Z)Z$Z)Z$Z)Z$Z)Z$Z)Z$Z)Z$Z$Z$Z#Z$Z#Z$Z)Z#Z#Z#Z#Z#Z)Z#Z)Z#Z)Z)Z)Z)YOZ)YOZ)YOYOYOZ)YOYOZ)Z)YOYOZ)Z)YOYOZ)YOZ)YOZ)Z)Z)YOZ)YOYOYOYOZ)YOYOZ)Z)Z)YOZ)Z)YOYOZ)YOYOYOY.Y.Y.Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Z$Y.Y.Y.Z$Z$Z$Y.Z$Z$Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Z$Z$Z$YOYAYAYAYOYAYOYOYAYAYAYOYAYAYOYOYAYAYOYAYOYAYOYAYOYOYOYAYOYAYOYOYAYAZ(Z(YOYAYAYAYOYAYAYAYAYAYOYOYOYAYOYOYOYAYOYOYAYAYOYOYOYAYOYOYOYOYAYAYOYOYAYOYAYAYOYAYAYAYOYOYOYAYAYAYOYOYOYAZ'Z'YMZ'Z'Z'YMYMZ'Z'YMYMZ'Z'YMYMZ'Z'YMZ'YMZ'YMYMZ'Z'YMYMZ'Z'YMYMYMYMYMZ'Z'Z'YMZ'YMZ'YMYMZ'Z'YMZ'Z'Z'YMYMYMYMY/YMYMYMYMY/Y/YMY/Y/Z$Z$Y2Y2Z$Z$Z$Y2Z$Y2Y2Y2Z$Z$Y2Y2Z$Z$Y2Y2Z$Z$Y2Y2Z$Y2Z$Y2Z$Y2Y2Y2Z$Y/Z$Y/Z$Y/Z$Z$Z$Y/Z$Z$Z$Y/Y/Y/Z$Z$Z$Y2Z$Z$Z$Y2Y2Y/Y2Y2Y2Y/Y2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y/Y2Y/Y/Y2Y2Y/Y/Y2Y/Y/Y/Y/Y2Y/Y/Y2Y2Y/Y2Y2Y2Y/Y2Y2Y2Z$Z$Z$YAYAYAZ$Z$Z$Z$YAYAZ$Z$YAYAZ$YAZ$YAYAY2Y2Y2Y2Y2YAY2YAZ(Z(Z(Y2Z(Z(Z(Z(Y2Y2Y2Y2Y2Z(Y2Z(Z(Z(YRYRZ(YRYRYRYRYRZ(Z(Z(YRYRY/Y/Y2Y2Y/Y/Y/Y2Y/Y/Y2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/Y2Y2Y2Y/Y/Y/Y?Y/Y/Y?Y?Y/Y?Y/Y?Y/Y?Y/Y/Y?Y?Y2Y2Y?Y2Y2Y2Y2Y?Y2Y2Y/Y/Y2Y2Y/Y2Y2Y2Y2Y2Y2Y-Y2Y2Y-Y-Y2Y-Y-Y-Y2Y2Y-Y-Y2Y2Y2Y1Y-Y1Y-Y-Y2Y2Y2Y1YGYGZ'YGYGYGY?Y?Y?Y?Y1Y1Y?Y?Y1Y1Y?Y1Y1Y1Y?Y?Y4Y4Y4Y4Y1Y4Y4Y?Y4Y4Y4Y?Y?Y?Y4Y?Y4Y?Y?Y?Y1Y1Y1Y?Y1Y?Y1Y?Y1Y1Y?Y?Y?Y1Y?Y?Y1Y1Y?Y1Y1Y1Y?YIY?Y?YIYIY?YIYIYIY?Y?YIYIY?YIYIYIY?YIY?YIY?YIY?Y?Y?YIYIYIY?YIYIYIY?Y?YIYIY?YIYIYIZ&Z&VXVXVXVUVXVXVUVUVXVUVUVUVRVRX+X+VRX+X+X+VRVRVRX+W6W6W6X*W6W6X*X*W6W6X*X*W)W)WXWXW)W)WXW)WXX/WXWXX/X/WXWXX/X/WXWXWXX/WXX/UCTYUCTYUCTYTYTYTYTNTYTYTZTZU3U3TZTZU3U3TNU3TNU3TNU3TNTNU3U3TNTNTZTZU3U3TZTZU3U3TZTZU3U3TZTZTZV@TZTZV@V@TZTZTZV@TZV@V@V@TZV@TZV@TZV@TZV@TZTZTZV@TZTZV@V@TZTZTZUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZV@TZV@TZV@TZV@TZV@TZV@U4U4U9U9U4U3U4U3U4U3U9U3TNTNU3U3TNTNU3U3TNTNTNU8TNU8U8U8UUUUU>U>UUUUU>U>V@UUV@UUV@UUV@UUV@UUV@V@V@V@V@UUTZV@V@V@TZV@TZV@TZTZTZV@TZTZTZV@TZV@V@V@TZV@TZV@V@UUV@UUUUUUV@UUUUUUV@V@UUUUV@UUV@UUV@UUV@UUV@UUV@V@UUUUYDYDYDY@YDYDY@Y@YDYDYDY@Y@YDYDYDY@YDYDYDYKYKYDYDYKYKYKYDYDYKYDYKYKYKYDYKYKYKYDYDYKYKYDYDYKYKYDYDYOYOYKYOYKYKYKYHYHYHYKYHYOYOYKYOYKYOYKYOYOYOYOYQYOYQYOYQYOYOYQYQYOYOYQYQYQYQYOYOYQYQYOYOYQYQYQYOYRYRZ(Z(YRYRZ(YRZ(YRZ(Z(YRYRZ(YRYRYRZ(YRZ(YLZ(YLYLYLZ(YLYRY-Y-Y-YYYYYUYUYYYUYYYUYYYUYUYUY1Y1Y-Y1Y1Y1Y-Y1Y-Y1Y-Y-YVYVY1Y1YVYVYVY1Y1Y1YVYVY1Y1YVY1Y1YVYVYVY1Y1YVYVY1Y1Y1YVY1YVYVYVY1YVYVYVY1Y1YVYVY1YVYVYVY;Y;Y,Y;Y,Y;Y,Y,Y,Y,Y,Y;Y,Y,Y,Y;Y;Y;X&X&Y;X&X&X&W#W#X&W#W#W#W#X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&WVWVVWVWVWWVVWWVVWWVVWWVWVWVWVW/WVWVVWVWVWWVVWVWWVWVVWWVVWWVVWVWWVWVVWWVVRVRWSVRVRVRWSWSVRVRVRX$VRX$X$X$VRVRVRX$VRX$X$X$VRVRVRX$VRX$VRVRX$VRX$X$VRVRX$X$VRVRX$X$VRVRX$X$VRVRX$X$W'W'X$X$W'X$X$X$W'W'X$X$W'W'X$X$VRVRW'VRVRVRX$X$VRX$VRX$VRX$X$X$X$X$W/W/X$X$W/X$X$X$X$W/W/W/X$W/X$X$W/W/X$X$W/W/X$W/W/W/X$W/X$X$X$X$W/W/X$X$W/W/X$X$W/W/X$X$W/W/X$X$W/W/W/W/X$W/W/W/X$W/W'W'X$X$W'X$X$X$W/W/W/X$W/X$X$X$W/X$X$X$W/W/W/X$W/X$X$X$X$X$W/W/X$X$W/W/X$X$W/X$X$X$W'W'W/W/W/W'W/W/W'W'W/X$W/W/X$X$W/W/X$X$W/W/X$W/W/W/W/X$W/W/W'W'W/W/W/W/W/W'W/W/W/W'W/W'W'W'X$X$X$W/W'X$W'X$W'W'X$X$W'W'X$W'W'X$W'X$W'X$W'W'X$X$W'X$WVWVWVW/W/W/WVWVW/W/WVWVW/W/W:W:W/W/W:W:X$W'X$W'W'W'X$X$X$W'X$X$W'X$X$X$X$W'W'W'W'X$W'X$X$X$X$W'X$X$W'W'X$W'X$X$X$W'X$X$W'W'X$W'X$W'X$X$W'W'X$X$W'W'X$X$W'W'X$X$W'W'X$W'X$W'X$X$W'W'W'X$W'X$X$X$X$X$X$W'X$X$W'W'X$X$W'W'X$X$W'W'X$W'X$W'X$X$X$W'X$X$W'W'X$X$W'X$W'W'X$W'X$X$X$W'X$X$W'W'X$W'W'W'X$X$W'W'X$X$X$W'X$X$W'W'X$W'X$W'X$X$W'W'X$W'W'W'X$W'W'W'W'W'X$X$X$X$W'W'W'W'X$X$X$X$W'W'W'VRW'W'VRVRW'W'VRVRW'VRWXWXWPWPWPWPWPWXWXWPWPWPWXWXWPWPWXWPWXWXWXWXWPWPWPWPWWWWWPWPWWWWWPWWWPWWWPWPWPWWWPWWWWWWWPWPWWWPWPWPWWWWWPWWWWWWWPWPWWWWWPWWWPWWWPWPWPWWWPWPWWWWWPWWWWWWWPWWWWWWWXWXWPWPWXWPWPWPWPWXWPWPWPWWWPWWWPWPWPWWWPWPWWWPWPWPWPWWWPWPWWWWWPWWWWWWV&V&UCV&UCV&UCV&UCV&V&V&UCV&UCUCUCUCV?V?UCUCV?V?UCUCV?V?UCUCV?V?UCUCV?V?UCUCUCV?UCUCV?V?UCUCV&V&UCUCV&V&UCUCV&V&UCV&V&V&V?V&V?V&V?V?U2U2U2V&U2U2V&V&U2U2V&TYV&V&V&V&V&TYV&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2TYTYTPTYTYTPTPTPTPTYTPTPTYTYTPTYTYTYTPTYTPTYTPTPUUUUTNUUTNTNUUUUY@YDY@YDY@YDY@YDS<S=S<S=S=S=S<S<S<S=S=S=S<S=S<S<S=S=S<S<S<S2S<S<S2S2S<S2S2S2S<S2W0W0WIWIW0WIWIWIW0W0W0WIWIW0WIWIWIW0WIW0Y;Y;W+W+Y;Y;Y;W+W+Y;W+W+W+Y;W+W+W+W+W&W&W+W+W&W+W+W+W+W&W+W+W&W+W&W&W&W+W+W+W&W+W&W+W&W+W9W+W9W9W9W+W9W+W9W+W9W9VSW+VSW+W+W+VSW+W9W9W1W9W1W1W1W9W9W9W9VSY;Y;W+Y;Y;Y;W+W+W+W+W+VYY;Y;W+W+Y;VYY;VYY;Y;VYY;X&VYX&X&VYVYX&X&VYVYX&X&VYVYVYX&VYX&X&X&X&X&VYX&VYVYVYX&X&X&VYX&VYVYVYX&VYVYX&X&VYX&VYVYX&X&VYX&X&VYVYVYVYX&VYVYVYX&VYX&VYX&VYVYX&X&X&VYX&X&VYVYVYX&VYVYVYX&VYX&VYX&VYVYX&VWX&X&VWVWX&VWX&X&X&VWX&VWVWVWW:WVW:W:WVWVW:WVWVWVW:WVWVWVWVW:WVWVW:W:W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W/W:W:W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W<W:W:W:W<W:W<W:W<W:W:W:W<W<W<W<W<W:W:W<W<W:W<W<W<W:W<W:W<W:W<W:W:W:W<W:W:W:W<W:W<W<W<W<W<W<W?W<W<W?W?W<W<W<W?W<W?W<W?W<W?W?W?W<W<W<W?W<W<W<W?W<W?W<W?TNTNV#TNTNTNV#TNTOUQTOUQTOTOTOUQUQUQTOUQTOUQTOTOUQUQTOUQUJTNUJUJUJTNUJTNTNTNUJTNTNTNUJTNUJTNUJUJUJTNTNTNTNTNUJUJTNTNUJTNUJTNTNTNUJTNUJTNTNTNUJUJTNTNUJTNUJTNUJUJTNTNUJTNTNTNUJTNUJTNUJUJUJTNUJUJTNTNUJUJTNTNUJTNTNUUTNUUTNUUUUUUX&X&VYVYX&X&VYVYX&X&VYX&W.W.W.WHW.W.W.WHW.WHWHWHW.WHW.W.WHWHW.WHWHWHW.W.WHWHW.W.WHWHWHW.WHW.WHW.X&W<X&X&X&W<W<W<W?W?W?W=W?W=W=W=W?W=W?W=WXWXW=W=W=WXW=W=W,W?W,W,W,W?W,W?W,W,W,W?W?W?W,W,W,W,W,W?W,W?W,W?W,W,W?W,WXX0X0X0WXWXX0X0WXX0X0X0WXW4W4W4WXWXWXW4WXW4W4W4T@UNUNUNUNUQUNUNUQUQUNUQUQUQUNUNUQUNUQUNUHUHUDUDUHUHUDUDSCT$SCT$X0X0X0W$X0X0X0W$X-X-W$W$W$X-W$X-W$X-W$X-X-X-X-W$X-X-X-W$X-X-W$W$X-W$W$W$W$X-W$W$W$X-W$W$X-X-W$X-W$X-W$X-WXWXWXWDWXWDWDWDWXWDWXWDWXWXWXWDWDWDWXWDWXWXWXW4WXW4W4W4TFTKTKTKTKTKTFTKTFTKTFTFSZSZSZSBSZSZSBSBSZSZSBSBSZSZSBSZSZSZSBSZSZSZSBSBSZSZSBSBSBSZSBSBTFTKTFTKTFTKTFTKSOSOS0S0SOSOS0S0SOSOS0S0SOT&SOSOSOT&SOT&SOSOSOT&SOSOT&T&T&T&T&SMT&T&T&SMT&SMT&SMT&SMT&SMT&SMT&T&T&SMSMSMT&SMT&SMT&SMT&SMS5SLSLSLSLS5SLSLS5SQS5SQS5S5SQSQSQS5SQSQS5SQS5SQSQSISISISQSQSQSISQSISQSQSQSISQSQSISISQSQWAWAWYWYWAWAWYWYWAWYWYWYWAWAWYWAWYWAWYWYWYWAWYWYT/U(T/U(SLS9SLS9SLS9SLSLS9S9S9SLS9S9SLSLS9S9S9SLS9SLSLSLSQSISQSISQSISQSISQSISQSISQSQSQSKSKSKSQSKSISISISKSISKSISKS@SYS@S@SYSYS@SYSYSYS@S@V)TTV)TTV-V-V-T?T?V-T?T?T?UET?T?V-T?T?T?V-T?T?T?V-V-T?T?UEUET?T?SQSQSRSQSRSQSRSRSQSQSQSRSQSRSRSRS@S@SRS@S@S@SRS@S8S8S8STSTS8STSTS8S8S8STS8S8S8STS8S8STSTS8S8STSTUAUAUAT3UAUAT3UATTTTTTV3TTTTV3V3TTV3V3V3SFSRSFSRS8STS8S8SFSTSFSTT1T1T2T2T1T2T1T1T1T1T2T2T2T2T1T2T1T2T1T2T2T2T=T=T2T=T2T2T=T=T2T=T2T=T2T2T2T=T2T=T2T=T2T2T=T=T2T=T=T=T2T=T=T=T2T=TITIT=TIT=TIT=T=T=V3T=T=V3V3T=V3T=V3T=V3T=V3T=V3T=V3T=T2V3V3T2T2V3V3T2V3T2T2V3V3T2V3V3V3T2T2T2V3T2V3V3V3T=T=T2T2T=T=T2T2T=T=T2T=T=T=T2T=T2V3V3V3SGSGSGSUSGSUSUSUSGSUSGSUX>XFXFXFXFX>XFXFX>X>XFXFX>XFXFXFT5T5T7T5T7T5T7T7T5T5T7T5T5T5T7T5T5T5T7T5T5T5T7T7T5T5T5T7T5T5T7T7T0T2T0T0T2T2T0T2T0T2T0T0T0T2T0T0URURT2URURV3URURV3URURURV3V3URV3T2URT2URT2T2T2URT2T2T2URT2URURURT2URT2T2T2URT2T2T2T2T0T0T0T2T0T0T2URT2URT2URURURURV3URV3V3V3URURURV3URURURV3URURV3V3URURSGSUSUSUXFXFXDXDXFXFXDXFXDXFXDXFXFXFXDXFXFXFXDXFXDXFXDXDXFXFXDXFXDXFXDXDXFXFXDXDXFXFXDXFXFXFXDXFXDXFXDXDXFXFXDXDT7T0T7T7T0T0T7T7",a=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad_Juarez","America/Costa_Rica","America/Coyhaique","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rankin_Inlet","America/Recife","America/Regina","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Vaduz","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"];if(r=+r,!(-90<=(n=+n)&&n<=90&&-180<=r&&r<=180))throw new RangeError("invalid coordinates");if(90<=n)return"Etc/GMT";for(var o=-1,l=48*(180+r)/360.00000000000006,u=24*(90-n)/180.00000000000003,f=0|l,p=0|u,h=96*p+2*f,h=56*i.charCodeAt(h)+i.charCodeAt(h+1)-1995;h+a.length<3136;)h=56*i.charCodeAt(h=8*(o=o+h+1)+4*(p=0|(u=2*(u-p)%2))+2*(f=0|(l=2*(l-f)%2))+2304)+i.charCodeAt(h+1)-1995;return a[h+a.length-3136]}t.exports=e})(Lx)),Lx.exports}var Rse=Ise();const Xse=Co(Rse);function Pse(t,e,n){if(t===0&&e===0)return 0;let r;try{r=Xse(t,e)}catch{return 0}if(!r)return 0;const i=new Date(n);try{const l=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"longOffset"}).formatToParts(i).find(u=>u.type==="timeZoneName");if(l){const u=l.value.match(/GMT([+-])(\d{2}):(\d{2})/);if(u){const f=u[1]==="+"?1:-1,p=parseInt(u[2],10),h=parseInt(u[3],10);return f*(p+h/60)}if(l.value==="GMT")return 0}}catch(a){console.warn(`Failed to get timezone offset for ${r}:`,a)}return 0}const Mse={visual:{name:"Visual",abbrev:"V"},thermal:{name:"Thermal",abbrev:"T"},wide:{name:"Wide",abbrev:"W"},screen:{name:"Screen",abbrev:"S"},zoom:{name:"Zoom",abbrev:"Z"},panorama:{name:"Panorama",abbrev:"P"},unknown:{name:"Unknown",abbrev:"?"}};function v5(t,e){const n=t.timeStartEpochUs/1e3,r=t.timeEndEpochUs/1e3;let i=0,a=0,o=0,l=0;e?.bounds&&(i=e.bounds.south,a=e.bounds.north,o=e.bounds.west,l=e.bounds.east);const u=(i+a)/2,f=(o+l)/2,p=Pse(u,f,n),h=Mse[t.sourceType];return{channelId:t.id,recordId:t.recordId,sourceType:t.sourceType,latMin:i,latMax:a,longMin:o,longMax:l,startEpochTimeMillis:n,endEpochTimeMillis:r,timeZoneOffsetHours:p,nFrames:t.getFrameCount(),name:h.name,nameAbbreviated:h.abbrev,channelType:t.getType(),hasValidTime:t.hasValidTime}}const Va=ft([]),Nse=ft(null,(t,e,n)=>{const r=crypto.randomUUID(),i={id:r,label:n};return e(Va,[...t(Va),i]),r});ft(null,(t,e,{id:n,current:r,total:i})=>{e(Va,t(Va).map(a=>a.id===n?{...a,progress:{current:r,total:i}}:a))});const wu=ft(null,(t,e,{id:n,label:r,current:i,total:a})=>{e(Va,t(Va).map(o=>o.id!==n?o:{...o,label:r??o.label,progress:i!==void 0&&a!==void 0?{current:i,total:a}:o.progress}))}),Ose=ft(null,(t,e,n)=>{e(Va,t(Va).filter(r=>r.id!==n))});ft(t=>t(Va).length>0);const tT=ft([]),nT=ft({records:new Map,channels:new Map,errors:[],grouper:new mR}),mX=ft(null,(t,e)=>{e(tT,[]),e(nT,{records:new Map,channels:new Map,errors:[],grouper:new mR}),e(Iu,[])}),x2=ft(null,async(t,e,n)=>{const r=e(Nse,"Loading files...");try{const i=t(Ml),a=t(tT),o=t(nT),l=dX(n),u=S2(n);if(l.length>0){`${l.length}`;for(const I of l)try{const O=await(await I.getFile()).text(),V=await hX(O,I.path);if(V.length>0){const N=I.path.split("/").pop()||I.path;await e(Rw,{features:V,sourceFile:N})}}catch(P){console.warn(`Failed to parse geo file ${I.path}:`,P)}}const f=new Set(a.map(I=>I.hash)),p=u.filter(I=>!f.has(I.hash)),h=await mse(a,p,o,(I,P)=>{e(wu,{id:r,label:"Processing files...",current:I,total:P})}),m=[...a,...p];e(tT,m),e(nT,h);const{records:g,channels:_,errors:v}=h;for(const I of v)e(gz,I);const S=t(Ec);for(const I of S)e(So(I),null);e(Ec,Array.from(g.keys())),e(Xi,Array.from(_.keys()));for(const[I,P]of g.entries())e(So(I),P);for(const[I,P]of _.entries())e(gn(I),P);g.size,_.size;const b=Array.from(_.entries()),Y=b.length;let E=0;for(let I=0;I<b.length;I++){const[P,O]=b[I];if(e(wu,{id:r,label:"Extracting GPS...",current:I+1,total:Y}),O instanceof yY||O instanceof n9||O instanceof vY)try{const V=await g5(O,i);V&&V.positions.length>0&&(e(bo(P),V),E++,`${V.positions.length}${P}`)}catch(V){console.warn(`Failed to extract positions for channel ${P}:`,V)}}`${E}${_.size}`,e(wu,{id:r,label:"Building summaries...",current:0,total:Y});const M=[];for(let I=0;I<b.length;I++){const[P,O]=b[I];e(wu,{id:r,current:I+1,total:Y});const V=t(bo(P)),N=v5(O,V);e(m_(P),N),M.push(P)}const U=t(Iu),W=[...U,...M.filter(I=>!U.includes(I))];e(Iu,W),`${M.length}`;const w=h.grouper.getExtractedAnnotations();if(w.length>0){`${w.length}`,e(wu,{id:r,label:"Importing bookmarks...",current:0,total:w.length});const I=t(c2),P=new Set(I.map(F=>F.id)),O=new Map;for(const[F,R]of _.entries())for(const K of R.fileHashes)O.set(K,F);const V=[];let N=0;for(let F=0;F<w.length;F++){const R=w[F];if(e(wu,{id:r,current:F+1,total:w.length}),P.has(R.metadata.bookmark.id)){`${R.metadata.bookmark.name}`;continue}const K=O.get(R.metadata.source.fileId);if(K)try{let Z=R.metadata.bookmark.timestampChannelUs;if(R.metadata.bookmark.timestampEpochUs!==void 0){const G=t(gn(K));G&&(Z=R.metadata.bookmark.timestampEpochUs-G.timeStartEpochUs)}await e(UY,{channelId:K,fileId:R.metadata.source.fileId,timestampChannelUs:Z,bbox:R.metadata.bookmark.bbox,name:R.metadata.bookmark.name,description:R.metadata.bookmark.description||""}),N++,`${R.metadata.bookmark.name}${K}`}catch(Z){console.warn(`Failed to import bookmark ${R.metadata.bookmark.name}:`,Z)}else{const Z=m.find(G=>G.path===R.annotationFilePath);Z?V.push({annotation:R,fileHandle:Z}):console.warn(`Could not find file handle for annotation: ${R.metadata.bookmark.name}`)}}if(V.length>0){`${V.length}`;for(const{annotation:F,fileHandle:R}of V)try{const K=F.metadata.bookmark.timestampEpochUs??F.metadata.bookmark.createdAt*1e3,Z=Dse(t,e,g,K,F.metadata.bookmark.name),G=Lu("CH"),q=new yY(G,Z,[R.hash],[K],K,K,1,"unknown");_.set(G,q),e(gn(G),q);const Q=t(Xi);e(Xi,[...Q,G]);const ue=t(So(Z));ue&&e(So(Z),{...ue,channelIds:[...ue.channelIds,G]}),O.set(R.hash,G);try{const J=await g5(q,i);J&&J.positions.length>0&&e(bo(G),J)}catch(J){console.warn(`Failed to extract positions for standalone channel ${G}:`,J)}const j=t(bo(G)),te=v5(q,j);e(m_(G),te);const fe=t(Iu);e(Iu,[...fe,G]),await e(UY,{channelId:G,fileId:R.hash,timestampChannelUs:0,bbox:F.metadata.bookmark.bbox,name:F.metadata.bookmark.name,description:F.metadata.bookmark.description||""}),N++,`${G}${F.metadata.bookmark.name}`}catch(K){console.warn(`Failed to create standalone channel for ${F.metadata.bookmark.name}:`,K)}}`${N}${w.length}`}e(Tz)}finally{e(Ose,r)}});function Dse(t,e,n,r,i){for(const[u,f]of n.entries())for(const p of f.channelIds){const h=t(gn(p));if(h&&r>=h.timeStartEpochUs-6e7&&r<=h.timeEndEpochUs+6e7)return u}const a=Lu("RC"),o={id:a,channelIds:[],name:`Orphan: ${i}`,description:"Created for unmatched annotation file"};n.set(a,o),e(So(a),o);const l=t(Ec);return e(Ec,[...l,a]),a}function _5(t){const e=Bse(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,l=B.Children.toArray(a),u=l.find(Fse);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Bse(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=Zse(i),l=Lse(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vse=Symbol("radix.slottable");function Fse(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vse}function Lse(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Zse(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xw(t){const e=t+"CollectionProvider",[n,r]=Fa(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:S,children:b}=v,Y=gt.useRef(null),E=gt.useRef(new Map).current;return A.jsx(i,{scope:S,itemMap:E,collectionRef:Y,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=_5(l),f=gt.forwardRef((v,S)=>{const{scope:b,children:Y}=v,E=a(l,b),M=er(S,E.collectionRef);return A.jsx(u,{ref:M,children:Y})});f.displayName=l;const p=t+"CollectionItemSlot",h="data-radix-collection-item",m=_5(p),g=gt.forwardRef((v,S)=>{const{scope:b,children:Y,...E}=v,M=gt.useRef(null),U=er(S,M),W=a(p,b);return gt.useEffect(()=>(W.itemMap.set(M,{ref:M,...E}),()=>void W.itemMap.delete(M))),A.jsx(m,{[h]:"",ref:U,children:Y})});g.displayName=p;function _(v){const S=a(t+"CollectionConsumer",v);return gt.useCallback(()=>{const Y=S.collectionRef.current;if(!Y)return[];const E=Array.from(Y.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((W,w)=>E.indexOf(W.ref.current)-E.indexOf(w.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:f,ItemSlot:g},_,r]}var zse=B.createContext(void 0);function Pw(t){const e=B.useContext(zse);return t||e||"ltr"}var Zx="rovingFocusGroup.onEntryFocus",$se={bubbles:!1,cancelable:!0},W1="RovingFocusGroup",[rT,gX,jse]=Xw(W1),[Kse,yX]=Fa(W1,[jse]),[Hse,Gse]=Kse(W1),vX=B.forwardRef((t,e)=>A.jsx(rT.Provider,{scope:t.__scopeRovingFocusGroup,children:A.jsx(rT.Slot,{scope:t.__scopeRovingFocusGroup,children:A.jsx(qse,{...t,ref:e})})}));vX.displayName=W1;var qse=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=t,m=B.useRef(null),g=er(e,m),_=Pw(a),[v,S]=Tc({prop:o,defaultProp:l??null,onChange:u,caller:W1}),[b,Y]=B.useState(!1),E=ha(f),M=gX(n),U=B.useRef(!1),[W,w]=B.useState(0);return B.useEffect(()=>{const I=m.current;if(I)return I.addEventListener(Zx,E),()=>I.removeEventListener(Zx,E)},[E]),A.jsx(Hse,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:v,onItemFocus:B.useCallback(I=>S(I),[S]),onItemShiftTab:B.useCallback(()=>Y(!0),[]),onFocusableItemAdd:B.useCallback(()=>w(I=>I+1),[]),onFocusableItemRemove:B.useCallback(()=>w(I=>I-1),[]),children:A.jsx(xn.div,{tabIndex:b||W===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Nt(t.onMouseDown,()=>{U.current=!0}),onFocus:Nt(t.onFocus,I=>{const P=!U.current;if(I.target===I.currentTarget&&P&&!b){const O=new CustomEvent(Zx,$se);if(I.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=M().filter(Z=>Z.focusable),N=V.find(Z=>Z.active),F=V.find(Z=>Z.id===v),K=[N,F,...V].filter(Boolean).map(Z=>Z.ref.current);bX(K,p)}}U.current=!1}),onBlur:Nt(t.onBlur,()=>Y(!1))})})}),_X="RovingFocusGroupItem",SX=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,u=Ia(),f=a||u,p=Gse(_X,n),h=p.currentTabStopId===f,m=gX(n),{onFocusableItemAdd:g,onFocusableItemRemove:_,currentTabStopId:v}=p;return B.useEffect(()=>{if(r)return g(),()=>_()},[r,g,_]),A.jsx(rT.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:A.jsx(xn.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:Nt(t.onMouseDown,S=>{r?p.onItemFocus(f):S.preventDefault()}),onFocus:Nt(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:Nt(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const b=eae(S,p.orientation,p.dir);if(b!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=m().filter(M=>M.focusable).map(M=>M.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const M=E.indexOf(S.currentTarget);E=p.loop?tae(E,M+1):E.slice(M+1)}setTimeout(()=>bX(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});SX.displayName=_X;var Qse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jse(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eae(t,e,n){const r=Jse(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qse[r]}function bX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nae=vX,rae=SX;function iae(t){const e=sae(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,l=B.Children.toArray(a),u=l.find(oae);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function sae(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=cae(i),l=lae(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aae=Symbol("radix.slottable");function oae(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aae}function lae(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function cae(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iT=["Enter"," "],uae=["ArrowDown","PageUp","Home"],xX=["ArrowUp","PageDown","End"],fae=[...uae,...xX],dae={ltr:[...iT,"ArrowRight"],rtl:[...iT,"ArrowLeft"]},hae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},E1="Menu",[l1,pae,mae]=Xw(E1),[Nc,Y2]=Fa(E1,[mae,w0,yX]),T2=w0(),YX=yX(),[gae,Oc]=Nc(E1),[yae,U1]=Nc(E1),TX=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=T2(e),[u,f]=B.useState(null),p=B.useRef(!1),h=ha(a),m=Pw(i);return B.useEffect(()=>{const g=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),A.jsx(KT,{...l,children:A.jsx(gae,{scope:e,open:n,onOpenChange:h,content:u,onContentChange:f,children:A.jsx(yae,{scope:e,onClose:B.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:m,modal:o,children:r})})})};TX.displayName=E1;var vae="MenuAnchor",Mw=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=T2(n);return A.jsx(HT,{...i,...r,ref:e})});Mw.displayName=vae;var Nw="MenuPortal",[_ae,wX]=Nc(Nw,{forceMount:void 0}),WX=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Oc(Nw,e);return A.jsx(_ae,{scope:e,forceMount:n,children:A.jsx(ya,{present:n||a.open,children:A.jsx(Y1,{asChild:!0,container:i,children:r})})})};WX.displayName=Nw;var Ks="MenuContent",[Sae,Ow]=Nc(Ks),EX=B.forwardRef((t,e)=>{const n=wX(Ks,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Oc(Ks,t.__scopeMenu),o=U1(Ks,t.__scopeMenu);return A.jsx(l1.Provider,{scope:t.__scopeMenu,children:A.jsx(ya,{present:r||a.open,children:A.jsx(l1.Slot,{scope:t.__scopeMenu,children:o.modal?A.jsx(bae,{...i,ref:e}):A.jsx(xae,{...i,ref:e})})})})}),bae=B.forwardRef((t,e)=>{const n=Oc(Ks,t.__scopeMenu),r=B.useRef(null),i=er(e,r);return B.useEffect(()=>{const a=r.current;if(a)return MT(a)},[]),A.jsx(Dw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Nt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xae=B.forwardRef((t,e)=>{const n=Oc(Ks,t.__scopeMenu);return A.jsx(Dw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Yae=iae("MenuContent.ScrollLock"),Dw=B.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:_,...v}=t,S=Oc(Ks,n),b=U1(Ks,n),Y=T2(n),E=YX(n),M=pae(n),[U,W]=B.useState(null),w=B.useRef(null),I=er(e,w,S.onContentChange),P=B.useRef(0),O=B.useRef(""),V=B.useRef(0),N=B.useRef(null),F=B.useRef("right"),R=B.useRef(0),K=_?$_:B.Fragment,Z=_?{as:Yae,allowPinchZoom:!0}:void 0,G=Q=>{const ue=O.current+Q,j=M().filter(de=>!de.disabled),te=document.activeElement,fe=j.find(de=>de.ref.current===te)?.textValue,J=j.map(de=>de.textValue),re=Pae(J,ue,fe),ae=j.find(de=>de.textValue===re)?.ref.current;(function de(pe){O.current=pe,window.clearTimeout(P.current),pe!==""&&(P.current=window.setTimeout(()=>de(""),1e3))})(ue),ae&&setTimeout(()=>ae.focus())};B.useEffect(()=>()=>window.clearTimeout(P.current),[]),PT();const q=B.useCallback(Q=>F.current===N.current?.side&&Nae(Q,N.current?.area),[]);return A.jsx(Sae,{scope:n,searchRef:O,onItemEnter:B.useCallback(Q=>{q(Q)&&Q.preventDefault()},[q]),onItemLeave:B.useCallback(Q=>{q(Q)||(w.current?.focus(),W(null))},[q]),onTriggerLeave:B.useCallback(Q=>{q(Q)&&Q.preventDefault()},[q]),pointerGraceTimerRef:V,onPointerGraceIntentChange:B.useCallback(Q=>{N.current=Q},[]),children:A.jsx(K,{...Z,children:A.jsx(Z_,{asChild:!0,trapped:i,onMountAutoFocus:Nt(a,Q=>{Q.preventDefault(),w.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:A.jsx(x1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:A.jsx(nae,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:U,onCurrentTabStopIdChange:W,onEntryFocus:Nt(u,Q=>{b.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(GT,{role:"menu","aria-orientation":"vertical","data-state":LX(S.open),"data-radix-menu-content":"",dir:b.dir,...Y,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:Nt(v.onKeyDown,Q=>{const j=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,te=Q.ctrlKey||Q.altKey||Q.metaKey,fe=Q.key.length===1;j&&(Q.key==="Tab"&&Q.preventDefault(),!te&&fe&&G(Q.key));const J=w.current;if(Q.target!==J||!fae.includes(Q.key))return;Q.preventDefault();const ae=M().filter(de=>!de.disabled).map(de=>de.ref.current);xX.includes(Q.key)&&ae.reverse(),Rae(ae)}),onBlur:Nt(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:Nt(t.onPointerMove,c1(Q=>{const ue=Q.target,j=R.current!==Q.clientX;if(Q.currentTarget.contains(ue)&&j){const te=Q.clientX>R.current?"right":"left";F.current=te,R.current=Q.clientX}}))})})})})})})});EX.displayName=Ks;var Tae="MenuGroup",Bw=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return A.jsx(xn.div,{role:"group",...r,ref:e})});Bw.displayName=Tae;var wae="MenuLabel",UX=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return A.jsx(xn.div,{...r,ref:e})});UX.displayName=wae;var W_="MenuItem",S5="menu.itemSelect",w2=B.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=B.useRef(null),o=U1(W_,t.__scopeMenu),l=Ow(W_,t.__scopeMenu),u=er(e,a),f=B.useRef(!1),p=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(S5,{bubbles:!0,cancelable:!0});h.addEventListener(S5,g=>r?.(g),{once:!0}),ZA(h,m),m.defaultPrevented?f.current=!1:o.onClose()}};return A.jsx(CX,{...i,ref:u,disabled:n,onClick:Nt(t.onClick,p),onPointerDown:h=>{t.onPointerDown?.(h),f.current=!0},onPointerUp:Nt(t.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Nt(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||iT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});w2.displayName=W_;var CX=B.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=Ow(W_,n),l=YX(n),u=B.useRef(null),f=er(e,u),[p,h]=B.useState(!1),[m,g]=B.useState("");return B.useEffect(()=>{const _=u.current;_&&g((_.textContent??"").trim())},[a.children]),A.jsx(l1.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:A.jsx(rae,{asChild:!0,...l,focusable:!r,children:A.jsx(xn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:Nt(t.onPointerMove,c1(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Nt(t.onPointerLeave,c1(_=>o.onItemLeave(_))),onFocus:Nt(t.onFocus,()=>h(!0)),onBlur:Nt(t.onBlur,()=>h(!1))})})})}),Wae="MenuCheckboxItem",AX=B.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return A.jsx(PX,{scope:t.__scopeMenu,checked:n,children:A.jsx(w2,{role:"menuitemcheckbox","aria-checked":E_(n)?"mixed":n,...i,ref:e,"data-state":Fw(n),onSelect:Nt(i.onSelect,()=>r?.(E_(n)?!0:!n),{checkForDefaultPrevented:!1})})})});AX.displayName=Wae;var kX="MenuRadioGroup",[Eae,Uae]=Nc(kX,{value:void 0,onValueChange:()=>{}}),IX=B.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=ha(r);return A.jsx(Eae,{scope:t.__scopeMenu,value:n,onValueChange:a,children:A.jsx(Bw,{...i,ref:e})})});IX.displayName=kX;var RX="MenuRadioItem",XX=B.forwardRef((t,e)=>{const{value:n,...r}=t,i=Uae(RX,t.__scopeMenu),a=n===i.value;return A.jsx(PX,{scope:t.__scopeMenu,checked:a,children:A.jsx(w2,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Fw(a),onSelect:Nt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});XX.displayName=RX;var Vw="MenuItemIndicator",[PX,Cae]=Nc(Vw,{checked:!1}),MX=B.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=Cae(Vw,n);return A.jsx(ya,{present:r||E_(a.checked)||a.checked===!0,children:A.jsx(xn.span,{...i,ref:e,"data-state":Fw(a.checked)})})});MX.displayName=Vw;var Aae="MenuSeparator",NX=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return A.jsx(xn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});NX.displayName=Aae;var kae="MenuArrow",OX=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=T2(n);return A.jsx(qT,{...i,...r,ref:e})});OX.displayName=kae;var Iae="MenuSub",[Kfe,DX]=Nc(Iae),Og="MenuSubTrigger",BX=B.forwardRef((t,e)=>{const n=Oc(Og,t.__scopeMenu),r=U1(Og,t.__scopeMenu),i=DX(Og,t.__scopeMenu),a=Ow(Og,t.__scopeMenu),o=B.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=a,f={__scopeMenu:t.__scopeMenu},p=B.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return B.useEffect(()=>p,[p]),B.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),u(null)}},[l,u]),A.jsx(Mw,{asChild:!0,...f,children:A.jsx(CX,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":LX(n.open),...t,ref:Ao(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Nt(t.onPointerMove,c1(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Nt(t.onPointerLeave,c1(h=>{p();const m=n.content?.getBoundingClientRect();if(m){const g=n.content?.dataset.side,_=g==="right",v=_?-5:5,S=m[_?"left":"right"],b=m[_?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:S,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:S,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Nt(t.onKeyDown,h=>{const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||dae[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});BX.displayName=Og;var VX="MenuSubContent",FX=B.forwardRef((t,e)=>{const n=wX(Ks,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Oc(Ks,t.__scopeMenu),o=U1(Ks,t.__scopeMenu),l=DX(VX,t.__scopeMenu),u=B.useRef(null),f=er(e,u);return A.jsx(l1.Provider,{scope:t.__scopeMenu,children:A.jsx(ya,{present:r||a.open,children:A.jsx(l1.Slot,{scope:t.__scopeMenu,children:A.jsx(Dw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{o.isUsingKeyboardRef.current&&u.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Nt(t.onFocusOutside,p=>{p.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Nt(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:Nt(t.onKeyDown,p=>{const h=p.currentTarget.contains(p.target),m=hae[o.dir].includes(p.key);h&&m&&(a.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});FX.displayName=VX;function LX(t){return t?"open":"closed"}function E_(t){return t==="indeterminate"}function Fw(t){return E_(t)?"indeterminate":t?"checked":"unchecked"}function Rae(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Xae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Pae(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Xae(t,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==n));const u=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Mae(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],u=e[o],f=l.x,p=l.y,h=u.x,m=u.y;p>r!=m>r&&n<(h-f)*(r-p)/(m-p)+f&&(i=!i)}return i}function Nae(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Mae(n,e)}function c1(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZX=TX,zX=Mw,$X=WX,jX=EX,KX=Bw,HX=UX,GX=w2,qX=AX,QX=IX,JX=XX,eP=MX,tP=NX,nP=OX,rP=BX,iP=FX,Lw="ContextMenu",[Oae]=Fa(Lw,[Y2]),zi=Y2(),[Dae,sP]=Oae(Lw),aP=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:i,modal:a=!0}=t,[o,l]=B.useState(!1),u=zi(e),f=ha(r),p=B.useCallback(h=>{l(h),f(h)},[f]);return A.jsx(Dae,{scope:e,open:o,onOpenChange:p,modal:a,children:A.jsx(ZX,{...u,dir:i,open:o,onOpenChange:p,modal:a,children:n})})};aP.displayName=Lw;var oP="ContextMenuTrigger",lP=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,a=sP(oP,n),o=zi(n),l=B.useRef({x:0,y:0}),u=B.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),f=B.useRef(0),p=B.useCallback(()=>window.clearTimeout(f.current),[]),h=m=>{l.current={x:m.clientX,y:m.clientY},a.onOpenChange(!0)};return B.useEffect(()=>p,[p]),B.useEffect(()=>void(r&&p()),[r,p]),A.jsxs(A.Fragment,{children:[A.jsx(zX,{...o,virtualRef:u}),A.jsx(xn.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Nt(t.onContextMenu,m=>{p(),h(m),m.preventDefault()}),onPointerDown:r?t.onPointerDown:Nt(t.onPointerDown,cv(m=>{p(),f.current=window.setTimeout(()=>h(m),700)})),onPointerMove:r?t.onPointerMove:Nt(t.onPointerMove,cv(p)),onPointerCancel:r?t.onPointerCancel:Nt(t.onPointerCancel,cv(p)),onPointerUp:r?t.onPointerUp:Nt(t.onPointerUp,cv(p))})]})});lP.displayName=oP;var Bae="ContextMenuPortal",cP=t=>{const{__scopeContextMenu:e,...n}=t,r=zi(e);return A.jsx($X,{...r,...n})};cP.displayName=Bae;var uP="ContextMenuContent",fP=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=sP(uP,n),a=zi(n),o=B.useRef(!1);return A.jsx(jX,{...a,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),!l.defaultPrevented&&o.current&&l.preventDefault(),o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),!l.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fP.displayName=uP;var Vae="ContextMenuGroup",Fae=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(KX,{...i,...r,ref:e})});Fae.displayName=Vae;var Lae="ContextMenuLabel",dP=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(HX,{...i,...r,ref:e})});dP.displayName=Lae;var Zae="ContextMenuItem",hP=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(GX,{...i,...r,ref:e})});hP.displayName=Zae;var zae="ContextMenuCheckboxItem",$ae=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(qX,{...i,...r,ref:e})});$ae.displayName=zae;var jae="ContextMenuRadioGroup",Kae=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(QX,{...i,...r,ref:e})});Kae.displayName=jae;var Hae="ContextMenuRadioItem",Gae=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(JX,{...i,...r,ref:e})});Gae.displayName=Hae;var qae="ContextMenuItemIndicator",Qae=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(eP,{...i,...r,ref:e})});Qae.displayName=qae;var Jae="ContextMenuSeparator",pP=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(tP,{...i,...r,ref:e})});pP.displayName=Jae;var eoe="ContextMenuArrow",toe=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(nP,{...i,...r,ref:e})});toe.displayName=eoe;var noe="ContextMenuSubTrigger",roe=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(rP,{...i,...r,ref:e})});roe.displayName=noe;var ioe="ContextMenuSubContent",soe=B.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zi(n);return A.jsx(iP,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});soe.displayName=ioe;function cv(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var aoe=aP,ooe=lP,loe=cP,coe=fP,uoe=dP,foe=hP,doe=pP;function Zw(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(aoe,{"data-slot":"context-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function zw(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(ooe,{"data-slot":"context-menu-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function $w(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-[var(--radix-context-menu-content-available-height)] min-w-[8rem] origin-[var(--radix-context-menu-content-transform-origin)] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(loe,{children:A.jsx(coe,{"data-slot":"context-menu-content",className:i,...r})}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Aa(t){const e=_t.c(12);let n,r,i,a;e[0]!==t?({className:n,inset:r,variant:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"default":a;let l;e[5]!==n?(l=jt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=l):l=e[6];let u;return e[7]!==r||e[8]!==i||e[9]!==l||e[10]!==o?(u=A.jsx(foe,{"data-slot":"context-menu-item","data-inset":r,"data-variant":o,className:l,...i}),e[7]=r,e[8]=i,e[9]=l,e[10]=o,e[11]=u):u=e[11],u}function mP(t){const e=_t.c(10);let n,r,i;e[0]!==t?({className:n,inset:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=jt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==a?(o=A.jsx(uoe,{"data-slot":"context-menu-label","data-inset":r,className:a,...i}),e[6]=r,e[7]=i,e[8]=a,e[9]=o):o=e[9],o}function Zu(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(doe,{"data-slot":"context-menu-separator",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function hoe(t){if(t.length===0)return"No files";if(t.length===1)return t[0].name;const e=t[0].name,n=t[t.length-1].name,r=e.replace(/\.[^.]+$/,""),i=n.replace(/\.[^.]+$/,""),a=poe(r,i);if(a.length>3){const o=r.slice(a.length),l=i.slice(a.length);if(o&&l)return`${a}${o}...${l} (${t.length})`}return`${e}...(${t.length})`}function poe(t,e){let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(0,n)}function moe(t){return t.path||null}function goe({channelId:t,children:e}){const n=Jt(gn(t)),r=Jt(Ml),i=Jt(N6(t)),a=bn(x2),o=bn(mX),[l,u]=B.useState([]),[f,p]=B.useState(!1),h=async S=>{if(S&&n&&l.length===0&&!f){p(!0);try{const b=await r.getFiles(n.fileHashes),Y=Array.from(b.values()).sort((E,M)=>E.name.localeCompare(M.name));u(Y)}catch(b){console.error("Failed to load files for channel:",b)}finally{p(!1)}}};if(B.useEffect(()=>{u([])},[t]),!n)return A.jsx(A.Fragment,{children:e});const m=f?"Loading...":hoe(l),g=l.length>0?moe(l[0]):null,_=()=>{if(l.length!==0)if(l.length>1){const S=l.map(b=>b.path||b.name).join(";");navigator.clipboard.writeText(S)}else navigator.clipboard.writeText(l[0].path||l[0].name)},v=async()=>{if(!n)return;const S=[...n.fileHashes];n.metadataFileHashes&&S.push(...n.metadataFileHashes.values());for(const b of S)await r.removeFile(b);o(),kw(r,a,!1)};return A.jsxs(Zw,{onOpenChange:h,children:[A.jsx(zw,{children:e}),A.jsxs($w,{className:"w-64",children:[A.jsxs(mP,{children:["Channel: ",n.sourceType]}),A.jsx(Zu,{}),A.jsxs(Aa,{disabled:!0,className:"flex items-start gap-2 opacity-100",children:[A.jsx(CA,{className:"w-4 h-4 mt-0.5 shrink-0"}),A.jsx("span",{className:"break-all text-xs",children:m})]}),g&&A.jsxs(Aa,{disabled:!0,className:"flex items-start gap-2 opacity-70",children:[A.jsx("span",{className:"w-4"}),A.jsx("span",{className:"break-all text-xs text-muted-foreground",children:g})]}),!i&&A.jsxs(A.Fragment,{children:[A.jsx(Zu,{}),A.jsxs(Aa,{disabled:!0,className:"flex items-center gap-2 text-destructive opacity-100",children:[A.jsx(AA,{className:"w-4 h-4"}),A.jsx("span",{children:"No location data"})]})]}),A.jsx(Zu,{}),A.jsxs(Aa,{onClick:_,children:[A.jsx(G7,{className:"w-4 h-4"}),A.jsx("span",{children:"Copy path"})]}),A.jsxs(Aa,{onClick:v,className:"text-destructive focus:text-destructive",children:[A.jsx(t0,{className:"w-4 h-4"}),A.jsx("span",{children:"Remove channel"})]})]})]})}function u1(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(vk,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function yoe(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(_k,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function voe(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Sk,{"data-slot":"dialog-overlay",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function f1(t){const e=_t.c(19);let n,r,i,a,o;e[0]!==t?({className:r,children:n,showCloseButton:o,container:i,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const l=o===void 0?!0:o;let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsx(voe,{}),e[6]=u):u=e[6];let f;e[7]!==r?(f=jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[7]=r,e[8]=f):f=e[8];let p;e[9]!==l?(p=l&&A.jsxs(Tk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[A.jsx(b1,{}),A.jsx("span",{className:"sr-only",children:"Close"})]}),e[9]=l,e[10]=p):p=e[10];let h;e[11]!==n||e[12]!==a||e[13]!==f||e[14]!==p?(h=A.jsxs(bk,{"data-slot":"dialog-content",className:f,...a,children:[n,p]}),e[11]=n,e[12]=a,e[13]=f,e[14]=p,e[15]=h):h=e[15];let m;return e[16]!==i||e[17]!==h?(m=A.jsxs(yoe,{"data-slot":"dialog-portal",container:i,children:[u,h]}),e[16]=i,e[17]=h,e[18]=m):m=e[18],m}function d1(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"dialog-header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function U_(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("div",{"data-slot":"dialog-footer",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function h1(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-lg leading-none font-semibold",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(xk,{"data-slot":"dialog-title",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function p1(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-muted-foreground text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Yk,{"data-slot":"dialog-description",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function gP(t){const e=_t.c(67),{editMode:n,onUpdate:r,onDelete:i,onCancel:a,container:o}=t,l=Jt(js),u=bn(Fz),f=bn(Ru),[p,h]=B.useState(""),[m,g]=B.useState(""),_=l.mode==="dialog"&&l.pendingBbox!==null,v=n!==void 0,S=_||v;let b,Y;e[0]!==n?(b=()=>{n?(h(n.name),g(n.description)):(h(""),g(""))},Y=[n],e[0]=n,e[1]=b,e[2]=Y):(b=e[1],Y=e[2]),B.useEffect(b,Y);let E;e[3]!==u||e[4]!==m||e[5]!==n||e[6]!==v||e[7]!==p||e[8]!==r?(E=async Ue=>{Ue.preventDefault();const be=p.trim();be&&(v&&r&&n?r(n.id,be,m.trim()):await u(be,m.trim()),h(""),g(""))},e[3]=u,e[4]=m,e[5]=n,e[6]=v,e[7]=p,e[8]=r,e[9]=E):E=e[9];const M=E;let U;e[10]!==f||e[11]!==v||e[12]!==a?(U=()=>{v&&a?a():f(),h(""),g("")},e[10]=f,e[11]=v,e[12]=a,e[13]=U):U=e[13];const W=U;let w;e[14]!==n||e[15]!==v||e[16]!==i?(w=()=>{v&&i&&n&&i(n.id),h(""),g("")},e[14]=n,e[15]=v,e[16]=i,e[17]=w):w=e[17];const I=w;let P;e[18]!==W?(P=Ue=>{Ue||W()},e[18]=W,e[19]=P):P=e[19];const O=P;let V;e[20]!==M?(V=Ue=>{Ue.key==="Enter"&&!Ue.shiftKey&&(Ue.preventDefault(),M(Ue))},e[20]=M,e[21]=V):V=e[21];const N=V,F=v?"Edit Bookmark":"New Bookmark";let R;e[22]!==F?(R=A.jsx(h1,{children:F}),e[22]=F,e[23]=R):R=e[23];const K=v?"Update the name and description for this bookmark.":"Give this bookmark a name and optional description.";let Z;e[24]!==K?(Z=A.jsx(p1,{children:K}),e[24]=K,e[25]=Z):Z=e[25];let G;e[26]!==Z||e[27]!==R?(G=A.jsxs(d1,{children:[R,Z]}),e[26]=Z,e[27]=R,e[28]=G):G=e[28];let q;e[29]===Symbol.for("react.memo_cache_sentinel")?(q=A.jsxs("label",{htmlFor:"bookmark-name",className:"text-sm font-medium",children:["Name ",A.jsx("span",{className:"text-destructive",children:"*"})]}),e[29]=q):q=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=Ue=>h(Ue.target.value),e[30]=Q):Q=e[30];let ue;e[31]!==N||e[32]!==p?(ue=A.jsxs("div",{className:"space-y-2",children:[q,A.jsx(LA,{id:"bookmark-name",placeholder:"e.g., Person, Vehicle, Building",value:p,onChange:Q,onKeyDown:N,autoFocus:!0})]}),e[31]=N,e[32]=p,e[33]=ue):ue=e[33];let j;e[34]===Symbol.for("react.memo_cache_sentinel")?(j=A.jsx("label",{htmlFor:"bookmark-description",className:"text-sm font-medium",children:"Description"}),e[34]=j):j=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te=Ue=>g(Ue.target.value),e[35]=te):te=e[35];let fe;e[36]===Symbol.for("react.memo_cache_sentinel")?(fe=jt("placeholder:text-muted-foreground border-input w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none resize-none","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","dark:bg-input/30"),e[36]=fe):fe=e[36];let J;e[37]!==m?(J=A.jsxs("div",{className:"space-y-2",children:[j,A.jsx("textarea",{id:"bookmark-description",placeholder:"Optional notes about this bookmark...",value:m,onChange:te,rows:3,className:fe})]}),e[37]=m,e[38]=J):J=e[38];let re;e[39]!==I||e[40]!==v||e[41]!==i?(re=v&&i&&A.jsx(wi,{type:"button",variant:"destructive",onClick:I,className:"mr-auto",children:"Delete"}),e[39]=I,e[40]=v,e[41]=i,e[42]=re):re=e[42];let ae;e[43]!==W?(ae=A.jsx(wi,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),e[43]=W,e[44]=ae):ae=e[44];let de;e[45]!==p?(de=p.trim(),e[45]=p,e[46]=de):de=e[46];const pe=!de,ve=v?"Update":"Create";let $e;e[47]!==pe||e[48]!==ve?($e=A.jsx(wi,{type:"submit",disabled:pe,children:ve}),e[47]=pe,e[48]=ve,e[49]=$e):$e=e[49];let Pe;e[50]!==re||e[51]!==ae||e[52]!==$e?(Pe=A.jsxs(U_,{className:"gap-2 sm:gap-0",children:[re,ae,$e]}),e[50]=re,e[51]=ae,e[52]=$e,e[53]=Pe):Pe=e[53];let Ye;e[54]!==M||e[55]!==ue||e[56]!==J||e[57]!==Pe?(Ye=A.jsxs("form",{onSubmit:M,className:"space-y-4",children:[ue,J,Pe]}),e[54]=M,e[55]=ue,e[56]=J,e[57]=Pe,e[58]=Ye):Ye=e[58];let Oe;e[59]!==o||e[60]!==G||e[61]!==Ye?(Oe=A.jsxs(f1,{className:"sm:max-w-md",container:o,children:[G,Ye]}),e[59]=o,e[60]=G,e[61]=Ye,e[62]=Oe):Oe=e[62];let L;return e[63]!==O||e[64]!==S||e[65]!==Oe?(L=A.jsx(u1,{open:S,onOpenChange:O,children:Oe}),e[63]=O,e[64]=S,e[65]=Oe,e[66]=L):L=e[66],L}var zx={exports:{}};var b5;function _oe(){return b5||(b5=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function o(f,p){if(!i[f]){if(!r[f]){var h=typeof Rg=="function"&&Rg;if(!p&&h)return h(f,!0);if(l)return l(f,!0);var m=new Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m}var g=i[f]={exports:{}};r[f][0].call(g.exports,function(_){var v=r[f][1][_];return o(v||_)},g,g.exports,n,r,i,a)}return i[f].exports}for(var l=typeof Rg=="function"&&Rg,u=0;u<a.length;u++)o(a[u]);return o})({1:[function(n,r,i){var a=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,p,h,m,g,_,v,S=[],b=0,Y=u.length,E=Y,M=a.getTypeOf(u)!=="string";b<u.length;)E=Y-b,h=M?(f=u[b++],p=b<Y?u[b++]:0,b<Y?u[b++]:0):(f=u.charCodeAt(b++),p=b<Y?u.charCodeAt(b++):0,b<Y?u.charCodeAt(b++):0),m=f>>2,g=(3&f)<<4|p>>4,_=1<E?(15&p)<<2|h>>6:64,v=2<E?63&h:64,S.push(l.charAt(m)+l.charAt(g)+l.charAt(_)+l.charAt(v));return S.join("")},i.decode=function(u){var f,p,h,m,g,_,v=0,S=0,b="data:";if(u.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var Y,E=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&E--,u.charAt(u.length-2)===l.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Y=o.uint8array?new Uint8Array(0|E):new Array(0|E);v<u.length;)f=l.indexOf(u.charAt(v++))<<2|(m=l.indexOf(u.charAt(v++)))>>4,p=(15&m)<<4|(g=l.indexOf(u.charAt(v++)))>>2,h=(3&g)<<6|(_=l.indexOf(u.charAt(v++))),Y[S++]=f,g!==64&&(Y[S++]=p),_!==64&&(Y[S++]=h);return Y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(p,h,m,g,_){this.compressedSize=p,this.uncompressedSize=h,this.crc32=m,this.compression=g,this.compressedContent=_}f.prototype={getContentWorker:function(){var p=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,h,m){return p.pipe(new l).pipe(new u("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),o=(function(){for(var l,u=[],f=0;f<256;f++){l=f;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[f]=l}return u})();r.exports=function(l,u){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?(function(f,p,h,m){var g=o,_=m+h;f^=-1;for(var v=m;v<_;v++)f=f>>>8^g[255&(f^p[v])];return-1^f})(0|u,l,l.length,0):(function(f,p,h,m){var g=o,_=m+h;f^=-1;for(var v=m;v<_;v++)f=f>>>8^g[255&(f^p.charCodeAt(v))];return-1^f})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),u=n("./stream/GenericWorker"),f=a?"uint8array":"array";function p(h,m){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}i.magic="\b\0",l.inherits(p,u),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,h.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},i.compressWorker=function(h){return new p("Deflate",h)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(g,_){var v,S="";for(v=0;v<_;v++)S+=String.fromCharCode(255&g),g>>>=8;return S}function o(g,_,v,S,b,Y){var E,M,U=g.file,W=g.compression,w=Y!==f.utf8encode,I=l.transformTo("string",Y(U.name)),P=l.transformTo("string",f.utf8encode(U.name)),O=U.comment,V=l.transformTo("string",Y(O)),N=l.transformTo("string",f.utf8encode(O)),F=P.length!==U.name.length,R=N.length!==O.length,K="",Z="",G="",q=U.dir,Q=U.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};_&&!v||(ue.crc32=g.crc32,ue.compressedSize=g.compressedSize,ue.uncompressedSize=g.uncompressedSize);var j=0;_&&(j|=8),w||!F&&!R||(j|=2048);var te=0,fe=0;q&&(te|=16),b==="UNIX"?(fe=798,te|=(function(re,ae){var de=re;return re||(de=ae?16893:33204),(65535&de)<<16})(U.unixPermissions,q)):(fe=20,te|=(function(re){return 63&(re||0)})(U.dosPermissions)),E=Q.getUTCHours(),E<<=6,E|=Q.getUTCMinutes(),E<<=5,E|=Q.getUTCSeconds()/2,M=Q.getUTCFullYear()-1980,M<<=4,M|=Q.getUTCMonth()+1,M<<=5,M|=Q.getUTCDate(),F&&(Z=a(1,1)+a(p(I),4)+P,K+="up"+a(Z.length,2)+Z),R&&(G=a(1,1)+a(p(V),4)+N,K+="uc"+a(G.length,2)+G);var J="";return J+=`
\0`,J+=a(j,2),J+=W.magic,J+=a(E,2),J+=a(M,2),J+=a(ue.crc32,4),J+=a(ue.compressedSize,4),J+=a(ue.uncompressedSize,4),J+=a(I.length,2),J+=a(K.length,2),{fileRecord:h.LOCAL_FILE_HEADER+J+I+K,dirRecord:h.CENTRAL_FILE_HEADER+a(fe,2)+J+a(V.length,2)+"\0\0\0\0"+a(te,4)+a(S,4)+I+K+V}}var l=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),p=n("../crc32"),h=n("../signature");function m(g,_,v,S){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=v,this.encodeFileName=S,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,u),m.prototype.push=function(g){var _=g.meta.percent||0,v=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(_+100*(v-S-1))/v:100}}))},m.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var _=this.streamFiles&&!g.file.dir;if(_){var v=o(g,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(g){this.accumulate=!1;var _=this.streamFiles&&!g.file.dir,v=o(g,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),_)this.push({data:(function(S){return h.DATA_DESCRIPTOR+a(S.crc32,4)+a(S.compressedSize,4)+a(S.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var g=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var v=this.bytesWritten-g,S=(function(b,Y,E,M,U){var W=l.transformTo("string",U(M));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(b,2)+a(b,2)+a(Y,4)+a(E,4)+a(W.length,2)+W})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(g){this._sources.push(g);var _=this;return g.on("data",function(v){_.processChunk(v)}),g.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),g.on("error",function(v){_.error(v)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(g){var _=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var v=0;v<_.length;v++)try{_[v].error(g)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,_=0;_<g.length;_++)g[_].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(l,u,f){var p=new o(u.streamFiles,f,u.platform,u.encodeFileName),h=0;try{l.forEach(function(m,g){h++;var _=(function(Y,E){var M=Y||E,U=a[M];if(!U)throw new Error(M+" is not a valid compression method !");return U})(g.options.compression,u.compression),v=g.options.compressionOptions||u.compressionOptions||{},S=g.dir,b=g.date;g._compressWorker(_,v).withStreamInfo("file",{name:m,dir:S,date:b,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(m){p.error(m)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),o=n("./external"),l=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function h(m){return new o.Promise(function(g,_){var v=m.decompressed.getContentWorker().pipe(new f);v.on("error",function(S){_(S)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(m,g){var _=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),p.isNode&&p.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(v){var S=new u(g);return S.load(v),S}).then(function(v){var S=[o.Promise.resolve(v)],b=v.files;if(g.checkCRC32)for(var Y=0;Y<b.length;Y++)S.push(h(b[Y]));return o.Promise.all(S)}).then(function(v){for(var S=v.shift(),b=S.files,Y=0;Y<b.length;Y++){var E=b[Y],M=E.fileNameStr,U=a.resolve(E.fileNameStr);_.file(U,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:g.createFolders}),E.dir||(_.file(U).unsafeOriginalName=M)}return S.zipComment.length&&(_.comment=S.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),o=n("../stream/GenericWorker");function l(u,f){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(l,o),l.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function o(l,u,f){a.call(this,u),this._helper=l;var p=this;l.on("data",function(h,m){p.push(h)||p._helper.pause(),f&&f(m)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(U,W,w){var I,P=l.getTypeOf(W),O=l.extend(w||{},p);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(U=b(U)),O.createFolders&&(I=S(U))&&Y.call(this,I,!0);var V=P==="string"&&O.binary===!1&&O.base64===!1;w&&w.binary!==void 0||(O.binary=!V),(W instanceof h&&W.uncompressedSize===0||O.dir||!W||W.length===0)&&(O.base64=!1,O.binary=!0,W="",O.compression="STORE",P="string");var N=null;N=W instanceof h||W instanceof u?W:_.isNode&&_.isStream(W)?new v(U,W):l.prepareContent(U,W,O.binary,O.optimizedBinaryString,O.base64);var F=new m(U,N,O);this.files[U]=F}var o=n("./utf8"),l=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),p=n("./defaults"),h=n("./compressedObject"),m=n("./zipObject"),g=n("./generate"),_=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),S=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var W=U.lastIndexOf("/");return 0<W?U.substring(0,W):""},b=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},Y=function(U,W){return W=W!==void 0?W:p.createFolders,U=b(U),this.files[U]||a.call(this,U,null,{dir:!0,createFolders:W}),this.files[U]};function E(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var W,w,I;for(W in this.files)I=this.files[W],(w=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&U(w,I)},filter:function(U){var W=[];return this.forEach(function(w,I){U(w,I)&&W.push(I)}),W},file:function(U,W,w){if(arguments.length!==1)return U=this.root+U,a.call(this,U,W,w),this;if(E(U)){var I=U;return this.filter(function(O,V){return!V.dir&&I.test(O)})}var P=this.files[this.root+U];return P&&!P.dir?P:null},folder:function(U){if(!U)return this;if(E(U))return this.filter(function(P,O){return O.dir&&U.test(P)});var W=this.root+U,w=Y.call(this,W),I=this.clone();return I.root=w.name,I},remove:function(U){U=this.root+U;var W=this.files[U];if(W||(U.slice(-1)!=="/"&&(U+="/"),W=this.files[U]),W&&!W.dir)delete this.files[U];else for(var w=this.filter(function(P,O){return O.name.slice(0,U.length)===U}),I=0;I<w.length;I++)delete this.files[w[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var W,w={};try{if((w=l.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");l.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var I=w.comment||this.comment||"";W=g.generateWorker(this,w,I)}catch(P){(W=new u("error")).error(P)}return new f(W,w.type||"string",w.mimeType)},generateAsync:function(U,W){return this.generateInternalStream(U).accumulate(W)},generateNodeStream:function(U,W){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(W)}};r.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function o(l){a.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),f=l.charCodeAt(1),p=l.charCodeAt(2),h=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===f&&this.data[m+2]===p&&this.data[m+3]===h)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),f=l.charCodeAt(1),p=l.charCodeAt(2),h=l.charCodeAt(3),m=this.readData(4);return u===m[0]&&f===m[1]&&p===m[2]&&h===m[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,f=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=l,f},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),o=n("../support"),l=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(h){var m=a.getTypeOf(h);return a.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new f(h):o.uint8array?new p(a.transformTo("uint8array",h)):new l(a.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),o=n("../utils");function l(u){a.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,a),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),o=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(l,o),l.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=a.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),u=n("../base64"),f=n("../support"),p=n("../external"),h=null;if(f.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(_,v){return new p.Promise(function(S,b){var Y=[],E=_._internalType,M=_._outputType,U=_._mimeType;_.on("data",function(W,w){Y.push(W),v&&v(w)}).on("error",function(W){Y=[],b(W)}).on("end",function(){try{var W=(function(w,I,P){switch(w){case"blob":return a.newBlob(a.transformTo("arraybuffer",I),P);case"base64":return u.encode(I);default:return a.transformTo(w,I)}})(M,(function(w,I){var P,O=0,V=null,N=0;for(P=0;P<I.length;P++)N+=I[P].length;switch(w){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(V=new Uint8Array(N),P=0;P<I.length;P++)V.set(I[P],O),O+=I[P].length;return V;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+w+"'")}})(E,Y),U);S(W)}catch(w){b(w)}Y=[]}).resume()})}function g(_,v,S){var b=v;switch(v){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=v,this._mimeType=S,a.checkSupport(b),this._worker=_.pipe(new o(b)),_.lock()}catch(Y){this._worker=new l("error"),this._worker.error(Y)}}g.prototype={accumulate:function(_){return m(this,_)},on:function(_,v){var S=this;return _==="data"?this._worker.on(_,function(b){v.call(S,b.data,b.meta)}):this._worker.on(_,function(){a.delay(v,arguments,S)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}i.utf8encode=function(g){return o.nodebuffer?l.newBufferFrom(g,"utf-8"):(function(_){var v,S,b,Y,E,M=_.length,U=0;for(Y=0;Y<M;Y++)(64512&(S=_.charCodeAt(Y)))==55296&&Y+1<M&&(64512&(b=_.charCodeAt(Y+1)))==56320&&(S=65536+(S-55296<<10)+(b-56320),Y++),U+=S<128?1:S<2048?2:S<65536?3:4;for(v=o.uint8array?new Uint8Array(U):new Array(U),Y=E=0;E<U;Y++)(64512&(S=_.charCodeAt(Y)))==55296&&Y+1<M&&(64512&(b=_.charCodeAt(Y+1)))==56320&&(S=65536+(S-55296<<10)+(b-56320),Y++),S<128?v[E++]=S:(S<2048?v[E++]=192|S>>>6:(S<65536?v[E++]=224|S>>>12:(v[E++]=240|S>>>18,v[E++]=128|S>>>12&63),v[E++]=128|S>>>6&63),v[E++]=128|63&S);return v})(g)},i.utf8decode=function(g){return o.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(_){var v,S,b,Y,E=_.length,M=new Array(2*E);for(v=S=0;v<E;)if((b=_[v++])<128)M[S++]=b;else if(4<(Y=f[b]))M[S++]=65533,v+=Y-1;else{for(b&=Y===2?31:Y===3?15:7;1<Y&&v<E;)b=b<<6|63&_[v++],Y--;1<Y?M[S++]=65533:b<65536?M[S++]=b:(b-=65536,M[S++]=55296|b>>10&1023,M[S++]=56320|1023&b)}return M.length!==S&&(M.subarray?M=M.subarray(0,S):M.length=S),a.applyFromCharCode(M)})(g=a.transformTo(o.uint8array?"uint8array":"array",g))},a.inherits(h,u),h.prototype.processChunk=function(g){var _=a.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=_;(_=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),_.set(v,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var S=(function(Y,E){var M;for((E=E||Y.length)>Y.length&&(E=Y.length),M=E-1;0<=M&&(192&Y[M])==128;)M--;return M<0||M===0?E:M+f[Y[M]]>E?M:E})(_),b=_;S!==_.length&&(o.uint8array?(b=_.subarray(0,S),this.leftOver=_.subarray(S,_.length)):(b=_.slice(0,S),this.leftOver=_.slice(S,_.length))),this.push({data:i.utf8decode(b),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(m,u),m.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),u=n("./external");function f(v){return v}function p(v,S){for(var b=0;b<v.length;++b)S[b]=255&v.charCodeAt(b);return S}n("setimmediate"),i.newBlob=function(v,S){i.checkSupport("blob");try{return new Blob([v],{type:S})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(v),b.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,S,b){var Y=[],E=0,M=v.length;if(M<=b)return String.fromCharCode.apply(null,v);for(;E<M;)S==="array"||S==="nodebuffer"?Y.push(String.fromCharCode.apply(null,v.slice(E,Math.min(E+b,M)))):Y.push(String.fromCharCode.apply(null,v.subarray(E,Math.min(E+b,M)))),E+=b;return Y.join("")},stringifyByChar:function(v){for(var S="",b=0;b<v.length;b++)S+=String.fromCharCode(v[b]);return S},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var S=65536,b=i.getTypeOf(v),Y=!0;if(b==="uint8array"?Y=h.applyCanBeUsed.uint8array:b==="nodebuffer"&&(Y=h.applyCanBeUsed.nodebuffer),Y)for(;1<S;)try{return h.stringifyByChunk(v,b,S)}catch{S=Math.floor(S/2)}return h.stringifyByChar(v)}function g(v,S){for(var b=0;b<v.length;b++)S[b]=v[b];return S}i.applyFromCharCode=m;var _={};_.string={string:f,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return _.string.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:function(v){return p(v,l.allocBuffer(v.length))}},_.array={string:m,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},_.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},_.uint8array={string:m,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return l.newBufferFrom(v)}},_.nodebuffer={string:m,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return _.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:f},i.transformTo=function(v,S){if(S=S||"",!v)return S;i.checkSupport(v);var b=i.getTypeOf(S);return _[b][v](S)},i.resolve=function(v){for(var S=v.split("/"),b=[],Y=0;Y<S.length;Y++){var E=S[Y];E==="."||E===""&&Y!==0&&Y!==S.length-1||(E===".."?b.pop():b.push(E))}return b.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var S,b,Y="";for(b=0;b<(v||"").length;b++)Y+="\\x"+((S=v.charCodeAt(b))<16?"0":"")+S.toString(16).toUpperCase();return Y},i.delay=function(v,S,b){setImmediate(function(){v.apply(b||null,S||[])})},i.inherits=function(v,S){function b(){}b.prototype=S.prototype,v.prototype=new b},i.extend=function(){var v,S,b={};for(v=0;v<arguments.length;v++)for(S in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],S)&&b[S]===void 0&&(b[S]=arguments[v][S]);return b},i.prepareContent=function(v,S,b,Y,E){return u.Promise.resolve(S).then(function(M){return a.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new u.Promise(function(U,W){var w=new FileReader;w.onload=function(I){U(I.target.result)},w.onerror=function(I){W(I.target.error)},w.readAsArrayBuffer(M)}):M}).then(function(M){var U=i.getTypeOf(M);return U?(U==="arraybuffer"?M=i.transformTo("uint8array",M):U==="string"&&(E?M=o.decode(M):b&&Y!==!0&&(M=(function(W){return p(W,a.uint8array?new Uint8Array(W.length):new Array(W.length))})(M))),M):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),u=n("./zipEntry"),f=n("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(h)+")")}},isSignature:function(h,m){var g=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===m;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=f.uint8array?"uint8array":"array",g=o.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,g,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),m=this.reader.readInt(4),g=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var _=m-g;if(0<_)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),p=n("./compressions"),h=n("./support");function m(g,_){this.options=g,this.loadOptions=_}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var _,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=(function(S){for(var b in p)if(Object.prototype.hasOwnProperty.call(p,b)&&p[b].magic===S)return p[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var _=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(_),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var _,v,S,b=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<b;)_=g.readInt(2),v=g.readInt(2),S=g.readData(v),this.extraFields[_]={id:_,length:v,value:S};g.setIndex(b)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var v=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var b=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var _=a(g.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:f.utf8decode(_.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var _=a(g.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:f.utf8decode(_.readData(g.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(_,v,S){this.name=_,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=v,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),p=n("./stream/GenericWorker");a.prototype={internalStream:function(_){var v=null,S="string";try{if(!_)throw new Error("No output type specified.");var b=(S=_.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),v=this._decompressWorker();var Y=!this._dataBinary;Y&&!b&&(v=v.pipe(new u.Utf8EncodeWorker)),!Y&&b&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(E){(v=new p("error")).error(E)}return new o(v,S,"")},async:function(_,v){return this.internalStream(_).accumulate(v)},nodeStream:function(_,v){return this.internalStream(_||"nodebuffer").toNodejsStream(v)},_compressWorker:function(_,v){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(S,_,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)a.prototype[h[g]]=m;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var o,l,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var f=0,p=new u(_),h=a.document.createTextNode("");p.observe(h,{characterData:!0}),o=function(){h.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){_(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(_,0)};else{var m=new a.MessageChannel;m.port1.onmessage=_,o=function(){m.port2.postMessage(0)}}var g=[];function _(){var v,S;l=!0;for(var b=g.length;b;){for(S=g,g=[],v=-1;++v<b;)S[v]();b=g.length}l=!1}r.exports=function(v){g.push(v)!==1||l||o()}}).call(this,typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function o(){}var l={},u=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function h(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}function m(b,Y,E){this.promise=b,typeof Y=="function"&&(this.onFulfilled=Y,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function g(b,Y,E){a(function(){var M;try{M=Y(E)}catch(U){return l.reject(b,U)}M===b?l.reject(b,new TypeError("Cannot resolve promise with itself")):l.resolve(b,M)})}function _(b){var Y=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof Y=="function")return function(){Y.apply(b,arguments)}}function v(b,Y){var E=!1;function M(w){E||(E=!0,l.reject(b,w))}function U(w){E||(E=!0,l.resolve(b,w))}var W=S(function(){Y(U,M)});W.status==="error"&&M(W.value)}function S(b,Y){var E={};try{E.value=b(Y),E.status="success"}catch(M){E.status="error",E.value=M}return E}(r.exports=h).prototype.finally=function(b){if(typeof b!="function")return this;var Y=this.constructor;return this.then(function(E){return Y.resolve(b()).then(function(){return E})},function(E){return Y.resolve(b()).then(function(){throw E})})},h.prototype.catch=function(b){return this.then(null,b)},h.prototype.then=function(b,Y){if(typeof b!="function"&&this.state===f||typeof Y!="function"&&this.state===u)return this;var E=new this.constructor(o);return this.state!==p?g(E,this.state===f?b:Y,this.outcome):this.queue.push(new m(E,b,Y)),E},m.prototype.callFulfilled=function(b){l.resolve(this.promise,b)},m.prototype.otherCallFulfilled=function(b){g(this.promise,this.onFulfilled,b)},m.prototype.callRejected=function(b){l.reject(this.promise,b)},m.prototype.otherCallRejected=function(b){g(this.promise,this.onRejected,b)},l.resolve=function(b,Y){var E=S(_,Y);if(E.status==="error")return l.reject(b,E.value);var M=E.value;if(M)v(b,M);else{b.state=f,b.outcome=Y;for(var U=-1,W=b.queue.length;++U<W;)b.queue[U].callFulfilled(Y)}return b},l.reject=function(b,Y){b.state=u,b.outcome=Y;for(var E=-1,M=b.queue.length;++E<M;)b.queue[E].callRejected(Y);return b},h.resolve=function(b){return b instanceof this?b:l.resolve(new this(o),b)},h.reject=function(b){var Y=new this(o);return l.reject(Y,b)},h.all=function(b){var Y=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,M=!1;if(!E)return this.resolve([]);for(var U=new Array(E),W=0,w=-1,I=new this(o);++w<E;)P(b[w],w);return I;function P(O,V){Y.resolve(O).then(function(N){U[V]=N,++W!==E||M||(M=!0,l.resolve(I,U))},function(N){M||(M=!0,l.reject(I,N))})}},h.race=function(b){var Y=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,M=!1;if(!E)return this.resolve([]);for(var U=-1,W=new this(o);++U<E;)w=b[U],Y.resolve(w).then(function(I){M||(M=!0,l.resolve(W,I))},function(I){M||(M=!0,l.reject(W,I))});var w;return W}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),p=Object.prototype.toString,h=0,m=-1,g=0,_=8;function v(b){if(!(this instanceof v))return new v(b);this.options=o.assign({level:m,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},b||{});var Y=this.options;Y.raw&&0<Y.windowBits?Y.windowBits=-Y.windowBits:Y.gzip&&0<Y.windowBits&&Y.windowBits<16&&(Y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var E=a.deflateInit2(this.strm,Y.level,Y.method,Y.windowBits,Y.memLevel,Y.strategy);if(E!==h)throw new Error(u[E]);if(Y.header&&a.deflateSetHeader(this.strm,Y.header),Y.dictionary){var M;if(M=typeof Y.dictionary=="string"?l.string2buf(Y.dictionary):p.call(Y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Y.dictionary):Y.dictionary,(E=a.deflateSetDictionary(this.strm,M))!==h)throw new Error(u[E]);this._dict_set=!0}}function S(b,Y){var E=new v(Y);if(E.push(b,!0),E.err)throw E.msg||u[E.err];return E.result}v.prototype.push=function(b,Y){var E,M,U=this.strm,W=this.options.chunkSize;if(this.ended)return!1;M=Y===~~Y?Y:Y===!0?4:0,typeof b=="string"?U.input=l.string2buf(b):p.call(b)==="[object ArrayBuffer]"?U.input=new Uint8Array(b):U.input=b,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(W),U.next_out=0,U.avail_out=W),(E=a.deflate(U,M))!==1&&E!==h)return this.onEnd(E),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(U.output,U.next_out))):this.onData(o.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&E!==1);return M===4?(E=a.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===h):M!==2||(this.onEnd(h),!(U.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=v,i.deflate=S,i.deflateRaw=function(b,Y){return(Y=Y||{}).raw=!0,S(b,Y)},i.gzip=function(b,Y){return(Y=Y||{}).gzip=!0,S(b,Y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),p=n("./zlib/zstream"),h=n("./zlib/gzheader"),m=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||v&&v.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var b=a.inflateInit2(this.strm,S.windowBits);if(b!==u.Z_OK)throw new Error(f[b]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function _(v,S){var b=new g(S);if(b.push(v,!0),b.err)throw b.msg||f[b.err];return b.result}g.prototype.push=function(v,S){var b,Y,E,M,U,W,w=this.strm,I=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;Y=S===~~S?S:S===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?w.input=l.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(I),w.next_out=0,w.avail_out=I),(b=a.inflate(w,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&P&&(W=typeof P=="string"?l.string2buf(P):m.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,b=a.inflateSetDictionary(this.strm,W)),b===u.Z_BUF_ERROR&&O===!0&&(b=u.Z_OK,O=!1),b!==u.Z_STREAM_END&&b!==u.Z_OK)return this.onEnd(b),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&b!==u.Z_STREAM_END&&(w.avail_in!==0||Y!==u.Z_FINISH&&Y!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=l.utf8border(w.output,w.next_out),M=w.next_out-E,U=l.buf2string(w.output,E),w.next_out=M,w.avail_out=I-M,M&&o.arraySet(w.output,w.output,E,M,0),this.onData(U)):this.onData(o.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(O=!0)}while((0<w.avail_in||w.avail_out===0)&&b!==u.Z_STREAM_END);return b===u.Z_STREAM_END&&(Y=u.Z_FINISH),Y===u.Z_FINISH?(b=a.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u.Z_OK):Y!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(w.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=g,i.inflate=_,i.inflateRaw=function(v,S){return(S=S||{}).raw=!0,_(v,S)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var o={arraySet:function(u,f,p,h,m){if(f.subarray&&u.subarray)u.set(f.subarray(p,p+h),m);else for(var g=0;g<h;g++)u[m+g]=f[p+g]},flattenChunks:function(u){var f,p,h,m,g,_;for(f=h=0,p=u.length;f<p;f++)h+=u[f].length;for(_=new Uint8Array(h),f=m=0,p=u.length;f<p;f++)g=u[f],_.set(g,m),m+=g.length;return _}},l={arraySet:function(u,f,p,h,m){for(var g=0;g<h;g++)u[m+g]=f[p+g]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new a.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(h,m){if(m<65537&&(h.subarray&&l||!h.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(h,m));for(var g="",_=0;_<m;_++)g+=String.fromCharCode(h[_]);return g}u[254]=u[254]=1,i.string2buf=function(h){var m,g,_,v,S,b=h.length,Y=0;for(v=0;v<b;v++)(64512&(g=h.charCodeAt(v)))==55296&&v+1<b&&(64512&(_=h.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),v++),Y+=g<128?1:g<2048?2:g<65536?3:4;for(m=new a.Buf8(Y),v=S=0;S<Y;v++)(64512&(g=h.charCodeAt(v)))==55296&&v+1<b&&(64512&(_=h.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),v++),g<128?m[S++]=g:(g<2048?m[S++]=192|g>>>6:(g<65536?m[S++]=224|g>>>12:(m[S++]=240|g>>>18,m[S++]=128|g>>>12&63),m[S++]=128|g>>>6&63),m[S++]=128|63&g);return m},i.buf2binstring=function(h){return p(h,h.length)},i.binstring2buf=function(h){for(var m=new a.Buf8(h.length),g=0,_=m.length;g<_;g++)m[g]=h.charCodeAt(g);return m},i.buf2string=function(h,m){var g,_,v,S,b=m||h.length,Y=new Array(2*b);for(g=_=0;g<b;)if((v=h[g++])<128)Y[_++]=v;else if(4<(S=u[v]))Y[_++]=65533,g+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&g<b;)v=v<<6|63&h[g++],S--;1<S?Y[_++]=65533:v<65536?Y[_++]=v:(v-=65536,Y[_++]=55296|v>>10&1023,Y[_++]=56320|1023&v)}return p(Y,_)},i.utf8border=function(h,m){var g;for((m=m||h.length)>h.length&&(m=h.length),g=m-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?m:g+u[h[g]]>m?g:m}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,o,l,u){for(var f=65535&a|0,p=a>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;p=p+(f=f+o[u++]|0)|0,--h;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();r.exports=function(o,l,u,f){var p=a,h=f+u;o^=-1;for(var m=f;m<h;m++)o=o>>>8^p[255&(o^l[m])];return-1^o}},{}],46:[function(n,r,i){var a,o=n("../utils/common"),l=n("./trees"),u=n("./adler32"),f=n("./crc32"),p=n("./messages"),h=0,m=4,g=0,_=-2,v=-1,S=4,b=2,Y=8,E=9,M=286,U=30,W=19,w=2*M+1,I=15,P=3,O=258,V=O+P+1,N=42,F=113,R=1,K=2,Z=3,G=4;function q(L,Ue){return L.msg=p[Ue],Ue}function Q(L){return(L<<1)-(4<L?9:0)}function ue(L){for(var Ue=L.length;0<=--Ue;)L[Ue]=0}function j(L){var Ue=L.state,be=Ue.pending;be>L.avail_out&&(be=L.avail_out),be!==0&&(o.arraySet(L.output,Ue.pending_buf,Ue.pending_out,be,L.next_out),L.next_out+=be,Ue.pending_out+=be,L.total_out+=be,L.avail_out-=be,Ue.pending-=be,Ue.pending===0&&(Ue.pending_out=0))}function te(L,Ue){l._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,Ue),L.block_start=L.strstart,j(L.strm)}function fe(L,Ue){L.pending_buf[L.pending++]=Ue}function J(L,Ue){L.pending_buf[L.pending++]=Ue>>>8&255,L.pending_buf[L.pending++]=255&Ue}function re(L,Ue){var be,ce,se=L.max_chain_length,me=L.strstart,Ne=L.prev_length,ke=L.nice_match,ge=L.strstart>L.w_size-V?L.strstart-(L.w_size-V):0,We=L.window,et=L.w_mask,ze=L.prev,nt=L.strstart+O,Mt=We[me+Ne-1],pt=We[me+Ne];L.prev_length>=L.good_match&&(se>>=2),ke>L.lookahead&&(ke=L.lookahead);do if(We[(be=Ue)+Ne]===pt&&We[be+Ne-1]===Mt&&We[be]===We[me]&&We[++be]===We[me+1]){me+=2,be++;do;while(We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&We[++me]===We[++be]&&me<nt);if(ce=O-(nt-me),me=nt-O,Ne<ce){if(L.match_start=Ue,ke<=(Ne=ce))break;Mt=We[me+Ne-1],pt=We[me+Ne]}}while((Ue=ze[Ue&et])>ge&&--se!=0);return Ne<=L.lookahead?Ne:L.lookahead}function ae(L){var Ue,be,ce,se,me,Ne,ke,ge,We,et,ze=L.w_size;do{if(se=L.window_size-L.lookahead-L.strstart,L.strstart>=ze+(ze-V)){for(o.arraySet(L.window,L.window,ze,ze,0),L.match_start-=ze,L.strstart-=ze,L.block_start-=ze,Ue=be=L.hash_size;ce=L.head[--Ue],L.head[Ue]=ze<=ce?ce-ze:0,--be;);for(Ue=be=ze;ce=L.prev[--Ue],L.prev[Ue]=ze<=ce?ce-ze:0,--be;);se+=ze}if(L.strm.avail_in===0)break;if(Ne=L.strm,ke=L.window,ge=L.strstart+L.lookahead,We=se,et=void 0,et=Ne.avail_in,We<et&&(et=We),be=et===0?0:(Ne.avail_in-=et,o.arraySet(ke,Ne.input,Ne.next_in,et,ge),Ne.state.wrap===1?Ne.adler=u(Ne.adler,ke,et,ge):Ne.state.wrap===2&&(Ne.adler=f(Ne.adler,ke,et,ge)),Ne.next_in+=et,Ne.total_in+=et,et),L.lookahead+=be,L.lookahead+L.insert>=P)for(me=L.strstart-L.insert,L.ins_h=L.window[me],L.ins_h=(L.ins_h<<L.hash_shift^L.window[me+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[me+P-1])&L.hash_mask,L.prev[me&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=me,me++,L.insert--,!(L.lookahead+L.insert<P)););}while(L.lookahead<V&&L.strm.avail_in!==0)}function de(L,Ue){for(var be,ce;;){if(L.lookahead<V){if(ae(L),L.lookahead<V&&Ue===h)return R;if(L.lookahead===0)break}if(be=0,L.lookahead>=P&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+P-1])&L.hash_mask,be=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),be!==0&&L.strstart-be<=L.w_size-V&&(L.match_length=re(L,be)),L.match_length>=P)if(ce=l._tr_tally(L,L.strstart-L.match_start,L.match_length-P),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=P){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+P-1])&L.hash_mask,be=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else ce=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(ce&&(te(L,!1),L.strm.avail_out===0))return R}return L.insert=L.strstart<P-1?L.strstart:P-1,Ue===m?(te(L,!0),L.strm.avail_out===0?Z:G):L.last_lit&&(te(L,!1),L.strm.avail_out===0)?R:K}function pe(L,Ue){for(var be,ce,se;;){if(L.lookahead<V){if(ae(L),L.lookahead<V&&Ue===h)return R;if(L.lookahead===0)break}if(be=0,L.lookahead>=P&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+P-1])&L.hash_mask,be=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=P-1,be!==0&&L.prev_length<L.max_lazy_match&&L.strstart-be<=L.w_size-V&&(L.match_length=re(L,be),L.match_length<=5&&(L.strategy===1||L.match_length===P&&4096<L.strstart-L.match_start)&&(L.match_length=P-1)),L.prev_length>=P&&L.match_length<=L.prev_length){for(se=L.strstart+L.lookahead-P,ce=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-P),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=se&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+P-1])&L.hash_mask,be=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=P-1,L.strstart++,ce&&(te(L,!1),L.strm.avail_out===0))return R}else if(L.match_available){if((ce=l._tr_tally(L,0,L.window[L.strstart-1]))&&te(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return R}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(ce=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<P-1?L.strstart:P-1,Ue===m?(te(L,!0),L.strm.avail_out===0?Z:G):L.last_lit&&(te(L,!1),L.strm.avail_out===0)?R:K}function ve(L,Ue,be,ce,se){this.good_length=L,this.max_lazy=Ue,this.nice_length=be,this.max_chain=ce,this.func=se}function $e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*w),this.dyn_dtree=new o.Buf16(2*(2*U+1)),this.bl_tree=new o.Buf16(2*(2*W+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*M+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*M+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(L){var Ue;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=b,(Ue=L.state).pending=0,Ue.pending_out=0,Ue.wrap<0&&(Ue.wrap=-Ue.wrap),Ue.status=Ue.wrap?N:F,L.adler=Ue.wrap===2?0:1,Ue.last_flush=h,l._tr_init(Ue),g):q(L,_)}function Ye(L){var Ue=Pe(L);return Ue===g&&(function(be){be.window_size=2*be.w_size,ue(be.head),be.max_lazy_match=a[be.level].max_lazy,be.good_match=a[be.level].good_length,be.nice_match=a[be.level].nice_length,be.max_chain_length=a[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=P-1,be.match_available=0,be.ins_h=0})(L.state),Ue}function Oe(L,Ue,be,ce,se,me){if(!L)return _;var Ne=1;if(Ue===v&&(Ue=6),ce<0?(Ne=0,ce=-ce):15<ce&&(Ne=2,ce-=16),se<1||E<se||be!==Y||ce<8||15<ce||Ue<0||9<Ue||me<0||S<me)return q(L,_);ce===8&&(ce=9);var ke=new $e;return(L.state=ke).strm=L,ke.wrap=Ne,ke.gzhead=null,ke.w_bits=ce,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=se+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+P-1)/P),ke.window=new o.Buf8(2*ke.w_size),ke.head=new o.Buf16(ke.hash_size),ke.prev=new o.Buf16(ke.w_size),ke.lit_bufsize=1<<se+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new o.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=Ue,ke.strategy=me,ke.method=be,Ye(L)}a=[new ve(0,0,0,0,function(L,Ue){var be=65535;for(be>L.pending_buf_size-5&&(be=L.pending_buf_size-5);;){if(L.lookahead<=1){if(ae(L),L.lookahead===0&&Ue===h)return R;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var ce=L.block_start+be;if((L.strstart===0||L.strstart>=ce)&&(L.lookahead=L.strstart-ce,L.strstart=ce,te(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-V&&(te(L,!1),L.strm.avail_out===0))return R}return L.insert=0,Ue===m?(te(L,!0),L.strm.avail_out===0?Z:G):(L.strstart>L.block_start&&(te(L,!1),L.strm.avail_out),R)}),new ve(4,4,8,4,de),new ve(4,5,16,8,de),new ve(4,6,32,32,de),new ve(4,4,16,16,pe),new ve(8,16,32,32,pe),new ve(8,16,128,128,pe),new ve(8,32,128,256,pe),new ve(32,128,258,1024,pe),new ve(32,258,258,4096,pe)],i.deflateInit=function(L,Ue){return Oe(L,Ue,Y,15,8,0)},i.deflateInit2=Oe,i.deflateReset=Ye,i.deflateResetKeep=Pe,i.deflateSetHeader=function(L,Ue){return L&&L.state?L.state.wrap!==2?_:(L.state.gzhead=Ue,g):_},i.deflate=function(L,Ue){var be,ce,se,me;if(!L||!L.state||5<Ue||Ue<0)return L?q(L,_):_;if(ce=L.state,!L.output||!L.input&&L.avail_in!==0||ce.status===666&&Ue!==m)return q(L,L.avail_out===0?-5:_);if(ce.strm=L,be=ce.last_flush,ce.last_flush=Ue,ce.status===N)if(ce.wrap===2)L.adler=0,fe(ce,31),fe(ce,139),fe(ce,8),ce.gzhead?(fe(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),fe(ce,255&ce.gzhead.time),fe(ce,ce.gzhead.time>>8&255),fe(ce,ce.gzhead.time>>16&255),fe(ce,ce.gzhead.time>>24&255),fe(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),fe(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(fe(ce,255&ce.gzhead.extra.length),fe(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(L.adler=f(L.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),fe(ce,3),ce.status=F);else{var Ne=Y+(ce.w_bits-8<<4)<<8;Ne|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(Ne|=32),Ne+=31-Ne%31,ce.status=F,J(ce,Ne),ce.strstart!==0&&(J(ce,L.adler>>>16),J(ce,65535&L.adler)),L.adler=1}if(ce.status===69)if(ce.gzhead.extra){for(se=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),j(L),se=ce.pending,ce.pending!==ce.pending_buf_size));)fe(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(ce.status===73)if(ce.gzhead.name){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),j(L),se=ce.pending,ce.pending===ce.pending_buf_size)){me=1;break}me=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,fe(ce,me)}while(me!==0);ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),me===0&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(ce.status===91)if(ce.gzhead.comment){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),j(L),se=ce.pending,ce.pending===ce.pending_buf_size)){me=1;break}me=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,fe(ce,me)}while(me!==0);ce.gzhead.hcrc&&ce.pending>se&&(L.adler=f(L.adler,ce.pending_buf,ce.pending-se,se)),me===0&&(ce.status=103)}else ce.status=103;if(ce.status===103&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&j(L),ce.pending+2<=ce.pending_buf_size&&(fe(ce,255&L.adler),fe(ce,L.adler>>8&255),L.adler=0,ce.status=F)):ce.status=F),ce.pending!==0){if(j(L),L.avail_out===0)return ce.last_flush=-1,g}else if(L.avail_in===0&&Q(Ue)<=Q(be)&&Ue!==m)return q(L,-5);if(ce.status===666&&L.avail_in!==0)return q(L,-5);if(L.avail_in!==0||ce.lookahead!==0||Ue!==h&&ce.status!==666){var ke=ce.strategy===2?(function(ge,We){for(var et;;){if(ge.lookahead===0&&(ae(ge),ge.lookahead===0)){if(We===h)return R;break}if(ge.match_length=0,et=l._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,et&&(te(ge,!1),ge.strm.avail_out===0))return R}return ge.insert=0,We===m?(te(ge,!0),ge.strm.avail_out===0?Z:G):ge.last_lit&&(te(ge,!1),ge.strm.avail_out===0)?R:K})(ce,Ue):ce.strategy===3?(function(ge,We){for(var et,ze,nt,Mt,pt=ge.window;;){if(ge.lookahead<=O){if(ae(ge),ge.lookahead<=O&&We===h)return R;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=P&&0<ge.strstart&&(ze=pt[nt=ge.strstart-1])===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]){Mt=ge.strstart+O;do;while(ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&ze===pt[++nt]&&nt<Mt);ge.match_length=O-(Mt-nt),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=P?(et=l._tr_tally(ge,1,ge.match_length-P),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(et=l._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),et&&(te(ge,!1),ge.strm.avail_out===0))return R}return ge.insert=0,We===m?(te(ge,!0),ge.strm.avail_out===0?Z:G):ge.last_lit&&(te(ge,!1),ge.strm.avail_out===0)?R:K})(ce,Ue):a[ce.level].func(ce,Ue);if(ke!==Z&&ke!==G||(ce.status=666),ke===R||ke===Z)return L.avail_out===0&&(ce.last_flush=-1),g;if(ke===K&&(Ue===1?l._tr_align(ce):Ue!==5&&(l._tr_stored_block(ce,0,0,!1),Ue===3&&(ue(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),j(L),L.avail_out===0))return ce.last_flush=-1,g}return Ue!==m?g:ce.wrap<=0?1:(ce.wrap===2?(fe(ce,255&L.adler),fe(ce,L.adler>>8&255),fe(ce,L.adler>>16&255),fe(ce,L.adler>>24&255),fe(ce,255&L.total_in),fe(ce,L.total_in>>8&255),fe(ce,L.total_in>>16&255),fe(ce,L.total_in>>24&255)):(J(ce,L.adler>>>16),J(ce,65535&L.adler)),j(L),0<ce.wrap&&(ce.wrap=-ce.wrap),ce.pending!==0?g:1)},i.deflateEnd=function(L){var Ue;return L&&L.state?(Ue=L.state.status)!==N&&Ue!==69&&Ue!==73&&Ue!==91&&Ue!==103&&Ue!==F&&Ue!==666?q(L,_):(L.state=null,Ue===F?q(L,-3):g):_},i.deflateSetDictionary=function(L,Ue){var be,ce,se,me,Ne,ke,ge,We,et=Ue.length;if(!L||!L.state||(me=(be=L.state).wrap)===2||me===1&&be.status!==N||be.lookahead)return _;for(me===1&&(L.adler=u(L.adler,Ue,et,0)),be.wrap=0,et>=be.w_size&&(me===0&&(ue(be.head),be.strstart=0,be.block_start=0,be.insert=0),We=new o.Buf8(be.w_size),o.arraySet(We,Ue,et-be.w_size,be.w_size,0),Ue=We,et=be.w_size),Ne=L.avail_in,ke=L.next_in,ge=L.input,L.avail_in=et,L.next_in=0,L.input=Ue,ae(be);be.lookahead>=P;){for(ce=be.strstart,se=be.lookahead-(P-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[ce+P-1])&be.hash_mask,be.prev[ce&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=ce,ce++,--se;);be.strstart=ce,be.lookahead=P-1,ae(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=P-1,be.match_available=0,L.next_in=ke,L.input=ge,L.avail_in=Ne,be.wrap=me,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,o){var l,u,f,p,h,m,g,_,v,S,b,Y,E,M,U,W,w,I,P,O,V,N,F,R,K;l=a.state,u=a.next_in,R=a.input,f=u+(a.avail_in-5),p=a.next_out,K=a.output,h=p-(o-a.avail_out),m=p+(a.avail_out-257),g=l.dmax,_=l.wsize,v=l.whave,S=l.wnext,b=l.window,Y=l.hold,E=l.bits,M=l.lencode,U=l.distcode,W=(1<<l.lenbits)-1,w=(1<<l.distbits)-1;e:do{E<15&&(Y+=R[u++]<<E,E+=8,Y+=R[u++]<<E,E+=8),I=M[Y&W];t:for(;;){if(Y>>>=P=I>>>24,E-=P,(P=I>>>16&255)===0)K[p++]=65535&I;else{if(!(16&P)){if((64&P)==0){I=M[(65535&I)+(Y&(1<<P)-1)];continue t}if(32&P){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}O=65535&I,(P&=15)&&(E<P&&(Y+=R[u++]<<E,E+=8),O+=Y&(1<<P)-1,Y>>>=P,E-=P),E<15&&(Y+=R[u++]<<E,E+=8,Y+=R[u++]<<E,E+=8),I=U[Y&w];n:for(;;){if(Y>>>=P=I>>>24,E-=P,!(16&(P=I>>>16&255))){if((64&P)==0){I=U[(65535&I)+(Y&(1<<P)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(V=65535&I,E<(P&=15)&&(Y+=R[u++]<<E,(E+=8)<P&&(Y+=R[u++]<<E,E+=8)),g<(V+=Y&(1<<P)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(Y>>>=P,E-=P,(P=p-h)<V){if(v<(P=V-P)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(F=b,(N=0)===S){if(N+=_-P,P<O){for(O-=P;K[p++]=b[N++],--P;);N=p-V,F=K}}else if(S<P){if(N+=_+S-P,(P-=S)<O){for(O-=P;K[p++]=b[N++],--P;);if(N=0,S<O){for(O-=P=S;K[p++]=b[N++],--P;);N=p-V,F=K}}}else if(N+=S-P,P<O){for(O-=P;K[p++]=b[N++],--P;);N=p-V,F=K}for(;2<O;)K[p++]=F[N++],K[p++]=F[N++],K[p++]=F[N++],O-=3;O&&(K[p++]=F[N++],1<O&&(K[p++]=F[N++]))}else{for(N=p-V;K[p++]=K[N++],K[p++]=K[N++],K[p++]=K[N++],2<(O-=3););O&&(K[p++]=K[N++],1<O&&(K[p++]=K[N++]))}break}}break}}while(u<f&&p<m);u-=O=E>>3,Y&=(1<<(E-=O<<3))-1,a.next_in=u,a.next_out=p,a.avail_in=u<f?f-u+5:5-(u-f),a.avail_out=p<m?m-p+257:257-(p-m),l.hold=Y,l.bits=E}},{}],49:[function(n,r,i){var a=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),p=1,h=2,m=0,g=-2,_=1,v=852,S=592;function b(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function Y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(N){var F;return N&&N.state?(F=N.state,N.total_in=N.total_out=F.total=0,N.msg="",F.wrap&&(N.adler=1&F.wrap),F.mode=_,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new a.Buf32(v),F.distcode=F.distdyn=new a.Buf32(S),F.sane=1,F.back=-1,m):g}function M(N){var F;return N&&N.state?((F=N.state).wsize=0,F.whave=0,F.wnext=0,E(N)):g}function U(N,F){var R,K;return N&&N.state?(K=N.state,F<0?(R=0,F=-F):(R=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?g:(K.window!==null&&K.wbits!==F&&(K.window=null),K.wrap=R,K.wbits=F,M(N))):g}function W(N,F){var R,K;return N?(K=new Y,(N.state=K).window=null,(R=U(N,F))!==m&&(N.state=null),R):g}var w,I,P=!0;function O(N){if(P){var F;for(w=new a.Buf32(512),I=new a.Buf32(32),F=0;F<144;)N.lens[F++]=8;for(;F<256;)N.lens[F++]=9;for(;F<280;)N.lens[F++]=7;for(;F<288;)N.lens[F++]=8;for(f(p,N.lens,0,288,w,0,N.work,{bits:9}),F=0;F<32;)N.lens[F++]=5;f(h,N.lens,0,32,I,0,N.work,{bits:5}),P=!1}N.lencode=w,N.lenbits=9,N.distcode=I,N.distbits=5}function V(N,F,R,K){var Z,G=N.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new a.Buf8(G.wsize)),K>=G.wsize?(a.arraySet(G.window,F,R-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(K<(Z=G.wsize-G.wnext)&&(Z=K),a.arraySet(G.window,F,R-K,Z,G.wnext),(K-=Z)?(a.arraySet(G.window,F,R-K,K,0),G.wnext=K,G.whave=G.wsize):(G.wnext+=Z,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=Z))),0}i.inflateReset=M,i.inflateReset2=U,i.inflateResetKeep=E,i.inflateInit=function(N){return W(N,15)},i.inflateInit2=W,i.inflate=function(N,F){var R,K,Z,G,q,Q,ue,j,te,fe,J,re,ae,de,pe,ve,$e,Pe,Ye,Oe,L,Ue,be,ce,se=0,me=new a.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return g;(R=N.state).mode===12&&(R.mode=13),q=N.next_out,Z=N.output,ue=N.avail_out,G=N.next_in,K=N.input,Q=N.avail_in,j=R.hold,te=R.bits,fe=Q,J=ue,Ue=m;e:for(;;)switch(R.mode){case _:if(R.wrap===0){R.mode=13;break}for(;te<16;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(2&R.wrap&&j===35615){me[R.check=0]=255&j,me[1]=j>>>8&255,R.check=l(R.check,me,2,0),te=j=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&j)<<8)+(j>>8))%31){N.msg="incorrect header check",R.mode=30;break}if((15&j)!=8){N.msg="unknown compression method",R.mode=30;break}if(te-=4,L=8+(15&(j>>>=4)),R.wbits===0)R.wbits=L;else if(L>R.wbits){N.msg="invalid window size",R.mode=30;break}R.dmax=1<<L,N.adler=R.check=1,R.mode=512&j?10:12,te=j=0;break;case 2:for(;te<16;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(R.flags=j,(255&R.flags)!=8){N.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){N.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=j>>8&1),512&R.flags&&(me[0]=255&j,me[1]=j>>>8&255,R.check=l(R.check,me,2,0)),te=j=0,R.mode=3;case 3:for(;te<32;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.head&&(R.head.time=j),512&R.flags&&(me[0]=255&j,me[1]=j>>>8&255,me[2]=j>>>16&255,me[3]=j>>>24&255,R.check=l(R.check,me,4,0)),te=j=0,R.mode=4;case 4:for(;te<16;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.head&&(R.head.xflags=255&j,R.head.os=j>>8),512&R.flags&&(me[0]=255&j,me[1]=j>>>8&255,R.check=l(R.check,me,2,0)),te=j=0,R.mode=5;case 5:if(1024&R.flags){for(;te<16;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.length=j,R.head&&(R.head.extra_len=j),512&R.flags&&(me[0]=255&j,me[1]=j>>>8&255,R.check=l(R.check,me,2,0)),te=j=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(Q<(re=R.length)&&(re=Q),re&&(R.head&&(L=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),a.arraySet(R.head.extra,K,G,re,L)),512&R.flags&&(R.check=l(R.check,K,re,G)),Q-=re,G+=re,R.length-=re),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(Q===0)break e;for(re=0;L=K[G+re++],R.head&&L&&R.length<65536&&(R.head.name+=String.fromCharCode(L)),L&&re<Q;);if(512&R.flags&&(R.check=l(R.check,K,re,G)),Q-=re,G+=re,L)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(Q===0)break e;for(re=0;L=K[G+re++],R.head&&L&&R.length<65536&&(R.head.comment+=String.fromCharCode(L)),L&&re<Q;);if(512&R.flags&&(R.check=l(R.check,K,re,G)),Q-=re,G+=re,L)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;te<16;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(j!==(65535&R.check)){N.msg="header crc mismatch",R.mode=30;break}te=j=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),N.adler=R.check=0,R.mode=12;break;case 10:for(;te<32;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}N.adler=R.check=b(j),te=j=0,R.mode=11;case 11:if(R.havedict===0)return N.next_out=q,N.avail_out=ue,N.next_in=G,N.avail_in=Q,R.hold=j,R.bits=te,2;N.adler=R.check=1,R.mode=12;case 12:if(F===5||F===6)break e;case 13:if(R.last){j>>>=7&te,te-=7&te,R.mode=27;break}for(;te<3;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}switch(R.last=1&j,te-=1,3&(j>>>=1)){case 0:R.mode=14;break;case 1:if(O(R),R.mode=20,F!==6)break;j>>>=2,te-=2;break e;case 2:R.mode=17;break;case 3:N.msg="invalid block type",R.mode=30}j>>>=2,te-=2;break;case 14:for(j>>>=7&te,te-=7&te;te<32;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if((65535&j)!=(j>>>16^65535)){N.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&j,te=j=0,R.mode=15,F===6)break e;case 15:R.mode=16;case 16:if(re=R.length){if(Q<re&&(re=Q),ue<re&&(re=ue),re===0)break e;a.arraySet(Z,K,G,re,q),Q-=re,G+=re,ue-=re,q+=re,R.length-=re;break}R.mode=12;break;case 17:for(;te<14;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(R.nlen=257+(31&j),j>>>=5,te-=5,R.ndist=1+(31&j),j>>>=5,te-=5,R.ncode=4+(15&j),j>>>=4,te-=4,286<R.nlen||30<R.ndist){N.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;te<3;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.lens[Ne[R.have++]]=7&j,j>>>=3,te-=3}for(;R.have<19;)R.lens[Ne[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,be={bits:R.lenbits},Ue=f(0,R.lens,0,19,R.lencode,0,R.work,be),R.lenbits=be.bits,Ue){N.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;ve=(se=R.lencode[j&(1<<R.lenbits)-1])>>>16&255,$e=65535&se,!((pe=se>>>24)<=te);){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if($e<16)j>>>=pe,te-=pe,R.lens[R.have++]=$e;else{if($e===16){for(ce=pe+2;te<ce;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(j>>>=pe,te-=pe,R.have===0){N.msg="invalid bit length repeat",R.mode=30;break}L=R.lens[R.have-1],re=3+(3&j),j>>>=2,te-=2}else if($e===17){for(ce=pe+3;te<ce;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}te-=pe,L=0,re=3+(7&(j>>>=pe)),j>>>=3,te-=3}else{for(ce=pe+7;te<ce;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}te-=pe,L=0,re=11+(127&(j>>>=pe)),j>>>=7,te-=7}if(R.have+re>R.nlen+R.ndist){N.msg="invalid bit length repeat",R.mode=30;break}for(;re--;)R.lens[R.have++]=L}}if(R.mode===30)break;if(R.lens[256]===0){N.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,be={bits:R.lenbits},Ue=f(p,R.lens,0,R.nlen,R.lencode,0,R.work,be),R.lenbits=be.bits,Ue){N.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,be={bits:R.distbits},Ue=f(h,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,be),R.distbits=be.bits,Ue){N.msg="invalid distances set",R.mode=30;break}if(R.mode=20,F===6)break e;case 20:R.mode=21;case 21:if(6<=Q&&258<=ue){N.next_out=q,N.avail_out=ue,N.next_in=G,N.avail_in=Q,R.hold=j,R.bits=te,u(N,J),q=N.next_out,Z=N.output,ue=N.avail_out,G=N.next_in,K=N.input,Q=N.avail_in,j=R.hold,te=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;ve=(se=R.lencode[j&(1<<R.lenbits)-1])>>>16&255,$e=65535&se,!((pe=se>>>24)<=te);){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(ve&&(240&ve)==0){for(Pe=pe,Ye=ve,Oe=$e;ve=(se=R.lencode[Oe+((j&(1<<Pe+Ye)-1)>>Pe)])>>>16&255,$e=65535&se,!(Pe+(pe=se>>>24)<=te);){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}j>>>=Pe,te-=Pe,R.back+=Pe}if(j>>>=pe,te-=pe,R.back+=pe,R.length=$e,ve===0){R.mode=26;break}if(32&ve){R.back=-1,R.mode=12;break}if(64&ve){N.msg="invalid literal/length code",R.mode=30;break}R.extra=15&ve,R.mode=22;case 22:if(R.extra){for(ce=R.extra;te<ce;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.length+=j&(1<<R.extra)-1,j>>>=R.extra,te-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;ve=(se=R.distcode[j&(1<<R.distbits)-1])>>>16&255,$e=65535&se,!((pe=se>>>24)<=te);){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if((240&ve)==0){for(Pe=pe,Ye=ve,Oe=$e;ve=(se=R.distcode[Oe+((j&(1<<Pe+Ye)-1)>>Pe)])>>>16&255,$e=65535&se,!(Pe+(pe=se>>>24)<=te);){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}j>>>=Pe,te-=Pe,R.back+=Pe}if(j>>>=pe,te-=pe,R.back+=pe,64&ve){N.msg="invalid distance code",R.mode=30;break}R.offset=$e,R.extra=15&ve,R.mode=24;case 24:if(R.extra){for(ce=R.extra;te<ce;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}R.offset+=j&(1<<R.extra)-1,j>>>=R.extra,te-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){N.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(ue===0)break e;if(re=J-ue,R.offset>re){if((re=R.offset-re)>R.whave&&R.sane){N.msg="invalid distance too far back",R.mode=30;break}ae=re>R.wnext?(re-=R.wnext,R.wsize-re):R.wnext-re,re>R.length&&(re=R.length),de=R.window}else de=Z,ae=q-R.offset,re=R.length;for(ue<re&&(re=ue),ue-=re,R.length-=re;Z[q++]=de[ae++],--re;);R.length===0&&(R.mode=21);break;case 26:if(ue===0)break e;Z[q++]=R.length,ue--,R.mode=21;break;case 27:if(R.wrap){for(;te<32;){if(Q===0)break e;Q--,j|=K[G++]<<te,te+=8}if(J-=ue,N.total_out+=J,R.total+=J,J&&(N.adler=R.check=R.flags?l(R.check,Z,J,q-J):o(R.check,Z,J,q-J)),J=ue,(R.flags?j:b(j))!==R.check){N.msg="incorrect data check",R.mode=30;break}te=j=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;te<32;){if(Q===0)break e;Q--,j+=K[G++]<<te,te+=8}if(j!==(4294967295&R.total)){N.msg="incorrect length check",R.mode=30;break}te=j=0}R.mode=29;case 29:Ue=1;break e;case 30:Ue=-3;break e;case 31:return-4;case 32:default:return g}return N.next_out=q,N.avail_out=ue,N.next_in=G,N.avail_in=Q,R.hold=j,R.bits=te,(R.wsize||J!==N.avail_out&&R.mode<30&&(R.mode<27||F!==4))&&V(N,N.output,N.next_out,J-N.avail_out)?(R.mode=31,-4):(fe-=N.avail_in,J-=N.avail_out,N.total_in+=fe,N.total_out+=J,R.total+=J,R.wrap&&J&&(N.adler=R.check=R.flags?l(R.check,Z,J,N.next_out-J):o(R.check,Z,J,N.next_out-J)),N.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(fe==0&&J===0||F===4)&&Ue===m&&(Ue=-5),Ue)},i.inflateEnd=function(N){if(!N||!N.state)return g;var F=N.state;return F.window&&(F.window=null),N.state=null,m},i.inflateGetHeader=function(N,F){var R;return N&&N.state?(2&(R=N.state).wrap)==0?g:((R.head=F).done=!1,m):g},i.inflateSetDictionary=function(N,F){var R,K=F.length;return N&&N.state?(R=N.state).wrap!==0&&R.mode!==11?g:R.mode===11&&o(1,F,K,0)!==R.check?-3:V(N,F,K,K)?(R.mode=31,-4):(R.havedict=1,m):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,h,m,g,_,v,S,b){var Y,E,M,U,W,w,I,P,O,V=b.bits,N=0,F=0,R=0,K=0,Z=0,G=0,q=0,Q=0,ue=0,j=0,te=null,fe=0,J=new a.Buf16(16),re=new a.Buf16(16),ae=null,de=0;for(N=0;N<=15;N++)J[N]=0;for(F=0;F<g;F++)J[h[m+F]]++;for(Z=V,K=15;1<=K&&J[K]===0;K--);if(K<Z&&(Z=K),K===0)return _[v++]=20971520,_[v++]=20971520,b.bits=1,0;for(R=1;R<K&&J[R]===0;R++);for(Z<R&&(Z=R),N=Q=1;N<=15;N++)if(Q<<=1,(Q-=J[N])<0)return-1;if(0<Q&&(p===0||K!==1))return-1;for(re[1]=0,N=1;N<15;N++)re[N+1]=re[N]+J[N];for(F=0;F<g;F++)h[m+F]!==0&&(S[re[h[m+F]]++]=F);if(w=p===0?(te=ae=S,19):p===1?(te=o,fe-=257,ae=l,de-=257,256):(te=u,ae=f,-1),N=R,W=v,q=F=j=0,M=-1,U=(ue=1<<(G=Z))-1,p===1&&852<ue||p===2&&592<ue)return 1;for(;;){for(I=N-q,O=S[F]<w?(P=0,S[F]):S[F]>w?(P=ae[de+S[F]],te[fe+S[F]]):(P=96,0),Y=1<<N-q,R=E=1<<G;_[W+(j>>q)+(E-=Y)]=I<<24|P<<16|O|0,E!==0;);for(Y=1<<N-1;j&Y;)Y>>=1;if(Y!==0?(j&=Y-1,j+=Y):j=0,F++,--J[N]==0){if(N===K)break;N=h[m+S[F]]}if(Z<N&&(j&U)!==M){for(q===0&&(q=Z),W+=R,Q=1<<(G=N-q);G+q<K&&!((Q-=J[G+q])<=0);)G++,Q<<=1;if(ue+=1<<G,p===1&&852<ue||p===2&&592<ue)return 1;_[M=j&U]=Z<<24|G<<16|W-v|0}}return j!==0&&(_[W+j]=N-q<<24|64<<16|0),b.bits=Z,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),o=0,l=1;function u(se){for(var me=se.length;0<=--me;)se[me]=0}var f=0,p=29,h=256,m=h+1+p,g=30,_=19,v=2*m+1,S=15,b=16,Y=7,E=256,M=16,U=17,W=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(m+2));u(V);var N=new Array(2*g);u(N);var F=new Array(512);u(F);var R=new Array(256);u(R);var K=new Array(p);u(K);var Z,G,q,Q=new Array(g);function ue(se,me,Ne,ke,ge){this.static_tree=se,this.extra_bits=me,this.extra_base=Ne,this.elems=ke,this.max_length=ge,this.has_stree=se&&se.length}function j(se,me){this.dyn_tree=se,this.max_code=0,this.stat_desc=me}function te(se){return se<256?F[se]:F[256+(se>>>7)]}function fe(se,me){se.pending_buf[se.pending++]=255&me,se.pending_buf[se.pending++]=me>>>8&255}function J(se,me,Ne){se.bi_valid>b-Ne?(se.bi_buf|=me<<se.bi_valid&65535,fe(se,se.bi_buf),se.bi_buf=me>>b-se.bi_valid,se.bi_valid+=Ne-b):(se.bi_buf|=me<<se.bi_valid&65535,se.bi_valid+=Ne)}function re(se,me,Ne){J(se,Ne[2*me],Ne[2*me+1])}function ae(se,me){for(var Ne=0;Ne|=1&se,se>>>=1,Ne<<=1,0<--me;);return Ne>>>1}function de(se,me,Ne){var ke,ge,We=new Array(S+1),et=0;for(ke=1;ke<=S;ke++)We[ke]=et=et+Ne[ke-1]<<1;for(ge=0;ge<=me;ge++){var ze=se[2*ge+1];ze!==0&&(se[2*ge]=ae(We[ze]++,ze))}}function pe(se){var me;for(me=0;me<m;me++)se.dyn_ltree[2*me]=0;for(me=0;me<g;me++)se.dyn_dtree[2*me]=0;for(me=0;me<_;me++)se.bl_tree[2*me]=0;se.dyn_ltree[2*E]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function ve(se){8<se.bi_valid?fe(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function $e(se,me,Ne,ke){var ge=2*me,We=2*Ne;return se[ge]<se[We]||se[ge]===se[We]&&ke[me]<=ke[Ne]}function Pe(se,me,Ne){for(var ke=se.heap[Ne],ge=Ne<<1;ge<=se.heap_len&&(ge<se.heap_len&&$e(me,se.heap[ge+1],se.heap[ge],se.depth)&&ge++,!$e(me,ke,se.heap[ge],se.depth));)se.heap[Ne]=se.heap[ge],Ne=ge,ge<<=1;se.heap[Ne]=ke}function Ye(se,me,Ne){var ke,ge,We,et,ze=0;if(se.last_lit!==0)for(;ke=se.pending_buf[se.d_buf+2*ze]<<8|se.pending_buf[se.d_buf+2*ze+1],ge=se.pending_buf[se.l_buf+ze],ze++,ke===0?re(se,ge,me):(re(se,(We=R[ge])+h+1,me),(et=w[We])!==0&&J(se,ge-=K[We],et),re(se,We=te(--ke),Ne),(et=I[We])!==0&&J(se,ke-=Q[We],et)),ze<se.last_lit;);re(se,E,me)}function Oe(se,me){var Ne,ke,ge,We=me.dyn_tree,et=me.stat_desc.static_tree,ze=me.stat_desc.has_stree,nt=me.stat_desc.elems,Mt=-1;for(se.heap_len=0,se.heap_max=v,Ne=0;Ne<nt;Ne++)We[2*Ne]!==0?(se.heap[++se.heap_len]=Mt=Ne,se.depth[Ne]=0):We[2*Ne+1]=0;for(;se.heap_len<2;)We[2*(ge=se.heap[++se.heap_len]=Mt<2?++Mt:0)]=1,se.depth[ge]=0,se.opt_len--,ze&&(se.static_len-=et[2*ge+1]);for(me.max_code=Mt,Ne=se.heap_len>>1;1<=Ne;Ne--)Pe(se,We,Ne);for(ge=nt;Ne=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Pe(se,We,1),ke=se.heap[1],se.heap[--se.heap_max]=Ne,se.heap[--se.heap_max]=ke,We[2*ge]=We[2*Ne]+We[2*ke],se.depth[ge]=(se.depth[Ne]>=se.depth[ke]?se.depth[Ne]:se.depth[ke])+1,We[2*Ne+1]=We[2*ke+1]=ge,se.heap[1]=ge++,Pe(se,We,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(pt,Ft){var sn,oe,tt,De,it,Se,xe=Ft.dyn_tree,ee=Ft.max_code,Je=Ft.stat_desc.static_tree,mt=Ft.stat_desc.has_stree,X=Ft.stat_desc.extra_bits,Le=Ft.stat_desc.extra_base,Ke=Ft.stat_desc.max_length,ie=0;for(De=0;De<=S;De++)pt.bl_count[De]=0;for(xe[2*pt.heap[pt.heap_max]+1]=0,sn=pt.heap_max+1;sn<v;sn++)Ke<(De=xe[2*xe[2*(oe=pt.heap[sn])+1]+1]+1)&&(De=Ke,ie++),xe[2*oe+1]=De,ee<oe||(pt.bl_count[De]++,it=0,Le<=oe&&(it=X[oe-Le]),Se=xe[2*oe],pt.opt_len+=Se*(De+it),mt&&(pt.static_len+=Se*(Je[2*oe+1]+it)));if(ie!==0){do{for(De=Ke-1;pt.bl_count[De]===0;)De--;pt.bl_count[De]--,pt.bl_count[De+1]+=2,pt.bl_count[Ke]--,ie-=2}while(0<ie);for(De=Ke;De!==0;De--)for(oe=pt.bl_count[De];oe!==0;)ee<(tt=pt.heap[--sn])||(xe[2*tt+1]!==De&&(pt.opt_len+=(De-xe[2*tt+1])*xe[2*tt],xe[2*tt+1]=De),oe--)}})(se,me),de(We,Mt,se.bl_count)}function L(se,me,Ne){var ke,ge,We=-1,et=me[1],ze=0,nt=7,Mt=4;for(et===0&&(nt=138,Mt=3),me[2*(Ne+1)+1]=65535,ke=0;ke<=Ne;ke++)ge=et,et=me[2*(ke+1)+1],++ze<nt&&ge===et||(ze<Mt?se.bl_tree[2*ge]+=ze:ge!==0?(ge!==We&&se.bl_tree[2*ge]++,se.bl_tree[2*M]++):ze<=10?se.bl_tree[2*U]++:se.bl_tree[2*W]++,We=ge,Mt=(ze=0)===et?(nt=138,3):ge===et?(nt=6,3):(nt=7,4))}function Ue(se,me,Ne){var ke,ge,We=-1,et=me[1],ze=0,nt=7,Mt=4;for(et===0&&(nt=138,Mt=3),ke=0;ke<=Ne;ke++)if(ge=et,et=me[2*(ke+1)+1],!(++ze<nt&&ge===et)){if(ze<Mt)for(;re(se,ge,se.bl_tree),--ze!=0;);else ge!==0?(ge!==We&&(re(se,ge,se.bl_tree),ze--),re(se,M,se.bl_tree),J(se,ze-3,2)):ze<=10?(re(se,U,se.bl_tree),J(se,ze-3,3)):(re(se,W,se.bl_tree),J(se,ze-11,7));We=ge,Mt=(ze=0)===et?(nt=138,3):ge===et?(nt=6,3):(nt=7,4)}}u(Q);var be=!1;function ce(se,me,Ne,ke){J(se,(f<<1)+(ke?1:0),3),(function(ge,We,et,ze){ve(ge),fe(ge,et),fe(ge,~et),a.arraySet(ge.pending_buf,ge.window,We,et,ge.pending),ge.pending+=et})(se,me,Ne)}i._tr_init=function(se){be||((function(){var me,Ne,ke,ge,We,et=new Array(S+1);for(ge=ke=0;ge<p-1;ge++)for(K[ge]=ke,me=0;me<1<<w[ge];me++)R[ke++]=ge;for(R[ke-1]=ge,ge=We=0;ge<16;ge++)for(Q[ge]=We,me=0;me<1<<I[ge];me++)F[We++]=ge;for(We>>=7;ge<g;ge++)for(Q[ge]=We<<7,me=0;me<1<<I[ge]-7;me++)F[256+We++]=ge;for(Ne=0;Ne<=S;Ne++)et[Ne]=0;for(me=0;me<=143;)V[2*me+1]=8,me++,et[8]++;for(;me<=255;)V[2*me+1]=9,me++,et[9]++;for(;me<=279;)V[2*me+1]=7,me++,et[7]++;for(;me<=287;)V[2*me+1]=8,me++,et[8]++;for(de(V,m+1,et),me=0;me<g;me++)N[2*me+1]=5,N[2*me]=ae(me,5);Z=new ue(V,w,h+1,m,S),G=new ue(N,I,0,g,S),q=new ue(new Array(0),P,0,_,Y)})(),be=!0),se.l_desc=new j(se.dyn_ltree,Z),se.d_desc=new j(se.dyn_dtree,G),se.bl_desc=new j(se.bl_tree,q),se.bi_buf=0,se.bi_valid=0,pe(se)},i._tr_stored_block=ce,i._tr_flush_block=function(se,me,Ne,ke){var ge,We,et=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(ze){var nt,Mt=4093624447;for(nt=0;nt<=31;nt++,Mt>>>=1)if(1&Mt&&ze.dyn_ltree[2*nt]!==0)return o;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return l;for(nt=32;nt<h;nt++)if(ze.dyn_ltree[2*nt]!==0)return l;return o})(se)),Oe(se,se.l_desc),Oe(se,se.d_desc),et=(function(ze){var nt;for(L(ze,ze.dyn_ltree,ze.l_desc.max_code),L(ze,ze.dyn_dtree,ze.d_desc.max_code),Oe(ze,ze.bl_desc),nt=_-1;3<=nt&&ze.bl_tree[2*O[nt]+1]===0;nt--);return ze.opt_len+=3*(nt+1)+5+5+4,nt})(se),ge=se.opt_len+3+7>>>3,(We=se.static_len+3+7>>>3)<=ge&&(ge=We)):ge=We=Ne+5,Ne+4<=ge&&me!==-1?ce(se,me,Ne,ke):se.strategy===4||We===ge?(J(se,2+(ke?1:0),3),Ye(se,V,N)):(J(se,4+(ke?1:0),3),(function(ze,nt,Mt,pt){var Ft;for(J(ze,nt-257,5),J(ze,Mt-1,5),J(ze,pt-4,4),Ft=0;Ft<pt;Ft++)J(ze,ze.bl_tree[2*O[Ft]+1],3);Ue(ze,ze.dyn_ltree,nt-1),Ue(ze,ze.dyn_dtree,Mt-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,et+1),Ye(se,se.dyn_ltree,se.dyn_dtree)),pe(se),ke&&ve(se)},i._tr_tally=function(se,me,Ne){return se.pending_buf[se.d_buf+2*se.last_lit]=me>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&me,se.pending_buf[se.l_buf+se.last_lit]=255&Ne,se.last_lit++,me===0?se.dyn_ltree[2*Ne]++:(se.matches++,me--,se.dyn_ltree[2*(R[Ne]+h+1)]++,se.dyn_dtree[2*te(me)]++),se.last_lit===se.lit_bufsize-1},i._tr_align=function(se){J(se,2,3),re(se,E,V),(function(me){me.bi_valid===16?(fe(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):8<=me.bi_valid&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(o,l){if(!o.setImmediate){var u,f,p,h,m=1,g={},_=!1,v=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,u={}.toString.call(o.process)==="[object process]"?function(M){process.nextTick(function(){Y(M)})}:(function(){if(o.postMessage&&!o.importScripts){var M=!0,U=o.onmessage;return o.onmessage=function(){M=!1},o.postMessage("","*"),o.onmessage=U,M}})()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",E,!1):o.attachEvent("onmessage",E),function(M){o.postMessage(h+M,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(M){Y(M.data)},function(M){p.port2.postMessage(M)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(M){var U=v.createElement("script");U.onreadystatechange=function(){Y(M),U.onreadystatechange=null,f.removeChild(U),U=null},f.appendChild(U)}):function(M){setTimeout(Y,0,M)},S.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var U=new Array(arguments.length-1),W=0;W<U.length;W++)U[W]=arguments[W+1];var w={callback:M,args:U};return g[m]=w,u(m),m++},S.clearImmediate=b}function b(M){delete g[M]}function Y(M){if(_)setTimeout(Y,0,M);else{var U=g[M];if(U){_=!0;try{(function(W){var w=W.callback,I=W.args;switch(I.length){case 0:w();break;case 1:w(I[0]);break;case 2:w(I[0],I[1]);break;case 3:w(I[0],I[1],I[2]);break;default:w.apply(l,I)}})(U)}finally{b(M),_=!1}}}}function E(M){M.source===o&&typeof M.data=="string"&&M.data.indexOf(h)===0&&Y(+M.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zx)),zx.exports}var Soe=_oe();const boe=Co(Soe);function yP(t){return t.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").slice(0,100)||"bookmark"}function x5(t){const e=Math.abs(t),n=Math.floor(e),r=(e-n)*60,i=Math.floor(r),a=Math.round((r-i)*60*100);return[[n,1],[i,1],[a,100]]}function C_(t){const e={};return e[ti.GPSIFD.GPSLatitudeRef]=t.lat>=0?"N":"S",e[ti.GPSIFD.GPSLatitude]=x5(t.lat),e[ti.GPSIFD.GPSLongitudeRef]=t.lng>=0?"E":"W",e[ti.GPSIFD.GPSLongitude]=x5(t.lng),t.altitude_m!==void 0&&(e[ti.GPSIFD.GPSAltitudeRef]=t.altitude_m>=0?0:1,e[ti.GPSIFD.GPSAltitude]=[Math.abs(Math.round(t.altitude_m*100)),100]),e}function sT(t,e,n){const r={_version:1,bookmark:{id:t.id,name:t.name,description:t.description,bbox:t.bbox,timestampChannelUs:t.timestampChannelUs,timestampEpochUs:n+t.timestampChannelUs,createdAt:t.createdAt},source:{channelId:t.channelId,fileId:t.fileId},position:e?{lat:e.lat,lng:e.lng,altitude_m:e.altitude_m,yaw_deg:e.pose?.yaw_deg}:null};return JSON.stringify(r)}function vP(t){if(t.type.startsWith("video/"))return!0;const e=t.name.toLowerCase();return e.endsWith(".mp4")||e.endsWith(".mov")||e.endsWith(".avi")||e.endsWith(".mkv")}async function _P(t){return new Promise((e,n)=>{const r=new Image;t.arrayBuffer().then(a=>{const o=new Blob([a],{type:t.type}),l=URL.createObjectURL(o);r.onload=()=>{URL.revokeObjectURL(l),e(r)},r.onerror=()=>{URL.revokeObjectURL(l),n(new Error("Failed to load image"))},r.src=l}).catch(n)})}async function SP(t,e){return new Promise((n,r)=>{const i=document.createElement("video");i.muted=!0,i.playsInline=!0,t.arrayBuffer().then(o=>{const l=new Blob([o],{type:t.type||"video/mp4"}),u=URL.createObjectURL(l);i.onloadedmetadata=()=>{const f=e/1e6;i.currentTime=Math.min(f,i.duration)},i.onseeked=()=>{const f=document.createElement("canvas");f.width=i.videoWidth,f.height=i.videoHeight,f.getContext("2d").drawImage(i,0,0);const h=new Image;h.onload=()=>{URL.revokeObjectURL(u),n(h)},h.onerror=()=>{URL.revokeObjectURL(u),r(new Error("Failed to create image from video frame"))},h.src=f.toDataURL("image/jpeg",.95)},i.onerror=()=>{URL.revokeObjectURL(u),r(new Error("Failed to load video"))},i.src=u,i.load()}).catch(r)})}async function xoe(t,e){return vP(t)?SP(t,e??0):_P(t)}function Yoe(t){const e=t.lat.toFixed(5),n=t.lng.toFixed(5),r=t.lat>=0?"N":"S",i=t.lng>=0?"E":"W";return`${Math.abs(Number(e))}${r}, ${Math.abs(Number(n))}${i}`}function Toe(t){const e=[],n=t.pose?.yaw_deg;if(n!==void 0){const i=(n%360+360)%360;e.push(`${Math.round(i)}`)}const r=t.gimbalPose?.pitch_deg??t.pose?.pitch_deg;if(r!==void 0){const i=r<0?"":"";e.push(`${i}${Math.abs(Math.round(r))}`)}return e.join(" ")}function $x(t,e,n,r,i){t.strokeStyle="black",t.lineWidth=6,t.setLineDash([]),t.strokeRect(e,n,r,i),t.strokeStyle="white",t.lineWidth=3,t.setLineDash([8,8]),t.strokeRect(e,n,r,i),t.setLineDash([])}async function bP(t,e){const{fileStore:n,position:r,displaySettings:i}=e,a=i??{timeFormat:"12h",dateFormat:"short",zoneFormat:"abbrev"},o=await n.getFile(t.fileId);if(!o)throw new Error(`File not found: ${t.fileId}`);const l=await xoe(o,t.timestampChannelUs),u=l.naturalWidth,f=l.naturalHeight,p=1024,h=50,m=2,g=400,_=p-g-m,v=g,S=g,b=g+m,Y=S+m,E=p/u,M=Math.round(f*E),U=S+m+M,W=document.createElement("canvas");W.width=p,W.height=U;const w=W.getContext("2d");w.fillStyle="#000000",w.fillRect(0,0,p,U);const I=t.bbox.j*u,P=t.bbox.i*f,O=t.bbox.w*u,V=t.bbox.h*f,N=O*2,F=V*2,R=Math.max(N,F,100);let K=I-R/2,Z=P-R/2;K=Math.max(0,Math.min(u-R,K)),Z=Math.max(0,Math.min(f-R,Z)),w.drawImage(l,K,Z,R,R,0,0,g,g);const G=g/R,q=(I-O/2-K)*G,Q=(P-V/2-Z)*G,ue=O*G,j=V*G;$x(w,q,Q,ue,j);const te=_/v,fe=R*3*te,J=R*3;let re=I-fe/2,ae=P-J/2;re=Math.max(0,Math.min(u-fe,re)),ae=Math.max(0,Math.min(f-J,ae));const de=Math.min(fe,u),pe=Math.min(J,f);re<0&&(re=0),ae<0&&(ae=0),w.drawImage(l,re,ae,de,pe,b,0,_,v);const ve=_/de,$e=b+(K-re)*ve,Pe=(Z-ae)*ve,Ye=R*ve,Oe=R*ve;$x(w,$e,Pe,Ye,Oe);const L=Y;w.drawImage(l,0,0,u,f,0,L,p,M);const Ue=re*E,be=L+ae*E,ce=de*E,se=pe*E;$x(w,Ue,be,ce,se),w.fillStyle="rgba(0, 0, 0, 0.7)",w.fillRect(0,0,p,h),w.fillStyle="#ffffff",w.font="20px sans-serif",w.textBaseline="middle";const me=[];if(r){me.push(Yoe(r));const oe=Toe(r);oe&&me.push(oe);const tt=r.timestampEpochUs/1e3;me.push(la(tt,a,{includeZone:!0,includeSeconds:!1}))}const Ne=me.join(", ");w.fillText(Ne,10,h/4);const ke="EagleEyesSearch.com",ge=w.measureText(ke).width;w.fillText(ke,p-ge-10,h/4),w.font="bold 20px sans-serif";const We=t.description?`${t.name}: ${t.description}`:t.name;w.fillText(We,10,h*3/4);const et=W.toDataURL("image/jpeg",.9);let ze=et;if(r)try{const oe={GPS:C_(r)},tt=ti.dump(oe);ze=ti.insert(tt,et)}catch(oe){console.warn("Failed to embed EXIF:",oe)}const Mt=await(await fetch(ze)).blob(),pt=t.fileId.slice(0,3),Ft=yP(t.name),sn=`${pt}-${Ft}.jpg`;return{blob:Mt,filename:sn}}async function xP(t,e){const{fileStore:n,position:r,sourceFilename:i,frameIndex:a,videoCanvas:o,timeStartEpochUs:l}=e;if(o)return Y5(t,o,r,i,a,l);const u=await n.getFile(t.fileId);if(!u)throw new Error(`File not found: ${t.fileId}`);if(vP(u)){const h=await SP(u,t.timestampChannelUs),m=document.createElement("canvas");return m.width=h.naturalWidth,m.height=h.naturalHeight,m.getContext("2d").drawImage(h,0,0),Y5(t,m,r,i,a,l)}const f=await u.arrayBuffer();if(!(u.type==="image/jpeg"||u.name.toLowerCase().endsWith(".jpg")||u.name.toLowerCase().endsWith(".jpeg"))){const h=await _P(u),m=document.createElement("canvas");m.width=h.naturalWidth,m.height=h.naturalHeight,m.getContext("2d").drawImage(h,0,0);let _=m.toDataURL("image/jpeg",.95);try{const Y={};r&&(Y.GPS=C_(r)),Y.Exif={[ti.ExifIFD.UserComment]:sT(t,r??null,l)};const E=ti.dump(Y);_=ti.insert(E,_)}catch(Y){console.warn("Failed to embed EXIF:",Y)}const S=await(await fetch(_)).blob(),b=Zv(t,i,a,"jpg");return{blob:S,filename:b}}try{const m=`data:image/jpeg;base64,${Woe(f)}`;let g;try{g=ti.load(m)}catch{g={}}r&&(g.GPS=C_(r)),g.Exif||(g.Exif={}),g.Exif[ti.ExifIFD.UserComment]=sT(t,r??null,l);const _=ti.dump(g),v=ti.insert(_,m),b=await(await fetch(v)).blob(),Y=Zv(t,i,a,"jpg");return{blob:b,filename:Y}}catch(h){console.warn("Failed to patch EXIF, returning original:",h);const m=new Blob([f],{type:"image/jpeg"}),g=Zv(t,i,a,"jpg");return{blob:m,filename:g}}}async function Y5(t,e,n,r,i,a){let o=e.toDataURL("image/png");const l=e.toDataURL("image/jpeg",.95);try{const h={};n&&(h.GPS=C_(n)),h.Exif={[ti.ExifIFD.UserComment]:sT(t,n??null,a)};const m=ti.dump(h);o=ti.insert(m,l)}catch(h){console.warn("Failed to embed EXIF in video frame:",h),o=l}const f=await(await fetch(o)).blob(),p=Zv(t,r,i,"jpg");return{blob:f,filename:p}}function woe(t){const e="0123456789ABCDEFGHJKMNPQRSTVWXYZ",n=[];for(let o=0;o<t.length;o++)n.push(t.charCodeAt(o));let r="",i=0,a=0;for(const o of n)for(i=i<<8|o,a+=8;a>=5;)a-=5,r+=e[i>>a&31];return a>0&&(r+=e[i<<5-a&31]),r}function Zv(t,e,n,r){const i=t.id+t.fileId,a=woe(i).slice(0,16),o=yP(t.name);return`${a}-${o}.ann.${r}`}function Woe(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}async function Eoe(t,e){const{fileStore:n,getPosition:r,getChannelType:i,getSourceFilename:a,getTimeStartEpochUs:o,includeZoomImages:l,includeRawAnnotations:u,onProgress:f}=e,p=new boe,h=t.length*((l?1:0)+(u?1:0));let m=0;for(const g of t){const _=r(g),v=i(g),S=a(g),b=o(g);if(l){try{const{blob:Y,filename:E}=await bP(g,{fileStore:n,position:_,sourceFilename:S,timeStartEpochUs:b});p.file(`zoom/${E}`,Y)}catch(Y){console.warn(`Failed to export zoom image for ${g.name}:`,Y)}m++,f?.(m,h)}if(u){try{const{blob:Y,filename:E}=await xP(g,{fileStore:n,position:_,sourceFilename:S,channelType:v,timeStartEpochUs:b});p.file(`raw/${E}`,Y)}catch(Y){console.warn(`Failed to export raw annotation for ${g.name}:`,Y)}m++,f?.(m,h)}}return p.generateAsync({type:"blob"})}async function aT(t,e){if("showSaveFilePicker"in window)try{const a=await(await window.showSaveFilePicker({suggestedName:e,startIn:"downloads",types:[{description:"Image file",accept:{[t.type]:[`.${e.split(".").pop()}`]}}]})).createWritable();await a.write(t),await a.close();return}catch(i){i.name!=="AbortError"&&console.warn("File System Access API failed:",i)}const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}async function Uoe(t,e="bookmarks.zip"){await aT(t,e)}function Coe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Aoe=t=>{switch(t){case"success":return Roe;case"info":return Poe;case"warning":return Xoe;case"error":return Moe;default:return null}},koe=Array(12).fill(0),Ioe=({visible:t,className:e})=>gt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},gt.createElement("div",{className:"sonner-spinner"},koe.map((n,r)=>gt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Roe=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xoe=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Poe=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Moe=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Noe=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},gt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),gt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ooe=()=>{const[t,e]=gt.useState(document.hidden);return gt.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let oT=1;class Doe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:oT++,o=this.toasts.find(u=>u.id===a),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:r}),{...u,...e,id:a,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const l=i.then(async f=>{if(o=["resolve",f],gt.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(Voe(f)&&!f.ok){a=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,..._})}else if(f instanceof Error){a=!1;const h=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,..._})}else if(n.success!==void 0){a=!1;const h=typeof n.success=="function"?await n.success(f):n.success,m=typeof n.description=="function"?await n.description(f):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,..._})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,g=typeof p=="object"&&!gt.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:h,...g})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,p)=>l.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||oT++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ns=new Doe,Boe=(t,e)=>{const n=e?.id||oT++;return ns.addToast({title:t,...e,id:n}),n},Voe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Foe=Boe,Loe=()=>ns.toasts,Zoe=()=>ns.getActiveToasts(),Ys=Object.assign(Foe,{success:ns.success,info:ns.info,warning:ns.warning,error:ns.error,custom:ns.custom,message:ns.message,promise:ns.promise,dismiss:ns.dismiss,loading:ns.loading},{getHistory:Loe,getToasts:Zoe});Coe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uv(t){return t.label!==void 0}const zoe=3,$oe="24px",joe="16px",T5=4e3,Koe=356,Hoe=14,Goe=45,qoe=200;function Ua(...t){return t.filter(Boolean).join(" ")}function Qoe(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Joe=t=>{var e,n,r,i,a,o,l,u,f;const{invert:p,toast:h,unstyled:m,interacting:g,setHeights:_,visibleToasts:v,heights:S,index:b,toasts:Y,expanded:E,removeToast:M,defaultRichColors:U,closeButton:W,style:w,cancelButtonStyle:I,actionButtonStyle:P,className:O="",descriptionClassName:V="",duration:N,position:F,gap:R,expandByDefault:K,classNames:Z,icons:G,closeButtonAriaLabel:q="Close toast"}=t,[Q,ue]=gt.useState(null),[j,te]=gt.useState(null),[fe,J]=gt.useState(!1),[re,ae]=gt.useState(!1),[de,pe]=gt.useState(!1),[ve,$e]=gt.useState(!1),[Pe,Ye]=gt.useState(!1),[Oe,L]=gt.useState(0),[Ue,be]=gt.useState(0),ce=gt.useRef(h.duration||N||T5),se=gt.useRef(null),me=gt.useRef(null),Ne=b===0,ke=b+1<=v,ge=h.type,We=h.dismissible!==!1,et=h.className||"",ze=h.descriptionClassName||"",nt=gt.useMemo(()=>S.findIndex(ye=>ye.toastId===h.id)||0,[S,h.id]),Mt=gt.useMemo(()=>{var ye;return(ye=h.closeButton)!=null?ye:W},[h.closeButton,W]),pt=gt.useMemo(()=>h.duration||N||T5,[h.duration,N]),Ft=gt.useRef(0),sn=gt.useRef(0),oe=gt.useRef(0),tt=gt.useRef(null),[De,it]=F.split("-"),Se=gt.useMemo(()=>S.reduce((ye,Me,wt)=>wt>=nt?ye:ye+Me.height,0),[S,nt]),xe=Ooe(),ee=h.invert||p,Je=ge==="loading";sn.current=gt.useMemo(()=>nt*R+Se,[nt,Se]),gt.useEffect(()=>{ce.current=pt},[pt]),gt.useEffect(()=>{J(!0)},[]),gt.useEffect(()=>{const ye=me.current;if(ye){const Me=ye.getBoundingClientRect().height;return be(Me),_(wt=>[{toastId:h.id,height:Me,position:h.position},...wt]),()=>_(wt=>wt.filter(dt=>dt.toastId!==h.id))}},[_,h.id]),gt.useLayoutEffect(()=>{if(!fe)return;const ye=me.current,Me=ye.style.height;ye.style.height="auto";const wt=ye.getBoundingClientRect().height;ye.style.height=Me,be(wt),_(dt=>dt.find(kt=>kt.toastId===h.id)?dt.map(kt=>kt.toastId===h.id?{...kt,height:wt}:kt):[{toastId:h.id,height:wt,position:h.position},...dt])},[fe,h.title,h.description,_,h.id,h.jsx,h.action,h.cancel]);const mt=gt.useCallback(()=>{ae(!0),L(sn.current),_(ye=>ye.filter(Me=>Me.toastId!==h.id)),setTimeout(()=>{M(h)},qoe)},[h,M,_,sn]);gt.useEffect(()=>{if(h.promise&&ge==="loading"||h.duration===1/0||h.type==="loading")return;let ye;return E||g||xe?(()=>{if(oe.current<Ft.current){const dt=new Date().getTime()-Ft.current;ce.current=ce.current-dt}oe.current=new Date().getTime()})():(()=>{ce.current!==1/0&&(Ft.current=new Date().getTime(),ye=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),mt()},ce.current))})(),()=>clearTimeout(ye)},[E,g,h,ge,xe,mt]),gt.useEffect(()=>{h.delete&&(mt(),h.onDismiss==null||h.onDismiss.call(h,h))},[mt,h.delete]);function X(){var ye;if(G?.loading){var Me;return gt.createElement("div",{className:Ua(Z?.loader,h==null||(Me=h.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":ge==="loading"},G.loading)}return gt.createElement(Ioe,{className:Ua(Z?.loader,h==null||(ye=h.classNames)==null?void 0:ye.loader),visible:ge==="loading"})}const Le=h.icon||G?.[ge]||Aoe(ge);var Ke,ie;return gt.createElement("li",{tabIndex:0,ref:me,className:Ua(O,et,Z?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,Z?.default,Z?.[ge],h==null||(n=h.classNames)==null?void 0:n[ge]),"data-sonner-toast":"","data-rich-colors":(Ke=h.richColors)!=null?Ke:U,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":fe,"data-promise":!!h.promise,"data-swiped":Pe,"data-removed":re,"data-visible":ke,"data-y-position":De,"data-x-position":it,"data-index":b,"data-front":Ne,"data-swiping":de,"data-dismissible":We,"data-type":ge,"data-invert":ee,"data-swipe-out":ve,"data-swipe-direction":j,"data-expanded":!!(E||K&&fe),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":Y.length-b,"--offset":`${re?Oe:sn.current}px`,"--initial-height":K?"auto":`${Ue}px`,...w,...h.style},onDragEnd:()=>{pe(!1),ue(null),tt.current=null},onPointerDown:ye=>{ye.button!==2&&(Je||!We||(se.current=new Date,L(sn.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(pe(!0),tt.current={x:ye.clientX,y:ye.clientY})))},onPointerUp:()=>{var ye,Me,wt;if(ve||!We)return;tt.current=null;const dt=Number(((ye=me.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),St=Number(((Me=me.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((wt=se.current)==null?void 0:wt.getTime()),Un=Q==="x"?dt:St,hn=Math.abs(Un)/kt;if(Math.abs(Un)>=Goe||hn>.11){L(sn.current),h.onDismiss==null||h.onDismiss.call(h,h),te(Q==="x"?dt>0?"right":"left":St>0?"down":"up"),mt(),$e(!0);return}else{var At,Zt;(At=me.current)==null||At.style.setProperty("--swipe-amount-x","0px"),(Zt=me.current)==null||Zt.style.setProperty("--swipe-amount-y","0px")}Ye(!1),pe(!1),ue(null)},onPointerMove:ye=>{var Me,wt,dt;if(!tt.current||!We||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;const kt=ye.clientY-tt.current.y,Un=ye.clientX-tt.current.x;var hn;const At=(hn=t.swipeDirections)!=null?hn:Qoe(F);!Q&&(Math.abs(Un)>1||Math.abs(kt)>1)&&ue(Math.abs(Un)>Math.abs(kt)?"x":"y");let Zt={x:0,y:0};const Dn=Rn=>1/(1.5+Math.abs(Rn)/20);if(Q==="y"){if(At.includes("top")||At.includes("bottom"))if(At.includes("top")&&kt<0||At.includes("bottom")&&kt>0)Zt.y=kt;else{const Rn=kt*Dn(kt);Zt.y=Math.abs(Rn)<Math.abs(kt)?Rn:kt}}else if(Q==="x"&&(At.includes("left")||At.includes("right")))if(At.includes("left")&&Un<0||At.includes("right")&&Un>0)Zt.x=Un;else{const Rn=Un*Dn(Un);Zt.x=Math.abs(Rn)<Math.abs(Un)?Rn:Un}(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&Ye(!0),(wt=me.current)==null||wt.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(dt=me.current)==null||dt.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},Mt&&!h.jsx&&ge!=="loading"?gt.createElement("button",{"aria-label":q,"data-disabled":Je,"data-close-button":!0,onClick:Je||!We?()=>{}:()=>{mt(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Ua(Z?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ie=G?.close)!=null?ie:Noe):null,(ge||h.icon||h.promise)&&h.icon!==null&&(G?.[ge]!==null||h.icon)?gt.createElement("div",{"data-icon":"",className:Ua(Z?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||X():null,h.type!=="loading"?Le:null):null,gt.createElement("div",{"data-content":"",className:Ua(Z?.content,h==null||(a=h.classNames)==null?void 0:a.content)},gt.createElement("div",{"data-title":"",className:Ua(Z?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?gt.createElement("div",{"data-description":"",className:Ua(V,ze,Z?.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),gt.isValidElement(h.cancel)?h.cancel:h.cancel&&uv(h.cancel)?gt.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:ye=>{uv(h.cancel)&&We&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ye),mt())},className:Ua(Z?.cancelButton,h==null||(u=h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,gt.isValidElement(h.action)?h.action:h.action&&uv(h.action)?gt.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:ye=>{uv(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ye),!ye.defaultPrevented&&mt())},className:Ua(Z?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function w5(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ele(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",l=a?joe:$oe;function u(f){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=l:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):u(l)}),n}const Hfe=gt.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:f,offset:p,mobileOffset:h,theme:m="light",richColors:g,duration:_,style:v,visibleToasts:S=zoe,toastOptions:b,dir:Y=w5(),gap:E=Hoe,icons:M,containerAriaLabel:U="Notifications"}=e,[W,w]=gt.useState([]),I=gt.useMemo(()=>r?W.filter(fe=>fe.toasterId===r):W.filter(fe=>!fe.toasterId),[W,r]),P=gt.useMemo(()=>Array.from(new Set([a].concat(I.filter(fe=>fe.position).map(fe=>fe.position)))),[I,a]),[O,V]=gt.useState([]),[N,F]=gt.useState(!1),[R,K]=gt.useState(!1),[Z,G]=gt.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=gt.useRef(null),Q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=gt.useRef(null),j=gt.useRef(!1),te=gt.useCallback(fe=>{w(J=>{var re;return(re=J.find(ae=>ae.id===fe.id))!=null&&re.delete||ns.dismiss(fe.id),J.filter(({id:ae})=>ae!==fe.id)})},[]);return gt.useEffect(()=>ns.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{w(J=>J.map(re=>re.id===fe.id?{...re,delete:!0}:re))});return}setTimeout(()=>{dA.flushSync(()=>{w(J=>{const re=J.findIndex(ae=>ae.id===fe.id);return re!==-1?[...J.slice(0,re),{...J[re],...fe},...J.slice(re+1)]:[fe,...J]})})})}),[W]),gt.useEffect(()=>{if(m!=="system"){G(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:J})=>{G(J?"dark":"light")})}catch{fe.addListener(({matches:re})=>{try{G(re?"dark":"light")}catch(ae){console.error(ae)}})}},[m]),gt.useEffect(()=>{W.length<=1&&F(!1)},[W]),gt.useEffect(()=>{const fe=J=>{var re;if(o.every(pe=>J[pe]||J.code===pe)){var de;F(!0),(de=q.current)==null||de.focus()}J.code==="Escape"&&(document.activeElement===q.current||(re=q.current)!=null&&re.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[o]),gt.useEffect(()=>{if(q.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,j.current=!1)}},[q.current]),gt.createElement("section",{ref:n,"aria-label":`${U} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((fe,J)=>{var re;const[ae,de]=fe.split("-");return I.length?gt.createElement("ol",{key:fe,dir:Y==="auto"?w5():Y,tabIndex:-1,ref:q,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":ae,"data-x-position":de,style:{"--front-toast-height":`${((re=O[0])==null?void 0:re.height)||0}px`,"--width":`${Koe}px`,"--gap":`${E}px`,...v,...ele(p,h)},onBlur:pe=>{j.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(j.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||j.current||(j.current=!0,ue.current=pe.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{R||F(!1)},onDragEnd:()=>F(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},I.filter(pe=>!pe.position&&J===0||pe.position===fe).map((pe,ve)=>{var $e,Pe;return gt.createElement(Joe,{key:pe.id,icons:M,index:ve,toast:pe,defaultRichColors:g,duration:($e=b?.duration)!=null?$e:_,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Pe=b?.closeButton)!=null?Pe:u,interacting:R,position:fe,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:te,toasts:I.filter(Ye=>Ye.position==pe.position),heights:O.filter(Ye=>Ye.position==pe.position),setHeights:V,expandByDefault:l,gap:E,expanded:N,swipeDirections:e.swipeDirections})})):null}))});function YP(t){const e=bn(Oz),n=bn(Bz),r=Jt(Ml),i=Jt(gn(t.channelId)),a=Jt(bo(t.channelId)),o=Jt(U0),[l,u]=B.useState(!1),[f,p]=B.useState(!1),h=B.useCallback(()=>{if(!a?.positions||a.positions.length===0)return null;const Y=t.timestampChannelUs;let E=a.positions[0],M=Math.abs(E.timestampChannelUs-Y);for(const U of a.positions){const W=Math.abs(U.timestampChannelUs-Y);W<M&&(M=W,E=U)}return E},[a,t.timestampChannelUs]),m=B.useCallback(()=>{u(!0)},[]),g=B.useCallback(async(Y,E,M)=>{await e(Y,{name:E,description:M}),u(!1)},[e]),_=B.useCallback(async()=>{confirm(`Delete bookmark "${t.name}"?`)&&await n(t.id)},[t.name,t.id,n]),v=B.useCallback(()=>{u(!1)},[]),S=B.useCallback(async()=>{if(!f){p(!0);try{const Y=h(),{blob:E,filename:M}=await bP(t,{fileStore:r,position:Y,sourceFilename:i?.sourceType,displaySettings:o,timeStartEpochUs:i?.timeStartEpochUs??0});await aT(E,M),Ys.success(`Exported "${M}"`)}catch(Y){console.error("Failed to export zoom image:",Y),Ys.error("Failed to export zoom image")}finally{p(!1)}}},[f,h,t,r,i?.sourceType,i?.timeStartEpochUs,o]),b=B.useCallback(async()=>{if(!f){p(!0);try{const Y=h(),E=i?.getType()==="video"?"video":"image",{blob:M,filename:U}=await xP(t,{fileStore:r,position:Y,sourceFilename:i?.sourceType,channelType:E,timeStartEpochUs:i?.timeStartEpochUs??0});await aT(M,U),Ys.success(`Exported "${U}"`)}catch(Y){console.error("Failed to export raw annotation:",Y),Ys.error("Failed to export raw annotation")}finally{p(!1)}}},[f,h,t,r,i]);return{handleEdit:m,handleDelete:_,handleExportZoom:S,handleExportRaw:b,isExporting:f,isEditing:l,editDialogProps:l?{editMode:{id:t.id,name:t.name,description:t.description},onUpdate:g,onDelete:()=>n(t.id),onCancel:v}:null}}function TP(t){const e=_t.c(68),{actions:n,onClose:r,variant:i}=t,a=i===void 0?"context-menu":i,{handleEdit:o,handleDelete:l,handleExportZoom:u,handleExportRaw:f,isExporting:p}=n;let h;e[0]!==r?(h=N=>{N(),r?.()},e[0]=r,e[1]=h):h=e[1];const m=h;if(a==="dropdown"){let N;e[2]!==m||e[3]!==o?(N=()=>m(o),e[2]=m,e[3]=o,e[4]=N):N=e[4];let F;e[5]===Symbol.for("react.memo_cache_sentinel")?(F=A.jsx(jE,{className:"w-4 h-4 mr-2"}),e[5]=F):F=e[5];let R;e[6]!==N?(R=A.jsxs("button",{onClick:N,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",children:[F,"Edit"]}),e[6]=N,e[7]=R):R=e[7];let K;e[8]===Symbol.for("react.memo_cache_sentinel")?(K=A.jsx("div",{className:"h-px bg-border my-1"}),e[8]=K):K=e[8];let Z;e[9]!==m||e[10]!==u?(Z=()=>m(u),e[9]=m,e[10]=u,e[11]=Z):Z=e[11];let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=A.jsx($E,{className:"w-4 h-4 mr-2"}),e[12]=G):G=e[12];let q;e[13]!==p||e[14]!==Z?(q=A.jsxs("button",{onClick:Z,disabled:p,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground disabled:opacity-50",children:[G,"Export Zoom Image"]}),e[13]=p,e[14]=Z,e[15]=q):q=e[15];let Q;e[16]!==m||e[17]!==f?(Q=()=>m(f),e[16]=m,e[17]=f,e[18]=Q):Q=e[18];let ue;e[19]===Symbol.for("react.memo_cache_sentinel")?(ue=A.jsx(t1,{className:"w-4 h-4 mr-2"}),e[19]=ue):ue=e[19];let j;e[20]!==p||e[21]!==Q?(j=A.jsxs("button",{onClick:Q,disabled:p,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground disabled:opacity-50",children:[ue,"Export Raw Annotation"]}),e[20]=p,e[21]=Q,e[22]=j):j=e[22];let te;e[23]===Symbol.for("react.memo_cache_sentinel")?(te=A.jsx("div",{className:"h-px bg-border my-1"}),e[23]=te):te=e[23];let fe;e[24]!==m||e[25]!==l?(fe=()=>m(l),e[24]=m,e[25]=l,e[26]=fe):fe=e[26];let J;e[27]===Symbol.for("react.memo_cache_sentinel")?(J=A.jsx(t0,{className:"w-4 h-4 mr-2"}),e[27]=J):J=e[27];let re;e[28]!==fe?(re=A.jsxs("button",{onClick:fe,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent text-destructive hover:text-destructive",children:[J,"Delete"]}),e[28]=fe,e[29]=re):re=e[29];let ae;return e[30]!==j||e[31]!==re||e[32]!==R||e[33]!==q?(ae=A.jsxs(A.Fragment,{children:[R,K,q,j,te,re]}),e[30]=j,e[31]=re,e[32]=R,e[33]=q,e[34]=ae):ae=e[34],ae}let g;e[35]!==m||e[36]!==o?(g=()=>m(o),e[35]=m,e[36]=o,e[37]=g):g=e[37];let _;e[38]===Symbol.for("react.memo_cache_sentinel")?(_=A.jsx(jE,{className:"w-4 h-4 mr-2"}),e[38]=_):_=e[38];let v;e[39]!==g?(v=A.jsxs(Aa,{onClick:g,children:[_,"Edit"]}),e[39]=g,e[40]=v):v=e[40];let S;e[41]===Symbol.for("react.memo_cache_sentinel")?(S=A.jsx(Zu,{}),e[41]=S):S=e[41];let b;e[42]!==m||e[43]!==u?(b=()=>m(u),e[42]=m,e[43]=u,e[44]=b):b=e[44];let Y;e[45]===Symbol.for("react.memo_cache_sentinel")?(Y=A.jsx($E,{className:"w-4 h-4 mr-2"}),e[45]=Y):Y=e[45];let E;e[46]!==p||e[47]!==b?(E=A.jsxs(Aa,{onClick:b,disabled:p,children:[Y,"Export Zoom Image (CalTopo/Email)"]}),e[46]=p,e[47]=b,e[48]=E):E=e[48];let M;e[49]!==m||e[50]!==f?(M=()=>m(f),e[49]=m,e[50]=f,e[51]=M):M=e[51];let U;e[52]===Symbol.for("react.memo_cache_sentinel")?(U=A.jsx(t1,{className:"w-4 h-4 mr-2"}),e[52]=U):U=e[52];let W;e[53]!==p||e[54]!==M?(W=A.jsxs(Aa,{onClick:M,disabled:p,children:[U,"Export Raw Annotation (Eagle Eyes)"]}),e[53]=p,e[54]=M,e[55]=W):W=e[55];let w;e[56]===Symbol.for("react.memo_cache_sentinel")?(w=A.jsx(Zu,{}),e[56]=w):w=e[56];let I;e[57]!==m||e[58]!==l?(I=()=>m(l),e[57]=m,e[58]=l,e[59]=I):I=e[59];let P;e[60]===Symbol.for("react.memo_cache_sentinel")?(P=A.jsx(t0,{className:"w-4 h-4 mr-2"}),e[60]=P):P=e[60];let O;e[61]!==I?(O=A.jsxs(Aa,{onClick:I,className:"text-destructive focus:text-destructive",children:[P,"Delete"]}),e[61]=I,e[62]=O):O=e[62];let V;return e[63]!==W||e[64]!==O||e[65]!==v||e[66]!==E?(V=A.jsxs(A.Fragment,{children:[v,S,E,W,w,O]}),e[63]=W,e[64]=O,e[65]=v,e[66]=E,e[67]=V):V=e[67],V}function tle(t){const e=_t.c(12),{bookmark:n,children:r}=t,i=YP(n);let a;e[0]!==r?(a=A.jsx(zw,{asChild:!0,children:r}),e[0]=r,e[1]=a):a=e[1];let o;e[2]!==i?(o=A.jsx($w,{children:A.jsx(TP,{actions:i})}),e[2]=i,e[3]=o):o=e[3];let l;e[4]!==a||e[5]!==o?(l=A.jsxs(Zw,{children:[a,o]}),e[4]=a,e[5]=o,e[6]=l):l=e[6];let u;e[7]!==i.editDialogProps?(u=i.editDialogProps&&A.jsx(gP,{...i.editDialogProps}),e[7]=i.editDialogProps,e[8]=u):u=e[8];let f;return e[9]!==l||e[10]!==u?(f=A.jsxs(A.Fragment,{children:[l,u]}),e[9]=l,e[10]=u,e[11]=f):f=e[11],f}function Gfe(t){const e=_t.c(19),{bookmark:n,x:r,y:i,onClose:a,onEdit:o}=t,l=YP(n);let u;e[0]!==l||e[1]!==n||e[2]!==o?(u=o?{...l,handleEdit:()=>o(n)}:l,e[0]=l,e[1]=n,e[2]=o,e[3]=u):u=e[3];const f=u;let p;e[4]!==r||e[5]!==i?(p={left:r,top:i},e[4]=r,e[5]=i,e[6]=p):p=e[6];let h;e[7]!==a||e[8]!==f?(h=A.jsx(TP,{actions:f,variant:"dropdown",onClose:a}),e[7]=a,e[8]=f,e[9]=h):h=e[9];let m;e[10]!==p||e[11]!==h?(m=A.jsx("div",{className:"fixed z-50 min-w-[10rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",style:p,children:h}),e[10]=p,e[11]=h,e[12]=m):m=e[12];let g;e[13]!==l||e[14]!==o?(g=!o&&l.editDialogProps&&A.jsx(gP,{...l.editDialogProps}),e[13]=l,e[14]=o,e[15]=g):g=e[15];let _;return e[16]!==m||e[17]!==g?(_=A.jsxs(A.Fragment,{children:[m,g]}),e[16]=m,e[17]=g,e[18]=_):_=e[18],_}function nle(t){const e=_t.c(33),{recordId:n,children:r}=t;let i;e[0]!==n?(i=So(n),e[0]=n,e[1]=i):i=e[1];const a=Jt(i),o=Jt(Ml),l=bn(x2),u=bn(mX),f=Jt(U0),p=W0(),m=a?.channelIds[0]??"";let g;e[2]!==m?(g=gn(m),e[2]=m,e[3]=g):g=e[3];const _=Jt(g);if(!a){let N;return e[4]!==r?(N=A.jsx(A.Fragment,{children:r}),e[4]=r,e[5]=N):N=e[5],N}let v=a.id;if(_){let N;if(e[6]!==f||e[7]!==_.timeStartEpochUs){const F=la(_.timeStartEpochUs/1e3,f,{includeZone:!1});let R;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=/:\d{2}(?=\s|$)/,e[9]=R):R=e[9],N=F.replace(R,""),e[6]=f,e[7]=_.timeStartEpochUs,e[8]=N}else N=e[8];v=N}const S=a.channelIds.length;let b;e[10]!==u||e[11]!==o||e[12]!==l||e[13]!==a.channelIds||e[14]!==p?(b=async()=>{const N=[];for(const F of a.channelIds){const R=p.get(gn(F));R&&(N.push(...R.fileHashes),R.metadataFileHashes&&N.push(...R.metadataFileHashes.values()))}for(const F of N)await o.removeFile(F);u(),kw(o,l,!1)},e[10]=u,e[11]=o,e[12]=l,e[13]=a.channelIds,e[14]=p,e[15]=b):b=e[15];const Y=b;let E;e[16]!==r?(E=A.jsx(zw,{children:r}),e[16]=r,e[17]=E):E=e[17];let M;e[18]!==v?(M=A.jsxs(mP,{children:["Record: ",v]}),e[18]=v,e[19]=M):M=e[19];let U;e[20]===Symbol.for("react.memo_cache_sentinel")?(U=A.jsx(Zu,{}),e[20]=U):U=e[20];let W;e[21]===Symbol.for("react.memo_cache_sentinel")?(W=A.jsx(t0,{className:"w-4 h-4"}),e[21]=W):W=e[21];const w=S===1?"channel":`${S} channels`;let I;e[22]!==w?(I=A.jsxs("span",{children:["Remove ",w]}),e[22]=w,e[23]=I):I=e[23];let P;e[24]!==Y||e[25]!==I?(P=A.jsxs(Aa,{onClick:Y,className:"text-destructive focus:text-destructive",children:[W,I]}),e[24]=Y,e[25]=I,e[26]=P):P=e[26];let O;e[27]!==P||e[28]!==M?(O=A.jsxs($w,{className:"w-56",children:[M,U,P]}),e[27]=P,e[28]=M,e[29]=O):O=e[29];let V;return e[30]!==O||e[31]!==E?(V=A.jsxs(Zw,{children:[E,O]}),e[30]=O,e[31]=E,e[32]=V):V=e[32],V}function rle(){const t=_t.c(17),e=Jt(Ec),n=Jt(Xi),r=Jt(Ml),i=bn(x2);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=A.jsx("span",{children:"Channels"}),t[0]=a):a=t[0];let o;t[1]!==r||t[2]!==i?(o=!window.electronAPI&&A.jsx(wi,{variant:"ghost",size:"icon-sm",title:"Refresh tracked directories",onClick:async()=>kw(r,i,!0),children:A.jsx(CD,{className:"w-4 h-4"})}),t[1]=r,t[2]=i,t[3]=o):o=t[3];let l;t[4]!==o?(l=A.jsx(YZ,{children:A.jsxs("div",{className:"px-2 py-1 text-sm font-semibold flex items-center justify-between",children:[a,o]})}),t[4]=o,t[5]=l):l=t[5];let u;t[6]!==n?(u=A.jsx(sle,{channelIds:n}),t[6]=n,t[7]=u):u=t[7];let f;t[8]!==e?(f=e.length>0&&A.jsx(s6,{children:A.jsx(a6,{children:A.jsx(o6,{children:e.map(ile)})})}),t[8]=e,t[9]=f):f=t[9];let p;t[10]!==u||t[11]!==f?(p=A.jsxs(wZ,{children:[u,f]}),t[10]=u,t[11]=f,t[12]=p):p=t[12];let h;t[13]===Symbol.for("react.memo_cache_sentinel")?(h=A.jsx(TZ,{children:A.jsx(hle,{})}),t[13]=h):h=t[13];let m;return t[14]!==l||t[15]!==p?(m=A.jsxs(bZ,{children:[l,p,h]}),t[14]=l,t[15]=p,t[16]=m):m=t[16],m}function ile(t){return A.jsx(lle,{recordId:t},t)}function sle(t){const e=_t.c(21),{channelIds:n}=t,r=Jt(t9);let i,a,o,l,u,f;if(e[0]!==n||e[1]!==r){f=Symbol.for("react.early_return_sentinel");e:{let g;e[8]!==r?(g=v=>!r.has(v),e[8]=r,e[9]=g):g=e[9];const _=n.filter(g);if(_.length===0){f=null;break e}o=s6,e[10]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsx(WZ,{children:"Livestreams"}),e[10]=u):u=e[10],a=a6,i=o6,l=_.map(ale)}e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=o,e[5]=l,e[6]=u,e[7]=f}else i=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7];if(f!==Symbol.for("react.early_return_sentinel"))return f;let p;e[11]!==i||e[12]!==l?(p=A.jsx(i,{children:l}),e[11]=i,e[12]=l,e[13]=p):p=e[13];let h;e[14]!==a||e[15]!==p?(h=A.jsx(a,{children:p}),e[14]=a,e[15]=p,e[16]=h):h=e[16];let m;return e[17]!==o||e[18]!==u||e[19]!==h?(m=A.jsxs(o,{children:[u,h]}),e[17]=o,e[18]=u,e[19]=h,e[20]=m):m=e[20],m}function ale(t){return A.jsx(ole,{channelId:t},t)}function ole(t){const e=_t.c(23),{channelId:n}=t;let r;e[0]!==n?(r=gn(n),e[0]=n,e[1]=r):r=e[1];const i=Jt(r),a=Jt(wn),o=bn(wo);let l;e[2]!==n?(l=dz(n),e[2]=n,e[3]=l):l=e[3];const u=bn(l);if(!i||!(i instanceof ga))return null;const f=a.channelId===n;let p;e[4]!==n||e[5]!==o?(p=()=>{o({channelId:n,source:"sidebar"})},e[4]=n,e[5]=o,e[6]=p):p=e[6];const h=p;let m;e[7]!==u?(m=U=>{U.stopPropagation(),u()},e[7]=u,e[8]=m):m=e[8];const g=m,_=f?"bg-accent":"";let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=A.jsx(wD,{className:"w-4 h-4"}),e[9]=v):v=e[9];let S;e[10]!==i.streamId?(S=A.jsx("span",{className:"flex-1",children:i.streamId}),e[10]=i.streamId,e[11]=S):S=e[11];let b;e[12]!==g?(b=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),g(U))},e[12]=g,e[13]=b):b=e[13];let Y;e[14]===Symbol.for("react.memo_cache_sentinel")?(Y=A.jsx(b1,{className:"w-3.5 h-3.5"}),e[14]=Y):Y=e[14];let E;e[15]!==g||e[16]!==b?(E=A.jsx("div",{onClick:g,className:"ml-auto p-0.5 rounded hover:bg-muted-foreground/20 transition-colors cursor-pointer",role:"button","aria-label":"Close livestream",tabIndex:0,onKeyDown:b,children:Y}),e[15]=g,e[16]=b,e[17]=E):E=e[17];let M;return e[18]!==h||e[19]!==E||e[20]!==_||e[21]!==S?(M=A.jsx(l6,{children:A.jsxs(c6,{onClick:h,className:_,children:[v,S,E]})}),e[18]=h,e[19]=E,e[20]=_,e[21]=S,e[22]=M):M=e[22],M}function lle(t){const e=_t.c(27),{recordId:n}=t;let r;e[0]!==n?(r=So(n),e[0]=n,e[1]=r):r=e[1];const i=Jt(r),a=Jt(U0),[o,l]=B.useState(!0),f=i?.channelIds[0]??"";let p;e[2]!==f?(p=gn(f),e[2]=f,e[3]=p):p=e[3];const h=Jt(p);if(!i)return null;let m=i.id;if(h){let U;if(e[4]!==a||e[5]!==h.timeStartEpochUs){const W=la(h.timeStartEpochUs/1e3,a,{includeZone:!1});let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=/:\d{2}(?=\s|$)/,e[7]=w):w=e[7],U=W.replace(w,""),e[4]=a,e[5]=h.timeStartEpochUs,e[6]=U}else U=e[6];m=U}let g;e[8]!==o?(g=()=>l(!o),e[8]=o,e[9]=g):g=e[9];const _=`w-4 h-4 transition-transform duration-200 ${o?"rotate-90":""}`;let v;e[10]!==_?(v=A.jsx(IT,{className:_}),e[10]=_,e[11]=v):v=e[11];let S;e[12]!==m?(S=A.jsx("span",{children:m}),e[12]=m,e[13]=S):S=e[13];let b;e[14]!==g||e[15]!==v||e[16]!==S?(b=A.jsxs(c6,{onClick:g,children:[v,S]}),e[14]=g,e[15]=v,e[16]=S,e[17]=b):b=e[17];let Y;e[18]!==n||e[19]!==b?(Y=A.jsx(nle,{recordId:n,children:b}),e[18]=n,e[19]=b,e[20]=Y):Y=e[20];let E;e[21]!==o||e[22]!==i.channelIds?(E=o&&A.jsx(u6,{children:i.channelIds.map(cle)}),e[21]=o,e[22]=i.channelIds,e[23]=E):E=e[23];let M;return e[24]!==E||e[25]!==Y?(M=A.jsxs(l6,{children:[Y,E]}),e[24]=E,e[25]=Y,e[26]=M):M=e[26],M}function cle(t){return A.jsx(ule,{channelId:t},t)}function ule({channelId:t}){const e=Jt(gn(t)),n=Jt(wn),r=bn(J9),i=bn(xz),a=bn(O6),o=Jt(U0),[l,u]=B.useState(!1),f=Jt(l2(t)),p=Array.from(f.values()),h=Jt(Da(t)),m=p.length>0||h.length>0,g=Jt(N6(t)),_=B.useRef(null);if(f$("sidebar",B.useCallback(V=>{V===t&&_.current&&_.current.scrollIntoView({behavior:"smooth",block:"center"})},[t])),!e)return null;const v=n.channelId===t;B.useEffect(()=>{u(v&&m)},[v,m]);const S=()=>{r({channelId:t,source:"sidebar"}),i(t),a(t)},b=V=>{m&&(V.stopPropagation(),u(!l))},Y=e.getType(),E=e.sourceType==="panorama"?RT:Y==="image_collection"?r_:Y==="livestream"?P7:n0,M=(e.timeEndEpochUs-e.timeStartEpochUs)/1e3,U=Xu(M),W=e.sourceType!=="unknown"?e.sourceType.charAt(0).toUpperCase()+e.sourceType.slice(1):null,w=e.getFrameCount();let I;w===1?I=W?`${W} (1 frame)`:"1 frame":I=W?`${W}: ${U} (${w})`:`${U} (${w})`;const P=la(e.timeStartEpochUs/1e3,o);let O;return w===1?O=W?`${W} (1 frame)`:"1 frame":O=W?`${W}: ${U} (${w} frames)`:`${U} (${w} frames)`,A.jsxs(tw,{children:[A.jsx(ew,{delayDuration:300,children:A.jsxs(e2,{children:[A.jsx(t2,{asChild:!0,children:A.jsx("div",{ref:_,children:A.jsx(goe,{channelId:t,children:A.jsxs(nw,{onClick:S,className:v?"ring-2 ring-white ring-offset-1 ring-offset-background":"",children:[m&&A.jsx("div",{onClick:b,children:A.jsx(IT,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-90":""}`})}),A.jsx(E,{className:"w-4 h-4 shrink-0"}),A.jsx("span",{children:I}),h.length>0&&A.jsx(L_,{className:"w-3.5 h-3.5 ml-auto shrink-0 text-neutral-500"}),!e.hasValidTime&&A.jsx(PD,{className:`w-3.5 h-3.5 shrink-0 text-amber-500 ${h.length===0?"ml-auto":""}`}),!g&&A.jsx(AA,{className:`w-3.5 h-3.5 shrink-0 text-destructive ${h.length===0&&e.hasValidTime?"ml-auto":""}`})]})})})}),A.jsxs(n2,{side:"right",className:"font-mono text-xs",children:[A.jsx("div",{children:P}),A.jsx("div",{children:O}),!e.hasValidTime&&A.jsx("div",{className:"text-amber-500",children:"No timestamp (excluded from timeline)"}),!g&&A.jsx("div",{className:"text-destructive",children:"No location data"})]})]})}),l&&m&&A.jsxs(u6,{children:[h.map(V=>A.jsx(dle,{bookmark:V},V.id)),p.map((V,N)=>V[0]?A.jsx(fle,{channelId:t,detection:V[0]},V[0].modelName||N):null)]})]})}function fle(t){const e=_t.c(11),{channelId:n,detection:r}=t,i=r.modelName,a=Jt(wn),o=bn(ez),l=bn(wo);let u;e[0]!==n||e[1]!==i||e[2]!==o||e[3]!==l?(u=()=>{l({channelId:n,source:"sidebar"}),o(i)},e[0]=n,e[1]=i,e[2]=o,e[3]=l,e[4]=u):u=e[4];const f=u,h=a.channelId===n&&a.channelModelName===i?"bg-accent":"";let m;e[5]!==i?(m=A.jsx("span",{children:i}),e[5]=i,e[6]=m):m=e[6];let g;return e[7]!==f||e[8]!==h||e[9]!==m?(g=A.jsx(tw,{children:A.jsx(nw,{onClick:f,className:h,children:m})}),e[7]=f,e[8]=h,e[9]=m,e[10]=g):g=e[10],g}function dle(t){const e=_t.c(12),{bookmark:n}=t,r=bn(dw);let i;e[0]!==n.id||e[1]!==r?(i=()=>{r(n.id)},e[0]=n.id,e[1]=r,e[2]=i):i=e[2];const a=i;let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx(L_,{className:"w-4 h-4 text-neutral-500"}),e[3]=o):o=e[3];let l;e[4]!==n.name?(l=A.jsx("span",{className:"truncate",children:n.name}),e[4]=n.name,e[5]=l):l=e[5];let u;e[6]!==a||e[7]!==l?(u=A.jsxs(nw,{onClick:a,children:[o,l]}),e[6]=a,e[7]=l,e[8]=u):u=e[8];let f;return e[9]!==n||e[10]!==u?(f=A.jsx(tw,{children:A.jsx(tle,{bookmark:n,children:u})}),e[9]=n,e[10]=u,e[11]=f):f=e[11],f}function hle(){const t=_t.c(24),e=Jt(a0),n=bn(yz),r=bn(vz),i=bn(mz);if(e.length===0)return null;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=A.jsx(OD,{className:"w-4 h-4"}),t[0]=a):a=t[0];const o=e.length!==1?"s":"";let l;t[1]!==e.length||t[2]!==o?(l=A.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-destructive",children:[a,A.jsxs("span",{children:[e.length," error",o]})]}),t[1]=e.length,t[2]=o,t[3]=l):l=t[3];let u;t[4]!==r?(u=()=>r(),t[4]=r,t[5]=u):u=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=A.jsx(t0,{className:"w-3.5 h-3.5"}),t[6]=f):f=t[6];let p;t[7]!==u?(p=A.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Clear all errors",children:f}),t[7]=u,t[8]=p):p=t[8];let h;t[9]!==l||t[10]!==p?(h=A.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[l,p]}),t[9]=l,t[10]=p,t[11]=h):h=t[11];let m;if(t[12]!==n||t[13]!==e||t[14]!==i){let v;t[16]!==n||t[17]!==i?(v=S=>A.jsxs("div",{className:"flex items-start gap-2 px-2 py-1.5 text-xs border-t border-border/50 hover:bg-muted/50 cursor-pointer",onClick:()=>i(S),children:[A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("div",{className:"font-medium text-foreground truncate",children:S.message}),S.details&&A.jsx("div",{className:"text-muted-foreground truncate",title:S.details,children:S.details})]}),A.jsx("button",{onClick:b=>{b.stopPropagation(),n(S.id)},className:"p-0.5 rounded hover:bg-muted-foreground/20 text-muted-foreground hover:text-foreground transition-colors shrink-0",children:A.jsx(b1,{className:"w-3 h-3"})})]},S.id),t[16]=n,t[17]=i,t[18]=v):v=t[18],m=e.map(v),t[12]=n,t[13]=e,t[14]=i,t[15]=m}else m=t[15];let g;t[19]!==m?(g=A.jsx("div",{className:"max-h-32 overflow-y-auto",children:m}),t[19]=m,t[20]=g):g=t[20];let _;return t[21]!==h||t[22]!==g?(_=A.jsxs("div",{className:"border-t border-border",children:[h,g]}),t[21]=h,t[22]=g,t[23]=_):_=t[23],_}const ple="Eagle Eyes Mirada",mle="0.0.2rc1";function gle(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...n}),e[2]=n,e[3]=r):r=e[3],r}function yle(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("ol",{"data-slot":"breadcrumb-list",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function W5(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("inline-flex items-center gap-1.5",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("li",{"data-slot":"breadcrumb-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function E5(t){const e=_t.c(10);let n,r,i;e[0]!==t?({asChild:n,className:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const a=n?S1:"a";let o;e[4]!==r?(o=jt("hover:text-foreground transition-colors",r),e[4]=r,e[5]=o):o=e[5];let l;return e[6]!==a||e[7]!==i||e[8]!==o?(l=A.jsx(a,{"data-slot":"breadcrumb-link",className:o,...i}),e[6]=a,e[7]=i,e[8]=o,e[9]=l):l=e[9],l}function vle(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("text-foreground font-normal",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function _le(t){const e=_t.c(12);let n,r,i;e[0]!==t?({children:n,className:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==r?(a=jt("[&>svg]:size-3.5",r),e[4]=r,e[5]=a):a=e[5];let o;e[6]!==n?(o=n??A.jsx(IT,{}),e[6]=n,e[7]=o):o=e[7];let l;return e[8]!==i||e[9]!==a||e[10]!==o?(l=A.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:a,...i,children:o}),e[8]=i,e[9]=a,e[10]=o,e[11]=l):l=e[11],l}var W2="DropdownMenu",[Sle]=Fa(W2,[Y2]),$i=Y2(),[ble,wP]=Sle(W2),WP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,u=$i(e),f=B.useRef(null),[p,h]=Tc({prop:i,defaultProp:a??!1,onChange:o,caller:W2});return A.jsx(ble,{scope:e,triggerId:Ia(),triggerRef:f,contentId:Ia(),open:p,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(m=>!m),[h]),modal:l,children:A.jsx(ZX,{...u,open:p,onOpenChange:h,dir:r,modal:l,children:n})})};WP.displayName=W2;var EP="DropdownMenuTrigger",UP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=wP(EP,n),o=$i(n);return A.jsx(zX,{asChild:!0,...o,children:A.jsx(xn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ao(e,a.triggerRef),onPointerDown:Nt(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Nt(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});UP.displayName=EP;var xle="DropdownMenuPortal",CP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=$i(e);return A.jsx($X,{...r,...n})};CP.displayName=xle;var AP="DropdownMenuContent",kP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=wP(AP,n),a=$i(n),o=B.useRef(!1);return A.jsx(jX,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Nt(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Nt(t.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!i.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kP.displayName=AP;var Yle="DropdownMenuGroup",Tle=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(KX,{...i,...r,ref:e})});Tle.displayName=Yle;var wle="DropdownMenuLabel",IP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(HX,{...i,...r,ref:e})});IP.displayName=wle;var Wle="DropdownMenuItem",RP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(GX,{...i,...r,ref:e})});RP.displayName=Wle;var Ele="DropdownMenuCheckboxItem",Ule=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(qX,{...i,...r,ref:e})});Ule.displayName=Ele;var Cle="DropdownMenuRadioGroup",XP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(QX,{...i,...r,ref:e})});XP.displayName=Cle;var Ale="DropdownMenuRadioItem",PP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(JX,{...i,...r,ref:e})});PP.displayName=Ale;var kle="DropdownMenuItemIndicator",MP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(eP,{...i,...r,ref:e})});MP.displayName=kle;var Ile="DropdownMenuSeparator",NP=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(tP,{...i,...r,ref:e})});NP.displayName=Ile;var Rle="DropdownMenuArrow",Xle=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(nP,{...i,...r,ref:e})});Xle.displayName=Rle;var Ple="DropdownMenuSubTrigger",Mle=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(rP,{...i,...r,ref:e})});Mle.displayName=Ple;var Nle="DropdownMenuSubContent",Ole=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$i(n);return A.jsx(iP,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ole.displayName=Nle;var Dle=WP,Ble=UP,Vle=CP,Fle=kP,Lle=IP,Zle=RP,zle=XP,$le=PP,jle=MP,Kle=NP;function C1(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(Dle,{"data-slot":"dropdown-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function A1(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(Ble,{"data-slot":"dropdown-menu-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function k1(t){const e=_t.c(10);let n,r,i;e[0]!==t?({className:n,sideOffset:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const a=i===void 0?4:i;let o;e[4]!==n?(o=jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[4]=n,e[5]=o):o=e[5];let l;return e[6]!==r||e[7]!==a||e[8]!==o?(l=A.jsx(Vle,{children:A.jsx(Fle,{"data-slot":"dropdown-menu-content",sideOffset:a,className:o,...r})}),e[6]=r,e[7]=a,e[8]=o,e[9]=l):l=e[9],l}function fa(t){const e=_t.c(12);let n,r,i,a;e[0]!==t?({className:n,inset:r,variant:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"default":a;let l;e[5]!==n?(l=jt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=l):l=e[6];let u;return e[7]!==r||e[8]!==i||e[9]!==l||e[10]!==o?(u=A.jsx(Zle,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":o,className:l,...i}),e[7]=r,e[8]=i,e[9]=l,e[10]=o,e[11]=u):u=e[11],u}function Hle(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(zle,{"data-slot":"dropdown-menu-radio-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function jx(t){const e=_t.c(11);let n,r,i;e[0]!==t?({className:r,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==r?(a=jt("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),e[4]=r,e[5]=a):a=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:A.jsx(jle,{children:A.jsx(K7,{className:"size-2 fill-current"})})}),e[6]=o):o=e[6];let l;return e[7]!==n||e[8]!==i||e[9]!==a?(l=A.jsxs($le,{"data-slot":"dropdown-menu-radio-item",className:a,...i,children:[o,n]}),e[7]=n,e[8]=i,e[9]=a,e[10]=l):l=e[10],l}function OP(t){const e=_t.c(10);let n,r,i;e[0]!==t?({className:n,inset:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=jt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==a?(o=A.jsx(Lle,{"data-slot":"dropdown-menu-label","data-inset":r,className:a,...i}),e[6]=r,e[7]=i,e[8]=a,e[9]=o):o=e[9],o}function m1(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Kle,{"data-slot":"dropdown-menu-separator",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Gle(t){const e=_t.c(18),{open:n,onOpenChange:r}=t,[i,a]=B.useState(""),o=bn(cz);let l;e[0]!==o||e[1]!==r||e[2]!==i?(l=async S=>{if(S.preventDefault(),!!i.trim())try{await o(i.trim()),a(""),r(!1)}catch(b){console.error("Failed to connect to livestream:",b)}},e[0]=o,e[1]=r,e[2]=i,e[3]=l):l=e[3];const u=l;let f;e[4]!==u?(f=S=>{S.key==="Enter"&&u(S)},e[4]=u,e[5]=f):f=e[5];const p=f;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=A.jsxs(d1,{children:[A.jsx(h1,{children:"Open Livestream"}),A.jsx(p1,{children:"Enter the stream ID to connect to a live video stream"})]}),e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=S=>a(S.target.value),e[7]=m):m=e[7];let g;e[8]!==p||e[9]!==i?(g=A.jsx(LA,{placeholder:"Stream ID",value:i,onChange:m,onKeyDown:p,autoFocus:!0}),e[8]=p,e[9]=i,e[10]=g):g=e[10];let _;e[11]!==u||e[12]!==g?(_=A.jsxs(f1,{children:[h,A.jsx("form",{onSubmit:u,children:g})]}),e[11]=u,e[12]=g,e[13]=_):_=e[13];let v;return e[14]!==r||e[15]!==n||e[16]!==_?(v=A.jsx(u1,{open:n,onOpenChange:r,children:_}),e[14]=r,e[15]=n,e[16]=_,e[17]=v):v=e[17],v}function U5(t,[e,n]){return Math.min(n,Math.max(e,t))}function qle(t){const e=Qle(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,l=B.Children.toArray(a),u=l.find(ece);if(u){const f=u.props.children,p=l.map(h=>h===u?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:h);return A.jsx(e,{...o,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,p):null})}return A.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Qle(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=nce(i),l=tce(a,i.props);return i.type!==B.Fragment&&(l.ref=r?Ao(r,o):o),B.cloneElement(i,l)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Jle=Symbol("radix.slottable");function ece(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Jle}function tce(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function nce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DP(t){const e=B.useRef({value:t,previous:t});return B.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rce=[" ","Enter","ArrowUp","ArrowDown"],ice=[" ","Enter"],Rc="Select",[E2,U2,sce]=Xw(Rc),[A0]=Fa(Rc,[sce,w0]),C2=w0(),[ace,Dl]=A0(Rc),[oce,lce]=A0(Rc),BP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:u,dir:f,name:p,autoComplete:h,disabled:m,required:g,form:_}=t,v=C2(e),[S,b]=B.useState(null),[Y,E]=B.useState(null),[M,U]=B.useState(!1),W=Pw(f),[w,I]=Tc({prop:r,defaultProp:i??!1,onChange:a,caller:Rc}),[P,O]=Tc({prop:o,defaultProp:l,onChange:u,caller:Rc}),V=B.useRef(null),N=S?_||!!S.closest("form"):!0,[F,R]=B.useState(new Set),K=Array.from(F).map(Z=>Z.props.value).join(";");return A.jsx(KT,{...v,children:A.jsxs(ace,{required:g,scope:e,trigger:S,onTriggerChange:b,valueNode:Y,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:U,contentId:Ia(),value:P,onValueChange:O,open:w,onOpenChange:I,dir:W,triggerPointerDownPosRef:V,disabled:m,children:[A.jsx(E2.Provider,{scope:e,children:A.jsx(oce,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(Z=>{R(G=>new Set(G).add(Z))},[]),onNativeOptionRemove:B.useCallback(Z=>{R(G=>{const q=new Set(G);return q.delete(Z),q})},[]),children:n})}),N?A.jsxs(l8,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:h,value:P,onChange:Z=>O(Z.target.value),disabled:m,form:_,children:[P===void 0?A.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};BP.displayName=Rc;var VP="SelectTrigger",FP=B.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=C2(n),o=Dl(VP,n),l=o.disabled||r,u=er(e,o.onTriggerChange),f=U2(n),p=B.useRef("touch"),[h,m,g]=u8(v=>{const S=f().filter(E=>!E.disabled),b=S.find(E=>E.value===o.value),Y=f8(S,v,b);Y!==void 0&&o.onValueChange(Y.value)}),_=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return A.jsx(HT,{asChild:!0,...a,children:A.jsx(xn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c8(o.value)?"":void 0,...i,ref:u,onClick:Nt(i.onClick,v=>{v.currentTarget.focus(),p.current!=="mouse"&&_(v)}),onPointerDown:Nt(i.onPointerDown,v=>{p.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:Nt(i.onKeyDown,v=>{const S=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(S&&v.key===" ")&&rce.includes(v.key)&&(_(),v.preventDefault())})})})});FP.displayName=VP;var LP="SelectValue",ZP=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,u=Dl(LP,n),{onValueNodeHasChildrenChange:f}=u,p=a!==void 0,h=er(e,u.onValueNodeChange);return Pi(()=>{f(p)},[f,p]),A.jsx(xn.span,{...l,ref:h,style:{pointerEvents:"none"},children:c8(u.value)?A.jsx(A.Fragment,{children:o}):a})});ZP.displayName=LP;var cce="SelectIcon",zP=B.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return A.jsx(xn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});zP.displayName=cce;var uce="SelectPortal",$P=t=>A.jsx(Y1,{asChild:!0,...t});$P.displayName=uce;var Xc="SelectContent",jP=B.forwardRef((t,e)=>{const n=Dl(Xc,t.__scopeSelect),[r,i]=B.useState();if(Pi(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?S0.createPortal(A.jsx(KP,{scope:t.__scopeSelect,children:A.jsx(E2.Slot,{scope:t.__scopeSelect,children:A.jsx("div",{children:t.children})})}),a):null}return A.jsx(HP,{...t,ref:e})});jP.displayName=Xc;var sa=10,[KP,Bl]=A0(Xc),fce="SelectContentImpl",dce=qle("SelectContent.RemoveScroll"),HP=B.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:S,...b}=t,Y=Dl(Xc,n),[E,M]=B.useState(null),[U,W]=B.useState(null),w=er(e,de=>M(de)),[I,P]=B.useState(null),[O,V]=B.useState(null),N=U2(n),[F,R]=B.useState(!1),K=B.useRef(!1);B.useEffect(()=>{if(E)return MT(E)},[E]),PT();const Z=B.useCallback(de=>{const[pe,...ve]=N().map(Ye=>Ye.ref.current),[$e]=ve.slice(-1),Pe=document.activeElement;for(const Ye of de)if(Ye===Pe||(Ye?.scrollIntoView({block:"nearest"}),Ye===pe&&U&&(U.scrollTop=0),Ye===$e&&U&&(U.scrollTop=U.scrollHeight),Ye?.focus(),document.activeElement!==Pe))return},[N,U]),G=B.useCallback(()=>Z([I,E]),[Z,I,E]);B.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:q,triggerPointerDownPosRef:Q}=Y;B.useEffect(()=>{if(E){let de={x:0,y:0};const pe=$e=>{de={x:Math.abs(Math.round($e.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round($e.pageY)-(Q.current?.y??0))}},ve=$e=>{de.x<=10&&de.y<=10?$e.preventDefault():E.contains($e.target)||q(!1),document.removeEventListener("pointermove",pe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ve,{capture:!0})}}},[E,q,Q]),B.useEffect(()=>{const de=()=>q(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[q]);const[ue,j]=u8(de=>{const pe=N().filter(Pe=>!Pe.disabled),ve=pe.find(Pe=>Pe.ref.current===document.activeElement),$e=f8(pe,de,ve);$e&&setTimeout(()=>$e.ref.current.focus())}),te=B.useCallback((de,pe,ve)=>{const $e=!K.current&&!ve;(Y.value!==void 0&&Y.value===pe||$e)&&(P(de),$e&&(K.current=!0))},[Y.value]),fe=B.useCallback(()=>E?.focus(),[E]),J=B.useCallback((de,pe,ve)=>{const $e=!K.current&&!ve;(Y.value!==void 0&&Y.value===pe||$e)&&V(de)},[Y.value]),re=r==="popper"?lT:GP,ae=re===lT?{side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:S}:{};return A.jsx(KP,{scope:n,content:E,viewport:U,onViewportChange:W,itemRefCallback:te,selectedItem:I,onItemLeave:fe,itemTextRefCallback:J,focusSelectedItem:G,selectedItemText:O,position:r,isPositioned:F,searchRef:ue,children:A.jsx($_,{as:dce,allowPinchZoom:!0,children:A.jsx(Z_,{asChild:!0,trapped:Y.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Nt(i,de=>{Y.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:A.jsx(x1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>Y.onOpenChange(!1),children:A.jsx(re,{role:"listbox",id:Y.contentId,"data-state":Y.open?"open":"closed",dir:Y.dir,onContextMenu:de=>de.preventDefault(),...b,...ae,onPlaced:()=>R(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Nt(b.onKeyDown,de=>{const pe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!pe&&de.key.length===1&&j(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let $e=N().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(de.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Pe=de.target,Ye=$e.indexOf(Pe);$e=$e.slice(Ye+1)}setTimeout(()=>Z($e)),de.preventDefault()}})})})})})})});HP.displayName=fce;var hce="SelectItemAlignedPosition",GP=B.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Dl(Xc,n),o=Bl(Xc,n),[l,u]=B.useState(null),[f,p]=B.useState(null),h=er(e,w=>p(w)),m=U2(n),g=B.useRef(!1),_=B.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:b,focusSelectedItem:Y}=o,E=B.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&v&&S&&b){const w=a.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(a.dir!=="rtl"){const Pe=O.left-I.left,Ye=P.left-Pe,Oe=w.left-Ye,L=w.width+Oe,Ue=Math.max(L,I.width),be=window.innerWidth-sa,ce=U5(Ye,[sa,Math.max(sa,be-Ue)]);l.style.minWidth=L+"px",l.style.left=ce+"px"}else{const Pe=I.right-O.right,Ye=window.innerWidth-P.right-Pe,Oe=window.innerWidth-w.right-Ye,L=w.width+Oe,Ue=Math.max(L,I.width),be=window.innerWidth-sa,ce=U5(Ye,[sa,Math.max(sa,be-Ue)]);l.style.minWidth=L+"px",l.style.right=ce+"px"}const V=m(),N=window.innerHeight-sa*2,F=v.scrollHeight,R=window.getComputedStyle(f),K=parseInt(R.borderTopWidth,10),Z=parseInt(R.paddingTop,10),G=parseInt(R.borderBottomWidth,10),q=parseInt(R.paddingBottom,10),Q=K+Z+F+q+G,ue=Math.min(S.offsetHeight*5,Q),j=window.getComputedStyle(v),te=parseInt(j.paddingTop,10),fe=parseInt(j.paddingBottom,10),J=w.top+w.height/2-sa,re=N-J,ae=S.offsetHeight/2,de=S.offsetTop+ae,pe=K+Z+de,ve=Q-pe;if(pe<=J){const Pe=V.length>0&&S===V[V.length-1].ref.current;l.style.bottom="0px";const Ye=f.clientHeight-v.offsetTop-v.offsetHeight,Oe=Math.max(re,ae+(Pe?fe:0)+Ye+G),L=pe+Oe;l.style.height=L+"px"}else{const Pe=V.length>0&&S===V[0].ref.current;l.style.top="0px";const Oe=Math.max(J,K+v.offsetTop+(Pe?te:0)+ae)+ve;l.style.height=Oe+"px",v.scrollTop=pe-J+v.offsetTop}l.style.margin=`${sa}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=N+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,f,v,S,b,a.dir,r]);Pi(()=>E(),[E]);const[M,U]=B.useState();Pi(()=>{f&&U(window.getComputedStyle(f).zIndex)},[f]);const W=B.useCallback(w=>{w&&_.current===!0&&(E(),Y?.(),_.current=!1)},[E,Y]);return A.jsx(mce,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:W,children:A.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:A.jsx(xn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GP.displayName=hce;var pce="SelectPopperPosition",lT=B.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=sa,...a}=t,o=C2(n);return A.jsx(GT,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lT.displayName=pce;var[mce,jw]=A0(Xc,{}),cT="SelectViewport",qP=B.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Bl(cT,n),o=jw(cT,n),l=er(e,a.onViewportChange),u=B.useRef(0);return A.jsxs(A.Fragment,{children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),A.jsx(E2.Slot,{scope:n,children:A.jsx(xn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nt(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const g=Math.abs(u.current-p.scrollTop);if(g>0){const _=window.innerHeight-sa*2,v=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),b=Math.max(v,S);if(b<_){const Y=b+g,E=Math.min(_,Y),M=Y-E;h.style.height=E+"px",h.style.bottom==="0px"&&(p.scrollTop=M>0?M:0,h.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});qP.displayName=cT;var QP="SelectGroup",[gce,yce]=A0(QP),vce=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ia();return A.jsx(gce,{scope:n,id:i,children:A.jsx(xn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});vce.displayName=QP;var JP="SelectLabel",_ce=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=yce(JP,n);return A.jsx(xn.div,{id:i.id,...r,ref:e})});_ce.displayName=JP;var A_="SelectItem",[Sce,e8]=A0(A_),t8=B.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=Dl(A_,n),u=Bl(A_,n),f=l.value===r,[p,h]=B.useState(a??""),[m,g]=B.useState(!1),_=er(e,Y=>u.itemRefCallback?.(Y,r,i)),v=Ia(),S=B.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return A.jsx(Sce,{scope:n,value:r,disabled:i,textId:v,isSelected:f,onItemTextChange:B.useCallback(Y=>{h(E=>E||(Y?.textContent??"").trim())},[]),children:A.jsx(E2.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:A.jsx(xn.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:Nt(o.onFocus,()=>g(!0)),onBlur:Nt(o.onBlur,()=>g(!1)),onClick:Nt(o.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Nt(o.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Nt(o.onPointerDown,Y=>{S.current=Y.pointerType}),onPointerMove:Nt(o.onPointerMove,Y=>{S.current=Y.pointerType,i?u.onItemLeave?.():S.current==="mouse"&&Y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(o.onPointerLeave,Y=>{Y.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Nt(o.onKeyDown,Y=>{u.searchRef?.current!==""&&Y.key===" "||(ice.includes(Y.key)&&b(),Y.key===" "&&Y.preventDefault())})})})})});t8.displayName=A_;var Dg="SelectItemText",n8=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Dl(Dg,n),l=Bl(Dg,n),u=e8(Dg,n),f=lce(Dg,n),[p,h]=B.useState(null),m=er(e,b=>h(b),u.onItemTextChange,b=>l.itemTextRefCallback?.(b,u.value,u.disabled)),g=p?.textContent,_=B.useMemo(()=>A.jsx("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=f;return Pi(()=>(v(_),()=>S(_)),[v,S,_]),A.jsxs(A.Fragment,{children:[A.jsx(xn.span,{id:u.textId,...a,ref:m}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?S0.createPortal(a.children,o.valueNode):null]})});n8.displayName=Dg;var r8="SelectItemIndicator",i8=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return e8(r8,n).isSelected?A.jsx(xn.span,{"aria-hidden":!0,...r,ref:e}):null});i8.displayName=r8;var uT="SelectScrollUpButton",s8=B.forwardRef((t,e)=>{const n=Bl(uT,t.__scopeSelect),r=jw(uT,t.__scopeSelect),[i,a]=B.useState(!1),o=er(e,r.onScrollButtonChange);return Pi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=u.scrollTop>0;a(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?A.jsx(o8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});s8.displayName=uT;var fT="SelectScrollDownButton",a8=B.forwardRef((t,e)=>{const n=Bl(fT,t.__scopeSelect),r=jw(fT,t.__scopeSelect),[i,a]=B.useState(!1),o=er(e,r.onScrollButtonChange);return Pi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;a(p)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?A.jsx(o8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});a8.displayName=fT;var o8=B.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Bl("SelectScrollButton",n),o=B.useRef(null),l=U2(n),u=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>u(),[u]),Pi(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),A.jsx(xn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Nt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Nt(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Nt(i.onPointerLeave,()=>{u()})})}),bce="SelectSeparator",xce=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return A.jsx(xn.div,{"aria-hidden":!0,...r,ref:e})});xce.displayName=bce;var dT="SelectArrow",Yce=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=C2(n),a=Dl(dT,n),o=Bl(dT,n);return a.open&&o.position==="popper"?A.jsx(qT,{...i,...r,ref:e}):null});Yce.displayName=dT;var Tce="SelectBubbleInput",l8=B.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=B.useRef(null),a=er(r,i),o=DP(e);return B.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&p){const h=new Event("change",{bubbles:!0});p.call(l,e),l.dispatchEvent(h)}},[o,e]),A.jsx(xn.select,{...n,style:{...jk,...n.style},ref:a,defaultValue:e})});l8.displayName=Tce;function c8(t){return t===""||t===void 0}function u8(t){const e=ha(t),n=B.useRef(""),r=B.useRef(0),i=B.useCallback(o=>{const l=n.current+o;e(l),(function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),a=B.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function f8(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=wce(t,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==n));const u=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function wce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Wce=BP,Ece=FP,Uce=ZP,Cce=zP,Ace=$P,kce=jP,Ice=qP,Rce=t8,Xce=n8,Pce=i8,Mce=s8,Nce=a8;function Oce(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(Wce,{"data-slot":"select",...n}),e[2]=n,e[3]=r):r=e[3],r}function Dce(t){const e=_t.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=A.jsx(Uce,{"data-slot":"select-value",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bce(t){const e=_t.c(13);let n,r,i,a;e[0]!==t?({className:r,size:a,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"default":a;let l;e[5]!==r?(l=jt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),e[5]=r,e[6]=l):l=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsx(Cce,{asChild:!0,children:A.jsx(UA,{className:"size-4 opacity-50"})}),e[7]=u):u=e[7];let f;return e[8]!==n||e[9]!==i||e[10]!==o||e[11]!==l?(f=A.jsxs(Ece,{"data-slot":"select-trigger","data-size":o,className:l,...i,children:[n,u]}),e[8]=n,e[9]=i,e[10]=o,e[11]=l,e[12]=f):f=e[12],f}function Vce(t){const e=_t.c(22);let n,r,i,a,o;e[0]!==t?({className:r,children:n,position:a,align:o,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const l=a===void 0?"item-aligned":a,u=o===void 0?"center":o,f=l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let p;e[6]!==r||e[7]!==f?(p=jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",f,r),e[6]=r,e[7]=f,e[8]=p):p=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=A.jsx(Lce,{}),e[9]=h):h=e[9];const m=l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let g;e[10]!==m?(g=jt("p-1",m),e[10]=m,e[11]=g):g=e[11];let _;e[12]!==n||e[13]!==g?(_=A.jsx(Ice,{className:g,children:n}),e[12]=n,e[13]=g,e[14]=_):_=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=A.jsx(Zce,{}),e[15]=v):v=e[15];let S;return e[16]!==u||e[17]!==l||e[18]!==i||e[19]!==p||e[20]!==_?(S=A.jsx(Ace,{children:A.jsxs(kce,{"data-slot":"select-content",className:p,position:l,align:u,...i,children:[h,_,v]})}),e[16]=u,e[17]=l,e[18]=i,e[19]=p,e[20]=_,e[21]=S):S=e[21],S}function Fce(t){const e=_t.c(13);let n,r,i;e[0]!==t?({className:r,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==r?(a=jt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),e[4]=r,e[5]=a):a=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:A.jsx(Pce,{children:A.jsx(EA,{className:"size-4"})})}),e[6]=o):o=e[6];let l;e[7]!==n?(l=A.jsx(Xce,{children:n}),e[7]=n,e[8]=l):l=e[8];let u;return e[9]!==i||e[10]!==a||e[11]!==l?(u=A.jsxs(Rce,{"data-slot":"select-item",className:a,...i,children:[o,l]}),e[9]=i,e[10]=a,e[11]=l,e[12]=u):u=e[12],u}function Lce(t){const e=_t.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=i):i=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=A.jsx(Z7,{className:"size-4"}),e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i?(o=A.jsx(Mce,{"data-slot":"select-scroll-up-button",className:i,...r,children:a}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function Zce(t){const e=_t.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=i):i=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=A.jsx(UA,{className:"size-4"}),e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i?(o=A.jsx(Nce,{"data-slot":"select-scroll-down-button",className:i,...r,children:a}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function zce({open:t,onOpenChange:e}){const[n,r]=B.useState([]),[i,a]=B.useState(""),[o,l]=B.useState(!1),[u,f]=B.useState(!1),[p,h]=B.useState(null),m=bn(uz),g=typeof navigator<"u"&&navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function";B.useEffect(()=>{if(!t||!g)return;(async()=>{l(!0),h(null);try{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(M=>M.stop())}catch{}const Y=(await navigator.mediaDevices.enumerateDevices()).filter(E=>E.kind==="videoinput");r(Y),Y.length>0?a(Y[0].deviceId):h("No video devices found")}catch(b){console.error("Failed to enumerate devices:",b),h("Failed to access video devices")}finally{l(!1)}})()},[t,g]),B.useEffect(()=>{t||(a(""),h(null))},[t]);const _=async()=>{if(i){f(!0),h(null);try{await m(i),e(!1)}catch(S){console.error("Failed to connect to device:",S),S instanceof Error&&(S.name==="NotAllowedError"?(h("Camera access denied. Please grant permission and try again."),Ys.error("Camera access denied",{description:"Please grant camera permissions in your browser settings."})):S.name==="NotFoundError"?(h("Camera not found. It may have been disconnected."),Ys.error("Camera not found")):S.name==="NotReadableError"?(h("Camera is in use by another application."),Ys.error("Camera in use",{description:"Close other applications using the camera and try again."})):S.name==="OverconstrainedError"?(h("Camera does not support the requested settings."),Ys.error("Camera settings error")):(h(S.message||"Failed to connect to camera"),Ys.error("Connection failed",{description:S.message})))}finally{f(!1)}}},v=(S,b)=>S.label?S.label:`Camera ${b+1}`;return g?A.jsx(u1,{open:t,onOpenChange:e,children:A.jsxs(f1,{children:[A.jsxs(d1,{children:[A.jsx(h1,{children:"Open Wired Livestream"}),A.jsx(p1,{children:"Select a camera or video capture device to stream from"})]}),o?A.jsxs("div",{className:"flex items-center justify-center py-8",children:[A.jsx(Ul,{className:"h-6 w-6 animate-spin text-muted-foreground"}),A.jsx("span",{className:"ml-2 text-muted-foreground",children:"Detecting devices..."})]}):p&&n.length===0?A.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[A.jsx($7,{className:"h-8 w-8 text-destructive mb-2"}),A.jsx("p",{className:"text-sm text-destructive",children:p}),A.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Make sure your camera is connected and you've granted browser permissions."})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium",children:"Video Device"}),A.jsxs(Oce,{value:i,onValueChange:a,children:[A.jsx(Bce,{children:A.jsx(Dce,{placeholder:"Select a camera"})}),A.jsx(Vce,{children:n.map((S,b)=>A.jsx(Fce,{value:S.deviceId,children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(n0,{className:"h-4 w-4"}),v(S,b)]})},S.deviceId))})]})]}),p&&A.jsx("p",{className:"text-sm text-destructive",children:p})]}),A.jsxs(U_,{children:[A.jsx(wi,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),A.jsx(wi,{onClick:_,disabled:!i||o||u,children:u?A.jsxs(A.Fragment,{children:[A.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect"})]})]})}):A.jsx(u1,{open:t,onOpenChange:e,children:A.jsxs(f1,{children:[A.jsxs(d1,{children:[A.jsx(h1,{children:"Camera Not Supported"}),A.jsx(p1,{children:"Your browser does not support camera access. Please use a modern browser with HTTPS."})]}),A.jsx(U_,{children:A.jsx(wi,{variant:"outline",onClick:()=>e(!1),children:"Close"})})]})})}function $ce(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("size-4 animate-spin",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(Ul,{role:"status","aria-label":"Loading",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function jce(){const t=_t.c(10),[e,n]=p_(Az);let r,i;t[0]!==e?(r=()=>{const u=document.documentElement,f=p=>{p==="dark"?u.classList.add("dark"):p==="light"?u.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?u.classList.add("dark"):u.classList.remove("dark")};if(f(e),e==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>f("system");return p.addEventListener("change",h),()=>p.removeEventListener("change",h)}},i=[e],t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]),B.useEffect(r,i);let a;t[3]!==n||t[4]!==e?(a=()=>{n(e==="light"?"dark":e==="dark"?"system":"light")},t[3]=n,t[4]=e,t[5]=a):a=t[5];const o=a;let l;return t[6]!==o||t[7]!==n||t[8]!==e?(l={themeMode:e,setThemeMode:n,cycleTheme:o},t[6]=o,t[7]=n,t[8]=e,t[9]=l):l=t[9],l}var A2="Checkbox",[Kce]=Fa(A2),[Hce,Kw]=Kce(A2);function Gce(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:u,required:f,value:p="on",internal_do_not_use_render:h}=t,[m,g]=Tc({prop:n,defaultProp:i??!1,onChange:u,caller:A2}),[_,v]=B.useState(null),[S,b]=B.useState(null),Y=B.useRef(!1),E=_?!!o||!!_.closest("form"):!0,M={checked:m,disabled:a,setChecked:g,control:_,setControl:v,name:l,form:o,value:p,hasConsumerStoppedPropagationRef:Y,required:f,defaultChecked:Tl(i)?!1:i,isFormControl:E,bubbleInput:S,setBubbleInput:b};return A.jsx(Hce,{scope:e,...M,children:qce(h)?h(M):r})}var d8="CheckboxTrigger",h8=B.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:u,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:_}=Kw(d8,t),v=er(i,p),S=B.useRef(u);return B.useEffect(()=>{const b=a?.form;if(b){const Y=()=>h(S.current);return b.addEventListener("reset",Y),()=>b.removeEventListener("reset",Y)}},[a,h]),A.jsx(xn.button,{type:"button",role:"checkbox","aria-checked":Tl(u)?"mixed":u,"aria-required":f,"data-state":_8(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:Nt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Nt(n,b=>{h(Y=>Tl(Y)?!0:!Y),_&&g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});h8.displayName=d8;var p8=B.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:u,onCheckedChange:f,form:p,...h}=t;return A.jsx(Gce,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:f,name:r,form:p,value:u,internal_do_not_use_render:({isFormControl:m})=>A.jsxs(A.Fragment,{children:[A.jsx(h8,{...h,ref:e,__scopeCheckbox:n}),m&&A.jsx(v8,{__scopeCheckbox:n})]})})});p8.displayName=A2;var m8="CheckboxIndicator",g8=B.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=Kw(m8,n);return A.jsx(ya,{present:r||Tl(a.checked)||a.checked===!0,children:A.jsx(xn.span,{"data-state":_8(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});g8.displayName=m8;var y8="CheckboxBubbleInput",v8=B.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:u,name:f,value:p,form:h,bubbleInput:m,setBubbleInput:g}=Kw(y8,t),_=er(n,g),v=DP(a),S=Nk(r);B.useEffect(()=>{const Y=m;if(!Y)return;const E=window.HTMLInputElement.prototype,U=Object.getOwnPropertyDescriptor(E,"checked").set,W=!i.current;if(v!==a&&U){const w=new Event("click",{bubbles:W});Y.indeterminate=Tl(a),U.call(Y,Tl(a)?!1:a),Y.dispatchEvent(w)}},[m,v,a,i]);const b=B.useRef(Tl(a)?!1:a);return A.jsx(xn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:u,name:f,value:p,form:h,...e,tabIndex:-1,ref:_,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});v8.displayName=y8;function qce(t){return typeof t=="function"}function Tl(t){return t==="indeterminate"}function _8(t){return Tl(t)?"indeterminate":t?"checked":"unchecked"}function C5(t){const e=_t.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=i):i=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=A.jsx(g8,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:A.jsx(EA,{className:"size-3.5"})}),e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i?(o=A.jsx(p8,{"data-slot":"checkbox",className:i,...r,children:a}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}var Qce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jce=Qce.reduce((t,e)=>{const n=kT(`Primitive.${e}`),r=B.forwardRef((i,a)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),eue="Label",S8=B.forwardRef((t,e)=>A.jsx(Jce.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));S8.displayName=eue;var tue=S8;function A5(t){const e=_t.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=jt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=A.jsx(tue,{"data-slot":"label",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function nue(t,e=[]){let n=[];function r(a,o){const l=B.createContext(o);l.displayName=a+"Context";const u=n.length;n=[...n,o];const f=h=>{const{scope:m,children:g,..._}=h,v=m?.[t]?.[u]||l,S=B.useMemo(()=>_,Object.values(_));return A.jsx(v.Provider,{value:S,children:g})};f.displayName=a+"Provider";function p(h,m){const g=m?.[t]?.[u]||l,_=B.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>B.createContext(o));return function(l){const u=l?.[t]||a;return B.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,rue(i,...e)]}function rue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var iue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],b8=iue.reduce((t,e)=>{const n=kT(`Primitive.${e}`),r=B.forwardRef((i,a)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Hw="Progress",Gw=100,[sue]=nue(Hw),[aue,oue]=sue(Hw),x8=B.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=lue,...o}=t;(i||i===0)&&!k5(i)&&console.error(cue(`${i}`,"Progress"));const l=k5(i)?i:Gw;r!==null&&!I5(r,l)&&console.error(uue(`${r}`,"Progress"));const u=I5(r,l)?r:null,f=k_(u)?a(u,l):void 0;return A.jsx(aue,{scope:n,value:u,max:l,children:A.jsx(b8.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":k_(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":w8(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});x8.displayName=Hw;var Y8="ProgressIndicator",T8=B.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=oue(Y8,n);return A.jsx(b8.div,{"data-state":w8(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});T8.displayName=Y8;function lue(t,e){return`${Math.round(t/e*100)}%`}function w8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function k_(t){return typeof t=="number"}function k5(t){return k_(t)&&!isNaN(t)&&t>0}function I5(t,e){return k_(t)&&!isNaN(t)&&t<=e&&t>=0}function cue(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Gw}\`.`}function uue(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Gw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fue=x8,due=T8;function hue(t){const e=_t.c(12);let n,r,i;e[0]!==t?({className:n,value:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=jt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),e[4]=n,e[5]=a):a=e[5];const o=`translateX(-${100-(i||0)}%)`;let l;e[6]!==o?(l=A.jsx(due,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:o}}),e[6]=o,e[7]=l):l=e[7];let u;return e[8]!==r||e[9]!==a||e[10]!==l?(u=A.jsx(fue,{"data-slot":"progress",className:a,...r,children:l}),e[8]=r,e[9]=a,e[10]=l,e[11]=u):u=e[11],u}function pue({open:t,onOpenChange:e}){const n=Jt(c2),r=Jt(Ml),[i,a]=B.useState(!0),[o,l]=B.useState(!0),[u,f]=B.useState(!1),[p,h]=B.useState(0),[m,g]=B.useState(0),_=async()=>{if(n.length!==0){if(!i&&!o){Ys.error("Please select at least one export format");return}f(!0),h(0),g(n.length*((i?1:0)+(o?1:0)));try{const S=await Eoe(n,{fileStore:r,getPosition:E=>null,getChannelType:E=>"image",getSourceFilename:E=>`bookmark_${E.name}`,getTimeStartEpochUs:E=>0,includeZoomImages:i,includeRawAnnotations:o,onProgress:(E,M)=>{h(E),g(M)}}),Y=`bookmarks_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.zip`;await Uoe(S,Y),Ys.success(`Exported ${n.length} bookmarks to ${Y}`),e(!1)}catch(S){console.error("Failed to export bookmarks:",S),Ys.error("Failed to export bookmarks")}finally{f(!1),h(0),g(0)}}},v=m>0?p/m*100:0;return A.jsx(u1,{open:t,onOpenChange:e,children:A.jsxs(f1,{className:"sm:max-w-md",children:[A.jsxs(d1,{children:[A.jsx(h1,{children:"Export All Bookmarks"}),A.jsxs(p1,{children:["Export ",n.length," bookmark",n.length!==1?"s":""," as a zip file."]})]}),A.jsxs("div",{className:"space-y-4 py-4",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(C5,{id:"zoom",checked:i,onCheckedChange:S=>a(S===!0),disabled:u}),A.jsxs(A5,{htmlFor:"zoom",className:"flex-1 cursor-pointer",children:[A.jsx("span",{className:"font-medium",children:"Zoom Images"}),A.jsx("span",{className:"block text-sm text-muted-foreground",children:"Multi-scale composite for CalTopo/Email sharing"})]})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(C5,{id:"raw",checked:o,onCheckedChange:S=>l(S===!0),disabled:u}),A.jsxs(A5,{htmlFor:"raw",className:"flex-1 cursor-pointer",children:[A.jsx("span",{className:"font-medium",children:"Raw Annotations"}),A.jsx("span",{className:"block text-sm text-muted-foreground",children:"Original images with embedded metadata for Eagle Eyes team"})]})]}),u&&A.jsxs("div",{className:"space-y-2",children:[A.jsx(hue,{value:v,className:"h-2"}),A.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Exporting... ",p," / ",m]})]})]}),A.jsxs(U_,{children:[A.jsx(wi,{variant:"outline",onClick:()=>e(!1),disabled:u,children:"Cancel"}),A.jsx(wi,{onClick:_,disabled:u||n.length===0||!i&&!o,children:u?A.jsxs(A.Fragment,{children:[A.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):A.jsxs(A.Fragment,{children:[A.jsx(t1,{className:"mr-2 h-4 w-4"}),"Export"]})})]})]})})}function mue(){const t=DO(),e=Jt(Ml),n=bn(x2),[r,i]=B.useState(!1),[a,o]=B.useState(!1),[l,u]=B.useState(0),[f,p]=B.useState(!1),{open:h}=r2();B.useEffect(()=>{const v=setTimeout(()=>{e.hasPendingHandles?.()?u(e.getPendingHandleCount?.()??0):u(0)},500);return()=>clearTimeout(v)},[e]);const m=async()=>{p(!0);try{await e.restorePendingHandles?.();const _=await e.getAllFileHandles();_.length>0&&n(_),u(e.getPendingHandleCount?.()??0)}catch(_){console.error("Failed to restore access:",_)}finally{p(!1)}},g=t.filter(_=>_.pathname!=="/"&&_.routeId!=="__root__").map(_=>{const S=_.routeId.split("/").filter(Boolean),b=S[S.length-1];let Y;if(b.startsWith("$")){const E=_.pathname.split("/").filter(Boolean);Y=E[E.length-1]}else Y=b.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" ");return{path:_.pathname,label:Y}});return A.jsxs("div",{className:"flex flex-row pr-4 py-2 bg-sidebar items-center gap-4 min-w-0",children:[A.jsx(xZ,{className:`z-10 ${h?"-ml-3.5":"ml-1"}`}),A.jsx(gle,{className:"flex-1 min-w-0",children:A.jsxs(yle,{className:"min-w-0",children:[A.jsx(W5,{children:A.jsx(E5,{asChild:!0,children:A.jsxs(e_,{to:"/",className:"flex items-center gap-2",children:[A.jsx("img",{src:"/mirada/logo.png",alt:"Logo",className:"w-6 h-6 rounded"}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-semibold text-foreground leading-tight",children:ple}),A.jsxs("span",{className:"text-[10px] text-muted-foreground/60 leading-none",children:["v",mle]})]})]})})}),g.map((_,v)=>A.jsxs(B.Fragment,{children:[A.jsx(_le,{}),A.jsx(W5,{children:v===g.length-1?A.jsx(vle,{children:_.label}):A.jsx(E5,{asChild:!0,children:A.jsx(e_,{to:_.path,children:_.label})})})]},_.path))]})}),A.jsx(_ue,{}),A.jsx(A.Fragment,{}),window.electronAPI&&A.jsxs(A.Fragment,{children:[A.jsx(vue,{}),A.jsx(yue,{})]}),A.jsx(xue,{}),l>0&&!window.electronAPI&&A.jsxs(wi,{size:"sm",variant:"outline",onClick:m,disabled:f,className:"gap-2",children:[f?A.jsx(Ul,{className:"h-4 w-4 animate-spin"}):A.jsx(ED,{className:"h-4 w-4"}),"Restore Access (",l," files)"]}),A.jsxs(C1,{children:[A.jsx(A1,{asChild:!0,children:A.jsx(wi,{size:"icon-sm",className:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",children:A.jsx(YD,{})})}),A.jsxs(k1,{className:"z-999",children:[A.jsxs(fa,{onClick:async()=>{const _=await gse(e);n(_)},children:[A.jsx(nD,{className:"mr-2 h-4 w-4"}),"Load Folder"]}),A.jsxs(fa,{onClick:async()=>{try{const _=await window.showOpenFilePicker({multiple:!0}),v=await Promise.all(_.map(async b=>Yl.create({handle:b,path:b.name,category:"placeholder"}))),S=S2(v);Iw(S,e),n(S)}catch{}},children:[A.jsx(CA,{className:"mr-2 h-4 w-4"}),"Load Files"]}),A.jsx(m1,{}),A.jsxs(fa,{onClick:()=>i(!0),children:[A.jsx(LD,{className:"mr-2 h-4 w-4"}),"Open Wireless Livestream"]}),A.jsxs(fa,{onClick:()=>o(!0),children:[A.jsx(D7,{className:"mr-2 h-4 w-4"}),"Open Wired Livestream"]})]})]}),A.jsx(Gle,{open:r,onOpenChange:i}),A.jsx(zce,{open:a,onOpenChange:o}),A.jsx(bue,{}),A.jsx(gue,{})]})}function gue(){const t=_t.c(36),[e,n]=p_(U0),[r,i]=p_(Cz),a=bn(Ez),o=bn(Rw),l=bn(Cse);let u;t[0]!==o?(u=async()=>{try{const[N]=await window.showOpenFilePicker({types:[{description:"GeoJSON/KML",accept:{"application/json":[".json",".geojson"],"application/vnd.google-earth.kml+xml":[".kml"]}}]}),F=await N.getFile(),R=await F.text(),K=await hX(R,F.name);K.length>0&&o({features:K,sourceFile:F.name})}catch(N){const F=N;F.name!=="AbortError"&&console.error("Failed to import geo file:",F)}},t[0]=o,t[1]=u):u=t[1];const f=u;let p;t[2]!==l?(p=async()=>{if(!confirm("This will clear all saved data and reload the page. Continue?"))return;await l();const N=["fileHandleDB","bookmarkDB","geojsonDB"];for(const F of N)try{await new Promise((R,K)=>{const Z=indexedDB.deleteDatabase(F);Z.onsuccess=()=>R(),Z.onerror=()=>K(Z.error),Z.onblocked=()=>R()})}catch(R){const K=R;console.warn(`Failed to delete database ${F}:`,K)}window.location.reload()},t[2]=l,t[3]=p):p=t[3];const h=p;let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=A.jsx(A1,{asChild:!0,children:A.jsx(wi,{size:"icon-sm",variant:"ghost",className:"bg-muted hover:bg-muted/80",children:A.jsx(gD,{className:"h-4 w-4"})})}),t[4]=m):m=t[4];let g;t[5]!==a?(g=()=>a(!0),t[5]=a,t[6]=g):g=t[6];let _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_=A.jsx(BD,{className:"mr-2 h-4 w-4"}),t[7]=_):_=t[7];let v;t[8]!==g?(v=A.jsxs(fa,{onClick:g,children:[_,"Export Map Data"]}),t[8]=g,t[9]=v):v=t[9];let S;t[10]===Symbol.for("react.memo_cache_sentinel")?(S=A.jsx(t1,{className:"mr-2 h-4 w-4"}),t[10]=S):S=t[10];let b;t[11]!==f?(b=A.jsxs(fa,{onClick:f,children:[S,"Import Map Data"]}),t[11]=f,t[12]=b):b=t[12];let Y;t[13]===Symbol.for("react.memo_cache_sentinel")?(Y=A.jsx(m1,{}),t[13]=Y):Y=t[13];let E;t[14]!==i?(E=()=>i(!0),t[14]=i,t[15]=E):E=t[15];let M;t[16]===Symbol.for("react.memo_cache_sentinel")?(M=A.jsx(kD,{className:"mr-2 h-4 w-4"}),t[16]=M):M=t[16];let U;t[17]!==E?(U=A.jsxs(fa,{onClick:E,children:[M,"Settings"]}),t[17]=E,t[18]=U):U=t[18];let W;t[19]===Symbol.for("react.memo_cache_sentinel")?(W=A.jsx(m1,{}),t[19]=W):W=t[19];let w;t[20]===Symbol.for("react.memo_cache_sentinel")?(w=A.jsx(Q7,{className:"mr-2 h-4 w-4"}),t[20]=w):w=t[20];let I;t[21]!==h?(I=A.jsxs(fa,{onClick:h,className:"text-destructive focus:text-destructive",children:[w,"Clear Site Data"]}),t[21]=h,t[22]=I):I=t[22];let P;t[23]!==U||t[24]!==I||t[25]!==v||t[26]!==b?(P=A.jsxs(C1,{children:[m,A.jsxs(k1,{align:"end",className:"z-[10000]",children:[v,b,Y,U,W,I]})]}),t[23]=U,t[24]=I,t[25]=v,t[26]=b,t[27]=P):P=t[27];let O;t[28]!==e||t[29]!==n||t[30]!==i||t[31]!==r?(O=r&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/30",onClick:()=>i(!1)}),A.jsxs("div",{className:"fixed z-[9999] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background border border-border rounded-lg shadow-2xl p-4 min-w-[300px]",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h2",{className:"text-lg font-semibold",children:"Settings"}),A.jsx("button",{className:"p-1 rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:()=>i(!1),children:A.jsx(b1,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time format"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.timeFormat==="24h"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,timeFormat:"24h"}),children:"14:00"}),A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.timeFormat==="12h"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,timeFormat:"12h"}),children:"2:00 PM"})]})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date format"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.dateFormat==="short"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,dateFormat:"short"}),children:"Feb 4, 2025"}),A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.dateFormat==="iso"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,dateFormat:"iso"}),children:"2025/02/04"})]})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone format"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="abbrev"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"abbrev"}),children:"PST"}),A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="offset_numeric"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"offset_numeric"}),children:"-0800"}),A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="offset_utc"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"offset_utc"}),children:"UTC-08:00"})]})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Units"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.unitSystem==="metric"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,unitSystem:"metric"}),children:"Metric (m)"}),A.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.unitSystem==="imperial"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,unitSystem:"imperial"}),children:"Imperial (ft)"})]})]})]})]}),t[28]=e,t[29]=n,t[30]=i,t[31]=r,t[32]=O):O=t[32];let V;return t[33]!==P||t[34]!==O?(V=A.jsxs(A.Fragment,{children:[P,O]}),t[33]=P,t[34]=O,t[35]=V):V=t[35],V}function yue(){const t=_t.c(8),e=Jt(wn),n=Jt(Ml);let r;t[0]!==e.channelId?(r=e.channelId?gn(e.channelId):gn(""),t[0]=e.channelId,t[1]=r):r=t[1];const i=Jt(r),a=bn(hz),o=Jt(uw),l=async function(){if(!i||i.getType()!=="mediabunny_video"&&i.getType()!=="video")return;const v=i.getFrameHash(0);if(!v)return;const S=await n.getFile(v);if(S&&window.electronAPI){const b={fileRef:S.fileRef,hash:v,channelId:i.id,modelName:o};p(!0),a({channelId:i.id,modelName:o}),await window.electronAPI.processVideo(b),p(!1)}},[u,f]=B.useState(!1),p=f,h=u||!i;let m;t[2]!==u?(m=u&&A.jsx($ce,{}),t[2]=u,t[3]=m):m=t[3];let g;return t[4]!==l||t[5]!==h||t[6]!==m?(g=A.jsx(A.Fragment,{children:A.jsxs(wi,{variant:"secondary",size:"sm",onClick:l,disabled:h,children:[m,"Run Detector"]})}),t[4]=l,t[5]=h,t[6]=m,t[7]=g):g=t[7],g}function vue(){const t=_t.c(13),e=Jt(uw),n=bn(pz);let r;t[0]!==e?(r=A.jsx(A1,{asChild:!0,children:A.jsx(wi,{variant:"secondary",children:e})}),t[0]=e,t[1]=r):r=t[1];let i,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=A.jsx(OP,{children:"Choose Model"}),a=A.jsx(m1,{}),t[2]=i,t[3]=a):(i=t[2],a=t[3]);let o,l,u;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx(jx,{value:"V2.5.Video.Combined.Fast",children:"V2.5.Video.Combined.Fast"}),l=A.jsx(jx,{value:"V2.5.Photo.Fast",children:"V2.5.Photo.Fast"}),u=A.jsx(jx,{value:"ipsum",children:"ipsum"}),t[4]=o,t[5]=l,t[6]=u):(o=t[4],l=t[5],u=t[6]);let f;t[7]!==e||t[8]!==n?(f=A.jsxs(k1,{className:"w-56 z-10000",children:[i,a,A.jsxs(Hle,{value:e,onValueChange:n,children:[o,l,u]})]}),t[7]=e,t[8]=n,t[9]=f):f=t[9];let p;return t[10]!==r||t[11]!==f?(p=A.jsxs(C1,{children:[r,f]}),t[10]=r,t[11]=f,t[12]=p):p=t[12],p}function _ue(){const t=_t.c(25),e=Jt(Va);if(e.length===0)return null;const n=e[0],r=n.progress&&n.progress.total>0;let i;t[0]!==r||t[1]!==n.progress?(i=r?Math.round(n.progress.current/n.progress.total*100):null,t[0]=r,t[1]=n.progress,t[2]=i):i=t[2];const a=i;if(e.length===1){let g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=A.jsx(Ul,{className:"h-4 w-4 animate-spin"}),t[3]=g):g=t[3];let _;t[4]!==n.label?(_=A.jsx("span",{children:n.label}),t[4]=n.label,t[5]=_):_=t[5];let v;t[6]!==r||t[7]!==a||t[8]!==n.progress?(v=r&&A.jsxs("span",{className:"text-xs opacity-80",children:[n.progress.current,"/",n.progress.total,"  ",a,"%"]}),t[6]=r,t[7]=a,t[8]=n.progress,t[9]=v):v=t[9];let S;return t[10]!==_||t[11]!==v?(S=A.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium shadow-lg",children:[g,A.jsxs("div",{className:"flex flex-col",children:[_,v]})]}),t[10]=_,t[11]=v,t[12]=S):S=t[12],S}let o;t[13]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx(Ul,{className:"h-4 w-4 animate-spin"}),t[13]=o):o=t[13];let l;t[14]!==e.length?(l=A.jsx(A1,{asChild:!0,children:A.jsxs("button",{className:"flex items-center gap-3 px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium shadow-lg cursor-pointer hover:bg-primary/90 transition-colors",children:[o,A.jsxs("span",{children:[e.length," tasks running..."]})]})}),t[14]=e.length,t[15]=l):l=t[15];let u,f;t[16]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsx(OP,{children:"Running Tasks"}),f=A.jsx(m1,{}),t[16]=u,t[17]=f):(u=t[16],f=t[17]);let p;t[18]!==e?(p=e.map(Sue),t[18]=e,t[19]=p):p=t[19];let h;t[20]!==p?(h=A.jsxs(k1,{align:"end",className:"w-72",children:[u,f,p]}),t[20]=p,t[21]=h):h=t[21];let m;return t[22]!==l||t[23]!==h?(m=A.jsxs(C1,{children:[l,h]}),t[22]=l,t[23]=h,t[24]=m):m=t[24],m}function Sue(t){const e=t.progress&&t.progress.total>0,n=e?Math.round(t.progress.current/t.progress.total*100):null;return A.jsxs("div",{className:"px-2 py-2 text-sm",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ul,{className:"h-3 w-3 animate-spin shrink-0"}),A.jsx("span",{className:"truncate",children:t.label})]}),e&&A.jsxs("div",{className:"ml-5 mt-1",children:[A.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.progress.current,"/",t.progress.total,"  ",n,"%"]}),A.jsx("div",{className:"mt-1 h-1.5 bg-muted rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${n}%`}})})]})]},t.id)}function bue(){const t=_t.c(6),{themeMode:e,cycleTheme:n}=jce(),r=e==="light"?RD:e==="dark"?SD:vD,i=e==="light"?"Light mode (click for dark)":e==="dark"?"Dark mode (click for system)":"System mode (click for light)";let a;t[0]!==r?(a=A.jsx(r,{className:"h-4 w-4"}),t[0]=r,t[1]=a):a=t[1];let o;return t[2]!==n||t[3]!==a||t[4]!==i?(o=A.jsx(wi,{size:"icon-sm",variant:"ghost",className:"bg-muted hover:bg-muted/80",onClick:n,title:i,children:a}),t[2]=n,t[3]=a,t[4]=i,t[5]=o):o=t[5],o}function xue(){const t=_t.c(39),e=Jt(js),n=bn(Vz),r=bn(Ru),i=bn(Dz),a=Jt(Uc),o=Jt(wn),l=Jt(wz),[u,f]=B.useState(!1),p=e.mode!=="idle",h=o.channelId!==null,m=a.length;let g;t[0]!==n||t[1]!==r||t[2]!==p||t[3]!==l?(g=()=>{p?r():l?Ys.info("Panorama bookmarks coming soon!",{description:"Bookmarks on 360 panorama images aren't supported yet. We're working on it!"}):n()},t[0]=n,t[1]=r,t[2]=p,t[3]=l,t[4]=g):g=t[4];const _=g;let v;t[5]!==m||t[6]!==i?(v=()=>{m!==0&&confirm(`This will delete all ${m} bookmark${m!==1?"s":""} you've made. Are you sure?`)&&i()},t[5]=m,t[6]=i,t[7]=v):v=t[7];const S=v;let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{f(!0)},t[8]=b):b=t[8];const Y=b,E=p?"default":"ghost",M=p?"":"bg-muted hover:bg-muted/80",U=!h&&!p,W=p?"Cancel Bookmark (B / Esc)":"Bookmark (B)";let w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=A.jsx(zE,{className:"h-4 w-4"}),t[9]=w):w=t[9];let I;t[10]!==E||t[11]!==M||t[12]!==U||t[13]!==W?(I=A.jsx(A1,{asChild:!0,children:A.jsx(wi,{size:"icon-sm",variant:E,className:M,disabled:U,title:W,children:w})}),t[10]=E,t[11]=M,t[12]=U,t[13]=W,t[14]=I):I=t[14];let P;t[15]===Symbol.for("react.memo_cache_sentinel")?(P=A.jsx(zE,{className:"mr-2 h-4 w-4"}),t[15]=P):P=t[15];const O=p?"Cancel bookmark (B)":"Add new bookmark (B)";let V;t[16]!==_||t[17]!==O?(V=A.jsxs(fa,{onClick:_,children:[P,O]}),t[16]=_,t[17]=O,t[18]=V):V=t[18];const N=m===0;let F;t[19]===Symbol.for("react.memo_cache_sentinel")?(F=A.jsx(t1,{className:"mr-2 h-4 w-4"}),t[19]=F):F=t[19];let R;t[20]!==N?(R=A.jsxs(fa,{onClick:Y,disabled:N,children:[F,"Export all bookmarks"]}),t[20]=N,t[21]=R):R=t[21];const K=m===0;let Z;t[22]===Symbol.for("react.memo_cache_sentinel")?(Z=A.jsx(t0,{className:"mr-2 h-4 w-4"}),t[22]=Z):Z=t[22];let G;t[23]!==m||t[24]!==S||t[25]!==K?(G=A.jsxs(fa,{onClick:S,disabled:K,className:"text-destructive focus:text-destructive",children:[Z,"Delete all ",m," bookmarks"]}),t[23]=m,t[24]=S,t[25]=K,t[26]=G):G=t[26];let q;t[27]!==V||t[28]!==R||t[29]!==G?(q=A.jsxs(k1,{children:[V,R,G]}),t[27]=V,t[28]=R,t[29]=G,t[30]=q):q=t[30];let Q;t[31]!==q||t[32]!==I?(Q=A.jsxs(C1,{children:[I,q]}),t[31]=q,t[32]=I,t[33]=Q):Q=t[33];let ue;t[34]!==u?(ue=A.jsx(pue,{open:u,onOpenChange:f}),t[34]=u,t[35]=ue):ue=t[35];let j;return t[36]!==Q||t[37]!==ue?(j=A.jsxs(A.Fragment,{children:[Q,ue]}),t[36]=Q,t[37]=ue,t[38]=j):j=t[38],j}const W8=EO()({component:()=>A.jsx(A.Fragment,{children:A.jsxs(vZ,{defaultOpen:!0,children:[A.jsx(rle,{}),A.jsxs("main",{className:"flex flex-col w-full min-w-0",children:[A.jsx(mue,{}),A.jsx(mA,{})]})]})})}),Yue="modulepreload",Tue=function(t){return"/mirada/"+t},R5={},wue=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=u(n.map(f=>{if(f=Tue(f),f in R5)return;R5[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":Yue,p||(m.as="script"),m.crossOrigin="",m.href=f,l&&m.setAttribute("nonce",l),document.head.appendChild(m),p)return new Promise((g,_)=>{m.addEventListener("load",g),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};var Gn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Gn||(Gn={}));var X5;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(X5||(X5={}));const Lt=Gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ml=t=>{switch(typeof t){case"undefined":return Lt.undefined;case"string":return Lt.string;case"number":return Number.isNaN(t)?Lt.nan:Lt.number;case"boolean":return Lt.boolean;case"function":return Lt.function;case"bigint":return Lt.bigint;case"symbol":return Lt.symbol;case"object":return Array.isArray(t)?Lt.array:t===null?Lt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Lt.promise:typeof Map<"u"&&t instanceof Map?Lt.map:typeof Set<"u"&&t instanceof Set?Lt.set:typeof Date<"u"&&t instanceof Date?Lt.date:Lt.object;default:return Lt.unknown}},Yt=Gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Uo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(o))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(this),r}static assert(e){if(!(e instanceof Uo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Uo.create=t=>new Uo(t);const hT=(t,e)=>{let n;switch(t.code){case Yt.invalid_type:t.received===Lt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Gn.jsonStringifyReplacer)}`;break;case Yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Gn.joinValues(t.keys,", ")}`;break;case Yt.invalid_union:n="Invalid input";break;case Yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Gn.joinValues(t.options)}`;break;case Yt.invalid_enum_value:n=`Invalid enum value. Expected ${Gn.joinValues(t.options)}, received '${t.received}'`;break;case Yt.invalid_arguments:n="Invalid function arguments";break;case Yt.invalid_return_type:n="Invalid function return type";break;case Yt.invalid_date:n="Invalid date";break;case Yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Gn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Yt.custom:n="Invalid input";break;case Yt.invalid_intersection_types:n="Intersection results could not be merged";break;case Yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Gn.assertNever(t)}return{message:n}};let Wue=hT;function Eue(){return Wue}const Uue=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)l=f(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Pt(t,e){const n=Eue(),r=Uue({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hT?void 0:hT].filter(i=>!!i)});t.common.issues.push(r)}class Ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return un;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Ws.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return un;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const un=Object.freeze({status:"aborted"}),Bg=t=>({status:"dirty",value:t}),Gs=t=>({status:"valid",value:t}),P5=t=>t.status==="aborted",M5=t=>t.status==="dirty",p0=t=>t.status==="valid",I_=t=>typeof Promise<"u"&&t instanceof Promise;var $t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($t||($t={}));class Rl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const N5=(t,e)=>{if(p0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Uo(t.common.issues);return this._error=n,this._error}}};function Tn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:i}}class zn{get description(){return this._def.description}_getType(e){return ml(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ws,ctx:{common:e.parent.common,data:e.data,parsedType:ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(I_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ml(e)},i=this._parseSync({data:e,path:r.path,parent:r});return N5(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ml(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return p0(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>p0(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ml(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(I_(i)?i:Promise.resolve(i));return N5(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new y0({schema:this,typeName:fn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return wl.create(this,this._def)}nullable(){return v0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pa.create(this)}promise(){return M_.create(this,this._def)}or(e){return X_.create([this,e],this._def)}and(e){return P_.create(this,e,this._def)}transform(e){return new y0({...Tn(this._def),schema:this,typeName:fn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new mT({...Tn(this._def),innerType:this,defaultValue:n,typeName:fn.ZodDefault})}brand(){return new que({typeName:fn.ZodBranded,type:this,...Tn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new gT({...Tn(this._def),innerType:this,catchValue:n,typeName:fn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return qw.create(this,e)}readonly(){return yT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cue=/^c[^\s-]{8,}$/i,Aue=/^[0-9a-z]+$/,kue=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Iue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rue=/^[a-z0-9_-]{21}$/i,Xue=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Pue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Mue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Nue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kx;const Oue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Due=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bue=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vue=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lue=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zue=new RegExp(`^${E8}$`);function U8(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function zue(t){return new RegExp(`^${U8(t)}$`)}function $ue(t){let e=`${E8}T${U8(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function jue(t,e){return!!((e==="v4"||!e)&&Oue.test(t)||(e==="v6"||!e)&&Bue.test(t))}function Kue(t,e){if(!Xue.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Hue(t,e){return!!((e==="v4"||!e)&&Due.test(t)||(e==="v6"||!e)&&Vue.test(t))}class _l extends zn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Lt.string){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Lt.string,received:a.parsedType}),un}const r=new Ws;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Pt(i,{code:Yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pt(i,{code:Yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Mue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"email",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Kx||(Kx=new RegExp(Nue,"u")),Kx.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"emoji",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Iue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"uuid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Rue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"nanoid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Cue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cuid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Aue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cuid2",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")kue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"ulid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pt(i,{validation:"url",code:Yt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"regex",code:Yt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?$ue(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Zue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?zue(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Pue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"duration",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?jue(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"ip",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Kue(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"jwt",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Hue(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cidr",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Fue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"base64",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Lue.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"base64url",code:Yt.invalid_string,message:a.message}),r.dirty()):Gn.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Yt.invalid_string,...$t.errToObj(r)})}_addCheck(e){return new _l({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$t.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$t.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...$t.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...$t.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...$t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...$t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...$t.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...$t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...$t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...$t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...$t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...$t.errToObj(n)})}nonempty(e){return this.min(1,$t.errToObj(e))}trim(){return new _l({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _l({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _l({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}_l.create=t=>new _l({checks:[],typeName:fn.ZodString,coerce:t?.coerce??!1,...Tn(t)});function Gue(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class m0 extends zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Lt.number){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Lt.number,received:a.parsedType}),un}let r;const i=new Ws;for(const a of this._def.checks)a.kind==="int"?Gn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Gue(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_finite,message:a.message}),i.dirty()):Gn.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,i){return new m0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(e){return new m0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:$t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}m0.create=t=>new m0({checks:[],typeName:fn.ZodNumber,coerce:t?.coerce||!1,...Tn(t)});class g1 extends zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Lt.bigint)return this._getInvalidInput(e);let r;const i=new Ws;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Gn.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Pt(n,{code:Yt.invalid_type,expected:Lt.bigint,received:n.parsedType}),un}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,i){return new g1({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(e){return new g1({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}g1.create=t=>new g1({checks:[],typeName:fn.ZodBigInt,coerce:t?.coerce??!1,...Tn(t)});class O5 extends zn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Lt.boolean){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.boolean,received:r.parsedType}),un}return Gs(e.data)}}O5.create=t=>new O5({typeName:fn.ZodBoolean,coerce:t?.coerce||!1,...Tn(t)});class R_ extends zn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Lt.date){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Lt.date,received:a.parsedType}),un}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_date}),un}const r=new Ws;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Gn.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new R_({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:$t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:$t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}R_.create=t=>new R_({checks:[],coerce:t?.coerce||!1,typeName:fn.ZodDate,...Tn(t)});class D5 extends zn{_parse(e){if(this._getType(e)!==Lt.symbol){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.symbol,received:r.parsedType}),un}return Gs(e.data)}}D5.create=t=>new D5({typeName:fn.ZodSymbol,...Tn(t)});class B5 extends zn{_parse(e){if(this._getType(e)!==Lt.undefined){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.undefined,received:r.parsedType}),un}return Gs(e.data)}}B5.create=t=>new B5({typeName:fn.ZodUndefined,...Tn(t)});class V5 extends zn{_parse(e){if(this._getType(e)!==Lt.null){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.null,received:r.parsedType}),un}return Gs(e.data)}}V5.create=t=>new V5({typeName:fn.ZodNull,...Tn(t)});class F5 extends zn{constructor(){super(...arguments),this._any=!0}_parse(e){return Gs(e.data)}}F5.create=t=>new F5({typeName:fn.ZodAny,...Tn(t)});class L5 extends zn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gs(e.data)}}L5.create=t=>new L5({typeName:fn.ZodUnknown,...Tn(t)});class Xl extends zn{_parse(e){const n=this._getOrReturnCtx(e);return Pt(n,{code:Yt.invalid_type,expected:Lt.never,received:n.parsedType}),un}}Xl.create=t=>new Xl({typeName:fn.ZodNever,...Tn(t)});class Z5 extends zn{_parse(e){if(this._getType(e)!==Lt.undefined){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.void,received:r.parsedType}),un}return Gs(e.data)}}Z5.create=t=>new Z5({typeName:fn.ZodVoid,...Tn(t)});class Pa extends zn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Lt.array)return Pt(n,{code:Yt.invalid_type,expected:Lt.array,received:n.parsedType}),un;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Pt(n,{code:o?Yt.too_big:Yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pt(n,{code:Yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pt(n,{code:Yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Rl(n,o,n.path,l)))).then(o=>Ws.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Rl(n,o,n.path,l)));return Ws.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Pa({...this._def,minLength:{value:e,message:$t.toString(n)}})}max(e,n){return new Pa({...this._def,maxLength:{value:e,message:$t.toString(n)}})}length(e,n){return new Pa({...this._def,exactLength:{value:e,message:$t.toString(n)}})}nonempty(e){return this.min(1,e)}}Pa.create=(t,e)=>new Pa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fn.ZodArray,...Tn(e)});function ku(t){if(t instanceof ei){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=wl.create(ku(r))}return new ei({...t._def,shape:()=>e})}else return t instanceof Pa?new Pa({...t._def,type:ku(t.element)}):t instanceof wl?wl.create(ku(t.unwrap())):t instanceof v0?v0.create(ku(t.unwrap())):t instanceof Pc?Pc.create(t.items.map(e=>ku(e))):t}class ei extends zn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Gn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Lt.object){const f=this._getOrReturnCtx(e);return Pt(f,{code:Yt.invalid_type,expected:Lt.object,received:f.parsedType}),un}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xl&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||l.push(f);const u=[];for(const f of o){const p=a[f],h=i.data[f];u.push({key:{status:"valid",value:f},value:p._parse(new Rl(i,h,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Xl){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")l.length>0&&(Pt(i,{code:Yt.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of l){const h=i.data[p];u.push({key:{status:"valid",value:p},value:f._parse(new Rl(i,h,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of u){const h=await p.key,m=await p.value;f.push({key:h,value:m,alwaysSet:p.alwaysSet})}return f}).then(f=>Ws.mergeObjectSync(r,f)):Ws.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return $t.errToObj,new ei({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:$t.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ei({...this._def,unknownKeys:"strip"})}passthrough(){return new ei({...this._def,unknownKeys:"passthrough"})}extend(e){return new ei({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ei({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ei({...this._def,catchall:e})}pick(e){const n={};for(const r of Gn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ei({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Gn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ei({...this._def,shape:()=>n})}deepPartial(){return ku(this)}partial(e){const n={};for(const r of Gn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ei({...this._def,shape:()=>n})}required(e){const n={};for(const r of Gn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof wl;)a=a._def.innerType;n[r]=a}return new ei({...this._def,shape:()=>n})}keyof(){return C8(Gn.objectKeys(this.shape))}}ei.create=(t,e)=>new ei({shape:()=>t,unknownKeys:"strip",catchall:Xl.create(),typeName:fn.ZodObject,...Tn(e)});ei.strictCreate=(t,e)=>new ei({shape:()=>t,unknownKeys:"strict",catchall:Xl.create(),typeName:fn.ZodObject,...Tn(e)});ei.lazycreate=(t,e)=>new ei({shape:t,unknownKeys:"strip",catchall:Xl.create(),typeName:fn.ZodObject,...Tn(e)});class X_ extends zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Uo(l.ctx.common.issues));return Pt(n,{code:Yt.invalid_union,unionErrors:o}),un}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(u=>new Uo(u));return Pt(n,{code:Yt.invalid_union,unionErrors:l}),un}}get options(){return this._def.options}}X_.create=(t,e)=>new X_({options:t,typeName:fn.ZodUnion,...Tn(e)});function pT(t,e){const n=ml(t),r=ml(e);if(t===e)return{valid:!0,data:t};if(n===Lt.object&&r===Lt.object){const i=Gn.objectKeys(e),a=Gn.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const u=pT(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===Lt.array&&r===Lt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],u=pT(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Lt.date&&r===Lt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class P_ extends zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(P5(a)||P5(o))return un;const l=pT(a.value,o.value);return l.valid?((M5(a)||M5(o))&&n.dirty(),{status:n.value,value:l.data}):(Pt(r,{code:Yt.invalid_intersection_types}),un)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}P_.create=(t,e,n)=>new P_({left:t,right:e,typeName:fn.ZodIntersection,...Tn(n)});class Pc extends zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Lt.array)return Pt(r,{code:Yt.invalid_type,expected:Lt.array,received:r.parsedType}),un;if(r.data.length<this._def.items.length)return Pt(r,{code:Yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),un;!this._def.rest&&r.data.length>this._def.items.length&&(Pt(r,{code:Yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Rl(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Ws.mergeArray(n,o)):Ws.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Pc({...this._def,rest:e})}}Pc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pc({items:t,typeName:fn.ZodTuple,rest:null,...Tn(e)})};class z5 extends zn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Lt.map)return Pt(r,{code:Yt.invalid_type,expected:Lt.map,received:r.parsedType}),un;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,u],f)=>({key:i._parse(new Rl(r,l,r.path,[f,"key"])),value:a._parse(new Rl(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,p=await u.value;if(f.status==="aborted"||p.status==="aborted")return un;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(f.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const f=u.key,p=u.value;if(f.status==="aborted"||p.status==="aborted")return un;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(f.value,p.value)}return{status:n.value,value:l}}}}z5.create=(t,e,n)=>new z5({valueType:e,keyType:t,typeName:fn.ZodMap,...Tn(n)});class y1 extends zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Lt.set)return Pt(r,{code:Yt.invalid_type,expected:Lt.set,received:r.parsedType}),un;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pt(r,{code:Yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pt(r,{code:Yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(u){const f=new Set;for(const p of u){if(p.status==="aborted")return un;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const l=[...r.data.values()].map((u,f)=>a._parse(new Rl(r,u,r.path,f)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new y1({...this._def,minSize:{value:e,message:$t.toString(n)}})}max(e,n){return new y1({...this._def,maxSize:{value:e,message:$t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}y1.create=(t,e)=>new y1({valueType:t,minSize:null,maxSize:null,typeName:fn.ZodSet,...Tn(e)});class $5 extends zn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$5.create=(t,e)=>new $5({getter:t,typeName:fn.ZodLazy,...Tn(e)});class j5 extends zn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Pt(n,{received:n.data,code:Yt.invalid_literal,expected:this._def.value}),un}return{status:"valid",value:e.data}}get value(){return this._def.value}}j5.create=(t,e)=>new j5({value:t,typeName:fn.ZodLiteral,...Tn(e)});function C8(t,e){return new g0({values:t,typeName:fn.ZodEnum,...Tn(e)})}class g0 extends zn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Pt(n,{expected:Gn.joinValues(r),received:n.parsedType,code:Yt.invalid_type}),un}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Pt(n,{received:n.data,code:Yt.invalid_enum_value,options:r}),un}return Gs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return g0.create(e,{...this._def,...n})}exclude(e,n=this._def){return g0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}g0.create=C8;class K5 extends zn{_parse(e){const n=Gn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Lt.string&&r.parsedType!==Lt.number){const i=Gn.objectValues(n);return Pt(r,{expected:Gn.joinValues(i),received:r.parsedType,code:Yt.invalid_type}),un}if(this._cache||(this._cache=new Set(Gn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Gn.objectValues(n);return Pt(r,{received:r.data,code:Yt.invalid_enum_value,options:i}),un}return Gs(e.data)}get enum(){return this._def.values}}K5.create=(t,e)=>new K5({values:t,typeName:fn.ZodNativeEnum,...Tn(e)});class M_ extends zn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Lt.promise&&n.common.async===!1)return Pt(n,{code:Yt.invalid_type,expected:Lt.promise,received:n.parsedType}),un;const r=n.parsedType===Lt.promise?n.data:Promise.resolve(n.data);return Gs(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}M_.create=(t,e)=>new M_({type:t,typeName:fn.ZodPromise,...Tn(e)});class y0 extends zn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Pt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return un;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?un:u.status==="dirty"||n.value==="dirty"?Bg(u.value):u});{if(n.value==="aborted")return un;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?un:l.status==="dirty"||n.value==="dirty"?Bg(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?un:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?un:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!p0(o))return un;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>p0(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):un);Gn.assertNever(i)}}y0.create=(t,e,n)=>new y0({schema:t,typeName:fn.ZodEffects,effect:e,...Tn(n)});y0.createWithPreprocess=(t,e,n)=>new y0({schema:e,effect:{type:"preprocess",transform:t},typeName:fn.ZodEffects,...Tn(n)});class wl extends zn{_parse(e){return this._getType(e)===Lt.undefined?Gs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wl.create=(t,e)=>new wl({innerType:t,typeName:fn.ZodOptional,...Tn(e)});class v0 extends zn{_parse(e){return this._getType(e)===Lt.null?Gs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}v0.create=(t,e)=>new v0({innerType:t,typeName:fn.ZodNullable,...Tn(e)});class mT extends zn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Lt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mT.create=(t,e)=>new mT({innerType:t,typeName:fn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Tn(e)});class gT extends zn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return I_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Uo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Uo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}gT.create=(t,e)=>new gT({innerType:t,typeName:fn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Tn(e)});class H5 extends zn{_parse(e){if(this._getType(e)!==Lt.nan){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Lt.nan,received:r.parsedType}),un}return{status:"valid",value:e.data}}}H5.create=t=>new H5({typeName:fn.ZodNaN,...Tn(t)});class que extends zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class qw extends zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?un:a.status==="dirty"?(n.dirty(),Bg(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?un:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new qw({in:e,out:n,typeName:fn.ZodPipeline})}}class yT extends zn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(p0(i)&&(i.value=Object.freeze(i.value)),i);return I_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}yT.create=(t,e)=>new yT({innerType:t,typeName:fn.ZodReadonly,...Tn(e)});var fn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fn||(fn={}));const Que=_l.create,fv=m0.create;Xl.create;Pa.create;const Jue=ei.create;X_.create;P_.create;Pc.create;g0.create;M_.create;wl.create;v0.create;const efe=Jue({c:Que().optional(),t:fv().min(0).optional(),s:fv().min(1).max(8).optional(),px:fv().optional(),py:fv().optional()}),tfe=()=>wue(()=>import("./index-C-Xxxkss.js"),__vite__mapDeps([0,1])),nfe=Jx("/")({validateSearch:t=>efe.parse(t),component:AO(tfe,"component")}),rfe=nfe.update({id:"/",path:"/",getParentRoute:()=>W8}),ife={IndexRoute:rfe},sfe=W8._addFileChildren(ife)._addFileTypes(),A8=S7(),afe=BO({routeTree:sfe,basepath:"/mirada",context:{...A8},defaultPreload:"intent",scrollRestoration:!0,defaultStructuralSharing:!0,defaultPreloadStaleTime:0}),Hx=document.getElementById("app");Hx&&!Hx.innerHTML&&rN.createRoot(Hx).render(A.jsx(b7,{...A8,children:A.jsx(LO,{router:afe})}));export{wz as $,l2 as A,X6 as B,hue as C,S0 as D,m_ as E,hfe as F,J9 as G,UA as H,HY as I,g_ as J,tz as K,Rj as L,vY as M,Uj as N,Yj as O,xn as P,Tj as Q,gt as R,Zfe as S,Ml as T,dw as U,n9 as V,Oz as W,Bz as X,Nz as Y,$D as Z,js as _,ft as a,UT as a$,Ys as a0,Gfe as a1,gP as a2,Tfe as a3,Sfe as a4,Da as a5,Bfe as a6,Vfe as a7,Ffe as a8,Ru as a9,Uz as aA,Wfe as aB,Ez as aC,xfe as aD,G7 as aE,t1 as aF,Efe as aG,c2 as aH,L_ as aI,cw as aJ,xT as aK,cfe as aL,xk as aM,Yk as aN,Tk as aO,ufe as aP,bk as aQ,vk as aR,_k as aS,ffe as aT,Sk as aU,MB as aV,Hfe as aW,Ul as aX,OD as aY,mz as aZ,p1 as a_,_fe as aa,Co as ab,_0 as ac,G5 as ad,U0 as ae,sD as af,n0 as ag,r_ as ah,la as ai,Xu as aj,u1 as ak,f1 as al,d1 as am,h1 as an,IT as ao,EA as ap,RT as aq,U_ as ar,wi as as,h0 as at,iY as au,bo as av,wfe as aw,Yfe as ax,wo as ay,xz as az,_t as b,ET as b0,W0 as b1,Xi as b2,gfe as b3,O6 as b4,N6 as b5,Dfe as b6,jfe as b7,Vz as b8,bfe as b9,x2 as ba,kw as bb,Lfe as bc,zfe as bd,Ec as be,Bj as bf,yn as c,Jt as d,o2 as e,bn as f,mfe as g,gn as h,vfe as i,Fa as j,A as k,er as l,Tc as m,Xw as n,Nt as o,wn as p,U5 as q,B as r,Pw as s,Nk as t,p_ as u,DP as v,jt as w,pfe as x,Q9 as y,yfe as z};
