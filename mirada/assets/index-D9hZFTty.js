const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-yGLlcojY.js","assets/index-8KalZEDh.css"])))=>i.map(i=>d[i]);
var Y4=t=>{throw TypeError(t)};var GS=(t,e,n)=>e.has(t)||Y4("Cannot "+n);var x4=(t,e,n)=>(GS(t,e,"read from private field"),n?n.call(t):e.get(t)),qS=(t,e,n)=>e.has(t)?Y4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),T4=(t,e,n,r)=>(GS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),QS=(t,e,n)=>(GS(t,e,"access private method"),n);function zP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JS={exports:{}},ig={};var w4;function $P(){if(w4)return ig;w4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ig.Fragment=e,ig.jsx=n,ig.jsxs=n,ig}var W4;function KP(){return W4||(W4=1,JS.exports=$P()),JS.exports}var I=KP(),eb={exports:{}},sg={},tb={exports:{}},nb={};var E4;function jP(){return E4||(E4=1,(function(t){function e($,q){var G=$.length;$.push(q);e:for(;0<G;){var Q=G-1>>>1,ue=$[Q];if(0<i(ue,q))$[Q]=q,$[G]=ue,G=Q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],G=$.pop();if(G!==q){$[0]=G;e:for(var Q=0,ue=$.length,K=ue>>>1;Q<K;){var ee=2*(Q+1)-1,fe=$[ee],te=ee+1,ie=$[te];if(0>i(fe,G))te<ue&&0>i(ie,fe)?($[Q]=ie,$[te]=G,Q=te):($[Q]=fe,$[ee]=G,Q=ee);else if(te<ue&&0>i(ie,G))$[Q]=ie,$[te]=G,Q=te;else break e}}return q}function i($,q){var G=$.sortIndex-q.sortIndex;return G!==0?G:$.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,h=null,m=3,y=!1,_=!1,v=!1,S=!1,Y=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P($){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=$)r(f),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(f)}}function C($){if(v=!1,P($),!_)if(n(u)!==null)_=!0,W||(W=!0,O());else{var q=n(f);q!==null&&j(C,q.startTime-$)}}var W=!1,w=-1,k=5,M=-1;function D(){return S?!0:!(t.unstable_now()-M<k)}function B(){if(S=!1,W){var $=t.unstable_now();M=$;var q=!0;try{e:{_=!1,v&&(v=!1,T(w),w=-1),y=!0;var G=m;try{t:{for(P($),h=n(u);h!==null&&!(h.expirationTime>$&&D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var ue=Q(h.expirationTime<=$);if($=t.unstable_now(),typeof ue=="function"){h.callback=ue,P($),q=!0;break t}h===n(u)&&r(u),P($)}else r(u);h=n(u)}if(h!==null)q=!0;else{var K=n(f);K!==null&&j(C,K.startTime-$),q=!1}}break e}finally{h=null,m=G,y=!1}q=void 0}}finally{q?O():W=!1}}}var O;if(typeof A=="function")O=function(){A(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=B,O=function(){X.postMessage(null)}}else O=function(){Y(B,0)};function j($,q){w=Y(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var G=m;m=q;try{return $()}finally{m=G}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=m;m=$;try{return q()}finally{m=G}},t.unstable_scheduleCallback=function($,q,G){var Q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,$={id:p++,callback:q,priorityLevel:$,startTime:G,expirationTime:ue,sortIndex:-1},G>Q?($.sortIndex=G,e(f,$),n(u)===null&&$===n(f)&&(v?(T(w),w=-1):v=!0,j(C,G-Q))):($.sortIndex=ue,e(u,$),_||y||(_=!0,W||(W=!0,O()))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var q=m;return function(){var G=m;m=q;try{return $.apply(this,arguments)}finally{m=G}}}})(nb)),nb}var U4;function HP(){return U4||(U4=1,tb.exports=jP()),tb.exports}var rb={exports:{}},cn={};var C4;function GP(){if(C4)return cn;C4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function y(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function Y(K,ee,fe){this.props=K,this.context=ee,this.refs=S,this.updater=fe||_}Y.prototype.isReactComponent={},Y.prototype.setState=function(K,ee){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ee,"setState")},Y.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=Y.prototype;function A(K,ee,fe){this.props=K,this.context=ee,this.refs=S,this.updater=fe||_}var P=A.prototype=new T;P.constructor=A,v(P,Y.prototype),P.isPureReactComponent=!0;var C=Array.isArray;function W(){}var w={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(K,ee,fe){var te=fe.ref;return{$$typeof:t,type:K,key:ee,ref:te!==void 0?te:null,props:fe}}function D(K,ee){return M(K.type,ee,K.props)}function B(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function O(K){var ee={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(fe){return ee[fe]})}var V=/\/+/g;function X(K,ee){return typeof K=="object"&&K!==null&&K.key!=null?O(""+K.key):ee.toString(36)}function j(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(W,W):(K.status="pending",K.then(function(ee){K.status==="pending"&&(K.status="fulfilled",K.value=ee)},function(ee){K.status==="pending"&&(K.status="rejected",K.reason=ee)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function $(K,ee,fe,te,ie){var le=typeof K;(le==="undefined"||le==="boolean")&&(K=null);var he=!1;if(K===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(K.$$typeof){case t:case e:he=!0;break;case p:return he=K._init,$(he(K._payload),ee,fe,te,ie)}}if(he)return ie=ie(K),he=te===""?"."+X(K,0):te,C(ie)?(fe="",he!=null&&(fe=he.replace(V,"$&/")+"/"),$(ie,ee,fe,"",function(Je){return Je})):ie!=null&&(B(ie)&&(ie=D(ie,fe+(ie.key==null||K&&K.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+he)),ee.push(ie)),1;he=0;var me=te===""?".":te+":";if(C(K))for(var Se=0;Se<K.length;Se++)te=K[Se],le=me+X(te,Se),he+=$(te,ee,fe,le,ie);else if(Se=y(K),typeof Se=="function")for(K=Se.call(K),Se=0;!(te=K.next()).done;)te=te.value,le=me+X(te,Se++),he+=$(te,ee,fe,le,ie);else if(le==="object"){if(typeof K.then=="function")return $(j(K),ee,fe,te,ie);throw ee=String(K),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return he}function q(K,ee,fe){if(K==null)return K;var te=[],ie=0;return $(K,te,"","",function(le){return ee.call(fe,le,ie++)}),te}function G(K){if(K._status===-1){var ee=K._result;ee=ee(),ee.then(function(fe){(K._status===0||K._status===-1)&&(K._status=1,K._result=fe)},function(fe){(K._status===0||K._status===-1)&&(K._status=2,K._result=fe)}),K._status===-1&&(K._status=0,K._result=ee)}if(K._status===1)return K._result.default;throw K._result}var Q=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ue={map:q,forEach:function(K,ee,fe){q(K,function(){ee.apply(this,arguments)},fe)},count:function(K){var ee=0;return q(K,function(){ee++}),ee},toArray:function(K){return q(K,function(ee){return ee})||[]},only:function(K){if(!B(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return cn.Activity=h,cn.Children=ue,cn.Component=Y,cn.Fragment=n,cn.Profiler=i,cn.PureComponent=A,cn.StrictMode=r,cn.Suspense=u,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,cn.__COMPILER_RUNTIME={__proto__:null,c:function(K){return w.H.useMemoCache(K)}},cn.cache=function(K){return function(){return K.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(K,ee,fe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var te=v({},K.props),ie=K.key;if(ee!=null)for(le in ee.key!==void 0&&(ie=""+ee.key),ee)!k.call(ee,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&ee.ref===void 0||(te[le]=ee[le]);var le=arguments.length-2;if(le===1)te.children=fe;else if(1<le){for(var he=Array(le),me=0;me<le;me++)he[me]=arguments[me+2];te.children=he}return M(K.type,ie,te)},cn.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},cn.createElement=function(K,ee,fe){var te,ie={},le=null;if(ee!=null)for(te in ee.key!==void 0&&(le=""+ee.key),ee)k.call(ee,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ie[te]=ee[te]);var he=arguments.length-2;if(he===1)ie.children=fe;else if(1<he){for(var me=Array(he),Se=0;Se<he;Se++)me[Se]=arguments[Se+2];ie.children=me}if(K&&K.defaultProps)for(te in he=K.defaultProps,he)ie[te]===void 0&&(ie[te]=he[te]);return M(K,le,ie)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(K){return{$$typeof:c,render:K}},cn.isValidElement=B,cn.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:G}},cn.memo=function(K,ee){return{$$typeof:f,type:K,compare:ee===void 0?null:ee}},cn.startTransition=function(K){var ee=w.T,fe={};w.T=fe;try{var te=K(),ie=w.S;ie!==null&&ie(fe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(W,Q)}catch(le){Q(le)}finally{ee!==null&&fe.types!==null&&(ee.types=fe.types),w.T=ee}},cn.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},cn.use=function(K){return w.H.use(K)},cn.useActionState=function(K,ee,fe){return w.H.useActionState(K,ee,fe)},cn.useCallback=function(K,ee){return w.H.useCallback(K,ee)},cn.useContext=function(K){return w.H.useContext(K)},cn.useDebugValue=function(){},cn.useDeferredValue=function(K,ee){return w.H.useDeferredValue(K,ee)},cn.useEffect=function(K,ee){return w.H.useEffect(K,ee)},cn.useEffectEvent=function(K){return w.H.useEffectEvent(K)},cn.useId=function(){return w.H.useId()},cn.useImperativeHandle=function(K,ee,fe){return w.H.useImperativeHandle(K,ee,fe)},cn.useInsertionEffect=function(K,ee){return w.H.useInsertionEffect(K,ee)},cn.useLayoutEffect=function(K,ee){return w.H.useLayoutEffect(K,ee)},cn.useMemo=function(K,ee){return w.H.useMemo(K,ee)},cn.useOptimistic=function(K,ee){return w.H.useOptimistic(K,ee)},cn.useReducer=function(K,ee,fe){return w.H.useReducer(K,ee,fe)},cn.useRef=function(K){return w.H.useRef(K)},cn.useState=function(K){return w.H.useState(K)},cn.useSyncExternalStore=function(K,ee,fe){return w.H.useSyncExternalStore(K,ee,fe)},cn.useTransition=function(){return w.H.useTransition()},cn.version="19.2.0",cn}var A4;function u0(){return A4||(A4=1,rb.exports=GP()),rb.exports}var ib={exports:{}},Ai={};var k4;function qP(){if(k4)return Ai;k4=1;var t=u0();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ai.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},Ai.flushSync=function(u){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=p,r.d.f()}},Ai.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ai.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ai.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,h=c(p,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):p==="script"&&r.d.X(u,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ai.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ai.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,h=c(p,f.crossOrigin);r.d.L(u,p,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ai.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ai.requestFormReset=function(u){r.d.r(u)},Ai.unstable_batchedUpdates=function(u,f){return u(f)},Ai.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Ai.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ai.version="19.2.0",Ai}var I4;function v5(){if(I4)return ib.exports;I4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ib.exports=qP(),ib.exports}var X4;function QP(){if(X4)return sg;X4=1;var t=HP(),e=u0(),n=v5();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,g=l;;){var x=d.return;if(x===null)break;var U=x.alternate;if(U===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===U.child){for(U=x.child;U;){if(U===d)return u(x),s;if(U===g)return u(x),l;U=U.sibling}throw Error(r(188))}if(d.return!==g.return)d=x,g=U;else{for(var Z=!1,oe=x.child;oe;){if(oe===d){Z=!0,d=x,g=U;break}if(oe===g){Z=!0,g=x,d=U;break}oe=oe.sibling}if(!Z){for(oe=U.child;oe;){if(oe===d){Z=!0,d=U,g=x;break}if(oe===g){Z=!0,g=U,d=x;break}oe=oe.sibling}if(!Z)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case Y:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case W:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case A:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case w:return l=s.displayName||null,l!==null?l:X(s.type)||"Memo";case k:l=s._payload,s=s._init;try{return X(s(l))}catch{}}return null}var j=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Q=[],ue=-1;function K(s){return{current:s}}function ee(s){0>ue||(s.current=Q[ue],Q[ue]=null,ue--)}function fe(s,l){ue++,Q[ue]=s.current,s.current=l}var te=K(null),ie=K(null),le=K(null),he=K(null);function me(s,l){switch(fe(le,l),fe(ie,s),fe(te,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?zW(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=zW(l),s=$W(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(te),fe(te,s)}function Se(){ee(te),ee(ie),ee(le)}function Je(s){s.memoizedState!==null&&fe(he,s);var l=te.current,d=$W(l,s.type);l!==d&&(fe(ie,s),fe(te,d))}function $e(s){ie.current===s&&(ee(te),ee(ie)),he.current===s&&(ee(he),eg._currentValue=G)}var We,Ze;function F(s){if(We===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);We=l&&l[1]||"",Ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+s+Ze}var ke=!1;function Ye(s,l){if(!s||ke)return"";ke=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(rt){var qe=rt}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(rt){qe=rt}s.call(ut.prototype)}}else{try{throw Error()}catch(rt){qe=rt}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(rt){if(rt&&qe&&typeof rt.stack=="string")return[rt.stack,qe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=g.DetermineComponentFrameRoot(),Z=U[0],oe=U[1];if(Z&&oe){var xe=Z.split(`
`),He=oe.split(`
`);for(x=g=0;g<xe.length&&!xe[g].includes("DetermineComponentFrameRoot");)g++;for(;x<He.length&&!He[x].includes("DetermineComponentFrameRoot");)x++;if(g===xe.length||x===He.length)for(g=xe.length-1,x=He.length-1;1<=g&&0<=x&&xe[g]!==He[x];)x--;for(;1<=g&&0<=x;g--,x--)if(xe[g]!==He[x]){if(g!==1||x!==1)do if(g--,x--,0>x||xe[g]!==He[x]){var at=`
`+xe[g].replace(" at new "," at ");return s.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",s.displayName)),at}while(1<=g&&0<=x);break}}}finally{ke=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?F(d):""}function ce(s,l){switch(s.tag){case 26:case 27:case 5:return F(s.type);case 16:return F("Lazy");case 13:return s.child!==l&&l!==null?F("Suspense Fallback"):F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return Ye(s.type,!1);case 11:return Ye(s.type.render,!1);case 1:return Ye(s.type,!0);case 31:return F("Activity");default:return""}}function se(s){try{var l="",d=null;do l+=ce(s,d),d=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var pe=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,ge=t.unstable_shouldYield,we=t.unstable_requestPaint,et=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,Mt=t.unstable_UserBlockingPriority,ht=t.unstable_NormalPriority,Vt=t.unstable_LowPriority,sn=t.unstable_IdlePriority,ae=t.log,tt=t.unstable_setDisableYieldValue,Oe=null,it=null;function _e(s){if(typeof ae=="function"&&tt(s),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Oe,s)}catch{}}var be=Math.clz32?Math.clz32:mt,J=Math.log,Qe=Math.LN2;function mt(s){return s>>>=0,s===0?32:31-(J(s)/Qe|0)|0}var R=256,Ve=262144,Ke=4194304;function re(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ye(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var x=0,U=s.suspendedLanes,Z=s.pingedLanes;s=s.warmLanes;var oe=g&134217727;return oe!==0?(g=oe&~U,g!==0?x=re(g):(Z&=oe,Z!==0?x=re(Z):d||(d=oe&~s,d!==0&&(x=re(d))))):(oe=g&~U,oe!==0?x=re(oe):Z!==0?x=re(Z):d||(d=g&~s,d!==0&&(x=re(d)))),x===0?0:l!==0&&l!==x&&(l&U)===0&&(U=x&-x,d=l&-l,U>=d||U===32&&(d&4194048)!==0)?l:x}function Pe(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function wt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var s=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),s}function _t(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function kt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wn(s,l,d,g,x,U){var Z=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var oe=s.entanglements,xe=s.expirationTimes,He=s.hiddenUpdates;for(d=Z&~d;0<d;){var at=31-be(d),ut=1<<at;oe[at]=0,xe[at]=-1;var qe=He[at];if(qe!==null)for(He[at]=null,at=0;at<qe.length;at++){var rt=qe[at];rt!==null&&(rt.lane&=-536870913)}d&=~ut}g!==0&&hn(s,g,0),U!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=U&~(Z&~l))}function hn(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-be(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function At(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-be(d),x=1<<g;x&l|s[g]&l&&(s[g]|=l),d&=~x}}function Lt(s,l){var d=l&-l;return d=(d&42)!==0?1:Nn(d),(d&(s.suspendedLanes|l))!==0?0:d}function Nn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function In(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kr(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:m4(s.type))}function ii(s,l){var d=q.p;try{return q.p=s,l()}finally{q.p=d}}var Vn=Math.random().toString(36).slice(2),nn="__reactFiber$"+Vn,rn="__reactProps$"+Vn,zn="__reactContainer$"+Vn,pr="__reactEvents$"+Vn,rs="__reactListeners$"+Vn,mi="__reactHandles$"+Vn,Ba="__reactResources$"+Vn,Br="__reactMarker$"+Vn;function is(s){delete s[nn],delete s[rn],delete s[pr],delete s[rs],delete s[mi]}function ws(s){var l=s[nn];if(l)return l;for(var d=s.parentNode;d;){if(l=d[zn]||d[nn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=JW(s);s!==null;){if(d=s[nn])return d;s=JW(s)}return l}s=d,d=s.parentNode}return null}function Jn(s){if(s=s[nn]||s[zn]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Vr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Fr(s){var l=s[Ba];return l||(l=s[Ba]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function sr(s){s[Br]=!0}var Wi=new Set,Zi={};function ui(s,l){gi(s,l),gi(s+"Capture",l)}function gi(s,l){for(Zi[s]=l,s=0;s<l.length;s++)Wi.add(l[s])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},Es={};function bt(s){return pe.call(Es,s)?!0:pe.call(Ws,s)?!1:zi.test(s)?Es[s]=!0:(Ws[s]=!0,!1)}function It(s,l,d){if(bt(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Er(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function tr(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ur(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fr(s,l,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,U=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return x.call(this)},set:function(Z){d=""+Z,U.call(this,Z)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(Z){d=""+Z},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function qn(s){if(!s._valueTracker){var l=ur(s)?"checked":"value";s._valueTracker=fr(s,l,""+s[l])}}function Ur(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=ur(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function Gt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var mr=/[\n"\\]/g;function Xn(s){return s.replace(mr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ir(s,l,d,g,x,U,Z,oe){s.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?s.type=Z:s.removeAttribute("type"),l!=null?Z==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Dn(l)):s.value!==""+Dn(l)&&(s.value=""+Dn(l)):Z!=="submit"&&Z!=="reset"||s.removeAttribute("value"),l!=null?Xi(s,Z,Dn(l)):d!=null?Xi(s,Z,Dn(d)):g!=null&&s.removeAttribute("value"),x==null&&U!=null&&(s.defaultChecked=!!U),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?s.name=""+Dn(oe):s.removeAttribute("name")}function yi(s,l,d,g,x,U,Z,oe){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.type=U),l!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||l!=null)){qn(s);return}d=d!=null?""+Dn(d):"",l=l!=null?""+Dn(l):d,oe||l===s.value||(s.value=l),s.defaultValue=l}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=oe?s.checked:!!g,s.defaultChecked=!!g,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(s.name=Z),qn(s)}function Xi(s,l,d){l==="number"&&Gt(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Ri(s,l,d,g){if(s=s.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=l.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Dn(d),l=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}l!==null||s[x].disabled||(l=s[x])}l!==null&&(l.selected=!0)}}function Va(s,l,d){if(l!=null&&(l=""+Dn(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Dn(d):""}function vi(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(j(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Dn(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),qn(s)}function si(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var Wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||Wo.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function Mr(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in l)g=l[x],l.hasOwnProperty(x)&&d[x]!==g&&jt(s,x,g)}else for(var U in l)l.hasOwnProperty(U)&&jt(s,U,l[U])}function Pi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(s){return Lr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Zr(){}var Mi=null;function Hs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zr=null,Bn=null;function Ei(s){var l=Jn(s);if(l&&(s=l.stateNode)){var d=s[rn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Ir(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Xn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var x=g[rn]||null;if(!x)throw Error(r(90));Ir(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&Ur(g)}break e;case"textarea":Va(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ri(s,!!d.multiple,l,!1)}}}var xr=!1;function Us(s,l,d){if(xr)return s(l,d);xr=!0;try{var g=s(l);return g}finally{if(xr=!1,(zr!==null||Bn!==null)&&(J1(),zr&&(l=zr,s=Bn,Bn=zr=null,Ei(l),s)))for(l=0;l<s.length;l++)Ei(s[l])}}function ar(s,l){var d=s.stateNode;if(d===null)return null;var g=d[rn]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if($r)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Pl=!1}var Oi=null,Fa=null,ss=null;function Ui(){if(ss)return ss;var s,l=Fa,d=l.length,g,x="value"in Oi?Oi.value:Oi.textContent,U=x.length;for(s=0;s<d&&l[s]===x[s];s++);var Z=d-s;for(g=1;g<=Z&&l[d-g]===x[U-g];g++);return ss=x.slice(s,1<g?1-g:void 0)}function Gs(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function La(){return!0}function qs(){return!1}function vr(s){function l(d,g,x,U,Z){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=U,this.target=Z,this.currentTarget=null;for(var oe in s)s.hasOwnProperty(oe)&&(d=s[oe],this[oe]=d?d(U):U[oe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?La:qs,this.isPropagationStopped=qs,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=vr(as),os=h({},as,{view:0,detail:0}),Eo=vr(os),Za,za,Uo,Ml=h({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Uo&&(Uo&&s.type==="mousemove"?(Za=s.screenX-Uo.screenX,za=s.screenY-Uo.screenY):za=Za=0,Uo=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:za}}),Co=vr(Ml),Ol=h({},Ml,{dataTransfer:0}),on=vr(Ol),ln=h({},os,{relatedTarget:0}),Rn=vr(ln),Fn=h({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Pn=vr(Fn),Tr=h({},as,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_r=vr(Tr),Cr=h({},as,{data:0}),nr=vr(Cr),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Sn[s])?!!l[s]:!1}function En(){return Ln}var _i=h({},os,{key:function(s){if(s.key){var l=dr[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Gs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?er[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(s){return s.type==="keypress"?Gs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$i=vr(_i),Qs=h({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=vr(Qs),$a=h({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En}),kc=vr($a),As=h({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=vr(As),S0=h({},Ml,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ic=vr(S0),b0=h({},as,{newState:0,oldState:0}),g1=vr(b0),l2=[9,13,27,32],Nl=$r&&"CompositionEvent"in window,pa=null;$r&&"documentMode"in document&&(pa=document.documentMode);var c2=$r&&"TextEvent"in window&&!pa,Xc=$r&&(!Nl||pa&&8<pa&&11>=pa),Rc=" ",y1=!1;function Y0(s,l){switch(s){case"keyup":return l2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ka=!1;function _1(s,l){switch(s){case"compositionend":return v1(l);case"keypress":return l.which!==32?null:(y1=!0,Rc);case"textInput":return s=l.data,s===Rc&&y1?null:s;default:return null}}function u2(s,l){if(Ka)return s==="compositionend"||!Nl&&Y0(s,l)?(s=Ui(),ss=Fa=Oi=null,Ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Xc&&l.locale!=="ko"?null:l.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!S1[s.type]:l==="textarea"}function x0(s,l,d,g){zr?Bn?Bn.push(g):Bn=[g]:zr=g,l=ay(l,"onChange"),0<l.length&&(d=new Cs("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Ao=null,Dl=null;function f2(s){DW(s,0)}function Mc(s){var l=Vr(s);if(Ur(l))return s}function Bl(s,l){if(s==="change")return l}var ks=!1;if($r){var Sr;if($r){var ko="oninput"in document;if(!ko){var Ni=document.createElement("div");Ni.setAttribute("oninput","return;"),ko=typeof Ni.oninput=="function"}Sr=ko}else Sr=!1;ks=Sr&&(!document.documentMode||9<document.documentMode)}function b1(){Ao&&(Ao.detachEvent("onpropertychange",Oc),Dl=Ao=null)}function Oc(s){if(s.propertyName==="value"&&Mc(Dl)){var l=[];x0(l,Dl,s,Hs(s)),Us(f2,l)}}function Y1(s,l,d){s==="focusin"?(b1(),Ao=l,Dl=d,Ao.attachEvent("onpropertychange",Oc)):s==="focusout"&&b1()}function ja(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mc(Dl)}function T0(s,l){if(s==="click")return Mc(l)}function Io(s,l){if(s==="input"||s==="change")return Mc(l)}function ma(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Ci=typeof Object.is=="function"?Object.is:ma;function b(s,l){if(Ci(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!pe.call(l,x)||!Ci(s[x],l[x]))return!1}return!0}function E(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function N(s,l){var d=E(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=E(d)}}function L(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?L(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function H(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Gt(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Gt(s.document)}return l}function ne(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var de=$r&&"documentMode"in document&&11>=document.documentMode,ve=null,Ee=null,Ue=null,Ne=!1;function Te(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ne||ve==null||ve!==Gt(g)||(g=ve,"selectionStart"in g&&ne(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ue&&b(Ue,g)||(Ue=g,g=ay(Ee,"onSelect"),0<g.length&&(l=new Cs("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=ve)))}function Be(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Ce={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionrun:Be("Transition","TransitionRun"),transitionstart:Be("Transition","TransitionStart"),transitioncancel:Be("Transition","TransitionCancel"),transitionend:Be("Transition","TransitionEnd")},Xe={},Re={};$r&&(Re=document.createElement("div").style,"AnimationEvent"in window||(delete Ce.animationend.animation,delete Ce.animationiteration.animation,delete Ce.animationstart.animation),"TransitionEvent"in window||delete Ce.transitionend.transition);function De(s){if(Xe[s])return Xe[s];if(!Ce[s])return s;var l=Ce[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in Re)return Xe[s]=l[d];return s}var ze=De("animationend"),Ge=De("animationiteration"),st=De("animationstart"),ct=De("transitionrun"),St=De("transitionstart"),Ut=De("transitioncancel"),yt=De("transitionend"),xt=new Map,Et="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Et.push("scrollEnd");function vt(s,l){xt.set(s,l),ui(l,[s])}var Xt=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$t=[],tn=0,pn=0;function di(){for(var s=tn,l=pn=tn=0;l<s;){var d=$t[l];$t[l++]=null;var g=$t[l];$t[l++]=null;var x=$t[l];$t[l++]=null;var U=$t[l];if($t[l++]=null,g!==null&&x!==null){var Z=g.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),g.pending=x}U!==0&&Vl(d,x,U)}}function en(s,l,d,g){$t[tn++]=s,$t[tn++]=l,$t[tn++]=d,$t[tn++]=g,pn|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Kr(s,l,d,g){return en(s,l,d,g),jr(s)}function wr(s,l){return en(s,null,null,l),jr(s)}function Vl(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var x=!1,U=s.return;U!==null;)U.childLanes|=d,g=U.alternate,g!==null&&(g.childLanes|=d),U.tag===22&&(s=U.stateNode,s===null||s._visibility&1||(x=!0)),s=U,U=U.return;return s.tag===3?(U=s.stateNode,x&&l!==null&&(x=31-be(d),s=U.hiddenUpdates,g=s[x],g===null?s[x]=[l]:g.push(l),l.lane=d|536870912),U):null}function jr(s){if(50<K0)throw K0=0,SS=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ki={};function w0(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(s,l,d,g){return new w0(s,l,d,g)}function d2(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ha(s,l){var d=s.alternate;return d===null?(d=ls(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function bw(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function x1(s,l,d,g,x,U){var Z=0;if(g=s,typeof s=="function")d2(s)&&(Z=1);else if(typeof s=="string")Z=XP(s,d,te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=ls(31,d,l,x),s.elementType=M,s.lanes=U,s;case v:return Fl(d.children,x,U,l);case S:Z=8,x|=24;break;case Y:return s=ls(12,d,l,x|2),s.elementType=Y,s.lanes=U,s;case C:return s=ls(13,d,l,x),s.elementType=C,s.lanes=U,s;case W:return s=ls(19,d,l,x),s.elementType=W,s.lanes=U,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:Z=10;break e;case T:Z=9;break e;case P:Z=11;break e;case w:Z=14;break e;case k:Z=16,g=null;break e}Z=29,d=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=ls(Z,d,l,x),l.elementType=s,l.type=g,l.lanes=U,l}function Fl(s,l,d,g){return s=ls(7,s,g,l),s.lanes=d,s}function h2(s,l,d){return s=ls(6,s,null,l),s.lanes=d,s}function Yw(s){var l=ls(18,null,null,0);return l.stateNode=s,l}function p2(s,l,d){return l=ls(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var xw=new WeakMap;function Is(s,l){if(typeof s=="object"&&s!==null){var d=xw.get(s);return d!==void 0?d:(l={value:s,source:l,stack:se(l)},xw.set(s,l),l)}return{value:s,source:l,stack:se(l)}}var Nc=[],Dc=0,T1=null,W0=0,Xs=[],Rs=0,Xo=null,ga=1,ya="";function Ga(s,l){Nc[Dc++]=W0,Nc[Dc++]=T1,T1=s,W0=l}function Tw(s,l,d){Xs[Rs++]=ga,Xs[Rs++]=ya,Xs[Rs++]=Xo,Xo=s;var g=ga;s=ya;var x=32-be(g)-1;g&=~(1<<x),d+=1;var U=32-be(l)+x;if(30<U){var Z=x-x%5;U=(g&(1<<Z)-1).toString(32),g>>=Z,x-=Z,ga=1<<32-be(l)+x|d<<x|g,ya=U+s}else ga=1<<U|d<<x|g,ya=s}function m2(s){s.return!==null&&(Ga(s,1),Tw(s,1,0))}function g2(s){for(;s===T1;)T1=Nc[--Dc],Nc[Dc]=null,W0=Nc[--Dc],Nc[Dc]=null;for(;s===Xo;)Xo=Xs[--Rs],Xs[Rs]=null,ya=Xs[--Rs],Xs[Rs]=null,ga=Xs[--Rs],Xs[Rs]=null}function ww(s,l){Xs[Rs++]=ga,Xs[Rs++]=ya,Xs[Rs++]=Xo,ga=l.id,ya=l.overflow,Xo=s}var Si=null,br=null,Mn=!1,Ro=null,Ps=!1,y2=Error(r(519));function Po(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw E0(Is(l,s)),y2}function Ww(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[nn]=s,l[rn]=g,d){case"dialog":Tn("cancel",l),Tn("close",l);break;case"iframe":case"object":case"embed":Tn("load",l);break;case"video":case"audio":for(d=0;d<H0.length;d++)Tn(H0[d],l);break;case"source":Tn("error",l);break;case"img":case"image":case"link":Tn("error",l),Tn("load",l);break;case"details":Tn("toggle",l);break;case"input":Tn("invalid",l),yi(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Tn("invalid",l);break;case"textarea":Tn("invalid",l),vi(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||LW(l.textContent,d)?(g.popover!=null&&(Tn("beforetoggle",l),Tn("toggle",l)),g.onScroll!=null&&Tn("scroll",l),g.onScrollEnd!=null&&Tn("scrollend",l),g.onClick!=null&&(l.onclick=Zr),l=!0):l=!1,l||Po(s,!0)}function Ew(s){for(Si=s.return;Si;)switch(Si.tag){case 5:case 31:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:Si=Si.return}}function Bc(s){if(s!==Si)return!1;if(!Mn)return Ew(s),Mn=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||PS(s.type,s.memoizedProps)),d=!d),d&&br&&Po(s),Ew(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));br=QW(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));br=QW(s)}else l===27?(l=br,Ho(s.type)?(s=BS,BS=null,br=s):br=l):br=Si?Os(s.stateNode.nextSibling):null;return!0}function Ll(){br=Si=null,Mn=!1}function v2(){var s=Ro;return s!==null&&(qi===null?qi=s:qi.push.apply(qi,s),Ro=null),s}function E0(s){Ro===null?Ro=[s]:Ro.push(s)}var _2=K(null),Zl=null,qa=null;function Mo(s,l,d){fe(_2,l._currentValue),l._currentValue=d}function Qa(s){s._currentValue=_2.current,ee(_2)}function S2(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function b2(s,l,d,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var U=x.dependencies;if(U!==null){var Z=x.child;U=U.firstContext;e:for(;U!==null;){var oe=U;U=x;for(var xe=0;xe<l.length;xe++)if(oe.context===l[xe]){U.lanes|=d,oe=U.alternate,oe!==null&&(oe.lanes|=d),S2(U.return,d,s),g||(Z=null);break e}U=oe.next}}else if(x.tag===18){if(Z=x.return,Z===null)throw Error(r(341));Z.lanes|=d,U=Z.alternate,U!==null&&(U.lanes|=d),S2(Z,d,s),Z=null}else Z=x.child;if(Z!==null)Z.return=x;else for(Z=x;Z!==null;){if(Z===s){Z=null;break}if(x=Z.sibling,x!==null){x.return=Z.return,Z=x;break}Z=Z.return}x=Z}}function Vc(s,l,d,g){s=null;for(var x=l,U=!1;x!==null;){if(!U){if((x.flags&524288)!==0)U=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var Z=x.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var oe=x.type;Ci(x.pendingProps.value,Z.value)||(s!==null?s.push(oe):s=[oe])}}else if(x===he.current){if(Z=x.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(eg):s=[eg])}x=x.return}s!==null&&b2(l,s,d,g),l.flags|=262144}function w1(s){for(s=s.firstContext;s!==null;){if(!Ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zl(s){Zl=s,qa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function bi(s){return Uw(Zl,s)}function W1(s,l){return Zl===null&&zl(s),Uw(s,l)}function Uw(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},qa===null){if(s===null)throw Error(r(308));qa=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else qa=qa.next=l;return d}var C8=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},A8=t.unstable_scheduleCallback,k8=t.unstable_NormalPriority,Hr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y2(){return{controller:new C8,data:new Map,refCount:0}}function U0(s){s.refCount--,s.refCount===0&&A8(k8,function(){s.controller.abort()})}var C0=null,x2=0,Fc=0,Lc=null;function I8(s,l){if(C0===null){var d=C0=[];x2=0,Fc=WS(),Lc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return x2++,l.then(Cw,Cw),l}function Cw(){if(--x2===0&&C0!==null){Lc!==null&&(Lc.status="fulfilled");var s=C0;C0=null,Fc=0,Lc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function X8(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var Aw=$.S;$.S=function(s,l){hW=et(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&I8(s,l),Aw!==null&&Aw(s,l)};var $l=K(null);function T2(){var s=$l.current;return s!==null?s:hr.pooledCache}function E1(s,l){l===null?fe($l,$l.current):fe($l,l.pool)}function kw(){var s=T2();return s===null?null:{parent:Hr._currentValue,pool:s}}var Zc=Error(r(460)),w2=Error(r(474)),U1=Error(r(542)),C1={then:function(){}};function Iw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xw(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Zr,Zr),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Pw(s),s;default:if(typeof l.status=="string")l.then(Zr,Zr);else{if(s=hr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=g}},function(g){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Pw(s),s}throw jl=l,Zc}}function Kl(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(jl=d,Zc):d}}var jl=null;function Rw(){if(jl===null)throw Error(r(459));var s=jl;return jl=null,s}function Pw(s){if(s===Zc||s===U1)throw Error(r(483))}var zc=null,A0=0;function A1(s){var l=A0;return A0+=1,zc===null&&(zc=[]),Xw(zc,s,l)}function k0(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function k1(s,l){throw l.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Mw(s){function l(Fe,Ie){if(s){var je=Fe.deletions;je===null?(Fe.deletions=[Ie],Fe.flags|=16):je.push(Ie)}}function d(Fe,Ie){if(!s)return null;for(;Ie!==null;)l(Fe,Ie),Ie=Ie.sibling;return null}function g(Fe){for(var Ie=new Map;Fe!==null;)Fe.key!==null?Ie.set(Fe.key,Fe):Ie.set(Fe.index,Fe),Fe=Fe.sibling;return Ie}function x(Fe,Ie){return Fe=Ha(Fe,Ie),Fe.index=0,Fe.sibling=null,Fe}function U(Fe,Ie,je){return Fe.index=je,s?(je=Fe.alternate,je!==null?(je=je.index,je<Ie?(Fe.flags|=67108866,Ie):je):(Fe.flags|=67108866,Ie)):(Fe.flags|=1048576,Ie)}function Z(Fe){return s&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function oe(Fe,Ie,je,lt){return Ie===null||Ie.tag!==6?(Ie=h2(je,Fe.mode,lt),Ie.return=Fe,Ie):(Ie=x(Ie,je),Ie.return=Fe,Ie)}function xe(Fe,Ie,je,lt){var Kt=je.type;return Kt===v?at(Fe,Ie,je.props.children,lt,je.key):Ie!==null&&(Ie.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&Kl(Kt)===Ie.type)?(Ie=x(Ie,je.props),k0(Ie,je),Ie.return=Fe,Ie):(Ie=x1(je.type,je.key,je.props,null,Fe.mode,lt),k0(Ie,je),Ie.return=Fe,Ie)}function He(Fe,Ie,je,lt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==je.containerInfo||Ie.stateNode.implementation!==je.implementation?(Ie=p2(je,Fe.mode,lt),Ie.return=Fe,Ie):(Ie=x(Ie,je.children||[]),Ie.return=Fe,Ie)}function at(Fe,Ie,je,lt,Kt){return Ie===null||Ie.tag!==7?(Ie=Fl(je,Fe.mode,lt,Kt),Ie.return=Fe,Ie):(Ie=x(Ie,je),Ie.return=Fe,Ie)}function ut(Fe,Ie,je){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=h2(""+Ie,Fe.mode,je),Ie.return=Fe,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:return je=x1(Ie.type,Ie.key,Ie.props,null,Fe.mode,je),k0(je,Ie),je.return=Fe,je;case _:return Ie=p2(Ie,Fe.mode,je),Ie.return=Fe,Ie;case k:return Ie=Kl(Ie),ut(Fe,Ie,je)}if(j(Ie)||O(Ie))return Ie=Fl(Ie,Fe.mode,je,null),Ie.return=Fe,Ie;if(typeof Ie.then=="function")return ut(Fe,A1(Ie),je);if(Ie.$$typeof===A)return ut(Fe,W1(Fe,Ie),je);k1(Fe,Ie)}return null}function qe(Fe,Ie,je,lt){var Kt=Ie!==null?Ie.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Kt!==null?null:oe(Fe,Ie,""+je,lt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return je.key===Kt?xe(Fe,Ie,je,lt):null;case _:return je.key===Kt?He(Fe,Ie,je,lt):null;case k:return je=Kl(je),qe(Fe,Ie,je,lt)}if(j(je)||O(je))return Kt!==null?null:at(Fe,Ie,je,lt,null);if(typeof je.then=="function")return qe(Fe,Ie,A1(je),lt);if(je.$$typeof===A)return qe(Fe,Ie,W1(Fe,je),lt);k1(Fe,je)}return null}function rt(Fe,Ie,je,lt,Kt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Fe=Fe.get(je)||null,oe(Ie,Fe,""+lt,Kt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case y:return Fe=Fe.get(lt.key===null?je:lt.key)||null,xe(Ie,Fe,lt,Kt);case _:return Fe=Fe.get(lt.key===null?je:lt.key)||null,He(Ie,Fe,lt,Kt);case k:return lt=Kl(lt),rt(Fe,Ie,je,lt,Kt)}if(j(lt)||O(lt))return Fe=Fe.get(je)||null,at(Ie,Fe,lt,Kt,null);if(typeof lt.then=="function")return rt(Fe,Ie,je,A1(lt),Kt);if(lt.$$typeof===A)return rt(Fe,Ie,je,W1(Ie,lt),Kt);k1(Ie,lt)}return null}function Nt(Fe,Ie,je,lt){for(var Kt=null,$n=null,Zt=Ie,gn=Ie=0,Cn=null;Zt!==null&&gn<je.length;gn++){Zt.index>gn?(Cn=Zt,Zt=null):Cn=Zt.sibling;var Kn=qe(Fe,Zt,je[gn],lt);if(Kn===null){Zt===null&&(Zt=Cn);break}s&&Zt&&Kn.alternate===null&&l(Fe,Zt),Ie=U(Kn,Ie,gn),$n===null?Kt=Kn:$n.sibling=Kn,$n=Kn,Zt=Cn}if(gn===je.length)return d(Fe,Zt),Mn&&Ga(Fe,gn),Kt;if(Zt===null){for(;gn<je.length;gn++)Zt=ut(Fe,je[gn],lt),Zt!==null&&(Ie=U(Zt,Ie,gn),$n===null?Kt=Zt:$n.sibling=Zt,$n=Zt);return Mn&&Ga(Fe,gn),Kt}for(Zt=g(Zt);gn<je.length;gn++)Cn=rt(Zt,Fe,gn,je[gn],lt),Cn!==null&&(s&&Cn.alternate!==null&&Zt.delete(Cn.key===null?gn:Cn.key),Ie=U(Cn,Ie,gn),$n===null?Kt=Cn:$n.sibling=Cn,$n=Cn);return s&&Zt.forEach(function(el){return l(Fe,el)}),Mn&&Ga(Fe,gn),Kt}function qt(Fe,Ie,je,lt){if(je==null)throw Error(r(151));for(var Kt=null,$n=null,Zt=Ie,gn=Ie=0,Cn=null,Kn=je.next();Zt!==null&&!Kn.done;gn++,Kn=je.next()){Zt.index>gn?(Cn=Zt,Zt=null):Cn=Zt.sibling;var el=qe(Fe,Zt,Kn.value,lt);if(el===null){Zt===null&&(Zt=Cn);break}s&&Zt&&el.alternate===null&&l(Fe,Zt),Ie=U(el,Ie,gn),$n===null?Kt=el:$n.sibling=el,$n=el,Zt=Cn}if(Kn.done)return d(Fe,Zt),Mn&&Ga(Fe,gn),Kt;if(Zt===null){for(;!Kn.done;gn++,Kn=je.next())Kn=ut(Fe,Kn.value,lt),Kn!==null&&(Ie=U(Kn,Ie,gn),$n===null?Kt=Kn:$n.sibling=Kn,$n=Kn);return Mn&&Ga(Fe,gn),Kt}for(Zt=g(Zt);!Kn.done;gn++,Kn=je.next())Kn=rt(Zt,Fe,gn,Kn.value,lt),Kn!==null&&(s&&Kn.alternate!==null&&Zt.delete(Kn.key===null?gn:Kn.key),Ie=U(Kn,Ie,gn),$n===null?Kt=Kn:$n.sibling=Kn,$n=Kn);return s&&Zt.forEach(function(ZP){return l(Fe,ZP)}),Mn&&Ga(Fe,gn),Kt}function cr(Fe,Ie,je,lt){if(typeof je=="object"&&je!==null&&je.type===v&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case y:e:{for(var Kt=je.key;Ie!==null;){if(Ie.key===Kt){if(Kt=je.type,Kt===v){if(Ie.tag===7){d(Fe,Ie.sibling),lt=x(Ie,je.props.children),lt.return=Fe,Fe=lt;break e}}else if(Ie.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===k&&Kl(Kt)===Ie.type){d(Fe,Ie.sibling),lt=x(Ie,je.props),k0(lt,je),lt.return=Fe,Fe=lt;break e}d(Fe,Ie);break}else l(Fe,Ie);Ie=Ie.sibling}je.type===v?(lt=Fl(je.props.children,Fe.mode,lt,je.key),lt.return=Fe,Fe=lt):(lt=x1(je.type,je.key,je.props,null,Fe.mode,lt),k0(lt,je),lt.return=Fe,Fe=lt)}return Z(Fe);case _:e:{for(Kt=je.key;Ie!==null;){if(Ie.key===Kt)if(Ie.tag===4&&Ie.stateNode.containerInfo===je.containerInfo&&Ie.stateNode.implementation===je.implementation){d(Fe,Ie.sibling),lt=x(Ie,je.children||[]),lt.return=Fe,Fe=lt;break e}else{d(Fe,Ie);break}else l(Fe,Ie);Ie=Ie.sibling}lt=p2(je,Fe.mode,lt),lt.return=Fe,Fe=lt}return Z(Fe);case k:return je=Kl(je),cr(Fe,Ie,je,lt)}if(j(je))return Nt(Fe,Ie,je,lt);if(O(je)){if(Kt=O(je),typeof Kt!="function")throw Error(r(150));return je=Kt.call(je),qt(Fe,Ie,je,lt)}if(typeof je.then=="function")return cr(Fe,Ie,A1(je),lt);if(je.$$typeof===A)return cr(Fe,Ie,W1(Fe,je),lt);k1(Fe,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,Ie!==null&&Ie.tag===6?(d(Fe,Ie.sibling),lt=x(Ie,je),lt.return=Fe,Fe=lt):(d(Fe,Ie),lt=h2(je,Fe.mode,lt),lt.return=Fe,Fe=lt),Z(Fe)):d(Fe,Ie)}return function(Fe,Ie,je,lt){try{A0=0;var Kt=cr(Fe,Ie,je,lt);return zc=null,Kt}catch(Zt){if(Zt===Zc||Zt===U1)throw Zt;var $n=ls(29,Zt,null,Fe.mode);return $n.lanes=lt,$n.return=Fe,$n}finally{}}}var Hl=Mw(!0),Ow=Mw(!1),Oo=!1;function W2(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E2(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function No(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Do(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Qn&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,l=jr(s),Vl(s,null,d),l}return en(s,g,l,d),jr(s)}function I0(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,At(s,d)}}function U2(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var Z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?x=U=Z:U=U.next=Z,d=d.next}while(d!==null);U===null?x=U=l:U=U.next=l}else x=U=l;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:U,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var C2=!1;function X0(){if(C2){var s=Lc;if(s!==null)throw s}}function R0(s,l,d,g){C2=!1;var x=s.updateQueue;Oo=!1;var U=x.firstBaseUpdate,Z=x.lastBaseUpdate,oe=x.shared.pending;if(oe!==null){x.shared.pending=null;var xe=oe,He=xe.next;xe.next=null,Z===null?U=He:Z.next=He,Z=xe;var at=s.alternate;at!==null&&(at=at.updateQueue,oe=at.lastBaseUpdate,oe!==Z&&(oe===null?at.firstBaseUpdate=He:oe.next=He,at.lastBaseUpdate=xe))}if(U!==null){var ut=x.baseState;Z=0,at=He=xe=null,oe=U;do{var qe=oe.lane&-536870913,rt=qe!==oe.lane;if(rt?(Un&qe)===qe:(g&qe)===qe){qe!==0&&qe===Fc&&(C2=!0),at!==null&&(at=at.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Nt=s,qt=oe;qe=l;var cr=d;switch(qt.tag){case 1:if(Nt=qt.payload,typeof Nt=="function"){ut=Nt.call(cr,ut,qe);break e}ut=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=qt.payload,qe=typeof Nt=="function"?Nt.call(cr,ut,qe):Nt,qe==null)break e;ut=h({},ut,qe);break e;case 2:Oo=!0}}qe=oe.callback,qe!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=x.callbacks,rt===null?x.callbacks=[qe]:rt.push(qe))}else rt={lane:qe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},at===null?(He=at=rt,xe=ut):at=at.next=rt,Z|=qe;if(oe=oe.next,oe===null){if(oe=x.shared.pending,oe===null)break;rt=oe,oe=rt.next,rt.next=null,x.lastBaseUpdate=rt,x.shared.pending=null}}while(!0);at===null&&(xe=ut),x.baseState=xe,x.firstBaseUpdate=He,x.lastBaseUpdate=at,U===null&&(x.shared.lanes=0),Zo|=Z,s.lanes=Z,s.memoizedState=ut}}function Nw(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function Dw(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Nw(d[s],l)}var $c=K(null),I1=K(0);function Bw(s,l){s=oo,fe(I1,s),fe($c,l),oo=s|l.baseLanes}function A2(){fe(I1,oo),fe($c,$c.current)}function k2(){oo=I1.current,ee($c),ee(I1)}var cs=K(null),Ms=null;function Bo(s){var l=s.alternate;fe(Or,Or.current&1),fe(cs,s),Ms===null&&(l===null||$c.current!==null||l.memoizedState!==null)&&(Ms=s)}function I2(s){fe(Or,Or.current),fe(cs,s),Ms===null&&(Ms=s)}function Vw(s){s.tag===22?(fe(Or,Or.current),fe(cs,s),Ms===null&&(Ms=s)):Vo()}function Vo(){fe(Or,Or.current),fe(cs,cs.current)}function us(s){ee(cs),Ms===s&&(Ms=null),ee(Or)}var Or=K(0);function X1(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||NS(d)||DS(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ja=0,mn=null,or=null,Gr=null,R1=!1,Kc=!1,Gl=!1,P1=0,P0=0,jc=null,R8=0;function Xr(){throw Error(r(321))}function X2(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Ci(s[d],l[d]))return!1;return!0}function R2(s,l,d,g,x,U){return Ja=U,mn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=s===null||s.memoizedState===null?T3:H2,Gl=!1,U=d(g,x),Gl=!1,Kc&&(U=Lw(l,d,g,x)),Fw(s),U}function Fw(s){$.H=N0;var l=or!==null&&or.next!==null;if(Ja=0,Gr=or=mn=null,R1=!1,P0=0,jc=null,l)throw Error(r(300));s===null||qr||(s=s.dependencies,s!==null&&w1(s)&&(qr=!0))}function Lw(s,l,d,g){mn=s;var x=0;do{if(Kc&&(jc=null),P0=0,Kc=!1,25<=x)throw Error(r(301));if(x+=1,Gr=or=null,s.updateQueue!=null){var U=s.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}$.H=w3,U=l(d,g)}while(Kc);return U}function P8(){var s=$.H,l=s.useState()[0];return l=typeof l.then=="function"?M0(l):l,s=s.useState()[0],(or!==null?or.memoizedState:null)!==s&&(mn.flags|=1024),l}function P2(){var s=P1!==0;return P1=0,s}function M2(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function O2(s){if(R1){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}R1=!1}Ja=0,Gr=or=mn=null,Kc=!1,P0=P1=0,jc=null}function Di(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?mn.memoizedState=Gr=s:Gr=Gr.next=s,Gr}function Nr(){if(or===null){var s=mn.alternate;s=s!==null?s.memoizedState:null}else s=or.next;var l=Gr===null?mn.memoizedState:Gr.next;if(l!==null)Gr=l,or=s;else{if(s===null)throw mn.alternate===null?Error(r(467)):Error(r(310));or=s,s={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},Gr===null?mn.memoizedState=Gr=s:Gr=Gr.next=s}return Gr}function M1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function M0(s){var l=P0;return P0+=1,jc===null&&(jc=[]),s=Xw(jc,s,l),l=mn,(Gr===null?l.memoizedState:Gr.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?T3:H2),s}function O1(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return M0(s);if(s.$$typeof===A)return bi(s)}throw Error(r(438,String(s)))}function N2(s){var l=null,d=mn.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=mn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=M1(),mn.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=D;return l.index++,d}function eo(s,l){return typeof l=="function"?l(s):l}function N1(s){var l=Nr();return D2(l,or,s)}function D2(s,l,d){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var x=s.baseQueue,U=g.pending;if(U!==null){if(x!==null){var Z=x.next;x.next=U.next,U.next=Z}l.baseQueue=x=U,g.pending=null}if(U=s.baseState,x===null)s.memoizedState=U;else{l=x.next;var oe=Z=null,xe=null,He=l,at=!1;do{var ut=He.lane&-536870913;if(ut!==He.lane?(Un&ut)===ut:(Ja&ut)===ut){var qe=He.revertLane;if(qe===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),ut===Fc&&(at=!0);else if((Ja&qe)===qe){He=He.next,qe===Fc&&(at=!0);continue}else ut={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},xe===null?(oe=xe=ut,Z=U):xe=xe.next=ut,mn.lanes|=qe,Zo|=qe;ut=He.action,Gl&&d(U,ut),U=He.hasEagerState?He.eagerState:d(U,ut)}else qe={lane:ut,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},xe===null?(oe=xe=qe,Z=U):xe=xe.next=qe,mn.lanes|=ut,Zo|=ut;He=He.next}while(He!==null&&He!==l);if(xe===null?Z=U:xe.next=oe,!Ci(U,s.memoizedState)&&(qr=!0,at&&(d=Lc,d!==null)))throw d;s.memoizedState=U,s.baseState=Z,s.baseQueue=xe,g.lastRenderedState=U}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function B2(s){var l=Nr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,U=l.memoizedState;if(x!==null){d.pending=null;var Z=x=x.next;do U=s(U,Z.action),Z=Z.next;while(Z!==x);Ci(U,l.memoizedState)||(qr=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),d.lastRenderedState=U}return[U,g]}function Zw(s,l,d){var g=mn,x=Nr(),U=Mn;if(U){if(d===void 0)throw Error(r(407));d=d()}else d=l();var Z=!Ci((or||x).memoizedState,d);if(Z&&(x.memoizedState=d,qr=!0),x=x.queue,L2(Kw.bind(null,g,x,s),[s]),x.getSnapshot!==l||Z||Gr!==null&&Gr.memoizedState.tag&1){if(g.flags|=2048,Hc(9,{destroy:void 0},$w.bind(null,g,x,d,l),null),hr===null)throw Error(r(349));U||(Ja&127)!==0||zw(g,l,d)}return d}function zw(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=mn.updateQueue,l===null?(l=M1(),mn.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function $w(s,l,d,g){l.value=d,l.getSnapshot=g,jw(l)&&Hw(s)}function Kw(s,l,d){return d(function(){jw(l)&&Hw(s)})}function jw(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Ci(s,d)}catch{return!0}}function Hw(s){var l=wr(s,2);l!==null&&Qi(l,s,2)}function V2(s){var l=Di();if(typeof s=="function"){var d=s;if(s=d(),Gl){_e(!0);try{d()}finally{_e(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:s},l}function Gw(s,l,d,g){return s.baseState=d,D2(s,or,typeof g=="function"?g:eo)}function M8(s,l,d,g,x){if(V1(s))throw Error(r(485));if(s=l.action,s!==null){var U={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){U.listeners.push(Z)}};$.T!==null?d(!0):U.isTransition=!1,g(U),d=l.pending,d===null?(U.next=l.pending=U,qw(l,U)):(U.next=d.next,l.pending=d.next=U)}}function qw(s,l){var d=l.action,g=l.payload,x=s.state;if(l.isTransition){var U=$.T,Z={};$.T=Z;try{var oe=d(x,g),xe=$.S;xe!==null&&xe(Z,oe),Qw(s,l,oe)}catch(He){F2(s,l,He)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),$.T=U}}else try{U=d(x,g),Qw(s,l,U)}catch(He){F2(s,l,He)}}function Qw(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Jw(s,l,g)},function(g){return F2(s,l,g)}):Jw(s,l,d)}function Jw(s,l,d){l.status="fulfilled",l.value=d,e3(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,qw(s,d)))}function F2(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,e3(l),l=l.next;while(l!==g)}s.action=null}function e3(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function t3(s,l){return l}function n3(s,l){if(Mn){var d=hr.formState;if(d!==null){e:{var g=mn;if(Mn){if(br){t:{for(var x=br,U=Ps;x.nodeType!==8;){if(!U){x=null;break t}if(x=Os(x.nextSibling),x===null){x=null;break t}}U=x.data,x=U==="F!"||U==="F"?x:null}if(x){br=Os(x.nextSibling),g=x.data==="F!";break e}}Po(g)}g=!1}g&&(l=d[0])}}return d=Di(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t3,lastRenderedState:l},d.queue=g,d=b3.bind(null,mn,g),g.dispatch=d,g=V2(!1),U=j2.bind(null,mn,!1,g.queue),g=Di(),x={state:l,dispatch:null,action:s,pending:null},g.queue=x,d=M8.bind(null,mn,x,U,d),x.dispatch=d,g.memoizedState=s,[l,d,!1]}function r3(s){var l=Nr();return i3(l,or,s)}function i3(s,l,d){if(l=D2(s,l,t3)[0],s=N1(eo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=M0(l)}catch(Z){throw Z===Zc?U1:Z}else g=l;l=Nr();var x=l.queue,U=x.dispatch;return d!==l.memoizedState&&(mn.flags|=2048,Hc(9,{destroy:void 0},O8.bind(null,x,d),null)),[g,U,s]}function O8(s,l){s.action=l}function s3(s){var l=Nr(),d=or;if(d!==null)return i3(l,d,s);Nr(),l=l.memoizedState,d=Nr();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function Hc(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=mn.updateQueue,l===null&&(l=M1(),mn.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function a3(){return Nr().memoizedState}function D1(s,l,d,g){var x=Di();mn.flags|=s,x.memoizedState=Hc(1|l,{destroy:void 0},d,g===void 0?null:g)}function B1(s,l,d,g){var x=Nr();g=g===void 0?null:g;var U=x.memoizedState.inst;or!==null&&g!==null&&X2(g,or.memoizedState.deps)?x.memoizedState=Hc(l,U,d,g):(mn.flags|=s,x.memoizedState=Hc(1|l,U,d,g))}function o3(s,l){D1(8390656,8,s,l)}function L2(s,l){B1(2048,8,s,l)}function N8(s){mn.flags|=4;var l=mn.updateQueue;if(l===null)l=M1(),mn.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function l3(s){var l=Nr().memoizedState;return N8({ref:l,nextImpl:s}),function(){if((Qn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function c3(s,l){return B1(4,2,s,l)}function u3(s,l){return B1(4,4,s,l)}function f3(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function d3(s,l,d){d=d!=null?d.concat([s]):null,B1(4,4,f3.bind(null,l,s),d)}function Z2(){}function h3(s,l){var d=Nr();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&X2(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function p3(s,l){var d=Nr();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&X2(l,g[1]))return g[0];if(g=s(),Gl){_e(!0);try{s()}finally{_e(!1)}}return d.memoizedState=[g,l],g}function z2(s,l,d){return d===void 0||(Ja&1073741824)!==0&&(Un&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=mW(),mn.lanes|=s,Zo|=s,d)}function m3(s,l,d,g){return Ci(d,l)?d:$c.current!==null?(s=z2(s,d,g),Ci(s,l)||(qr=!0),s):(Ja&42)===0||(Ja&1073741824)!==0&&(Un&261930)===0?(qr=!0,s.memoizedState=d):(s=mW(),mn.lanes|=s,Zo|=s,l)}function g3(s,l,d,g,x){var U=q.p;q.p=U!==0&&8>U?U:8;var Z=$.T,oe={};$.T=oe,j2(s,!1,l,d);try{var xe=x(),He=$.S;if(He!==null&&He(oe,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var at=X8(xe,g);O0(s,l,at,hs(s))}else O0(s,l,g,hs(s))}catch(ut){O0(s,l,{then:function(){},status:"rejected",reason:ut},hs())}finally{q.p=U,Z!==null&&oe.types!==null&&(Z.types=oe.types),$.T=Z}}function D8(){}function $2(s,l,d,g){if(s.tag!==5)throw Error(r(476));var x=y3(s).queue;g3(s,x,l,G,d===null?D8:function(){return v3(s),d(g)})}function y3(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:G},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function v3(s){var l=y3(s);l.next===null&&(l=s.alternate.memoizedState),O0(s,l.next.queue,{},hs())}function K2(){return bi(eg)}function _3(){return Nr().memoizedState}function S3(){return Nr().memoizedState}function B8(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=hs();s=No(d);var g=Do(l,s,d);g!==null&&(Qi(g,l,d),I0(g,l,d)),l={cache:Y2()},s.payload=l;return}l=l.return}}function V8(s,l,d){var g=hs();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},V1(s)?Y3(l,d):(d=Kr(s,l,d,g),d!==null&&(Qi(d,s,g),x3(d,l,g)))}function b3(s,l,d){var g=hs();O0(s,l,d,g)}function O0(s,l,d,g){var x={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(V1(s))Y3(l,x);else{var U=s.alternate;if(s.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var Z=l.lastRenderedState,oe=U(Z,d);if(x.hasEagerState=!0,x.eagerState=oe,Ci(oe,Z))return en(s,l,x,0),hr===null&&di(),!1}catch{}finally{}if(d=Kr(s,l,x,g),d!==null)return Qi(d,s,g),x3(d,l,g),!0}return!1}function j2(s,l,d,g){if(g={lane:2,revertLane:WS(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},V1(s)){if(l)throw Error(r(479))}else l=Kr(s,d,g,2),l!==null&&Qi(l,s,2)}function V1(s){var l=s.alternate;return s===mn||l!==null&&l===mn}function Y3(s,l){Kc=R1=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function x3(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,At(s,d)}}var N0={readContext:bi,use:O1,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr,useHostTransitionStatus:Xr,useFormState:Xr,useActionState:Xr,useOptimistic:Xr,useMemoCache:Xr,useCacheRefresh:Xr};N0.useEffectEvent=Xr;var T3={readContext:bi,use:O1,useCallback:function(s,l){return Di().memoizedState=[s,l===void 0?null:l],s},useContext:bi,useEffect:o3,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,D1(4194308,4,f3.bind(null,l,s),d)},useLayoutEffect:function(s,l){return D1(4194308,4,s,l)},useInsertionEffect:function(s,l){D1(4,2,s,l)},useMemo:function(s,l){var d=Di();l=l===void 0?null:l;var g=s();if(Gl){_e(!0);try{s()}finally{_e(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=Di();if(d!==void 0){var x=d(l);if(Gl){_e(!0);try{d(l)}finally{_e(!1)}}}else x=l;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=V8.bind(null,mn,s),[g.memoizedState,s]},useRef:function(s){var l=Di();return s={current:s},l.memoizedState=s},useState:function(s){s=V2(s);var l=s.queue,d=b3.bind(null,mn,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:Z2,useDeferredValue:function(s,l){var d=Di();return z2(d,s,l)},useTransition:function(){var s=V2(!1);return s=g3.bind(null,mn,s.queue,!0,!1),Di().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=mn,x=Di();if(Mn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),hr===null)throw Error(r(349));(Un&127)!==0||zw(g,l,d)}x.memoizedState=d;var U={value:d,getSnapshot:l};return x.queue=U,o3(Kw.bind(null,g,U,s),[s]),g.flags|=2048,Hc(9,{destroy:void 0},$w.bind(null,g,U,d,l),null),d},useId:function(){var s=Di(),l=hr.identifierPrefix;if(Mn){var d=ya,g=ga;d=(g&~(1<<32-be(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=P1++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=R8++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:K2,useFormState:n3,useActionState:n3,useOptimistic:function(s){var l=Di();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=j2.bind(null,mn,!0,d),d.dispatch=l,[s,l]},useMemoCache:N2,useCacheRefresh:function(){return Di().memoizedState=B8.bind(null,mn)},useEffectEvent:function(s){var l=Di(),d={impl:s};return l.memoizedState=d,function(){if((Qn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},H2={readContext:bi,use:O1,useCallback:h3,useContext:bi,useEffect:L2,useImperativeHandle:d3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:N1,useRef:a3,useState:function(){return N1(eo)},useDebugValue:Z2,useDeferredValue:function(s,l){var d=Nr();return m3(d,or.memoizedState,s,l)},useTransition:function(){var s=N1(eo)[0],l=Nr().memoizedState;return[typeof s=="boolean"?s:M0(s),l]},useSyncExternalStore:Zw,useId:_3,useHostTransitionStatus:K2,useFormState:r3,useActionState:r3,useOptimistic:function(s,l){var d=Nr();return Gw(d,or,s,l)},useMemoCache:N2,useCacheRefresh:S3};H2.useEffectEvent=l3;var w3={readContext:bi,use:O1,useCallback:h3,useContext:bi,useEffect:L2,useImperativeHandle:d3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:B2,useRef:a3,useState:function(){return B2(eo)},useDebugValue:Z2,useDeferredValue:function(s,l){var d=Nr();return or===null?z2(d,s,l):m3(d,or.memoizedState,s,l)},useTransition:function(){var s=B2(eo)[0],l=Nr().memoizedState;return[typeof s=="boolean"?s:M0(s),l]},useSyncExternalStore:Zw,useId:_3,useHostTransitionStatus:K2,useFormState:s3,useActionState:s3,useOptimistic:function(s,l){var d=Nr();return or!==null?Gw(d,or,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:N2,useCacheRefresh:S3};w3.useEffectEvent=l3;function G2(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:h({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var q2={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=hs(),x=No(g);x.payload=l,d!=null&&(x.callback=d),l=Do(s,x,g),l!==null&&(Qi(l,s,g),I0(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=hs(),x=No(g);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=Do(s,x,g),l!==null&&(Qi(l,s,g),I0(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=hs(),g=No(d);g.tag=2,l!=null&&(g.callback=l),l=Do(s,g,d),l!==null&&(Qi(l,s,d),I0(l,s,d))}};function W3(s,l,d,g,x,U,Z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,U,Z):l.prototype&&l.prototype.isPureReactComponent?!b(d,g)||!b(x,U):!0}function E3(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&q2.enqueueReplaceState(l,l.state,null)}function ql(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=h({},d));for(var x in s)d[x]===void 0&&(d[x]=s[x])}return d}function U3(s){Xt(s)}function C3(s){console.error(s)}function A3(s){Xt(s)}function F1(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function k3(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Q2(s,l,d){return d=No(d),d.tag=3,d.payload={element:null},d.callback=function(){F1(s,l)},d}function I3(s){return s=No(s),s.tag=3,s}function X3(s,l,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var U=g.value;s.payload=function(){return x(U)},s.callback=function(){k3(l,d,g)}}var Z=d.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(s.callback=function(){k3(l,d,g),typeof x!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var oe=g.stack;this.componentDidCatch(g.value,{componentStack:oe!==null?oe:""})})}function F8(s,l,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Vc(l,d,x,!0),d=cs.current,d!==null){switch(d.tag){case 31:case 13:return Ms===null?ey():d.alternate===null&&Rr===0&&(Rr=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===C1?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),xS(s,g,x)),!1;case 22:return d.flags|=65536,g===C1?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),xS(s,g,x)),!1}throw Error(r(435,d.tag))}return xS(s,g,x),ey(),!1}if(Mn)return l=cs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,g!==y2&&(s=Error(r(422),{cause:g}),E0(Is(s,d)))):(g!==y2&&(l=Error(r(423),{cause:g}),E0(Is(l,d))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=Is(g,d),x=Q2(s.stateNode,g,x),U2(s,x),Rr!==4&&(Rr=2)),!1;var U=Error(r(520),{cause:g});if(U=Is(U,d),$0===null?$0=[U]:$0.push(U),Rr!==4&&(Rr=2),l===null)return!0;g=Is(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=x&-x,d.lanes|=s,s=Q2(d.stateNode,g,s),U2(d,s),!1;case 1:if(l=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(zo===null||!zo.has(U))))return d.flags|=65536,x&=-x,d.lanes|=x,x=I3(x),X3(x,s,d,g),U2(d,x),!1}d=d.return}while(d!==null);return!1}var J2=Error(r(461)),qr=!1;function Yi(s,l,d,g){l.child=s===null?Ow(l,null,d,g):Hl(l,s.child,d,g)}function R3(s,l,d,g,x){d=d.render;var U=l.ref;if("ref"in g){var Z={};for(var oe in g)oe!=="ref"&&(Z[oe]=g[oe])}else Z=g;return zl(l),g=R2(s,l,d,Z,U,x),oe=P2(),s!==null&&!qr?(M2(s,l,x),to(s,l,x)):(Mn&&oe&&m2(l),l.flags|=1,Yi(s,l,g,x),l.child)}function P3(s,l,d,g,x){if(s===null){var U=d.type;return typeof U=="function"&&!d2(U)&&U.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=U,M3(s,l,U,g,x)):(s=x1(d.type,null,g,l,l.mode,x),s.ref=l.ref,s.return=l,l.child=s)}if(U=s.child,!oS(s,x)){var Z=U.memoizedProps;if(d=d.compare,d=d!==null?d:b,d(Z,g)&&s.ref===l.ref)return to(s,l,x)}return l.flags|=1,s=Ha(U,g),s.ref=l.ref,s.return=l,l.child=s}function M3(s,l,d,g,x){if(s!==null){var U=s.memoizedProps;if(b(U,g)&&s.ref===l.ref)if(qr=!1,l.pendingProps=g=U,oS(s,x))(s.flags&131072)!==0&&(qr=!0);else return l.lanes=s.lanes,to(s,l,x)}return eS(s,l,d,g,x)}function O3(s,l,d,g){var x=g.children,U=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,s!==null){for(g=l.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~U}else g=0,l.child=null;return N3(s,l,U,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&E1(l,U!==null?U.cachePool:null),U!==null?Bw(l,U):A2(),Vw(l);else return g=l.lanes=536870912,N3(s,l,U!==null?U.baseLanes|d:d,d,g)}else U!==null?(E1(l,U.cachePool),Bw(l,U),Vo(),l.memoizedState=null):(s!==null&&E1(l,null),A2(),Vo());return Yi(s,l,x,d),l.child}function D0(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function N3(s,l,d,g,x){var U=T2();return U=U===null?null:{parent:Hr._currentValue,pool:U},l.memoizedState={baseLanes:d,cachePool:U},s!==null&&E1(l,null),A2(),Vw(l),s!==null&&Vc(s,l,g,!0),l.childLanes=x,null}function L1(s,l){return l=z1({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function D3(s,l,d){return Hl(l,s.child,null,d),s=L1(l,l.pendingProps),s.flags|=2,us(l),l.memoizedState=null,s}function L8(s,l,d){var g=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Mn){if(g.mode==="hidden")return s=L1(l,g),l.lanes=536870912,D0(null,s);if(I2(l),(s=br)?(s=qW(s,Ps),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xo!==null?{id:ga,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},d=Yw(s),d.return=l,l.child=d,Si=l,br=null)):s=null,s===null)throw Po(l);return l.lanes=536870912,null}return L1(l,g)}var U=s.memoizedState;if(U!==null){var Z=U.dehydrated;if(I2(l),x)if(l.flags&256)l.flags&=-257,l=D3(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(qr||Vc(s,l,d,!1),x=(d&s.childLanes)!==0,qr||x){if(g=hr,g!==null&&(Z=Lt(g,d),Z!==0&&Z!==U.retryLane))throw U.retryLane=Z,wr(s,Z),Qi(g,s,Z),J2;ey(),l=D3(s,l,d)}else s=U.treeContext,br=Os(Z.nextSibling),Si=l,Mn=!0,Ro=null,Ps=!1,s!==null&&ww(l,s),l=L1(l,g),l.flags|=4096;return l}return s=Ha(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Z1(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function eS(s,l,d,g,x){return zl(l),d=R2(s,l,d,g,void 0,x),g=P2(),s!==null&&!qr?(M2(s,l,x),to(s,l,x)):(Mn&&g&&m2(l),l.flags|=1,Yi(s,l,d,x),l.child)}function B3(s,l,d,g,x,U){return zl(l),l.updateQueue=null,d=Lw(l,g,d,x),Fw(s),g=P2(),s!==null&&!qr?(M2(s,l,U),to(s,l,U)):(Mn&&g&&m2(l),l.flags|=1,Yi(s,l,d,U),l.child)}function V3(s,l,d,g,x){if(zl(l),l.stateNode===null){var U=Ki,Z=d.contextType;typeof Z=="object"&&Z!==null&&(U=bi(Z)),U=new d(g,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=q2,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=g,U.state=l.memoizedState,U.refs={},W2(l),Z=d.contextType,U.context=typeof Z=="object"&&Z!==null?bi(Z):Ki,U.state=l.memoizedState,Z=d.getDerivedStateFromProps,typeof Z=="function"&&(G2(l,d,Z,g),U.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Z=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Z!==U.state&&q2.enqueueReplaceState(U,U.state,null),R0(l,g,U,x),X0(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){U=l.stateNode;var oe=l.memoizedProps,xe=ql(d,oe);U.props=xe;var He=U.context,at=d.contextType;Z=Ki,typeof at=="object"&&at!==null&&(Z=bi(at));var ut=d.getDerivedStateFromProps;at=typeof ut=="function"||typeof U.getSnapshotBeforeUpdate=="function",oe=l.pendingProps!==oe,at||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(oe||He!==Z)&&E3(l,U,g,Z),Oo=!1;var qe=l.memoizedState;U.state=qe,R0(l,g,U,x),X0(),He=l.memoizedState,oe||qe!==He||Oo?(typeof ut=="function"&&(G2(l,d,ut,g),He=l.memoizedState),(xe=Oo||W3(l,d,xe,g,qe,He,Z))?(at||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=He),U.props=g,U.state=He,U.context=Z,g=xe):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{U=l.stateNode,E2(s,l),Z=l.memoizedProps,at=ql(d,Z),U.props=at,ut=l.pendingProps,qe=U.context,He=d.contextType,xe=Ki,typeof He=="object"&&He!==null&&(xe=bi(He)),oe=d.getDerivedStateFromProps,(He=typeof oe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==ut||qe!==xe)&&E3(l,U,g,xe),Oo=!1,qe=l.memoizedState,U.state=qe,R0(l,g,U,x),X0();var rt=l.memoizedState;Z!==ut||qe!==rt||Oo||s!==null&&s.dependencies!==null&&w1(s.dependencies)?(typeof oe=="function"&&(G2(l,d,oe,g),rt=l.memoizedState),(at=Oo||W3(l,d,at,g,qe,rt,xe)||s!==null&&s.dependencies!==null&&w1(s.dependencies))?(He||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(g,rt,xe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(g,rt,xe)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===s.memoizedProps&&qe===s.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&qe===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=rt),U.props=g,U.state=rt,U.context=xe,g=at):(typeof U.componentDidUpdate!="function"||Z===s.memoizedProps&&qe===s.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&qe===s.memoizedState||(l.flags|=1024),g=!1)}return U=g,Z1(s,l),g=(l.flags&128)!==0,U||g?(U=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,s!==null&&g?(l.child=Hl(l,s.child,null,x),l.child=Hl(l,null,d,x)):Yi(s,l,d,x),l.memoizedState=U.state,s=l.child):s=to(s,l,x),s}function F3(s,l,d,g){return Ll(),l.flags|=256,Yi(s,l,d,g),l.child}var tS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nS(s){return{baseLanes:s,cachePool:kw()}}function rS(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=ds),s}function L3(s,l,d){var g=l.pendingProps,x=!1,U=(l.flags&128)!==0,Z;if((Z=U)||(Z=s!==null&&s.memoizedState===null?!1:(Or.current&2)!==0),Z&&(x=!0,l.flags&=-129),Z=(l.flags&32)!==0,l.flags&=-33,s===null){if(Mn){if(x?Bo(l):Vo(),(s=br)?(s=qW(s,Ps),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xo!==null?{id:ga,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},d=Yw(s),d.return=l,l.child=d,Si=l,br=null)):s=null,s===null)throw Po(l);return DS(s)?l.lanes=32:l.lanes=536870912,null}var oe=g.children;return g=g.fallback,x?(Vo(),x=l.mode,oe=z1({mode:"hidden",children:oe},x),g=Fl(g,x,d,null),oe.return=l,g.return=l,oe.sibling=g,l.child=oe,g=l.child,g.memoizedState=nS(d),g.childLanes=rS(s,Z,d),l.memoizedState=tS,D0(null,g)):(Bo(l),iS(l,oe))}var xe=s.memoizedState;if(xe!==null&&(oe=xe.dehydrated,oe!==null)){if(U)l.flags&256?(Bo(l),l.flags&=-257,l=sS(s,l,d)):l.memoizedState!==null?(Vo(),l.child=s.child,l.flags|=128,l=null):(Vo(),oe=g.fallback,x=l.mode,g=z1({mode:"visible",children:g.children},x),oe=Fl(oe,x,d,null),oe.flags|=2,g.return=l,oe.return=l,g.sibling=oe,l.child=g,Hl(l,s.child,null,d),g=l.child,g.memoizedState=nS(d),g.childLanes=rS(s,Z,d),l.memoizedState=tS,l=D0(null,g));else if(Bo(l),DS(oe)){if(Z=oe.nextSibling&&oe.nextSibling.dataset,Z)var He=Z.dgst;Z=He,g=Error(r(419)),g.stack="",g.digest=Z,E0({value:g,source:null,stack:null}),l=sS(s,l,d)}else if(qr||Vc(s,l,d,!1),Z=(d&s.childLanes)!==0,qr||Z){if(Z=hr,Z!==null&&(g=Lt(Z,d),g!==0&&g!==xe.retryLane))throw xe.retryLane=g,wr(s,g),Qi(Z,s,g),J2;NS(oe)||ey(),l=sS(s,l,d)}else NS(oe)?(l.flags|=192,l.child=s.child,l=null):(s=xe.treeContext,br=Os(oe.nextSibling),Si=l,Mn=!0,Ro=null,Ps=!1,s!==null&&ww(l,s),l=iS(l,g.children),l.flags|=4096);return l}return x?(Vo(),oe=g.fallback,x=l.mode,xe=s.child,He=xe.sibling,g=Ha(xe,{mode:"hidden",children:g.children}),g.subtreeFlags=xe.subtreeFlags&65011712,He!==null?oe=Ha(He,oe):(oe=Fl(oe,x,d,null),oe.flags|=2),oe.return=l,g.return=l,g.sibling=oe,l.child=g,D0(null,g),g=l.child,oe=s.child.memoizedState,oe===null?oe=nS(d):(x=oe.cachePool,x!==null?(xe=Hr._currentValue,x=x.parent!==xe?{parent:xe,pool:xe}:x):x=kw(),oe={baseLanes:oe.baseLanes|d,cachePool:x}),g.memoizedState=oe,g.childLanes=rS(s,Z,d),l.memoizedState=tS,D0(s.child,g)):(Bo(l),d=s.child,s=d.sibling,d=Ha(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(Z=l.deletions,Z===null?(l.deletions=[s],l.flags|=16):Z.push(s)),l.child=d,l.memoizedState=null,d)}function iS(s,l){return l=z1({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function z1(s,l){return s=ls(22,s,null,l),s.lanes=0,s}function sS(s,l,d){return Hl(l,s.child,null,d),s=iS(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Z3(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),S2(s.return,l,d)}function aS(s,l,d,g,x,U){var Z=s.memoizedState;Z===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x,treeForkCount:U}:(Z.isBackwards=l,Z.rendering=null,Z.renderingStartTime=0,Z.last=g,Z.tail=d,Z.tailMode=x,Z.treeForkCount=U)}function z3(s,l,d){var g=l.pendingProps,x=g.revealOrder,U=g.tail;g=g.children;var Z=Or.current,oe=(Z&2)!==0;if(oe?(Z=Z&1|2,l.flags|=128):Z&=1,fe(Or,Z),Yi(s,l,g,d),g=Mn?W0:0,!oe&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Z3(s,d,l);else if(s.tag===19)Z3(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(d=l.child,x=null;d!==null;)s=d.alternate,s!==null&&X1(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),aS(l,!1,x,d,U,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(s=x.alternate,s!==null&&X1(s)===null){l.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}aS(l,!0,d,null,U,g);break;case"together":aS(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function to(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Zo|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Vc(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Ha(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Ha(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function oS(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&w1(s)))}function Z8(s,l,d){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),Mo(l,Hr,s.memoizedState.cache),Ll();break;case 27:case 5:Je(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:Mo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,I2(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Bo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?L3(s,l,d):(Bo(l),s=to(s,l,d),s!==null?s.sibling:null);Bo(l);break;case 19:var x=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Vc(s,l,d,!1),g=(d&l.childLanes)!==0),x){if(g)return z3(s,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),fe(Or,Or.current),g)break;return null;case 22:return l.lanes=0,O3(s,l,d,l.pendingProps);case 24:Mo(l,Hr,s.memoizedState.cache)}return to(s,l,d)}function $3(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)qr=!0;else{if(!oS(s,d)&&(l.flags&128)===0)return qr=!1,Z8(s,l,d);qr=(s.flags&131072)!==0}else qr=!1,Mn&&(l.flags&1048576)!==0&&Tw(l,W0,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=Kl(l.elementType),l.type=s,typeof s=="function")d2(s)?(g=ql(s,g),l.tag=1,l=V3(null,l,s,g,d)):(l.tag=0,l=eS(null,l,s,g,d));else{if(s!=null){var x=s.$$typeof;if(x===P){l.tag=11,l=R3(null,l,s,g,d);break e}else if(x===w){l.tag=14,l=P3(null,l,s,g,d);break e}}throw l=X(s)||s,Error(r(306,l,""))}}return l;case 0:return eS(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,x=ql(g,l.pendingProps),V3(s,l,g,x,d);case 3:e:{if(me(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var U=l.memoizedState;x=U.element,E2(s,l),R0(l,g,null,d);var Z=l.memoizedState;if(g=Z.cache,Mo(l,Hr,g),g!==U.cache&&b2(l,[Hr],d,!0),X0(),g=Z.element,U.isDehydrated)if(U={element:g,isDehydrated:!1,cache:Z.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=F3(s,l,g,d);break e}else if(g!==x){x=Is(Error(r(424)),l),E0(x),l=F3(s,l,g,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(br=Os(s.firstChild),Si=l,Mn=!0,Ro=null,Ps=!0,d=Ow(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ll(),g===x){l=to(s,l,d);break e}Yi(s,l,g,d)}l=l.child}return l;case 26:return Z1(s,l),s===null?(d=r4(l.type,null,l.pendingProps,null))?l.memoizedState=d:Mn||(d=l.type,s=l.pendingProps,g=oy(le.current).createElement(d),g[nn]=l,g[rn]=s,xi(g,d,s),sr(g),l.stateNode=g):l.memoizedState=r4(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Je(l),s===null&&Mn&&(g=l.stateNode=e4(l.type,l.pendingProps,le.current),Si=l,Ps=!0,x=br,Ho(l.type)?(BS=x,br=Os(g.firstChild)):br=x),Yi(s,l,l.pendingProps.children,d),Z1(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Mn&&((x=g=br)&&(g=SP(g,l.type,l.pendingProps,Ps),g!==null?(l.stateNode=g,Si=l,br=Os(g.firstChild),Ps=!1,x=!0):x=!1),x||Po(l)),Je(l),x=l.type,U=l.pendingProps,Z=s!==null?s.memoizedProps:null,g=U.children,PS(x,U)?g=null:Z!==null&&PS(x,Z)&&(l.flags|=32),l.memoizedState!==null&&(x=R2(s,l,P8,null,null,d),eg._currentValue=x),Z1(s,l),Yi(s,l,g,d),l.child;case 6:return s===null&&Mn&&((s=d=br)&&(d=bP(d,l.pendingProps,Ps),d!==null?(l.stateNode=d,Si=l,br=null,s=!0):s=!1),s||Po(l)),null;case 13:return L3(s,l,d);case 4:return me(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Hl(l,null,g,d):Yi(s,l,g,d),l.child;case 11:return R3(s,l,l.type,l.pendingProps,d);case 7:return Yi(s,l,l.pendingProps,d),l.child;case 8:return Yi(s,l,l.pendingProps.children,d),l.child;case 12:return Yi(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Mo(l,l.type,g.value),Yi(s,l,g.children,d),l.child;case 9:return x=l.type._context,g=l.pendingProps.children,zl(l),x=bi(x),g=g(x),l.flags|=1,Yi(s,l,g,d),l.child;case 14:return P3(s,l,l.type,l.pendingProps,d);case 15:return M3(s,l,l.type,l.pendingProps,d);case 19:return z3(s,l,d);case 31:return L8(s,l,d);case 22:return O3(s,l,d,l.pendingProps);case 24:return zl(l),g=bi(Hr),s===null?(x=T2(),x===null&&(x=hr,U=Y2(),x.pooledCache=U,U.refCount++,U!==null&&(x.pooledCacheLanes|=d),x=U),l.memoizedState={parent:g,cache:x},W2(l),Mo(l,Hr,x)):((s.lanes&d)!==0&&(E2(s,l),R0(l,null,null,d),X0()),x=s.memoizedState,U=l.memoizedState,x.parent!==g?(x={parent:g,cache:g},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),Mo(l,Hr,g)):(g=U.cache,Mo(l,Hr,g),g!==x.cache&&b2(l,[Hr],d,!0))),Yi(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function no(s){s.flags|=4}function lS(s,l,d,g,x){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(_W())s.flags|=8192;else throw jl=C1,w2}else s.flags&=-16777217}function K3(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!l4(l))if(_W())s.flags|=8192;else throw jl=C1,w2}function $1(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?ft():536870912,s.lanes|=l,Jc|=l)}function B0(s,l){if(!Mn)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Yr(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function z8(s,l,d){var g=l.pendingProps;switch(g2(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(l),null;case 1:return Yr(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Qa(Hr),Se(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Bc(l)?no(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,v2())),Yr(l),null;case 26:var x=l.type,U=l.memoizedState;return s===null?(no(l),U!==null?(Yr(l),K3(l,U)):(Yr(l),lS(l,x,null,g,d))):U?U!==s.memoizedState?(no(l),Yr(l),K3(l,U)):(Yr(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&no(l),Yr(l),lS(l,x,s,g,d)),null;case 27:if($e(l),d=le.current,x=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&no(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Yr(l),null}s=te.current,Bc(l)?Ww(l):(s=e4(x,g,d),l.stateNode=s,no(l))}return Yr(l),null;case 5:if($e(l),x=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&no(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Yr(l),null}if(U=te.current,Bc(l))Ww(l);else{var Z=oy(le.current);switch(U){case 1:U=Z.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:U=Z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":U=Z.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":U=Z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":U=Z.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof g.is=="string"?Z.createElement("select",{is:g.is}):Z.createElement("select"),g.multiple?U.multiple=!0:g.size&&(U.size=g.size);break;default:U=typeof g.is=="string"?Z.createElement(x,{is:g.is}):Z.createElement(x)}}U[nn]=l,U[rn]=g;e:for(Z=l.child;Z!==null;){if(Z.tag===5||Z.tag===6)U.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===l)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===l)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}l.stateNode=U;e:switch(xi(U,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&no(l)}}return Yr(l),lS(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&no(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=le.current,Bc(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,x=Si,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[nn]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||LW(s.nodeValue,d)),s||Po(l,!0)}else s=oy(s).createTextNode(g),s[nn]=l,l.stateNode=s}return Yr(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(g=Bc(l),d!==null){if(s===null){if(!g)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[nn]=l}else Ll(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yr(l),s=!1}else d=v2(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(us(l),l):(us(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Yr(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=Bc(l),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[nn]=l}else Ll(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yr(l),x=!1}else x=v2(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(us(l),l):(us(l),null)}return us(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=l.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),U=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(U=g.memoizedState.cachePool.pool),U!==x&&(g.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),$1(l,l.updateQueue),Yr(l),null);case 4:return Se(),s===null&&AS(l.stateNode.containerInfo),Yr(l),null;case 10:return Qa(l.type),Yr(l),null;case 19:if(ee(Or),g=l.memoizedState,g===null)return Yr(l),null;if(x=(l.flags&128)!==0,U=g.rendering,U===null)if(x)B0(g,!1);else{if(Rr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(U=X1(s),U!==null){for(l.flags|=128,B0(g,!1),s=U.updateQueue,l.updateQueue=s,$1(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)bw(d,s),d=d.sibling;return fe(Or,Or.current&1|2),Mn&&Ga(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&et()>q1&&(l.flags|=128,x=!0,B0(g,!1),l.lanes=4194304)}else{if(!x)if(s=X1(U),s!==null){if(l.flags|=128,x=!0,s=s.updateQueue,l.updateQueue=s,$1(l,s),B0(g,!0),g.tail===null&&g.tailMode==="hidden"&&!U.alternate&&!Mn)return Yr(l),null}else 2*et()-g.renderingStartTime>q1&&d!==536870912&&(l.flags|=128,x=!0,B0(g,!1),l.lanes=4194304);g.isBackwards?(U.sibling=l.child,l.child=U):(s=g.last,s!==null?s.sibling=U:l.child=U,g.last=U)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,d=Or.current,fe(Or,x?d&1|2:d&1),Mn&&Ga(l,g.treeForkCount),s):(Yr(l),null);case 22:case 23:return us(l),k2(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Yr(l),l.subtreeFlags&6&&(l.flags|=8192)):Yr(l),d=l.updateQueue,d!==null&&$1(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&ee($l),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Qa(Hr),Yr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function $8(s,l){switch(g2(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Qa(Hr),Se(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(us(l),l.alternate===null)throw Error(r(340));Ll()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(us(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ll()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ee(Or),null;case 4:return Se(),null;case 10:return Qa(l.type),null;case 22:case 23:return us(l),k2(),s!==null&&ee($l),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Qa(Hr),null;case 25:return null;default:return null}}function j3(s,l){switch(g2(l),l.tag){case 3:Qa(Hr),Se();break;case 26:case 27:case 5:$e(l);break;case 4:Se();break;case 31:l.memoizedState!==null&&us(l);break;case 13:us(l);break;case 19:ee(Or);break;case 10:Qa(l.type);break;case 22:case 23:us(l),k2(),s!==null&&ee($l);break;case 24:Qa(Hr)}}function V0(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&s)===s){g=void 0;var U=d.create,Z=d.inst;g=U(),Z.destroy=g}d=d.next}while(d!==x)}}catch(oe){ir(l,l.return,oe)}}function Fo(s,l,d){try{var g=l.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var U=x.next;g=U;do{if((g.tag&s)===s){var Z=g.inst,oe=Z.destroy;if(oe!==void 0){Z.destroy=void 0,x=l;var xe=d,He=oe;try{He()}catch(at){ir(x,xe,at)}}}g=g.next}while(g!==U)}}catch(at){ir(l,l.return,at)}}function H3(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{Dw(l,d)}catch(g){ir(s,s.return,g)}}}function G3(s,l,d){d.props=ql(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){ir(s,l,g)}}function F0(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(x){ir(s,l,x)}}function va(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){ir(s,l,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){ir(s,l,x)}else d.current=null}function q3(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){ir(s,s.return,x)}}function cS(s,l,d){try{var g=s.stateNode;pP(g,s.type,d,l),g[rn]=l}catch(x){ir(s,s.return,x)}}function Q3(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ho(s.type)||s.tag===4}function uS(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q3(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ho(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fS(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Zr));else if(g!==4&&(g===27&&Ho(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(fS(s,l,d),s=s.sibling;s!==null;)fS(s,l,d),s=s.sibling}function K1(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&Ho(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(K1(s,l,d),s=s.sibling;s!==null;)K1(s,l,d),s=s.sibling}function J3(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);xi(l,g,d),l[nn]=s,l[rn]=d}catch(U){ir(s,s.return,U)}}var ro=!1,Qr=!1,dS=!1,eW=typeof WeakSet=="function"?WeakSet:Set,hi=null;function K8(s,l){if(s=s.containerInfo,XS=py,s=H(s),ne(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,U=g.focusNode;g=g.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var Z=0,oe=-1,xe=-1,He=0,at=0,ut=s,qe=null;t:for(;;){for(var rt;ut!==d||x!==0&&ut.nodeType!==3||(oe=Z+x),ut!==U||g!==0&&ut.nodeType!==3||(xe=Z+g),ut.nodeType===3&&(Z+=ut.nodeValue.length),(rt=ut.firstChild)!==null;)qe=ut,ut=rt;for(;;){if(ut===s)break t;if(qe===d&&++He===x&&(oe=Z),qe===U&&++at===g&&(xe=Z),(rt=ut.nextSibling)!==null)break;ut=qe,qe=ut.parentNode}ut=rt}d=oe===-1||xe===-1?null:{start:oe,end:xe}}else d=null}d=d||{start:0,end:0}}else d=null;for(RS={focusedElem:s,selectionRange:d},py=!1,hi=l;hi!==null;)if(l=hi,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,hi=s;else for(;hi!==null;){switch(l=hi,U=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)x=s[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&U!==null){s=void 0,d=l,x=U.memoizedProps,U=U.memoizedState,g=d.stateNode;try{var Nt=ql(d.type,x);s=g.getSnapshotBeforeUpdate(Nt,U),g.__reactInternalSnapshotBeforeUpdate=s}catch(qt){ir(d,d.return,qt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)OS(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":OS(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,hi=s;break}hi=l.return}}function tW(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:so(s,d),g&4&&V0(5,d);break;case 1:if(so(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(Z){ir(d,d.return,Z)}else{var x=ql(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(x,l,s.__reactInternalSnapshotBeforeUpdate)}catch(Z){ir(d,d.return,Z)}}g&64&&H3(d),g&512&&F0(d,d.return);break;case 3:if(so(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Dw(s,l)}catch(Z){ir(d,d.return,Z)}}break;case 27:l===null&&g&4&&J3(d);case 26:case 5:so(s,d),l===null&&g&4&&q3(d),g&512&&F0(d,d.return);break;case 12:so(s,d);break;case 31:so(s,d),g&4&&iW(s,d);break;case 13:so(s,d),g&4&&sW(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=nP.bind(null,d),YP(s,d))));break;case 22:if(g=d.memoizedState!==null||ro,!g){l=l!==null&&l.memoizedState!==null||Qr,x=ro;var U=Qr;ro=g,(Qr=l)&&!U?ao(s,d,(d.subtreeFlags&8772)!==0):so(s,d),ro=x,Qr=U}break;case 30:break;default:so(s,d)}}function nW(s){var l=s.alternate;l!==null&&(s.alternate=null,nW(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&is(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Wr=null,ji=!1;function io(s,l,d){for(d=d.child;d!==null;)rW(s,l,d),d=d.sibling}function rW(s,l,d){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Oe,d)}catch{}switch(d.tag){case 26:Qr||va(d,l),io(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Qr||va(d,l);var g=Wr,x=ji;Ho(d.type)&&(Wr=d.stateNode,ji=!1),io(s,l,d),q0(d.stateNode),Wr=g,ji=x;break;case 5:Qr||va(d,l);case 6:if(g=Wr,x=ji,Wr=null,io(s,l,d),Wr=g,ji=x,Wr!==null)if(ji)try{(Wr.nodeType===9?Wr.body:Wr.nodeName==="HTML"?Wr.ownerDocument.body:Wr).removeChild(d.stateNode)}catch(U){ir(d,l,U)}else try{Wr.removeChild(d.stateNode)}catch(U){ir(d,l,U)}break;case 18:Wr!==null&&(ji?(s=Wr,HW(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),ou(s)):HW(Wr,d.stateNode));break;case 4:g=Wr,x=ji,Wr=d.stateNode.containerInfo,ji=!0,io(s,l,d),Wr=g,ji=x;break;case 0:case 11:case 14:case 15:Fo(2,d,l),Qr||Fo(4,d,l),io(s,l,d);break;case 1:Qr||(va(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&G3(d,l,g)),io(s,l,d);break;case 21:io(s,l,d);break;case 22:Qr=(g=Qr)||d.memoizedState!==null,io(s,l,d),Qr=g;break;default:io(s,l,d)}}function iW(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ou(s)}catch(d){ir(l,l.return,d)}}}function sW(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ou(s)}catch(d){ir(l,l.return,d)}}function j8(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new eW),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new eW),l;default:throw Error(r(435,s.tag))}}function j1(s,l){var d=j8(s);l.forEach(function(g){if(!d.has(g)){d.add(g);var x=rP.bind(null,s,g);g.then(x,x)}})}function Hi(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],U=s,Z=l,oe=Z;e:for(;oe!==null;){switch(oe.tag){case 27:if(Ho(oe.type)){Wr=oe.stateNode,ji=!1;break e}break;case 5:Wr=oe.stateNode,ji=!1;break e;case 3:case 4:Wr=oe.stateNode.containerInfo,ji=!0;break e}oe=oe.return}if(Wr===null)throw Error(r(160));rW(U,Z,x),Wr=null,ji=!1,U=x.alternate,U!==null&&(U.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)aW(l,s),l=l.sibling}var Js=null;function aW(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hi(l,s),Gi(s),g&4&&(Fo(3,s,s.return),V0(3,s),Fo(5,s,s.return));break;case 1:Hi(l,s),Gi(s),g&512&&(Qr||d===null||va(d,d.return)),g&64&&ro&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=Js;if(Hi(l,s),Gi(s),g&512&&(Qr||d===null||va(d,d.return)),g&4){var U=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":U=x.getElementsByTagName("title")[0],(!U||U[Br]||U[nn]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=x.createElement(g),x.head.insertBefore(U,x.querySelector("head > title"))),xi(U,g,d),U[nn]=s,sr(U),g=U;break e;case"link":var Z=a4("link","href",x).get(g+(d.href||""));if(Z){for(var oe=0;oe<Z.length;oe++)if(U=Z[oe],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){Z.splice(oe,1);break t}}U=x.createElement(g),xi(U,g,d),x.head.appendChild(U);break;case"meta":if(Z=a4("meta","content",x).get(g+(d.content||""))){for(oe=0;oe<Z.length;oe++)if(U=Z[oe],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){Z.splice(oe,1);break t}}U=x.createElement(g),xi(U,g,d),x.head.appendChild(U);break;default:throw Error(r(468,g))}U[nn]=s,sr(U),g=U}s.stateNode=g}else o4(x,s.type,s.stateNode);else s.stateNode=s4(x,g,s.memoizedProps);else U!==g?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,g===null?o4(x,s.type,s.stateNode):s4(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&cS(s,s.memoizedProps,d.memoizedProps)}break;case 27:Hi(l,s),Gi(s),g&512&&(Qr||d===null||va(d,d.return)),d!==null&&g&4&&cS(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Hi(l,s),Gi(s),g&512&&(Qr||d===null||va(d,d.return)),s.flags&32){x=s.stateNode;try{si(x,"")}catch(Nt){ir(s,s.return,Nt)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,cS(s,x,d!==null?d.memoizedProps:x)),g&1024&&(dS=!0);break;case 6:if(Hi(l,s),Gi(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Nt){ir(s,s.return,Nt)}}break;case 3:if(uy=null,x=Js,Js=ly(l.containerInfo),Hi(l,s),Js=x,Gi(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ou(l.containerInfo)}catch(Nt){ir(s,s.return,Nt)}dS&&(dS=!1,oW(s));break;case 4:g=Js,Js=ly(s.stateNode.containerInfo),Hi(l,s),Gi(s),Js=g;break;case 12:Hi(l,s),Gi(s);break;case 31:Hi(l,s),Gi(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,j1(s,g)));break;case 13:Hi(l,s),Gi(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(G1=et()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,j1(s,g)));break;case 22:x=s.memoizedState!==null;var xe=d!==null&&d.memoizedState!==null,He=ro,at=Qr;if(ro=He||x,Qr=at||xe,Hi(l,s),Qr=at,ro=He,Gi(s),g&8192)e:for(l=s.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(d===null||xe||ro||Qr||Ql(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){xe=d=l;try{if(U=xe.stateNode,x)Z=U.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{oe=xe.stateNode;var ut=xe.memoizedProps.style,qe=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;oe.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Nt){ir(xe,xe.return,Nt)}}}else if(l.tag===6){if(d===null){xe=l;try{xe.stateNode.nodeValue=x?"":xe.memoizedProps}catch(Nt){ir(xe,xe.return,Nt)}}}else if(l.tag===18){if(d===null){xe=l;try{var rt=xe.stateNode;x?GW(rt,!0):GW(xe.stateNode,!1)}catch(Nt){ir(xe,xe.return,Nt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,j1(s,d))));break;case 19:Hi(l,s),Gi(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,j1(s,g)));break;case 30:break;case 21:break;default:Hi(l,s),Gi(s)}}function Gi(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(Q3(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,U=uS(s);K1(s,U,x);break;case 5:var Z=d.stateNode;d.flags&32&&(si(Z,""),d.flags&=-33);var oe=uS(s);K1(s,oe,Z);break;case 3:case 4:var xe=d.stateNode.containerInfo,He=uS(s);fS(s,He,xe);break;default:throw Error(r(161))}}catch(at){ir(s,s.return,at)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function oW(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;oW(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function so(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)tW(s,l.alternate,l),l=l.sibling}function Ql(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Fo(4,l,l.return),Ql(l);break;case 1:va(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&G3(l,l.return,d),Ql(l);break;case 27:q0(l.stateNode);case 26:case 5:va(l,l.return),Ql(l);break;case 22:l.memoizedState===null&&Ql(l);break;case 30:Ql(l);break;default:Ql(l)}s=s.sibling}}function ao(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,x=s,U=l,Z=U.flags;switch(U.tag){case 0:case 11:case 15:ao(x,U,d),V0(4,U);break;case 1:if(ao(x,U,d),g=U,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(He){ir(g,g.return,He)}if(g=U,x=g.updateQueue,x!==null){var oe=g.stateNode;try{var xe=x.shared.hiddenCallbacks;if(xe!==null)for(x.shared.hiddenCallbacks=null,x=0;x<xe.length;x++)Nw(xe[x],oe)}catch(He){ir(g,g.return,He)}}d&&Z&64&&H3(U),F0(U,U.return);break;case 27:J3(U);case 26:case 5:ao(x,U,d),d&&g===null&&Z&4&&q3(U),F0(U,U.return);break;case 12:ao(x,U,d);break;case 31:ao(x,U,d),d&&Z&4&&iW(x,U);break;case 13:ao(x,U,d),d&&Z&4&&sW(x,U);break;case 22:U.memoizedState===null&&ao(x,U,d),F0(U,U.return);break;case 30:break;default:ao(x,U,d)}l=l.sibling}}function hS(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&U0(d))}function pS(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&U0(s))}function ea(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)lW(s,l,d,g),l=l.sibling}function lW(s,l,d,g){var x=l.flags;switch(l.tag){case 0:case 11:case 15:ea(s,l,d,g),x&2048&&V0(9,l);break;case 1:ea(s,l,d,g);break;case 3:ea(s,l,d,g),x&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&U0(s)));break;case 12:if(x&2048){ea(s,l,d,g),s=l.stateNode;try{var U=l.memoizedProps,Z=U.id,oe=U.onPostCommit;typeof oe=="function"&&oe(Z,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(xe){ir(l,l.return,xe)}}else ea(s,l,d,g);break;case 31:ea(s,l,d,g);break;case 13:ea(s,l,d,g);break;case 23:break;case 22:U=l.stateNode,Z=l.alternate,l.memoizedState!==null?U._visibility&2?ea(s,l,d,g):L0(s,l):U._visibility&2?ea(s,l,d,g):(U._visibility|=2,Gc(s,l,d,g,(l.subtreeFlags&10256)!==0||!1)),x&2048&&hS(Z,l);break;case 24:ea(s,l,d,g),x&2048&&pS(l.alternate,l);break;default:ea(s,l,d,g)}}function Gc(s,l,d,g,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var U=s,Z=l,oe=d,xe=g,He=Z.flags;switch(Z.tag){case 0:case 11:case 15:Gc(U,Z,oe,xe,x),V0(8,Z);break;case 23:break;case 22:var at=Z.stateNode;Z.memoizedState!==null?at._visibility&2?Gc(U,Z,oe,xe,x):L0(U,Z):(at._visibility|=2,Gc(U,Z,oe,xe,x)),x&&He&2048&&hS(Z.alternate,Z);break;case 24:Gc(U,Z,oe,xe,x),x&&He&2048&&pS(Z.alternate,Z);break;default:Gc(U,Z,oe,xe,x)}l=l.sibling}}function L0(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,x=g.flags;switch(g.tag){case 22:L0(d,g),x&2048&&hS(g.alternate,g);break;case 24:L0(d,g),x&2048&&pS(g.alternate,g);break;default:L0(d,g)}l=l.sibling}}var Z0=8192;function qc(s,l,d){if(s.subtreeFlags&Z0)for(s=s.child;s!==null;)cW(s,l,d),s=s.sibling}function cW(s,l,d){switch(s.tag){case 26:qc(s,l,d),s.flags&Z0&&s.memoizedState!==null&&RP(d,Js,s.memoizedState,s.memoizedProps);break;case 5:qc(s,l,d);break;case 3:case 4:var g=Js;Js=ly(s.stateNode.containerInfo),qc(s,l,d),Js=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Z0,Z0=16777216,qc(s,l,d),Z0=g):qc(s,l,d));break;default:qc(s,l,d)}}function uW(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function z0(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];hi=g,dW(g,s)}uW(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fW(s),s=s.sibling}function fW(s){switch(s.tag){case 0:case 11:case 15:z0(s),s.flags&2048&&Fo(9,s,s.return);break;case 3:z0(s);break;case 12:z0(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,H1(s)):z0(s);break;default:z0(s)}}function H1(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];hi=g,dW(g,s)}uW(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Fo(8,l,l.return),H1(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,H1(l));break;default:H1(l)}s=s.sibling}}function dW(s,l){for(;hi!==null;){var d=hi;switch(d.tag){case 0:case 11:case 15:Fo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:U0(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,hi=g;else e:for(d=s;hi!==null;){g=hi;var x=g.sibling,U=g.return;if(nW(g),g===d){hi=null;break e}if(x!==null){x.return=U,hi=x;break e}hi=U}}}var H8={getCacheForType:function(s){var l=bi(Hr),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return bi(Hr).controller.signal}},G8=typeof WeakMap=="function"?WeakMap:Map,Qn=0,hr=null,xn=null,Un=0,rr=0,fs=null,Lo=!1,Qc=!1,mS=!1,oo=0,Rr=0,Zo=0,Jl=0,gS=0,ds=0,Jc=0,$0=null,qi=null,yS=!1,G1=0,hW=0,q1=1/0,Q1=null,zo=null,oi=0,$o=null,eu=null,lo=0,vS=0,_S=null,pW=null,K0=0,SS=null;function hs(){return(Qn&2)!==0&&Un!==0?Un&-Un:$.T!==null?WS():kr()}function mW(){if(ds===0)if((Un&536870912)===0||Mn){var s=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),ds=s}else ds=536870912;return s=cs.current,s!==null&&(s.flags|=32),ds}function Qi(s,l,d){(s===hr&&(rr===2||rr===9)||s.cancelPendingCommit!==null)&&(tu(s,0),Ko(s,Un,ds,!1)),kt(s,d),((Qn&2)===0||s!==hr)&&(s===hr&&((Qn&2)===0&&(Jl|=d),Rr===4&&Ko(s,Un,ds,!1)),_a(s))}function gW(s,l,d){if((Qn&6)!==0)throw Error(r(327));var g=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Pe(s,l),x=g?J8(s,l):YS(s,l,!0),U=g;do{if(x===0){Qc&&!g&&Ko(s,l,0,!1);break}else{if(d=s.current.alternate,U&&!q8(d)){x=YS(s,l,!1),U=!1;continue}if(x===2){if(U=l,s.errorRecoveryDisabledLanes&U)var Z=0;else Z=s.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){l=Z;e:{var oe=s;x=$0;var xe=oe.current.memoizedState.isDehydrated;if(xe&&(tu(oe,Z).flags|=256),Z=YS(oe,Z,!1),Z!==2){if(mS&&!xe){oe.errorRecoveryDisabledLanes|=U,Jl|=U,x=4;break e}U=qi,qi=x,U!==null&&(qi===null?qi=U:qi.push.apply(qi,U))}x=Z}if(U=!1,x!==2)continue}}if(x===1){tu(s,0),Ko(s,l,0,!0);break}e:{switch(g=s,U=x,U){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ko(g,l,ds,!Lo);break e;case 2:qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=G1+300-et(),10<x)){if(Ko(g,l,ds,!Lo),ye(g,0,!0)!==0)break e;lo=l,g.timeoutHandle=KW(yW.bind(null,g,d,qi,Q1,yS,l,ds,Jl,Jc,Lo,U,"Throttled",-0,0),x);break e}yW(g,d,qi,Q1,yS,l,ds,Jl,Jc,Lo,U,null,-0,0)}}break}while(!0);_a(s)}function yW(s,l,d,g,x,U,Z,oe,xe,He,at,ut,qe,rt){if(s.timeoutHandle=-1,ut=l.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zr},cW(l,U,ut);var Nt=(U&62914560)===U?G1-et():(U&4194048)===U?hW-et():0;if(Nt=PP(ut,Nt),Nt!==null){lo=U,s.cancelPendingCommit=Nt(wW.bind(null,s,l,U,d,g,x,Z,oe,xe,at,ut,null,qe,rt)),Ko(s,U,Z,!He);return}}wW(s,l,U,d,g,x,Z,oe,xe)}function q8(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],U=x.getSnapshot;x=x.value;try{if(!Ci(U(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ko(s,l,d,g){l&=~gS,l&=~Jl,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var x=l;0<x;){var U=31-be(x),Z=1<<U;g[U]=-1,x&=~Z}d!==0&&hn(s,d,l)}function J1(){return(Qn&6)===0?(j0(0),!1):!0}function bS(){if(xn!==null){if(rr===0)var s=xn.return;else s=xn,qa=Zl=null,O2(s),zc=null,A0=0,s=xn;for(;s!==null;)j3(s.alternate,s),s=s.return;xn=null}}function tu(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,yP(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),lo=0,bS(),hr=s,xn=d=Ha(s.current,null),Un=l,rr=0,fs=null,Lo=!1,Qc=Pe(s,l),mS=!1,Jc=ds=gS=Jl=Zo=Rr=0,qi=$0=null,yS=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var x=31-be(g),U=1<<x;l|=s[x],g&=~U}return oo=l,di(),d}function vW(s,l){mn=null,$.H=N0,l===Zc||l===U1?(l=Rw(),rr=3):l===w2?(l=Rw(),rr=4):rr=l===J2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,fs=l,xn===null&&(Rr=1,F1(s,Is(l,s.current)))}function _W(){var s=cs.current;return s===null?!0:(Un&4194048)===Un?Ms===null:(Un&62914560)===Un||(Un&536870912)!==0?s===Ms:!1}function SW(){var s=$.H;return $.H=N0,s===null?N0:s}function bW(){var s=$.A;return $.A=H8,s}function ey(){Rr=4,Lo||(Un&4194048)!==Un&&cs.current!==null||(Qc=!0),(Zo&134217727)===0&&(Jl&134217727)===0||hr===null||Ko(hr,Un,ds,!1)}function YS(s,l,d){var g=Qn;Qn|=2;var x=SW(),U=bW();(hr!==s||Un!==l)&&(Q1=null,tu(s,l)),l=!1;var Z=Rr;e:do try{if(rr!==0&&xn!==null){var oe=xn,xe=fs;switch(rr){case 8:bS(),Z=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(l=!0);var He=rr;if(rr=0,fs=null,nu(s,oe,xe,He),d&&Qc){Z=0;break e}break;default:He=rr,rr=0,fs=null,nu(s,oe,xe,He)}}Q8(),Z=Rr;break}catch(at){vW(s,at)}while(!0);return l&&s.shellSuspendCounter++,qa=Zl=null,Qn=g,$.H=x,$.A=U,xn===null&&(hr=null,Un=0,di()),Z}function Q8(){for(;xn!==null;)YW(xn)}function J8(s,l){var d=Qn;Qn|=2;var g=SW(),x=bW();hr!==s||Un!==l?(Q1=null,q1=et()+500,tu(s,l)):Qc=Pe(s,l);e:do try{if(rr!==0&&xn!==null){l=xn;var U=fs;t:switch(rr){case 1:rr=0,fs=null,nu(s,l,U,1);break;case 2:case 9:if(Iw(U)){rr=0,fs=null,xW(l);break}l=function(){rr!==2&&rr!==9||hr!==s||(rr=7),_a(s)},U.then(l,l);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:Iw(U)?(rr=0,fs=null,xW(l)):(rr=0,fs=null,nu(s,l,U,7));break;case 5:var Z=null;switch(xn.tag){case 26:Z=xn.memoizedState;case 5:case 27:var oe=xn;if(Z?l4(Z):oe.stateNode.complete){rr=0,fs=null;var xe=oe.sibling;if(xe!==null)xn=xe;else{var He=oe.return;He!==null?(xn=He,ty(He)):xn=null}break t}}rr=0,fs=null,nu(s,l,U,5);break;case 6:rr=0,fs=null,nu(s,l,U,6);break;case 8:bS(),Rr=6;break e;default:throw Error(r(462))}}eP();break}catch(at){vW(s,at)}while(!0);return qa=Zl=null,$.H=g,$.A=x,Qn=d,xn!==null?0:(hr=null,Un=0,di(),Rr)}function eP(){for(;xn!==null&&!ge();)YW(xn)}function YW(s){var l=$3(s.alternate,s,oo);s.memoizedProps=s.pendingProps,l===null?ty(s):xn=l}function xW(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=B3(d,l,l.pendingProps,l.type,void 0,Un);break;case 11:l=B3(d,l,l.pendingProps,l.type.render,l.ref,Un);break;case 5:O2(l);default:j3(d,l),l=xn=bw(l,oo),l=$3(d,l,oo)}s.memoizedProps=s.pendingProps,l===null?ty(s):xn=l}function nu(s,l,d,g){qa=Zl=null,O2(l),zc=null,A0=0;var x=l.return;try{if(F8(s,x,l,d,Un)){Rr=1,F1(s,Is(d,s.current)),xn=null;return}}catch(U){if(x!==null)throw xn=x,U;Rr=1,F1(s,Is(d,s.current)),xn=null;return}l.flags&32768?(Mn||g===1?s=!0:Qc||(Un&536870912)!==0?s=!1:(Lo=s=!0,(g===2||g===9||g===3||g===6)&&(g=cs.current,g!==null&&g.tag===13&&(g.flags|=16384))),TW(l,s)):ty(l)}function ty(s){var l=s;do{if((l.flags&32768)!==0){TW(l,Lo);return}s=l.return;var d=z8(l.alternate,l,oo);if(d!==null){xn=d;return}if(l=l.sibling,l!==null){xn=l;return}xn=l=s}while(l!==null);Rr===0&&(Rr=5)}function TW(s,l){do{var d=$8(s.alternate,s);if(d!==null){d.flags&=32767,xn=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){xn=s;return}xn=s=d}while(s!==null);Rr=6,xn=null}function wW(s,l,d,g,x,U,Z,oe,xe){s.cancelPendingCommit=null;do ny();while(oi!==0);if((Qn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(U=l.lanes|l.childLanes,U|=pn,Wn(s,d,U,Z,oe,xe),s===hr&&(xn=hr=null,Un=0),eu=l,$o=s,lo=d,vS=U,_S=x,pW=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,iP(ht,function(){return AW(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=$.T,$.T=null,x=q.p,q.p=2,Z=Qn,Qn|=4;try{K8(s,l,d)}finally{Qn=Z,q.p=x,$.T=g}}oi=1,WW(),EW(),UW()}}function WW(){if(oi===1){oi=0;var s=$o,l=eu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var g=q.p;q.p=2;var x=Qn;Qn|=4;try{aW(l,s);var U=RS,Z=H(s.containerInfo),oe=U.focusedElem,xe=U.selectionRange;if(Z!==oe&&oe&&oe.ownerDocument&&L(oe.ownerDocument.documentElement,oe)){if(xe!==null&&ne(oe)){var He=xe.start,at=xe.end;if(at===void 0&&(at=He),"selectionStart"in oe)oe.selectionStart=He,oe.selectionEnd=Math.min(at,oe.value.length);else{var ut=oe.ownerDocument||document,qe=ut&&ut.defaultView||window;if(qe.getSelection){var rt=qe.getSelection(),Nt=oe.textContent.length,qt=Math.min(xe.start,Nt),cr=xe.end===void 0?qt:Math.min(xe.end,Nt);!rt.extend&&qt>cr&&(Z=cr,cr=qt,qt=Z);var Fe=N(oe,qt),Ie=N(oe,cr);if(Fe&&Ie&&(rt.rangeCount!==1||rt.anchorNode!==Fe.node||rt.anchorOffset!==Fe.offset||rt.focusNode!==Ie.node||rt.focusOffset!==Ie.offset)){var je=ut.createRange();je.setStart(Fe.node,Fe.offset),rt.removeAllRanges(),qt>cr?(rt.addRange(je),rt.extend(Ie.node,Ie.offset)):(je.setEnd(Ie.node,Ie.offset),rt.addRange(je))}}}}for(ut=[],rt=oe;rt=rt.parentNode;)rt.nodeType===1&&ut.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<ut.length;oe++){var lt=ut[oe];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}py=!!XS,RS=XS=null}finally{Qn=x,q.p=g,$.T=d}}s.current=l,oi=2}}function EW(){if(oi===2){oi=0;var s=$o,l=eu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var g=q.p;q.p=2;var x=Qn;Qn|=4;try{tW(s,l.alternate,l)}finally{Qn=x,q.p=g,$.T=d}}oi=3}}function UW(){if(oi===4||oi===3){oi=0,we();var s=$o,l=eu,d=lo,g=pW;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?oi=5:(oi=0,eu=$o=null,CW(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(zo=null),In(d),l=l.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Oe,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=$.T,x=q.p,q.p=2,$.T=null;try{for(var U=s.onRecoverableError,Z=0;Z<g.length;Z++){var oe=g[Z];U(oe.value,{componentStack:oe.stack})}}finally{$.T=l,q.p=x}}(lo&3)!==0&&ny(),_a(s),x=s.pendingLanes,(d&261930)!==0&&(x&42)!==0?s===SS?K0++:(K0=0,SS=s):K0=0,j0(0)}}function CW(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,U0(l)))}function ny(){return WW(),EW(),UW(),AW()}function AW(){if(oi!==5)return!1;var s=$o,l=vS;vS=0;var d=In(lo),g=$.T,x=q.p;try{q.p=32>d?32:d,$.T=null,d=_S,_S=null;var U=$o,Z=lo;if(oi=0,eu=$o=null,lo=0,(Qn&6)!==0)throw Error(r(331));var oe=Qn;if(Qn|=4,fW(U.current),lW(U,U.current,Z,d),Qn=oe,j0(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Oe,U)}catch{}return!0}finally{q.p=x,$.T=g,CW(s,l)}}function kW(s,l,d){l=Is(d,l),l=Q2(s.stateNode,l,2),s=Do(s,l,2),s!==null&&(kt(s,2),_a(s))}function ir(s,l,d){if(s.tag===3)kW(s,s,d);else for(;l!==null;){if(l.tag===3){kW(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zo===null||!zo.has(g))){s=Is(d,s),d=I3(2),g=Do(l,d,2),g!==null&&(X3(d,g,l,s),kt(g,2),_a(g));break}}l=l.return}}function xS(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new G8;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(d)||(mS=!0,x.add(d),s=tP.bind(null,s,l,d),l.then(s,s))}function tP(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,hr===s&&(Un&d)===d&&(Rr===4||Rr===3&&(Un&62914560)===Un&&300>et()-G1?(Qn&2)===0&&tu(s,0):gS|=d,Jc===Un&&(Jc=0)),_a(s)}function IW(s,l){l===0&&(l=ft()),s=wr(s,l),s!==null&&(kt(s,l),_a(s))}function nP(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),IW(s,d)}function rP(s,l){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),IW(s,d)}function iP(s,l){return Me(s,l)}var ry=null,ru=null,TS=!1,iy=!1,wS=!1,jo=0;function _a(s){s!==ru&&s.next===null&&(ru===null?ry=ru=s:ru=ru.next=s),iy=!0,TS||(TS=!0,aP())}function j0(s,l){if(!wS&&iy){wS=!0;do for(var d=!1,g=ry;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var U=0;else{var Z=g.suspendedLanes,oe=g.pingedLanes;U=(1<<31-be(42|s)+1)-1,U&=x&~(Z&~oe),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,MW(g,U))}else U=Un,U=ye(g,g===hr?U:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(U&3)===0||Pe(g,U)||(d=!0,MW(g,U));g=g.next}while(d);wS=!1}}function sP(){XW()}function XW(){iy=TS=!1;var s=0;jo!==0&&gP()&&(s=jo);for(var l=et(),d=null,g=ry;g!==null;){var x=g.next,U=RW(g,l);U===0?(g.next=null,d===null?ry=x:d.next=x,x===null&&(ru=d)):(d=g,(s!==0||(U&3)!==0)&&(iy=!0)),g=x}oi!==0&&oi!==5||j0(s),jo!==0&&(jo=0)}function RW(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,U=s.pendingLanes&-62914561;0<U;){var Z=31-be(U),oe=1<<Z,xe=x[Z];xe===-1?((oe&d)===0||(oe&g)!==0)&&(x[Z]=wt(oe,l)):xe<=l&&(s.expiredLanes|=oe),U&=~oe}if(l=hr,d=Un,d=ye(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(rr===2||rr===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Ae(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Pe(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&Ae(g),In(d)){case 2:case 8:d=Mt;break;case 32:d=ht;break;case 268435456:d=sn;break;default:d=ht}return g=PW.bind(null,s),d=Me(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&Ae(g),s.callbackPriority=2,s.callbackNode=null,2}function PW(s,l){if(oi!==0&&oi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(ny()&&s.callbackNode!==d)return null;var g=Un;return g=ye(s,s===hr?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(gW(s,g,l),RW(s,et()),s.callbackNode!=null&&s.callbackNode===d?PW.bind(null,s):null)}function MW(s,l){if(ny())return null;gW(s,l,!0)}function aP(){vP(function(){(Qn&6)!==0?Me(nt,sP):XW()})}function WS(){if(jo===0){var s=Fc;s===0&&(s=R,R<<=1,(R&261888)===0&&(R=256)),jo=s}return jo}function OW(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ai(""+s)}function NW(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function oP(s,l,d,g,x){if(l==="submit"&&d&&d.stateNode===x){var U=OW((x[rn]||null).action),Z=g.submitter;Z&&(l=(l=Z[rn]||null)?OW(l.formAction):Z.getAttribute("formAction"),l!==null&&(U=l,Z=null));var oe=new Cs("action","action",null,g,x);s.push({event:oe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(jo!==0){var xe=Z?NW(x,Z):new FormData(x);$2(d,{pending:!0,data:xe,method:x.method,action:U},null,xe)}}else typeof U=="function"&&(oe.preventDefault(),xe=Z?NW(x,Z):new FormData(x),$2(d,{pending:!0,data:xe,method:x.method,action:U},U,xe))},currentTarget:x}]})}}for(var ES=0;ES<Et.length;ES++){var US=Et[ES],lP=US.toLowerCase(),cP=US[0].toUpperCase()+US.slice(1);vt(lP,"on"+cP)}vt(ze,"onAnimationEnd"),vt(Ge,"onAnimationIteration"),vt(st,"onAnimationStart"),vt("dblclick","onDoubleClick"),vt("focusin","onFocus"),vt("focusout","onBlur"),vt(ct,"onTransitionRun"),vt(St,"onTransitionStart"),vt(Ut,"onTransitionCancel"),vt(yt,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var H0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(H0));function DW(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var U=void 0;if(l)for(var Z=g.length-1;0<=Z;Z--){var oe=g[Z],xe=oe.instance,He=oe.currentTarget;if(oe=oe.listener,xe!==U&&x.isPropagationStopped())break e;U=oe,x.currentTarget=He;try{U(x)}catch(at){Xt(at)}x.currentTarget=null,U=xe}else for(Z=0;Z<g.length;Z++){if(oe=g[Z],xe=oe.instance,He=oe.currentTarget,oe=oe.listener,xe!==U&&x.isPropagationStopped())break e;U=oe,x.currentTarget=He;try{U(x)}catch(at){Xt(at)}x.currentTarget=null,U=xe}}}}function Tn(s,l){var d=l[pr];d===void 0&&(d=l[pr]=new Set);var g=s+"__bubble";d.has(g)||(BW(l,s,2,!1),d.add(g))}function CS(s,l,d){var g=0;l&&(g|=4),BW(d,s,g,l)}var sy="_reactListening"+Math.random().toString(36).slice(2);function AS(s){if(!s[sy]){s[sy]=!0,Wi.forEach(function(d){d!=="selectionchange"&&(uP.has(d)||CS(d,!1,s),CS(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[sy]||(l[sy]=!0,CS("selectionchange",!1,l))}}function BW(s,l,d,g){switch(m4(l)){case 2:var x=NP;break;case 8:x=DP;break;default:x=zS}d=x.bind(null,l,d,s),x=void 0,!Pl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(l,d,{capture:!0,passive:x}):s.addEventListener(l,d,!0):x!==void 0?s.addEventListener(l,d,{passive:x}):s.addEventListener(l,d,!1)}function kS(s,l,d,g,x){var U=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var Z=g.tag;if(Z===3||Z===4){var oe=g.stateNode.containerInfo;if(oe===x)break;if(Z===4)for(Z=g.return;Z!==null;){var xe=Z.tag;if((xe===3||xe===4)&&Z.stateNode.containerInfo===x)return;Z=Z.return}for(;oe!==null;){if(Z=ws(oe),Z===null)return;if(xe=Z.tag,xe===5||xe===6||xe===26||xe===27){g=U=Z;continue e}oe=oe.parentNode}}g=g.return}Us(function(){var He=U,at=Hs(d),ut=[];e:{var qe=xt.get(s);if(qe!==void 0){var rt=Cs,Nt=s;switch(s){case"keypress":if(Gs(d)===0)break e;case"keydown":case"keyup":rt=$i;break;case"focusin":Nt="focus",rt=Rn;break;case"focusout":Nt="blur",rt=Rn;break;case"beforeblur":case"afterblur":rt=Rn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=kc;break;case ze:case Ge:case st:rt=Pn;break;case yt:rt=_0;break;case"scroll":case"scrollend":rt=Eo;break;case"wheel":rt=Ic;break;case"copy":case"cut":case"paste":rt=_r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=ha;break;case"toggle":case"beforetoggle":rt=g1}var qt=(l&4)!==0,cr=!qt&&(s==="scroll"||s==="scrollend"),Fe=qt?qe!==null?qe+"Capture":null:qe;qt=[];for(var Ie=He,je;Ie!==null;){var lt=Ie;if(je=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||je===null||Fe===null||(lt=ar(Ie,Fe),lt!=null&&qt.push(G0(Ie,lt,je))),cr)break;Ie=Ie.return}0<qt.length&&(qe=new rt(qe,Nt,null,d,at),ut.push({event:qe,listeners:qt}))}}if((l&7)===0){e:{if(qe=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",qe&&d!==Mi&&(Nt=d.relatedTarget||d.fromElement)&&(ws(Nt)||Nt[zn]))break e;if((rt||qe)&&(qe=at.window===at?at:(qe=at.ownerDocument)?qe.defaultView||qe.parentWindow:window,rt?(Nt=d.relatedTarget||d.toElement,rt=He,Nt=Nt?ws(Nt):null,Nt!==null&&(cr=a(Nt),qt=Nt.tag,Nt!==cr||qt!==5&&qt!==27&&qt!==6)&&(Nt=null)):(rt=null,Nt=He),rt!==Nt)){if(qt=Co,lt="onMouseLeave",Fe="onMouseEnter",Ie="mouse",(s==="pointerout"||s==="pointerover")&&(qt=ha,lt="onPointerLeave",Fe="onPointerEnter",Ie="pointer"),cr=rt==null?qe:Vr(rt),je=Nt==null?qe:Vr(Nt),qe=new qt(lt,Ie+"leave",rt,d,at),qe.target=cr,qe.relatedTarget=je,lt=null,ws(at)===He&&(qt=new qt(Fe,Ie+"enter",Nt,d,at),qt.target=je,qt.relatedTarget=cr,lt=qt),cr=lt,rt&&Nt)t:{for(qt=fP,Fe=rt,Ie=Nt,je=0,lt=Fe;lt;lt=qt(lt))je++;lt=0;for(var Kt=Ie;Kt;Kt=qt(Kt))lt++;for(;0<je-lt;)Fe=qt(Fe),je--;for(;0<lt-je;)Ie=qt(Ie),lt--;for(;je--;){if(Fe===Ie||Ie!==null&&Fe===Ie.alternate){qt=Fe;break t}Fe=qt(Fe),Ie=qt(Ie)}qt=null}else qt=null;rt!==null&&VW(ut,qe,rt,qt,!1),Nt!==null&&cr!==null&&VW(ut,cr,Nt,qt,!0)}}e:{if(qe=He?Vr(He):window,rt=qe.nodeName&&qe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&qe.type==="file")var $n=Bl;else if(Pc(qe))if(ks)$n=Io;else{$n=ja;var Zt=Y1}else rt=qe.nodeName,!rt||rt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?He&&Pi(He.elementType)&&($n=Bl):$n=T0;if($n&&($n=$n(s,He))){x0(ut,$n,d,at);break e}Zt&&Zt(s,qe,He),s==="focusout"&&He&&qe.type==="number"&&He.memoizedProps.value!=null&&Xi(qe,"number",qe.value)}switch(Zt=He?Vr(He):window,s){case"focusin":(Pc(Zt)||Zt.contentEditable==="true")&&(ve=Zt,Ee=He,Ue=null);break;case"focusout":Ue=Ee=ve=null;break;case"mousedown":Ne=!0;break;case"contextmenu":case"mouseup":case"dragend":Ne=!1,Te(ut,d,at);break;case"selectionchange":if(de)break;case"keydown":case"keyup":Te(ut,d,at)}var gn;if(Nl)e:{switch(s){case"compositionstart":var Cn="onCompositionStart";break e;case"compositionend":Cn="onCompositionEnd";break e;case"compositionupdate":Cn="onCompositionUpdate";break e}Cn=void 0}else Ka?Y0(s,d)&&(Cn="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Cn="onCompositionStart");Cn&&(Xc&&d.locale!=="ko"&&(Ka||Cn!=="onCompositionStart"?Cn==="onCompositionEnd"&&Ka&&(gn=Ui()):(Oi=at,Fa="value"in Oi?Oi.value:Oi.textContent,Ka=!0)),Zt=ay(He,Cn),0<Zt.length&&(Cn=new nr(Cn,s,null,d,at),ut.push({event:Cn,listeners:Zt}),gn?Cn.data=gn:(gn=v1(d),gn!==null&&(Cn.data=gn)))),(gn=c2?_1(s,d):u2(s,d))&&(Cn=ay(He,"onBeforeInput"),0<Cn.length&&(Zt=new nr("onBeforeInput","beforeinput",null,d,at),ut.push({event:Zt,listeners:Cn}),Zt.data=gn)),oP(ut,s,He,d,at)}DW(ut,l)})}function G0(s,l,d){return{instance:s,listener:l,currentTarget:d}}function ay(s,l){for(var d=l+"Capture",g=[];s!==null;){var x=s,U=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||U===null||(x=ar(s,d),x!=null&&g.unshift(G0(s,x,U)),x=ar(s,l),x!=null&&g.push(G0(s,x,U))),s.tag===3)return g;s=s.return}return[]}function fP(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function VW(s,l,d,g,x){for(var U=l._reactName,Z=[];d!==null&&d!==g;){var oe=d,xe=oe.alternate,He=oe.stateNode;if(oe=oe.tag,xe!==null&&xe===g)break;oe!==5&&oe!==26&&oe!==27||He===null||(xe=He,x?(He=ar(d,U),He!=null&&Z.unshift(G0(d,He,xe))):x||(He=ar(d,U),He!=null&&Z.push(G0(d,He,xe)))),d=d.return}Z.length!==0&&s.push({event:l,listeners:Z})}var dP=/\r\n?/g,hP=/\u0000|\uFFFD/g;function FW(s){return(typeof s=="string"?s:""+s).replace(dP,`
`).replace(hP,"")}function LW(s,l){return l=FW(l),FW(s)===l}function lr(s,l,d,g,x,U){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||si(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&si(s,""+g);break;case"className":Er(s,"class",g);break;case"tabIndex":Er(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(s,d,g);break;case"style":Mr(s,g,U);break;case"data":if(l!=="object"){Er(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ai(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(l!=="input"&&lr(s,l,"name",x.name,x,null),lr(s,l,"formEncType",x.formEncType,x,null),lr(s,l,"formMethod",x.formMethod,x,null),lr(s,l,"formTarget",x.formTarget,x,null)):(lr(s,l,"encType",x.encType,x,null),lr(s,l,"method",x.method,x,null),lr(s,l,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ai(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Zr);break;case"onScroll":g!=null&&Tn("scroll",s);break;case"onScrollEnd":g!=null&&Tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=ai(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Tn("beforetoggle",s),Tn("toggle",s),It(s,"popover",g);break;case"xlinkActuate":tr(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":tr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":tr(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":tr(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":tr(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":tr(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":tr(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":tr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":tr(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":It(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=gr.get(d)||d,It(s,d,g))}}function IS(s,l,d,g,x,U){switch(d){case"style":Mr(s,g,U);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof g=="string"?si(s,g):(typeof g=="number"||typeof g=="bigint")&&si(s,""+g);break;case"onScroll":g!=null&&Tn("scroll",s);break;case"onScrollEnd":g!=null&&Tn("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zi.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),U=s[rn]||null,U=U!=null?U[d]:null,typeof U=="function"&&s.removeEventListener(l,U,x),typeof g=="function")){typeof U!="function"&&U!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,x);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):It(s,d,g)}}}function xi(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",s),Tn("load",s);var g=!1,x=!1,U;for(U in d)if(d.hasOwnProperty(U)){var Z=d[U];if(Z!=null)switch(U){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:lr(s,l,U,Z,d,null)}}x&&lr(s,l,"srcSet",d.srcSet,d,null),g&&lr(s,l,"src",d.src,d,null);return;case"input":Tn("invalid",s);var oe=U=Z=x=null,xe=null,He=null;for(g in d)if(d.hasOwnProperty(g)){var at=d[g];if(at!=null)switch(g){case"name":x=at;break;case"type":Z=at;break;case"checked":xe=at;break;case"defaultChecked":He=at;break;case"value":U=at;break;case"defaultValue":oe=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,l));break;default:lr(s,l,g,at,d,null)}}yi(s,U,oe,xe,He,Z,x,!1);return;case"select":Tn("invalid",s),g=Z=U=null;for(x in d)if(d.hasOwnProperty(x)&&(oe=d[x],oe!=null))switch(x){case"value":U=oe;break;case"defaultValue":Z=oe;break;case"multiple":g=oe;default:lr(s,l,x,oe,d,null)}l=U,d=Z,s.multiple=!!g,l!=null?Ri(s,!!g,l,!1):d!=null&&Ri(s,!!g,d,!0);return;case"textarea":Tn("invalid",s),U=x=g=null;for(Z in d)if(d.hasOwnProperty(Z)&&(oe=d[Z],oe!=null))switch(Z){case"value":g=oe;break;case"defaultValue":x=oe;break;case"children":U=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:lr(s,l,Z,oe,d,null)}vi(s,g,x,U);return;case"option":for(xe in d)if(d.hasOwnProperty(xe)&&(g=d[xe],g!=null))switch(xe){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:lr(s,l,xe,g,d,null)}return;case"dialog":Tn("beforetoggle",s),Tn("toggle",s),Tn("cancel",s),Tn("close",s);break;case"iframe":case"object":Tn("load",s);break;case"video":case"audio":for(g=0;g<H0.length;g++)Tn(H0[g],s);break;case"image":Tn("error",s),Tn("load",s);break;case"details":Tn("toggle",s);break;case"embed":case"source":case"link":Tn("error",s),Tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in d)if(d.hasOwnProperty(He)&&(g=d[He],g!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:lr(s,l,He,g,d,null)}return;default:if(Pi(l)){for(at in d)d.hasOwnProperty(at)&&(g=d[at],g!==void 0&&IS(s,l,at,g,d,void 0));return}}for(oe in d)d.hasOwnProperty(oe)&&(g=d[oe],g!=null&&lr(s,l,oe,g,d,null))}function pP(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,U=null,Z=null,oe=null,xe=null,He=null,at=null;for(rt in d){var ut=d[rt];if(d.hasOwnProperty(rt)&&ut!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":xe=ut;default:g.hasOwnProperty(rt)||lr(s,l,rt,null,g,ut)}}for(var qe in g){var rt=g[qe];if(ut=d[qe],g.hasOwnProperty(qe)&&(rt!=null||ut!=null))switch(qe){case"type":U=rt;break;case"name":x=rt;break;case"checked":He=rt;break;case"defaultChecked":at=rt;break;case"value":Z=rt;break;case"defaultValue":oe=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,l));break;default:rt!==ut&&lr(s,l,qe,rt,g,ut)}}Ir(s,Z,oe,xe,He,at,U,x);return;case"select":rt=Z=oe=qe=null;for(U in d)if(xe=d[U],d.hasOwnProperty(U)&&xe!=null)switch(U){case"value":break;case"multiple":rt=xe;default:g.hasOwnProperty(U)||lr(s,l,U,null,g,xe)}for(x in g)if(U=g[x],xe=d[x],g.hasOwnProperty(x)&&(U!=null||xe!=null))switch(x){case"value":qe=U;break;case"defaultValue":oe=U;break;case"multiple":Z=U;default:U!==xe&&lr(s,l,x,U,g,xe)}l=oe,d=Z,g=rt,qe!=null?Ri(s,!!d,qe,!1):!!g!=!!d&&(l!=null?Ri(s,!!d,l,!0):Ri(s,!!d,d?[]:"",!1));return;case"textarea":rt=qe=null;for(oe in d)if(x=d[oe],d.hasOwnProperty(oe)&&x!=null&&!g.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:lr(s,l,oe,null,g,x)}for(Z in g)if(x=g[Z],U=d[Z],g.hasOwnProperty(Z)&&(x!=null||U!=null))switch(Z){case"value":qe=x;break;case"defaultValue":rt=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==U&&lr(s,l,Z,x,g,U)}Va(s,qe,rt);return;case"option":for(var Nt in d)if(qe=d[Nt],d.hasOwnProperty(Nt)&&qe!=null&&!g.hasOwnProperty(Nt))switch(Nt){case"selected":s.selected=!1;break;default:lr(s,l,Nt,null,g,qe)}for(xe in g)if(qe=g[xe],rt=d[xe],g.hasOwnProperty(xe)&&qe!==rt&&(qe!=null||rt!=null))switch(xe){case"selected":s.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:lr(s,l,xe,qe,g,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in d)qe=d[qt],d.hasOwnProperty(qt)&&qe!=null&&!g.hasOwnProperty(qt)&&lr(s,l,qt,null,g,qe);for(He in g)if(qe=g[He],rt=d[He],g.hasOwnProperty(He)&&qe!==rt&&(qe!=null||rt!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,l));break;default:lr(s,l,He,qe,g,rt)}return;default:if(Pi(l)){for(var cr in d)qe=d[cr],d.hasOwnProperty(cr)&&qe!==void 0&&!g.hasOwnProperty(cr)&&IS(s,l,cr,void 0,g,qe);for(at in g)qe=g[at],rt=d[at],!g.hasOwnProperty(at)||qe===rt||qe===void 0&&rt===void 0||IS(s,l,at,qe,g,rt);return}}for(var Fe in d)qe=d[Fe],d.hasOwnProperty(Fe)&&qe!=null&&!g.hasOwnProperty(Fe)&&lr(s,l,Fe,null,g,qe);for(ut in g)qe=g[ut],rt=d[ut],!g.hasOwnProperty(ut)||qe===rt||qe==null&&rt==null||lr(s,l,ut,qe,g,rt)}function ZW(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mP(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var x=d[g],U=x.transferSize,Z=x.initiatorType,oe=x.duration;if(U&&oe&&ZW(Z)){for(Z=0,oe=x.responseEnd,g+=1;g<d.length;g++){var xe=d[g],He=xe.startTime;if(He>oe)break;var at=xe.transferSize,ut=xe.initiatorType;at&&ZW(ut)&&(xe=xe.responseEnd,Z+=at*(xe<oe?1:(oe-He)/(xe-He)))}if(--g,l+=8*(U+Z)/(x.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var XS=null,RS=null;function oy(s){return s.nodeType===9?s:s.ownerDocument}function zW(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $W(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function PS(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var MS=null;function gP(){var s=window.event;return s&&s.type==="popstate"?s===MS?!1:(MS=s,!0):(MS=null,!1)}var KW=typeof setTimeout=="function"?setTimeout:void 0,yP=typeof clearTimeout=="function"?clearTimeout:void 0,jW=typeof Promise=="function"?Promise:void 0,vP=typeof queueMicrotask=="function"?queueMicrotask:typeof jW<"u"?function(s){return jW.resolve(null).then(s).catch(_P)}:KW;function _P(s){setTimeout(function(){throw s})}function Ho(s){return s==="head"}function HW(s,l){var d=l,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(x),ou(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")q0(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,q0(d);for(var U=d.firstChild;U;){var Z=U.nextSibling,oe=U.nodeName;U[Br]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=Z}}else d==="body"&&q0(s.ownerDocument.body);d=x}while(d);ou(l)}function GW(s,l){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function OS(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":OS(d),is(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function SP(s,l,d,g){for(;s.nodeType===1;){var x=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Br])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(U=s.getAttribute("rel"),U==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(U!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(U=s.getAttribute("src"),(U!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&U&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var U=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===U)return s}else return s;if(s=Os(s.nextSibling),s===null)break}return null}function bP(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Os(s.nextSibling),s===null))return null;return s}function qW(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Os(s.nextSibling),s===null))return null;return s}function NS(s){return s.data==="$?"||s.data==="$~"}function DS(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YP(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Os(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var BS=null;function QW(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return Os(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function JW(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function e4(s,l,d){switch(l=oy(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function q0(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);is(s)}var Ns=new Map,t4=new Set;function ly(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var co=q.d;q.d={f:xP,r:TP,D:wP,C:WP,L:EP,m:UP,X:AP,S:CP,M:kP};function xP(){var s=co.f(),l=J1();return s||l}function TP(s){var l=Jn(s);l!==null&&l.tag===5&&l.type==="form"?v3(l):co.r(s)}var iu=typeof document>"u"?null:document;function n4(s,l,d){var g=iu;if(g&&typeof l=="string"&&l){var x=Xn(l);x='link[rel="'+s+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),t4.has(x)||(t4.add(x),s={rel:s,crossOrigin:d,href:l},g.querySelector(x)===null&&(l=g.createElement("link"),xi(l,"link",s),sr(l),g.head.appendChild(l)))}}function wP(s){co.D(s),n4("dns-prefetch",s,null)}function WP(s,l){co.C(s,l),n4("preconnect",s,l)}function EP(s,l,d){co.L(s,l,d);var g=iu;if(g&&s&&l){var x='link[rel="preload"][as="'+Xn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Xn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Xn(d.imageSizes)+'"]')):x+='[href="'+Xn(s)+'"]';var U=x;switch(l){case"style":U=su(s);break;case"script":U=au(s)}Ns.has(U)||(s=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Ns.set(U,s),g.querySelector(x)!==null||l==="style"&&g.querySelector(Q0(U))||l==="script"&&g.querySelector(J0(U))||(l=g.createElement("link"),xi(l,"link",s),sr(l),g.head.appendChild(l)))}}function UP(s,l){co.m(s,l);var d=iu;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Xn(g)+'"][href="'+Xn(s)+'"]',U=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=au(s)}if(!Ns.has(U)&&(s=h({rel:"modulepreload",href:s},l),Ns.set(U,s),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(J0(U)))return}g=d.createElement("link"),xi(g,"link",s),sr(g),d.head.appendChild(g)}}}function CP(s,l,d){co.S(s,l,d);var g=iu;if(g&&s){var x=Fr(g).hoistableStyles,U=su(s);l=l||"default";var Z=x.get(U);if(!Z){var oe={loading:0,preload:null};if(Z=g.querySelector(Q0(U)))oe.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Ns.get(U))&&VS(s,d);var xe=Z=g.createElement("link");sr(xe),xi(xe,"link",s),xe._p=new Promise(function(He,at){xe.onload=He,xe.onerror=at}),xe.addEventListener("load",function(){oe.loading|=1}),xe.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,cy(Z,l,g)}Z={type:"stylesheet",instance:Z,count:1,state:oe},x.set(U,Z)}}}function AP(s,l){co.X(s,l);var d=iu;if(d&&s){var g=Fr(d).hoistableScripts,x=au(s),U=g.get(x);U||(U=d.querySelector(J0(x)),U||(s=h({src:s,async:!0},l),(l=Ns.get(x))&&FS(s,l),U=d.createElement("script"),sr(U),xi(U,"link",s),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},g.set(x,U))}}function kP(s,l){co.M(s,l);var d=iu;if(d&&s){var g=Fr(d).hoistableScripts,x=au(s),U=g.get(x);U||(U=d.querySelector(J0(x)),U||(s=h({src:s,async:!0,type:"module"},l),(l=Ns.get(x))&&FS(s,l),U=d.createElement("script"),sr(U),xi(U,"link",s),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},g.set(x,U))}}function r4(s,l,d,g){var x=(x=le.current)?ly(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=su(d.href),d=Fr(x).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=su(d.href);var U=Fr(x).hoistableStyles,Z=U.get(s);if(Z||(x=x.ownerDocument||x,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(s,Z),(U=x.querySelector(Q0(s)))&&!U._p&&(Z.instance=U,Z.state.loading=5),Ns.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ns.set(s,d),U||IP(x,s,d,Z.state))),l&&g===null)throw Error(r(528,""));return Z}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=au(d),d=Fr(x).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function su(s){return'href="'+Xn(s)+'"'}function Q0(s){return'link[rel="stylesheet"]['+s+"]"}function i4(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function IP(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),xi(l,"link",d),sr(l),s.head.appendChild(l))}function au(s){return'[src="'+Xn(s)+'"]'}function J0(s){return"script[async]"+s}function s4(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Xn(d.href)+'"]');if(g)return l.instance=g,sr(g),g;var x=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),sr(g),xi(g,"style",x),cy(g,d.precedence,s),l.instance=g;case"stylesheet":x=su(d.href);var U=s.querySelector(Q0(x));if(U)return l.state.loading|=4,l.instance=U,sr(U),U;g=i4(d),(x=Ns.get(x))&&VS(g,x),U=(s.ownerDocument||s).createElement("link"),sr(U);var Z=U;return Z._p=new Promise(function(oe,xe){Z.onload=oe,Z.onerror=xe}),xi(U,"link",g),l.state.loading|=4,cy(U,d.precedence,s),l.instance=U;case"script":return U=au(d.src),(x=s.querySelector(J0(U)))?(l.instance=x,sr(x),x):(g=d,(x=Ns.get(U))&&(g=h({},d),FS(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),sr(x),xi(x,"link",g),s.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,cy(g,d.precedence,s));return l.instance}function cy(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,U=x,Z=0;Z<g.length;Z++){var oe=g[Z];if(oe.dataset.precedence===l)U=oe;else if(U!==x)break}U?U.parentNode.insertBefore(s,U.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function VS(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function FS(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var uy=null;function a4(s,l,d){if(uy===null){var g=new Map,x=uy=new Map;x.set(d,g)}else x=uy,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),x=0;x<d.length;x++){var U=d[x];if(!(U[Br]||U[nn]||s==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=U.getAttribute(l)||"";Z=s+Z;var oe=g.get(Z);oe?oe.push(U):g.set(Z,[U])}}return g}function o4(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function XP(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function l4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function RP(s,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=su(g.href),U=l.querySelector(Q0(x));if(U){l=U._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=fy.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=U,sr(U);return}U=l.ownerDocument||l,g=i4(g),(x=Ns.get(x))&&VS(g,x),U=U.createElement("link"),sr(U);var Z=U;Z._p=new Promise(function(oe,xe){Z.onload=oe,Z.onerror=xe}),xi(U,"link",g),d.instance=U}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=fy.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var LS=0;function PP(s,l){return s.stylesheets&&s.count===0&&hy(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&hy(s,s.stylesheets),s.unsuspend){var U=s.unsuspend;s.unsuspend=null,U()}},6e4+l);0<s.imgBytes&&LS===0&&(LS=62500*mP());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&hy(s,s.stylesheets),s.unsuspend)){var U=s.unsuspend;s.unsuspend=null,U()}},(s.imgBytes>LS?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function fy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dy=null;function hy(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dy=new Map,l.forEach(MP,s),dy=null,fy.call(s))}function MP(s,l){if(!(l.state.loading&4)){var d=dy.get(s);if(d)var g=d.get(null);else{d=new Map,dy.set(s,d);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<x.length;U++){var Z=x[U];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(d.set(Z.dataset.precedence,Z),g=Z)}g&&d.set(null,g)}x=l.instance,Z=x.getAttribute("data-precedence"),U=d.get(Z)||g,U===g&&d.set(null,x),d.set(Z,x),this.count++,g=fy.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),U?U.parentNode.insertBefore(x,U.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),l.state.loading|=4}}var eg={$$typeof:A,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function OP(s,l,d,g,x,U,Z,oe,xe){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.hiddenUpdates=_t(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=U,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function c4(s,l,d,g,x,U,Z,oe,xe,He,at,ut){return s=new OP(s,l,d,Z,xe,He,at,ut,oe),l=1,U===!0&&(l|=24),U=ls(3,null,null,l),s.current=U,U.stateNode=s,l=Y2(),l.refCount++,s.pooledCache=l,l.refCount++,U.memoizedState={element:g,isDehydrated:d,cache:l},W2(U),s}function u4(s){return s?(s=Ki,s):Ki}function f4(s,l,d,g,x,U){x=u4(x),g.context===null?g.context=x:g.pendingContext=x,g=No(l),g.payload={element:d},U=U===void 0?null:U,U!==null&&(g.callback=U),d=Do(s,g,l),d!==null&&(Qi(d,s,l),I0(d,s,l))}function d4(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function ZS(s,l){d4(s,l),(s=s.alternate)&&d4(s,l)}function h4(s){if(s.tag===13||s.tag===31){var l=wr(s,67108864);l!==null&&Qi(l,s,67108864),ZS(s,67108864)}}function p4(s){if(s.tag===13||s.tag===31){var l=hs();l=Nn(l);var d=wr(s,l);d!==null&&Qi(d,s,l),ZS(s,l)}}var py=!0;function NP(s,l,d,g){var x=$.T;$.T=null;var U=q.p;try{q.p=2,zS(s,l,d,g)}finally{q.p=U,$.T=x}}function DP(s,l,d,g){var x=$.T;$.T=null;var U=q.p;try{q.p=8,zS(s,l,d,g)}finally{q.p=U,$.T=x}}function zS(s,l,d,g){if(py){var x=$S(g);if(x===null)kS(s,l,g,my,d),g4(s,g);else if(VP(x,s,l,d,g))g.stopPropagation();else if(g4(s,g),l&4&&-1<BP.indexOf(s)){for(;x!==null;){var U=Jn(x);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var Z=re(U.pendingLanes);if(Z!==0){var oe=U;for(oe.pendingLanes|=2,oe.entangledLanes|=2;Z;){var xe=1<<31-be(Z);oe.entanglements[1]|=xe,Z&=~xe}_a(U),(Qn&6)===0&&(q1=et()+500,j0(0))}}break;case 31:case 13:oe=wr(U,2),oe!==null&&Qi(oe,U,2),J1(),ZS(U,2)}if(U=$S(g),U===null&&kS(s,l,g,my,d),U===x)break;x=U}x!==null&&g.stopPropagation()}else kS(s,l,g,null,d)}}function $S(s){return s=Hs(s),KS(s)}var my=null;function KS(s){if(my=null,s=ws(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===31){if(s=c(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return my=s,null}function m4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case nt:return 2;case Mt:return 8;case ht:case Vt:return 32;case sn:return 268435456;default:return 32}default:return 32}}var jS=!1,Go=null,qo=null,Qo=null,tg=new Map,ng=new Map,Jo=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g4(s,l){switch(s){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":tg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ng.delete(l.pointerId)}}function rg(s,l,d,g,x,U){return s===null||s.nativeEvent!==U?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:U,targetContainers:[x]},l!==null&&(l=Jn(l),l!==null&&h4(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),s)}function VP(s,l,d,g,x){switch(l){case"focusin":return Go=rg(Go,s,l,d,g,x),!0;case"dragenter":return qo=rg(qo,s,l,d,g,x),!0;case"mouseover":return Qo=rg(Qo,s,l,d,g,x),!0;case"pointerover":var U=x.pointerId;return tg.set(U,rg(tg.get(U)||null,s,l,d,g,x)),!0;case"gotpointercapture":return U=x.pointerId,ng.set(U,rg(ng.get(U)||null,s,l,d,g,x)),!0}return!1}function y4(s){var l=ws(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,ii(s.priority,function(){p4(d)});return}}else if(l===31){if(l=c(d),l!==null){s.blockedOn=l,ii(s.priority,function(){p4(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gy(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=$S(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);Mi=g,d.target.dispatchEvent(g),Mi=null}else return l=Jn(d),l!==null&&h4(l),s.blockedOn=d,!1;l.shift()}return!0}function v4(s,l,d){gy(s)&&d.delete(l)}function FP(){jS=!1,Go!==null&&gy(Go)&&(Go=null),qo!==null&&gy(qo)&&(qo=null),Qo!==null&&gy(Qo)&&(Qo=null),tg.forEach(v4),ng.forEach(v4)}function yy(s,l){s.blockedOn===l&&(s.blockedOn=null,jS||(jS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FP)))}var vy=null;function _4(s){vy!==s&&(vy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vy===s&&(vy=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],x=s[l+2];if(typeof g!="function"){if(KS(g||d)===null)continue;break}var U=Jn(d);U!==null&&(s.splice(l,3),l-=3,$2(U,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function ou(s){function l(xe){return yy(xe,s)}Go!==null&&yy(Go,s),qo!==null&&yy(qo,s),Qo!==null&&yy(Qo,s),tg.forEach(l),ng.forEach(l);for(var d=0;d<Jo.length;d++){var g=Jo[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Jo.length&&(d=Jo[0],d.blockedOn===null);)y4(d),d.blockedOn===null&&Jo.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],U=d[g+1],Z=x[rn]||null;if(typeof U=="function")Z||_4(d);else if(Z){var oe=null;if(U&&U.hasAttribute("formAction")){if(x=U,Z=U[rn]||null)oe=Z.formAction;else if(KS(x)!==null)continue}else oe=Z.action;typeof oe=="function"?d[g+1]=oe:(d.splice(g,3),g-=3),_4(d)}}}function S4(){function s(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(Z){return x=Z})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function HS(s){this._internalRoot=s}_y.prototype.render=HS.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=hs();f4(d,g,s,l,null,null)},_y.prototype.unmount=HS.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;f4(s.current,2,null,s,null,null),J1(),l[zn]=null}};function _y(s){this._internalRoot=s}_y.prototype.unstable_scheduleHydration=function(s){if(s){var l=kr();s={blockedOn:null,target:s,priority:l};for(var d=0;d<Jo.length&&l!==0&&l<Jo[d].priority;d++);Jo.splice(d,0,s),d===0&&y4(s)}};var b4=e.version;if(b4!=="19.2.0")throw Error(r(527,b4,"19.2.0"));q.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var LP={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{Oe=Sy.inject(LP),it=Sy}catch{}}return sg.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,g="",x=U3,U=C3,Z=A3;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError)),l=c4(s,1,!1,null,null,d,g,null,x,U,Z,S4),s[zn]=l.current,AS(s),new HS(l)},sg.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var g=!1,x="",U=U3,Z=C3,oe=A3,xe=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(Z=d.onCaughtError),d.onRecoverableError!==void 0&&(oe=d.onRecoverableError),d.formState!==void 0&&(xe=d.formState)),l=c4(s,1,!0,l,d??null,g,x,xe,U,Z,oe,S4),l.context=u4(null),d=l.current,g=hs(),g=Nn(g),x=No(g),x.callback=null,Do(d,x,g),d=g,l.current.lanes=d,kt(l,d),_a(l),s[zn]=l.current,AS(s),new _y(l)},sg.version="19.2.0",sg}var R4;function JP(){if(R4)return eb.exports;R4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eb.exports=QP(),eb.exports}var eM=JP();const tM=xo(eM),WY=new WeakMap,nM=new WeakMap,Uv={current:[]};let sb=!1,Ug=0;const _g=new Set,by=new Map;function _5(t){for(const e of t){if(Uv.current.includes(e))continue;Uv.current.push(e),e.recompute();const n=nM.get(e);if(n)for(const r of n){const i=WY.get(r);i?.length&&_5(i)}}}function rM(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function iM(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function S5(t){if(Ug>0&&!by.has(t)&&by.set(t,t.prevState),_g.add(t),!(Ug>0)&&!sb)try{for(sb=!0;_g.size>0;){const e=Array.from(_g);_g.clear();for(const n of e){const r=by.get(n)??n.prevState;n.prevState=r,rM(n)}for(const n of e){const r=WY.get(n);r&&(Uv.current.push(n),_5(r))}for(const n of e){const r=WY.get(n);if(r)for(const i of r)iM(i)}}}finally{sb=!1,Uv.current=[],by.clear()}}function Cg(t){Ug++;try{t()}finally{if(Ug--,Ug===0){const e=_g.values().next().value;e&&S5(e)}}}function sM(t){return typeof t=="function"}class aM{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,a;this.listeners.add(r);const o=(a=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:a.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,r,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):sM(e)?this.state=e(this.prevState):this.state=e,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),S5(this)}}const ml="__TSR_index",P4="popstate",M4="beforeunload";function oM(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(c=>c({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},a=async({task:o,navigateOpts:c,...u})=>{if(c?.ignoreBlocker??!1){o();return}const p=t.getBlockers?.()??[],h=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&p.length&&h)for(const m of p){const y=Cv(u.path,u.state);if(await m.blockerFn({currentLocation:e,nextLocation:y,action:u.type})){t.onBlocked?.();return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,c,u)=>{const f=e.state[ml];c=O4(f+1,c),a({task:()=>{t.pushState(o,c),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:c})},replace:(o,c,u)=>{const f=e.state[ml];c=O4(f,c),a({task:()=>{t.replaceState(o,c),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:c})},go:(o,c)=>{a({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:c,type:"GO"})},back:o=>{a({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{a({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[ml]!==0,createHref:o=>t.createHref(o),block:o=>{if(!t.setBlockers)return()=>{};const c=t.getBlockers?.()??[];return t.setBlockers([...c,o]),()=>{const u=t.getBlockers?.()??[];t.setBlockers?.(u.filter(f=>f!==o))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:r}}function O4(t,e){e||(e={});const n=Fx();return{...e,key:n,__TSR_key:n,[ml]:t}}function lM(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const a=()=>i,o=k=>i=k,c=(k=>k),u=(()=>Cv(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const k=Fx();e.history.replaceState({[ml]:0,key:k,__TSR_key:k},"")}let f=u(),p,h=!1,m=!1,y=!1,_=!1;const v=()=>f;let S,Y;const T=()=>{S&&(w._ignoreSubscribers=!0,(S.isPush?e.history.pushState:e.history.replaceState)(S.state,"",S.href),w._ignoreSubscribers=!1,S=void 0,Y=void 0,p=void 0)},A=(k,M,D)=>{const B=c(M);Y||(p=f),f=Cv(M,D),S={href:B,state:D,isPush:S?.isPush||k==="push"},Y||(Y=Promise.resolve().then(()=>T()))},P=k=>{f=u(),w.notify({type:k})},C=async()=>{if(m){m=!1;return}const k=u(),M=k.state[ml]-f.state[ml],D=M===1,B=M===-1,O=!D&&!B||h;h=!1;const V=O?"GO":B?"BACK":"FORWARD",X=O?{type:"GO",index:M}:{type:B?"BACK":"FORWARD"};if(y)y=!1;else{const j=a();if(typeof document<"u"&&j.length){for(const $ of j)if(await $.blockerFn({currentLocation:f,nextLocation:k,action:V})){m=!0,e.history.go(1),w.notify(X);return}}}f=u(),w.notify(X)},W=k=>{if(_){_=!1;return}let M=!1;const D=a();if(typeof document<"u"&&D.length)for(const B of D){const O=B.enableBeforeUnload??!0;if(O===!0){M=!0;break}if(typeof O=="function"&&O()===!0){M=!0;break}}if(M)return k.preventDefault(),k.returnValue=""},w=oM({getLocation:v,getLength:()=>e.history.length,pushState:(k,M)=>A("push",k,M),replaceState:(k,M)=>A("replace",k,M),back:k=>(k&&(y=!0),_=!0,e.history.back()),forward:k=>{k&&(y=!0),_=!0,e.history.forward()},go:k=>{h=!0,e.history.go(k)},createHref:k=>c(k),flush:T,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(M4,W,{capture:!0}),e.removeEventListener(P4,C)},onBlocked:()=>{p&&f!==p&&(f=p)},getBlockers:a,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(M4,W,{capture:!0}),e.addEventListener(P4,C),e.history.pushState=function(...k){const M=n.apply(e.history,k);return w._ignoreSubscribers||P("PUSH"),M},e.history.replaceState=function(...k){const M=r.apply(e.history,k);return w._ignoreSubscribers||P("REPLACE"),M},w}function Cv(t,e){const n=t.indexOf("#"),r=t.indexOf("?"),i=Fx();return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[ml]:0,key:i,__TSR_key:i}}}function Fx(){return(Math.random()+1).toString(36).substring(7)}function Av(t){return t[t.length-1]}function cM(t){return typeof t=="function"}function cc(t,e){return cM(t)?t(e):t}const uM=Object.prototype.hasOwnProperty;function Vs(t,e){if(t===e)return t;const n=e,r=B4(t)&&B4(n);if(!r&&!(kv(t)&&kv(n)))return n;const i=r?t:N4(t);if(!i)return n;const a=r?n:N4(n);if(!a)return n;const o=i.length,c=a.length,u=r?new Array(c):{};let f=0;for(let p=0;p<c;p++){const h=r?p:a[p],m=t[h],y=n[h];if(m===y){u[h]=m,(r?p<o:uM.call(t,h))&&f++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){u[h]=y;continue}const _=Vs(m,y);u[h]=_,_===m&&f++}return o===c&&f===o?t:u}function N4(t){const e=[],n=Object.getOwnPropertyNames(t);for(const i of n){if(!Object.prototype.propertyIsEnumerable.call(t,i))return!1;e.push(i)}const r=Object.getOwnPropertySymbols(t);for(const i of r){if(!Object.prototype.propertyIsEnumerable.call(t,i))return!1;e.push(i)}return e}function kv(t){if(!D4(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!D4(n)||!n.hasOwnProperty("isPrototypeOf"))}function D4(t){return Object.prototype.toString.call(t)==="[object Object]"}function B4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function uc(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let r=0,i=t.length;r<i;r++)if(!uc(t[r],e[r],n))return!1;return!0}if(kv(t)&&kv(e)){const r=n?.ignoreUndefined??!0;if(n?.partial){for(const o in e)if((!r||e[o]!==void 0)&&!uc(t[o],e[o],n))return!1;return!0}let i=0;if(!r)i=Object.keys(t).length;else for(const o in t)t[o]!==void 0&&i++;let a=0;for(const o in e)if((!r||e[o]!==void 0)&&(a++,a>i||!uc(t[o],e[o],n)))return!1;return i===a}return!1}function zm(t){let e,n;const r=new Promise((i,a)=>{e=i,n=a});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function fM(t){return typeof t?.message!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function gl(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function V4(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function F4(t,e){if(!t)return t;const n=/%25|%5C/gi;let r=0,i="",a;for(;(a=n.exec(t))!==null;)i+=V4(t.slice(r,a.index))+a[0],r=n.lastIndex;return i+V4(r?t.slice(r):t)}var dM="Invariant failed";function yo(t,e){if(!t)throw new Error(dM)}function Iv(t){const e=new Map;let n,r;const i=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,r&&(r.next=a,a.prev=r)):(a.next.prev=void 0,n=a.next,a.next=void 0,r&&(a.prev=r,r.next=a)),r=a)};return{get(a){const o=e.get(a);if(o)return i(o),o.value},set(a,o){if(e.size>=t&&n){const u=n;e.delete(u.key),u.next&&(n=u.next,u.next.prev=void 0),u===r&&(r=void 0)}const c=e.get(a);if(c)c.value=o,i(c);else{const u={key:a,value:o,prev:r};r&&(r.next=u),r=u,n||(n=u),e.set(a,u)}},clear(){e.clear(),n=void 0,r=void 0}}}const $m=0,yc=1,vc=2,Ng=3,hM=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,pM=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,mM=/^([^{]*)\{\$\}([^}]*)$/;function Lx(t,e,n=new Uint16Array(6)){const r=t.indexOf("/",e),i=r===-1?t.length:r,a=t.substring(e,i);if(!a||!a.includes("$"))return n[0]=$m,n[1]=e,n[2]=e,n[3]=i,n[4]=i,n[5]=i,n;if(a==="$"){const f=t.length;return n[0]=vc,n[1]=e,n[2]=e,n[3]=f,n[4]=f,n[5]=f,n}if(a.charCodeAt(0)===36)return n[0]=yc,n[1]=e,n[2]=e+1,n[3]=i,n[4]=i,n[5]=i,n;const o=a.match(mM);if(o){const p=o[1].length;return n[0]=vc,n[1]=e+p,n[2]=e+p+1,n[3]=e+p+2,n[4]=e+p+3,n[5]=t.length,n}const c=a.match(pM);if(c){const f=c[1],p=c[2],h=c[3],m=f.length;return n[0]=Ng,n[1]=e+m,n[2]=e+m+3,n[3]=e+m+3+p.length,n[4]=i-h.length,n[5]=i,n}const u=a.match(hM);if(u){const f=u[1],p=u[2],h=u[3],m=f.length;return n[0]=yc,n[1]=e+m,n[2]=e+m+2,n[3]=e+m+2+p.length,n[4]=i-h.length,n[5]=i,n}return n[0]=$m,n[1]=e,n[2]=e,n[3]=i,n[4]=i,n[5]=i,n}function y_(t,e,n,r,i,a,o){o?.(n);let c=r;{const u=n.fullPath??n.from,f=u.length,p=n.options?.caseSensitive??t;for(;c<f;){const h=Lx(u,c,e);let m;const y=c,_=h[5];switch(c=_+1,a++,h[0]){case $m:{const S=u.substring(h[2],h[3]);if(p){const Y=i.static?.get(S);if(Y)m=Y;else{i.static??=new Map;const T=Dg(n.fullPath??n.from);T.parent=i,T.depth=a,m=T,i.static.set(S,T)}}else{const Y=S.toLowerCase(),T=i.staticInsensitive?.get(Y);if(T)m=T;else{i.staticInsensitive??=new Map;const A=Dg(n.fullPath??n.from);A.parent=i,A.depth=a,m=A,i.staticInsensitive.set(Y,A)}}break}case yc:{const S=u.substring(y,h[1]),Y=u.substring(h[4],_),T=p&&!!(S||Y),A=S?T?S:S.toLowerCase():void 0,P=Y?T?Y:Y.toLowerCase():void 0,C=i.dynamic?.find(W=>W.caseSensitive===T&&W.prefix===A&&W.suffix===P);if(C)m=C;else{const W=ob(yc,n.fullPath??n.from,T,A,P);m=W,W.depth=a,W.parent=i,i.dynamic??=[],i.dynamic.push(W)}break}case Ng:{const S=u.substring(y,h[1]),Y=u.substring(h[4],_),T=p&&!!(S||Y),A=S?T?S:S.toLowerCase():void 0,P=Y?T?Y:Y.toLowerCase():void 0,C=i.optional?.find(W=>W.caseSensitive===T&&W.prefix===A&&W.suffix===P);if(C)m=C;else{const W=ob(Ng,n.fullPath??n.from,T,A,P);m=W,W.parent=i,W.depth=a,i.optional??=[],i.optional.push(W)}break}case vc:{const S=u.substring(y,h[1]),Y=u.substring(h[4],_),T=p&&!!(S||Y),A=S?T?S:S.toLowerCase():void 0,P=Y?T?Y:Y.toLowerCase():void 0,C=ob(vc,n.fullPath??n.from,T,A,P);m=C,C.parent=i,C.depth=a,i.wildcard??=[],i.wildcard.push(C)}}i=m}if((n.path||!n.children)&&!n.isRoot){const h=u.endsWith("/");h||(i.notFound=n),(!i.route||!i.isIndex&&h)&&(i.route=n),i.isIndex||=h}}if(n.children)for(const u of n.children)y_(t,e,u,c,i,a,o)}function ab(t,e){if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function sc(t){if(t.static)for(const e of t.static.values())sc(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())sc(e);if(t.dynamic?.length){t.dynamic.sort(ab);for(const e of t.dynamic)sc(e)}if(t.optional?.length){t.optional.sort(ab);for(const e of t.optional)sc(e)}if(t.wildcard?.length){t.wildcard.sort(ab);for(const e of t.wildcard)sc(e)}}function Dg(t){return{kind:$m,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,isIndex:!1,notFound:null}}function ob(t,e,n,r,i){return{kind:t,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null,caseSensitive:n,prefix:r,suffix:i}}function gM(t,e){const n=Dg("/"),r=new Uint16Array(6);for(const i of t)y_(!1,r,i,1,n,0);sc(n),e.masksTree=n,e.flatCache=Iv(1e3)}function yM(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const r=Zx(t,e.masksTree);return e.flatCache.set(t,r),r}function vM(t,e,n,r,i){t||="/",r||="/";const a=e?`case\0${t}`:t;let o=i.singleCache.get(a);if(!o){o=Dg("/");const c=new Uint16Array(6);y_(e,c,{from:t},1,o,0),i.singleCache.set(a,o)}return Zx(r,o,n)}function _M(t,e,n=!1){const r=n?t:`nofuzz\0${t}`,i=e.matchCache.get(r);if(i!==void 0)return i;t||="/";const a=Zx(t,e.segmentTree,n);return a&&(a.branch=xM(a.route)),e.matchCache.set(r,a),a}function SM(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function bM(t,e=!1,n){const r=Dg(t.fullPath),i=new Uint16Array(6),a={},o={};let c=0;return y_(e,i,t,1,r,0,f=>{if(n?.(f,c),yo(!(f.id in a),`Duplicate routes found with id: ${String(f.id)}`),a[f.id]=f,c!==0&&f.path){const p=SM(f.fullPath);(!o[p]||f.fullPath.endsWith("/"))&&(o[p]=f)}c++}),sc(r),{processedTree:{segmentTree:r,singleCache:Iv(1e3),matchCache:Iv(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:o}}function Zx(t,e,n=!1){const r=t.split("/"),i=wM(t,r,e,n);if(!i)return null;const a=YM(t,r,i),o="**"in i;return o&&(a["**"]=i["**"]),{route:o?i.node.notFound??i.node.route:i.node.route,params:a}}function YM(t,e,n){const r=TM(n.node);let i=null;const a={};for(let o=0,c=0,u=0;c<r.length;o++,c++,u++){const f=r[c],p=e[o],h=u;if(p&&(u+=p.length),f.kind===yc){i??=n.node.fullPath.split("/");const m=i[c],y=f.prefix?.length??0;if(m.charCodeAt(y)===123){const v=f.suffix?.length??0,S=m.substring(y+2,m.length-v-1),Y=p.substring(y,p.length-v);a[S]=decodeURIComponent(Y)}else{const v=m.substring(1);a[v]=decodeURIComponent(p)}}else if(f.kind===Ng){if(n.skipped&1<<c){o--;continue}i??=n.node.fullPath.split("/");const m=i[c],y=f.prefix?.length??0,_=f.suffix?.length??0,v=m.substring(y+3,m.length-_-1),S=f.suffix||f.prefix?p.substring(y,p.length-_):p;S&&(a[v]=decodeURIComponent(S))}else if(f.kind===vc){const m=f,y=t.substring(h+(m.prefix?.length??0),t.length-(m.suffix?.length??0)),_=decodeURIComponent(y);a["*"]=_,a._splat=_;break}}return a}function xM(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function TM(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function wM(t,e,n,r){const i=!Av(e),a=i&&t!=="/",o=e.length-(i?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,f=null,p=null;for(;c.length;){const h=c.pop();let{node:m,index:y,skipped:_,depth:v,statics:S,dynamics:Y,optionals:T}=h;r&&m.notFound&&lb(f,h)&&(f=h);const A=y===o;if(A){if(m.route&&(!a||m.isIndex)&&(lb(p,h)&&(p=h),S===o&&m.isIndex))return p;if(!m.optional&&!m.wildcard)continue}const P=A?void 0:e[y];let C;if(m.wildcard&&lb(u,h))for(const W of m.wildcard){const{prefix:w,suffix:k}=W;if(!(w&&(A||!(W.caseSensitive?P:C??=P.toLowerCase()).startsWith(w)))){if(k){if(A)continue;const M=e.slice(y).join("/").slice(-k.length);if((W.caseSensitive?M:M.toLowerCase())!==k)continue}u={node:W,index:y,skipped:_,depth:v,statics:S,dynamics:Y,optionals:T};break}}if(m.optional){const W=_|1<<v,w=v+1;for(let k=m.optional.length-1;k>=0;k--){const M=m.optional[k];c.push({node:M,index:y,skipped:W,depth:w,statics:S,dynamics:Y,optionals:T})}if(!A)for(let k=m.optional.length-1;k>=0;k--){const M=m.optional[k],{prefix:D,suffix:B}=M;if(D||B){const O=M.caseSensitive?P:C??=P.toLowerCase();if(D&&!O.startsWith(D)||B&&!O.endsWith(B))continue}c.push({node:M,index:y+1,skipped:_,depth:w,statics:S,dynamics:Y,optionals:T+1})}}if(!A&&m.dynamic&&P)for(let W=m.dynamic.length-1;W>=0;W--){const w=m.dynamic[W],{prefix:k,suffix:M}=w;if(k||M){const D=w.caseSensitive?P:C??=P.toLowerCase();if(k&&!D.startsWith(k)||M&&!D.endsWith(M))continue}c.push({node:w,index:y+1,skipped:_,depth:v+1,statics:S,dynamics:Y+1,optionals:T})}if(!A&&m.staticInsensitive){const W=m.staticInsensitive.get(C??=P.toLowerCase());W&&c.push({node:W,index:y+1,skipped:_,depth:v+1,statics:S+1,dynamics:Y,optionals:T})}if(!A&&m.static){const W=m.static.get(P);W&&c.push({node:W,index:y+1,skipped:_,depth:v+1,statics:S+1,dynamics:Y,optionals:T})}}if(p)return p;if(u)return u;if(r&&f){let h=f.index;for(let y=0;y<f.index;y++)h+=e[y].length;const m=h===t.length?"/":t.slice(h);return{node:f.node,skipped:f.skipped,"**":decodeURIComponent(m)}}return null}function lb(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&(e.node.isIndex>t.node.isIndex||e.node.isIndex===t.node.isIndex&&e.depth>t.depth))):!0}function Hy(t){return zx(t.filter(e=>e!==void 0).join("/"))}function zx(t){return t.replace(/\/{2,}/g,"/")}function b5(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function fc(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function Gy(t){return fc(b5(t))}function Xv(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function WM(t,e,n){return Xv(t,n)===Xv(e,n)}function EM({base:t,to:e,trailingSlash:n="never",cache:r}){const i=e.startsWith("/"),a=!i&&e===".";let o;if(r){o=i?e:a?t:t+"\0"+e;const h=r.get(o);if(h)return h}let c;if(a)c=t.split("/");else if(i)c=e.split("/");else{for(c=t.split("/");c.length>1&&Av(c)==="";)c.pop();const h=e.split("/");for(let m=0,y=h.length;m<y;m++){const _=h[m];_===""?m?m===y-1&&c.push(_):c=[_]:_===".."?c.pop():_==="."||c.push(_)}}c.length>1&&(Av(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let u,f="";for(let h=0;h<c.length;h++){h>0&&(f+="/");const m=c[h];if(!m)continue;u=Lx(m,0,u);const y=u[0];if(y===$m){f+=m;continue}const _=u[5],v=m.substring(0,u[1]),S=m.substring(u[4],_),Y=m.substring(u[2],u[3]);y===yc?f+=v||S?`${v}{$${Y}}${S}`:`$${Y}`:y===vc?f+=v||S?`${v}{$}${S}`:"$":f+=`${v}{-$${Y}}${S}`}f=zx(f);const p=f||"/";return o&&r&&r.set(o,p),p}function cb(t,e,n){const r=e[t];return typeof r!="string"?r:t==="_splat"?encodeURI(r):UM(r,n)}function ub({path:t,params:e,decodeCharMap:n}){let r=!1;const i={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:i,isMissingParams:r};if(!t.includes("$"))return{interpolatedPath:t,usedParams:i,isMissingParams:r};const a=t.length;let o=0,c,u="";for(;o<a;){const p=o;c=Lx(t,p,c);const h=c[5];if(o=h+1,p===h)continue;const m=c[0];if(m===$m){u+="/"+t.substring(p,h);continue}if(m===vc){const y=e._splat;i._splat=y,i["*"]=y;const _=t.substring(p,c[1]),v=t.substring(c[4],h);if(!y){r=!0,(_||v)&&(u+="/"+_+v);continue}const S=cb("_splat",e,n);u+="/"+_+S+v;continue}if(m===yc){const y=t.substring(c[2],c[3]);!r&&!(y in e)&&(r=!0),i[y]=e[y];const _=t.substring(p,c[1]),v=t.substring(c[4],h),S=cb(y,e,n)??"undefined";u+="/"+_+S+v;continue}if(m===Ng){const y=t.substring(c[2],c[3]),_=e[y];if(_==null)continue;i[y]=_;const v=t.substring(p,c[1]),S=t.substring(c[4],h),Y=cb(y,e,n)??"";u+="/"+v+Y+S;continue}}return t.endsWith("/")&&(u+="/"),{usedParams:i,interpolatedPath:u||"/",isMissingParams:r}}function UM(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function Ls(t){return!!t?.isNotFound}function CM(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Rv="tsr-scroll-restoration-v1_3",AM=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}};function kM(){const t=CM();if(!t)return null;const e=t.getItem(Rv);let n=e?JSON.parse(e):{};return{state:n,set:r=>(n=cc(r,n)||n,t.setItem(Rv,JSON.stringify(n)))}}const Yy=kM(),EY=t=>t.state.__TSR_key||t.href;function IM(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Pv=!1;function Y5({storageKey:t,key:e,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:i,location:a}){let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(f){console.error(f);return}const c=e||window.history.state?.__TSR_key,u=o[c];Pv=!0;e:{if(r&&u&&Object.keys(u).length>0){for(const h in u){const m=u[h];if(h==="window")window.scrollTo({top:m.scrollY,left:m.scrollX,behavior:n});else if(h){const y=document.querySelector(h);y&&(y.scrollLeft=m.scrollX,y.scrollTop=m.scrollY)}}break e}const f=(a??window.location).hash.split("#",2)[1];if(f){const h=window.history.state?.__hashScrollIntoViewOptions??!0;if(h){const m=document.getElementById(f);m&&m.scrollIntoView(h)}break e}const p={top:0,left:0,behavior:n};if(window.scrollTo(p),i)for(const h of i){if(h==="window")continue;const m=typeof h=="function"?h():document.querySelector(h);m&&m.scrollTo(p)}}Pv=!1}function XM(t,e){if(!Yy&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Yy))return;t.isScrollRestorationSetup=!0,Pv=!1;const r=t.options.getScrollRestorationKey||EY;window.history.scrollRestoration="manual";const i=a=>{if(Pv||!t.isScrollRestoring)return;let o="";if(a.target===document||a.target===window)o="window";else{const u=a.target.getAttribute("data-scroll-restoration-id");u?o=`[data-scroll-restoration-id="${u}"]`:o=IM(a.target)}const c=r(t.state.location);Yy.set(u=>{const f=u[c]||={},p=f[o]||={};if(o==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(o){const h=document.querySelector(o);h&&(p.scrollX=h.scrollLeft||0,p.scrollY=h.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",AM(i,100),!0),t.subscribe("onRendered",a=>{const o=r(a.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Y5({storageKey:Rv,key:o,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Yy.set(c=>(c[o]||={},c)))})}function RM(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function PM(t,e=String){const n=new URLSearchParams;for(const r in t){const i=t[r];i!==void 0&&n.set(r,e(i))}return n.toString()}function fb(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function MM(t){const e=new URLSearchParams(t),n={};for(const[r,i]of e.entries()){const a=n[r];a==null?n[r]=fb(i):Array.isArray(a)?a.push(fb(i)):n[r]=[a,fb(i)]}return n}const OM=DM(JSON.parse),NM=BM(JSON.stringify,JSON.parse);function DM(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=MM(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function BM(t,e){const n=typeof e=="function";function r(i){if(typeof i=="object"&&i!==null)try{return t(i)}catch{}else if(n&&typeof i=="string")try{return e(i),t(i)}catch{}return i}return i=>{const a=PM(i,r);return a?`?${a}`:""}}const vs="__root__";function VM(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function aa(t){return t instanceof Response&&!!t.options}const qy=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},v_=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),x5=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),yo(n.options.notFoundComponent);const r=t.matches.find(i=>i.routeId===n.id);yo(r,"Could not find match for route: "+n.id),t.updateMatch(r.id,i=>({...i,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,x5(t,e))},ul=(t,e,n)=>{if(!(!aa(n)&&!Ls(n))){if(aa(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const r=aa(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,i=>({...i,status:r,isFetching:!1,error:n})),Ls(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw aa(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(x5(t,n),n)}},T5=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},ag=(t,e,n,r)=>{const{id:i,routeId:a}=t.matches[e],o=t.router.looseRoutesById[a];if(n instanceof Promise)throw n;n.routerCode=r,t.firstBadMatchIndex??=e,ul(t,t.router.getMatch(i),n);try{o.options.onError?.(n)}catch(c){n=c,ul(t,t.router.getMatch(i),n)}t.updateMatch(i,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},FM=(t,e,n,r)=>{const i=t.router.getMatch(e),a=t.matches[n-1]?.id,o=a?t.router.getMatch(a):void 0;if(t.router.isShell()){i.ssr=r.id===vs;return}if(o?.ssr===!1){i.ssr=!1;return}const c=y=>y===!0&&o?.ssr==="data-only"?"data-only":y,u=t.router.options.defaultSsr??!0;if(r.options.ssr===void 0){i.ssr=c(u);return}if(typeof r.options.ssr!="function"){i.ssr=c(r.options.ssr);return}const{search:f,params:p}=i,h={search:xy(f,i.searchError),params:xy(p,i.paramsError),location:t.location,matches:t.matches.map(y=>({index:y.index,pathname:y.pathname,fullPath:y.fullPath,staticData:y.staticData,id:y.id,routeId:y.routeId,search:xy(y.search,y.searchError),params:xy(y.params,y.paramsError),ssr:y.ssr}))},m=r.options.ssr(h);if(gl(m))return m.then(y=>{i.ssr=c(y??u)});i.ssr=c(m??u)},w5=(t,e,n,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;const i=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!v_(t,e)&&(n.options.loader||n.options.beforeLoad||U5(n))&&typeof i=="number"&&i!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const o=setTimeout(()=>{qy(t)},i);r._nonReactive.pendingTimeout=o}},LM=(t,e,n)=>{const r=t.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;w5(t,e,n,r);const i=()=>{const a=t.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&ul(t,a,a.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(i):i()},ZM=(t,e,n,r)=>{const i=t.router.getMatch(e),a=i._nonReactive.loadPromise;i._nonReactive.loadPromise=zm(()=>{a?.resolve()});const{paramsError:o,searchError:c}=i;o&&ag(t,n,o,"PARSE_PARAMS"),c&&ag(t,n,c,"VALIDATE_SEARCH"),w5(t,e,r,i);const u=new AbortController,f=t.matches[n-1]?.id,m={...(f?t.router.getMatch(f):void 0)?.context??t.router.options.context??void 0,...i.__routeContext};let y=!1;const _=()=>{y||(y=!0,t.updateMatch(e,w=>({...w,isFetching:"beforeLoad",fetchCount:w.fetchCount+1,abortController:u,context:m})))},v=()=>{i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,w=>({...w,isFetching:!1}))};if(!r.options.beforeLoad){Cg(()=>{_(),v()});return}i._nonReactive.beforeLoadPromise=zm();const{search:S,params:Y,cause:T}=i,A=v_(t,e),P={search:S,abortController:u,params:Y,preload:A,context:m,location:t.location,navigate:w=>t.router.navigate({...w,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:A?"preload":T,matches:t.matches,...t.router.options.additionalContext},C=w=>{if(w===void 0){Cg(()=>{_(),v()});return}(aa(w)||Ls(w))&&(_(),ag(t,n,w,"BEFORE_LOAD")),Cg(()=>{_(),t.updateMatch(e,k=>({...k,__beforeLoadContext:w,context:{...k.context,...w}})),v()})};let W;try{if(W=r.options.beforeLoad(P),gl(W))return _(),W.catch(w=>{ag(t,n,w,"BEFORE_LOAD")}).then(C)}catch(w){_(),ag(t,n,w,"BEFORE_LOAD")}C(W)},zM=(t,e)=>{const{id:n,routeId:r}=t.matches[e],i=t.router.looseRoutesById[r],a=()=>{if(t.router.isServer){const u=FM(t,n,e,i);if(gl(u))return u.then(c)}return c()},o=()=>ZM(t,n,e,i),c=()=>{if(T5(t,n))return;const u=LM(t,n,i);return gl(u)?u.then(o):o()};return a()},Ag=(t,e,n)=>{const r=t.router.getMatch(e);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const i={matches:t.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([n.options.head?.(i),n.options.scripts?.(i),n.options.headers?.(i)]).then(([a,o,c])=>{const u=a?.meta,f=a?.links,p=a?.scripts,h=a?.styles;return{meta:u,links:f,headScripts:p,headers:c,scripts:o,styles:h}})},W5=(t,e,n,r)=>{const i=t.matchPromises[n-1],{params:a,loaderDeps:o,abortController:c,cause:u}=t.router.getMatch(e);let f=t.router.options.context??{};for(let h=0;h<=n;h++){const m=t.matches[h];if(!m)continue;const y=t.router.getMatch(m.id);y&&(f={...f,...y.__routeContext??{},...y.__beforeLoadContext??{}})}const p=v_(t,e);return{params:a,deps:o,preload:!!p,parentMatchPromise:i,abortController:c,context:f,location:t.location,navigate:h=>t.router.navigate({...h,_fromLocation:t.location}),cause:p?"preload":u,route:r,...t.router.options.additionalContext}},L4=async(t,e,n,r)=>{try{const i=t.router.getMatch(e);try{(!t.router.isServer||i.ssr===!0)&&E5(r);const a=r.options.loader?.(W5(t,e,n,r)),o=r.options.loader&&gl(a);if(!!(o||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||i._nonReactive.minPendingPromise)&&t.updateMatch(e,h=>({...h,isFetching:"loader"})),r.options.loader){const h=o?await a:a;ul(t,t.router.getMatch(e),h),h!==void 0&&t.updateMatch(e,m=>({...m,loaderData:h}))}r._lazyPromise&&await r._lazyPromise;const u=Ag(t,e,r),f=u?await u:void 0,p=i._nonReactive.minPendingPromise;p&&await p,r._componentsPromise&&await r._componentsPromise,t.updateMatch(e,h=>({...h,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...f}))}catch(a){let o=a;const c=i._nonReactive.minPendingPromise;c&&await c,Ls(a)&&await r.options.notFoundComponent?.preload?.(),ul(t,t.router.getMatch(e),a);try{r.options.onError?.(a)}catch(p){o=p,ul(t,t.router.getMatch(e),p)}const u=Ag(t,e,r),f=u?await u:void 0;t.updateMatch(e,p=>({...p,error:o,status:"error",isFetching:!1,...f}))}}catch(i){const a=t.router.getMatch(e);if(a){const o=Ag(t,e,r);if(o){const c=await o;t.updateMatch(e,u=>({...u,...c}))}a._nonReactive.loaderPromise=void 0}ul(t,a,i)}},$M=async(t,e)=>{const{id:n,routeId:r}=t.matches[e];let i=!1,a=!1;const o=t.router.looseRoutesById[r];if(T5(t,n)){if(t.router.isServer){const f=Ag(t,n,o);if(f){const p=await f;t.updateMatch(n,h=>({...h,...p}))}return t.router.getMatch(n)}}else{const f=t.router.getMatch(n);if(f._nonReactive.loaderPromise){if(f.status==="success"&&!t.sync&&!f.preload)return f;await f._nonReactive.loaderPromise;const p=t.router.getMatch(n),h=p._nonReactive.error||p.error;h&&ul(t,p,h)}else{const p=Date.now()-f.updatedAt,h=v_(t,n),m=h?o.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:o.options.staleTime??t.router.options.defaultStaleTime??0,y=o.options.shouldReload,_=typeof y=="function"?y(W5(t,n,e,o)):y,v=!!h&&!t.router.state.matches.some(A=>A.id===n),S=t.router.getMatch(n);S._nonReactive.loaderPromise=zm(),v!==S.preload&&t.updateMatch(n,A=>({...A,preload:v}));const{status:Y,invalid:T}=S;if(i=Y==="success"&&(T||(_??p>m)),!(h&&o.options.preload===!1))if(i&&!t.sync)a=!0,(async()=>{try{await L4(t,n,e,o);const A=t.router.getMatch(n);A._nonReactive.loaderPromise?.resolve(),A._nonReactive.loadPromise?.resolve(),A._nonReactive.loaderPromise=void 0}catch(A){aa(A)&&await t.router.navigate(A.options)}})();else if(Y!=="success"||i&&t.sync)await L4(t,n,e,o);else{const A=Ag(t,n,o);if(A){const P=await A;t.updateMatch(n,C=>({...C,...P}))}}}}const c=t.router.getMatch(n);a||(c._nonReactive.loaderPromise?.resolve(),c._nonReactive.loadPromise?.resolve()),clearTimeout(c._nonReactive.pendingTimeout),c._nonReactive.pendingTimeout=void 0,a||(c._nonReactive.loaderPromise=void 0),c._nonReactive.dehydrated=void 0;const u=a?c.isFetching:!1;return u!==c.isFetching||c.invalid!==!1?(t.updateMatch(n,f=>({...f,isFetching:u,invalid:!1})),t.router.getMatch(n)):c};async function Z4(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&qy(e);try{for(let i=0;i<e.matches.length;i++){const a=zM(e,i);gl(a)&&await a}const n=e.firstBadMatchIndex??e.matches.length;for(let i=0;i<n;i++)e.matchPromises.push($M(e,i));await Promise.all(e.matchPromises);const r=qy(e);gl(r)&&await r}catch(n){if(Ls(n)&&!e.preload){const r=qy(e);throw gl(r)&&await r,n}if(aa(n))throw n}return e.matches}async function E5(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...r}=e.options;Object.assign(t.options,r),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const r of C5){const i=t.options[r]?.preload;i&&n.push(i())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function xy(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function U5(t){for(const e of C5)if(t.options[e]?.preload)return!0;return!1}const C5=["component","errorComponent","pendingComponent","notFoundComponent"];function KM(t){return{input:({url:e})=>{for(const n of t)e=A5(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=k5(t[n],e);return e}}}function jM(t){const e=Gy(t.basepath),n=`/${e}`,r=`${n}/`,i=t.caseSensitive?n:n.toLowerCase(),a=t.caseSensitive?r:r.toLowerCase();return{input:({url:o})=>{const c=t.caseSensitive?o.pathname:o.pathname.toLowerCase();return c===i?o.pathname="/":c.startsWith(a)&&(o.pathname=o.pathname.slice(n.length)),o},output:({url:o})=>(o.pathname=Hy(["/",e,o.pathname]),o)}}function A5(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function k5(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function dc(t){const e=t.resolvedLocation,n=t.location,r=e?.pathname!==n.pathname,i=e?.href!==n.href,a=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:a}}class HM{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,i=this.basepath??r?.basepath??"/",a=this.basepath===void 0,o=r?.rewrite;this.options={...r,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(m=>[encodeURIComponent(m),m])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=lM())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new aM(qM(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(m=>!["redirected"].includes(m.status))}}}),XM(this));let c=!1;const u=this.options.basepath??"/",f=this.options.rewrite;if(a||i!==u||o!==f){this.basepath=u;const m=[];Gy(u)!==""&&m.push(jM({basepath:u})),f&&m.push(f),this.rewrite=m.length===0?void 0:m.length===1?m[0]:KM(m),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,processedTree:i}=bM(this.routeTree,this.options.caseSensitive,(o,c)=>{o.init({originalIndex:c})});this.options.routeMasks&&gM(this.options.routeMasks,i),this.routesById=n,this.routesByPath=r,this.processedTree=i;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({href:u,state:f})=>{const p=new URL(u,this.origin),h=A5(this.rewrite,p),m=this.options.parseSearch(h.search),y=this.options.stringifySearch(m);h.search=y;const _=h.href.replace(h.origin,""),{pathname:v,hash:S}=h;return{href:_,publicHref:u,url:h.href,pathname:F4(v),searchStr:y,search:Vs(r?.search,m),hash:S.split("#").reverse()[0]??"",state:Vs(r?.state,f)}},a=i(n),{__tempLocation:o,__tempKey:c}=a.state;if(o&&(!c||c===this.tempLocationKey)){const u=i(o);return u.state.key=a.state.key,u.state.__TSR_key=a.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:a}}return a},this.resolvePathCache=Iv(1e3),this.resolvePathWithBase=(n,r)=>EM({base:n,to:zx(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=n=>QM({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(a=>a.status==="pending"),r=this.state.matches.filter(a=>a.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...r]).forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=n=>{const r=(a={})=>{const o=a._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutes(o,{_buildLocation:!0}),u=Av(c);a.from;const f=a.unsafeRelative==="path"?o.pathname:a.from??u.fullPath,p=this.resolvePathWithBase(f,"."),h=u.search,m={...u.params},y=a.to?this.resolvePathWithBase(p,`${a.to}`):this.resolvePathWithBase(p,"."),_=a.params===!1||a.params===null?{}:(a.params??!0)===!0?m:Object.assign(m,cc(a.params,m)),v=ub({path:y,params:_}).interpolatedPath,S=this.matchRoutes(v,void 0,{_buildLocation:!0}).map(D=>this.looseRoutesById[D.routeId]);if(Object.keys(_).length>0)for(const D of S){const B=D.options.params?.stringify??D.options.stringifyParams;B&&Object.assign(_,B(_))}const Y=n.leaveParams?y:F4(ub({path:y,params:_,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let T=h;if(n._includeValidateSearch&&this.options.search?.strict){const D={};S.forEach(B=>{if(B.options.validateSearch)try{Object.assign(D,UY(B.options.validateSearch,{...D,...T}))}catch{}}),T=D}T=JM({search:T,dest:a,destRoutes:S,_includeValidateSearch:n._includeValidateSearch}),T=Vs(h,T);const A=this.options.stringifySearch(T),P=a.hash===!0?o.hash:a.hash?cc(a.hash,o.hash):void 0,C=P?`#${P}`:"";let W=a.state===!0?o.state:a.state?cc(a.state,o.state):{};W=Vs(o.state,W);const w=`${Y}${A}${C}`,k=new URL(w,this.origin),M=k5(this.rewrite,k);return{publicHref:M.pathname+M.search+M.hash,href:w,url:M.href,pathname:Y,search:T,searchStr:A,state:W,hash:P??"",unmaskOnReload:a.unmaskOnReload}},i=(a={},o)=>{const c=r(a);let u=o?r(o):void 0;if(!u){const f={};if(this.options.routeMasks){const p=yM(c.pathname,this.processedTree);if(p){Object.assign(f,p.params);const{from:h,...m}=p.route;o={from:n.from,...m,params:f},u=r(o)}}}return u&&(c.maskedLocation=u),c};return n.mask?i(n,{from:n.from,...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const a=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(p=>{i.state[p]=this.latestLocation.state[p]});const f=uc(i.state,this.latestLocation.state);return u.forEach(p=>{delete i.state[p]}),f},o=fc(this.latestLocation.href)===fc(i.href),c=this.commitLocationPromise;if(this.commitLocationPromise=zm(()=>{c?.resolve()}),o&&a())this.load();else{let{maskedLocation:u,hashScrollIntoView:f,...p}=i;u&&(p={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:a,ignoreBlocker:o,href:c,...u}={})=>{if(c){const h=this.history.location.state.__TSR_index,m=Cv(c,{__TSR_index:n?h:h+1});u.to=m.pathname,u.search=this.options.parseSearch(m.search),u.hash=m.hash.slice(1)}const f=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=f;const p=this.commitLocation({...f,viewTransition:a,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o});return Promise.resolve().then(()=>{this.pendingBuiltLocation===f&&(this.pendingBuiltLocation=void 0)}),p},this.navigate=async({to:n,reloadDocument:r,href:i,...a})=>{if(!r&&i)try{new URL(`${i}`),r=!0}catch{}if(r){if(i||(i=this.buildLocation({to:n,...a}).url),!a.ignoreBlocker){const c=this.history.getBlockers?.()??[];for(const u of c)if(u?.blockerFn&&await u.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(i):window.location.href=i,Promise.resolve()}return this.buildAndCommitLocation({...a,href:i,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),i=a=>{try{return encodeURI(decodeURI(a))}catch{return a}};if(Gy(i(this.latestLocation.href))!==Gy(i(r.href))){let a=r.url;throw this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),VM({href:a})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(i=>!n.some(a=>a.id===i.id))}))},this.load=async n=>{let r,i,a;for(a=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const u=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...dc({resolvedLocation:f,location:u})}),this.emit({type:"onBeforeLoad",...dc({resolvedLocation:f,location:u})}),await Z4({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let p=[],h=[],m=[];Cg(()=>{this.__store.setState(y=>{const _=y.matches,v=y.pendingMatches||y.matches;return p=_.filter(S=>!v.some(Y=>Y.id===S.id)),h=v.filter(S=>!_.some(Y=>Y.id===S.id)),m=v.filter(S=>_.some(Y=>Y.id===S.id)),{...y,isLoading:!1,loadedAt:Date.now(),matches:v,pendingMatches:void 0,cachedMatches:[...y.cachedMatches,...p.filter(S=>S.status!=="error"&&S.status!=="notFound")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[h,"onEnter"],[m,"onStay"]].forEach(([y,_])=>{y.forEach(v=>{this.looseRoutesById[v.routeId].options[_]?.(v)})})})})}})}catch(u){aa(u)?(r=u,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Ls(u)&&(i=u),this.__store.setState(f=>({...f,statusCode:r?r.status:i?404:f.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;let o;this.hasNotFoundMatch()?o=404:this.__store.state.matches.some(c=>c.status==="error")&&(o=500),o!==void 0&&this.__store.setState(c=>({...c,statusCode:o}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,o=this.state.resolvedLocation,c=typeof r.types=="function"?r.types(dc({resolvedLocation:o,location:a})):r.types;if(c===!1){n();return}i={update:n,types:c}}else i=n;document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{this.startTransition(()=>{const i=this.state.pendingMatches?.some(a=>a.id===n)?"pendingMatches":this.state.matches.some(a=>a.id===n)?"matches":this.state.cachedMatches.some(a=>a.id===n)?"cachedMatches":"";i&&this.__store.setState(a=>({...a,[i]:a[i]?.map(o=>o.id===n?r(o):o)}))})},this.getMatch=n=>{const r=i=>i.id===n;return this.state.cachedMatches.find(r)??this.state.pendingMatches?.find(r)??this.state.matches.find(r)},this.invalidate=n=>{const r=i=>n?.filter?.(i)??!0?{...i,invalid:!0,...n?.forcePending||i.status==="error"||i.status==="notFound"?{status:"pending",error:void 0}:void 0}:i;return this.__store.setState(i=>({...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:i.pendingMatches?.map(r)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const r=this.buildLocation(n.options);let i=r.url;this.origin&&i.startsWith(this.origin)&&(i=i.replace(this.origin,"")||"/"),n.options.href=r.href,n.headers.set("Location",i)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(a=>!r(a))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const a=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=a};this.clearCache({filter:n})},this.loadRouteChunk=E5,this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),o=new Set([...a,...this.state.cachedMatches.map(c=>c.id)]);Cg(()=>{i.forEach(c=>{o.has(c.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,c]}))})});try{return i=await Z4({router:this,matches:i,location:r,preload:!0,updateMatch:(c,u)=>{a.has(c)?i=i.map(f=>f.id===c?u(f):f):this.updateMatch(c,u)}}),i}catch(c){if(aa(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:r});Ls(c)||console.error(c);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},a=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const c=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=vM(a.pathname,r?.caseSensitive??!1,r?.fuzzy??!1,c.pathname,this.processedTree);return!u||n.params&&!uc(u.params,n.params,{partial:!0})?!1:r?.includeSearch??!0?uc(c.search,a.search,{partial:!0})?u.params:!1:u.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??NM,parseSearch:e.parseSearch??OM}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const r=this.getMatchedRoutes(e.pathname),{foundRoute:i,routeParams:a}=r;let{matchedRoutes:o}=r,c=!1;(i?i.path!=="/"&&a["**"]:fc(e.pathname))&&(this.options.notFoundRoute?o=[...o,this.options.notFoundRoute]:c=!0);const u=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let h=o.length-1;h>=0;h--){const m=o[h];if(m.children)return m.id}return vs}})(),f=[],p=h=>h?.id?h.context??this.options.context??void 0:this.options.context??void 0;return o.forEach((h,m)=>{const y=f[m-1],[_,v,S]=(()=>{const V=y?.search??e.search,X=y?._strictSearch??void 0;try{const j=UY(h.options.validateSearch,{...V})??void 0;return[{...V,...j},{...X,...j},void 0]}catch(j){let $=j;if(j instanceof Mv||($=new Mv(j.message,{cause:j})),n?.throwOnError)throw $;return[V,{},$]}})(),Y=h.options.loaderDeps?.({search:_})??"",T=Y?JSON.stringify(Y):"",{interpolatedPath:A,usedParams:P}=ub({path:h.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),C=h.id+A+T,W=this.getMatch(C),w=this.state.matches.find(V=>V.routeId===h.id),k=W?._strictParams??P;let M;if(!W){const V=h.options.params?.parse??h.options.parseParams;if(V)try{Object.assign(k,V(k))}catch(X){if(Ls(X)||aa(X)?M=X:M=new GM(X.message,{cause:X}),n?.throwOnError)throw M}}Object.assign(a,k);const D=w?"stay":"enter";let B;if(W)B={...W,cause:D,params:w?Vs(w.params,a):a,_strictParams:k,search:Vs(w?w.search:W.search,_),_strictSearch:v};else{const V=h.options.loader||h.options.beforeLoad||h.lazyFn||U5(h)?"pending":"success";B={id:C,ssr:this.isServer?void 0:h.options.ssr,index:m,routeId:h.id,params:w?Vs(w.params,a):a,_strictParams:k,pathname:A,updatedAt:Date.now(),search:w?Vs(w.search,_):_,_strictSearch:v,searchError:void 0,status:V,isFetching:!1,error:void 0,paramsError:M,__routeContext:void 0,_nonReactive:{loadPromise:zm()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:w?Vs(w.loaderDeps,Y):Y,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}n?.preload||(B.globalNotFound=u===h.id),B.searchError=S;const O=p(y);B.context={...O,...B.__routeContext,...B.__beforeLoadContext},f.push(B)}),f.forEach((h,m)=>{const y=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const v=f[m-1],S=p(v);if(y.options.context){const Y={deps:h.loaderDeps,params:h.params,context:S??{},location:e,navigate:T=>this.navigate({...T,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:f};h.__routeContext=y.options.context(Y)??void 0}h.context={...S,...h.__routeContext,...h.__beforeLoadContext}}}),f}}class Mv extends Error{}class GM extends Error{}function qM(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function UY(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Mv("Async validation not supported");if(n.issues)throw new Mv(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function QM({pathname:t,routesById:e,processedTree:n}){const r={},i=fc(t);let a;const o=_M(i,n,!0);return o&&(a=o.route,Object.assign(r,o.params)),{matchedRoutes:o?.branch||[e[vs]],routeParams:r,foundRoute:a}}function JM({search:t,dest:e,destRoutes:n,_includeValidateSearch:r}){const i=n.reduce((c,u)=>{const f=[];if("search"in u.options)u.options.search?.middlewares&&f.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const p=({search:h,next:m})=>{let y=h;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(y=u.options.preSearchFilters.reduce((v,S)=>S(v),h));const _=m(y);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((v,S)=>S(v),_):_};f.push(p)}if(r&&u.options.validateSearch){const p=({search:h,next:m})=>{const y=m(h);try{return{...y,...UY(u.options.validateSearch,y)??void 0}}catch{return y}};f.push(p)}return c.concat(f)},[])??[],a=({search:c})=>e.search?e.search===!0?c:cc(e.search,c):{};i.push(a);const o=(c,u)=>{if(c>=i.length)return u;const f=i[c];return f({search:u,next:h=>o(c+1,h)})};return o(0,t)}const eO="Error preloading route! ";class I5{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const r=this.options,i=!r?.path&&!r?.id;this.parentRoute=this.options.getParentRoute?.(),i?this._path=vs:this.parentRoute||yo(!1);let a=i?vs:r?.path;a&&a!=="/"&&(a=b5(a));const o=r?.id||a;let c=i?vs:Hy([this.parentRoute.id===vs?"":this.parentRoute.id,o]);a===vs&&(a="/"),c!==vs&&(c=Hy(["/",c]));const u=c===vs?"/":Hy([this.parentRoute.fullPath,a]);this._path=a,this._id=c,this._fullPath=u,this._to=u},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class tO extends I5{constructor(e){super(e)}}var z=u0();const gt=xo(z),$x=zP({__proto__:null,default:gt},[z]);function Kx(t){const e=t.errorComponent??__;return I.jsx(nO,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?z.createElement(e,{error:n,reset:r}):t.children})}class nO extends z.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function __({error:t}){const[e,n]=z.useState(!1);return I.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[I.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),I.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),I.jsx("div",{style:{height:".25rem"}}),e?I.jsx("div",{children:I.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?I.jsx("code",{children:t.message}):null})}):null]})}function rO({children:t,fallback:e=null}){return iO()?I.jsx(gt.Fragment,{children:t}):I.jsx(gt.Fragment,{children:e})}function iO(){return gt.useSyncExternalStore(sO,()=>!0,()=>!1)}function sO(){return()=>{}}var db={exports:{}},hb={},pb={exports:{}},mb={};var z4;function aO(){if(z4)return mb;z4=1;var t=u0();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(h,m){var y=m(),_=r({inst:{value:y,getSnapshot:m}}),v=_[0].inst,S=_[1];return a(function(){v.value=y,v.getSnapshot=m,u(v)&&S({inst:v})},[h,y,m]),i(function(){return u(v)&&S({inst:v}),h(function(){u(v)&&S({inst:v})})},[h]),o(y),y}function u(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!n(h,y)}catch{return!0}}function f(h,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return mb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,mb}var $4;function oO(){return $4||($4=1,pb.exports=aO()),pb.exports}var K4;function lO(){if(K4)return hb;K4=1;var t=u0(),e=oO();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return hb.useSyncExternalStoreWithSelector=function(f,p,h,m,y){var _=a(null);if(_.current===null){var v={hasValue:!1,value:null};_.current=v}else v=_.current;_=c(function(){function Y(W){if(!T){if(T=!0,A=W,W=m(W),y!==void 0&&v.hasValue){var w=v.value;if(y(w,W))return P=w}return P=W}if(w=P,r(A,W))return w;var k=m(W);return y!==void 0&&y(w,k)?(A=W,w):(A=W,P=k)}var T=!1,A,P,C=h===void 0?null:h;return[function(){return Y(p())},C===null?void 0:function(){return Y(C())}]},[p,h,m,y]);var S=i(f,_[0],_[1]);return o(function(){v.hasValue=!0,v.value=S},[S]),u(S),S},hb}var j4;function cO(){return j4||(j4=1,db.exports=lO()),db.exports}var uO=cO();function fO(t,e=r=>r,n={}){const r=n.equal??dO;return uO.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,r)}function dO(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=H4(t);if(n.length!==H4(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function H4(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const gb=z.createContext(null);function X5(){return typeof document>"u"?gb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=gb,gb)}function Ts(t){const e=z.useContext(X5());return t?.warn,e}function Vi(t){const e=Ts({warn:t?.router===void 0}),n=t?.router||e,r=z.useRef(void 0);return fO(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const a=Vs(r.current,t.select(i));return r.current=a,a}return t.select(i)}return i})}const S_=z.createContext(void 0),hO=z.createContext(void 0);function Ca(t){const e=z.useContext(t.from?hO:S_);return Vi({select:r=>{const i=r.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(yo(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function jx(t){return Ca({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Hx(t){const{select:e,...n}=t;return Ca({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Gx(t){return Ca({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function qx(t){return Ca({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}const Ty=typeof window<"u"?z.useLayoutEffect:z.useEffect;function yb(t){const e=z.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function pO(t,e,n={},r={}){z.useEffect(()=>{if(!t.current||r.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([a])=>{e(a)},n);return i.observe(t.current),()=>{i.disconnect()}},[e,n,r.disabled,t])}function mO(t){const e=z.useRef(null);return z.useImperativeHandle(t,()=>e.current,[]),e}function Qx(t){const e=Ts();return z.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var b_=v5();const R5=xo(b_);function gO(t,e){const n=Ts(),[r,i]=z.useState(!1),a=z.useRef(!1),o=mO(e),{activeProps:c,inactiveProps:u,activeOptions:f,to:p,preload:h,preloadDelay:m,hashScrollIntoView:y,replace:_,startTransition:v,resetScroll:S,viewTransition:Y,children:T,target:A,disabled:P,style:C,className:W,onClick:w,onFocus:k,onMouseEnter:M,onMouseLeave:D,onTouchStart:B,ignoreBlocker:O,params:V,search:X,hash:j,state:$,mask:q,reloadDocument:G,unsafeRelative:Q,from:ue,_fromLocation:K,...ee}=t,fe=Vi({select:we=>we.location.search,structuralSharing:!0}),te=t.from,ie=z.useMemo(()=>({...t,from:te}),[n,fe,te,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),le=z.useMemo(()=>n.buildLocation({...ie}),[n,ie]),he=z.useMemo(()=>{if(P)return;let we=le.maskedLocation?le.maskedLocation.url:le.url,et=!1;return n.origin&&(we.startsWith(n.origin)?we=n.history.createHref(we.replace(n.origin,""))||"/":et=!0),{href:we,external:et}},[P,le.maskedLocation,le.url,n.origin,n.history]),me=z.useMemo(()=>{if(he?.external)return he.href;try{return new URL(p),p}catch{}},[p,he]),Se=t.reloadDocument||me?!1:h??n.options.defaultPreload,Je=m??n.options.defaultPreloadDelay??0,$e=Vi({select:we=>{if(me)return!1;if(f?.exact){if(!WM(we.location.pathname,le.pathname,n.basepath))return!1}else{const et=Xv(we.location.pathname,n.basepath),Le=Xv(le.pathname,n.basepath);if(!(et.startsWith(Le)&&(et.length===Le.length||et[Le.length]==="/")))return!1}return(f?.includeSearch??!0)&&!uc(we.location.search,le.search,{partial:!f?.exact,ignoreUndefined:!f?.explicitUndefined})?!1:f?.includeHash?we.location.hash===le.hash:!0}}),We=z.useCallback(()=>{n.preloadRoute({...ie}).catch(we=>{console.warn(we),console.warn(eO)})},[n,ie]),Ze=z.useCallback(we=>{we?.isIntersecting&&We()},[We]);pO(o,Ze,bO,{disabled:!!P||Se!=="viewport"}),z.useEffect(()=>{a.current||!P&&Se==="render"&&(We(),a.current=!0)},[P,We,Se]);const F=we=>{const et=we.currentTarget.getAttribute("target"),Le=A!==void 0?A:et;if(!P&&!YO(we)&&!we.defaultPrevented&&(!Le||Le==="_self")&&we.button===0){we.preventDefault(),b_.flushSync(()=>{i(!0)});const nt=n.subscribe("onResolved",()=>{nt(),i(!1)});n.navigate({...ie,replace:_,resetScroll:S,hashScrollIntoView:y,startTransition:v,viewTransition:Y,ignoreBlocker:O})}};if(me)return{...ee,ref:o,href:me,...T&&{children:T},...A&&{target:A},...P&&{disabled:P},...C&&{style:C},...W&&{className:W},...w&&{onClick:w},...k&&{onFocus:k},...M&&{onMouseEnter:M},...D&&{onMouseLeave:D},...B&&{onTouchStart:B}};const ke=we=>{P||Se&&We()},Ye=ke,ce=we=>{if(!(P||!Se))if(!Je)We();else{const et=we.target;if(og.has(et))return;const Le=setTimeout(()=>{og.delete(et),We()},Je);og.set(et,Le)}},se=we=>{if(P||!Se||!Je)return;const et=we.target,Le=og.get(et);Le&&(clearTimeout(Le),og.delete(et))},pe=$e?cc(c,{})??yO:vb,Me=$e?vb:cc(u,{})??vb,Ae=[W,pe.className,Me.className].filter(Boolean).join(" "),ge=(C||pe.style||Me.style)&&{...C,...pe.style,...Me.style};return{...ee,...pe,...Me,href:he?.href,ref:o,onClick:lg([w,F]),onFocus:lg([k,ke]),onMouseEnter:lg([M,ce]),onMouseLeave:lg([D,se]),onTouchStart:lg([B,Ye]),disabled:!!P,target:A,...ge&&{style:ge},...Ae&&{className:Ae},...P&&vO,...$e&&_O,...r&&SO}}const vb={},yO={className:"active"},vO={role:"link","aria-disabled":!0},_O={"data-status":"active","aria-current":"page"},SO={"data-transitioning":"transitioning"},og=new WeakMap,bO={rootMargin:"100px"},lg=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},Ov=z.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:a,...o}=gO(r,e),c=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return n===void 0&&delete o.disabled,z.createElement(n||"a",{...o,ref:a},c)});function YO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let xO=class extends I5{constructor(e){super(e),this.useMatch=n=>Ca({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ca({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>qx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Gx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Hx({...n,from:this.id}),this.useLoaderData=n=>jx({...n,from:this.id}),this.useNavigate=()=>Qx({from:this.fullPath}),this.Link=gt.forwardRef((n,r)=>I.jsx(Ov,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function TO(t){return new xO(t)}function wO(){return t=>EO(t)}class WO extends tO{constructor(e){super(e),this.useMatch=n=>Ca({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ca({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>qx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Gx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Hx({...n,from:this.id}),this.useLoaderData=n=>jx({...n,from:this.id}),this.useNavigate=()=>Qx({from:this.fullPath}),this.Link=gt.forwardRef((n,r)=>I.jsx(Ov,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function EO(t){return new WO(t)}function CY(t){return typeof t=="object"?new G4(t,{silent:!0}).createRoute(t):new G4(t,{silent:!0}).createRoute}class G4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=TO(r);return i.isRoot=!1,i},this.silent=n?.silent}}class q4{constructor(e){this.useMatch=n=>Ca({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ca({from:this.options.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>qx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>Gx({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Hx({...n,from:this.options.id}),this.useLoaderData=n=>jx({...n,from:this.options.id}),this.useNavigate=()=>{const n=Ts();return Qx({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function Q4(t){return typeof t=="object"?new q4(t):e=>new q4({id:t,...e})}function UO(t,e){let n,r,i,a;const o=()=>(n||(n=t().then(u=>{n=void 0,r=u[e]}).catch(u=>{if(i=u,fM(i)&&i instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const f=`tanstack_router_reload:${i.message}`;sessionStorage.getItem(f)||(sessionStorage.setItem(f,"1"),a=!0)}})),n),c=function(f){if(a)throw window.location.reload(),new Promise(()=>{});if(i)throw i;if(!r)throw o();return z.createElement(r,f)};return c.preload=o,c}function CO(){const t=Ts(),e=z.useRef({router:t,mounted:!1}),[n,r]=z.useState(!1),{hasPendingMatches:i,isLoading:a}=Vi({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(m=>m.status==="pending")}),structuralSharing:!0}),o=yb(a),c=a||n||i,u=yb(c),f=a||i,p=yb(f);return t.startTransition=h=>{r(!0),z.startTransition(()=>{h(),r(!1)})},z.useEffect(()=>{const h=t.history.subscribe(t.load),m=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return fc(t.latestLocation.href)!==fc(m.href)&&t.commitLocation({...m,replace:!0}),()=>{h()}},[t,t.history]),Ty(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(m){console.error(m)}})()},[t]),Ty(()=>{o&&!a&&t.emit({type:"onLoad",...dc(t.state)})},[o,t,a]),Ty(()=>{p&&!f&&t.emit({type:"onBeforeRouteMount",...dc(t.state)})},[f,p,t]),Ty(()=>{if(u&&!c){const h=dc(t.state);t.emit({type:"onResolved",...h}),t.__store.setState(m=>({...m,status:"idle",resolvedLocation:m.location})),h.hrefChanged&&RM(t)}},[c,u,t]),null}function AO(t){const e=Vi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return I.jsx(Kx,{getResetKey:()=>e,onCatch:(n,r)=>{if(Ls(n))t.onCatch?.(n,r);else throw n},errorComponent:({error:n})=>{if(Ls(n))return t.fallback?.(n);throw n},children:t.children})}function kO(){return I.jsx("p",{children:"Not Found"})}function vu(t){return I.jsx(I.Fragment,{children:t.children})}function P5(t,e,n){return e.options.notFoundComponent?I.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?I.jsx(t.options.defaultNotFoundComponent,{...n}):I.jsx(kO,{})}function IO({children:t}){const e=Ts();return e.isServer?I.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:t+';typeof $_TSR !== "undefined" && $_TSR.c()'}}):null}function XO(){const t=Ts();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||EY)(t.latestLocation),r=n!==EY(t.latestLocation)?n:void 0,i={storageKey:Rv,shouldScrollRestoration:!0};return r&&(i.key=r),I.jsx(IO,{children:`(${Y5.toString()})(${JSON.stringify(i)})`})}const M5=z.memo(function({matchId:e}){const n=Ts(),r=Vi({select:Y=>{const T=Y.matches.find(A=>A.id===e);return yo(T),{routeId:T.routeId,ssr:T.ssr,_displayPending:T._displayPending}},structuralSharing:!0}),i=n.routesById[r.routeId],a=i.options.pendingComponent??n.options.defaultPendingComponent,o=a?I.jsx(a,{}):null,c=i.options.errorComponent??n.options.defaultErrorComponent,u=i.options.onCatch??n.options.defaultOnCatch,f=i.isRoot?i.options.notFoundComponent??n.options.notFoundRoute?.options.component:i.options.notFoundComponent,p=r.ssr===!1||r.ssr==="data-only",h=(!i.isRoot||i.options.wrapInSuspense||p)&&(i.options.wrapInSuspense??a??(i.options.errorComponent?.preload||p))?z.Suspense:vu,m=c?Kx:vu,y=f?AO:vu,_=Vi({select:Y=>Y.loadedAt}),v=Vi({select:Y=>{const T=Y.matches.findIndex(A=>A.id===e);return Y.matches[T-1]?.routeId}}),S=i.isRoot?i.options.shellComponent??vu:vu;return I.jsxs(S,{children:[I.jsx(S_.Provider,{value:e,children:I.jsx(h,{fallback:o,children:I.jsx(m,{getResetKey:()=>_,errorComponent:c||__,onCatch:(Y,T)=>{if(Ls(Y))throw Y;u?.(Y,T)},children:I.jsx(y,{fallback:Y=>{if(!f||Y.routeId&&Y.routeId!==r.routeId||!Y.routeId&&!i.isRoot)throw Y;return z.createElement(f,Y)},children:p||r._displayPending?I.jsx(rO,{fallback:o,children:I.jsx(J4,{matchId:e})}):I.jsx(J4,{matchId:e})})})})}),v===vs&&n.options.scrollRestoration?I.jsxs(I.Fragment,{children:[I.jsx(RO,{}),I.jsx(XO,{})]}):null]})});function RO(){const t=Ts(),e=z.useRef(void 0);return I.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...dc(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const J4=z.memo(function({matchId:e}){const n=Ts(),{match:r,key:i,routeId:a}=Vi({select:u=>{const f=u.matches.find(_=>_.id===e),p=f.routeId,m=(n.routesById[p].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:p,loaderDeps:f.loaderDeps,params:f._strictParams,search:f._strictSearch});return{key:m?JSON.stringify(m):void 0,routeId:p,match:{id:f.id,status:f.status,error:f.error,_forcePending:f._forcePending,_displayPending:f._displayPending}}},structuralSharing:!0}),o=n.routesById[a],c=z.useMemo(()=>{const u=o.options.component??n.options.defaultComponent;return u?I.jsx(u,{},i):I.jsx(O5,{})},[i,o.options.component,n.options.defaultComponent]);if(r._displayPending)throw n.getMatch(r.id)?._nonReactive.displayPendingPromise;if(r._forcePending)throw n.getMatch(r.id)?._nonReactive.minPendingPromise;if(r.status==="pending"){const u=o.options.pendingMinMs??n.options.defaultPendingMinMs;if(u){const f=n.getMatch(r.id);if(f&&!f._nonReactive.minPendingPromise&&!n.isServer){const p=zm();f._nonReactive.minPendingPromise=p,setTimeout(()=>{p.resolve(),f._nonReactive.minPendingPromise=void 0},u)}}throw n.getMatch(r.id)?._nonReactive.loadPromise}if(r.status==="notFound")return yo(Ls(r.error)),P5(n,o,r.error);if(r.status==="redirected")throw yo(aa(r.error)),n.getMatch(r.id)?._nonReactive.loadPromise;if(r.status==="error"){if(n.isServer){const u=(o.options.errorComponent??n.options.defaultErrorComponent)||__;return I.jsx(u,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return c}),O5=z.memo(function(){const e=Ts(),n=z.useContext(S_),r=Vi({select:f=>f.matches.find(p=>p.id===n)?.routeId}),i=e.routesById[r],a=Vi({select:f=>{const h=f.matches.find(m=>m.id===n);return yo(h),h.globalNotFound}}),o=Vi({select:f=>{const p=f.matches,h=p.findIndex(m=>m.id===n);return p[h+1]?.id}}),c=e.options.defaultPendingComponent?I.jsx(e.options.defaultPendingComponent,{}):null;if(a)return P5(e,i,void 0);if(!o)return null;const u=I.jsx(M5,{matchId:o});return r===vs?I.jsx(z.Suspense,{fallback:c,children:u}):u});function PO(){const t=Ts(),n=t.routesById[vs].options.pendingComponent??t.options.defaultPendingComponent,r=n?I.jsx(n,{}):null,i=t.isServer||typeof document<"u"&&t.ssr?vu:z.Suspense,a=I.jsxs(i,{fallback:r,children:[!t.isServer&&I.jsx(CO,{}),I.jsx(MO,{})]});return t.options.InnerWrap?I.jsx(t.options.InnerWrap,{children:a}):a}function MO(){const t=Ts(),e=Vi({select:i=>i.matches[0]?.id}),n=Vi({select:i=>i.loadedAt}),r=e?I.jsx(M5,{matchId:e}):null;return I.jsx(S_.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?r:I.jsx(Kx,{getResetKey:()=>n,errorComponent:__,onCatch:i=>{i.message||i.toString()},children:r})})}function OO(t){return Vi({select:e=>e.matches,structuralSharing:t?.structuralSharing})}const NO=t=>new DO(t);class DO extends HM{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=CY,globalThis.createLazyFileRoute=Q4):typeof window<"u"&&(window.createFileRoute=CY,window.createLazyFileRoute=Q4);function BO({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=X5(),i=I.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?I.jsx(t.options.Wrap,{children:i}):i}function VO({router:t,...e}){return I.jsx(BO,{router:t,...e,children:I.jsx(PO,{})})}var _b={exports:{}},Sb={};var eE;function FO(){if(eE)return Sb;eE=1;var t=u0().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Sb.c=function(e){return t.H.useMemoCache(e)},Sb}var tE;function LO(){return tE||(tE=1,_b.exports=FO()),_b.exports}var Tt=LO(),Y_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZO={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zO=class{#e=ZO;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},AY=new zO;function $O(t){setTimeout(t,0)}var x_=typeof window>"u"||"Deno"in globalThis;function ra(){}function KO(t,e){return typeof t=="function"?t(e):t}function jO(t){return typeof t=="number"&&t>=0&&t!==1/0}function HO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kY(t,e){return typeof t=="function"?t(e):t}function GO(t,e){return typeof t=="function"?t(e):t}function nE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==Jx(o,e.options))return!1}else if(!Vg(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function rE(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Bg(e.options.mutationKey)!==Bg(a))return!1}else if(!Vg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Jx(t,e){return(e?.queryKeyHashFn||Bg)(t)}function Bg(t){return JSON.stringify(t,(e,n)=>IY(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vg(t[n],e[n])):!1}var qO=Object.prototype.hasOwnProperty;function N5(t,e){if(t===e)return t;const n=iE(t)&&iE(e);if(!n&&!(IY(t)&&IY(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let u=0;for(let f=0;f<o;f++){const p=n?f:a[f],h=t[p],m=e[p];if(h===m){c[p]=h,(n?f<i:qO.call(t,p))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[p]=m;continue}const y=N5(h,m);c[p]=y,y===h&&u++}return i===o&&u===i?t:c}function iE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function IY(t){if(!sE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sE(t){return Object.prototype.toString.call(t)==="[object Object]"}function QO(t){return new Promise(e=>{AY.setTimeout(e,t)})}function JO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N5(t,e):e}function e7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function t7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var eT=Symbol();function D5(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===eT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var n7=class extends Y_{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!x_&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},B5=new n7;function r7(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var i7=$O;function s7(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=i7;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Bi=s7(),a7=class extends Y_{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!x_&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Nv=new a7;function o7(t){return Math.min(1e3*2**t,3e4)}function V5(t){return(t??"online")==="online"?Nv.isOnline():!0}var XY=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function F5(t){let e=!1,n=0,r;const i=r7(),a=()=>i.status!=="pending",o=v=>{if(!a()){const S=new XY(v);m(S),t.onCancel?.(S)}},c=()=>{e=!0},u=()=>{e=!1},f=()=>B5.isFocused()&&(t.networkMode==="always"||Nv.isOnline())&&t.canRun(),p=()=>V5(t.networkMode)&&t.canRun(),h=v=>{a()||(r?.(),i.resolve(v))},m=v=>{a()||(r?.(),i.reject(v))},y=()=>new Promise(v=>{r=S=>{(a()||f())&&v(S)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),_=()=>{if(a())return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(Y){v=Promise.reject(Y)}Promise.resolve(v).then(h).catch(Y=>{if(a())return;const T=t.retry??(x_?0:3),A=t.retryDelay??o7,P=typeof A=="function"?A(n,Y):A,C=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,Y);if(e||!C){m(Y);return}n++,t.onFail?.(n,Y),QO(P).then(()=>f()?void 0:y()).then(()=>{e?m(Y):_()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?_():y().then(_),i)}}var L5=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jO(this.gcTime)&&(this.#e=AY.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(x_?1/0:300*1e3))}clearGcTimeout(){this.#e&&(AY.clearTimeout(this.#e),this.#e=void 0)}},l7=class extends L5{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=oE(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=oE(this.options);e.data!==void 0&&(this.setState(aE(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=JO(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>GO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>kY(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const c=D5(this.options,e),f=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(c,f,this):c(f)},o=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=F5({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof XY&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof XY){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#s({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c7(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...aE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Bi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function c7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aE(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function oE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function lE(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let p=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},m=D5(e.options,e.fetchOptions),y=async(_,v,S)=>{if(p)return Promise.reject();if(v==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:v,direction:S?"backward":"forward",meta:e.options.meta};return h(W),W})(),A=await m(T),{maxPages:P}=e.options,C=S?t7:e7;return{pages:C(_.pages,A,P),pageParams:C(_.pageParams,v,P)}};if(i&&a.length){const _=i==="backward",v=_?u7:cE,S={pages:a,pageParams:o},Y=v(r,S);c=await y(S,Y,_)}else{const _=t??a.length;do{const v=u===0?o[0]??r.initialPageParam:cE(r,c);if(u>0&&v==null)break;c=await y(c,v),u++}while(u<_)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function cE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function u7(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var f7=class extends L5{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||d7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=F5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Bi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function d7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var h7=class extends Y_{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new f7({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=wy(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=wy(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=wy(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=wy(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Bi.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>rE(e,n))}findAll(t={}){return this.getAll().filter(e=>rE(t,e))}notify(t){Bi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Bi.batch(()=>Promise.all(t.map(e=>e.continue().catch(ra))))}};function wy(t){return t.options.scope?.id}var p7=class extends Y_{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Jx(r,e);let a=this.get(i);return a||(a=new l7({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>nE(t,n)):e}notify(t){Bi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Bi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},m7=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new p7,this.#t=t.mutationCache||new h7,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=B5.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kY(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=KO(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bi.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Bi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Bi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bi.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ra).catch(ra)}invalidateQueries(t,e={}){return Bi.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bi.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ra)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ra)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(kY(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ra).catch(ra)}fetchInfiniteQuery(t){return t.behavior=lE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ra).catch(ra)}ensureInfiniteQueryData(t){return t.behavior=lE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Bg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Vg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Bg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Vg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===eT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g7=z.createContext(void 0),y7=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),I.jsx(g7.Provider,{value:t,children:e}));function v7(){return{queryClient:new m7}}function _7(t){const e=Tt.c(3),{children:n,queryClient:r}=t;let i;return e[0]!==n||e[1]!==r?(i=I.jsx(y7,{client:r,children:n}),e[0]=n,e[1]=r,e[2]=i):i=e[2],i}function uE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Al(...t){return e=>{let n=!1;const r=t.map(i=>{const a=uE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():uE(t[i],null)}}}}function Dr(...t){return z.useCallback(Al(...t),t)}var S7=Symbol.for("react.lazy"),Dv=$x[" use ".trim().toString()];function b7(t){return typeof t=="object"&&t!==null&&"then"in t}function Z5(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===S7&&"_payload"in t&&b7(t._payload)}function tT(t){const e=Y7(t),n=z.forwardRef((r,i)=>{let{children:a,...o}=r;Z5(a)&&typeof Dv=="function"&&(a=Dv(a._payload));const c=z.Children.toArray(a),u=c.find(T7);if(u){const f=u.props.children,p=c.map(h=>h===u?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return I.jsx(e,{...o,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,p):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var s1=tT("Slot");function Y7(t){const e=z.forwardRef((n,r)=>{let{children:i,...a}=n;if(Z5(i)&&typeof Dv=="function"&&(i=Dv(i._payload)),z.isValidElement(i)){const o=W7(i),c=w7(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Al(r,o):o),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var x7=Symbol("radix.slottable");function T7(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===x7}function w7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function W7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function z5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=z5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $5(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=z5(t))&&(r&&(r+=" "),r+=e);return r}const fE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dE=$5,K5=(t,e)=>n=>{var r;if(e?.variants==null)return dE(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(f=>{const p=n?.[f],h=a?.[f];if(p===null)return null;const m=fE(p)||fE(h);return i[f][m]}),c=n&&Object.entries(n).reduce((f,p)=>{let[h,m]=p;return m===void 0||(f[h]=m),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:h,className:m,...y}=p;return Object.entries(y).every(_=>{let[v,S]=_;return Array.isArray(S)?S.includes({...a,...c}[v]):{...a,...c}[v]===S})?[...f,h,m]:f},[]);return dE(t,o,u,n?.class,n?.className)};const E7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),hE=t=>{const e=U7(t);return e.charAt(0).toUpperCase()+e.slice(1)},j5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),C7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var A7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k7=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>z.createElement("svg",{ref:u,...A7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:j5("lucide",i),...!a&&!C7(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,p])=>z.createElement(f,p)),...Array.isArray(a)?a:[a]]));const Yn=(t,e)=>{const n=z.forwardRef(({className:r,...i},a)=>z.createElement(k7,{ref:a,iconNode:e,className:j5(`lucide-${E7(hE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=hE(t),n};const I7=[["path",{d:"M2 12 7 2",key:"117k30"}],["path",{d:"m7 12 5-10",key:"1tvx22"}],["path",{d:"m12 12 5-10",key:"ev1o1a"}],["path",{d:"m17 12 5-10",key:"1e4ti3"}],["path",{d:"M4.5 7h15",key:"vlsxkz"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],X7=Yn("antenna",I7);const R7=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],pE=Yn("bookmark-plus",R7);const P7=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],T_=Yn("bookmark",P7);const M7=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],O7=Yn("cable",M7);const N7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],D7=Yn("check",N7);const B7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nT=Yn("chevron-right",B7);const V7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F7=Yn("circle",V7);const L7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z7=Yn("copy",L7);const z7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],$7=Yn("database-zap",z7);const K7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fg=Yn("download",K7);const j7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],H5=Yn("file",j7);const H7=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],G7=Yn("folder-open",H7);const q7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rT=Yn("globe",q7);const Q7=[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]],J7=Yn("group",Q7);const eN=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],mE=Yn("image-down",eN);const tN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],RY=Yn("image",tN);const nN=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],Bv=Yn("images",nN);const rN=[["path",{d:"M21 5H11",key:"us1j55"}],["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 19H11",key:"saa85w"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]],iN=Yn("list-indent-decrease",rN);const sN=[["path",{d:"M21 5H11",key:"us1j55"}],["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 19H11",key:"saa85w"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]],aN=Yn("list-indent-increase",sN);const oN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Km=Yn("loader-circle",oN);const lN=[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]],G5=Yn("map-pin-off",lN);const cN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uN=Yn("menu",cN);const fN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],dN=Yn("monitor",fN);const hN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pN=Yn("moon",hN);const mN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],gE=Yn("pencil",mN);const gN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yN=Yn("plus",gN);const vN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_N=Yn("radio",vN);const SN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bN=Yn("refresh-cw",SN);const YN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],xN=Yn("rotate-cw",YN);const TN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wN=Yn("settings",TN);const WN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EN=Yn("sun",WN);const UN=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M4.6 11a8 8 0 0 0 1.7 8.7 8 8 0 0 0 8.7 1.7",key:"10he05"}],["path",{d:"M7.4 7.4a8 8 0 0 1 10.3 1 8 8 0 0 1 .9 10.2",key:"15f7sh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M12 12v-2",key:"fwoke6"}]],CN=Yn("timer-off",UN);const AN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jm=Yn("trash-2",AN);const kN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IN=Yn("triangle-alert",kN);const XN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Lg=Yn("video",XN);const RN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],PN=Yn("wifi",RN);const MN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a1=Yn("x",MN);const ON=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],NN=Yn("zoom-out",ON),bb=768;function DN(){const t=Tt.c(2),[e,n]=z.useState(void 0);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia(`(max-width: ${bb-1}px)`),o=()=>{n(window.innerWidth<bb)};return a.addEventListener("change",o),n(window.innerWidth<bb),()=>a.removeEventListener("change",o)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),z.useEffect(r,i),!!e}const BN=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},VN=(t,e)=>({classGroupId:t,validator:e}),q5=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Vv="-",yE=[],FN="arbitrary..",LN=t=>{const e=zN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return ZN(o);const c=o.split(Vv),u=c[0]===""&&c.length>1?1:0;return Q5(c,u,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=r[o],f=n[o];return u?f?BN(f,u):u:f||yE}return n[o]||yE}}},Q5=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const f=Q5(t,e+1,a);if(f)return f}const o=n.validators;if(o===null)return;const c=e===0?t.join(Vv):t.slice(e).join(Vv),u=o.length;for(let f=0;f<u;f++){const p=o[f];if(p.validator(c))return p.classGroupId}},ZN=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?FN+r:void 0})(),zN=t=>{const{theme:e,classGroups:n}=t;return $N(n,e)},$N=(t,e)=>{const n=q5();for(const r in t){const i=t[r];iT(i,n,r,e)}return n},iT=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];KN(o,e,n,r)}},KN=(t,e,n,r)=>{if(typeof t=="string"){jN(t,e,n);return}if(typeof t=="function"){HN(t,e,n,r);return}GN(t,e,n,r)},jN=(t,e,n)=>{const r=t===""?e:J5(e,t);r.classGroupId=n},HN=(t,e,n,r)=>{if(qN(t)){iT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(VN(n,t))},GN=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[c,u]=i[o];iT(u,J5(e,c),n,r)}},J5=(t,e)=>{let n=t;const r=e.split(Vv),i=r.length;for(let a=0;a<i;a++){const o=r[a];let c=n.nextPart.get(o);c||(c=q5(),n.nextPart.set(o,c)),n=c}return n},qN=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,QN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,o)=>{n[a]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in n?n[a]=o:i(a,o)}}},PY="!",vE=":",JN=[],_E=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),eD=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,u=0,f;const p=i.length;for(let v=0;v<p;v++){const S=i[v];if(o===0&&c===0){if(S===vE){a.push(i.slice(u,v)),u=v+1;continue}if(S==="/"){f=v;continue}}S==="["?o++:S==="]"?o--:S==="("?c++:S===")"&&c--}const h=a.length===0?i:i.slice(u);let m=h,y=!1;h.endsWith(PY)?(m=h.slice(0,-1),y=!0):h.startsWith(PY)&&(m=h.slice(1),y=!0);const _=f&&f>u?f-u:void 0;return _E(a,y,m,_)};if(e){const i=e+vE,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):_E(JN,!1,o,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},tD=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const o=n[a],c=o[0]==="[",u=e.has(o);c||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},nD=t=>({cache:QN(t.cacheSize),parseClassName:eD(t),sortModifiers:tD(t),...LN(t)}),rD=/\s+/,iD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(rD);let u="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:h,modifiers:m,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:v}=n(p);if(h){u=p+(u.length>0?" "+u:u);continue}let S=!!v,Y=r(S?_.substring(0,v):_);if(!Y){if(!S){u=p+(u.length>0?" "+u:u);continue}if(Y=r(_),!Y){u=p+(u.length>0?" "+u:u);continue}S=!1}const T=m.length===0?"":m.length===1?m[0]:a(m).join(":"),A=y?T+PY:T,P=A+Y;if(o.indexOf(P)>-1)continue;o.push(P);const C=i(Y,S);for(let W=0;W<C.length;++W){const w=C[W];o.push(A+w)}u=p+(u.length>0?" "+u:u)}return u},sD=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=eA(n))&&(i&&(i+=" "),i+=r);return i},eA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eA(t[r]))&&(n&&(n+=" "),n+=e);return n},aD=(t,...e)=>{let n,r,i,a;const o=u=>{const f=e.reduce((p,h)=>h(p),t());return n=nD(f),r=n.cache.get,i=n.cache.set,a=c,c(u)},c=u=>{const f=r(u);if(f)return f;const p=iD(u,n);return i(u,p),p};return a=o,(...u)=>a(sD(...u))},oD=[],li=t=>{const e=n=>n[t]||oD;return e.isThemeGetter=!0,e},tA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lD=/^\d+\/\d+$/,cD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lu=t=>lD.test(t),_n=t=>!!t&&!Number.isNaN(Number(t)),tl=t=>!!t&&Number.isInteger(Number(t)),Yb=t=>t.endsWith("%")&&_n(t.slice(0,-1)),uo=t=>cD.test(t),pD=()=>!0,mD=t=>uD.test(t)&&!fD.test(t),rA=()=>!1,gD=t=>dD.test(t),yD=t=>hD.test(t),vD=t=>!Dt(t)&&!Bt(t),_D=t=>f0(t,aA,rA),Dt=t=>tA.test(t),ec=t=>f0(t,oA,mD),xb=t=>f0(t,TD,_n),SE=t=>f0(t,iA,rA),SD=t=>f0(t,sA,yD),Wy=t=>f0(t,lA,gD),Bt=t=>nA.test(t),cg=t=>d0(t,oA),bD=t=>d0(t,wD),bE=t=>d0(t,iA),YD=t=>d0(t,aA),xD=t=>d0(t,sA),Ey=t=>d0(t,lA,!0),f0=(t,e,n)=>{const r=tA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},d0=(t,e,n=!1)=>{const r=nA.exec(t);return r?r[1]?e(r[1]):n:!1},iA=t=>t==="position"||t==="percentage",sA=t=>t==="image"||t==="url",aA=t=>t==="length"||t==="size"||t==="bg-size",oA=t=>t==="length",TD=t=>t==="number",wD=t=>t==="family-name",lA=t=>t==="shadow",WD=()=>{const t=li("color"),e=li("font"),n=li("text"),r=li("font-weight"),i=li("tracking"),a=li("leading"),o=li("breakpoint"),c=li("container"),u=li("spacing"),f=li("radius"),p=li("shadow"),h=li("inset-shadow"),m=li("text-shadow"),y=li("drop-shadow"),_=li("blur"),v=li("perspective"),S=li("aspect"),Y=li("ease"),T=li("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...P(),Bt,Dt],W=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto","contain","none"],k=()=>[Bt,Dt,u],M=()=>[lu,"full","auto",...k()],D=()=>[tl,"none","subgrid",Bt,Dt],B=()=>["auto",{span:["full",tl,Bt,Dt]},tl,Bt,Dt],O=()=>[tl,"auto",Bt,Dt],V=()=>["auto","min","max","fr",Bt,Dt],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],j=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...k()],q=()=>[lu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],G=()=>[t,Bt,Dt],Q=()=>[...P(),bE,SE,{position:[Bt,Dt]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",YD,_D,{size:[Bt,Dt]}],ee=()=>[Yb,cg,ec],fe=()=>["","none","full",f,Bt,Dt],te=()=>["",_n,cg,ec],ie=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[_n,Yb,bE,SE],me=()=>["","none",_,Bt,Dt],Se=()=>["none",_n,Bt,Dt],Je=()=>["none",_n,Bt,Dt],$e=()=>[_n,Bt,Dt],We=()=>[lu,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[uo],breakpoint:[uo],color:[pD],container:[uo],"drop-shadow":[uo],ease:["in","out","in-out"],font:[vD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[uo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[uo],shadow:[uo],spacing:["px",_n],text:[uo],"text-shadow":[uo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lu,Dt,Bt,S]}],container:["container"],columns:[{columns:[_n,Dt,Bt,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[tl,"auto",Bt,Dt]}],basis:[{basis:[lu,"full","auto",c,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_n,lu,"auto","initial","none",Dt]}],grow:[{grow:["",_n,Bt,Dt]}],shrink:[{shrink:["",_n,Bt,Dt]}],order:[{order:[tl,"first","last","none",Bt,Dt]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...j(),"normal"]}],"justify-self":[{"justify-self":["auto",...j()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...j(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...j(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...j(),"baseline"]}],"place-self":[{"place-self":["auto",...j()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[c,"screen",...q()]}],"min-w":[{"min-w":[c,"screen","none",...q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,cg,ec]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Bt,xb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yb,Dt]}],"font-family":[{font:[bD,Dt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Bt,Dt]}],"line-clamp":[{"line-clamp":[_n,"none",Bt,xb]}],leading:[{leading:[a,...k()]}],"list-image":[{"list-image":["none",Bt,Dt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Bt,Dt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[_n,"from-font","auto",Bt,ec]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[_n,"auto",Bt,Dt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt,Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt,Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tl,Bt,Dt],radial:["",Bt,Dt],conic:[tl,Bt,Dt]},xD,SD]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_n,Bt,Dt]}],"outline-w":[{outline:["",_n,cg,ec]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,Ey,Wy]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",h,Ey,Wy]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[_n,ec]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",m,Ey,Wy]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[_n,Bt,Dt]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_n]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Bt,Dt]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[_n]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Bt,Dt]}],filter:[{filter:["","none",Bt,Dt]}],blur:[{blur:me()}],brightness:[{brightness:[_n,Bt,Dt]}],contrast:[{contrast:[_n,Bt,Dt]}],"drop-shadow":[{"drop-shadow":["","none",y,Ey,Wy]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",_n,Bt,Dt]}],"hue-rotate":[{"hue-rotate":[_n,Bt,Dt]}],invert:[{invert:["",_n,Bt,Dt]}],saturate:[{saturate:[_n,Bt,Dt]}],sepia:[{sepia:["",_n,Bt,Dt]}],"backdrop-filter":[{"backdrop-filter":["","none",Bt,Dt]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[_n,Bt,Dt]}],"backdrop-contrast":[{"backdrop-contrast":[_n,Bt,Dt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_n,Bt,Dt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_n,Bt,Dt]}],"backdrop-invert":[{"backdrop-invert":["",_n,Bt,Dt]}],"backdrop-opacity":[{"backdrop-opacity":[_n,Bt,Dt]}],"backdrop-saturate":[{"backdrop-saturate":[_n,Bt,Dt]}],"backdrop-sepia":[{"backdrop-sepia":["",_n,Bt,Dt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Bt,Dt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_n,"initial",Bt,Dt]}],ease:[{ease:["linear","initial",Y,Bt,Dt]}],delay:[{delay:[_n,Bt,Dt]}],animate:[{animate:["none",T,Bt,Dt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Bt,Dt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Je()}],"scale-x":[{"scale-x":Je()}],"scale-y":[{"scale-y":Je()}],"scale-z":[{"scale-z":Je()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Bt,Dt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt,Dt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt,Dt]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[_n,cg,ec,xb]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ED=aD(WD);function Jt(...t){return ED($5(t))}const UD=K5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ts(t){const e=Tt.c(14);let n,r,i,a,o;e[0]!==t?({className:n,variant:o,size:i,asChild:a,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const u=(a===void 0?!1:a)?s1:"button";let f;e[6]!==n||e[7]!==i||e[8]!==o?(f=Jt(UD({variant:o,size:i,className:n})),e[6]=n,e[7]=i,e[8]=o,e[9]=f):f=e[9];let p;return e[10]!==u||e[11]!==r||e[12]!==f?(p=I.jsx(u,{"data-slot":"button",className:f,...r}),e[10]=u,e[11]=r,e[12]=f,e[13]=p):p=e[13],p}function cA(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({className:n,type:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=Jt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==a||e[8]!==i?(o=I.jsx("input",{type:i,"data-slot":"input",className:a,...r}),e[6]=r,e[7]=a,e[8]=i,e[9]=o):o=e[9],o}function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function CD(t,e){const n=z.createContext(e),r=a=>{const{children:o,...c}=a,u=z.useMemo(()=>c,Object.values(c));return I.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(a){const o=z.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function To(t,e=[]){let n=[];function r(a,o){const c=z.createContext(o),u=n.length;n=[...n,o];const f=h=>{const{scope:m,children:y,..._}=h,v=m?.[t]?.[u]||c,S=z.useMemo(()=>_,Object.values(_));return I.jsx(v.Provider,{value:S,children:y})};f.displayName=a+"Provider";function p(h,m){const y=m?.[t]?.[u]||c,_=z.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>z.createContext(o));return function(c){const u=c?.[t]||a;return z.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,AD(i,...e)]}function AD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...c,...h}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var xl=globalThis?.document?z.useLayoutEffect:()=>{},kD=$x[" useId ".trim().toString()]||(()=>{}),ID=0;function hc(t){const[e,n]=z.useState(kD());return xl(()=>{n(r=>r??String(ID++))},[t]),t||(e?`radix-${e}`:"")}var XD=$x[" useInsertionEffect ".trim().toString()]||xl;function o1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=RD({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const p=z.useRef(t!==void 0);z.useEffect(()=>{const h=p.current;h!==c&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=z.useCallback(p=>{if(c){const h=PD(p)?p(t):p;h!==t&&o.current?.(h)}else a(p)},[c,t,a,o]);return[u,f]}function RD({defaultProp:t,onChange:e}){const[n,r]=z.useState(t),i=z.useRef(n),a=z.useRef(e);return XD(()=>{a.current=e},[e]),z.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function PD(t){return typeof t=="function"}function MD(t){const e=OD(t),n=z.forwardRef((r,i)=>{const{children:a,...o}=r,c=z.Children.toArray(a),u=c.find(DD);if(u){const f=u.props.children,p=c.map(h=>h===u?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return I.jsx(e,{...o,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,p):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function OD(t){const e=z.forwardRef((n,r)=>{const{children:i,...a}=n;if(z.isValidElement(i)){const o=VD(i),c=BD(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Al(r,o):o),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ND=Symbol("radix.slottable");function DD(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ND}function BD(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function VD(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yr=FD.reduce((t,e)=>{const n=MD(`Primitive.${e}`),r=z.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uA(t,e){t&&b_.flushSync(()=>t.dispatchEvent(e))}function Aa(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t}),z.useMemo(()=>(...n)=>e.current?.(...n),[])}function LD(t,e=globalThis?.document){const n=Aa(t);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZD="DismissableLayer",MY="dismissableLayer.update",zD="dismissableLayer.pointerDownOutside",$D="dismissableLayer.focusOutside",YE,fA=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w_=z.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...u}=t,f=z.useContext(fA),[p,h]=z.useState(null),m=p?.ownerDocument??globalThis?.document,[,y]=z.useState({}),_=Dr(e,w=>h(w)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),Y=v.indexOf(S),T=p?v.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,P=T>=Y,C=HD(w=>{const k=w.target,M=[...f.branches].some(D=>D.contains(k));!P||M||(i?.(w),o?.(w),w.defaultPrevented||c?.())},m),W=GD(w=>{const k=w.target;[...f.branches].some(D=>D.contains(k))||(a?.(w),o?.(w),w.defaultPrevented||c?.())},m);return LD(w=>{T===f.layers.size-1&&(r?.(w),!w.defaultPrevented&&c&&(w.preventDefault(),c()))},m),z.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(YE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),xE(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=YE)}},[p,m,n,f]),z.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),xE())},[p,f]),z.useEffect(()=>{const w=()=>y({});return document.addEventListener(MY,w),()=>document.removeEventListener(MY,w)},[]),I.jsx(yr.div,{...u,ref:_,style:{pointerEvents:A?P?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,C.onPointerDownCapture)})});w_.displayName=ZD;var KD="DismissableLayerBranch",jD=z.forwardRef((t,e)=>{const n=z.useContext(fA),r=z.useRef(null),i=Dr(e,r);return z.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),I.jsx(yr.div,{...t,ref:i})});jD.displayName=KD;function HD(t,e=globalThis?.document){const n=Aa(t),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let u=function(){dA(zD,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GD(t,e=globalThis?.document){const n=Aa(t),r=z.useRef(!1);return z.useEffect(()=>{const i=a=>{a.target&&!r.current&&dA($D,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xE(){const t=new CustomEvent(MY);document.dispatchEvent(t)}function dA(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?uA(i,a):i.dispatchEvent(a)}var Tb="focusScope.autoFocusOnMount",wb="focusScope.autoFocusOnUnmount",TE={bubbles:!1,cancelable:!0},qD="FocusScope",sT=z.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,u]=z.useState(null),f=Aa(i),p=Aa(a),h=z.useRef(null),m=Dr(e,v=>u(v)),y=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(r){let v=function(A){if(y.paused||!c)return;const P=A.target;c.contains(P)?h.current=P:il(h.current,{select:!0})},S=function(A){if(y.paused||!c)return;const P=A.relatedTarget;P!==null&&(c.contains(P)||il(h.current,{select:!0}))},Y=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&il(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const T=new MutationObserver(Y);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),T.disconnect()}}},[r,c,y.paused]),z.useEffect(()=>{if(c){WE.add(y);const v=document.activeElement;if(!c.contains(v)){const Y=new CustomEvent(Tb,TE);c.addEventListener(Tb,f),c.dispatchEvent(Y),Y.defaultPrevented||(QD(rB(hA(c)),{select:!0}),document.activeElement===v&&il(c))}return()=>{c.removeEventListener(Tb,f),setTimeout(()=>{const Y=new CustomEvent(wb,TE);c.addEventListener(wb,p),c.dispatchEvent(Y),Y.defaultPrevented||il(v??document.body,{select:!0}),c.removeEventListener(wb,p),WE.remove(y)},0)}}},[c,f,p,y]);const _=z.useCallback(v=>{if(!n&&!r||y.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,Y=document.activeElement;if(S&&Y){const T=v.currentTarget,[A,P]=JD(T);A&&P?!v.shiftKey&&Y===P?(v.preventDefault(),n&&il(A,{select:!0})):v.shiftKey&&Y===A&&(v.preventDefault(),n&&il(P,{select:!0})):Y===T&&v.preventDefault()}},[n,r,y.paused]);return I.jsx(yr.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});sT.displayName=qD;function QD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(il(r,{select:e}),document.activeElement!==n)return}function JD(t){const e=hA(t),n=wE(e,t),r=wE(e.reverse(),t);return[n,r]}function hA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wE(t,e){for(const n of t)if(!eB(n,{upTo:e}))return n}function eB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tB(t){return t instanceof HTMLInputElement&&"select"in t}function il(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tB(t)&&e&&t.select()}}var WE=nB();function nB(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=EE(t,e),t.unshift(e)},remove(e){t=EE(t,e),t[0]?.resume()}}}function EE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rB(t){return t.filter(e=>e.tagName!=="A")}var iB="Portal",W_=z.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=z.useState(!1);xl(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?R5.createPortal(I.jsx(yr.div,{...r,ref:e}),o):null});W_.displayName=iB;function sB(t,e){return z.useReducer((n,r)=>e[n][r]??n,t)}var fa=t=>{const{present:e,children:n}=t,r=aB(e),i=typeof n=="function"?n({present:r.isPresent}):z.Children.only(n),a=Dr(r.ref,oB(i));return typeof n=="function"||r.isPresent?z.cloneElement(i,{ref:a}):null};fa.displayName="Presence";function aB(t){const[e,n]=z.useState(),r=z.useRef(null),i=z.useRef(t),a=z.useRef("none"),o=t?"mounted":"unmounted",[c,u]=sB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const f=Uy(r.current);a.current=c==="mounted"?f:"none"},[c]),xl(()=>{const f=r.current,p=i.current;if(p!==t){const m=a.current,y=Uy(f);t?u("MOUNT"):y==="none"||f?.display==="none"?u("UNMOUNT"):u(p&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),xl(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,h=y=>{const v=Uy(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&v&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=y=>{y.target===e&&(a.current=Uy(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:z.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Uy(t){return t?.animationName||"none"}function oB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Wb=0;function pA(){z.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UE()),document.body.insertAdjacentElement("beforeend",t[1]??UE()),Wb++,()=>{Wb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wb--}},[])}function UE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ya=function(){return Ya=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ya.apply(this,arguments)};function mA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Qy="right-scroll-bar-position",Jy="width-before-scroll-bar",cB="with-scroll-bars-hidden",uB="--removed-body-scroll-bar-size";function Eb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function fB(t,e){var n=z.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dB=typeof window<"u"?z.useLayoutEffect:z.useEffect,CE=new WeakMap;function hB(t,e){var n=fB(null,function(r){return t.forEach(function(i){return Eb(i,r)})});return dB(function(){var r=CE.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||Eb(c,null)}),a.forEach(function(c){i.has(c)||Eb(c,o)})}CE.set(n,t)},[t]),n}function pB(t){return t}function mB(t,e){e===void 0&&(e=pB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var u=function(){var p=o;o=[],p.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){o.push(p),f()},filter:function(p){return o=o.filter(p),n}}}};return i}function gB(t){t===void 0&&(t={});var e=mB(null);return e.options=Ya({async:!0,ssr:!1},t),e}var gA=function(t){var e=t.sideCar,n=mA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return z.createElement(r,Ya({},n))};gA.isSideCarExport=!0;function yB(t,e){return t.useMedium(e),gA}var yA=gB(),Ub=function(){},E_=z.forwardRef(function(t,e){var n=z.useRef(null),r=z.useState({onScrollCapture:Ub,onWheelCapture:Ub,onTouchMoveCapture:Ub}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,u=t.className,f=t.removeScrollBar,p=t.enabled,h=t.shards,m=t.sideCar,y=t.noRelative,_=t.noIsolation,v=t.inert,S=t.allowPinchZoom,Y=t.as,T=Y===void 0?"div":Y,A=t.gapMode,P=mA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,W=hB([n,e]),w=Ya(Ya({},P),i);return z.createElement(z.Fragment,null,p&&z.createElement(C,{sideCar:yA,removeScrollBar:f,shards:h,noRelative:y,noIsolation:_,inert:v,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:A}),o?z.cloneElement(z.Children.only(c),Ya(Ya({},w),{ref:W})):z.createElement(T,Ya({},w,{className:u,ref:W}),c))});E_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E_.classNames={fullWidth:Jy,zeroRight:Qy};var vB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _B(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vB();return e&&t.setAttribute("nonce",e),t}function SB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_B())&&(SB(e,n),bB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xB=function(){var t=YB();return function(e,n){z.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vA=function(){var t=xB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},TB={left:0,top:0,right:0,gap:0},Cb=function(t){return parseInt(t||"",10)||0},wB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Cb(n),Cb(r),Cb(i)]},WB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TB;var e=wB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},EB=vA(),Cu="data-scroll-locked",UB=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Cu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qy,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Jy,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cu,`] {
    `).concat(uB,": ").concat(c,`px;
  }
`)},AE=function(){var t=parseInt(document.body.getAttribute(Cu)||"0",10);return isFinite(t)?t:0},CB=function(){z.useEffect(function(){return document.body.setAttribute(Cu,(AE()+1).toString()),function(){var t=AE()-1;t<=0?document.body.removeAttribute(Cu):document.body.setAttribute(Cu,t.toString())}},[])},AB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;CB();var a=z.useMemo(function(){return WB(i)},[i]);return z.createElement(EB,{styles:UB(a,!e,i,n?"":"!important")})},OY=!1;if(typeof window<"u")try{var Cy=Object.defineProperty({},"passive",{get:function(){return OY=!0,!0}});window.addEventListener("test",Cy,Cy),window.removeEventListener("test",Cy,Cy)}catch{OY=!1}var cu=OY?{passive:!1}:!1,kB=function(t){return t.tagName==="TEXTAREA"},_A=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kB(t)&&n[e]==="visible")},IB=function(t){return _A(t,"overflowY")},XB=function(t){return _A(t,"overflowX")},kE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=SA(t,r);if(i){var a=bA(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},PB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SA=function(t,e){return t==="v"?IB(e):XB(e)},bA=function(t,e){return t==="v"?RB(e):PB(e)},MB=function(t,e){return t==="h"&&e==="rtl"?-1:1},OB=function(t,e,n,r,i){var a=MB(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,u=e.contains(c),f=!1,p=o>0,h=0,m=0;do{if(!c)break;var y=bA(t,c),_=y[0],v=y[1],S=y[2],Y=v-S-a*_;(_||Y)&&SA(t,c)&&(h+=Y,m+=_);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(h)<1||!p&&Math.abs(m)<1)&&(f=!0),f},Ay=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},IE=function(t){return[t.deltaX,t.deltaY]},XE=function(t){return t&&"current"in t?t.current:t},NB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},DB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},BB=0,uu=[];function VB(t){var e=z.useRef([]),n=z.useRef([0,0]),r=z.useRef(),i=z.useState(BB++)[0],a=z.useState(vA)[0],o=z.useRef(t);z.useEffect(function(){o.current=t},[t]),z.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=lB([t.lockRef.current],(t.shards||[]).map(XE),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=z.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var Y=Ay(v),T=n.current,A="deltaX"in v?v.deltaX:T[0]-Y[0],P="deltaY"in v?v.deltaY:T[1]-Y[1],C,W=v.target,w=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in v&&w==="h"&&W.type==="range")return!1;var k=kE(w,W);if(!k)return!0;if(k?C=w:(C=w==="v"?"h":"v",k=kE(w,W)),!k)return!1;if(!r.current&&"changedTouches"in v&&(A||P)&&(r.current=C),!C)return!0;var M=r.current||C;return OB(M,S,v,M==="h"?A:P)},[]),u=z.useCallback(function(v){var S=v;if(!(!uu.length||uu[uu.length-1]!==a)){var Y="deltaY"in S?IE(S):Ay(S),T=e.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&NB(C.delta,Y)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var A=(o.current.shards||[]).map(XE).filter(Boolean).filter(function(C){return C.contains(S.target)}),P=A.length>0?c(S,A[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),f=z.useCallback(function(v,S,Y,T){var A={name:v,delta:S,target:Y,should:T,shadowParent:FB(Y)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(P){return P!==A})},1)},[]),p=z.useCallback(function(v){n.current=Ay(v),r.current=void 0},[]),h=z.useCallback(function(v){f(v.type,IE(v),v.target,c(v,t.lockRef.current))},[]),m=z.useCallback(function(v){f(v.type,Ay(v),v.target,c(v,t.lockRef.current))},[]);z.useEffect(function(){return uu.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,cu),document.addEventListener("touchmove",u,cu),document.addEventListener("touchstart",p,cu),function(){uu=uu.filter(function(v){return v!==a}),document.removeEventListener("wheel",u,cu),document.removeEventListener("touchmove",u,cu),document.removeEventListener("touchstart",p,cu)}},[]);var y=t.removeScrollBar,_=t.inert;return z.createElement(z.Fragment,null,_?z.createElement(a,{styles:DB(i)}):null,y?z.createElement(AB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function FB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LB=yB(yA,VB);var aT=z.forwardRef(function(t,e){return z.createElement(E_,Ya({},t,{ref:e,sideCar:LB}))});aT.classNames=E_.classNames;var ZB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fu=new WeakMap,ky=new WeakMap,Iy={},Ab=0,YA=function(t){return t&&(t.host||YA(t.parentNode))},zB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=YA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$B=function(t,e,n,r){var i=zB(e,Array.isArray(t)?t:[t]);Iy[n]||(Iy[n]=new WeakMap);var a=Iy[n],o=[],c=new Set,u=new Set(i),f=function(h){!h||c.has(h)||(c.add(h),f(h.parentNode))};i.forEach(f);var p=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(c.has(m))p(m);else try{var y=m.getAttribute(r),_=y!==null&&y!=="false",v=(fu.get(m)||0)+1,S=(a.get(m)||0)+1;fu.set(m,v),a.set(m,S),o.push(m),v===1&&_&&ky.set(m,!0),S===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(Y){console.error("aria-hidden: cannot operate on ",m,Y)}})};return p(e),c.clear(),Ab++,function(){o.forEach(function(h){var m=fu.get(h)-1,y=a.get(h)-1;fu.set(h,m),a.set(h,y),m||(ky.has(h)||h.removeAttribute(r),ky.delete(h)),y||h.removeAttribute(n)}),Ab--,Ab||(fu=new WeakMap,fu=new WeakMap,ky=new WeakMap,Iy={})}},xA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ZB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),$B(r,i,n,"aria-hidden")):function(){return null}};function KB(t){const e=jB(t),n=z.forwardRef((r,i)=>{const{children:a,...o}=r,c=z.Children.toArray(a),u=c.find(GB);if(u){const f=u.props.children,p=c.map(h=>h===u?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return I.jsx(e,{...o,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,p):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function jB(t){const e=z.forwardRef((n,r)=>{const{children:i,...a}=n;if(z.isValidElement(i)){const o=QB(i),c=qB(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Al(r,o):o),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HB=Symbol("radix.slottable");function GB(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HB}function qB(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function QB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var U_="Dialog",[TA,Gle]=To(U_),[JB,da]=TA(U_),wA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=z.useRef(null),u=z.useRef(null),[f,p]=o1({prop:r,defaultProp:i??!1,onChange:a,caller:U_});return I.jsx(JB,{scope:e,triggerRef:c,contentRef:u,contentId:hc(),titleId:hc(),descriptionId:hc(),open:f,onOpenChange:p,onOpenToggle:z.useCallback(()=>p(h=>!h),[p]),modal:o,children:n})};wA.displayName=U_;var WA="DialogTrigger",EA=z.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=da(WA,n),a=Dr(e,i.triggerRef);return I.jsx(yr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cT(i.open),...r,ref:a,onClick:Ht(t.onClick,i.onOpenToggle)})});EA.displayName=WA;var oT="DialogPortal",[eV,UA]=TA(oT,{forceMount:void 0}),CA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=da(oT,e);return I.jsx(eV,{scope:e,forceMount:n,children:z.Children.map(r,o=>I.jsx(fa,{present:n||a.open,children:I.jsx(W_,{asChild:!0,container:i,children:o})}))})};CA.displayName=oT;var Fv="DialogOverlay",AA=z.forwardRef((t,e)=>{const n=UA(Fv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=da(Fv,t.__scopeDialog);return a.modal?I.jsx(fa,{present:r||a.open,children:I.jsx(nV,{...i,ref:e})}):null});AA.displayName=Fv;var tV=KB("DialogOverlay.RemoveScroll"),nV=z.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=da(Fv,n);return I.jsx(aT,{as:tV,allowPinchZoom:!0,shards:[i.contentRef],children:I.jsx(yr.div,{"data-state":cT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),_c="DialogContent",kA=z.forwardRef((t,e)=>{const n=UA(_c,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=da(_c,t.__scopeDialog);return I.jsx(fa,{present:r||a.open,children:a.modal?I.jsx(rV,{...i,ref:e}):I.jsx(iV,{...i,ref:e})})});kA.displayName=_c;var rV=z.forwardRef((t,e)=>{const n=da(_c,t.__scopeDialog),r=z.useRef(null),i=Dr(e,n.contentRef,r);return z.useEffect(()=>{const a=r.current;if(a)return xA(a)},[]),I.jsx(IA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ht(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Ht(t.onFocusOutside,a=>a.preventDefault())})}),iV=z.forwardRef((t,e)=>{const n=da(_c,t.__scopeDialog),r=z.useRef(!1),i=z.useRef(!1);return I.jsx(IA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),IA=z.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=da(_c,n),u=z.useRef(null),f=Dr(e,u);return pA(),I.jsxs(I.Fragment,{children:[I.jsx(sT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:I.jsx(w_,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":cT(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(sV,{titleId:c.titleId}),I.jsx(oV,{contentRef:u,descriptionId:c.descriptionId})]})]})}),lT="DialogTitle",XA=z.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=da(lT,n);return I.jsx(yr.h2,{id:i.titleId,...r,ref:e})});XA.displayName=lT;var RA="DialogDescription",PA=z.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=da(RA,n);return I.jsx(yr.p,{id:i.descriptionId,...r,ref:e})});PA.displayName=RA;var MA="DialogClose",OA=z.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=da(MA,n);return I.jsx(yr.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,()=>i.onOpenChange(!1))})});OA.displayName=MA;function cT(t){return t?"open":"closed"}var NA="DialogTitleWarning",[qle,DA]=CD(NA,{contentName:_c,titleName:lT,docsSlug:"dialog"}),sV=({titleId:t})=>{const e=DA(NA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return z.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aV="DialogDescriptionWarning",oV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DA(aV).contentName}}.`;return z.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},BA=wA,Qle=EA,VA=CA,FA=AA,LA=kA,ZA=XA,zA=PA,$A=OA;function lV(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(BA,{"data-slot":"sheet",...n}),e[2]=n,e[3]=r):r=e[3],r}function cV(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(VA,{"data-slot":"sheet-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function uV(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(FA,{"data-slot":"sheet-overlay",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function fV(t){const e=Tt.c(17);let n,r,i,a;e[0]!==t?({className:r,children:n,side:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"right":a;let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=I.jsx(uV,{}),e[5]=c):c=e[5];const u=o==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",f=o==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",p=o==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",h=o==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t";let m;e[6]!==r||e[7]!==u||e[8]!==f||e[9]!==p||e[10]!==h?(m=Jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",u,f,p,h,r),e[6]=r,e[7]=u,e[8]=f,e[9]=p,e[10]=h,e[11]=m):m=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=I.jsxs($A,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[I.jsx(a1,{className:"size-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]}),e[12]=y):y=e[12];let _;return e[13]!==n||e[14]!==i||e[15]!==m?(_=I.jsxs(cV,{children:[c,I.jsxs(LA,{"data-slot":"sheet-content",className:m,...i,children:[n,y]})]}),e[13]=n,e[14]=i,e[15]=m,e[16]=_):_=e[16],_}function dV(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex flex-col gap-1.5 p-4",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sheet-header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function hV(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-foreground font-semibold",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(ZA,{"data-slot":"sheet-title",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function pV(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-muted-foreground text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(zA,{"data-slot":"sheet-description",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}const mV=["top","right","bottom","left"],Tl=Math.min,Ss=Math.max,Lv=Math.round,Xy=Math.floor,Wa=t=>({x:t,y:t}),gV={left:"right",right:"left",bottom:"top",top:"bottom"},yV={start:"end",end:"start"};function NY(t,e,n){return Ss(t,Tl(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function _o(t){return t.split("-")[0]}function h0(t){return t.split("-")[1]}function uT(t){return t==="x"?"y":"x"}function fT(t){return t==="y"?"height":"width"}const vV=new Set(["top","bottom"]);function Ta(t){return vV.has(_o(t))?"y":"x"}function dT(t){return uT(Ta(t))}function _V(t,e,n){n===void 0&&(n=!1);const r=h0(t),i=dT(t),a=fT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Zv(o)),[o,Zv(o)]}function SV(t){const e=Zv(t);return[DY(t),e,DY(e)]}function DY(t){return t.replace(/start|end/g,e=>yV[e])}const RE=["left","right"],PE=["right","left"],bV=["top","bottom"],YV=["bottom","top"];function xV(t,e,n){switch(t){case"top":case"bottom":return n?e?PE:RE:e?RE:PE;case"left":case"right":return e?bV:YV;default:return[]}}function TV(t,e,n,r){const i=h0(t);let a=xV(_o(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(DY)))),a}function Zv(t){return t.replace(/left|right|bottom|top/g,e=>gV[e])}function wV(t){return{top:0,right:0,bottom:0,left:0,...t}}function KA(t){return typeof t!="number"?wV(t):{top:t,right:t,bottom:t,left:t}}function zv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ME(t,e,n){let{reference:r,floating:i}=t;const a=Ta(e),o=dT(e),c=fT(o),u=_o(e),f=a==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[c]/2-i[c]/2;let y;switch(u){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(h0(e)){case"start":y[o]-=m*(n&&f?-1:1);break;case"end":y[o]+=m*(n&&f?-1:1);break}return y}const WV=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:h}=ME(f,r,u),m=r,y={},_=0;for(let v=0;v<c.length;v++){const{name:S,fn:Y}=c[v],{x:T,y:A,data:P,reset:C}=await Y({x:p,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:t,floating:e}});p=T??p,h=A??h,y={...y,[S]:{...y[S],...P}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(f=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:p,y:h}=ME(f,m,u)),v=-1)}return{x:p,y:h,placement:m,strategy:i,middlewareData:y}};async function Zg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=vo(e,t),_=KA(y),S=c[m?h==="floating"?"reference":"floating":h],Y=zv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:u})),T=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),P=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},C=zv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:A,strategy:u}):T);return{top:(Y.top-C.top+_.top)/P.y,bottom:(C.bottom-Y.bottom+_.bottom)/P.y,left:(Y.left-C.left+_.left)/P.x,right:(C.right-Y.right+_.right)/P.x}}const EV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:u}=e,{element:f,padding:p=0}=vo(t,e)||{};if(f==null)return{};const h=KA(p),m={x:n,y:r},y=dT(i),_=fT(y),v=await o.getDimensions(f),S=y==="y",Y=S?"top":"left",T=S?"bottom":"right",A=S?"clientHeight":"clientWidth",P=a.reference[_]+a.reference[y]-m[y]-a.floating[_],C=m[y]-a.reference[y],W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let w=W?W[A]:0;(!w||!await(o.isElement==null?void 0:o.isElement(W)))&&(w=c.floating[A]||a.floating[_]);const k=P/2-C/2,M=w/2-v[_]/2-1,D=Tl(h[Y],M),B=Tl(h[T],M),O=D,V=w-v[_]-B,X=w/2-v[_]/2+k,j=NY(O,X,V),$=!u.arrow&&h0(i)!=null&&X!==j&&a.reference[_]/2-(X<O?D:B)-v[_]/2<0,q=$?X<O?X-O:X-V:0;return{[y]:m[y]+q,data:{[y]:j,centerOffset:X-j-q,...$&&{alignmentOffset:q}},reset:$}}}),UV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...S}=vo(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const Y=_o(i),T=Ta(c),A=_o(c)===c,P=await(u.isRTL==null?void 0:u.isRTL(f.floating)),C=m||(A||!v?[Zv(c)]:SV(c)),W=_!=="none";!m&&W&&C.push(...TV(c,v,_,P));const w=[c,...C],k=await Zg(e,S),M=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&M.push(k[Y]),h){const X=_V(i,o,P);M.push(k[X[0]],k[X[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(X=>X<=0)){var B,O;const X=(((B=a.flip)==null?void 0:B.index)||0)+1,j=w[X];if(j&&(!(h==="alignment"?T!==Ta(j):!1)||D.every(G=>Ta(G.placement)===T?G.overflows[0]>0:!0)))return{data:{index:X,overflows:D},reset:{placement:j}};let $=(O=D.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(y){case"bestFit":{var V;const q=(V=D.filter(G=>{if(W){const Q=Ta(G.placement);return Q===T||Q==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0)]).sort((G,Q)=>G[1]-Q[1])[0])==null?void 0:V[0];q&&($=q);break}case"initialPlacement":$=c;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function OE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NE(t){return mV.some(e=>t[e]>=0)}const CV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=vo(t,e);switch(r){case"referenceHidden":{const a=await Zg(e,{...i,elementContext:"reference"}),o=OE(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NE(o)}}}case"escaped":{const a=await Zg(e,{...i,altBoundary:!0}),o=OE(a,n.floating);return{data:{escapedOffsets:o,escaped:NE(o)}}}default:return{}}}}},jA=new Set(["left","top"]);async function AV(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=_o(n),c=h0(n),u=Ta(n)==="y",f=jA.has(o)?-1:1,p=a&&u?-1:1,h=vo(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof _=="number"&&(y=c==="end"?_*-1:_),u?{x:y*p,y:m*f}:{x:m*f,y:y*p}}const kV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,u=await AV(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},IV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:S=>{let{x:Y,y:T}=S;return{x:Y,y:T}}},...u}=vo(t,e),f={x:n,y:r},p=await Zg(e,u),h=Ta(_o(i)),m=uT(h);let y=f[m],_=f[h];if(a){const S=m==="y"?"top":"left",Y=m==="y"?"bottom":"right",T=y+p[S],A=y-p[Y];y=NY(T,y,A)}if(o){const S=h==="y"?"top":"left",Y=h==="y"?"bottom":"right",T=_+p[S],A=_-p[Y];_=NY(T,_,A)}const v=c.fn({...e,[m]:y,[h]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:a,[h]:o}}}}}},XV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=vo(t,e),p={x:n,y:r},h=Ta(i),m=uT(h);let y=p[m],_=p[h];const v=vo(c,e),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const A=m==="y"?"height":"width",P=a.reference[m]-a.floating[A]+S.mainAxis,C=a.reference[m]+a.reference[A]-S.mainAxis;y<P?y=P:y>C&&(y=C)}if(f){var Y,T;const A=m==="y"?"width":"height",P=jA.has(_o(i)),C=a.reference[h]-a.floating[A]+(P&&((Y=o.offset)==null?void 0:Y[h])||0)+(P?0:S.crossAxis),W=a.reference[h]+a.reference[A]+(P?0:((T=o.offset)==null?void 0:T[h])||0)-(P?S.crossAxis:0);_<C?_=C:_>W&&(_=W)}return{[m]:y,[h]:_}}}},RV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:u=()=>{},...f}=vo(t,e),p=await Zg(e,f),h=_o(i),m=h0(i),y=Ta(i)==="y",{width:_,height:v}=a.floating;let S,Y;h==="top"||h==="bottom"?(S=h,Y=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(Y=h,S=m==="end"?"top":"bottom");const T=v-p.top-p.bottom,A=_-p.left-p.right,P=Tl(v-p[S],T),C=Tl(_-p[Y],A),W=!e.middlewareData.shift;let w=P,k=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(w=T),W&&!m){const D=Ss(p.left,0),B=Ss(p.right,0),O=Ss(p.top,0),V=Ss(p.bottom,0);y?k=_-2*(D!==0||B!==0?D+B:Ss(p.left,p.right)):w=v-2*(O!==0||V!==0?O+V:Ss(p.top,p.bottom))}await u({...e,availableWidth:k,availableHeight:w});const M=await o.getDimensions(c.floating);return _!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function C_(){return typeof window<"u"}function p0(t){return HA(t)?(t.nodeName||"").toLowerCase():"#document"}function bs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Oa(t){var e;return(e=(HA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HA(t){return C_()?t instanceof Node||t instanceof bs(t).Node:!1}function ca(t){return C_()?t instanceof Element||t instanceof bs(t).Element:!1}function ka(t){return C_()?t instanceof HTMLElement||t instanceof bs(t).HTMLElement:!1}function DE(t){return!C_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bs(t).ShadowRoot}const PV=new Set(["inline","contents"]);function l1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ua(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!PV.has(i)}const MV=new Set(["table","td","th"]);function OV(t){return MV.has(p0(t))}const NV=[":popover-open",":modal"];function A_(t){return NV.some(e=>{try{return t.matches(e)}catch{return!1}})}const DV=["transform","translate","scale","rotate","perspective"],BV=["transform","translate","scale","rotate","perspective","filter"],VV=["paint","layout","strict","content"];function hT(t){const e=pT(),n=ca(t)?ua(t):t;return DV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||BV.some(r=>(n.willChange||"").includes(r))||VV.some(r=>(n.contain||"").includes(r))}function FV(t){let e=wl(t);for(;ka(e)&&!Hm(e);){if(hT(e))return e;if(A_(e))return null;e=wl(e)}return null}function pT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LV=new Set(["html","body","#document"]);function Hm(t){return LV.has(p0(t))}function ua(t){return bs(t).getComputedStyle(t)}function k_(t){return ca(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wl(t){if(p0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DE(t)&&t.host||Oa(t);return DE(e)?e.host:e}function GA(t){const e=wl(t);return Hm(e)?t.ownerDocument?t.ownerDocument.body:t.body:ka(e)&&l1(e)?e:GA(e)}function zg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GA(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=bs(i);if(a){const c=BY(o);return e.concat(o,o.visualViewport||[],l1(i)?i:[],c&&n?zg(c):[])}return e.concat(i,zg(i,[],n))}function BY(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qA(t){const e=ua(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ka(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Lv(n)!==a||Lv(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function mT(t){return ca(t)?t:t.contextElement}function Au(t){const e=mT(t);if(!ka(e))return Wa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=qA(e);let o=(a?Lv(n.width):n.width)/r,c=(a?Lv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const ZV=Wa(0);function QA(t){const e=bs(t);return!pT()||!e.visualViewport?ZV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bs(t)?!1:e}function Sc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=mT(t);let o=Wa(1);e&&(r?ca(r)&&(o=Au(r)):o=Au(t));const c=zV(a,n,r)?QA(a):Wa(0);let u=(i.left+c.x)/o.x,f=(i.top+c.y)/o.y,p=i.width/o.x,h=i.height/o.y;if(a){const m=bs(a),y=r&&ca(r)?bs(r):r;let _=m,v=BY(_);for(;v&&r&&y!==_;){const S=Au(v),Y=v.getBoundingClientRect(),T=ua(v),A=Y.left+(v.clientLeft+parseFloat(T.paddingLeft))*S.x,P=Y.top+(v.clientTop+parseFloat(T.paddingTop))*S.y;u*=S.x,f*=S.y,p*=S.x,h*=S.y,u+=A,f+=P,_=bs(v),v=BY(_)}}return zv({width:p,height:h,x:u,y:f})}function I_(t,e){const n=k_(t).scrollLeft;return e?e.left+n:Sc(Oa(t)).left+n}function JA(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-I_(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function $V(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Oa(r),c=e?A_(e.floating):!1;if(r===o||c&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Wa(1);const p=Wa(0),h=ka(r);if((h||!h&&!a)&&((p0(r)!=="body"||l1(o))&&(u=k_(r)),ka(r))){const y=Sc(r);f=Au(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const m=o&&!h&&!a?JA(o,u):Wa(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+m.x,y:n.y*f.y-u.scrollTop*f.y+p.y+m.y}}function KV(t){return Array.from(t.getClientRects())}function jV(t){const e=Oa(t),n=k_(t),r=t.ownerDocument.body,i=Ss(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ss(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+I_(t);const c=-n.scrollTop;return ua(r).direction==="rtl"&&(o+=Ss(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const BE=25;function HV(t,e){const n=bs(t),r=Oa(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,u=0;if(i){a=i.width,o=i.height;const p=pT();(!p||p&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const f=I_(r);if(f<=0){const p=r.ownerDocument,h=p.body,m=getComputedStyle(h),y=p.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,_=Math.abs(r.clientWidth-h.clientWidth-y);_<=BE&&(a-=_)}else f<=BE&&(a+=f);return{width:a,height:o,x:c,y:u}}const GV=new Set(["absolute","fixed"]);function qV(t,e){const n=Sc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ka(t)?Au(t):Wa(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:o,height:c,x:u,y:f}}function VE(t,e,n){let r;if(e==="viewport")r=HV(t,n);else if(e==="document")r=jV(Oa(t));else if(ca(e))r=qV(e,n);else{const i=QA(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zv(r)}function ek(t,e){const n=wl(t);return n===e||!ca(n)||Hm(n)?!1:ua(n).position==="fixed"||ek(n,e)}function QV(t,e){const n=e.get(t);if(n)return n;let r=zg(t,[],!1).filter(c=>ca(c)&&p0(c)!=="body"),i=null;const a=ua(t).position==="fixed";let o=a?wl(t):t;for(;ca(o)&&!Hm(o);){const c=ua(o),u=hT(o);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&GV.has(i.position)||l1(o)&&!u&&ek(t,o))?r=r.filter(p=>p!==o):i=c,o=wl(o)}return e.set(t,r),r}function JV(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?A_(e)?[]:QV(e,this._c):[].concat(n),r],c=o[0],u=o.reduce((f,p)=>{const h=VE(e,p,i);return f.top=Ss(h.top,f.top),f.right=Tl(h.right,f.right),f.bottom=Tl(h.bottom,f.bottom),f.left=Ss(h.left,f.left),f},VE(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function eF(t){const{width:e,height:n}=qA(t);return{width:e,height:n}}function tF(t,e,n){const r=ka(e),i=Oa(e),a=n==="fixed",o=Sc(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const u=Wa(0);function f(){u.x=I_(i)}if(r||!r&&!a)if((p0(e)!=="body"||l1(i))&&(c=k_(e)),r){const y=Sc(e,!0,a,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?JA(i,c):Wa(0),h=o.left+c.scrollLeft-u.x-p.x,m=o.top+c.scrollTop-u.y-p.y;return{x:h,y:m,width:o.width,height:o.height}}function kb(t){return ua(t).position==="static"}function FE(t,e){if(!ka(t)||ua(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Oa(t)===n&&(n=n.ownerDocument.body),n}function tk(t,e){const n=bs(t);if(A_(t))return n;if(!ka(t)){let i=wl(t);for(;i&&!Hm(i);){if(ca(i)&&!kb(i))return i;i=wl(i)}return n}let r=FE(t,e);for(;r&&OV(r)&&kb(r);)r=FE(r,e);return r&&Hm(r)&&kb(r)&&!hT(r)?n:r||FV(t)||n}const nF=async function(t){const e=this.getOffsetParent||tk,n=this.getDimensions,r=await n(t.floating);return{reference:tF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rF(t){return ua(t).direction==="rtl"}const iF={convertOffsetParentRelativeRectToViewportRelativeRect:$V,getDocumentElement:Oa,getClippingRect:JV,getOffsetParent:tk,getElementRects:nF,getClientRects:KV,getDimensions:eF,getScale:Au,isElement:ca,isRTL:rF};function nk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sF(t,e){let n=null,r;const i=Oa(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const f=t.getBoundingClientRect(),{left:p,top:h,width:m,height:y}=f;if(c||e(),!m||!y)return;const _=Xy(h),v=Xy(i.clientWidth-(p+m)),S=Xy(i.clientHeight-(h+y)),Y=Xy(p),A={rootMargin:-_+"px "+-v+"px "+-S+"px "+-Y+"px",threshold:Ss(0,Tl(1,u))||1};let P=!0;function C(W){const w=W[0].intersectionRatio;if(w!==u){if(!P)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w===1&&!nk(f,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(C,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,A)}n.observe(t)}return o(!0),a}function aF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=mT(t),p=i||a?[...f?zg(f):[],...zg(e)]:[];p.forEach(Y=>{i&&Y.addEventListener("scroll",n,{passive:!0}),a&&Y.addEventListener("resize",n)});const h=f&&c?sF(f,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(Y=>{let[T]=Y;T&&T.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),f&&!u&&y.observe(f),y.observe(e));let _,v=u?Sc(t):null;u&&S();function S(){const Y=Sc(t);v&&!nk(v,Y)&&n(),v=Y,_=requestAnimationFrame(S)}return n(),()=>{var Y;p.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),h?.(),(Y=y)==null||Y.disconnect(),y=null,u&&cancelAnimationFrame(_)}}const oF=kV,lF=IV,cF=UV,uF=RV,fF=CV,LE=EV,dF=XV,hF=(t,e,n)=>{const r=new Map,i={platform:iF,...n},a={...i.platform,_c:r};return WV(t,e,{...i,platform:a})};var pF=typeof document<"u",mF=function(){},ev=pF?z.useLayoutEffect:mF;function $v(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$v(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!$v(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function rk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZE(t,e){const n=rk(t);return Math.round(e*n)/n}function Ib(t){const e=z.useRef(t);return ev(()=>{e.current=t}),e}function gF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:f}=t,[p,h]=z.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=z.useState(r);$v(m,r)||y(r);const[_,v]=z.useState(null),[S,Y]=z.useState(null),T=z.useCallback(G=>{G!==W.current&&(W.current=G,v(G))},[]),A=z.useCallback(G=>{G!==w.current&&(w.current=G,Y(G))},[]),P=a||_,C=o||S,W=z.useRef(null),w=z.useRef(null),k=z.useRef(p),M=u!=null,D=Ib(u),B=Ib(i),O=Ib(f),V=z.useCallback(()=>{if(!W.current||!w.current)return;const G={placement:e,strategy:n,middleware:m};B.current&&(G.platform=B.current),hF(W.current,w.current,G).then(Q=>{const ue={...Q,isPositioned:O.current!==!1};X.current&&!$v(k.current,ue)&&(k.current=ue,b_.flushSync(()=>{h(ue)}))})},[m,e,n,B,O]);ev(()=>{f===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(G=>({...G,isPositioned:!1})))},[f]);const X=z.useRef(!1);ev(()=>(X.current=!0,()=>{X.current=!1}),[]),ev(()=>{if(P&&(W.current=P),C&&(w.current=C),P&&C){if(D.current)return D.current(P,C,V);V()}},[P,C,V,D,M]);const j=z.useMemo(()=>({reference:W,floating:w,setReference:T,setFloating:A}),[T,A]),$=z.useMemo(()=>({reference:P,floating:C}),[P,C]),q=z.useMemo(()=>{const G={position:n,left:0,top:0};if(!$.floating)return G;const Q=ZE($.floating,p.x),ue=ZE($.floating,p.y);return c?{...G,transform:"translate("+Q+"px, "+ue+"px)",...rk($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ue}},[n,c,$.floating,p.x,p.y]);return z.useMemo(()=>({...p,update:V,refs:j,elements:$,floatingStyles:q}),[p,V,j,$,q])}const yF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?LE({element:r.current,padding:i}).fn(n):{}:r?LE({element:r,padding:i}).fn(n):{}}}},vF=(t,e)=>({...oF(t),options:[t,e]}),_F=(t,e)=>({...lF(t),options:[t,e]}),SF=(t,e)=>({...dF(t),options:[t,e]}),bF=(t,e)=>({...cF(t),options:[t,e]}),YF=(t,e)=>({...uF(t),options:[t,e]}),xF=(t,e)=>({...fF(t),options:[t,e]}),TF=(t,e)=>({...yF(t),options:[t,e]});var wF="Arrow",ik=z.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return I.jsx(yr.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});ik.displayName=wF;var WF=ik;function sk(t){const[e,n]=z.useState(void 0);return xl(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,c=f.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gT="Popper",[ak,X_]=To(gT),[EF,ok]=ak(gT),lk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=z.useState(null);return I.jsx(EF,{scope:e,anchor:r,onAnchorChange:i,children:n})};lk.displayName=gT;var ck="PopperAnchor",uk=z.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=ok(ck,n),o=z.useRef(null),c=Dr(e,o),u=z.useRef(null);return z.useEffect(()=>{const f=u.current;u.current=r?.current||o.current,f!==u.current&&a.onAnchorChange(u.current)}),r?null:I.jsx(yr.div,{...i,ref:c})});uk.displayName=ck;var yT="PopperContent",[UF,CF]=ak(yT),fk=z.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:_,...v}=t,S=ok(yT,n),[Y,T]=z.useState(null),A=Dr(e,he=>T(he)),[P,C]=z.useState(null),W=sk(P),w=W?.width??0,k=W?.height??0,M=r+(a!=="center"?"-"+a:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(f)?f:[f],O=B.length>0,V={padding:D,boundary:B.filter(kF),altBoundary:O},{refs:X,floatingStyles:j,placement:$,isPositioned:q,middlewareData:G}=gF({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>aF(...he,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[vF({mainAxis:i+k,alignmentAxis:o}),u&&_F({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?SF():void 0,...V}),u&&bF({...V}),YF({...V,apply:({elements:he,rects:me,availableWidth:Se,availableHeight:Je})=>{const{width:$e,height:We}=me.reference,Ze=he.floating.style;Ze.setProperty("--radix-popper-available-width",`${Se}px`),Ze.setProperty("--radix-popper-available-height",`${Je}px`),Ze.setProperty("--radix-popper-anchor-width",`${$e}px`),Ze.setProperty("--radix-popper-anchor-height",`${We}px`)}}),P&&TF({element:P,padding:c}),IF({arrowWidth:w,arrowHeight:k}),m&&xF({strategy:"referenceHidden",...V})]}),[Q,ue]=pk($),K=Aa(_);xl(()=>{q&&K?.()},[q,K]);const ee=G.arrow?.x,fe=G.arrow?.y,te=G.arrow?.centerOffset!==0,[ie,le]=z.useState();return xl(()=>{Y&&le(window.getComputedStyle(Y).zIndex)},[Y]),I.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:q?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:I.jsx(UF,{scope:n,placedSide:Q,onArrowChange:C,arrowX:ee,arrowY:fe,shouldHideArrow:te,children:I.jsx(yr.div,{"data-side":Q,"data-align":ue,...v,ref:A,style:{...v.style,animation:q?void 0:"none"}})})})});fk.displayName=yT;var dk="PopperArrow",AF={top:"bottom",right:"left",bottom:"top",left:"right"},hk=z.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=CF(dk,r),o=AF[a.placedSide];return I.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:I.jsx(WF,{...i,ref:n,style:{...i.style,display:"block"}})})});hk.displayName=dk;function kF(t){return t!==null}var IF=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,p]=pk(n),h={start:"0%",center:"50%",end:"100%"}[p],m=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+u/2;let _="",v="";return f==="bottom"?(_=o?h:`${m}px`,v=`${-u}px`):f==="top"?(_=o?h:`${m}px`,v=`${r.floating.height+u}px`):f==="right"?(_=`${-u}px`,v=o?h:`${y}px`):f==="left"&&(_=`${r.floating.width+u}px`,v=o?h:`${y}px`),{data:{x:_,y:v}}}});function pk(t){const[e,n="center"]=t.split("-");return[e,n]}var mk=lk,gk=uk,yk=fk,vk=hk,XF=Symbol("radix.slottable");function RF(t){const e=({children:n})=>I.jsx(I.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=XF,e}var PF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MF="VisuallyHidden",_k=z.forwardRef((t,e)=>I.jsx(yr.span,{...t,ref:e,style:{...PF,...t.style}}));_k.displayName=MF;var OF=_k,[R_]=To("Tooltip",[X_]),P_=X_(),Sk="TooltipProvider",NF=700,VY="tooltip.open",[DF,vT]=R_(Sk),bk=t=>{const{__scopeTooltip:e,delayDuration:n=NF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=z.useRef(!0),c=z.useRef(!1),u=z.useRef(0);return z.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),I.jsx(DF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:z.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:z.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:z.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:a})};bk.displayName=Sk;var $g="Tooltip",[BF,c1]=R_($g),Yk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=t,u=vT($g,t.__scopeTooltip),f=P_(e),[p,h]=z.useState(null),m=hc(),y=z.useRef(0),_=o??u.disableHoverableContent,v=c??u.delayDuration,S=z.useRef(!1),[Y,T]=o1({prop:r,defaultProp:i??!1,onChange:w=>{w?(u.onOpen(),document.dispatchEvent(new CustomEvent(VY))):u.onClose(),a?.(w)},caller:$g}),A=z.useMemo(()=>Y?S.current?"delayed-open":"instant-open":"closed",[Y]),P=z.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,T(!0)},[T]),C=z.useCallback(()=>{window.clearTimeout(y.current),y.current=0,T(!1)},[T]),W=z.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,T(!0),y.current=0},v)},[v,T]);return z.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),I.jsx(mk,{...f,children:I.jsx(BF,{scope:e,contentId:m,open:Y,stateAttribute:A,trigger:p,onTriggerChange:h,onTriggerEnter:z.useCallback(()=>{u.isOpenDelayedRef.current?W():P()},[u.isOpenDelayedRef,W,P]),onTriggerLeave:z.useCallback(()=>{_?C():(window.clearTimeout(y.current),y.current=0)},[C,_]),onOpen:P,onClose:C,disableHoverableContent:_,children:n})})};Yk.displayName=$g;var FY="TooltipTrigger",xk=z.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=c1(FY,n),a=vT(FY,n),o=P_(n),c=z.useRef(null),u=Dr(e,c,i.onTriggerChange),f=z.useRef(!1),p=z.useRef(!1),h=z.useCallback(()=>f.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),I.jsx(gk,{asChild:!0,...o,children:I.jsx(yr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Ht(t.onPointerMove,m=>{m.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ht(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ht(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ht(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ht(t.onBlur,i.onClose),onClick:Ht(t.onClick,i.onClose)})})});xk.displayName=FY;var _T="TooltipPortal",[VF,FF]=R_(_T,{forceMount:void 0}),Tk=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,a=c1(_T,e);return I.jsx(VF,{scope:e,forceMount:n,children:I.jsx(fa,{present:n||a.open,children:I.jsx(W_,{asChild:!0,container:i,children:r})})})};Tk.displayName=_T;var Gm="TooltipContent",wk=z.forwardRef((t,e)=>{const n=FF(Gm,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=c1(Gm,t.__scopeTooltip);return I.jsx(fa,{present:r||o.open,children:o.disableHoverableContent?I.jsx(Wk,{side:i,...a,ref:e}):I.jsx(LF,{side:i,...a,ref:e})})}),LF=z.forwardRef((t,e)=>{const n=c1(Gm,t.__scopeTooltip),r=vT(Gm,t.__scopeTooltip),i=z.useRef(null),a=Dr(e,i),[o,c]=z.useState(null),{trigger:u,onClose:f}=n,p=i.current,{onPointerInTransitChange:h}=r,m=z.useCallback(()=>{c(null),h(!1)},[h]),y=z.useCallback((_,v)=>{const S=_.currentTarget,Y={x:_.clientX,y:_.clientY},T=KF(Y,S.getBoundingClientRect()),A=jF(Y,T),P=HF(v.getBoundingClientRect()),C=qF([...A,...P]);c(C),h(!0)},[h]);return z.useEffect(()=>()=>m(),[m]),z.useEffect(()=>{if(u&&p){const _=S=>y(S,p),v=S=>y(S,u);return u.addEventListener("pointerleave",_),p.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",_),p.removeEventListener("pointerleave",v)}}},[u,p,y,m]),z.useEffect(()=>{if(o){const _=v=>{const S=v.target,Y={x:v.clientX,y:v.clientY},T=u?.contains(S)||p?.contains(S),A=!GF(Y,o);T?m():A&&(m(),f())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,p,o,f,m]),I.jsx(Wk,{...t,ref:a})}),[ZF,zF]=R_($g,{isInside:!1}),$F=RF("TooltipContent"),Wk=z.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=t,u=c1(Gm,n),f=P_(n),{onClose:p}=u;return z.useEffect(()=>(document.addEventListener(VY,p),()=>document.removeEventListener(VY,p)),[p]),z.useEffect(()=>{if(u.trigger){const h=m=>{m.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,p]),I.jsx(w_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:I.jsxs(yk,{"data-state":u.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[I.jsx($F,{children:r}),I.jsx(ZF,{scope:n,isInside:!0,children:I.jsx(OF,{id:u.contentId,role:"tooltip",children:i||r})})]})})});wk.displayName=Gm;var Ek="TooltipArrow",Uk=z.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=P_(n);return zF(Ek,n).isInside?null:I.jsx(vk,{...i,...r,ref:e})});Uk.displayName=Ek;function KF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function HF(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function GF(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],u=e[o],f=c.x,p=c.y,h=u.x,m=u.y;p>r!=m>r&&n<(h-f)*(r-p)/(m-p)+f&&(i=!i)}return i}function qF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QF(e)}function QF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JF=bk,eL=Yk,tL=xk,nL=Tk,rL=wk,iL=Uk;function ST(t){const e=Tt.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const i=r===void 0?0:r;let a;return e[3]!==i||e[4]!==n?(a=I.jsx(JF,{"data-slot":"tooltip-provider",delayDuration:i,...n}),e[3]=i,e[4]=n,e[5]=a):a=e[5],a}function M_(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(ST,{children:I.jsx(eL,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function O_(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(tL,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function N_(t){const e=Tt.c(13);let n,r,i,a;e[0]!==t?({className:r,sideOffset:a,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?0:a;let c;e[5]!==r?(c=Jt("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=c):c=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=I.jsx(iL,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=u):u=e[7];let f;return e[8]!==n||e[9]!==i||e[10]!==o||e[11]!==c?(f=I.jsx(nL,{children:I.jsxs(rL,{"data-slot":"tooltip-content",sideOffset:o,className:c,...i,children:[n,u]})}),e[8]=n,e[9]=i,e[10]=o,e[11]=c,e[12]=f):f=e[12],f}const sL="sidebar_state",aL=3600*24*7,oL="16rem",lL="18rem",cL="3rem",uL="b",Ck=z.createContext(null);function D_(){const t=z.useContext(Ck);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function fL(t){const e=Tt.c(36);let n,r,i,a,o,c,u;e[0]!==t?({defaultOpen:u,open:i,onOpenChange:o,className:r,style:c,children:n,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=c,e[7]=u):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],c=e[6],u=e[7]);const f=u===void 0?!0:u,p=DN(),[h,m]=z.useState(!1),[y,_]=z.useState(f),v=i??y;let S;e[8]!==v||e[9]!==o?(S=X=>{const j=typeof X=="function"?X(v):X;o?o(j):_(j),document.cookie=`${sL}=${j}; path=/; max-age=${aL}`},e[8]=v,e[9]=o,e[10]=S):S=e[10];const Y=S;let T;e[11]!==p||e[12]!==Y?(T=()=>p?m(hL):Y(dL),e[11]=p,e[12]=Y,e[13]=T):T=e[13];const A=T;let P,C;e[14]!==A?(P=()=>{const X=j=>{j.key===uL&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),A())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},C=[A],e[14]=A,e[15]=P,e[16]=C):(P=e[15],C=e[16]),z.useEffect(P,C);const W=v?"expanded":"collapsed";let w;e[17]!==p||e[18]!==v||e[19]!==h||e[20]!==Y||e[21]!==W||e[22]!==A?(w={state:W,open:v,setOpen:Y,isMobile:p,openMobile:h,setOpenMobile:m,toggleSidebar:A},e[17]=p,e[18]=v,e[19]=h,e[20]=Y,e[21]=W,e[22]=A,e[23]=w):w=e[23];const k=w;let M;e[24]!==c?(M={"--sidebar-width":oL,"--sidebar-width-icon":cL,...c},e[24]=c,e[25]=M):M=e[25];const D=M;let B;e[26]!==r?(B=Jt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),e[26]=r,e[27]=B):B=e[27];let O;e[28]!==n||e[29]!==a||e[30]!==D||e[31]!==B?(O=I.jsx(ST,{delayDuration:0,children:I.jsx("div",{"data-slot":"sidebar-wrapper",style:D,className:B,...a,children:n})}),e[28]=n,e[29]=a,e[30]=D,e[31]=B,e[32]=O):O=e[32];let V;return e[33]!==k||e[34]!==O?(V=I.jsx(Ck.Provider,{value:k,children:O}),e[33]=k,e[34]=O,e[35]=V):V=e[35],V}function dL(t){return!t}function hL(t){return!t}function pL(t){const e=Tt.c(46);let n,r,i,a,o,c;e[0]!==t?({side:a,variant:o,collapsible:c,className:r,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=c):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],c=e[6]);const u=a===void 0?"left":a,f=o===void 0?"sidebar":o,p=c===void 0?"offcanvas":c,{isMobile:h,state:m,openMobile:y,setOpenMobile:_}=D_();if(p==="none"){let M;e[7]!==r?(M=Jt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),e[7]=r,e[8]=M):M=e[8];let D;return e[9]!==n||e[10]!==i||e[11]!==M?(D=I.jsx("div",{"data-slot":"sidebar",className:M,...i,children:n}),e[9]=n,e[10]=i,e[11]=M,e[12]=D):D=e[12],D}if(h){let M;e[13]===Symbol.for("react.memo_cache_sentinel")?(M={"--sidebar-width":lL},e[13]=M):M=e[13];let D;e[14]===Symbol.for("react.memo_cache_sentinel")?(D=I.jsxs(dV,{className:"sr-only",children:[I.jsx(hV,{children:"Sidebar"}),I.jsx(pV,{children:"Displays the mobile sidebar."})]}),e[14]=D):D=e[14];let B;e[15]!==n?(B=I.jsx("div",{className:"flex h-full w-full flex-col",children:n}),e[15]=n,e[16]=B):B=e[16];let O;e[17]!==u||e[18]!==B?(O=I.jsxs(fV,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:M,side:u,children:[D,B]}),e[17]=u,e[18]=B,e[19]=O):O=e[19];let V;return e[20]!==y||e[21]!==i||e[22]!==_||e[23]!==O?(V=I.jsx(lV,{open:y,onOpenChange:_,...i,children:O}),e[20]=y,e[21]=i,e[22]=_,e[23]=O,e[24]=V):V=e[24],V}const v=m==="collapsed"?p:"",S=f==="floating"||f==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)";let Y;e[25]!==S?(Y=Jt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",S),e[25]=S,e[26]=Y):Y=e[26];let T;e[27]!==Y?(T=I.jsx("div",{"data-slot":"sidebar-gap",className:Y}),e[27]=Y,e[28]=T):T=e[28];const A=u==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",P=f==="floating"||f==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l";let C;e[29]!==r||e[30]!==A||e[31]!==P?(C=Jt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",A,P,r),e[29]=r,e[30]=A,e[31]=P,e[32]=C):C=e[32];let W;e[33]!==n?(W=I.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n}),e[33]=n,e[34]=W):W=e[34];let w;e[35]!==i||e[36]!==C||e[37]!==W?(w=I.jsx("div",{"data-slot":"sidebar-container",className:C,...i,children:W}),e[35]=i,e[36]=C,e[37]=W,e[38]=w):w=e[38];let k;return e[39]!==u||e[40]!==m||e[41]!==w||e[42]!==v||e[43]!==T||e[44]!==f?(k=I.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":m,"data-collapsible":v,"data-variant":f,"data-side":u,"data-slot":"sidebar",children:[T,w]}),e[39]=u,e[40]=m,e[41]=w,e[42]=v,e[43]=T,e[44]=f,e[45]=k):k=e[45],k}function mL(t){const e=Tt.c(17);let n,r,i;e[0]!==t?({className:n,onClick:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const{toggleSidebar:a,open:o}=D_();let c;e[4]!==n?(c=Jt("size-7 bg-muted hover:bg-muted/80",n),e[4]=n,e[5]=c):c=e[5];let u;e[6]!==r||e[7]!==a?(u=m=>{r?.(m),a()},e[6]=r,e[7]=a,e[8]=u):u=e[8];let f;e[9]!==o?(f=o?I.jsx(iN,{}):I.jsx(aN,{}),e[9]=o,e[10]=f):f=e[10];let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=I.jsx("span",{className:"sr-only",children:"Toggle Sidebar"}),e[11]=p):p=e[11];let h;return e[12]!==i||e[13]!==c||e[14]!==u||e[15]!==f?(h=I.jsxs(ts,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:c,onClick:u,...i,children:[f,p]}),e[12]=i,e[13]=c,e[14]=u,e[15]=f,e[16]=h):h=e[16],h}function gL(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex flex-col gap-2 p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function yL(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex flex-col gap-2 p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function vL(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Ak(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("relative flex w-full min-w-0 flex-col p-2",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function _L(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({className:n,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const o=(i===void 0?!1:i)?s1:"div";let c;e[4]!==n?(c=Jt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),e[4]=n,e[5]=c):c=e[5];let u;return e[6]!==o||e[7]!==r||e[8]!==c?(u=I.jsx(o,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:c,...r}),e[6]=o,e[7]=r,e[8]=c,e[9]=u):u=e[9],u}function kk(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("w-full text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Ik(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex w-full min-w-0 flex-col gap-1",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Xk(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("group/menu-item relative",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}const SL=K5("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Rk(t){const e=Tt.c(28);let n,r,i,a,o,c,u;e[0]!==t?({asChild:i,isActive:a,variant:o,size:c,tooltip:u,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=c,e[7]=u):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],c=e[6],u=e[7]);const f=i===void 0?!1:i,p=a===void 0?!1:a,h=o===void 0?"default":o,m=c===void 0?"default":c,y=f?s1:"button",{isMobile:_,state:v}=D_();let S;e[8]!==n||e[9]!==m||e[10]!==h?(S=Jt(SL({variant:h,size:m}),n),e[8]=n,e[9]=m,e[10]=h,e[11]=S):S=e[11];let Y;e[12]!==y||e[13]!==p||e[14]!==r||e[15]!==m||e[16]!==S?(Y=I.jsx(y,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":m,"data-active":p,className:S,...r}),e[12]=y,e[13]=p,e[14]=r,e[15]=m,e[16]=S,e[17]=Y):Y=e[17];const T=Y;if(!u)return T;if(typeof u=="string"){let w;e[18]!==u?(w={children:u},e[18]=u,e[19]=w):w=e[19],u=w}let A;e[20]!==T?(A=I.jsx(O_,{asChild:!0,children:T}),e[20]=T,e[21]=A):A=e[21];const P=v!=="collapsed"||_;let C;e[22]!==P||e[23]!==u?(C=I.jsx(N_,{side:"right",align:"center",hidden:P,...u}),e[22]=P,e[23]=u,e[24]=C):C=e[24];let W;return e[25]!==A||e[26]!==C?(W=I.jsxs(M_,{children:[A,C]}),e[25]=A,e[26]=C,e[27]=W):W=e[27],W}function Pk(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function bT(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("group/menu-sub-item relative",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function YT(t){const e=Tt.c(16);let n,r,i,a,o;e[0]!==t?({asChild:i,size:a,isActive:o,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const c=i===void 0?!1:i,u=a===void 0?"md":a,f=o===void 0?!1:o,p=c?s1:"a",h=u==="sm"&&"text-xs",m=u==="md"&&"text-sm";let y;e[6]!==n||e[7]!==h||e[8]!==m?(y=Jt("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",h,m,"group-data-[collapsible=icon]:hidden",n),e[6]=n,e[7]=h,e[8]=m,e[9]=y):y=e[9];let _;return e[10]!==p||e[11]!==f||e[12]!==r||e[13]!==u||e[14]!==y?(_=I.jsx(p,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":u,"data-active":f,className:y,...r}),e[10]=p,e[11]=f,e[12]=r,e[13]=u,e[14]=y,e[15]=_):_=e[15],_}const qm={};function Mk(t){return"init"in t}function LY(t){return!!t.write}function zE(t){return"v"in t||"e"in t}function Kv(t){if("e"in t)throw t.e;if((qm?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v}const jv=new WeakMap;function Ok(t){var e;return Hv(t)&&!!((e=jv.get(t))!=null&&e[0])}function bL(t){const e=jv.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(n=>n()))}function ZY(t,e){let n=jv.get(t);if(!n){n=[!0,new Set],jv.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)}function Hv(t){return typeof t?.then=="function"}function Nk(t,e,n){if(!n.p.has(t)){n.p.add(t);const r=()=>n.p.delete(t);e.then(r,r)}}function Dk(t,e,n){var r;const i=new Set;for(const a of((r=n.get(t))==null?void 0:r.t)||[])n.has(a)&&i.add(a);for(const a of e.p)i.add(a);return i}const YL=(t,e,...n)=>e.read(...n),xL=(t,e,...n)=>e.write(...n),TL=(t,e)=>{var n;return(n=e.unstable_onInit)==null?void 0:n.call(e,t)},wL=(t,e,n)=>{var r;return(r=e.onMount)==null?void 0:r.call(e,n)},WL=(t,e)=>{const n=Ii(t),r=n[0],i=n[9];if((qm?"production":void 0)!=="production"&&!e)throw new Error("Atom is undefined or null");let a=r.get(e);return a||(a={d:new Map,p:new Set,n:0},r.set(e,a),i?.(t,e)),a},EL=t=>{const e=Ii(t),n=e[1],r=e[3],i=e[4],a=e[5],o=e[6],c=e[13],u=[],f=p=>{try{p()}catch(h){u.push(h)}};do{o.f&&f(o.f);const p=new Set,h=p.add.bind(p);r.forEach(m=>{var y;return(y=n.get(m))==null?void 0:y.l.forEach(h)}),r.clear(),a.forEach(h),a.clear(),i.forEach(h),i.clear(),p.forEach(f),r.size&&c(t)}while(r.size||a.size||i.size);if(u.length)throw new AggregateError(u)},UL=t=>{const e=Ii(t),n=e[1],r=e[2],i=e[3],a=e[11],o=e[14],c=e[17],u=[],f=new WeakSet,p=new WeakSet,h=Array.from(i);for(;h.length;){const m=h[h.length-1],y=a(t,m);if(p.has(m)){h.pop();continue}if(f.has(m)){if(r.get(m)===y.n)u.push([m,y]);else if((qm?"production":void 0)!=="production"&&r.has(m))throw new Error("[Bug] invalidated atom exists");p.add(m),h.pop();continue}f.add(m);for(const _ of Dk(m,y,n))f.has(_)||h.push(_)}for(let m=u.length-1;m>=0;--m){const[y,_]=u[m];let v=!1;for(const S of _.d.keys())if(S!==y&&i.has(S)){v=!0;break}v&&(o(t,y),c(t,y)),r.delete(y)}},CL=(t,e)=>{var n,r;const i=Ii(t),a=i[1],o=i[2],c=i[3],u=i[6],f=i[7],p=i[11],h=i[12],m=i[13],y=i[14],_=i[16],v=i[17],S=p(t,e);if(zE(S)&&(a.has(e)&&o.get(e)!==S.n||Array.from(S.d).every(([k,M])=>y(t,k).n===M)))return S;S.d.clear();let Y=!0;function T(){a.has(e)&&(v(t,e),m(t),h(t))}function A(k){var M;if(k===e){const B=p(t,k);if(!zE(B))if(Mk(k))Gv(t,k,k.init);else throw new Error("no atom init");return Kv(B)}const D=y(t,k);try{return Kv(D)}finally{S.d.set(k,D.n),Ok(S.v)&&Nk(e,S.v,D),(M=a.get(k))==null||M.t.add(e),Y||T()}}let P,C;const W={get signal(){return P||(P=new AbortController),P.signal},get setSelf(){return(qm?"production":void 0)!=="production"&&!LY(e)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&LY(e)&&(C=(...k)=>{if((qm?"production":void 0)!=="production"&&Y&&console.warn("setSelf function cannot be called in sync"),!Y)try{return _(t,e,...k)}finally{m(t),h(t)}}),C}},w=S.n;try{const k=f(t,e,A,W);return Gv(t,e,k),Hv(k)&&(ZY(k,()=>P?.abort()),k.then(T,T)),(n=u.r)==null||n.call(u,e),S}catch(k){return delete S.v,S.e=k,++S.n,S}finally{Y=!1,w!==S.n&&o.get(e)===w&&(o.set(e,S.n),c.add(e),(r=u.c)==null||r.call(u,e))}},AL=(t,e)=>{const n=Ii(t),r=n[1],i=n[2],a=n[11],o=[e];for(;o.length;){const c=o.pop(),u=a(t,c);for(const f of Dk(c,u,r)){const p=a(t,f);i.set(f,p.n),o.push(f)}}},Bk=(t,e,...n)=>{const r=Ii(t),i=r[3],a=r[6],o=r[8],c=r[11],u=r[12],f=r[13],p=r[14],h=r[15],m=r[17];let y=!0;const _=S=>Kv(p(t,S)),v=(S,...Y)=>{var T;const A=c(t,S);try{if(S===e){if(!Mk(S))throw new Error("atom not writable");const P=A.n,C=Y[0];Gv(t,S,C),m(t,S),P!==A.n&&(i.add(S),(T=a.c)==null||T.call(a,S),h(t,S));return}else return Bk(t,S,...Y)}finally{y||(f(t),u(t))}};try{return o(t,e,_,v,...n)}finally{y=!1}},kL=(t,e)=>{var n;const r=Ii(t),i=r[1],a=r[3],o=r[6],c=r[11],u=r[15],f=r[18],p=r[19],h=c(t,e),m=i.get(e);if(m&&!Ok(h.v)){for(const[y,_]of h.d)if(!m.d.has(y)){const v=c(t,y);f(t,y).t.add(e),m.d.add(y),_!==v.n&&(a.add(y),(n=o.c)==null||n.call(o,y),u(t,y))}for(const y of m.d||[])if(!h.d.has(y)){m.d.delete(y);const _=p(t,y);_?.t.delete(e)}}},Vk=(t,e)=>{var n;const r=Ii(t),i=r[1],a=r[4],o=r[6],c=r[10],u=r[11],f=r[12],p=r[13],h=r[14],m=r[16],y=u(t,e);let _=i.get(e);if(!_){h(t,e);for(const v of y.d.keys())Vk(t,v).t.add(e);if(_={l:new Set,d:new Set(y.d.keys()),t:new Set},i.set(e,_),(n=o.m)==null||n.call(o,e),LY(e)){const v=()=>{let S=!0;const Y=(...T)=>{try{return m(t,e,...T)}finally{S||(p(t),f(t))}};try{const T=c(t,e,Y);T&&(_.u=()=>{S=!0;try{T()}finally{S=!1}})}finally{S=!1}};a.add(v)}}return _},IL=(t,e)=>{var n;const r=Ii(t),i=r[1],a=r[5],o=r[6],c=r[11],u=r[19],f=c(t,e);let p=i.get(e);if(p&&!p.l.size&&!Array.from(p.t).some(h=>{var m;return(m=i.get(h))==null?void 0:m.d.has(e)})){p.u&&a.add(p.u),p=void 0,i.delete(e),(n=o.u)==null||n.call(o,e);for(const h of f.d.keys()){const m=u(t,h);m?.t.delete(e)}return}return p},Gv=(t,e,n)=>{const r=Ii(t)[11],i=r(t,e),a="v"in i,o=i.v;if(Hv(n))for(const c of i.d.keys())Nk(e,n,r(t,c));i.v=n,delete i.e,(!a||!Object.is(o,i.v))&&(++i.n,Hv(o)&&bL(o))},XL=(t,e)=>{const n=Ii(t)[14];return Kv(n(t,e))},RL=(t,e,...n)=>{const r=Ii(t),i=r[12],a=r[13],o=r[16];try{return o(t,e,...n)}finally{a(t),i(t)}},PL=(t,e,n)=>{const r=Ii(t),i=r[12],a=r[18],o=r[19],u=a(t,e).l;return u.add(n),i(t),()=>{u.delete(n),o(t,e),i(t)}},Fk=new WeakMap,Ii=t=>{const e=Fk.get(t);if((qm?"production":void 0)!=="production"&&!e)throw new Error("Store must be created by buildStore to read its building blocks");return e};function ML(...t){const e={get(r){const i=Ii(e)[21];return i(e,r)},set(r,...i){const a=Ii(e)[22];return a(e,r,...i)},sub(r,i){const a=Ii(e)[23];return a(e,r,i)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},YL,xL,TL,wL,WL,EL,UL,CL,AL,Bk,kL,Vk,IL,Gv,XL,RL,PL,void 0].map((r,i)=>t[i]||r);return Fk.set(e,Object.freeze(n)),e}const Lk={};let OL=0;function pt(t,e){const n=`atom${++OL}`,r={toString(){return(Lk?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=NL,r.write=DL),e&&(r.write=e),r}function NL(t){return t(this)}function DL(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}function BL(){return ML()}let ug;function VL(){return ug||(ug=BL(),(Lk?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ug),globalThis.__JOTAI_DEFAULT_STORE__!==ug&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ug}const FL={},LL=z.createContext(void 0);function m0(t){return z.useContext(LL)||VL()}const zY=t=>typeof t?.then=="function",$Y=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},ZL=gt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:($Y(t),t)}),Xb=new WeakMap,$E=(t,e)=>{let n=Xb.get(t);return n||(n=new Promise((r,i)=>{let a=t;const o=f=>p=>{a===f&&r(p)},c=f=>p=>{a===f&&i(p)},u=()=>{try{const f=e();zY(f)?(Xb.set(f,n),a=f,f.then(o(f),c(f)),ZY(f,u)):r(f)}catch(f){i(f)}};t.then(o(t),c(t)),ZY(t,u)}),Xb.set(t,n)),n};function Qt(t,e){const{delay:n,unstable_promiseStatus:r=!gt.use}={},i=m0(),[[a,o,c],u]=z.useReducer(p=>{const h=i.get(t);return Object.is(p[0],h)&&p[1]===i&&p[2]===t?p:[h,i,t]},void 0,()=>[i.get(t),i,t]);let f=a;if((o!==i||c!==t)&&(u(),f=i.get(t)),z.useEffect(()=>{const p=i.sub(t,()=>{if(r)try{const h=i.get(t);zY(h)&&$Y($E(h,()=>i.get(t)))}catch{}if(typeof n=="number"){setTimeout(u,n);return}u()});return u(),p},[i,t,n,r]),z.useDebugValue(f),zY(f)){const p=$E(f,()=>i.get(t));return r&&$Y(p),ZL(p)}return f}function kn(t,e){const n=m0();return z.useCallback((...i)=>{if((FL?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function qv(t,e){return[Qt(t),kn(t)]}const xT={},zL=Symbol((xT?"production":void 0)!=="production"?"RESET":"");function Na(t,e){let n=null;const r=new Map,i=new Set,a=c=>{let u;if(u=r.get(c),u!==void 0)if(n?.(u[1],c))a.remove(c);else return u[0];const f=t(c);return r.set(c,[f,Date.now()]),o("CREATE",c,f),f},o=(c,u,f)=>{for(const p of i)p({type:c,param:u,atom:f})};return a.unstable_listen=c=>(i.add(c),()=>{i.delete(c)}),a.getParams=()=>r.keys(),a.remove=c=>{{if(!r.has(c))return;const[u]=r.get(c);r.delete(c),o("REMOVE",c,u)}},a.setShouldRemove=c=>{if(n=c,!!n)for(const[u,[f,p]]of r)n(p,u)&&(r.delete(u),o("REMOVE",u,f))},a}const Zk=t=>typeof t?.then=="function";function $L(t=()=>{try{return window.localStorage}catch(n){(xT?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const a={getItem:(u,f)=>{var p,h;const m=_=>{if(_=_||"",r!==_){try{i=JSON.parse(_,e?.reviver)}catch{return f}r=_}return i},y=(h=(p=t())==null?void 0:p.getItem(u))!=null?h:null;return Zk(y)?y.then(m):m(y)},setItem:(u,f)=>{var p;return(p=t())==null?void 0:p.setItem(u,JSON.stringify(f,void 0))},removeItem:u=>{var f;return(f=t())==null?void 0:f.removeItem(u)}},o=u=>(f,p,h)=>u(f,m=>{let y;try{y=JSON.parse(m||"")}catch{y=h}p(y)});let c;try{c=(n=t())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(u,f)=>{if(!(t()instanceof window.Storage))return()=>{};const p=h=>{h.storageArea===t()&&h.key===u&&f(h.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),c&&(a.subscribe=o(c)),a}const KL=$L();function zk(t,e,n=KL,r){const i=pt(e);return(xT?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=o=>{o(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,o,e)),c},pt(o=>o(i),(o,c,u)=>{const f=typeof u=="function"?u(o(i)):u;return f===zL?(c(i,e),n.removeItem(t)):Zk(f)?f.then(p=>(c(i,p),n.setItem(t,p))):(c(i,f),n.setItem(t,f))})}const mo=Na(t=>pt(null)),bc=pt([]),jL=pt(t=>{const e=t(bc),n=new Set;for(const r of e){const i=t(mo(r));if(i)for(const a of i.channelIds)n.add(a)}return n});class B_{id;recordId;fileHashes;metadataFileHashes;timeStartEpochUs;timeEndEpochUs;sourceType;hasValidTime;constructor(e,n,r,i,a,o="unknown",c,u=!0){this.id=e,this.recordId=n,this.fileHashes=r,this.timeStartEpochUs=i,this.timeEndEpochUs=a,this.sourceType=o,this.metadataFileHashes=c,this.hasValidTime=u}supportsPositions(){const e=this.getType();return e==="image_collection"||e==="video"||e==="mediabunny_video"}frameIndexToTimestamp(e){const n=this.timeEndEpochUs-this.timeStartEpochUs,r=this.getFrameCount();return r<=1?this.timeStartEpochUs:this.timeStartEpochUs+e/(r-1)*n}timestampToFrameIndex(e){const n=this.timeEndEpochUs-this.timeStartEpochUs;if(n<=0)return 0;const r=(e-this.timeStartEpochUs)/n;return Math.floor(r*this.getFrameCount())}}class KY extends B_{frameRate;timestamps;constructor(e,n,r,i,a,o,c=1,u="unknown",f,p=!0){super(e,n,r,a,o,u,f,p),this.frameRate=c,this.timestamps=i}getType(){return"image_collection"}getFrameCount(){return this.fileHashes.length}getFrameHash(e){return this.fileHashes[e]??null}getDuration(){return this.timestamps.length>1?(this.timestamps[this.timestamps.length-1]-this.timestamps[0])/1e6:this.getFrameCount()/this.frameRate}getFrameRate(){return this.frameRate}frameIndexToTimestamp(e){return e<0||e>=this.timestamps.length?this.timeStartEpochUs:this.timestamps[e]}timestampToFrameIndex(e){if(this.timestamps.length===0||e<=this.timestamps[0])return 0;if(e>=this.timestamps[this.timestamps.length-1])return this.timestamps.length-1;let n=0,r=this.timestamps.length-1;for(;n<r-1;){const o=Math.floor((n+r)/2);this.timestamps[o]<=e?n=o:r=o}const i=Math.abs(this.timestamps[n]-e),a=Math.abs(this.timestamps[r]-e);return i<=a?n:r}}class HL extends B_{duration;frameRate;constructor(e,n,r,i,a,o,c=30,u="unknown",f,p=!0){super(e,n,r,i,a,u,f,p),this.duration=o,this.frameRate=c}getType(){return"video"}getFrameCount(){return Math.floor(this.duration*this.frameRate)}getFrameHash(e){return this.fileHashes[0]??null}getDuration(){return this.duration}getFrameRate(){return this.frameRate}indexToTimestamp(e){return e/this.frameRate}timestampToIndex(e){return Math.floor(e*this.frameRate)}}class Ia extends B_{streamId;remoteStream;constructor(e,n,r=Date.now()*1e3){super(e,"",[],r,r),this.streamId=n,this.remoteStream=null}getType(){return"livestream"}getFrameCount(){const e=this.getDuration();return Math.floor(e*this.getFrameRate())}getFrameHash(e){return null}getDuration(){return(this.timeEndEpochUs-this.timeStartEpochUs)/1e6}getFrameRate(){return 15}setRemoteStream(e){this.remoteStream=e}getRemoteStream(){return this.remoteStream}updateCurrentTime(){this.timeEndEpochUs=Date.now()*1e3}}class jY extends B_{duration;timestamps;constructor(e,n,r,i,a,o,c,u="unknown",f,p=!0){super(e,n,r,i,a,u,f,p),this.duration=o,this.timestamps=c}getType(){return"mediabunny_video"}getFrameCount(){return this.timestamps.length}getFrameHash(e){return this.fileHashes[0]??null}getDuration(){return this.duration}getFrameRate(){return(this.timestamps.length-1)/(this.timestamps[this.timestamps.length-1]-this.timestamps[0])}indexToTimestamp(e){if(this.timestamps.length===0)return 0;const n=Math.max(0,Math.min(e,this.timestamps.length-1));return this.timestamps[n]}timestampToIndex(e){let n=0;for(let r=0;r<this.timestamps.length&&this.timestamps[r]-1e-4<=e;r++)n=r;return n}}const Xa=Object.create(null);Xa.open="0";Xa.close="1";Xa.ping="2";Xa.pong="3";Xa.message="4";Xa.upgrade="5";Xa.noop="6";const tv=Object.create(null);Object.keys(Xa).forEach(t=>{tv[Xa[t]]=t});const HY={type:"error",data:"parser error"},$k=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Kk=typeof ArrayBuffer=="function",jk=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,TT=({type:t,data:e},n,r)=>$k&&e instanceof Blob?n?r(e):KE(e,r):Kk&&(e instanceof ArrayBuffer||jk(e))?n?r(e):KE(new Blob([e]),r):r(Xa[t]+(e||"")),KE=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function jE(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Rb;function GL(t,e){if($k&&t.data instanceof Blob)return t.data.arrayBuffer().then(jE).then(e);if(Kk&&(t.data instanceof ArrayBuffer||jk(t.data)))return e(jE(t.data));TT(t,!1,n=>{Rb||(Rb=new TextEncoder),e(Rb.encode(n))})}const HE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<HE.length;t++)Sg[HE.charCodeAt(t)]=t;const qL=t=>{let e=t.length*.75,n=t.length,r,i=0,a,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),p=new Uint8Array(f);for(r=0;r<n;r+=4)a=Sg[t.charCodeAt(r)],o=Sg[t.charCodeAt(r+1)],c=Sg[t.charCodeAt(r+2)],u=Sg[t.charCodeAt(r+3)],p[i++]=a<<2|o>>4,p[i++]=(o&15)<<4|c>>2,p[i++]=(c&3)<<6|u&63;return f},QL=typeof ArrayBuffer=="function",wT=(t,e)=>{if(typeof t!="string")return{type:"message",data:Hk(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:JL(t.substring(1),e)}:tv[n]?t.length>1?{type:tv[n],data:t.substring(1)}:{type:tv[n]}:HY},JL=(t,e)=>{if(QL){const n=qL(t);return Hk(n,e)}else return{base64:!0,data:t}},Hk=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Gk="",eZ=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((a,o)=>{TT(a,!1,c=>{r[o]=c,++i===n&&e(r.join(Gk))})})},tZ=(t,e)=>{const n=t.split(Gk),r=[];for(let i=0;i<n.length;i++){const a=wT(n[i],e);if(r.push(a),a.type==="error")break}return r};function nZ(){return new TransformStream({transform(t,e){GL(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Pb;function Ry(t){return t.reduce((e,n)=>e+n.length,0)}function Py(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function rZ(t,e){Pb||(Pb=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(r===0){if(Ry(n)<1)break;const u=Py(n,1);a=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Ry(n)<2)break;const u=Py(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Ry(n)<8)break;const u=Py(n,8),f=new DataView(u.buffer,u.byteOffset,u.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(HY);break}i=p*Math.pow(2,32)+f.getUint32(4),r=3}else{if(Ry(n)<i)break;const u=Py(n,i);c.enqueue(wT(a?u:Pb.decode(u),e)),r=0}if(i===0||i>t){c.enqueue(HY);break}}}})}const qk=4;function ni(t){if(t)return iZ(t)}function iZ(t){for(var e in ni.prototype)t[e]=ni.prototype[e];return t}ni.prototype.on=ni.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ni.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ni.prototype.off=ni.prototype.removeListener=ni.prototype.removeAllListeners=ni.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ni.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ni.prototype.emitReserved=ni.prototype.emit;ni.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ni.prototype.hasListeners=function(t){return!!this.listeners(t).length};const V_=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Fs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),sZ="arraybuffer";function Qk(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const aZ=Fs.setTimeout,oZ=Fs.clearTimeout;function F_(t,e){e.useNativeTimers?(t.setTimeoutFn=aZ.bind(Fs),t.clearTimeoutFn=oZ.bind(Fs)):(t.setTimeoutFn=Fs.setTimeout.bind(Fs),t.clearTimeoutFn=Fs.clearTimeout.bind(Fs))}const lZ=1.33;function cZ(t){return typeof t=="string"?uZ(t):Math.ceil((t.byteLength||t.size)*lZ)}function uZ(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Jk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fZ(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function dZ(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class hZ extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class WT extends ni{constructor(e){super(),this.writable=!1,F_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new hZ(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=wT(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=fZ(e);return n.length?"?"+n:""}}class pZ extends WT{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};tZ(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,eZ(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Jk()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let e6=!1;try{e6=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const mZ=e6;function gZ(){}class yZ extends pZ{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let ku=class nv extends ni{constructor(e,n,r){super(),this.createRequest=e,F_(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Qk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=nv.requestsCount++,nv.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gZ,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete nv.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ku.requestsCount=0;ku.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",GE);else if(typeof addEventListener=="function"){const t="onpagehide"in Fs?"pagehide":"unload";addEventListener(t,GE,!1)}}function GE(){for(let t in ku.requests)ku.requests.hasOwnProperty(t)&&ku.requests[t].abort()}const vZ=(function(){const t=t6({xdomain:!1});return t&&t.responseType!==null})();class _Z extends yZ{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=vZ&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ku(t6,this.uri(),e)}}function t6(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||mZ))return new XMLHttpRequest}catch{}if(!e)try{return new Fs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const n6=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class SZ extends WT{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=n6?{}:Qk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;TT(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&V_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Jk()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Mb=Fs.WebSocket||Fs.MozWebSocket;class bZ extends SZ{createSocket(e,n,r){return n6?new Mb(e,n,r):n?new Mb(e,n):new Mb(e)}doWrite(e,n){this.ws.send(n)}}class YZ extends WT{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=rZ(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=nZ();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),a())}).catch(c=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&V_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const xZ={websocket:bZ,webtransport:YZ,polling:_Z},TZ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wZ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function GY(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=TZ.exec(t||""),a={},o=14;for(;o--;)a[wZ[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=WZ(a,a.path),a.queryKey=EZ(a,a.query),a}function WZ(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function EZ(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const qY=typeof addEventListener=="function"&&typeof removeEventListener=="function",rv=[];qY&&addEventListener("offline",()=>{rv.forEach(t=>t())},!1);class yl extends ni{constructor(e,n){if(super(),this.binaryType=sZ,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=GY(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=GY(n.host).host);F_(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dZ(this.opts.query)),qY&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},rv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=qk,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&yl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",yl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=cZ(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,V_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(yl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),qY&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=rv.indexOf(this._offlineEventListener);r!==-1&&rv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}yl.protocol=qk;class UZ extends yl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;yl.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;yl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function c(){o("transport closed")}function u(){o("socket closed")}function f(h){n&&h.name!==n.name&&a()}const p=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",c),this.off("close",u),this.off("upgrading",f)};n.once("open",i),n.once("error",o),n.once("close",c),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let CZ=class extends UZ{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>xZ[i]).filter(i=>!!i)),super(e,r)}};function AZ(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=GY(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const kZ=typeof ArrayBuffer=="function",IZ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,r6=Object.prototype.toString,XZ=typeof Blob=="function"||typeof Blob<"u"&&r6.call(Blob)==="[object BlobConstructor]",RZ=typeof File=="function"||typeof File<"u"&&r6.call(File)==="[object FileConstructor]";function ET(t){return kZ&&(t instanceof ArrayBuffer||IZ(t))||XZ&&t instanceof Blob||RZ&&t instanceof File}function iv(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(iv(t[n]))return!0;return!1}if(ET(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return iv(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&iv(t[n]))return!0;return!1}function PZ(t){const e=[],n=t.data,r=t;return r.data=QY(n,e),r.attachments=e.length,{packet:r,buffers:e}}function QY(t,e){if(!t)return t;if(ET(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=QY(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=QY(t[r],e));return n}return t}function MZ(t,e){return t.data=JY(t.data,e),delete t.attachments,t}function JY(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=JY(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=JY(t[n],e));return t}const OZ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],NZ=5;var On;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(On||(On={}));class DZ{constructor(e){this.replacer=e}encode(e){return(e.type===On.EVENT||e.type===On.ACK)&&iv(e)?this.encodeAsBinary({type:e.type===On.EVENT?On.BINARY_EVENT:On.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===On.BINARY_EVENT||e.type===On.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=PZ(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function qE(t){return Object.prototype.toString.call(t)==="[object Object]"}class UT extends ni{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===On.BINARY_EVENT;r||n.type===On.BINARY_ACK?(n.type=r?On.EVENT:On.ACK,this.reconstructor=new BZ(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ET(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(On[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===On.BINARY_EVENT||r.type===On.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(UT.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case On.CONNECT:return qE(n);case On.DISCONNECT:return n===void 0;case On.CONNECT_ERROR:return typeof n=="string"||qE(n);case On.EVENT:case On.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&OZ.indexOf(n[0])===-1);case On.ACK:case On.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BZ{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=MZ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const VZ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:UT,Encoder:DZ,get PacketType(){return On},protocol:NZ},Symbol.toStringTag,{value:"Module"}));function ia(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const FZ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i6 extends ni{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ia(e,"open",this.onopen.bind(this)),ia(e,"packet",this.onpacket.bind(this)),ia(e,"error",this.onerror.bind(this)),ia(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,a;if(FZ.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:On.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,h=n.pop();this._registerAckCallback(p,h),o.id=p}const c=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),o=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const a=(o,c)=>o?i(o):r(c);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:On.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case On.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case On.EVENT:case On.BINARY_EVENT:this.onevent(e);break;case On.ACK:case On.BINARY_ACK:this.onack(e);break;case On.DISCONNECT:this.ondisconnect();break;case On.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:On.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:On.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function g0(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}g0.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};g0.prototype.reset=function(){this.attempts=0};g0.prototype.setMin=function(t){this.ms=t};g0.prototype.setMax=function(t){this.max=t};g0.prototype.setJitter=function(t){this.jitter=t};class ex extends ni{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,F_(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new g0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||VZ;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new CZ(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ia(n,"open",function(){r.onopen(),e&&e()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=ia(n,"error",a);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ia(e,"ping",this.onping.bind(this)),ia(e,"data",this.ondata.bind(this)),ia(e,"error",this.onerror.bind(this)),ia(e,"close",this.onclose.bind(this)),ia(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){V_(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new i6(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fg={};function sv(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=AZ(t,e.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=fg[i]&&a in fg[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return c?u=new ex(r,e):(fg[i]||(fg[i]=new ex(r,e)),u=fg[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(sv,{Manager:ex,Socket:i6,io:sv,connect:sv});const LZ="https://webrtc.eagleeyessearch.com";class ZZ{socket;onConnect;onMessage;onError;onDisconnect;constructor(e,n){this.onConnect=e,this.onMessage=n}async connect(){return this.socket=sv(LZ),this.socket.on("connect",()=>{this.onConnect?.()}),this.socket.on("message",async e=>{try{await this.onMessage?.(e)}catch(n){console.error("Error handling message",n),this.onError?.(n)}}),this.socket.on("joined-as-viewer",async e=>{await this.onMessage?.({type:"joined-as-viewer",...e})}),this.socket.on("offer",async e=>{await this.onMessage?.({type:"offer",...e})}),this.socket.on("ice-candidate",async e=>{await this.onMessage?.({type:"ice-candidate",...e})}),this.socket.on("connect_error",e=>{console.error("Connection error",e),this.onError?.(e)}),this.socket.on("disconnect",()=>{this.onDisconnect?.()}),new Promise((e,n)=>{this.socket&&(this.socket.once("connect",()=>e()),this.socket.once("connect_error",r=>n(r)))})}async send(e){if(this.socket?.connected){const{type:n,...r}=e;this.socket?.emit(n,r)}else return console.error("Cannot send message, not connected"),Promise.reject(new Error("Socket not connected"))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=void 0)}isConnected(){return this.socket?.connected??!1}}const Qv=Na(t=>pt(null)),Tu=pt([]),CT=pt(t=>{const e=t(Tu),n=[];for(const r of e){const i=t(Qv(r));i&&n.push(i)}return n}),ece=pt(t=>{const e=t(CT),n=new Map;for(const r of e){const i=n.get(r.recordId)||[];i.push(r),n.set(r.recordId,i)}return n}),wn=pt({channelId:null,currentTimeUs:0,previousTimeUs:0,isPlaying:!1,playbackSpeed:1,channelModelName:null,selectionSource:null});pt(t=>t(wn).channelId);const L_=pt(t=>{const e=t(wn);if(!e.channelId)return 0;const n=t(yn(e.channelId));if(!n)return 0;const r=n.timeStartEpochUs+e.currentTimeUs;return n.timestampToFrameIndex(r)});pt(t=>{const e=t(wn);if(!e.channelId)return 0;const n=t(yn(e.channelId));if(!n)return 0;const r=n.timeStartEpochUs+e.previousTimeUs;return n.timestampToFrameIndex(r)});pt(t=>t(wn).isPlaying);pt(t=>t(wn).playbackSpeed);pt(t=>t(wn).channelModelName);const tce=pt(null,(t,e)=>{const n=t(wn);e(wn,{...n,isPlaying:!0})}),nce=pt(null,(t,e)=>{const n=t(wn);e(wn,{...n,isPlaying:!1})}),zZ=pt(null,(t,e,n)=>{const r=t(wn);if(!r.channelId)return;const i=t(yn(r.channelId));if(!i)return;const a=Math.max(0,Math.min(n,i.getFrameCount()-1)),c=i.frameIndexToTimestamp(a)-i.timeStartEpochUs;e(wn,{...r,previousTimeUs:r.currentTimeUs,currentTimeUs:c})}),rce=pt(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,previousTimeUs:r.currentTimeUs,currentTimeUs:Math.max(0,n)})}),ice=pt(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,playbackSpeed:Math.max(.1,Math.min(10,n))})}),Qm=pt(null,(t,e,n)=>{const r=t(wn),i=typeof n=="object"&&n!==null?n.channelId:n,a=typeof n=="object"&&n!==null?n.source??null:null,o=typeof n=="object"&&n!==null?n.preservePosition??!1:!1;e(wn,{...r,channelId:i,currentTimeUs:o?r.currentTimeUs:0,previousTimeUs:o?r.previousTimeUs:0,isPlaying:!1,channelModelName:null,selectionSource:a});const c=t(Jv);e(Jv,{index:0,trigger:c.trigger})}),Jv=pt({index:0,trigger:0}),s6=pt(null,(t,e,n)=>{const r=t(Jv);e(Jv,{index:n,trigger:r.trigger+1})}),$Z=pt(null,(t,e,n)=>{const r=t(wn),{channelId:i,source:a}=n,o=r.channelId?t(yn(r.channelId)):null;let c=null;o&&(c=o.timeStartEpochUs+r.currentTimeUs);const f=t(CT).find(m=>m.channelId===i),p=t(yn(i));let h=0;if(c!==null&&f&&p){const m=f.startEpochTimeMillis*1e3,y=f.endEpochTimeMillis*1e3;c>=m&&c<=y&&(h=c-p.timeStartEpochUs)}e(wn,{...r,channelId:i,currentTimeUs:h,previousTimeUs:r.currentTimeUs,isPlaying:!1,channelModelName:null,selectionSource:a??null})}),KZ=pt(null,(t,e,n)=>{const r=t(wn);e(wn,{...r,channelModelName:n})}),sce=pt(null,(t,e)=>{const n=t(wn);if(!n.channelId)return;const r=t(yn(n.channelId));if(!r)return;const i=t(L_);if(i>=r.getFrameCount()-1)return;const o=r.frameIndexToTimestamp(i+1)-r.timeStartEpochUs;e(wn,{...n,previousTimeUs:n.currentTimeUs,currentTimeUs:o})}),jZ=pt({width:0,height:0}),ace=pt(null,(t,e,n)=>{e(jZ,n)}),Pr=Na(t=>{const e=pt(null);return pt(n=>n(e),(n,r,i)=>{const a=n(e);i===null&&a!==null&&(a.cleanupDataChannels&&a.cleanupDataChannels(),a.droneDataChannel?.close(),a.geojsonDataChannel?.close(),a.otherDroneDataChannel?.close(),a.peerConnection?.close(),a.signalingService?.disconnect(),a.remoteStream?.getTracks().forEach(o=>o.stop())),r(e,i)})});function HZ(t){try{const e=JSON.parse(t);return e.type==="drone_telemetry"&&e.state?e:null}catch(e){return console.error("Error parsing drone data:",e),null}}function GZ(t,e,n,r){const i=o=>{const c=n(Pr(t));if(!c)return;const u=1e3;let f=[...c.telemetryData,o];if(f.length>u){const h=f.length-u;f=f.slice(h)}const p=n(yn(c.channelId));if(p instanceof Ia){const h=new Ia(p.id,p.streamId,p.timeStartEpochUs);h.timeEndEpochUs=Date.now()*1e3,h.setRemoteStream(p.getRemoteStream()),r(yn(c.channelId),h)}r(Pr(t),{...c,telemetryData:f})},a=[];if(e.droneDataChannel){const o=c=>{const u=HZ(c.data);u&&i(u)};e.droneDataChannel.addEventListener("message",o),a.push({channel:e.droneDataChannel,handler:o})}if(e.geojsonDataChannel){const o=c=>{};e.geojsonDataChannel.addEventListener("message",o),a.push({channel:e.geojsonDataChannel,handler:o})}if(e.otherDroneDataChannel){const o=c=>{};e.otherDroneDataChannel.addEventListener("message",o),a.push({channel:e.otherDroneDataChannel,handler:o})}return()=>{a.forEach(({channel:o,handler:c})=>{o.removeEventListener("message",c)})}}async function qZ(t,e,n,r){const i={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},a=new RTCPeerConnection(i);return a.onconnectionstatechange=()=>{const o=n(Pr(t));o&&r(Pr(t),{...o,connectionState:a.connectionState})},a.ontrack=o=>{const[c]=o.streams,u=n(Pr(t));if(!u)return;const f=n(yn(e));if(f instanceof Ia){const p=new Ia(f.id,f.streamId,f.timeStartEpochUs);p.timeEndEpochUs=f.timeEndEpochUs,p.setRemoteStream(c),r(yn(e),p)}r(Pr(t),{...u,remoteStream:c})},a.onicecandidate=o=>{const c=n(Pr(t));o.candidate&&c?.signalingService&&c.signalingService.send({type:"ice-candidate",roomId:t,candidate:o.candidate})},a.ondatachannel=o=>{const c=o.channel,u=n(Pr(t));if(!u)return;const f={};switch(c.label){case"drone_data":f.droneDataChannel=c;break;case"geojson_data":f.geojsonDataChannel=c;break;case"telemetry_drone_data":f.otherDroneDataChannel=c;break}const p={...u,...f};p.cleanupDataChannels&&p.cleanupDataChannels();const h=GZ(t,p,n,r);r(Pr(t),{...p,cleanupDataChannels:h})},a}async function QZ(t,e,n,r){const i=n(Pr(t));if(!i?.signalingService)throw new Error("Signaling service not initialized");const a=await qZ(t,e,n,r);i.signalingService.send({type:"request-stream",roomId:t}),r(Pr(t),{...i,peerConnection:a})}async function JZ(t,e,n){const r=n(Pr(t));if(!r?.peerConnection||!r.signalingService)throw new Error("Peer connection or signaling service not initialized");await r.peerConnection.setRemoteDescription(e.offer);const i=await r.peerConnection.createAnswer();await r.peerConnection.setLocalDescription(i),i&&e.senderId&&r.signalingService.send({type:"answer",roomId:t,targetId:e.senderId,answer:i})}async function e9(t,e,n){const r=n(Pr(t));r?.peerConnection&&await r.peerConnection.setRemoteDescription(e.answer)}async function t9(t,e,n){const r=n(Pr(t));r?.peerConnection&&await r.peerConnection.addIceCandidate(e.candidate)}const n9=pt(null,async(t,e,n)=>{const r=t(Pr(n));if(r){e(Qm,r.channelId);return}const i=`livestream-${n}-${Date.now()}`,a=new Ia(i,n);e(yn(i),a);const o=t(Zs);e(Zs,[...o,i]);const c=new ZZ(()=>{c.send({type:"join-as-viewer",roomId:n})},async f=>{try{switch(f.type){case"joined-as-viewer":f.hasPublisher&&await QZ(n,i,t,e);break;case"offer":await JZ(n,f,t);break;case"answer":await e9(n,f,t);break;case"ice-candidate":await t9(n,f,t);break}}catch(p){throw console.error("Error handling message:",p),p}});try{await c.connect()}catch(f){throw console.error("Failed to connect to signaling server:",f),f}const u={streamId:n,channelId:i,connectionState:"new",signalingService:c,telemetryData:[],otherDroneTelemetry:new Map};e(Pr(n),u),e(Qm,i)});pt(null,(t,e,n)=>{const r=t(Pr(n));if(!r)return;r.cleanupDataChannels&&r.cleanupDataChannels(),r.droneDataChannel?.close(),r.geojsonDataChannel?.close(),r.otherDroneDataChannel?.close(),r.peerConnection?.close(),r.signalingService?.disconnect(),r.remoteStream?.getTracks().forEach(o=>o.stop());const i=t(Zs);e(Zs,i.filter(o=>o!==r.channelId)),t(wn).channelId===r.channelId&&e(Qm,null),e(Pr(n),null)});pt(t=>{const n=t(wn).channelId;if(!n)return[];const r=t(yn(n));return r instanceof Ia?t(Pr(r.streamId))?.telemetryData??[]:[]});const yn=Na(t=>pt(null));pt(t=>t(Zs).map(n=>t(yn(n))));const Zs=pt([]),r9=Na(t=>pt(null,async(e,n)=>{const r=e(yn(t));r instanceof Ia&&n(Pr(r.streamId),null),n(yn(t),null);const i=e(Zs);n(Zs,i.filter(a=>a!==t))})),Z_=Na(t=>pt(new Map)),oce=Na(t=>pt(e=>{const r=e(Z_(t.channelId)).get(t.modelName)||[];return r[t.frameIndex]?r[t.frameIndex]:null})),lce=pt(null,(t,e,n)=>{const r=Z_(n.channelId),i=new Map(t(r)),a=i.get(n.modelName)||[];i.set(n.modelName,[...a,n]),e(r,i)}),i9=pt(null,(t,e,n)=>{const r=Z_(n.channelId);if(n.modelName){const i=new Map(t(r));i.delete(n.modelName),e(r,i)}else e(r,new Map)}),AT=pt("V2.5.Video.Combined.Fast"),s9=pt(null,(t,e,n)=>{e(AT,n)}),a9=pt(null),Jm=pt([]),o9=pt(null,(t,e,n)=>{const r={...n,id:crypto.randomUUID(),timestamp:new Date};e(Jm,[...t(Jm),r])}),l9=pt(null,(t,e,n)=>{e(Jm,t(Jm).filter(r=>r.id!==n))}),c9=pt(null,(t,e)=>{e(Jm,[])}),u9=.05,f9=900*1e3,tx=pt(null),a6=pt(null,(t,e,n)=>{const{startMs:r,endMs:i,nFrames:a}=n;if(!(!r||r===0))if(a===1||i<=r){const o=f9/2;e(tx,{start:r-o,end:r+o})}else{const c=(i-r)*u9;e(tx,{start:r-c,end:i+c})}}),d9=pt(null,(t,e,n)=>{e(a6,{startMs:n.startEpochTimeMillis,endMs:n.endEpochTimeMillis,nFrames:n.nFrames})}),h9=pt(null,(t,e,n)=>{const r=t(Qv(n));r&&e(d9,r)}),p9=pt(t=>t(CT).filter(n=>n.hasValidTime).sort((n,r)=>{const i=n.name.localeCompare(r.name);return i!==0?i:n.sourceType.localeCompare(r.sourceType)}));function kT(t){if(t.length===0)return;let e=-90,n=90,r=-180,i=180;for(const a of t)a.lat>e&&(e=a.lat),a.lat<n&&(n=a.lat),a.lng>r&&(r=a.lng),a.lng<i&&(i=a.lng);return{north:e,south:n,east:r,west:i}}function cce(t,e,n){if(t.length===0)return null;let r=t[0],i=Number.MAX_VALUE;for(const a of t){const o=Math.sqrt(Math.pow(a.lat-e,2)+Math.pow(a.lng-n,2));o<i&&(i=o,r=a)}return r}function o6(t,e){const n=t.state.drone_gps_location;return!n?.lat||!n?.lng?null:{frameIndex:e,timestampChannelUs:0,timestampEpochUs:t.timestamp_epoch_ms*1e3,lat:n.lat,lng:n.lng,altitude_m:n.altitude_asl_m??n.altitude_ellipsoid_m,pose:t.state.drone_pose,gimbalPose:t.state.gimbal_pose,source:"livestream"}}const go=Na(t=>pt(null)),nx=pt(0),m9=pt(null,(t,e)=>{e(nx,t(nx)+1)}),uce=pt({center:[49.2827,-123.1207],zoom:13,followPlayback:!0}),fce=pt(null),g9=pt(!1),dce=pt(t=>{const e=t(wn);if(!e.channelId)return null;const n=t(yn(e.channelId));if(!n)return null;if(n instanceof Ia){const p=t(Pr(n.streamId));if(!p||p.telemetryData.length===0)return null;const h=p.telemetryData[p.telemetryData.length-1],m=t(L_);return o6(h,m)}const r=t(go(e.channelId));if(!r||!r.positions||r.positions.length===0)return null;const i=e.currentTimeUs,a=r.positions;if(i<=a[0].timestampChannelUs)return a[0];if(i>=a[a.length-1].timestampChannelUs)return a[a.length-1];let o=0,c=a.length-1;for(;o<c-1;){const p=Math.floor((o+c)/2);a[p].timestampChannelUs<=i?o=p:c=p}const u=Math.abs(a[o].timestampChannelUs-i),f=Math.abs(a[c].timestampChannelUs-i);return u<=f?a[o]:a[c]}),l6=Na(t=>pt(e=>{const n=e(go(t));return n!==null&&n.positions.length>0})),hce=pt(t=>{t(nx);const e=t(bc),n=[];for(const i of e){const a=t(mo(i));if(a)for(const o of a.channelIds){const c=t(yn(o)),u=t(go(o));c&&u&&u.positions.length>0&&n.push({channelId:o,channel:c,sourceType:c.sourceType,positions:u,recordId:i})}}const r=t(Zs);for(const i of r){const a=t(yn(i));if(a instanceof Ia){const o=t(Pr(a.streamId));if(o&&o.telemetryData.length>0){const c=[];for(let u=0;u<o.telemetryData.length;u++){const f=o6(o.telemetryData[u],u);f&&c.push(f)}c.length>0&&n.push({channelId:i,channel:a,sourceType:a.sourceType,positions:{channelId:i,positions:c},recordId:null})}}}return n}),y9=18,v9=pt(!1),_9=pt(null),c6=pt(null,(t,e,n)=>{const r=t(go(n));if(!r?.positions.length)return;const i=r.bounds,a=r.positions[0],o=!i||i.north===i.south&&i.east===i.west;e(_9,{bounds:o?null:i,center:o?[a.lat,a.lng]:null,maxZoom:y9})}),y0=zk("displaySettings",{timeFormat:"12h",dateFormat:"short",zoneFormat:"abbrev",unitSystem:"metric"}),S9=pt(!1),b9=zk("themeMode","system");function sa(t,e,n){const{includeDate:r=!0,includeTime:i=!0,includeZone:a=!0,includeSeconds:o=!0}=n??{},c=new Date(t),u=[];if(r)if(e.dateFormat==="short")u.push(c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}));else{const f=c.getFullYear(),p=String(c.getMonth()+1).padStart(2,"0"),h=String(c.getDate()).padStart(2,"0");u.push(`${f}/${p}/${h}`)}if(i)if(e.timeFormat==="24h"){const f=String(c.getHours()).padStart(2,"0"),p=String(c.getMinutes()).padStart(2,"0");if(o){const h=String(c.getSeconds()).padStart(2,"0");u.push(`${f}:${p}:${h}`)}else u.push(`${f}:${p}`)}else{const f={hour:"numeric",minute:"2-digit",hour12:!0};o&&(f.second="2-digit"),u.push(c.toLocaleTimeString("en-US",f))}if(a)if(e.zoneFormat==="abbrev")try{const f=new Intl.DateTimeFormat("en-US",{timeZoneName:"short"}).formatToParts(c).find(p=>p.type==="timeZoneName")?.value;f?u.push(f):u.push(Ob(c))}catch{u.push(Ob(c))}else e.zoneFormat==="offset_numeric"?u.push(Ob(c)):u.push(Y9(c));return u.join(" ")}function Ob(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return`${n}${String(i).padStart(2,"0")}${String(a).padStart(2,"0")}`}function Y9(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return`UTC${n}${String(i).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function pce(t,e){return e==="imperial"?`${(t*3.28084).toFixed(1)} ft`:`${t.toFixed(1)} m`}var av={exports:{}},x9=av.exports,QE;function T9(){return QE||(QE=1,(function(t,e){(function(n,r){t.exports=r()})(x9,function(){var n=function(b,E){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,L){N.__proto__=L}||function(N,L){for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&(N[H]=L[H])})(b,E)},r=function(){return(r=Object.assign||function(b){for(var E,N=1,L=arguments.length;N<L;N++)for(var H in E=arguments[N])Object.prototype.hasOwnProperty.call(E,H)&&(b[H]=E[H]);return b}).apply(this,arguments)};function i(b,E,N){for(var L,H=0,ne=E.length;H<ne;H++)!L&&H in E||((L=L||Array.prototype.slice.call(E,0,H))[H]=E[H]);return b.concat(L||Array.prototype.slice.call(E))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:vg,o=Object.keys,c=Array.isArray;function u(b,E){return typeof E!="object"||o(E).forEach(function(N){b[N]=E[N]}),b}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var f=Object.getPrototypeOf,p={}.hasOwnProperty;function h(b,E){return p.call(b,E)}function m(b,E){typeof E=="function"&&(E=E(f(b))),(typeof Reflect>"u"?o:Reflect.ownKeys)(E).forEach(function(N){_(b,N,E[N])})}var y=Object.defineProperty;function _(b,E,N,L){y(b,E,u(N&&h(N,"get")&&typeof N.get=="function"?{get:N.get,set:N.set,configurable:!0}:{value:N,configurable:!0,writable:!0},L))}function v(b){return{from:function(E){return b.prototype=Object.create(E.prototype),_(b.prototype,"constructor",b),{extend:m.bind(null,b.prototype)}}}}var S=Object.getOwnPropertyDescriptor,Y=[].slice;function T(b,E,N){return Y.call(b,E,N)}function A(b,E){return E(b)}function P(b){if(!b)throw new Error("Assertion Failed")}function C(b){a.setImmediate?setImmediate(b):setTimeout(b,0)}function W(b,E){if(typeof E=="string"&&h(b,E))return b[E];if(!E)return b;if(typeof E!="string"){for(var N=[],L=0,H=E.length;L<H;++L){var ne=W(b,E[L]);N.push(ne)}return N}var de=E.indexOf(".");if(de!==-1){var ve=b[E.substr(0,de)];return ve==null?void 0:W(ve,E.substr(de+1))}}function w(b,E,N){if(b&&E!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof E!="string"&&"length"in E){P(typeof N!="string"&&"length"in N);for(var L=0,H=E.length;L<H;++L)w(b,E[L],N[L])}else{var ne,de,ve=E.indexOf(".");ve!==-1?(ne=E.substr(0,ve),(de=E.substr(ve+1))===""?N===void 0?c(b)&&!isNaN(parseInt(ne))?b.splice(ne,1):delete b[ne]:b[ne]=N:w(ve=!(ve=b[ne])||!h(b,ne)?b[ne]={}:ve,de,N)):N===void 0?c(b)&&!isNaN(parseInt(E))?b.splice(E,1):delete b[E]:b[E]=N}}function k(b){var E,N={};for(E in b)h(b,E)&&(N[E]=b[E]);return N}var M=[].concat;function D(b){return M.apply([],b)}var nt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(E){return E+b+"Array"})}))).filter(function(b){return a[b]}),B=new Set(nt.map(function(b){return a[b]})),O=null;function V(b){return O=new WeakMap,b=(function E(N){if(!N||typeof N!="object")return N;var L=O.get(N);if(L)return L;if(c(N)){L=[],O.set(N,L);for(var H=0,ne=N.length;H<ne;++H)L.push(E(N[H]))}else if(B.has(N.constructor))L=N;else{var de,ve=f(N);for(de in L=ve===Object.prototype?{}:Object.create(ve),O.set(N,L),N)h(N,de)&&(L[de]=E(N[de]))}return L})(b),O=null,b}var X={}.toString;function j(b){return X.call(b).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",q=typeof $=="symbol"?function(b){var E;return b!=null&&(E=b[$])&&E.apply(b)}:function(){return null};function G(b,E){return E=b.indexOf(E),0<=E&&b.splice(E,1),0<=E}var Q={};function ue(b){var E,N,L,H;if(arguments.length===1){if(c(b))return b.slice();if(this===Q&&typeof b=="string")return[b];if(H=q(b)){for(N=[];!(L=H.next()).done;)N.push(L.value);return N}if(b==null)return[b];if(typeof(E=b.length)!="number")return[b];for(N=new Array(E);E--;)N[E]=b[E];return N}for(E=arguments.length,N=new Array(E);E--;)N[E]=arguments[E];return N}var K=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ni=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Le),ee={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fe(b,E){this.name=b,this.message=E}function te(b,E){return b+". Errors: "+Object.keys(E).map(function(N){return E[N].toString()}).filter(function(N,L,H){return H.indexOf(N)===L}).join(`
`)}function ie(b,E,N,L){this.failures=E,this.failedKeys=L,this.successCount=N,this.message=te(b,E)}function le(b,E){this.name="BulkError",this.failures=Object.keys(E).map(function(N){return E[N]}),this.failuresByPos=E,this.message=te(b,this.failures)}v(fe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(ie).from(fe),v(le).from(fe);var he=Ni.reduce(function(b,E){return b[E]=E+"Error",b},{}),me=fe,Se=Ni.reduce(function(b,E){var N=E+"Error";function L(H,ne){this.name=N,H?typeof H=="string"?(this.message="".concat(H).concat(ne?`
 `+ne:""),this.inner=ne||null):typeof H=="object"&&(this.message="".concat(H.name," ").concat(H.message),this.inner=H):(this.message=ee[E]||N,this.inner=null)}return v(L).from(me),b[E]=L,b},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var Je=Le.reduce(function(b,E){return b[E+"Error"]=Se[E],b},{}),$e=Ni.reduce(function(b,E){return["Syntax","Type","Range"].indexOf(E)===-1&&(b[E+"Error"]=Se[E]),b},{});function We(){}function Ze(b){return b}function F(b,E){return b==null||b===Ze?E:function(N){return E(b(N))}}function ke(b,E){return function(){b.apply(this,arguments),E.apply(this,arguments)}}function Ye(b,E){return b===We?E:function(){var N=b.apply(this,arguments);N!==void 0&&(arguments[0]=N);var L=this.onsuccess,H=this.onerror;this.onsuccess=null,this.onerror=null;var ne=E.apply(this,arguments);return L&&(this.onsuccess=this.onsuccess?ke(L,this.onsuccess):L),H&&(this.onerror=this.onerror?ke(H,this.onerror):H),ne!==void 0?ne:N}}function ce(b,E){return b===We?E:function(){b.apply(this,arguments);var N=this.onsuccess,L=this.onerror;this.onsuccess=this.onerror=null,E.apply(this,arguments),N&&(this.onsuccess=this.onsuccess?ke(N,this.onsuccess):N),L&&(this.onerror=this.onerror?ke(L,this.onerror):L)}}function se(b,E){return b===We?E:function(N){var L=b.apply(this,arguments);u(N,L);var H=this.onsuccess,ne=this.onerror;return this.onsuccess=null,this.onerror=null,N=E.apply(this,arguments),H&&(this.onsuccess=this.onsuccess?ke(H,this.onsuccess):H),ne&&(this.onerror=this.onerror?ke(ne,this.onerror):ne),L===void 0?N===void 0?void 0:N:u(L,N)}}function pe(b,E){return b===We?E:function(){return E.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function Me(b,E){return b===We?E:function(){var N=b.apply(this,arguments);if(N&&typeof N.then=="function"){for(var L=this,H=arguments.length,ne=new Array(H);H--;)ne[H]=arguments[H];return N.then(function(){return E.apply(L,ne)})}return E.apply(this,arguments)}}$e.ModifyError=ie,$e.DexieError=fe,$e.BulkError=le;var Ae=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ge(b){Ae=b}var we={},et=100,nt=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,f(b),b];var E=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[E,f(E),b]})(),Le=nt[0],Ni=nt[1],nt=nt[2],Ni=Ni&&Ni.then,Mt=Le&&Le.constructor,ht=!!nt,Vt=function(b,E){J.push([b,E]),ae&&(queueMicrotask(ft),ae=!1)},sn=!0,ae=!0,tt=[],Oe=[],it=Ze,_e={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:We,pgp:!1,env:{},finalize:We},be=_e,J=[],Qe=0,mt=[];function R(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var E=this._PSD=be;if(typeof b!="function"){if(b!==we)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&re(this,this._value))}this._state=null,this._value=null,++E.ref,(function N(L,H){try{H(function(ne){if(L._state===null){if(ne===L)throw new TypeError("A promise cannot be resolved with itself.");var de=L._lib&&_t();ne&&typeof ne.then=="function"?N(L,function(ve,Ee){ne instanceof R?ne._then(ve,Ee):ne.then(ve,Ee)}):(L._state=!0,L._value=ne,ye(L)),de&&kt()}},re.bind(null,L))}catch(ne){re(L,ne)}})(this,b)}var Ve={get:function(){var b=be,E=ii;function N(L,H){var ne=this,de=!b.global&&(b!==be||E!==ii),ve=de&&!zn(),Ee=new R(function(Ue,Ne){Pe(ne,new Ke(is(L,b,de,ve),is(H,b,de,ve),Ue,Ne,b))});return this._consoleTask&&(Ee._consoleTask=this._consoleTask),Ee}return N.prototype=we,N},set:function(b){_(this,"then",b&&b.prototype===we?Ve:{get:function(){return b},set:Ve.set})}};function Ke(b,E,N,L,H){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof E=="function"?E:null,this.resolve=N,this.reject=L,this.psd=H}function re(b,E){var N,L;Oe.push(E),b._state===null&&(N=b._lib&&_t(),E=it(E),b._state=!1,b._value=E,L=b,tt.some(function(H){return H._value===L._value})||tt.push(L),ye(b),N&&kt())}function ye(b){var E=b._listeners;b._listeners=[];for(var N=0,L=E.length;N<L;++N)Pe(b,E[N]);var H=b._PSD;--H.ref||H.finalize(),Qe===0&&(++Qe,Vt(function(){--Qe==0&&Wn()},[]))}function Pe(b,E){if(b._state!==null){var N=b._state?E.onFulfilled:E.onRejected;if(N===null)return(b._state?E.resolve:E.reject)(b._value);++E.psd.ref,++Qe,Vt(wt,[N,b,E])}else b._listeners.push(E)}function wt(b,E,N){try{var L,H=E._value;!E._state&&Oe.length&&(Oe=[]),L=Ae&&E._consoleTask?E._consoleTask.run(function(){return b(H)}):b(H),E._state||Oe.indexOf(H)!==-1||(function(ne){for(var de=tt.length;de;)if(tt[--de]._value===ne._value)return tt.splice(de,1)})(E),N.resolve(L)}catch(ne){N.reject(ne)}finally{--Qe==0&&Wn(),--N.psd.ref||N.psd.finalize()}}function ft(){Br(_e,function(){_t()&&kt()})}function _t(){var b=sn;return ae=sn=!1,b}function kt(){var b,E,N;do for(;0<J.length;)for(b=J,J=[],N=b.length,E=0;E<N;++E){var L=b[E];L[0].apply(null,L[1])}while(0<J.length);ae=sn=!0}function Wn(){var b=tt;tt=[],b.forEach(function(L){L._PSD.onunhandled.call(null,L._value,L)});for(var E=mt.slice(0),N=E.length;N;)E[--N]()}function hn(b){return new R(we,!1,b)}function At(b,E){var N=be;return function(){var L=_t(),H=be;try{return mi(N,!0),b.apply(this,arguments)}catch(ne){E&&E(ne)}finally{mi(H,!1),L&&kt()}}}m(R.prototype,{then:Ve,_then:function(b,E){Pe(this,new Ke(null,null,b,E,be))},catch:function(b){if(arguments.length===1)return this.then(null,b);var E=b,N=arguments[1];return typeof E=="function"?this.then(null,function(L){return(L instanceof E?N:hn)(L)}):this.then(null,function(L){return(L&&L.name===E?N:hn)(L)})},finally:function(b){return this.then(function(E){return R.resolve(b()).then(function(){return E})},function(E){return R.resolve(b()).then(function(){return hn(E)})})},timeout:function(b,E){var N=this;return b<1/0?new R(function(L,H){var ne=setTimeout(function(){return H(new Se.Timeout(E))},b);N.then(L,H).finally(clearTimeout.bind(null,ne))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(R.prototype,Symbol.toStringTag,"Dexie.Promise"),_e.env=Ba(),m(R,{all:function(){var b=ue.apply(null,arguments).map(pr);return new R(function(E,N){b.length===0&&E([]);var L=b.length;b.forEach(function(H,ne){return R.resolve(H).then(function(de){b[ne]=de,--L||E(b)},N)})})},resolve:function(b){return b instanceof R?b:b&&typeof b.then=="function"?new R(function(E,N){b.then(E,N)}):new R(we,!0,b)},reject:hn,race:function(){var b=ue.apply(null,arguments).map(pr);return new R(function(E,N){b.map(function(L){return R.resolve(L).then(E,N)})})},PSD:{get:function(){return be},set:function(b){return be=b}},totalEchoes:{get:function(){return ii}},newPSD:nn,usePSD:Br,scheduler:{get:function(){return Vt},set:function(b){Vt=b}},rejectionMapper:{get:function(){return it},set:function(b){it=b}},follow:function(b,E){return new R(function(N,L){return nn(function(H,ne){var de=be;de.unhandleds=[],de.onunhandled=ne,de.finalize=ke(function(){var ve,Ee=this;ve=function(){Ee.unhandleds.length===0?H():ne(Ee.unhandleds[0])},mt.push(function Ue(){ve(),mt.splice(mt.indexOf(Ue),1)}),++Qe,Vt(function(){--Qe==0&&Wn()},[])},de.finalize),b()},E,N,L)})}}),Mt&&(Mt.allSettled&&_(R,"allSettled",function(){var b=ue.apply(null,arguments).map(pr);return new R(function(E){b.length===0&&E([]);var N=b.length,L=new Array(N);b.forEach(function(H,ne){return R.resolve(H).then(function(de){return L[ne]={status:"fulfilled",value:de}},function(de){return L[ne]={status:"rejected",reason:de}}).then(function(){return--N||E(L)})})})}),Mt.any&&typeof AggregateError<"u"&&_(R,"any",function(){var b=ue.apply(null,arguments).map(pr);return new R(function(E,N){b.length===0&&N(new AggregateError([]));var L=b.length,H=new Array(L);b.forEach(function(ne,de){return R.resolve(ne).then(function(ve){return E(ve)},function(ve){H[de]=ve,--L||N(new AggregateError(H))})})})}),Mt.withResolvers&&(R.withResolvers=Mt.withResolvers));var Lt={awaits:0,echoes:0,id:0},Nn=0,In=[],kr=0,ii=0,Vn=0;function nn(b,E,N,L){var H=be,ne=Object.create(H);return ne.parent=H,ne.ref=0,ne.global=!1,ne.id=++Vn,_e.env,ne.env=ht?{Promise:R,PromiseProp:{value:R,configurable:!0,writable:!0},all:R.all,race:R.race,allSettled:R.allSettled,any:R.any,resolve:R.resolve,reject:R.reject}:{},E&&u(ne,E),++H.ref,ne.finalize=function(){--this.parent.ref||this.parent.finalize()},L=Br(ne,b,N,L),ne.ref===0&&ne.finalize(),L}function rn(){return Lt.id||(Lt.id=++Nn),++Lt.awaits,Lt.echoes+=et,Lt.id}function zn(){return!!Lt.awaits&&(--Lt.awaits==0&&(Lt.id=0),Lt.echoes=Lt.awaits*et,!0)}function pr(b){return Lt.echoes&&b&&b.constructor===Mt?(rn(),b.then(function(E){return zn(),E},function(E){return zn(),Jn(E)})):b}function rs(){var b=In[In.length-1];In.pop(),mi(b,!1)}function mi(b,E){var N,L=be;(E?!Lt.echoes||kr++&&b===be:!kr||--kr&&b===be)||queueMicrotask(E?(function(H){++ii,Lt.echoes&&--Lt.echoes!=0||(Lt.echoes=Lt.awaits=Lt.id=0),In.push(be),mi(H,!0)}).bind(null,b):rs),b!==be&&(be=b,L===_e&&(_e.env=Ba()),ht&&(N=_e.env.Promise,E=b.env,(L.global||b.global)&&(Object.defineProperty(a,"Promise",E.PromiseProp),N.all=E.all,N.race=E.race,N.resolve=E.resolve,N.reject=E.reject,E.allSettled&&(N.allSettled=E.allSettled),E.any&&(N.any=E.any))))}function Ba(){var b=a.Promise;return ht?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function Br(b,E,N,L,H){var ne=be;try{return mi(b,!0),E(N,L,H)}finally{mi(ne,!1)}}function is(b,E,N,L){return typeof b!="function"?b:function(){var H=be;N&&rn(),mi(E,!0);try{return b.apply(this,arguments)}finally{mi(H,!1),L&&queueMicrotask(zn)}}}function ws(b){Promise===Mt&&Lt.echoes===0?kr===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Ni).indexOf("[native code]")===-1&&(rn=zn=We);var Jn=R.reject,Vr="",Fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sr="String expected.",Wi=[],Zi="__dbnames",ui="readonly",gi="readwrite";function zi(b,E){return b?E?function(){return b.apply(this,arguments)&&E.apply(this,arguments)}:b:E}var Ws={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Es(b){return typeof b!="string"||/\./.test(b)?function(E){return E}:function(E){return E[b]===void 0&&b in E&&delete(E=V(E))[b],E}}function bt(){throw Se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function It(b,E){try{var N=Er(b),L=Er(E);if(N!==L)return N==="Array"?1:L==="Array"?-1:N==="binary"?1:L==="binary"?-1:N==="string"?1:L==="string"?-1:N==="Date"?1:L!=="Date"?NaN:-1;switch(N){case"number":case"Date":case"string":return E<b?1:b<E?-1:0;case"binary":return(function(H,ne){for(var de=H.length,ve=ne.length,Ee=de<ve?de:ve,Ue=0;Ue<Ee;++Ue)if(H[Ue]!==ne[Ue])return H[Ue]<ne[Ue]?-1:1;return de===ve?0:de<ve?-1:1})(tr(b),tr(E));case"Array":return(function(H,ne){for(var de=H.length,ve=ne.length,Ee=de<ve?de:ve,Ue=0;Ue<Ee;++Ue){var Ne=It(H[Ue],ne[Ue]);if(Ne!==0)return Ne}return de===ve?0:de<ve?-1:1})(b,E)}}catch{}return NaN}function Er(b){var E=typeof b;return E!="object"?E:ArrayBuffer.isView(b)?"binary":(b=j(b),b==="ArrayBuffer"?"binary":b)}function tr(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}function Dn(b,E,N){var L=b.schema.yProps;return L?(E&&0<N.numFailures&&(E=E.filter(function(H,ne){return!N.failures[ne]})),Promise.all(L.map(function(H){return H=H.updatesTable,E?b.db.table(H).where("k").anyOf(E).delete():b.db.table(H).clear()})).then(function(){return N})):N}var ur=(fr.prototype.execute=function(b){var E=this["@@propmod"];if(E.add!==void 0){var N=E.add;if(c(N))return i(i([],c(b)?b:[],!0),N).sort();if(typeof N=="number")return(Number(b)||0)+N;if(typeof N=="bigint")try{return BigInt(b)+N}catch{return BigInt(0)+N}throw new TypeError("Invalid term ".concat(N))}if(E.remove!==void 0){var L=E.remove;if(c(L))return c(b)?b.filter(function(H){return!L.includes(H)}).sort():[];if(typeof L=="number")return Number(b)-L;if(typeof L=="bigint")try{return BigInt(b)-L}catch{return BigInt(0)-L}throw new TypeError("Invalid subtrahend ".concat(L))}return N=(N=E.replacePrefix)===null||N===void 0?void 0:N[0],N&&typeof b=="string"&&b.startsWith(N)?E.replacePrefix[1]+b.substring(N.length):b},fr);function fr(b){this["@@propmod"]=b}function qn(b,E){for(var N=o(E),L=N.length,H=!1,ne=0;ne<L;++ne){var de=N[ne],ve=E[de],Ee=W(b,de);ve instanceof ur?(w(b,de,ve.execute(Ee)),H=!0):Ee!==ve&&(w(b,de,ve),H=!0)}return H}var Ur=(Gt.prototype._trans=function(b,E,N){var L=this._tx||be.trans,H=this.name,ne=Ae&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function de(Ue,Ne,Te){if(!Te.schema[H])throw new Se.NotFound("Table "+H+" not part of transaction");return E(Te.idbtrans,Te)}var ve=_t();try{var Ee=L&&L.db._novip===this.db._novip?L===be.trans?L._promise(b,de,N):nn(function(){return L._promise(b,de,N)},{trans:L,transless:be.transless||be}):(function Ue(Ne,Te,Be,Ce){if(Ne.idbdb&&(Ne._state.openComplete||be.letThrough||Ne._vip)){var Xe=Ne._createTransaction(Te,Be,Ne._dbSchema);try{Xe.create(),Ne._state.PR1398_maxLoop=3}catch(Re){return Re.name===he.InvalidState&&Ne.isOpen()&&0<--Ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ne.close({disableAutoOpen:!1}),Ne.open().then(function(){return Ue(Ne,Te,Be,Ce)})):Jn(Re)}return Xe._promise(Te,function(Re,De){return nn(function(){return be.trans=Xe,Ce(Re,De,Xe)})}).then(function(Re){if(Te==="readwrite")try{Xe.idbtrans.commit()}catch{}return Te==="readonly"?Re:Xe._completion.then(function(){return Re})})}if(Ne._state.openComplete)return Jn(new Se.DatabaseClosed(Ne._state.dbOpenError));if(!Ne._state.isBeingOpened){if(!Ne._state.autoOpen)return Jn(new Se.DatabaseClosed);Ne.open().catch(We)}return Ne._state.dbReadyPromise.then(function(){return Ue(Ne,Te,Be,Ce)})})(this.db,b,[this.name],de);return ne&&(Ee._consoleTask=ne,Ee=Ee.catch(function(Ue){return console.trace(Ue),Jn(Ue)})),Ee}finally{ve&&kt()}},Gt.prototype.get=function(b,E){var N=this;return b&&b.constructor===Object?this.where(b).first(E):b==null?Jn(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(L){return N.core.get({trans:L,key:b}).then(function(H){return N.hook.reading.fire(H)})}).then(E)},Gt.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(c(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var E=o(b);if(E.length===1)return this.where(E[0]).equals(b[E[0]]);var N=this.schema.indexes.concat(this.schema.primKey).filter(function(ve){if(ve.compound&&E.every(function(Ue){return 0<=ve.keyPath.indexOf(Ue)})){for(var Ee=0;Ee<E.length;++Ee)if(E.indexOf(ve.keyPath[Ee])===-1)return!1;return!0}return!1}).sort(function(ve,Ee){return ve.keyPath.length-Ee.keyPath.length})[0];if(N&&this.db._maxKey!==Vr){var ne=N.keyPath.slice(0,E.length);return this.where(ne).equals(ne.map(function(Ee){return b[Ee]}))}!N&&Ae&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(E.join("+"),"]"));var L=this.schema.idxByName;function H(ve,Ee){return It(ve,Ee)===0}var de=E.reduce(function(Te,Ee){var Ue=Te[0],Ne=Te[1],Te=L[Ee],Be=b[Ee];return[Ue||Te,Ue||!Te?zi(Ne,Te&&Te.multi?function(Ce){return Ce=W(Ce,Ee),c(Ce)&&Ce.some(function(Xe){return H(Be,Xe)})}:function(Ce){return H(Be,W(Ce,Ee))}):Ne]},[null,null]),ne=de[0],de=de[1];return ne?this.where(ne.name).equals(b[ne.keyPath]).filter(de):N?this.filter(de):this.where(E).equals("")},Gt.prototype.filter=function(b){return this.toCollection().and(b)},Gt.prototype.count=function(b){return this.toCollection().count(b)},Gt.prototype.offset=function(b){return this.toCollection().offset(b)},Gt.prototype.limit=function(b){return this.toCollection().limit(b)},Gt.prototype.each=function(b){return this.toCollection().each(b)},Gt.prototype.toArray=function(b){return this.toCollection().toArray(b)},Gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Gt.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,c(b)?"[".concat(b.join("+"),"]"):b))},Gt.prototype.reverse=function(){return this.toCollection().reverse()},Gt.prototype.mapToClass=function(b){var E,N=this.db,L=this.name;function H(){return E!==null&&E.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof bt&&((function(Ee,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Class extends value "+String(Ue)+" is not a constructor or null");function Ne(){this.constructor=Ee}n(Ee,Ue),Ee.prototype=Ue===null?Object.create(Ue):(Ne.prototype=Ue.prototype,new Ne)})(H,E=b),Object.defineProperty(H.prototype,"db",{get:function(){return N},enumerable:!1,configurable:!0}),H.prototype.table=function(){return L},b=H);for(var ne=new Set,de=b.prototype;de;de=f(de))Object.getOwnPropertyNames(de).forEach(function(Ee){return ne.add(Ee)});function ve(Ee){if(!Ee)return Ee;var Ue,Ne=Object.create(b.prototype);for(Ue in Ee)if(!ne.has(Ue))try{Ne[Ue]=Ee[Ue]}catch{}return Ne}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ve,this.hook("reading",ve),b},Gt.prototype.defineClass=function(){return this.mapToClass(function(b){u(this,b)})},Gt.prototype.add=function(b,E){var N=this,L=this.schema.primKey,H=L.auto,ne=L.keyPath,de=b;return ne&&H&&(de=Es(ne)(b)),this._trans("readwrite",function(ve){return N.core.mutate({trans:ve,type:"add",keys:E!=null?[E]:null,values:[de]})}).then(function(ve){return ve.numFailures?R.reject(ve.failures[0]):ve.lastResult}).then(function(ve){if(ne)try{w(b,ne,ve)}catch{}return ve})},Gt.prototype.upsert=function(b,E){var N=this,L=this.schema.primKey.keyPath;return this._trans("readwrite",function(H){return N.core.get({trans:H,key:b}).then(function(ne){var de=ne??{};return qn(de,E),L&&w(de,L,b),N.core.mutate({trans:H,type:"put",values:[de],keys:[b],upsert:!0,updates:{keys:[b],changeSpecs:[E]}}).then(function(ve){return ve.numFailures?R.reject(ve.failures[0]):!!ne})})})},Gt.prototype.update=function(b,E){return typeof b!="object"||c(b)?this.where(":id").equals(b).modify(E):(b=W(b,this.schema.primKey.keyPath),b===void 0?Jn(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(E))},Gt.prototype.put=function(b,E){var N=this,L=this.schema.primKey,H=L.auto,ne=L.keyPath,de=b;return ne&&H&&(de=Es(ne)(b)),this._trans("readwrite",function(ve){return N.core.mutate({trans:ve,type:"put",values:[de],keys:E!=null?[E]:null})}).then(function(ve){return ve.numFailures?R.reject(ve.failures[0]):ve.lastResult}).then(function(ve){if(ne)try{w(b,ne,ve)}catch{}return ve})},Gt.prototype.delete=function(b){var E=this;return this._trans("readwrite",function(N){return E.core.mutate({trans:N,type:"delete",keys:[b]}).then(function(L){return Dn(E,[b],L)}).then(function(L){return L.numFailures?R.reject(L.failures[0]):void 0})})},Gt.prototype.clear=function(){var b=this;return this._trans("readwrite",function(E){return b.core.mutate({trans:E,type:"deleteRange",range:Ws}).then(function(N){return Dn(b,null,N)})}).then(function(E){return E.numFailures?R.reject(E.failures[0]):void 0})},Gt.prototype.bulkGet=function(b){var E=this;return this._trans("readonly",function(N){return E.core.getMany({keys:b,trans:N}).then(function(L){return L.map(function(H){return E.hook.reading.fire(H)})})})},Gt.prototype.bulkAdd=function(b,E,N){var L=this,H=Array.isArray(E)?E:void 0,ne=(N=N||(H?void 0:E))?N.allKeys:void 0;return this._trans("readwrite",function(de){var Ue=L.schema.primKey,ve=Ue.auto,Ue=Ue.keyPath;if(Ue&&H)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(H&&H.length!==b.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var Ee=b.length,Ue=Ue&&ve?b.map(Es(Ue)):b;return L.core.mutate({trans:de,type:"add",keys:H,values:Ue,wantResults:ne}).then(function(Xe){var Te=Xe.numFailures,Be=Xe.results,Ce=Xe.lastResult,Xe=Xe.failures;if(Te===0)return ne?Be:Ce;throw new le("".concat(L.name,".bulkAdd(): ").concat(Te," of ").concat(Ee," operations failed"),Xe)})})},Gt.prototype.bulkPut=function(b,E,N){var L=this,H=Array.isArray(E)?E:void 0,ne=(N=N||(H?void 0:E))?N.allKeys:void 0;return this._trans("readwrite",function(de){var Ue=L.schema.primKey,ve=Ue.auto,Ue=Ue.keyPath;if(Ue&&H)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(H&&H.length!==b.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var Ee=b.length,Ue=Ue&&ve?b.map(Es(Ue)):b;return L.core.mutate({trans:de,type:"put",keys:H,values:Ue,wantResults:ne}).then(function(Xe){var Te=Xe.numFailures,Be=Xe.results,Ce=Xe.lastResult,Xe=Xe.failures;if(Te===0)return ne?Be:Ce;throw new le("".concat(L.name,".bulkPut(): ").concat(Te," of ").concat(Ee," operations failed"),Xe)})})},Gt.prototype.bulkUpdate=function(b){var E=this,N=this.core,L=b.map(function(de){return de.key}),H=b.map(function(de){return de.changes}),ne=[];return this._trans("readwrite",function(de){return N.getMany({trans:de,keys:L,cache:"clone"}).then(function(ve){var Ee=[],Ue=[];b.forEach(function(Te,Be){var Ce=Te.key,Xe=Te.changes,Re=ve[Be];if(Re){for(var De=0,ze=Object.keys(Xe);De<ze.length;De++){var Ge=ze[De],st=Xe[Ge];if(Ge===E.schema.primKey.keyPath){if(It(st,Ce)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else w(Re,Ge,st)}ne.push(Be),Ee.push(Ce),Ue.push(Re)}});var Ne=Ee.length;return N.mutate({trans:de,type:"put",keys:Ee,values:Ue,updates:{keys:L,changeSpecs:H}}).then(function(Te){var Be=Te.numFailures,Ce=Te.failures;if(Be===0)return Ne;for(var Xe=0,Re=Object.keys(Ce);Xe<Re.length;Xe++){var De,ze=Re[Xe],Ge=ne[Number(ze)];Ge!=null&&(De=Ce[ze],delete Ce[ze],Ce[Ge]=De)}throw new le("".concat(E.name,".bulkUpdate(): ").concat(Be," of ").concat(Ne," operations failed"),Ce)})})})},Gt.prototype.bulkDelete=function(b){var E=this,N=b.length;return this._trans("readwrite",function(L){return E.core.mutate({trans:L,type:"delete",keys:b}).then(function(H){return Dn(E,b,H)})}).then(function(de){var H=de.numFailures,ne=de.lastResult,de=de.failures;if(H===0)return ne;throw new le("".concat(E.name,".bulkDelete(): ").concat(H," of ").concat(N," operations failed"),de)})},Gt);function Gt(){}function mr(b){function E(de,ve){if(ve){for(var Ee=arguments.length,Ue=new Array(Ee-1);--Ee;)Ue[Ee-1]=arguments[Ee];return N[de].subscribe.apply(null,Ue),b}if(typeof de=="string")return N[de]}var N={};E.addEventType=ne;for(var L=1,H=arguments.length;L<H;++L)ne(arguments[L]);return E;function ne(de,ve,Ee){if(typeof de!="object"){var Ue;ve=ve||pe;var Ne={subscribers:[],fire:Ee=Ee||We,subscribe:function(Te){Ne.subscribers.indexOf(Te)===-1&&(Ne.subscribers.push(Te),Ne.fire=ve(Ne.fire,Te))},unsubscribe:function(Te){Ne.subscribers=Ne.subscribers.filter(function(Be){return Be!==Te}),Ne.fire=Ne.subscribers.reduce(ve,Ee)}};return N[de]=E[de]=Ne}o(Ue=de).forEach(function(Te){var Be=Ue[Te];if(c(Be))ne(Te,Ue[Te][0],Ue[Te][1]);else{if(Be!=="asap")throw new Se.InvalidArgument("Invalid event config");var Ce=ne(Te,Ze,function(){for(var Xe=arguments.length,Re=new Array(Xe);Xe--;)Re[Xe]=arguments[Xe];Ce.subscribers.forEach(function(De){C(function(){De.apply(null,Re)})})})}})}}function Xn(b,E){return v(E).from({prototype:b}),E}function Ir(b,E){return!(b.filter||b.algorithm||b.or)&&(E?b.justLimit:!b.replayFilter)}function yi(b,E){b.filter=zi(b.filter,E)}function Xi(b,E,N){var L=b.replayFilter;b.replayFilter=L?function(){return zi(L(),E())}:E,b.justLimit=N&&!L}function Ri(b,E){if(b.isPrimKey)return E.primaryKey;var N=E.getIndexByKeyPath(b.index);if(!N)throw new Se.Schema("KeyPath "+b.index+" on object store "+E.name+" is not indexed");return N}function Va(b,E,N){var L=Ri(b,E.schema);return E.openCursor({trans:N,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:L,range:b.range}})}function vi(b,E,N,L){var H=b.replayFilter?zi(b.filter,b.replayFilter()):b.filter;if(b.or){var ne={},de=function(ve,Ee,Ue){var Ne,Te;H&&!H(Ee,Ue,function(Be){return Ee.stop(Be)},function(Be){return Ee.fail(Be)})||((Te=""+(Ne=Ee.primaryKey))=="[object ArrayBuffer]"&&(Te=""+new Uint8Array(Ne)),h(ne,Te)||(ne[Te]=!0,E(ve,Ee,Ue)))};return Promise.all([b.or._iterate(de,N),si(Va(b,L,N),b.algorithm,de,!b.keysOnly&&b.valueMapper)])}return si(Va(b,L,N),zi(b.algorithm,H),E,!b.keysOnly&&b.valueMapper)}function si(b,E,N,L){var H=At(L?function(ne,de,ve){return N(L(ne),de,ve)}:N);return b.then(function(ne){if(ne)return ne.start(function(){var de=function(){return ne.continue()};E&&!E(ne,function(ve){return de=ve},function(ve){ne.stop(ve),de=We},function(ve){ne.fail(ve),de=We})||H(ne.value,ne,function(ve){return de=ve}),de()})})}var Wo=(jt.prototype._read=function(b,E){var N=this._ctx;return N.error?N.table._trans(null,Jn.bind(null,N.error)):N.table._trans("readonly",b).then(E)},jt.prototype._write=function(b){var E=this._ctx;return E.error?E.table._trans(null,Jn.bind(null,E.error)):E.table._trans("readwrite",b,"locked")},jt.prototype._addAlgorithm=function(b){var E=this._ctx;E.algorithm=zi(E.algorithm,b)},jt.prototype._iterate=function(b,E){return vi(this._ctx,b,E,this._ctx.table.core)},jt.prototype.clone=function(b){var E=Object.create(this.constructor.prototype),N=Object.create(this._ctx);return b&&u(N,b),E._ctx=N,E},jt.prototype.raw=function(){return this._ctx.valueMapper=null,this},jt.prototype.each=function(b){var E=this._ctx;return this._read(function(N){return vi(E,b,N,E.table.core)})},jt.prototype.count=function(b){var E=this;return this._read(function(N){var L=E._ctx,H=L.table.core;if(Ir(L,!0))return H.count({trans:N,query:{index:Ri(L,H.schema),range:L.range}}).then(function(de){return Math.min(de,L.limit)});var ne=0;return vi(L,function(){return++ne,!1},N,H).then(function(){return ne})}).then(b)},jt.prototype.sortBy=function(b,E){var N=b.split(".").reverse(),L=N[0],H=N.length-1;function ne(Ee,Ue){return Ue?ne(Ee[N[Ue]],Ue-1):Ee[L]}var de=this._ctx.dir==="next"?1:-1;function ve(Ee,Ue){return It(ne(Ee,H),ne(Ue,H))*de}return this.toArray(function(Ee){return Ee.sort(ve)}).then(E)},jt.prototype.toArray=function(b){var E=this;return this._read(function(N){var L=E._ctx;if(L.dir==="next"&&Ir(L,!0)&&0<L.limit){var H=L.valueMapper,ne=Ri(L,L.table.core.schema);return L.table.core.query({trans:N,limit:L.limit,values:!0,query:{index:ne,range:L.range}}).then(function(ve){return ve=ve.result,H?ve.map(H):ve})}var de=[];return vi(L,function(ve){return de.push(ve)},N,L.table.core).then(function(){return de})},b)},jt.prototype.offset=function(b){var E=this._ctx;return b<=0||(E.offset+=b,Ir(E)?Xi(E,function(){var N=b;return function(L,H){return N===0||(N===1?--N:H(function(){L.advance(N),N=0}),!1)}}):Xi(E,function(){var N=b;return function(){return--N<0}})),this},jt.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),Xi(this._ctx,function(){var E=b;return function(N,L,H){return--E<=0&&L(H),0<=E}},!0),this},jt.prototype.until=function(b,E){return yi(this._ctx,function(N,L,H){return!b(N.value)||(L(H),E)}),this},jt.prototype.first=function(b){return this.limit(1).toArray(function(E){return E[0]}).then(b)},jt.prototype.last=function(b){return this.reverse().first(b)},jt.prototype.filter=function(b){var E;return yi(this._ctx,function(N){return b(N.value)}),(E=this._ctx).isMatch=zi(E.isMatch,b),this},jt.prototype.and=function(b){return this.filter(b)},jt.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},jt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},jt.prototype.desc=function(){return this.reverse()},jt.prototype.eachKey=function(b){var E=this._ctx;return E.keysOnly=!E.isMatch,this.each(function(N,L){b(L.key,L)})},jt.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},jt.prototype.eachPrimaryKey=function(b){var E=this._ctx;return E.keysOnly=!E.isMatch,this.each(function(N,L){b(L.primaryKey,L)})},jt.prototype.keys=function(b){var E=this._ctx;E.keysOnly=!E.isMatch;var N=[];return this.each(function(L,H){N.push(H.key)}).then(function(){return N}).then(b)},jt.prototype.primaryKeys=function(b){var E=this._ctx;if(E.dir==="next"&&Ir(E,!0)&&0<E.limit)return this._read(function(L){var H=Ri(E,E.table.core.schema);return E.table.core.query({trans:L,values:!1,limit:E.limit,query:{index:H,range:E.range}})}).then(function(L){return L.result}).then(b);E.keysOnly=!E.isMatch;var N=[];return this.each(function(L,H){N.push(H.primaryKey)}).then(function(){return N}).then(b)},jt.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},jt.prototype.firstKey=function(b){return this.limit(1).keys(function(E){return E[0]}).then(b)},jt.prototype.lastKey=function(b){return this.reverse().firstKey(b)},jt.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var E={};return yi(this._ctx,function(H){var L=H.primaryKey.toString(),H=h(E,L);return E[L]=!0,!H}),this},jt.prototype.modify=function(b){var E=this,N=this._ctx;return this._write(function(L){var H=typeof b=="function"?b:function(Re){return qn(Re,b)},ne=N.table.core,Ue=ne.schema.primaryKey,de=Ue.outbound,ve=Ue.extractKey,Ee=200,Ue=E.db._options.modifyChunkSize;Ue&&(Ee=typeof Ue=="object"?Ue[ne.name]||Ue["*"]||200:Ue);function Ne(Re,Ge){var ze=Ge.failures,Ge=Ge.numFailures;Be+=Re-Ge;for(var st=0,ct=o(ze);st<ct.length;st++){var St=ct[st];Te.push(ze[St])}}var Te=[],Be=0,Ce=[],Xe=b===Mr;return E.clone().primaryKeys().then(function(Re){function De(Ge){var st=Math.min(Ee,Re.length-Ge),ct=Re.slice(Ge,Ge+st);return(Xe?Promise.resolve([]):ne.getMany({trans:L,keys:ct,cache:"immutable"})).then(function(St){var Ut=[],yt=[],xt=de?[]:null,Et=Xe?ct:[];if(!Xe)for(var vt=0;vt<st;++vt){var Xt=St[vt],$t={value:V(Xt),primKey:Re[Ge+vt]};H.call($t,$t.value,$t)!==!1&&($t.value==null?Et.push(Re[Ge+vt]):de||It(ve(Xt),ve($t.value))===0?(yt.push($t.value),de&&xt.push(Re[Ge+vt])):(Et.push(Re[Ge+vt]),Ut.push($t.value)))}return Promise.resolve(0<Ut.length&&ne.mutate({trans:L,type:"add",values:Ut}).then(function(tn){for(var pn in tn.failures)Et.splice(parseInt(pn),1);Ne(Ut.length,tn)})).then(function(){return(0<yt.length||ze&&typeof b=="object")&&ne.mutate({trans:L,type:"put",keys:xt,values:yt,criteria:ze,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<Ge}).then(function(tn){return Ne(yt.length,tn)})}).then(function(){return(0<Et.length||ze&&Xe)&&ne.mutate({trans:L,type:"delete",keys:Et,criteria:ze,isAdditionalChunk:0<Ge}).then(function(tn){return Dn(N.table,Et,tn)}).then(function(tn){return Ne(Et.length,tn)})}).then(function(){return Re.length>Ge+st&&De(Ge+Ee)})})}var ze=Ir(N)&&N.limit===1/0&&(typeof b!="function"||Xe)&&{index:N.index,range:N.range};return De(0).then(function(){if(0<Te.length)throw new ie("Error modifying one or more objects",Te,Be,Ce);return Re.length})})})},jt.prototype.delete=function(){var b=this._ctx,E=b.range;return!Ir(b)||b.table.schema.yProps||!b.isPrimKey&&E.type!==3?this.modify(Mr):this._write(function(N){var L=b.table.core.schema.primaryKey,H=E;return b.table.core.count({trans:N,query:{index:L,range:H}}).then(function(ne){return b.table.core.mutate({trans:N,type:"deleteRange",range:H}).then(function(Ee){var ve=Ee.failures,Ee=Ee.numFailures;if(Ee)throw new ie("Could not delete some values",Object.keys(ve).map(function(Ue){return ve[Ue]}),ne-Ee);return ne-Ee})})})},jt);function jt(){}var Mr=function(b,E){return E.value=null};function Pi(b,E){return b<E?-1:b===E?0:1}function gr(b,E){return E<b?-1:b===E?0:1}function Lr(b,E,N){return b=b instanceof zr?new b.Collection(b):b,b._ctx.error=new(N||TypeError)(E),b}function ai(b){return new b.Collection(b,function(){return Hs("")}).limit(0)}function Zr(b,E,N,L){var H,ne,de,ve,Ee,Ue,Ne,Te=N.length;if(!N.every(function(Xe){return typeof Xe=="string"}))return Lr(b,sr);function Be(Xe){H=Xe==="next"?function(De){return De.toUpperCase()}:function(De){return De.toLowerCase()},ne=Xe==="next"?function(De){return De.toLowerCase()}:function(De){return De.toUpperCase()},de=Xe==="next"?Pi:gr;var Re=N.map(function(De){return{lower:ne(De),upper:H(De)}}).sort(function(De,ze){return de(De.lower,ze.lower)});ve=Re.map(function(De){return De.upper}),Ee=Re.map(function(De){return De.lower}),Ne=(Ue=Xe)==="next"?"":L}Be("next"),b=new b.Collection(b,function(){return Mi(ve[0],Ee[Te-1]+L)}),b._ondirectionchange=function(Xe){Be(Xe)};var Ce=0;return b._addAlgorithm(function(Xe,Re,De){var ze=Xe.key;if(typeof ze!="string")return!1;var Ge=ne(ze);if(E(Ge,Ee,Ce))return!0;for(var st=null,ct=Ce;ct<Te;++ct){var St=(function(Ut,yt,xt,Et,vt,Xt){for(var $t=Math.min(Ut.length,Et.length),tn=-1,pn=0;pn<$t;++pn){var di=yt[pn];if(di!==Et[pn])return vt(Ut[pn],xt[pn])<0?Ut.substr(0,pn)+xt[pn]+xt.substr(pn+1):vt(Ut[pn],Et[pn])<0?Ut.substr(0,pn)+Et[pn]+xt.substr(pn+1):0<=tn?Ut.substr(0,tn)+yt[tn]+xt.substr(tn+1):null;vt(Ut[pn],di)<0&&(tn=pn)}return $t<Et.length&&Xt==="next"?Ut+xt.substr(Ut.length):$t<Ut.length&&Xt==="prev"?Ut.substr(0,xt.length):tn<0?null:Ut.substr(0,tn)+Et[tn]+xt.substr(tn+1)})(ze,Ge,ve[ct],Ee[ct],de,Ue);St===null&&st===null?Ce=ct+1:(st===null||0<de(st,St))&&(st=St)}return Re(st!==null?function(){Xe.continue(st+Ne)}:De),!1}),b}function Mi(b,E,N,L){return{type:2,lower:b,upper:E,lowerOpen:N,upperOpen:L}}function Hs(b){return{type:1,lower:b,upper:b}}var zr=(Object.defineProperty(Bn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Bn.prototype.between=function(b,E,N,L){N=N!==!1,L=L===!0;try{return 0<this._cmp(b,E)||this._cmp(b,E)===0&&(N||L)&&(!N||!L)?ai(this):new this.Collection(this,function(){return Mi(b,E,!N,!L)})}catch{return Lr(this,Fr)}},Bn.prototype.equals=function(b){return b==null?Lr(this,Fr):new this.Collection(this,function(){return Hs(b)})},Bn.prototype.above=function(b){return b==null?Lr(this,Fr):new this.Collection(this,function(){return Mi(b,void 0,!0)})},Bn.prototype.aboveOrEqual=function(b){return b==null?Lr(this,Fr):new this.Collection(this,function(){return Mi(b,void 0,!1)})},Bn.prototype.below=function(b){return b==null?Lr(this,Fr):new this.Collection(this,function(){return Mi(void 0,b,!1,!0)})},Bn.prototype.belowOrEqual=function(b){return b==null?Lr(this,Fr):new this.Collection(this,function(){return Mi(void 0,b)})},Bn.prototype.startsWith=function(b){return typeof b!="string"?Lr(this,sr):this.between(b,b+Vr,!0,!0)},Bn.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):Zr(this,function(E,N){return E.indexOf(N[0])===0},[b],Vr)},Bn.prototype.equalsIgnoreCase=function(b){return Zr(this,function(E,N){return E===N[0]},[b],"")},Bn.prototype.anyOfIgnoreCase=function(){var b=ue.apply(Q,arguments);return b.length===0?ai(this):Zr(this,function(E,N){return N.indexOf(E)!==-1},b,"")},Bn.prototype.startsWithAnyOfIgnoreCase=function(){var b=ue.apply(Q,arguments);return b.length===0?ai(this):Zr(this,function(E,N){return N.some(function(L){return E.indexOf(L)===0})},b,Vr)},Bn.prototype.anyOf=function(){var b=this,E=ue.apply(Q,arguments),N=this._cmp;try{E.sort(N)}catch{return Lr(this,Fr)}if(E.length===0)return ai(this);var L=new this.Collection(this,function(){return Mi(E[0],E[E.length-1])});L._ondirectionchange=function(ne){N=ne==="next"?b._ascending:b._descending,E.sort(N)};var H=0;return L._addAlgorithm(function(ne,de,ve){for(var Ee=ne.key;0<N(Ee,E[H]);)if(++H===E.length)return de(ve),!1;return N(Ee,E[H])===0||(de(function(){ne.continue(E[H])}),!1)}),L},Bn.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Bn.prototype.noneOf=function(){var b=ue.apply(Q,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return Lr(this,Fr)}var E=b.reduce(function(N,L){return N?N.concat([[N[N.length-1][1],L]]):[[-1/0,L]]},null);return E.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(E,{includeLowers:!1,includeUppers:!1})},Bn.prototype.inAnyRange=function(ze,E){var N=this,L=this._cmp,H=this._ascending,ne=this._descending,de=this._min,ve=this._max;if(ze.length===0)return ai(this);if(!ze.every(function(Ge){return Ge[0]!==void 0&&Ge[1]!==void 0&&H(Ge[0],Ge[1])<=0}))return Lr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var Ee=!E||E.includeLowers!==!1,Ue=E&&E.includeUppers===!0,Ne,Te=H;function Be(Ge,st){return Te(Ge[0],st[0])}try{(Ne=ze.reduce(function(Ge,st){for(var ct=0,St=Ge.length;ct<St;++ct){var Ut=Ge[ct];if(L(st[0],Ut[1])<0&&0<L(st[1],Ut[0])){Ut[0]=de(Ut[0],st[0]),Ut[1]=ve(Ut[1],st[1]);break}}return ct===St&&Ge.push(st),Ge},[])).sort(Be)}catch{return Lr(this,Fr)}var Ce=0,Xe=Ue?function(Ge){return 0<H(Ge,Ne[Ce][1])}:function(Ge){return 0<=H(Ge,Ne[Ce][1])},Re=Ee?function(Ge){return 0<ne(Ge,Ne[Ce][0])}:function(Ge){return 0<=ne(Ge,Ne[Ce][0])},De=Xe,ze=new this.Collection(this,function(){return Mi(Ne[0][0],Ne[Ne.length-1][1],!Ee,!Ue)});return ze._ondirectionchange=function(Ge){Te=Ge==="next"?(De=Xe,H):(De=Re,ne),Ne.sort(Be)},ze._addAlgorithm(function(Ge,st,ct){for(var St,Ut=Ge.key;De(Ut);)if(++Ce===Ne.length)return st(ct),!1;return!Xe(St=Ut)&&!Re(St)||(N._cmp(Ut,Ne[Ce][1])===0||N._cmp(Ut,Ne[Ce][0])===0||st(function(){Te===H?Ge.continue(Ne[Ce][0]):Ge.continue(Ne[Ce][1])}),!1)}),ze},Bn.prototype.startsWithAnyOf=function(){var b=ue.apply(Q,arguments);return b.every(function(E){return typeof E=="string"})?b.length===0?ai(this):this.inAnyRange(b.map(function(E){return[E,E+Vr]})):Lr(this,"startsWithAnyOf() only works with strings")},Bn);function Bn(){}function Ei(b){return At(function(E){return xr(E),b(E.target.error),!1})}function xr(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var Us="storagemutated",ar="x-storagemutated-1",$r=mr(null,Us),Pl=(fi.prototype._lock=function(){return P(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(P(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{Br(b[1],b[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},fi.prototype.create=function(b){var E=this;if(!this.mode)return this;var N=this.db.idbdb,L=this.db._state.dbOpenError;if(P(!this.idbtrans),!b&&!N)switch(L&&L.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(L);case"MissingAPIError":throw new Se.MissingAPI(L.message,L);default:throw new Se.OpenFailed(L)}if(!this.active)throw new Se.TransactionInactive;return P(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||N).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(H){xr(H),E._reject(b.error)}),b.onabort=At(function(H){xr(H),E.active&&E._reject(new Se.Abort(b.error)),E.active=!1,E.on("abort").fire(H)}),b.oncomplete=At(function(){E.active=!1,E._resolve(),"mutatedParts"in b&&$r.storagemutated.fire(b.mutatedParts)}),this},fi.prototype._promise=function(b,E,N){var L=this;if(b==="readwrite"&&this.mode!=="readwrite")return Jn(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return Jn(new Se.TransactionInactive);if(this._locked())return new R(function(ne,de){L._blockedFuncs.push([function(){L._promise(b,E,N).then(ne,de)},be])});if(N)return nn(function(){var ne=new R(function(de,ve){L._lock();var Ee=E(de,ve,L);Ee&&Ee.then&&Ee.then(de,ve)});return ne.finally(function(){return L._unlock()}),ne._lib=!0,ne});var H=new R(function(ne,de){var ve=E(ne,de,L);ve&&ve.then&&ve.then(ne,de)});return H._lib=!0,H},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(b){var E,N=this._root(),L=R.resolve(b);N._waitingFor?N._waitingFor=N._waitingFor.then(function(){return L}):(N._waitingFor=L,N._waitingQueue=[],E=N.idbtrans.objectStore(N.storeNames[0]),(function ne(){for(++N._spinCount;N._waitingQueue.length;)N._waitingQueue.shift()();N._waitingFor&&(E.get(-1/0).onsuccess=ne)})());var H=N._waitingFor;return new R(function(ne,de){L.then(function(ve){return N._waitingQueue.push(At(ne.bind(null,ve)))},function(ve){return N._waitingQueue.push(At(de.bind(null,ve)))}).finally(function(){N._waitingFor===H&&(N._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},fi.prototype.table=function(b){var E=this._memoizedTables||(this._memoizedTables={});if(h(E,b))return E[b];var N=this.schema[b];if(!N)throw new Se.NotFound("Table "+b+" not part of transaction");return N=new this.db.Table(b,N,this),N.core=this.db.core.table(b),E[b]=N},fi);function fi(){}function Oi(b,E,N,L,H,ne,de,ve){return{name:b,keyPath:E,unique:N,multi:L,auto:H,compound:ne,src:(N&&!de?"&":"")+(L?"*":"")+(H?"++":"")+Fa(E),type:ve}}function Fa(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function ss(b,E,N){return{name:b,primKey:E,indexes:N,mappedClass:null,idxByName:(L=function(H){return[H.name,H]},N.reduce(function(H,ne,de){return de=L(ne,de),de&&(H[de[0]]=de[1]),H},{}))};var L}var Ui=function(b){try{return b.only([[]]),Ui=function(){return[[]]},[[]]}catch{return Ui=function(){return Vr},Vr}};function Gs(b){return b==null?function(){}:typeof b=="string"?(E=b).split(".").length===1?function(N){return N[E]}:function(N){return W(N,E)}:function(N){return W(N,b)};var E}function La(b){return[].slice.call(b)}var qs=0;function vr(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function as(b,E,Ee){function L(De){if(De.type===3)return null;if(De.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ce=De.lower,Xe=De.upper,Re=De.lowerOpen,De=De.upperOpen;return Ce===void 0?Xe===void 0?null:E.upperBound(Xe,!!De):Xe===void 0?E.lowerBound(Ce,!!Re):E.bound(Ce,Xe,!!Re,!!De)}function H(Be){var Ce,Xe=Be.name;return{name:Xe,schema:Be,mutate:function(Re){var De=Re.trans,ze=Re.type,Ge=Re.keys,st=Re.values,ct=Re.range;return new Promise(function(St,Ut){St=At(St);var yt=De.objectStore(Xe),xt=yt.keyPath==null,Et=ze==="put"||ze==="add";if(!Et&&ze!=="delete"&&ze!=="deleteRange")throw new Error("Invalid operation type: "+ze);var vt,Xt=(Ge||st||{length:1}).length;if(Ge&&st&&Ge.length!==st.length)throw new Error("Given keys array must have same length as given values array.");if(Xt===0)return St({numFailures:0,failures:{},results:[],lastResult:void 0});function $t(jr){++di,xr(jr)}var tn=[],pn=[],di=0;if(ze==="deleteRange"){if(ct.type===4)return St({numFailures:di,failures:pn,results:[],lastResult:void 0});ct.type===3?tn.push(vt=yt.clear()):tn.push(vt=yt.delete(L(ct)))}else{var xt=Et?xt?[st,Ge]:[st,null]:[Ge,null],en=xt[0],Kr=xt[1];if(Et)for(var wr=0;wr<Xt;++wr)tn.push(vt=Kr&&Kr[wr]!==void 0?yt[ze](en[wr],Kr[wr]):yt[ze](en[wr])),vt.onerror=$t;else for(wr=0;wr<Xt;++wr)tn.push(vt=yt[ze](en[wr])),vt.onerror=$t}function Vl(jr){jr=jr.target.result,tn.forEach(function(Ki,w0){return Ki.error!=null&&(pn[w0]=Ki.error)}),St({numFailures:di,failures:pn,results:ze==="delete"?Ge:tn.map(function(Ki){return Ki.result}),lastResult:jr})}vt.onerror=function(jr){$t(jr),Vl(jr)},vt.onsuccess=Vl})},getMany:function(Re){var De=Re.trans,ze=Re.keys;return new Promise(function(Ge,st){Ge=At(Ge);for(var ct,St=De.objectStore(Xe),Ut=ze.length,yt=new Array(Ut),xt=0,Et=0,vt=function(tn){tn=tn.target,yt[tn._pos]=tn.result,++Et===xt&&Ge(yt)},Xt=Ei(st),$t=0;$t<Ut;++$t)ze[$t]!=null&&((ct=St.get(ze[$t]))._pos=$t,ct.onsuccess=vt,ct.onerror=Xt,++xt);xt===0&&Ge(yt)})},get:function(Re){var De=Re.trans,ze=Re.key;return new Promise(function(Ge,st){Ge=At(Ge);var ct=De.objectStore(Xe).get(ze);ct.onsuccess=function(St){return Ge(St.target.result)},ct.onerror=Ei(st)})},query:(Ce=Ue,function(Re){return new Promise(function(De,ze){De=At(De);var Ge,st,ct,xt=Re.trans,St=Re.values,Ut=Re.limit,vt=Re.query,yt=Ut===1/0?void 0:Ut,Et=vt.index,vt=vt.range,xt=xt.objectStore(Xe),Et=Et.isPrimaryKey?xt:xt.index(Et.name),vt=L(vt);if(Ut===0)return De({result:[]});Ce?((yt=St?Et.getAll(vt,yt):Et.getAllKeys(vt,yt)).onsuccess=function(Xt){return De({result:Xt.target.result})},yt.onerror=Ei(ze)):(Ge=0,st=!St&&"openKeyCursor"in Et?Et.openKeyCursor(vt):Et.openCursor(vt),ct=[],st.onsuccess=function(Xt){var $t=st.result;return $t?(ct.push(St?$t.value:$t.primaryKey),++Ge===Ut?De({result:ct}):void $t.continue()):De({result:ct})},st.onerror=Ei(ze))})}),openCursor:function(Re){var De=Re.trans,ze=Re.values,Ge=Re.query,st=Re.reverse,ct=Re.unique;return new Promise(function(St,Ut){St=At(St);var Et=Ge.index,yt=Ge.range,xt=De.objectStore(Xe),xt=Et.isPrimaryKey?xt:xt.index(Et.name),Et=st?ct?"prevunique":"prev":ct?"nextunique":"next",vt=!ze&&"openKeyCursor"in xt?xt.openKeyCursor(L(yt),Et):xt.openCursor(L(yt),Et);vt.onerror=Ei(Ut),vt.onsuccess=At(function(Xt){var $t,tn,pn,di,en=vt.result;en?(en.___id=++qs,en.done=!1,$t=en.continue.bind(en),tn=(tn=en.continuePrimaryKey)&&tn.bind(en),pn=en.advance.bind(en),di=function(){throw new Error("Cursor not stopped")},en.trans=De,en.stop=en.continue=en.continuePrimaryKey=en.advance=function(){throw new Error("Cursor not started")},en.fail=At(Ut),en.next=function(){var Kr=this,wr=1;return this.start(function(){return wr--?Kr.continue():Kr.stop()}).then(function(){return Kr})},en.start=function(Kr){function wr(){if(vt.result)try{Kr()}catch(jr){en.fail(jr)}else en.done=!0,en.start=function(){throw new Error("Cursor behind last entry")},en.stop()}var Vl=new Promise(function(jr,Ki){jr=At(jr),vt.onerror=Ei(Ki),en.fail=Ki,en.stop=function(w0){en.stop=en.continue=en.continuePrimaryKey=en.advance=di,jr(w0)}});return vt.onsuccess=At(function(jr){vt.onsuccess=wr,wr()}),en.continue=$t,en.continuePrimaryKey=tn,en.advance=pn,wr(),Vl},St(en)):St(null)},Ut)})},count:function(Re){var De=Re.query,ze=Re.trans,Ge=De.index,st=De.range;return new Promise(function(ct,St){var Ut=ze.objectStore(Xe),yt=Ge.isPrimaryKey?Ut:Ut.index(Ge.name),Ut=L(st),yt=Ut?yt.count(Ut):yt.count();yt.onsuccess=At(function(xt){return ct(xt.target.result)}),yt.onerror=Ei(St)})}}}var ne,de,ve,Ne=(de=Ee,ve=La((ne=b).objectStoreNames),{schema:{name:ne.name,tables:ve.map(function(Be){return de.objectStore(Be)}).map(function(Be){var Ce=Be.keyPath,De=Be.autoIncrement,Xe=c(Ce),Re={},De={name:Be.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ce==null,compound:Xe,keyPath:Ce,autoIncrement:De,unique:!0,extractKey:Gs(Ce)},indexes:La(Be.indexNames).map(function(ze){return Be.index(ze)}).map(function(ct){var Ge=ct.name,st=ct.unique,St=ct.multiEntry,ct=ct.keyPath,St={name:Ge,compound:c(ct),keyPath:ct,unique:st,multiEntry:St,extractKey:Gs(ct)};return Re[vr(ct)]=St}),getIndexByKeyPath:function(ze){return Re[vr(ze)]}};return Re[":id"]=De.primaryKey,Ce!=null&&(Re[vr(Ce)]=De.primaryKey),De})},hasGetAll:0<ve.length&&"getAll"in de.objectStore(ve[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ee=Ne.schema,Ue=Ne.hasGetAll,Ne=Ee.tables.map(H),Te={};return Ne.forEach(function(Be){return Te[Be.name]=Be}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(Be){if(!Te[Be])throw new Error("Table '".concat(Be,"' not found"));return Te[Be]},MIN_KEY:-1/0,MAX_KEY:Ui(E),schema:Ee}}function Cs(b,E,N,L){var H=N.IDBKeyRange;return N.indexedDB,{dbcore:(L=as(E,H,L),b.dbcore.reduce(function(ne,de){return de=de.create,r(r({},ne),de(ne))},L))}}function os(b,L){var N=L.db,L=Cs(b._middlewares,N,b._deps,L);b.core=L.dbcore,b.tables.forEach(function(H){var ne=H.name;b.core.schema.tables.some(function(de){return de.name===ne})&&(H.core=b.core.table(ne),b[ne]instanceof b.Table&&(b[ne].core=H.core))})}function Eo(b,E,N,L){N.forEach(function(H){var ne=L[H];E.forEach(function(de){var ve=(function Ee(Ue,Ne){return S(Ue,Ne)||(Ue=f(Ue))&&Ee(Ue,Ne)})(de,H);(!ve||"value"in ve&&ve.value===void 0)&&(de===b.Transaction.prototype||de instanceof b.Transaction?_(de,H,{get:function(){return this.table(H)},set:function(Ee){y(this,H,{value:Ee,writable:!0,configurable:!0,enumerable:!0})}}):de[H]=new b.Table(H,ne))})})}function Za(b,E){E.forEach(function(N){for(var L in N)N[L]instanceof b.Table&&delete N[L]})}function za(b,E){return b._cfg.version-E._cfg.version}function Uo(b,E,N,L){var H=b._dbSchema;N.objectStoreNames.contains("$meta")&&!H.$meta&&(H.$meta=ss("$meta",Pn("")[0],[]),b._storeNames.push("$meta"));var ne=b._createTransaction("readwrite",b._storeNames,H);ne.create(N),ne._completion.catch(L);var de=ne._reject.bind(ne),ve=be.transless||be;nn(function(){return be.trans=ne,be.transless=ve,E!==0?(os(b,N),Ue=E,((Ee=ne).storeNames.includes("$meta")?Ee.table("$meta").get("version").then(function(Ne){return Ne??Ue}):R.resolve(Ue)).then(function(Ne){return Be=Ne,Ce=ne,Xe=N,Re=[],Ne=(Te=b)._versions,De=Te._dbSchema=Rn(0,Te.idbdb,Xe),(Ne=Ne.filter(function(ze){return ze._cfg.version>=Be})).length!==0?(Ne.forEach(function(ze){Re.push(function(){var Ge=De,st=ze._cfg.dbschema;Fn(Te,Ge,Xe),Fn(Te,st,Xe),De=Te._dbSchema=st;var ct=Co(Ge,st);ct.add.forEach(function(Et){Ol(Xe,Et[0],Et[1].primKey,Et[1].indexes)}),ct.change.forEach(function(Et){if(Et.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var vt=Xe.objectStore(Et.name);Et.add.forEach(function(Xt){return ln(vt,Xt)}),Et.change.forEach(function(Xt){vt.deleteIndex(Xt.name),ln(vt,Xt)}),Et.del.forEach(function(Xt){return vt.deleteIndex(Xt)})});var St=ze._cfg.contentUpgrade;if(St&&ze._cfg.version>Be){os(Te,Xe),Ce._memoizedTables={};var Ut=k(st);ct.del.forEach(function(Et){Ut[Et]=Ge[Et]}),Za(Te,[Te.Transaction.prototype]),Eo(Te,[Te.Transaction.prototype],o(Ut),Ut),Ce.schema=Ut;var yt,xt=K(St);return xt&&rn(),ct=R.follow(function(){var Et;(yt=St(Ce))&&xt&&(Et=zn.bind(null,null),yt.then(Et,Et))}),yt&&typeof yt.then=="function"?R.resolve(yt):ct.then(function(){return yt})}}),Re.push(function(Ge){var st,ct,St=ze._cfg.dbschema;st=St,ct=Ge,[].slice.call(ct.db.objectStoreNames).forEach(function(Ut){return st[Ut]==null&&ct.db.deleteObjectStore(Ut)}),Za(Te,[Te.Transaction.prototype]),Eo(Te,[Te.Transaction.prototype],Te._storeNames,Te._dbSchema),Ce.schema=Te._dbSchema}),Re.push(function(Ge){Te.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Te.idbdb.version/10)===ze._cfg.version?(Te.idbdb.deleteObjectStore("$meta"),delete Te._dbSchema.$meta,Te._storeNames=Te._storeNames.filter(function(st){return st!=="$meta"})):Ge.objectStore("$meta").put(ze._cfg.version,"version"))})}),(function ze(){return Re.length?R.resolve(Re.shift()(Ce.idbtrans)).then(ze):R.resolve()})().then(function(){on(De,Xe)})):R.resolve();var Te,Be,Ce,Xe,Re,De}).catch(de)):(o(H).forEach(function(Ne){Ol(N,Ne,H[Ne].primKey,H[Ne].indexes)}),os(b,N),void R.follow(function(){return b.on.populate.fire(ne)}).catch(de));var Ee,Ue})}function Ml(b,E){on(b._dbSchema,E),E.db.version%10!=0||E.objectStoreNames.contains("$meta")||E.db.createObjectStore("$meta").add(Math.ceil(E.db.version/10-1),"version");var N=Rn(0,b.idbdb,E);Fn(b,b._dbSchema,E);for(var L=0,H=Co(N,b._dbSchema).change;L<H.length;L++){var ne=(function(de){if(de.change.length||de.recreate)return console.warn("Unable to patch indexes of table ".concat(de.name," because it has changes on the type of index or primary key.")),{value:void 0};var ve=E.objectStore(de.name);de.add.forEach(function(Ee){Ae&&"Dexie upgrade patch: Creating missing index ".concat(de.name,".").concat(Ee.src),ln(ve,Ee)})})(H[L]);if(typeof ne=="object")return ne.value}}function Co(b,E){var N,L={del:[],add:[],change:[]};for(N in b)E[N]||L.del.push(N);for(N in E){var H=b[N],ne=E[N];if(H){var de={name:N,def:ne,recreate:!1,del:[],add:[],change:[]};if(""+(H.primKey.keyPath||"")!=""+(ne.primKey.keyPath||"")||H.primKey.auto!==ne.primKey.auto)de.recreate=!0,L.change.push(de);else{var ve=H.idxByName,Ee=ne.idxByName,Ue=void 0;for(Ue in ve)Ee[Ue]||de.del.push(Ue);for(Ue in Ee){var Ne=ve[Ue],Te=Ee[Ue];Ne?Ne.src!==Te.src&&de.change.push(Te):de.add.push(Te)}(0<de.del.length||0<de.add.length||0<de.change.length)&&L.change.push(de)}}else L.add.push([N,ne])}return L}function Ol(b,E,N,L){var H=b.db.createObjectStore(E,N.keyPath?{keyPath:N.keyPath,autoIncrement:N.auto}:{autoIncrement:N.auto});return L.forEach(function(ne){return ln(H,ne)}),H}function on(b,E){o(b).forEach(function(N){E.db.objectStoreNames.contains(N)||Ol(E,N,b[N].primKey,b[N].indexes)})}function ln(b,E){b.createIndex(E.name,E.keyPath,{unique:E.unique,multiEntry:E.multi})}function Rn(b,E,N){var L={};return T(E.objectStoreNames,0).forEach(function(H){for(var ne=N.objectStore(H),de=Oi(Fa(Ue=ne.keyPath),Ue||"",!0,!1,!!ne.autoIncrement,Ue&&typeof Ue!="string",!0),ve=[],Ee=0;Ee<ne.indexNames.length;++Ee){var Ne=ne.index(ne.indexNames[Ee]),Ue=Ne.keyPath,Ne=Oi(Ne.name,Ue,!!Ne.unique,!!Ne.multiEntry,!1,Ue&&typeof Ue!="string",!1);ve.push(Ne)}L[H]=ss(H,de,ve)}),L}function Fn(b,E,N){for(var L=N.db.objectStoreNames,H=0;H<L.length;++H){var ne=L[H],de=N.objectStore(ne);b._hasGetAll="getAll"in de;for(var ve=0;ve<de.indexNames.length;++ve){var Ee=de.indexNames[ve],Ue=de.index(Ee).keyPath,Ne=typeof Ue=="string"?Ue:"["+T(Ue).join("+")+"]";!E[ne]||(Ue=E[ne].idxByName[Ne])&&(Ue.name=Ee,delete E[ne].idxByName[Ne],E[ne].idxByName[Ee]=Ue)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function Pn(b){return b.split(",").map(function(E,N){var ne=E.split(":"),L=(H=ne[1])===null||H===void 0?void 0:H.trim(),H=(E=ne[0].trim()).replace(/([&*]|\+\+)/g,""),ne=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return Oi(H,ne||null,/\&/.test(E),/\*/.test(E),/\+\+/.test(E),c(ne),N===0,L)})}var Tr=(_r.prototype._createTableSchema=ss,_r.prototype._parseIndexSyntax=Pn,_r.prototype._parseStoresSpec=function(b,E){var N=this;o(b).forEach(function(L){if(b[L]!==null){var H=N._parseIndexSyntax(b[L]),ne=H.shift();if(!ne)throw new Se.Schema("Invalid schema for table "+L+": "+b[L]);if(ne.unique=!0,ne.multi)throw new Se.Schema("Primary key cannot be multiEntry*");H.forEach(function(de){if(de.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!de.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),H=N._createTableSchema(L,ne,H),E[L]=H}})},_r.prototype.stores=function(N){var E=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,N):N;var N=E._versions,L={},H={};return N.forEach(function(ne){u(L,ne._cfg.storesSource),H=ne._cfg.dbschema={},ne._parseStoresSpec(L,H)}),E._dbSchema=H,Za(E,[E._allTables,E,E.Transaction.prototype]),Eo(E,[E._allTables,E,E.Transaction.prototype,this._cfg.tables],o(H),H),E._storeNames=o(H),this},_r.prototype.upgrade=function(b){return this._cfg.contentUpgrade=Me(this._cfg.contentUpgrade||We,b),this},_r);function _r(){}function Cr(b,E){var N=b._dbNamesDB;return N||(N=b._dbNamesDB=new ks(Zi,{addons:[],indexedDB:b,IDBKeyRange:E})).version(1).stores({dbnames:"name"}),N.table("dbnames")}function nr(b){return b&&typeof b.databases=="function"}function dr(b){return nn(function(){return be.letThrough=!0,b()})}function er(b){return!("from"in b)}var Sn=function(b,E){if(!this){var N=new Sn;return b&&"d"in b&&u(N,b),N}u(this,arguments.length?{d:1,from:b,to:1<arguments.length?E:b}:{d:0})};function Ln(b,E,N){var L=It(E,N);if(!isNaN(L)){if(0<L)throw RangeError();if(er(b))return u(b,{from:E,to:N,d:1});var H=b.l,L=b.r;if(It(N,b.from)<0)return H?Ln(H,E,N):b.l={from:E,to:N,d:1,l:null,r:null},Qs(b);if(0<It(E,b.to))return L?Ln(L,E,N):b.r={from:E,to:N,d:1,l:null,r:null},Qs(b);It(E,b.from)<0&&(b.from=E,b.l=null,b.d=L?L.d+1:1),0<It(N,b.to)&&(b.to=N,b.r=null,b.d=b.l?b.l.d+1:1),N=!b.r,H&&!b.l&&En(b,H),L&&N&&En(b,L)}}function En(b,E){er(E)||(function N(L,Ee){var ne=Ee.from,de=Ee.to,ve=Ee.l,Ee=Ee.r;Ln(L,ne,de),ve&&N(L,ve),Ee&&N(L,Ee)})(b,E)}function _i(b,E){var N=$i(E),L=N.next();if(L.done)return!1;for(var H=L.value,ne=$i(b),de=ne.next(H.from),ve=de.value;!L.done&&!de.done;){if(It(ve.from,H.to)<=0&&0<=It(ve.to,H.from))return!0;It(H.from,ve.from)<0?H=(L=N.next(ve.from)).value:ve=(de=ne.next(H.from)).value}return!1}function $i(b){var E=er(b)?null:{s:0,n:b};return{next:function(N){for(var L=0<arguments.length;E;)switch(E.s){case 0:if(E.s=1,L)for(;E.n.l&&It(N,E.n.from)<0;)E={up:E,n:E.n.l,s:1};else for(;E.n.l;)E={up:E,n:E.n.l,s:1};case 1:if(E.s=2,!L||It(N,E.n.to)<=0)return{value:E.n,done:!1};case 2:if(E.n.r){E.s=3,E={up:E,n:E.n.r,s:0};continue}case 3:E=E.up}return{done:!0}}}}function Qs(b){var E,N,L=(((E=b.r)===null||E===void 0?void 0:E.d)||0)-(((N=b.l)===null||N===void 0?void 0:N.d)||0),H=1<L?"r":L<-1?"l":"";H&&(E=H=="r"?"l":"r",N=r({},b),L=b[H],b.from=L.from,b.to=L.to,b[H]=L[H],N[H]=L[E],(b[E]=N).d=ha(N)),b.d=ha(b)}function ha(N){var E=N.r,N=N.l;return(E?N?Math.max(E.d,N.d):E.d:N?N.d:0)+1}function $a(b,E){return o(E).forEach(function(N){b[N]?En(b[N],E[N]):b[N]=(function L(H){var ne,de,ve={};for(ne in H)h(H,ne)&&(de=H[ne],ve[ne]=!de||typeof de!="object"||B.has(de.constructor)?de:L(de));return ve})(E[N])}),b}function kc(b,E){return b.all||E.all||Object.keys(b).some(function(N){return E[N]&&_i(E[N],b[N])})}m(Sn.prototype,((Ni={add:function(b){return En(this,b),this},addKey:function(b){return Ln(this,b,b),this},addKeys:function(b){var E=this;return b.forEach(function(N){return Ln(E,N,N)}),this},hasKey:function(b){var E=$i(this).next(b).value;return E&&It(E.from,b)<=0&&0<=It(E.to,b)}})[$]=function(){return $i(this)},Ni));var As={},_0={},S0=!1;function Ic(b){$a(_0,b),S0||(S0=!0,setTimeout(function(){S0=!1,b0(_0,!(_0={}))},0))}function b0(b,E){E===void 0&&(E=!1);var N=new Set;if(b.all)for(var L=0,H=Object.values(As);L<H.length;L++)g1(de=H[L],b,N,E);else for(var ne in b){var de,ve=/^idb\:\/\/(.*)\/(.*)\//.exec(ne);ve&&(ne=ve[1],ve=ve[2],(de=As["idb://".concat(ne,"/").concat(ve)])&&g1(de,b,N,E))}N.forEach(function(Ee){return Ee()})}function g1(b,E,N,L){for(var H=[],ne=0,de=Object.entries(b.queries.query);ne<de.length;ne++){for(var ve=de[ne],Ee=ve[0],Ue=[],Ne=0,Te=ve[1];Ne<Te.length;Ne++){var Be=Te[Ne];kc(E,Be.obsSet)?Be.subscribers.forEach(function(De){return N.add(De)}):L&&Ue.push(Be)}L&&H.push([Ee,Ue])}if(L)for(var Ce=0,Xe=H;Ce<Xe.length;Ce++){var Re=Xe[Ce],Ee=Re[0],Ue=Re[1];b.queries.query[Ee]=Ue}}function l2(b){var E=b._state,N=b._deps.indexedDB;if(E.isBeingOpened||b.idbdb)return E.dbReadyPromise.then(function(){return E.dbOpenError?Jn(E.dbOpenError):b});E.isBeingOpened=!0,E.dbOpenError=null,E.openComplete=!1;var L=E.openCanceller,H=Math.round(10*b.verno),ne=!1;function de(){if(E.openCanceller!==L)throw new Se.DatabaseClosed("db.open() was cancelled")}function ve(){return new R(function(Be,Ce){if(de(),!N)throw new Se.MissingAPI;var Xe=b.name,Re=E.autoSchema||!H?N.open(Xe):N.open(Xe,H);if(!Re)throw new Se.MissingAPI;Re.onerror=Ei(Ce),Re.onblocked=At(b._fireOnBlocked),Re.onupgradeneeded=At(function(De){var ze;Ne=Re.transaction,E.autoSchema&&!b._options.allowEmptyDB?(Re.onerror=xr,Ne.abort(),Re.result.close(),(ze=N.deleteDatabase(Xe)).onsuccess=ze.onerror=At(function(){Ce(new Se.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(Ne.onerror=Ei(Ce),De=De.oldVersion>Math.pow(2,62)?0:De.oldVersion,Te=De<1,b.idbdb=Re.result,ne&&Ml(b,Ne),Uo(b,De/10,Ne,Ce))},Ce),Re.onsuccess=At(function(){Ne=null;var De,ze,Ge,st,ct,St=b.idbdb=Re.result,Ut=T(St.objectStoreNames);if(0<Ut.length)try{var yt=St.transaction((st=Ut).length===1?st[0]:st,"readonly");if(E.autoSchema)ze=St,Ge=yt,(De=b).verno=ze.version/10,Ge=De._dbSchema=Rn(0,ze,Ge),De._storeNames=T(ze.objectStoreNames,0),Eo(De,[De._allTables],o(Ge),Ge);else if(Fn(b,b._dbSchema,yt),((ct=Co(Rn(0,(ct=b).idbdb,yt),ct._dbSchema)).add.length||ct.change.some(function(xt){return xt.add.length||xt.change.length}))&&!ne)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),St.close(),H=St.version+1,ne=!0,Be(ve());os(b,yt)}catch{}Wi.push(b),St.onversionchange=At(function(xt){E.vcFired=!0,b.on("versionchange").fire(xt)}),St.onclose=At(function(){b.close({disableAutoOpen:!1})}),Te&&(ct=b._deps,yt=Xe,St=ct.indexedDB,ct=ct.IDBKeyRange,nr(St)||yt===Zi||Cr(St,ct).put({name:yt}).catch(We)),Be()},Ce)}).catch(function(Be){switch(Be?.name){case"UnknownError":if(0<E.PR1398_maxLoop)return E.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ve();break;case"VersionError":if(0<H)return H=0,ve()}return R.reject(Be)})}var Ee,Ue=E.dbReadyResolve,Ne=null,Te=!1;return R.race([L,(typeof navigator>"u"?R.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Be){function Ce(){return indexedDB.databases().finally(Be)}Ee=setInterval(Ce,100),Ce()}).finally(function(){return clearInterval(Ee)}):Promise.resolve()).then(ve)]).then(function(){return de(),E.onReadyBeingFired=[],R.resolve(dr(function(){return b.on.ready.fire(b.vip)})).then(function Be(){if(0<E.onReadyBeingFired.length){var Ce=E.onReadyBeingFired.reduce(Me,We);return E.onReadyBeingFired=[],R.resolve(dr(function(){return Ce(b.vip)})).then(Be)}})}).finally(function(){E.openCanceller===L&&(E.onReadyBeingFired=null,E.isBeingOpened=!1)}).catch(function(Be){E.dbOpenError=Be;try{Ne&&Ne.abort()}catch{}return L===E.openCanceller&&b._close(),Jn(Be)}).finally(function(){E.openComplete=!0,Ue()}).then(function(){var Be;return Te&&(Be={},b.tables.forEach(function(Ce){Ce.schema.indexes.forEach(function(Xe){Xe.name&&(Be["idb://".concat(b.name,"/").concat(Ce.name,"/").concat(Xe.name)]=new Sn(-1/0,[[[]]]))}),Be["idb://".concat(b.name,"/").concat(Ce.name,"/")]=Be["idb://".concat(b.name,"/").concat(Ce.name,"/:dels")]=new Sn(-1/0,[[[]]])}),$r(Us).fire(Be),b0(Be,!0)),b})}function Nl(b){function E(ne){return b.next(ne)}var N=H(E),L=H(function(ne){return b.throw(ne)});function H(ne){return function(Ee){var ve=ne(Ee),Ee=ve.value;return ve.done?Ee:Ee&&typeof Ee.then=="function"?Ee.then(N,L):c(Ee)?Promise.all(Ee).then(N,L):N(Ee)}}return H(E)()}function pa(b,E,N){for(var L=c(b)?b.slice():[b],H=0;H<N;++H)L.push(E);return L}var c2={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return r(r({},b),{table:function(E){var N=b.table(E),L=N.schema,H={},ne=[];function de(Te,Be,Ce){var Xe=vr(Te),Re=H[Xe]=H[Xe]||[],De=Te==null?0:typeof Te=="string"?1:Te.length,ze=0<Be,ze=r(r({},Ce),{name:ze?"".concat(Xe,"(virtual-from:").concat(Ce.name,")"):Ce.name,lowLevelIndex:Ce,isVirtual:ze,keyTail:Be,keyLength:De,extractKey:Gs(Te),unique:!ze&&Ce.unique});return Re.push(ze),ze.isPrimaryKey||ne.push(ze),1<De&&de(De===2?Te[0]:Te.slice(0,De-1),Be+1,Ce),Re.sort(function(Ge,st){return Ge.keyTail-st.keyTail}),ze}E=de(L.primaryKey.keyPath,0,L.primaryKey),H[":id"]=[E];for(var ve=0,Ee=L.indexes;ve<Ee.length;ve++){var Ue=Ee[ve];de(Ue.keyPath,0,Ue)}function Ne(Te){var Be,Ce=Te.query.index;return Ce.isVirtual?r(r({},Te),{query:{index:Ce.lowLevelIndex,range:(Be=Te.query.range,Ce=Ce.keyTail,{type:Be.type===1?2:Be.type,lower:pa(Be.lower,Be.lowerOpen?b.MAX_KEY:b.MIN_KEY,Ce),lowerOpen:!0,upper:pa(Be.upper,Be.upperOpen?b.MIN_KEY:b.MAX_KEY,Ce),upperOpen:!0})}}):Te}return r(r({},N),{schema:r(r({},L),{primaryKey:E,indexes:ne,getIndexByKeyPath:function(Te){return(Te=H[vr(Te)])&&Te[0]}}),count:function(Te){return N.count(Ne(Te))},query:function(Te){return N.query(Ne(Te))},openCursor:function(Te){var Be=Te.query.index,Ce=Be.keyTail,Xe=Be.isVirtual,Re=Be.keyLength;return Xe?N.openCursor(Ne(Te)).then(function(ze){return ze&&De(ze)}):N.openCursor(Te);function De(ze){return Object.create(ze,{continue:{value:function(Ge){Ge!=null?ze.continue(pa(Ge,Te.reverse?b.MAX_KEY:b.MIN_KEY,Ce)):Te.unique?ze.continue(ze.key.slice(0,Re).concat(Te.reverse?b.MIN_KEY:b.MAX_KEY,Ce)):ze.continue()}},continuePrimaryKey:{value:function(Ge,st){ze.continuePrimaryKey(pa(Ge,b.MAX_KEY,Ce),st)}},primaryKey:{get:function(){return ze.primaryKey}},key:{get:function(){var Ge=ze.key;return Re===1?Ge[0]:Ge.slice(0,Re)}},value:{get:function(){return ze.value}}})}}})}})}};function Xc(b,E,N,L){return N=N||{},L=L||"",o(b).forEach(function(H){var ne,de,ve;h(E,H)?(ne=b[H],de=E[H],typeof ne=="object"&&typeof de=="object"&&ne&&de?(ve=j(ne))!==j(de)?N[L+H]=E[H]:ve==="Object"?Xc(ne,de,N,L+H+"."):ne!==de&&(N[L+H]=E[H]):ne!==de&&(N[L+H]=E[H])):N[L+H]=void 0}),o(E).forEach(function(H){h(b,H)||(N[L+H]=E[H])}),N}function Rc(b,E){return E.type==="delete"?E.keys:E.keys||E.values.map(b.extractKey)}var y1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return r(r({},b),{table:function(E){var N=b.table(E),L=N.schema.primaryKey;return r(r({},N),{mutate:function(H){var ne=be.trans,de=ne.table(E).hook,ve=de.deleting,Ee=de.creating,Ue=de.updating;switch(H.type){case"add":if(Ee.fire===We)break;return ne._promise("readwrite",function(){return Ne(H)},!0);case"put":if(Ee.fire===We&&Ue.fire===We)break;return ne._promise("readwrite",function(){return Ne(H)},!0);case"delete":if(ve.fire===We)break;return ne._promise("readwrite",function(){return Ne(H)},!0);case"deleteRange":if(ve.fire===We)break;return ne._promise("readwrite",function(){return(function Te(Be,Ce,Xe){return N.query({trans:Be,values:!1,query:{index:L,range:Ce},limit:Xe}).then(function(Re){var De=Re.result;return Ne({type:"delete",keys:De,trans:Be}).then(function(ze){return 0<ze.numFailures?Promise.reject(ze.failures[0]):De.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Te(Be,r(r({},Ce),{lower:De[De.length-1],lowerOpen:!0}),Xe)})})})(H.trans,H.range,1e4)},!0)}return N.mutate(H);function Ne(Te){var Be,Ce,Xe,Re=be.trans,De=Te.keys||Rc(L,Te);if(!De)throw new Error("Keys missing");return(Te=Te.type==="add"||Te.type==="put"?r(r({},Te),{keys:De}):r({},Te)).type!=="delete"&&(Te.values=i([],Te.values)),Te.keys&&(Te.keys=i([],Te.keys)),Be=N,Xe=De,((Ce=Te).type==="add"?Promise.resolve([]):Be.getMany({trans:Ce.trans,keys:Xe,cache:"immutable"})).then(function(ze){var Ge=De.map(function(st,ct){var St,Ut,yt,xt=ze[ct],Et={onerror:null,onsuccess:null};return Te.type==="delete"?ve.fire.call(Et,st,xt,Re):Te.type==="add"||xt===void 0?(St=Ee.fire.call(Et,st,Te.values[ct],Re),st==null&&St!=null&&(Te.keys[ct]=st=St,L.outbound||w(Te.values[ct],L.keyPath,st))):(St=Xc(xt,Te.values[ct]),(Ut=Ue.fire.call(Et,St,st,xt,Re))&&(yt=Te.values[ct],Object.keys(Ut).forEach(function(vt){h(yt,vt)?yt[vt]=Ut[vt]:w(yt,vt,Ut[vt])}))),Et});return N.mutate(Te).then(function(st){for(var ct=st.failures,St=st.results,Ut=st.numFailures,st=st.lastResult,yt=0;yt<De.length;++yt){var xt=(St||De)[yt],Et=Ge[yt];xt==null?Et.onerror&&Et.onerror(ct[yt]):Et.onsuccess&&Et.onsuccess(Te.type==="put"&&ze[yt]?Te.values[yt]:xt)}return{failures:ct,results:St,numFailures:Ut,lastResult:st}}).catch(function(st){return Ge.forEach(function(ct){return ct.onerror&&ct.onerror(st)}),Promise.reject(st)})})}}})}})}};function Y0(b,E,N){try{if(!E||E.keys.length<b.length)return null;for(var L=[],H=0,ne=0;H<E.keys.length&&ne<b.length;++H)It(E.keys[H],b[ne])===0&&(L.push(N?V(E.values[H]):E.values[H]),++ne);return L.length===b.length?L:null}catch{return null}}var v1={stack:"dbcore",level:-1,create:function(b){return{table:function(E){var N=b.table(E);return r(r({},N),{getMany:function(L){if(!L.cache)return N.getMany(L);var H=Y0(L.keys,L.trans._cache,L.cache==="clone");return H?R.resolve(H):N.getMany(L).then(function(ne){return L.trans._cache={keys:L.keys,values:L.cache==="clone"?V(ne):ne},ne})},mutate:function(L){return L.type!=="add"&&(L.trans._cache=null),N.mutate(L)}})}}}};function Ka(b,E){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!E.schema.primaryKey.outbound}function _1(b,E){switch(b){case"query":return E.values&&!E.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var u2={stack:"dbcore",level:0,name:"Observability",create:function(b){var E=b.schema.name,N=new Sn(b.MIN_KEY,b.MAX_KEY);return r(r({},b),{transaction:function(L,H,ne){if(be.subscr&&H!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return b.transaction(L,H,ne)},table:function(L){var H=b.table(L),ne=H.schema,de=ne.primaryKey,Te=ne.indexes,ve=de.extractKey,Ee=de.outbound,Ue=de.autoIncrement&&Te.filter(function(Ce){return Ce.compound&&Ce.keyPath.includes(de.keyPath)}),Ne=r(r({},H),{mutate:function(Ce){function Xe(vt){return vt="idb://".concat(E,"/").concat(L,"/").concat(vt),st[vt]||(st[vt]=new Sn)}var Re,De,ze,Ge=Ce.trans,st=Ce.mutatedParts||(Ce.mutatedParts={}),ct=Xe(""),St=Xe(":dels"),Ut=Ce.type,Et=Ce.type==="deleteRange"?[Ce.range]:Ce.type==="delete"?[Ce.keys]:Ce.values.length<50?[Rc(de,Ce).filter(function(vt){return vt}),Ce.values]:[],yt=Et[0],xt=Et[1],Et=Ce.trans._cache;return c(yt)?(ct.addKeys(yt),(Et=Ut==="delete"||yt.length===xt.length?Y0(yt,Et):null)||St.addKeys(yt),(Et||xt)&&(Re=Xe,De=Et,ze=xt,ne.indexes.forEach(function(vt){var Xt=Re(vt.name||"");function $t(pn){return pn!=null?vt.extractKey(pn):null}function tn(pn){return vt.multiEntry&&c(pn)?pn.forEach(function(di){return Xt.addKey(di)}):Xt.addKey(pn)}(De||ze).forEach(function(pn,Kr){var en=De&&$t(De[Kr]),Kr=ze&&$t(ze[Kr]);It(en,Kr)!==0&&(en!=null&&tn(en),Kr!=null&&tn(Kr))})}))):yt?(xt={from:(xt=yt.lower)!==null&&xt!==void 0?xt:b.MIN_KEY,to:(xt=yt.upper)!==null&&xt!==void 0?xt:b.MAX_KEY},St.add(xt),ct.add(xt)):(ct.add(N),St.add(N),ne.indexes.forEach(function(vt){return Xe(vt.name).add(N)})),H.mutate(Ce).then(function(vt){return!yt||Ce.type!=="add"&&Ce.type!=="put"||(ct.addKeys(vt.results),Ue&&Ue.forEach(function(Xt){for(var $t=Ce.values.map(function(en){return Xt.extractKey(en)}),tn=Xt.keyPath.findIndex(function(en){return en===de.keyPath}),pn=0,di=vt.results.length;pn<di;++pn)$t[pn][tn]=vt.results[pn];Xe(Xt.name).addKeys($t)})),Ge.mutatedParts=$a(Ge.mutatedParts||{},st),vt})}}),Te=function(Xe){var Re=Xe.query,Xe=Re.index,Re=Re.range;return[Xe,new Sn((Xe=Re.lower)!==null&&Xe!==void 0?Xe:b.MIN_KEY,(Re=Re.upper)!==null&&Re!==void 0?Re:b.MAX_KEY)]},Be={get:function(Ce){return[de,new Sn(Ce.key)]},getMany:function(Ce){return[de,new Sn().addKeys(Ce.keys)]},count:Te,query:Te,openCursor:Te};return o(Be).forEach(function(Ce){Ne[Ce]=function(Xe){var Re=be.subscr,De=!!Re,ze=Ka(be,H)&&_1(Ce,Xe)?Xe.obsSet={}:Re;if(De){var Ge=function(xt){return xt="idb://".concat(E,"/").concat(L,"/").concat(xt),ze[xt]||(ze[xt]=new Sn)},st=Ge(""),ct=Ge(":dels"),Re=Be[Ce](Xe),De=Re[0],Re=Re[1];if((Ce==="query"&&De.isPrimaryKey&&!Xe.values?ct:Ge(De.name||"")).add(Re),!De.isPrimaryKey){if(Ce!=="count"){var St=Ce==="query"&&Ee&&Xe.values&&H.query(r(r({},Xe),{values:!1}));return H[Ce].apply(this,arguments).then(function(xt){if(Ce==="query"){if(Ee&&Xe.values)return St.then(function($t){return $t=$t.result,st.addKeys($t),xt});var Et=Xe.values?xt.result.map(ve):xt.result;(Xe.values?st:ct).addKeys(Et)}else if(Ce==="openCursor"){var vt=xt,Xt=Xe.values;return vt&&Object.create(vt,{key:{get:function(){return ct.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var $t=vt.primaryKey;return ct.addKey($t),$t}},value:{get:function(){return Xt&&st.addKey(vt.primaryKey),vt.value}}})}return xt})}ct.add(N)}}return H[Ce].apply(this,arguments)}}),Ne}})}};function S1(b,E,N){if(N.numFailures===0)return E;if(E.type==="deleteRange")return null;var L=E.keys?E.keys.length:"values"in E&&E.values?E.values.length:1;return N.numFailures===L?null:(E=r({},E),c(E.keys)&&(E.keys=E.keys.filter(function(H,ne){return!(ne in N.failures)})),"values"in E&&c(E.values)&&(E.values=E.values.filter(function(H,ne){return!(ne in N.failures)})),E)}function Pc(b,E){return N=b,((L=E).lower===void 0||(L.lowerOpen?0<It(N,L.lower):0<=It(N,L.lower)))&&(b=b,(E=E).upper===void 0||(E.upperOpen?It(b,E.upper)<0:It(b,E.upper)<=0));var N,L}function x0(b,E,Be,L,H,ne){if(!Be||Be.length===0)return b;var de=E.query.index,ve=de.multiEntry,Ee=E.query.range,Ue=L.schema.primaryKey.extractKey,Ne=de.extractKey,Te=(de.lowLevelIndex||de).extractKey,Be=Be.reduce(function(Ce,Xe){var Re=Ce,De=[];if(Xe.type==="add"||Xe.type==="put")for(var ze=new Sn,Ge=Xe.values.length-1;0<=Ge;--Ge){var st,ct=Xe.values[Ge],St=Ue(ct);ze.hasKey(St)||(st=Ne(ct),(ve&&c(st)?st.some(function(vt){return Pc(vt,Ee)}):Pc(st,Ee))&&(ze.addKey(St),De.push(ct)))}switch(Xe.type){case"add":var Ut=new Sn().addKeys(E.values?Ce.map(function(Xt){return Ue(Xt)}):Ce),Re=Ce.concat(E.values?De.filter(function(Xt){return Xt=Ue(Xt),!Ut.hasKey(Xt)&&(Ut.addKey(Xt),!0)}):De.map(function(Xt){return Ue(Xt)}).filter(function(Xt){return!Ut.hasKey(Xt)&&(Ut.addKey(Xt),!0)}));break;case"put":var yt=new Sn().addKeys(Xe.values.map(function(Xt){return Ue(Xt)}));Re=Ce.filter(function(Xt){return!yt.hasKey(E.values?Ue(Xt):Xt)}).concat(E.values?De:De.map(function(Xt){return Ue(Xt)}));break;case"delete":var xt=new Sn().addKeys(Xe.keys);Re=Ce.filter(function(Xt){return!xt.hasKey(E.values?Ue(Xt):Xt)});break;case"deleteRange":var Et=Xe.range;Re=Ce.filter(function(Xt){return!Pc(Ue(Xt),Et)})}return Re},b);return Be===b?b:(Be.sort(function(Ce,Xe){return It(Te(Ce),Te(Xe))||It(Ue(Ce),Ue(Xe))}),E.limit&&E.limit<1/0&&(Be.length>E.limit?Be.length=E.limit:b.length===E.limit&&Be.length<E.limit&&(H.dirty=!0)),ne?Object.freeze(Be):Be)}function Ao(b,E){return It(b.lower,E.lower)===0&&It(b.upper,E.upper)===0&&!!b.lowerOpen==!!E.lowerOpen&&!!b.upperOpen==!!E.upperOpen}function Dl(b,E){return(function(N,L,H,ne){if(N===void 0)return L!==void 0?-1:0;if(L===void 0)return 1;if((L=It(N,L))===0){if(H&&ne)return 0;if(H)return 1;if(ne)return-1}return L})(b.lower,E.lower,b.lowerOpen,E.lowerOpen)<=0&&0<=(function(N,L,H,ne){if(N===void 0)return L!==void 0?1:0;if(L===void 0)return-1;if((L=It(N,L))===0){if(H&&ne)return 0;if(H)return-1;if(ne)return 1}return L})(b.upper,E.upper,b.upperOpen,E.upperOpen)}function f2(b,E,N,L){b.subscribers.add(N),L.addEventListener("abort",function(){var H,ne;b.subscribers.delete(N),b.subscribers.size===0&&(H=b,ne=E,setTimeout(function(){H.subscribers.size===0&&G(ne,H)},3e3))})}var Mc={stack:"dbcore",level:0,name:"Cache",create:function(b){var E=b.schema.name;return r(r({},b),{transaction:function(N,L,H){var ne,de,ve=b.transaction(N,L,H);return L==="readwrite"&&(de=(ne=new AbortController).signal,H=function(Ee){return function(){if(ne.abort(),L==="readwrite"){for(var Ue=new Set,Ne=0,Te=N;Ne<Te.length;Ne++){var Be=Te[Ne],Ce=As["idb://".concat(E,"/").concat(Be)];if(Ce){var Xe=b.table(Be),Re=Ce.optimisticOps.filter(function(Xt){return Xt.trans===ve});if(ve._explicit&&Ee&&ve.mutatedParts)for(var De=0,ze=Object.values(Ce.queries.query);De<ze.length;De++)for(var Ge=0,st=(Ut=ze[De]).slice();Ge<st.length;Ge++)kc((yt=st[Ge]).obsSet,ve.mutatedParts)&&(G(Ut,yt),yt.subscribers.forEach(function(Xt){return Ue.add(Xt)}));else if(0<Re.length){Ce.optimisticOps=Ce.optimisticOps.filter(function(Xt){return Xt.trans!==ve});for(var ct=0,St=Object.values(Ce.queries.query);ct<St.length;ct++)for(var Ut,yt,xt,Et=0,vt=(Ut=St[ct]).slice();Et<vt.length;Et++)(yt=vt[Et]).res!=null&&ve.mutatedParts&&(Ee&&!yt.dirty?(xt=Object.isFrozen(yt.res),xt=x0(yt.res,yt.req,Re,Xe,yt,xt),yt.dirty?(G(Ut,yt),yt.subscribers.forEach(function(Xt){return Ue.add(Xt)})):xt!==yt.res&&(yt.res=xt,yt.promise=R.resolve({result:xt}))):(yt.dirty&&G(Ut,yt),yt.subscribers.forEach(function(Xt){return Ue.add(Xt)})))}}}Ue.forEach(function(Xt){return Xt()})}}},ve.addEventListener("abort",H(!1),{signal:de}),ve.addEventListener("error",H(!1),{signal:de}),ve.addEventListener("complete",H(!0),{signal:de})),ve},table:function(N){var L=b.table(N),H=L.schema.primaryKey;return r(r({},L),{mutate:function(ne){var de=be.trans;if(H.outbound||de.db._options.cache==="disabled"||de.explicit||de.idbtrans.mode!=="readwrite")return L.mutate(ne);var ve=As["idb://".concat(E,"/").concat(N)];return ve?(de=L.mutate(ne),ne.type!=="add"&&ne.type!=="put"||!(50<=ne.values.length||Rc(H,ne).some(function(Ee){return Ee==null}))?(ve.optimisticOps.push(ne),ne.mutatedParts&&Ic(ne.mutatedParts),de.then(function(Ee){0<Ee.numFailures&&(G(ve.optimisticOps,ne),(Ee=S1(0,ne,Ee))&&ve.optimisticOps.push(Ee),ne.mutatedParts&&Ic(ne.mutatedParts))}),de.catch(function(){G(ve.optimisticOps,ne),ne.mutatedParts&&Ic(ne.mutatedParts)})):de.then(function(Ee){var Ue=S1(0,r(r({},ne),{values:ne.values.map(function(Ne,Te){var Be;return Ee.failures[Te]?Ne:(Ne=(Be=H.keyPath)!==null&&Be!==void 0&&Be.includes(".")?V(Ne):r({},Ne),w(Ne,H.keyPath,Ee.results[Te]),Ne)})}),Ee);ve.optimisticOps.push(Ue),queueMicrotask(function(){return ne.mutatedParts&&Ic(ne.mutatedParts)})}),de):L.mutate(ne)},query:function(ne){if(!Ka(be,L)||!_1("query",ne))return L.query(ne);var de=((Ue=be.trans)===null||Ue===void 0?void 0:Ue.db._options.cache)==="immutable",Te=be,ve=Te.requery,Ee=Te.signal,Ue=(function(Xe,Re,De,ze){var Ge=As["idb://".concat(Xe,"/").concat(Re)];if(!Ge)return[];if(!(Re=Ge.queries[De]))return[null,!1,Ge,null];var st=Re[(ze.query?ze.query.index.name:null)||""];if(!st)return[null,!1,Ge,null];switch(De){case"query":var ct=st.find(function(St){return St.req.limit===ze.limit&&St.req.values===ze.values&&Ao(St.req.query.range,ze.query.range)});return ct?[ct,!0,Ge,st]:[st.find(function(St){return("limit"in St.req?St.req.limit:1/0)>=ze.limit&&(!ze.values||St.req.values)&&Dl(St.req.query.range,ze.query.range)}),!1,Ge,st];case"count":return ct=st.find(function(St){return Ao(St.req.query.range,ze.query.range)}),[ct,!!ct,Ge,st]}})(E,N,"query",ne),Ne=Ue[0],Te=Ue[1],Be=Ue[2],Ce=Ue[3];return Ne&&Te?Ne.obsSet=ne.obsSet:(Te=L.query(ne).then(function(Xe){var Re=Xe.result;if(Ne&&(Ne.res=Re),de){for(var De=0,ze=Re.length;De<ze;++De)Object.freeze(Re[De]);Object.freeze(Re)}else Xe.result=V(Re);return Xe}).catch(function(Xe){return Ce&&Ne&&G(Ce,Ne),Promise.reject(Xe)}),Ne={obsSet:ne.obsSet,promise:Te,subscribers:new Set,type:"query",req:ne,dirty:!1},Ce?Ce.push(Ne):(Ce=[Ne],(Be=Be||(As["idb://".concat(E,"/").concat(N)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ne.query.index.name||""]=Ce)),f2(Ne,Ce,ve,Ee),Ne.promise.then(function(Xe){return{result:x0(Xe.result,ne,Be?.optimisticOps,L,Ne,de)}})}})}})}};function Bl(b,E){return new Proxy(b,{get:function(N,L,H){return L==="db"?E:Reflect.get(N,L,H)}})}var ks=(Sr.prototype.version=function(b){if(isNaN(b)||b<.1)throw new Se.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var E=this._versions,N=E.filter(function(L){return L._cfg.version===b})[0];return N||(N=new this.Version(b),E.push(N),E.sort(za),N.stores({}),this._state.autoSchema=!1,N)},Sr.prototype._whenReady=function(b){var E=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?b():new R(function(N,L){if(E._state.openComplete)return L(new Se.DatabaseClosed(E._state.dbOpenError));if(!E._state.isBeingOpened){if(!E._state.autoOpen)return void L(new Se.DatabaseClosed);E.open().catch(We)}E._state.dbReadyPromise.then(N,L)}).then(b)},Sr.prototype.use=function(b){var E=b.stack,N=b.create,L=b.level,H=b.name;return H&&this.unuse({stack:E,name:H}),b=this._middlewares[E]||(this._middlewares[E]=[]),b.push({stack:E,create:N,level:L??10,name:H}),b.sort(function(ne,de){return ne.level-de.level}),this},Sr.prototype.unuse=function(b){var E=b.stack,N=b.name,L=b.create;return E&&this._middlewares[E]&&(this._middlewares[E]=this._middlewares[E].filter(function(H){return L?H.create!==L:!!N&&H.name!==N})),this},Sr.prototype.open=function(){var b=this;return Br(_e,function(){return l2(b)})},Sr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var b=this._state,E=Wi.indexOf(this);if(0<=E&&Wi.splice(E,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new R(function(N){b.dbReadyResolve=N}),b.openCanceller=new R(function(N,L){b.cancelOpen=L}))},Sr.prototype.close=function(N){var E=(N===void 0?{disableAutoOpen:!0}:N).disableAutoOpen,N=this._state;E?(N.isBeingOpened&&N.cancelOpen(new Se.DatabaseClosed),this._close(),N.autoOpen=!1,N.dbOpenError=new Se.DatabaseClosed):(this._close(),N.autoOpen=this._options.autoOpen||N.isBeingOpened,N.openComplete=!1,N.dbOpenError=null)},Sr.prototype.delete=function(b){var E=this;b===void 0&&(b={disableAutoOpen:!0});var N=0<arguments.length&&typeof arguments[0]!="object",L=this._state;return new R(function(H,ne){function de(){E.close(b);var ve=E._deps.indexedDB.deleteDatabase(E.name);ve.onsuccess=At(function(){var Ee,Ue,Ne;Ee=E._deps,Ue=E.name,Ne=Ee.indexedDB,Ee=Ee.IDBKeyRange,nr(Ne)||Ue===Zi||Cr(Ne,Ee).delete(Ue).catch(We),H()}),ve.onerror=Ei(ne),ve.onblocked=E._fireOnBlocked}if(N)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");L.isBeingOpened?L.dbReadyPromise.then(de):de()})},Sr.prototype.backendDB=function(){return this.idbdb},Sr.prototype.isOpen=function(){return this.idbdb!==null},Sr.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},Sr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Sr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Sr.prototype,"tables",{get:function(){var b=this;return o(this._allTables).map(function(E){return b._allTables[E]})},enumerable:!1,configurable:!0}),Sr.prototype.transaction=function(){var b=(function(E,N,L){var H=arguments.length;if(H<2)throw new Se.InvalidArgument("Too few arguments");for(var ne=new Array(H-1);--H;)ne[H-1]=arguments[H];return L=ne.pop(),[E,D(ne),L]}).apply(this,arguments);return this._transaction.apply(this,b)},Sr.prototype._transaction=function(b,E,N){var L=this,H=be.trans;H&&H.db===this&&b.indexOf("!")===-1||(H=null);var ne,de,ve=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(de=E.map(function(Ue){if(Ue=Ue instanceof L.Table?Ue.name:Ue,typeof Ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ue}),b=="r"||b===ui)ne=ui;else{if(b!="rw"&&b!=gi)throw new Se.InvalidArgument("Invalid transaction mode: "+b);ne=gi}if(H){if(H.mode===ui&&ne===gi){if(!ve)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");H=null}H&&de.forEach(function(Ue){if(H&&H.storeNames.indexOf(Ue)===-1){if(!ve)throw new Se.SubTransaction("Table "+Ue+" not included in parent transaction.");H=null}}),ve&&H&&!H.active&&(H=null)}}catch(Ue){return H?H._promise(null,function(Ne,Te){Te(Ue)}):Jn(Ue)}var Ee=(function Ue(Ne,Te,Be,Ce,Xe){return R.resolve().then(function(){var Re=be.transless||be,De=Ne._createTransaction(Te,Be,Ne._dbSchema,Ce);if(De.explicit=!0,Re={trans:De,transless:Re},Ce)De.idbtrans=Ce.idbtrans;else try{De.create(),De.idbtrans._explicit=!0,Ne._state.PR1398_maxLoop=3}catch(st){return st.name===he.InvalidState&&Ne.isOpen()&&0<--Ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ne.close({disableAutoOpen:!1}),Ne.open().then(function(){return Ue(Ne,Te,Be,null,Xe)})):Jn(st)}var ze,Ge=K(Xe);return Ge&&rn(),Re=R.follow(function(){var st;(ze=Xe.call(De,De))&&(Ge?(st=zn.bind(null,null),ze.then(st,st)):typeof ze.next=="function"&&typeof ze.throw=="function"&&(ze=Nl(ze)))},Re),(ze&&typeof ze.then=="function"?R.resolve(ze).then(function(st){return De.active?st:Jn(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Re.then(function(){return ze})).then(function(st){return Ce&&De._resolve(),De._completion.then(function(){return st})}).catch(function(st){return De._reject(st),Jn(st)})})}).bind(null,this,ne,de,H,N);return H?H._promise(ne,Ee,"lock"):be.trans?Br(be.transless,function(){return L._whenReady(Ee)}):this._whenReady(Ee)},Sr.prototype.table=function(b){if(!h(this._allTables,b))throw new Se.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},Sr);function Sr(b,E){var N=this;this._middlewares={},this.verno=0;var L=Sr.dependencies;this._options=E=r({addons:Sr.addons,autoOpen:!0,indexedDB:L.indexedDB,IDBKeyRange:L.IDBKeyRange,cache:"cloned"},E),this._deps={indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange},L=E.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var H,ne,de,ve,Ee,Ue={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:We,dbReadyPromise:null,cancelOpen:We,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:E.autoOpen};Ue.dbReadyPromise=new R(function(Te){Ue.dbReadyResolve=Te}),Ue.openCanceller=new R(function(Te,Be){Ue.cancelOpen=Be}),this._state=Ue,this.name=b,this.on=mr(this,"populate","blocked","versionchange","close",{ready:[Me,We]}),this.once=function(Te,Be){var Ce=function(){for(var Xe=[],Re=0;Re<arguments.length;Re++)Xe[Re]=arguments[Re];N.on(Te).unsubscribe(Ce),Be.apply(N,Xe)};return N.on(Te,Ce)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(Te){return function(Be,Ce){Sr.vip(function(){var Xe,Re=N._state;Re.openComplete?(Re.dbOpenError||R.resolve().then(Be),Ce&&Te(Be)):Re.onReadyBeingFired?(Re.onReadyBeingFired.push(Be),Ce&&Te(Be)):(Te(Be),Xe=N,Ce||Te(function De(){Xe.on.ready.unsubscribe(Be),Xe.on.ready.unsubscribe(De)}))})}}),this.Collection=(H=this,Xn(Wo.prototype,function(ze,De){this.db=H;var Ce=Ws,Xe=null;if(De)try{Ce=De()}catch(Ge){Xe=Ge}var Re=ze._ctx,De=Re.table,ze=De.hook.reading.fire;this._ctx={table:De,index:Re.index,isPrimKey:!Re.index||De.schema.primKey.keyPath&&Re.index===De.schema.primKey.name,range:Ce,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Re.or,valueMapper:ze!==Ze?ze:null}})),this.Table=(ne=this,Xn(Ur.prototype,function(Te,Be,Ce){this.db=ne,this._tx=Ce,this.name=Te,this.schema=Be,this.hook=ne._allTables[Te]?ne._allTables[Te].hook:mr(null,{creating:[Ye,We],reading:[F,Ze],updating:[se,We],deleting:[ce,We]})})),this.Transaction=(de=this,Xn(Pl.prototype,function(Te,Be,Ce,Xe,Re){var De=this;Te!=="readonly"&&Be.forEach(function(ze){ze=(ze=Ce[ze])===null||ze===void 0?void 0:ze.yProps,ze&&(Be=Be.concat(ze.map(function(Ge){return Ge.updatesTable})))}),this.db=de,this.mode=Te,this.storeNames=Be,this.schema=Ce,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=mr(this,"complete","error","abort"),this.parent=Re||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new R(function(ze,Ge){De._resolve=ze,De._reject=Ge}),this._completion.then(function(){De.active=!1,De.on.complete.fire()},function(ze){var Ge=De.active;return De.active=!1,De.on.error.fire(ze),De.parent?De.parent._reject(ze):Ge&&De.idbtrans&&De.idbtrans.abort(),Jn(ze)})})),this.Version=(ve=this,Xn(Tr.prototype,function(Te){this.db=ve,this._cfg={version:Te,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ee=this,Xn(zr.prototype,function(Te,Be,Ce){if(this.db=Ee,this._ctx={table:Te,index:Be===":id"?null:Be,or:Ce},this._cmp=this._ascending=It,this._descending=function(Xe,Re){return It(Re,Xe)},this._max=function(Xe,Re){return 0<It(Xe,Re)?Xe:Re},this._min=function(Xe,Re){return It(Xe,Re)<0?Xe:Re},this._IDBKeyRange=Ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(Te){0<Te.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(Te){!Te.newVersion||Te.newVersion<Te.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(Te.oldVersion/10))}),this._maxKey=Ui(E.IDBKeyRange),this._createTransaction=function(Te,Be,Ce,Xe){return new N.Transaction(Te,Be,Ce,N._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Te){N.on("blocked").fire(Te),Wi.filter(function(Be){return Be.name===N.name&&Be!==N&&!Be._state.vcFired}).map(function(Be){return Be.on("versionchange").fire(Te)})},this.use(v1),this.use(Mc),this.use(u2),this.use(c2),this.use(y1);var Ne=new Proxy(this,{get:function(Te,Be,Ce){if(Be==="_vip")return!0;if(Be==="table")return function(Re){return Bl(N.table(Re),Ne)};var Xe=Reflect.get(Te,Be,Ce);return Xe instanceof Ur?Bl(Xe,Ne):Be==="tables"?Xe.map(function(Re){return Bl(Re,Ne)}):Be==="_createTransaction"?function(){return Bl(Xe.apply(this,arguments),Ne)}:Xe}});this.vip=Ne,L.forEach(function(Te){return Te(N)})}var ko,Ni=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",b1=(Oc.prototype.subscribe=function(b,E,N){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:E,complete:N})},Oc.prototype[Ni]=function(){return this},Oc);function Oc(b){this._subscribe=b}try{ko={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ko={indexedDB:null,IDBKeyRange:null}}function Y1(b){var E,N=!1,L=new b1(function(H){var ne=K(b),de,ve=!1,Ee={},Ue={},Ne={get closed(){return ve},unsubscribe:function(){ve||(ve=!0,de&&de.abort(),Te&&$r.storagemutated.unsubscribe(Ce))}};H.start&&H.start(Ne);var Te=!1,Be=function(){return ws(Xe)},Ce=function(Re){$a(Ee,Re),kc(Ue,Ee)&&Be()},Xe=function(){var Re,De,ze;!ve&&ko.indexedDB&&(Ee={},Re={},de&&de.abort(),de=new AbortController,ze=(function(Ge){var st=_t();try{ne&&rn();var ct=nn(b,Ge);return ct=ne?ct.finally(zn):ct}finally{st&&kt()}})(De={subscr:Re,signal:de.signal,requery:Be,querier:b,trans:null}),Promise.resolve(ze).then(function(Ge){N=!0,E=Ge,ve||De.signal.aborted||(Ee={},(function(st){for(var ct in st)if(h(st,ct))return;return 1})(Ue=Re)||Te||($r(Us,Ce),Te=!0),ws(function(){return!ve&&H.next&&H.next(Ge)}))},function(Ge){N=!1,["DatabaseClosedError","AbortError"].includes(Ge?.name)||ve||ws(function(){ve||H.error&&H.error(Ge)})}))};return setTimeout(Be,0),Ne});return L.hasValue=function(){return N},L.getValue=function(){return E},L}var ja=ks;function T0(b){var E=ma;try{ma=!0,$r.storagemutated.fire(b),b0(b,!0)}finally{ma=E}}m(ja,r(r({},$e),{delete:function(b){return new ja(b,{addons:[]}).delete()},exists:function(b){return new ja(b,{addons:[]}).open().then(function(E){return E.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return E=ja.dependencies,N=E.indexedDB,E=E.IDBKeyRange,(nr(N)?Promise.resolve(N.databases()).then(function(L){return L.map(function(H){return H.name}).filter(function(H){return H!==Zi})}):Cr(N,E).toCollection().primaryKeys()).then(b)}catch{return Jn(new Se.MissingAPI)}var E,N},defineClass:function(){return function(b){u(this,b)}},ignoreTransaction:function(b){return be.trans?Br(be.transless,b):b()},vip:dr,async:function(b){return function(){try{var E=Nl(b.apply(this,arguments));return E&&typeof E.then=="function"?E:R.resolve(E)}catch(N){return Jn(N)}}},spawn:function(b,E,N){try{var L=Nl(b.apply(N,E||[]));return L&&typeof L.then=="function"?L:R.resolve(L)}catch(H){return Jn(H)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(b,E){return E=R.resolve(typeof b=="function"?ja.ignoreTransaction(b):b).timeout(E||6e4),be.trans?be.trans.waitFor(E):E},Promise:R,debug:{get:function(){return Ae},set:function(b){ge(b)}},derive:v,extend:u,props:m,override:A,Events:mr,on:$r,liveQuery:Y1,extendObservabilitySet:$a,getByKeyPath:W,setByKeyPath:w,delByKeyPath:function(b,E){typeof E=="string"?w(b,E,void 0):"length"in E&&[].map.call(E,function(N){w(b,N,void 0)})},shallowClone:k,deepClone:V,getObjectDiff:Xc,cmp:It,asap:C,minKey:-1/0,addons:[],connections:Wi,errnames:he,dependencies:ko,cache:As,semVer:"4.2.1",version:"4.2.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,E,N){return b+E/Math.pow(10,2*N)})})),ja.maxKey=Ui(ja.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($r(Us,function(b){ma||(b=new CustomEvent(ar,{detail:b}),ma=!0,dispatchEvent(b),ma=!1)}),addEventListener(ar,function(b){b=b.detail,ma||T0(b)}));var Io,ma=!1,Ci=function(){};return typeof BroadcastChannel<"u"&&((Ci=function(){(Io=new BroadcastChannel(ar)).onmessage=function(b){return b.data&&T0(b.data)}})(),typeof Io.unref=="function"&&Io.unref(),$r(Us,function(b){ma||Io.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!ks.disableBfCache&&b.persisted){Io?.close();for(var E=0,N=Wi;E<N.length;E++)N[E].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!ks.disableBfCache&&b.persisted&&(Ci(),T0({all:new Sn(-1/0,[[]])}))})),R.rejectionMapper=function(b,E){return!b||b instanceof fe||b instanceof TypeError||b instanceof SyntaxError||!b.name||!Je[b.name]?b:(E=new Je[b.name](E||b.message,b),"stack"in b&&_(E,"stack",{get:function(){return this.inner.stack}}),E)},ge(Ae),r(ks,Object.freeze({__proto__:null,Dexie:ks,liveQuery:Y1,Entity:bt,cmp:It,PropModification:ur,replacePrefix:function(b,E){return new ur({replacePrefix:[b,E]})},add:function(b){return new ur({add:b})},remove:function(b){return new ur({remove:b})},default:ks,RangeSet:Sn,mergeRanges:En,rangesOverlap:_i}),{default:ks}),ks})})(av)),av.exports}var w9=T9();const rx=xo(w9),JE=Symbol.for("Dexie"),Kg=globalThis[JE]||(globalThis[JE]=rx);if(rx.semVer!==Kg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${rx.semVer} and ${Kg.semVer}`);const{liveQuery:mce,mergeRanges:gce,rangesOverlap:yce,RangeSet:vce,cmp:_ce,Entity:Sce,PropModification:bce,replacePrefix:Yce,add:xce,remove:Tce,DexieYProvider:wce}=Kg;class W9 extends Kg{bookmarks;constructor(){super("bookmarkDB"),this.version(1).stores({bookmarks:"id, channelId, timestampChannelUs"})}}const Wl=new W9;async function E9(t){const e=JSON.stringify({channelId:t.channelId,fileId:t.fileId,timestampChannelUs:t.timestampChannelUs,bbox:{i:Math.round(t.bbox.i*1e6)/1e6,j:Math.round(t.bbox.j*1e6)/1e6,h:Math.round(t.bbox.h*1e6)/1e6,w:Math.round(t.bbox.w*1e6)/1e6},name:t.name}),r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(i)).map(c=>c.toString(16).padStart(2,"0")).join("").slice(0,32)}const Yc=pt([]),Ra=Na(t=>pt([])),U9=pt(null),zs=pt({mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null}),El=pt([]),z_=pt(t=>{const e=t(El),n=[];for(const r of e){const i=t(Ra(r));n.push(...i)}return n}),Wce=pt(null,async(t,e)=>{try{const n=await Wl.bookmarks.toArray(),r=new Map,i=[];for(const a of n){i.push(a.id);const o=r.get(a.channelId)||[];o.push(a),r.set(a.channelId,o)}e(Yc,i),e(El,Array.from(r.keys()));for(const[a,o]of r)o.sort((c,u)=>c.timestampChannelUs-u.timestampChannelUs),e(Ra(a),o);`${n.length}`}catch(n){console.error("Failed to load bookmarks:",n)}}),ix=pt(null,async(t,e,n)=>{const r=await E9(n),i=t(Yc);if(i.includes(r))return null;const a=Date.now(),o={...n,id:r,createdAt:a,updatedAt:a};try{await Wl.bookmarks.add(o),e(Yc,[...i,o.id]);const c=t(El);c.includes(o.channelId)||e(El,[...c,o.channelId]);const f=[...t(Ra(o.channelId)),o].sort((p,h)=>p.timestampChannelUs-h.timestampChannelUs);return e(Ra(o.channelId),f),o.name,o.bbox,o}catch(c){throw console.error("Failed to add bookmark:",c),c}}),C9=pt(null,async(t,e,n,r)=>{try{const i=await Wl.bookmarks.get(n);if(!i)throw new Error(`Bookmark ${n} not found`);const a={...i,...r,updatedAt:Date.now()};await Wl.bookmarks.put(a);const c=t(Ra(i.channelId)).map(u=>u.id===n?a:u);return e(Ra(i.channelId),c),a.name,a}catch(i){throw console.error("Failed to update bookmark:",i),i}}),A9=pt(null,async(t,e)=>{try{const n=t(El);await Wl.bookmarks.clear();for(const r of n)e(Ra(r),[]);e(Yc,[]),e(El,[])}catch(n){throw console.error("Failed to clear bookmarks:",n),n}}),k9=pt(null,async(t,e,n)=>{try{const r=await Wl.bookmarks.get(n);if(!r){console.warn(`Bookmark ${n} not found for deletion`);return}await Wl.bookmarks.delete(n);const i=t(Yc);e(Yc,i.filter(c=>c!==n));const o=t(Ra(r.channelId)).filter(c=>c.id!==n);if(e(Ra(r.channelId),o),o.length===0){const c=t(El);e(El,c.filter(u=>u!==r.channelId))}r.name}catch(r){throw console.error("Failed to delete bookmark:",r),r}}),IT=pt(null,async(t,e,n)=>{const r=typeof n=="string"?n:n.bookmarkId,i=typeof n=="string"?"bookmark":n.source??"bookmark",a=await Wl.bookmarks.get(r);if(!a)return console.warn(`Bookmark ${r} not found`),a;const o=t(yn(a.channelId));if(!o)return console.warn(`Channel ${a.channelId} not found`),a;const c=o.timeStartEpochUs+a.timestampChannelUs,u=o.timestampToFrameIndex(c),f=Math.max(0,Math.min(u,o.getFrameCount()-1)),p=t(wn),h=a.timestampChannelUs;return e(wn,{...p,channelId:a.channelId,previousTimeUs:p.currentTimeUs,currentTimeUs:h,isPlaying:!1,selectionSource:i}),e(s6,f),e(U9,{bbox:a.bbox}),a}),I9=pt(null,(t,e)=>{e(zs,{mode:"drawing",startPoint:null,currentPoint:null,pendingBbox:null})}),wu=pt(null,(t,e)=>{e(zs,{mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null})}),Ece=pt(null,(t,e,n)=>{const r=t(zs);r.mode==="drawing"&&e(zs,{...r,startPoint:n,currentPoint:n})}),Uce=pt(null,(t,e,n)=>{const r=t(zs);r.mode!=="drawing"||!r.startPoint||e(zs,{...r,currentPoint:n})}),Cce=pt(null,(t,e,n)=>{const r=t(zs);if(r.mode!=="drawing"||!r.startPoint)return;const i=r.startPoint,a=n,o=i.x,c=i.y,u=2*Math.abs(a.x-i.x),f=2*Math.abs(a.y-i.y);if(u<.01||f<.01){e(zs,{mode:"idle",startPoint:null,currentPoint:null,pendingBbox:null});return}e(zs,{mode:"dialog",startPoint:null,currentPoint:null,pendingBbox:{i:c,j:o,h:f,w:u}})}),X9=pt(null,async(t,e,n,r)=>{const i=t(zs);if(i.mode!=="dialog"||!i.pendingBbox)return;const a=t(wn);if(!a.channelId){console.warn("No channel selected"),e(wu);return}const o=t(yn(a.channelId));if(!o){console.warn("Channel not found"),e(wu);return}const c=t(L_),u=o.getFrameHash(c);if(!u){console.warn("Could not determine file hash for bookmark"),e(wu);return}await e(ix,{channelId:a.channelId,fileId:u,timestampChannelUs:a.currentTimeUs,bbox:i.pendingBbox,name:n,description:r}),e(wu)});function R9(t,e){const n=Tt.c(4);let r,i;n[0]!==e||n[1]!==t?(r=()=>{if(!t)return;const a=new ResizeObserver(o=>{if(!o.length)return;const c=o[0],{width:u,height:f}=c.contentRect;e({width:u,height:f})});return a.observe(t),()=>a.disconnect()},i=[t,e],n[0]=e,n[1]=t,n[2]=r,n[3]=i):(r=n[2],i=n[3]),z.useEffect(r,i)}const P9={visual:"V",thermal:"T",wide:"W",screen:"S",zoom:"Z",panorama:"P",unknown:"?"},M9=10,ac=t=>t.startEpochTimeMillis*1e3,kg=t=>t.endEpochTimeMillis*1e3,Nb=t=>t==="video"||t==="mediabunny_video"||t==="livestream";function O9(t,e){if(t.length===0)return[];const n=[...t].sort((a,o)=>ac(a)-ac(o)),r=[];let i={timeStartEpochUs:ac(n[0]),timeEndEpochUs:kg(n[0]),tracks:[n[0]],isVideo:Nb(n[0].channelType),totalFrames:n[0].nFrames};for(let a=1;a<n.length;a++){const o=n[a],c=e(ac(o)),u=e(i.timeEndEpochUs);c-u<M9?(i.tracks.push(o),i.timeEndEpochUs=Math.max(i.timeEndEpochUs,kg(o)),i.totalFrames+=o.nFrames,Nb(o.channelType)&&(i.isVideo=!0)):(r.push(i),i={timeStartEpochUs:ac(o),timeEndEpochUs:kg(o),tracks:[o],isVideo:Nb(o.channelType),totalFrames:o.nFrames})}return r.push(i),r}const sx=1e3,ov=sx*60,lv=ov*60,Ig=lv*24,eU=Ig*365,Iu=Ig*29.530588853,N9=Date.UTC(2e3,0,6,18,14,0);function tU(t){return t>=eU?{major:eU,minor:Iu}:t>=Iu?{major:Iu,minor:Ig}:t>=Ig?{major:Ig,minor:lv}:t>=lv?{major:lv,minor:ov}:t>=ov?{major:ov,minor:sx}:{major:sx,minor:0}}function My(t,e,n,r,i,a){const o=[],c=Math.max(100,Math.min(500,n)),u=Math.abs(r-Iu)<1e3;for(let f=0;f<=c;f++){const p=f/c*n,h=t+f/c*e;let m;u?m=(h-N9)%Iu/Iu*2*Math.PI:m=h%r/r*2*Math.PI;const y=i/2-Math.cos(m)*a;o.push(`${f===0?"M":"L"} ${p.toFixed(1)} ${y.toFixed(1)}`)}return o.join(" ")}function Wu(t){const e=Math.abs(t)/1e3,n=60,r=n*60,i=r*24,a=i*365;if(e>=a){const o=Math.floor(e/a),c=Math.floor(e%a/i);return c>0?`${o}y ${c}d`:`${o}y`}else if(e>=i){const o=Math.floor(e/i),c=Math.floor(e%i/r);return c>0?`${o}d ${c}h`:`${o}d`}else if(e>=r){const o=Math.floor(e/r),c=Math.floor(e%r/n);return c>0?`${o}h ${c}m`:`${o}h`}else if(e>=n){const o=Math.floor(e/n),c=Math.floor(e%n);return c>0?`${o}m ${c}s`:`${o}m`}else return`${Math.floor(e)}s`}function Ace(){const t=Tt.c(109),e=Qt(p9),n=Qt(wn),r=Qt(L_),i=e.filter(Q9),a=kn(zZ),o=kn(s6),c=kn(Qm),u=kn(c6),f=Qt(y0),p=m0(),[h,m]=z.useState(null),[y,_]=z.useState(800),[v,S]=z.useState(null),[Y,T]=z.useState(null),[A,P]=z.useState(null),[C,W]=z.useState(0),[w,k]=z.useState(null),[M,D]=z.useState(0),[B,O]=z.useState(0),[V,X]=qv(tx),j=kn(a6),[$,q]=z.useState(!1),[G,Q]=z.useState(0),[ue,K]=z.useState(null),[ee,fe]=z.useState(null),[te,ie]=z.useState(null),[le,he]=z.useState(null),[me,Se]=z.useState(null),[Je,$e]=z.useState(null);let We;t[0]===Symbol.for("react.memo_cache_sentinel")?(We=bt=>{const{width:It}=bt;_(It-64)},t[0]=We):We=t[0],R9(h,We);let Ze;t[1]===Symbol.for("react.memo_cache_sentinel")?(Ze=()=>{S(null),T(null),P(null),W(0),k(null),ie(null),he(null)},t[1]=Ze):Ze=t[1];const F=Ze,ke=i.map(q9),Ye=i.map(G9),ce=ke.length>0?Math.min(...ke):0,se=Ye.length>0?Math.max(...Ye):0,pe=se-ce,Me=pe*.05,Ae=ce-Me,ge=se+Me,we=V?.start??Ae,Le=(V?.end??ge)-we,nt=y;let Mt;t[2]!==nt||t[3]!==Le||t[4]!==we?(Mt=bt=>{const It=bt/1e3;return Le>0?(It-we)/Le*nt:0},t[2]=nt,t[3]=Le,t[4]=we,t[5]=Mt):Mt=t[5];const Vt=O9(i,Mt);let sn;t[6]!==h||t[7]!==pe||t[8]!==ee||t[9]!==ge||t[10]!==Ae||t[11]!==X||t[12]!==nt||t[13]!==V?.end||t[14]!==V?.start?(sn=bt=>{if(bt.preventDefault(),bt.target.closest(".fixed"))return;const Er=h?.getBoundingClientRect();if(!Er)return;const tr=bt.clientX-Er.left-16,Dn=Math.max(0,Math.min(1,tr/nt)),ur=V?.start??Ae,qn=(V?.end??ge)-ur,Ur=bt.deltaY>0?1.0375:.9625,Gt=qn*Ur,mr=ge-Ae,Xn=Math.min(1e3,pe*.01),Ir=Math.max(Xn,Math.min(mr,Gt));let yi,Xi;if(ee){const Wo=ee.timeStartEpochUs/1e3,jt=ee.timeEndEpochUs/1e3,Mr=jt-Wo;(qn>0?Mr/qn*nt:nt)<20?(yi=(Wo+jt)/2,Xi=qn>0?(yi-ur)/qn:.5):(yi=ur+Dn*qn,Xi=Dn)}else yi=ur+Dn*qn,Xi=Dn;const Ri=yi-Xi*Ir,Va=yi+(1-Xi)*Ir;let vi=Ri,si=Va;vi<Ae&&(vi=Ae,si=vi+Ir),si>ge&&(si=ge,vi=si-Ir),X({start:vi,end:si})},t[6]=h,t[7]=pe,t[8]=ee,t[9]=ge,t[10]=Ae,t[11]=X,t[12]=nt,t[13]=V?.end,t[14]=V?.start,t[15]=sn):sn=t[15];const ae=sn;let tt;t[16]!==ge||t[17]!==Ae||t[18]!==V?.end||t[19]!==V?.start?(tt=bt=>{if(bt.button!==0)return;const It=bt.target;It.closest("button")||It.closest('[role="button"]')||(q(!0),Q(bt.clientX),K({start:V?.start??Ae,end:V?.end??ge}),bt.preventDefault())},t[16]=ge,t[17]=Ae,t[18]=V?.end,t[19]=V?.start,t[20]=tt):tt=t[20];const Oe=tt;let it;t[21]!==ue||t[22]!==G||t[23]!==$||t[24]!==ge||t[25]!==Ae||t[26]!==X||t[27]!==nt?(it=bt=>{const It=bt.currentTarget.getBoundingClientRect(),Er=bt.clientX-It.left-16,tr=bt.clientY-It.top;if(ie(Math.max(0,Math.min(nt,Er))),he(tr),!$||!ue)return;const ur=-((bt.clientX-G)/nt)*(ue.end-ue.start);let fr=ue.start+ur,qn=ue.end+ur;fr<Ae&&(fr=Ae,qn=fr+(ue.end-ue.start)),qn>ge&&(qn=ge,fr=qn-(ue.end-ue.start)),X({start:fr,end:qn})},t[21]=ue,t[22]=G,t[23]=$,t[24]=ge,t[25]=Ae,t[26]=X,t[27]=nt,t[28]=it):it=t[28];const _e=it;let be;t[29]===Symbol.for("react.memo_cache_sentinel")?(be=()=>{q(!1),K(null)},t[29]=be):be=t[29];const J=be;let Qe;t[30]!==$?(Qe=()=>{ie(null),he(null),$&&(q(!1),K(null))},t[30]=$,t[31]=Qe):Qe=t[31];const mt=Qe;let R,Ve;if(t[32]!==h||t[33]!==ae?(R=()=>{const bt=h;if(bt)return bt.addEventListener("wheel",ae,{passive:!1}),()=>bt.removeEventListener("wheel",ae)},Ve=[h,ae],t[32]=h,t[33]=ae,t[34]=R,t[35]=Ve):(R=t[34],Ve=t[35]),z.useEffect(R,Ve),i.length===0){let bt;return t[36]===Symbol.for("react.memo_cache_sentinel")?(bt=I.jsx("div",{className:"h-full flex items-center justify-center bg-muted/20 border-t",children:I.jsx("p",{className:"text-sm text-muted-foreground",children:"No data to display"})}),t[36]=bt):bt=t[36],bt}const Ke=(bt,It,Er,tr,Dn)=>{const ur=Er/tr,fr=It.timeStartEpochUs+ur*(It.timeEndEpochUs-It.timeStartEpochUs);let qn=!1;if(n.channelId){const Ur=i.find(Gt=>Gt.channelId===n.channelId);if(Ur){const Gt=Ur.startEpochTimeMillis*1e3,mr=Ur.endEpochTimeMillis*1e3;if(fr>=Gt&&fr<=mr){const Xn=p.get(yn(n.channelId));if(Xn){const Ir=Xn.timestampToFrameIndex(fr);a(Math.max(0,Math.min(Ir,Xn.getFrameCount()-1))),o(Math.max(0,Math.min(Ir,Xn.getFrameCount()-1))),qn=!0}}}}if(!qn){const Ur=It.tracks[0],Gt=p.get(yn(Ur.channelId));if(Gt){const mr=Gt.timestampToFrameIndex(fr);c({channelId:Ur.channelId,source:"timeline"}),a(Math.max(0,Math.min(mr,Gt.getFrameCount()-1))),o(Math.max(0,Math.min(mr,Gt.getFrameCount()-1))),u(Ur.channelId)}}It.tracks.length>1&&(v===bt?(S(null),T(null),P(null),W(0)):(S(bt),T(Dn.getBoundingClientRect()),P(null),W(0)))},re=H9,ye=j9;let Pe;t[37]!==nt||t[38]!==Le||t[39]!==we?(Pe=(bt,It,Er)=>{const tr=Er===void 0?!1:Er,Dn=bt/1e3,ur=It/1e3,fr=ur-Dn,qn=Le>0?(Dn-we)/Le*nt:0,Ur=Le>0?fr/Le*nt:nt,Gt=tr||Ur<20;let mr,Xn;if(Gt){const Ir=tr?Dn:(Dn+ur)/2;mr=(Le>0?(Ir-we)/Le*nt:0)-10,Xn=20}else mr=qn,Xn=Math.min(Ur,nt-mr);return mr<0&&(Xn=Math.max(0,Xn+mr),mr=0),mr+Xn>nt&&(Xn=Math.max(0,nt-mr)),{leftOffset:mr,actualWidth:Xn,isMinWidth:Gt}},t[37]=nt,t[38]=Le,t[39]=we,t[40]=Pe):Pe=t[40];const wt=Pe;let ft;t[41]!==f?(ft=(bt,It)=>{const Er=sa(bt.timeStartEpochUs/1e3,f),tr=[...new Set(bt.tracks.map(K9))],ur=tr.includes("unknown")?"":tr.sort().map($9).join(","),fr=It??(bt.timeEndEpochUs-bt.timeStartEpochUs)/1e3,qn=Wu(fr),Ur=`${bt.tracks.length} channel${bt.tracks.length>1?"s":""}`;let Gt;return ur?Gt=`${Ur}: ${ur}: ${qn}`:Gt=`${Ur}: ${qn}`,{timestamp:Er,channelInfo:Gt}},t[41]=f,t[42]=ft):ft=t[42];const _t=ft,kt=z9,Wn=Z9;let hn;t[43]===Symbol.for("react.memo_cache_sentinel")?(hn=bt=>Wn(bt,"short"),t[43]=hn):hn=t[43];const At=hn;let Lt;t[44]!==n?(Lt=bt=>bt.channelId===n.channelId,t[44]=n,t[45]=Lt):Lt=t[45];const Nn=i.find(Lt),kr=(Nn?p.get(yn(Nn.channelId)):null)?.frameIndexToTimestamp(r)??0,ii=kr>0?sa(kr/1e3,f):"";if(i.length===0){let bt;return t[46]===Symbol.for("react.memo_cache_sentinel")?(bt=I.jsx("div",{className:"h-full flex items-center justify-center bg-muted/20 border-t",children:I.jsx("p",{className:"text-sm text-muted-foreground",children:"No data to display"})}),t[46]=bt):bt=t[46],bt}const Vn="w-full bg-background border-t border-border flex items-center";let nn;t[47]===Symbol.for("react.memo_cache_sentinel")?(nn={height:"44px"},t[47]=nn):nn=t[47];let rn;t[48]!==ii?(rn=I.jsx("div",{className:"text-xs font-mono text-foreground whitespace-nowrap",children:ii}),t[48]=ii,t[49]=rn):rn=t[49];let zn;t[50]!==Le?(zn=Wu(Le),t[50]=Le,t[51]=zn):zn=t[51];let pr;t[52]!==zn?(pr=I.jsxs("div",{className:"text-[10px] font-mono text-muted-foreground whitespace-nowrap",children:[" ",zn," "]}),t[52]=zn,t[53]=pr):pr=t[53];let rs;t[54]!==rn||t[55]!==pr?(rs=I.jsxs("div",{className:"shrink-0 flex flex-col items-center justify-center border-r border-border px-4 py-1",children:[rn,pr]}),t[54]=rn,t[55]=pr,t[56]=rs):rs=t[56];let mi;t[57]===Symbol.for("react.memo_cache_sentinel")?(mi=bt=>m(bt),t[57]=mi):mi=t[57];const Ba=`relative flex-1 min-w-0 h-full flex items-center ${$?"cursor-grabbing":"cursor-grab"}`;let Br;t[58]!==nt||t[59]!==Le||t[60]!==we?(Br=nt>0&&(()=>{const{major:bt,minor:It}=tU(Le),Er=My(we,Le,nt,bt,36,12.6),tr=It>0?My(we,Le,nt,It,36,7.2):null;return I.jsxs("svg",{className:"absolute pointer-events-none",style:{left:16,right:16,top:4,bottom:4},width:nt,height:36,preserveAspectRatio:"none",children:[tr&&I.jsx("path",{d:tr,fill:"none",stroke:"currentColor",strokeWidth:.5,className:"text-neutral-400/30"}),I.jsx("path",{d:Er,fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"text-neutral-500/40"})]})})(),t[58]=nt,t[59]=Le,t[60]=we,t[61]=Br):Br=t[61];let is;t[62]!==f||t[63]!==v||t[64]!==ee||t[65]!==w||t[66]!==te||t[67]!==le||t[68]!==nt||t[69]!==Le||t[70]!==we?(is=te!==null&&le!==null&&!ee&&!w&&v===null&&I.jsx("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/70 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10000]",style:{left:`${16+te}px`,top:`${le-8}px`,transform:"translate(-50%, -100%)"},children:sa(we+te/nt*Le,f)}),t[62]=f,t[63]=v,t[64]=ee,t[65]=w,t[66]=te,t[67]=le,t[68]=nt,t[69]=Le,t[70]=we,t[71]=is):is=t[71];const ws="absolute left-0 right-0 px-4",Jn="relative";let Vr;t[72]===Symbol.for("react.memo_cache_sentinel")?(Vr={height:"28px"},t[72]=Vr):Vr=t[72];const Fr=Vt.map((bt,It)=>{const Er=bt.tracks.some(jt=>n.channelId===jt.channelId),tr=v===It,Dn=bt.tracks.length===1&&bt.tracks[0].nFrames===1,{leftOffset:ur,actualWidth:fr}=wt(bt.timeStartEpochUs,bt.timeEndEpochUs,Dn);if(fr<=0)return null;const qn=bt.tracks.length>1,Ur=bt.tracks.every(L9),Gt=bt.tracks.every(F9),mr=bt.tracks.every(V9),Xn=bt.tracks.every(B9),Ir=Gt?rT:Ur?Lg:mr?RY:Xn?Bv:qn?J7:bt.isVideo?Lg:Dn?RY:Bv,{channelInfo:yi}=_t(bt),Xi=bt.tracks.length,Ri=(bt.timeEndEpochUs-bt.timeStartEpochUs)/1e3,Va=Wu(Ri),vi=qn&&fr>=40,si=fr>=80,Wo=vi||si;return I.jsxs("div",{className:"relative group/bar",children:[I.jsxs("div",{className:`absolute h-6 ${re(It)} rounded border ${Er?"border-primary ring-2 ring-primary/20":ye(It)} hover:border-primary transition-colors cursor-pointer flex items-center justify-center gap-1 overflow-hidden`,style:{width:`${fr}px`,left:`${ur}px`,top:"2px"},onClick:jt=>{if(jt.altKey){j({startMs:bt.timeStartEpochUs/1e3,endMs:bt.timeEndEpochUs/1e3,nFrames:bt.totalFrames});return}const Mr=jt.currentTarget.getBoundingClientRect(),Pi=jt.clientX-Mr.left;Ke(It,bt,Pi,fr,jt.currentTarget)},onMouseEnter:()=>fe(bt),onMouseLeave:()=>{fe(null),O(0)},onMouseMove:jt=>{const Mr=jt.currentTarget.getBoundingClientRect(),Pi=Math.max(0,Math.min(1,(jt.clientX-Mr.left)/Mr.width));O(Pi)},children:[I.jsx(Ir,{className:"w-3 h-3 shrink-0 text-foreground/70"}),Wo&&I.jsxs("span",{className:"text-[10px] font-mono text-foreground/70 truncate",children:[vi?`x${Xi}`:"",vi&&si?" ":"",si?Va:""]})]}),v===null&&(()=>{const jt=Math.max(200,yi.length*7+40),Mr=ur+fr/2,Pi=nt-8,gr=Mr+jt/2>Pi,Lr=Mr-jt/2<8;let ai;gr?ai={right:"8px",top:"-36px"}:Lr?ai={left:"8px",top:"-36px"}:ai={left:`${Mr}px`,top:"-36px",transform:"translateX(-50%)"};const Zr=bt.timeStartEpochUs/1e3,Mi=bt.timeEndEpochUs/1e3,Hs=Zr+B*(Mi-Zr),zr=sa(Hs,f);return I.jsxs("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/70 backdrop-blur-sm rounded border border-border whitespace-nowrap opacity-0 group-hover/bar:opacity-100 pointer-events-none z-[10000]",style:ai,children:[I.jsx("div",{children:zr}),I.jsx("div",{children:yi})]})})(),tr&&Y&&(()=>{const jt=h?.parentElement?.getBoundingClientRect(),Mr=jt?.left??16,Pi=jt?.right??window.innerWidth-16,gr=Pi-Mr-24-32,Lr=Y.left+Y.width/2-Mr,ai=bt.timeStartEpochUs/1e3,Zr=bt.timeEndEpochUs/1e3,Hs=(Zr-ai)*.05,zr=ai-Hs,Bn=Zr+Hs,Ei=Bn-zr,xr=A?.start??zr,Us=A?.end??Bn,ar=Us-xr,$r=sa(xr,f,{includeZone:!1}),Pl=Wu(ar),fi=`${$r}  ${bt.tracks.length} channels: ${Pl}`,Oi=D9,Fa=(on,ln,Rn)=>{const Fn=Rn===void 0?!1:Rn,Pn=on/1e3,Tr=ln/1e3,_r=Tr-Pn,Cr=ar>0?(Pn-xr)/ar*gr:0,nr=ar>0?_r/ar*gr:gr,dr=Fn||nr<20;let er,Sn;if(dr){const Ln=Fn?Pn:(Pn+Tr)/2;er=(ar>0?(Ln-xr)/ar*gr:0)-10,Sn=20}else er=Cr,Sn=nr;return{barLeft:er,barWidth:Sn,isMinWidth:dr}},ss=[],Ui=[];for(const on of bt.tracks){const{barLeft:ln,barWidth:Rn}=Fa(ac(on),kg(on),on.nFrames===1),Fn=At(on),Pn=Oi(Fn),Tr=Rn>Pn+20,_r=ln,Cr=Tr?ln+Rn:ln+Rn+Pn+12;let nr=0;for(let dr=0;dr<Ui.length;dr++){if(_r>=Ui[dr]+8){nr=dr;break}nr=dr+1}nr>=Ui.length?Ui.push(Cr):Ui[nr]=Math.max(Ui[nr],Cr),ss.push({track:on,lane:nr,barLeft:ln,barRight:ln+Rn})}const Gs=Ui.length,La=Math.min(Gs,4),qs=Gs*26,vr=La*26,as=Math.max(0,qs-vr),Cs=Math.max(0,Math.min(C,as)),os=60+vr,Eo=on=>{on.stopPropagation();const ln=on.currentTarget.getBoundingClientRect(),Rn=on.clientX-ln.left-16,Fn=Math.max(0,Math.min(1,Rn/gr)),Pn=xr,Tr=ar,_r=on.deltaY>0?1.0375:.9625,Cr=Tr*_r,nr=Math.min(1e3,Ei*.01),dr=Math.max(nr,Math.min(Ei,Cr));let er,Sn;if(w){const _i=w.startEpochTimeMillis,$i=w.endEpochTimeMillis,Qs=$i-_i;(Tr>0?Qs/Tr*gr:gr)<20?(er=(_i+$i)/2,Sn=Tr>0?(er-Pn)/Tr:.5):(er=Pn+Fn*Tr,Sn=Fn)}else er=Pn+Fn*Tr,Sn=Fn;let Ln=er-Sn*dr,En=er+(1-Sn)*dr;Ln<zr&&(Ln=zr,En=Ln+dr),En>Bn&&(En=Bn,Ln=En-dr),Ln<=zr&&En>=Bn?P(null):P({start:Ln,end:En})},Za=on=>{if(on.button!==0||on.target.closest("button"))return;on.preventDefault(),on.stopPropagation();const Rn=on.clientX,Fn=on.clientY,Pn={start:xr,end:Us},Tr=Cs,_r=nr=>{const dr=nr.clientX-Rn,er=nr.clientY-Fn,Sn=-(dr/gr)*(Pn.end-Pn.start);let Ln=Pn.start+Sn,En=Pn.end+Sn;Ln<zr&&(Ln=zr,En=Ln+(Pn.end-Pn.start)),En>Bn&&(En=Bn,Ln=En-(Pn.end-Pn.start)),Ln<=zr&&En>=Bn?P(null):P({start:Ln,end:En});const _i=Math.max(0,Math.min(as,Tr-er));W(_i)},Cr=()=>{document.removeEventListener("mousemove",_r),document.removeEventListener("mouseup",Cr)};document.addEventListener("mousemove",_r),document.addEventListener("mouseup",Cr)},za=i.find(on=>on.channelId===n.channelId),Co=((za?p.get(yn(za.channelId)):null)?.frameIndexToTimestamp(r)??bt.timeStartEpochUs)/1e3,Ol=ar>0?(Co-xr)/ar*gr:0;return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/20",onClick:F}),I.jsxs("div",{className:"fixed z-[9999] bg-background border-2 border-primary rounded-lg shadow-2xl ring-4 ring-primary/30",style:{left:`${Mr}px`,right:`${window.innerWidth-Pi}px`,top:`${Y.top-os-12-8}px`,height:`${os}px`,padding:"12px"},children:[I.jsx("div",{className:"absolute w-0 h-0 border-l-[10px] border-r-[10px] border-t-[12px] border-l-transparent border-r-transparent border-t-primary",style:{left:`${Lr}px`,top:"100%",transform:"translateX(-50%)"}}),I.jsx("div",{className:"absolute w-0 h-0 border-l-[8px] border-r-[8px] border-t-[10px] border-l-transparent border-r-transparent border-t-background",style:{left:`${Lr}px`,top:"calc(100% - 2px)",transform:"translateX(-50%)"}}),I.jsx("button",{className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:F,children:""}),I.jsx("div",{className:"text-sm text-muted-foreground font-medium mb-2 pr-8",children:fi}),I.jsxs("div",{className:"relative overflow-hidden cursor-grab active:cursor-grabbing",style:{height:`${vr}px`},onWheel:Eo,onMouseDown:Za,onMouseMove:on=>{const ln=on.currentTarget.getBoundingClientRect(),Rn=on.clientX-ln.left-16,Fn=on.clientY-ln.top;Se(Math.max(0,Math.min(gr,Rn))),$e(Fn)},onMouseLeave:()=>{Se(null),$e(null)},children:[I.jsxs("div",{className:"absolute left-0 right-0",style:{height:`${qs}px`,transform:`translateY(${-Cs}px)`},children:[(()=>{const{major:on,minor:ln}=tU(ar),Rn=qs,Fn=My(xr,ar,gr,on,Rn,Rn*.3),Pn=ln>0?My(xr,ar,gr,ln,Rn,Rn*.15):null;return I.jsxs("svg",{className:"absolute pointer-events-none",style:{left:16,top:0},width:gr,height:Rn,preserveAspectRatio:"none",children:[Pn&&I.jsx("path",{d:Pn,fill:"none",stroke:"currentColor",strokeWidth:.5,className:"text-neutral-400/30"}),I.jsx("path",{d:Fn,fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"text-neutral-500/40"})]})})(),ss.map(on=>{const{track:ln,lane:Rn,barLeft:Fn}=on,Pn=ln.nFrames,Tr=n.channelId===ln.channelId,{barWidth:_r}=Fa(ac(ln),kg(ln),ln.nFrames===1),Cr=At(ln),nr=Oi(Cr),dr=kt(ln),er=_r>nr+20+8,Sn=Fn>nr+8,Ln=er?"inside":Sn?"left":"right";return I.jsxs("div",{className:"absolute flex items-center pointer-events-none",style:{left:"16px",right:"16px",height:"22px",top:`${Rn*26+2}px`},children:[Ln==="left"&&I.jsx("span",{className:"absolute text-[11px] font-mono text-foreground/80 whitespace-nowrap text-right",style:{right:`calc(100% - ${Fn-6}px)`},children:Cr}),I.jsxs("div",{className:`group/overlaybar absolute flex items-center gap-1 rounded border cursor-pointer transition-colors pointer-events-auto ${Tr?"bg-primary/30 border-primary":"bg-neutral-400/40 border-neutral-500/60 hover:border-primary hover:bg-neutral-400/50"} ${er?"px-2":"justify-center"}`,style:{left:`${Fn}px`,width:`${_r}px`,height:"100%"},onMouseEnter:()=>k(ln),onMouseLeave:()=>{k(null),D(0)},onMouseMove:En=>{const _i=En.currentTarget.getBoundingClientRect(),$i=Math.max(0,Math.min(1,(En.clientX-_i.left)/_i.width));D($i)},onClick:En=>{En.stopPropagation();const _i=En.currentTarget.closest(".fixed");if(!_i)return;const $i=_i.getBoundingClientRect(),Qs=En.clientX-$i.left-12-16,ha=Math.max(0,Math.min(1,Qs/gr)),$a=xr+ha*ar,As=p.get(yn(ln.channelId))?.timestampToFrameIndex($a*1e3)??0;c({channelId:ln.channelId,source:"timeline"}),a(Math.max(0,Math.min(As,Pn-1))),o(Math.max(0,Math.min(As,Pn-1))),u(ln.channelId)},children:[I.jsx(dr,{className:"w-3 h-3 shrink-0 text-foreground/70"}),Ln==="inside"&&I.jsx("span",{className:"text-[11px] font-mono text-foreground/80 truncate",children:Cr})]}),Ln==="right"&&I.jsx("span",{className:"absolute text-[11px] font-mono text-foreground/80 whitespace-nowrap",style:{left:`${Fn+_r+6}px`},children:Cr})]},ln.channelId)}),I.jsx(J9,{tracksWithLanes:ss,chunkStartMs:xr,chunkDurationMs:ar,overlayTotalWidth:gr,barPadding:16,laneHeight:26,scrollY:Cs}),I.jsxs("div",{className:"absolute w-0.5 bg-primary cursor-ew-resize",style:{left:`${16+Ol}px`,top:0,height:`${qs}px`},onMouseDown:on=>{on.preventDefault(),on.stopPropagation();const ln=on.currentTarget.parentElement?.parentElement;if(!ln)return;const Rn=Pn=>{const Tr=ln.getBoundingClientRect(),_r=Pn.clientX-Tr.left,nr=Math.max(0,Math.min(_r,gr))/gr,dr=xr+nr*ar,er=za||bt.tracks[0],Sn=er?p.get(yn(er.channelId)):null;if(Sn&&er){const Ln=dr*1e3,En=Sn.timestampToFrameIndex(Ln);c({channelId:er.channelId,source:"timeline"}),a(Math.max(0,Math.min(En,er.nFrames-1))),o(Math.max(0,Math.min(En,er.nFrames-1)))}},Fn=()=>{document.removeEventListener("mousemove",Rn),document.removeEventListener("mouseup",Fn)};document.addEventListener("mousemove",Rn),document.addEventListener("mouseup",Fn)},children:[I.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary rounded-full border-2 border-background"}),I.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary rounded-full border-2 border-background"})]})]}),as>0&&I.jsx("div",{className:"absolute right-1 top-1 bottom-1 w-1 bg-muted/30 rounded",children:I.jsx("div",{className:"absolute w-full bg-muted-foreground/40 rounded",style:{top:`${Cs/qs*100}%`,height:`${vr/qs*100}%`}})})]}),w&&(()=>{const on=ss.find(ha=>ha.track.channelId===w.channelId);if(!on)return null;const{track:ln,lane:Rn,barLeft:Fn,barRight:Pn}=on,Tr=Pn-Fn,_r=Wn(ln,"full"),Cr=kt(ln),nr=ln.startEpochTimeMillis,dr=ln.endEpochTimeMillis,er=nr+M*(dr-nr),Sn=sa(er,f),Ln=16+Fn+M*Tr,En=36+Rn*26-Cs,_i=Mr+12+Ln,Qs=window.innerWidth-_i<200;return I.jsxs("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/90 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10001]",style:{left:Qs?void 0:`${12+Ln}px`,right:Qs?`${12+gr+32-Ln}px`:void 0,top:`${En-4}px`,transform:"translateY(-100%)"},children:[I.jsx("div",{children:Sn}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(Cr,{className:"w-3 h-3 shrink-0"}),I.jsx("span",{children:_r})]})]})})(),me!==null&&Je!==null&&!w&&I.jsx("div",{className:"absolute px-2 py-1 text-xs font-mono text-foreground bg-background/90 backdrop-blur-sm rounded border border-border whitespace-nowrap pointer-events-none z-[10001]",style:{left:`${28+me}px`,top:`${36+Je-8}px`,transform:"translate(-50%, -100%)"},children:sa(xr+me/gr*ar,f)}),I.jsx("button",{className:"absolute top-2 right-8 px-3 py-1 text-xs font-medium text-muted-foreground hover:text-foreground bg-muted/50 hover:bg-muted rounded border border-border transition-colors",onClick:()=>{const on=ar*.05;X({start:xr-on,end:Us+on}),S(null),T(null),P(null),W(0)},children:"Zoom to here"})]})]})})()]},It)});let sr;t[73]!==Vr||t[74]!==Fr?(sr=I.jsx("div",{className:ws,children:I.jsx("div",{className:Jn,style:Vr,children:Fr})}),t[73]=Vr,t[74]=Fr,t[75]=sr):sr=t[75];let Wi;t[76]!==kr||t[77]!==n.channelId||t[78]!==Nn||t[79]!==nt||t[80]!==Le||t[81]!==we?(Wi=n.channelId&&Nn&&(()=>{const bt=kr/1e3,It=Le>0?16+(bt-we)/Le*nt:16;return I.jsxs("div",{className:"absolute w-0.5 bg-primary pointer-events-none z-30",style:{left:`${It}px`,top:4,bottom:4},children:[I.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-primary rounded-sm"}),I.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-primary rounded-sm"})]})})(),t[76]=kr,t[77]=n.channelId,t[78]=Nn,t[79]=nt,t[80]=Le,t[81]=we,t[82]=Wi):Wi=t[82];let Zi;t[83]!==nt||t[84]!==Le||t[85]!==we?(Zi=I.jsx(tz,{viewStart:we,viewDurationMs:Le,timelineWidth:nt}),t[83]=nt,t[84]=Le,t[85]=we,t[86]=Zi):Zi=t[86];let ui;t[87]!==Oe||t[88]!==mt||t[89]!==_e||t[90]!==J||t[91]!==mi||t[92]!==Ba||t[93]!==Br||t[94]!==is||t[95]!==sr||t[96]!==Wi||t[97]!==Zi?(ui=I.jsxs("div",{ref:mi,onMouseDown:Oe,onMouseMove:_e,onMouseUp:J,onMouseLeave:mt,className:Ba,children:[Br,is,sr,Wi,Zi]}),t[87]=Oe,t[88]=mt,t[89]=_e,t[90]=J,t[91]=mi,t[92]=Ba,t[93]=Br,t[94]=is,t[95]=sr,t[96]=Wi,t[97]=Zi,t[98]=ui):ui=t[98];let gi;t[99]!==X?(gi=()=>X(null),t[99]=X,t[100]=gi):gi=t[100];let zi;t[101]===Symbol.for("react.memo_cache_sentinel")?(zi=I.jsx(NN,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"}),t[101]=zi):zi=t[101];let Ws;t[102]!==gi?(Ws=I.jsx("button",{onClick:gi,className:"shrink-0 px-2 py-1 border-l border-border hover:bg-muted transition-colors",title:"Reset zoom to fit all data",children:zi}),t[102]=gi,t[103]=Ws):Ws=t[103];let Es;return t[104]!==nn||t[105]!==rs||t[106]!==ui||t[107]!==Ws?(Es=I.jsxs("div",{className:Vn,style:nn,children:[rs,ui,Ws]}),t[104]=nn,t[105]=rs,t[106]=ui,t[107]=Ws,t[108]=Es):Es=t[108],Es}function D9(t){return t.length*7+20}function B9(t){return t.channelType==="image_collection"}function V9(t){return t.nFrames===1}function F9(t){return t.sourceType==="panorama"}function L9(t){return t.channelType==="video"||t.channelType==="mediabunny_video"||t.channelType==="livestream"}function Z9(t,e){const n=t.nFrames,r=t.endEpochTimeMillis-t.startEpochTimeMillis,i=Wu(r),a=t.sourceType!=="unknown"?t.sourceType.charAt(0).toUpperCase()+t.sourceType.slice(1):null;return n===1?a?`${a} (1 frame)`:"(1 frame)":e==="short"?a?`${a}: ${i}`:i:a?`${a}: ${i} (${n} frames)`:`${i} (${n} frames)`}function z9(t){return t.sourceType==="panorama"?rT:t.channelType==="livestream"?Lg:t.channelType==="image_collection"?t.nFrames===1?RY:Bv:Lg}function $9(t){return P9[t]||"?"}function K9(t){return t.sourceType}function j9(t){const e=["border-neutral-400/60","border-neutral-500/60","border-neutral-600/60","border-neutral-500/60"];return e[t%e.length]}function H9(t){const e=["bg-neutral-300/40","bg-neutral-400/40","bg-neutral-500/40","bg-neutral-400/40"];return e[t%e.length]}function G9(t){return t.endEpochTimeMillis}function q9(t){return t.startEpochTimeMillis}function Q9(t){return t.startEpochTimeMillis>0&&!isNaN(t.startEpochTimeMillis)&&t.endEpochTimeMillis>0&&!isNaN(t.endEpochTimeMillis)}function J9(t){const e=Tt.c(32),{tracksWithLanes:n,chunkStartMs:r,chunkDurationMs:i,overlayTotalWidth:a,barPadding:o,laneHeight:c,scrollY:u}=t,f=Qt(z_),p=kn(IT),h=m0();let m;if(e[0]!==n){m=new Map;for(const{track:P,lane:C}of n)m.set(P.channelId,C);e[0]=n,e[1]=m}else m=e[1];const y=m;let _;e[2]!==n?(_=new Set(n.map(ez)),e[2]=n,e[3]=_):_=e[3];const v=_;let S;if(e[4]!==f||e[5]!==y||e[6]!==i||e[7]!==r||e[8]!==v||e[9]!==a||e[10]!==h){let P;e[12]!==y||e[13]!==i||e[14]!==r||e[15]!==v||e[16]!==a||e[17]!==h?(P=C=>{if(!v.has(C.channelId))return null;const W=y.get(C.channelId);if(W===void 0)return null;const w=h.get(yn(C.channelId));if(!w)return null;const M=(w.timeStartEpochUs+C.timestampChannelUs)/1e3;if(M<r||M>r+i)return null;const D=i>0?(M-r)/i*a:0;return{bookmark:C,xPosition:D,lane:W}},e[12]=y,e[13]=i,e[14]=r,e[15]=v,e[16]=a,e[17]=h,e[18]=P):P=e[18],S=f.map(P).filter(Boolean),e[4]=f,e[5]=y,e[6]=i,e[7]=r,e[8]=v,e[9]=a,e[10]=h,e[11]=S}else S=e[11];const Y=S;if(Y.length===0)return null;let T;if(e[19]!==o||e[20]!==Y||e[21]!==c||e[22]!==p||e[23]!==u){let P;e[25]!==o||e[26]!==c||e[27]!==p||e[28]!==u?(P=C=>{const{bookmark:W,xPosition:w,lane:k}=C;return I.jsxs(M_,{children:[I.jsx(O_,{asChild:!0,children:I.jsx("div",{className:"absolute cursor-pointer z-20",style:{left:`${o+w}px`,top:`${k*c+2-u}px`,height:`${c-4}px`,width:3,marginLeft:-1,background:"repeating-linear-gradient(to bottom, black 0px, black 2px, white 2px, white 4px)"},onClick:M=>{M.stopPropagation(),p(W.id)},children:I.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-neutral-200 dark:bg-neutral-700 border border-neutral-500 rounded-sm flex items-center justify-center",children:I.jsx(T_,{className:"w-2 h-2 text-neutral-600 dark:text-neutral-300",strokeWidth:2})})})}),I.jsx(N_,{side:"top",sideOffset:4,className:"z-[10001]",children:W.name})]},W.id)},e[25]=o,e[26]=c,e[27]=p,e[28]=u,e[29]=P):P=e[29],T=Y.map(P),e[19]=o,e[20]=Y,e[21]=c,e[22]=p,e[23]=u,e[24]=T}else T=e[24];let A;return e[30]!==T?(A=I.jsx(I.Fragment,{children:T}),e[30]=T,e[31]=A):A=e[31],A}function ez(t){return t.track.channelId}function tz(t){const e=Tt.c(18),{viewStart:n,viewDurationMs:r,timelineWidth:i}=t,a=Qt(z_),o=kn(IT),c=m0();let u;if(e[0]!==a||e[1]!==c||e[2]!==i||e[3]!==r||e[4]!==n){let m;e[6]!==c||e[7]!==i||e[8]!==r||e[9]!==n?(m=y=>{const _=c.get(yn(y.channelId));if(!_)return null;const S=(_.timeStartEpochUs+y.timestampChannelUs)/1e3;if(S<n||S>n+r)return null;const Y=r>0?16+(S-n)/r*i:16;return{bookmark:y,position:Y}},e[6]=c,e[7]=i,e[8]=r,e[9]=n,e[10]=m):m=e[10],u=a.map(m).filter(Boolean),e[0]=a,e[1]=c,e[2]=i,e[3]=r,e[4]=n,e[5]=u}else u=e[5];const f=u;if(f.length===0)return null;let p;if(e[11]!==f||e[12]!==o){let m;e[14]!==o?(m=y=>{const{bookmark:_,position:v}=y;return I.jsxs(M_,{children:[I.jsx(O_,{asChild:!0,children:I.jsx("div",{className:"absolute cursor-pointer z-20 group",style:{left:`${v}px`,top:4,bottom:4,width:3,marginLeft:-1,background:"repeating-linear-gradient(to bottom, black 0px, black 3px, white 3px, white 6px)"},onClick:()=>o(_.id),children:I.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-neutral-200 dark:bg-neutral-700 border border-neutral-500 rounded-sm flex items-center justify-center",children:I.jsx(T_,{className:"w-2.5 h-2.5 text-neutral-600 dark:text-neutral-300",strokeWidth:2})})})}),I.jsx(N_,{side:"top",sideOffset:4,className:"z-[10001]",children:_.name})]},_.id)},e[14]=o,e[15]=m):m=e[15],p=f.map(m),e[11]=f,e[12]=o,e[13]=p}else p=e[13];let h;return e[16]!==p?(h=I.jsx(I.Fragment,{children:p}),e[16]=p,e[17]=h):h=e[17],h}function nz(t,e){const{channelId:n,selectionSource:r}=Qt(wn),i=z.useRef(n),a=z.useCallback(e,[e]);z.useEffect(()=>{n&&n!==i.current&&r!==t&&a(n),i.current=n},[n,r,t,a])}var Oy={},cv={exports:{}},rz=cv.exports,nU;function iz(){return nU||(nU=1,(function(t){(function(e){n(Math.pow(36,5)),n(Math.pow(16,7)),n(Math.pow(10,9)),n(Math.pow(2,30)),n(36),n(16),n(10),n(2);function n(o,c){if(!(this instanceof n))return new n(o,c);if(this._low=0,this._high=0,this.remainder=null,typeof c>"u")return i.call(this,o);if(typeof o=="string")return a.call(this,o,c);r.call(this,o,c)}function r(o,c){return this._low=o|0,this._high=c|0,this}n.prototype.fromBits=r;function i(o){return this._low=o&65535,this._high=o>>>16,this}n.prototype.fromNumber=i;function a(o,c){var u=parseInt(o,c||10);return this._low=u&65535,this._high=u>>>16,this}n.prototype.fromString=a,n.prototype.toNumber=function(){return this._high*65536+this._low},n.prototype.toString=function(o){return this.toNumber().toString(o||10)},n.prototype.add=function(o){var c=this._low+o._low,u=c>>>16;return u+=this._high+o._high,this._low=c&65535,this._high=u&65535,this},n.prototype.subtract=function(o){return this.add(o.clone().negate())},n.prototype.multiply=function(o){var c=this._high,u=this._low,f=o._high,p=o._low,h,m;return m=u*p,h=m>>>16,h+=c*p,h&=65535,h+=u*f,this._low=m&65535,this._high=h&65535,this},n.prototype.div=function(o){if(o._low==0&&o._high==0)throw Error("division by zero");if(o._high==0&&o._low==1)return this.remainder=new n(0),this;if(o.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(o))return this.remainder=new n(0),this._low=1,this._high=0,this;for(var c=o.clone(),u=-1;!this.lt(c);)c.shiftLeft(1,!0),u++;for(this.remainder=this.clone(),this._low=0,this._high=0;u>=0;u--)c.shiftRight(1),this.remainder.lt(c)||(this.remainder.subtract(c),u>=16?this._high|=1<<u-16:this._low|=1<<u);return this},n.prototype.negate=function(){var o=(~this._low&65535)+1;return this._low=o&65535,this._high=~this._high+(o>>>16)&65535,this},n.prototype.equals=n.prototype.eq=function(o){return this._low==o._low&&this._high==o._high},n.prototype.greaterThan=n.prototype.gt=function(o){return this._high>o._high?!0:this._high<o._high?!1:this._low>o._low},n.prototype.lessThan=n.prototype.lt=function(o){return this._high<o._high?!0:this._high>o._high?!1:this._low<o._low},n.prototype.or=function(o){return this._low|=o._low,this._high|=o._high,this},n.prototype.and=function(o){return this._low&=o._low,this._high&=o._high,this},n.prototype.not=function(){return this._low=~this._low&65535,this._high=~this._high&65535,this},n.prototype.xor=function(o){return this._low^=o._low,this._high^=o._high,this},n.prototype.shiftRight=n.prototype.shiftr=function(o){return o>16?(this._low=this._high>>o-16,this._high=0):o==16?(this._low=this._high,this._high=0):(this._low=this._low>>o|this._high<<16-o&65535,this._high>>=o),this},n.prototype.shiftLeft=n.prototype.shiftl=function(o,c){return o>16?(this._high=this._low<<o-16,this._low=0,c||(this._high&=65535)):o==16?(this._high=this._low,this._low=0):(this._high=this._high<<o|this._low>>16-o,this._low=this._low<<o&65535,c||(this._high&=65535)),this},n.prototype.rotateLeft=n.prototype.rotl=function(o){var c=this._high<<16|this._low;return c=c<<o|c>>>32-o,this._low=c&65535,this._high=c>>>16,this},n.prototype.rotateRight=n.prototype.rotr=function(o){var c=this._high<<16|this._low;return c=c>>>o|c<<32-o,this._low=c&65535,this._high=c>>>16,this},n.prototype.clone=function(){return new n(this._low,this._high)},t.exports?t.exports=n:e.UINT32=n})(rz)})(cv)),cv.exports}var uv={exports:{}},sz=uv.exports,rU;function az(){return rU||(rU=1,(function(t){(function(e){var n={16:i(Math.pow(16,5)),10:i(Math.pow(10,5)),2:i(Math.pow(2,5))},r={16:i(16),10:i(10),2:i(2)};function i(u,f,p,h){if(!(this instanceof i))return new i(u,f,p,h);if(this.remainder=null,typeof u=="string")return c.call(this,u,f);if(typeof f>"u")return o.call(this,u);a.apply(this,arguments)}function a(u,f,p,h){return typeof p>"u"?(this._a00=u&65535,this._a16=u>>>16,this._a32=f&65535,this._a48=f>>>16,this):(this._a00=u|0,this._a16=f|0,this._a32=p|0,this._a48=h|0,this)}i.prototype.fromBits=a;function o(u){return this._a00=u&65535,this._a16=u>>>16,this._a32=0,this._a48=0,this}i.prototype.fromNumber=o;function c(u,f){f=f||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var p=n[f]||new i(Math.pow(f,5)),h=0,m=u.length;h<m;h+=5){var y=Math.min(5,m-h),_=parseInt(u.slice(h,h+y),f);this.multiply(y<5?new i(Math.pow(f,y)):p).add(new i(_))}return this}i.prototype.fromString=c,i.prototype.toNumber=function(){return this._a16*65536+this._a00},i.prototype.toString=function(u){u=u||10;var f=r[u]||new i(u);if(!this.gt(f))return this.toNumber().toString(u);for(var p=this.clone(),h=new Array(64),m=63;m>=0&&(p.div(f),h[m]=p.remainder.toNumber().toString(u),!!p.gt(f));m--);return h[m-1]=p.toNumber().toString(u),h.join("")},i.prototype.add=function(u){var f=this._a00+u._a00,p=f>>>16;p+=this._a16+u._a16;var h=p>>>16;h+=this._a32+u._a32;var m=h>>>16;return m+=this._a48+u._a48,this._a00=f&65535,this._a16=p&65535,this._a32=h&65535,this._a48=m&65535,this},i.prototype.subtract=function(u){return this.add(u.clone().negate())},i.prototype.multiply=function(u){var f=this._a00,p=this._a16,h=this._a32,m=this._a48,y=u._a00,_=u._a16,v=u._a32,S=u._a48,Y=f*y,T=Y>>>16;T+=f*_;var A=T>>>16;T&=65535,T+=p*y,A+=T>>>16,A+=f*v;var P=A>>>16;return A&=65535,A+=p*_,P+=A>>>16,A&=65535,A+=h*y,P+=A>>>16,P+=f*S,P&=65535,P+=p*v,P&=65535,P+=h*_,P&=65535,P+=m*y,this._a00=Y&65535,this._a16=T&65535,this._a32=A&65535,this._a48=P&65535,this},i.prototype.div=function(u){if(u._a16==0&&u._a32==0&&u._a48==0){if(u._a00==0)throw Error("division by zero");if(u._a00==1)return this.remainder=new i(0),this}if(u.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(u))return this.remainder=new i(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var f=u.clone(),p=-1;!this.lt(f);)f.shiftLeft(1,!0),p++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;p>=0;p--)f.shiftRight(1),this.remainder.lt(f)||(this.remainder.subtract(f),p>=48?this._a48|=1<<p-48:p>=32?this._a32|=1<<p-32:p>=16?this._a16|=1<<p-16:this._a00|=1<<p);return this},i.prototype.negate=function(){var u=(~this._a00&65535)+1;return this._a00=u&65535,u=(~this._a16&65535)+(u>>>16),this._a16=u&65535,u=(~this._a32&65535)+(u>>>16),this._a32=u&65535,this._a48=~this._a48+(u>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(u){return this._a48==u._a48&&this._a00==u._a00&&this._a32==u._a32&&this._a16==u._a16},i.prototype.greaterThan=i.prototype.gt=function(u){return this._a48>u._a48?!0:this._a48<u._a48?!1:this._a32>u._a32?!0:this._a32<u._a32?!1:this._a16>u._a16?!0:this._a16<u._a16?!1:this._a00>u._a00},i.prototype.lessThan=i.prototype.lt=function(u){return this._a48<u._a48?!0:this._a48>u._a48?!1:this._a32<u._a32?!0:this._a32>u._a32?!1:this._a16<u._a16?!0:this._a16>u._a16?!1:this._a00<u._a00},i.prototype.or=function(u){return this._a00|=u._a00,this._a16|=u._a16,this._a32|=u._a32,this._a48|=u._a48,this},i.prototype.and=function(u){return this._a00&=u._a00,this._a16&=u._a16,this._a32&=u._a32,this._a48&=u._a48,this},i.prototype.xor=function(u){return this._a00^=u._a00,this._a16^=u._a16,this._a32^=u._a32,this._a48^=u._a48,this},i.prototype.not=function(){return this._a00=~this._a00&65535,this._a16=~this._a16&65535,this._a32=~this._a32&65535,this._a48=~this._a48&65535,this},i.prototype.shiftRight=i.prototype.shiftr=function(u){return u%=64,u>=48?(this._a00=this._a48>>u-48,this._a16=0,this._a32=0,this._a48=0):u>=32?(u-=32,this._a00=(this._a32>>u|this._a48<<16-u)&65535,this._a16=this._a48>>u&65535,this._a32=0,this._a48=0):u>=16?(u-=16,this._a00=(this._a16>>u|this._a32<<16-u)&65535,this._a16=(this._a32>>u|this._a48<<16-u)&65535,this._a32=this._a48>>u&65535,this._a48=0):(this._a00=(this._a00>>u|this._a16<<16-u)&65535,this._a16=(this._a16>>u|this._a32<<16-u)&65535,this._a32=(this._a32>>u|this._a48<<16-u)&65535,this._a48=this._a48>>u&65535),this},i.prototype.shiftLeft=i.prototype.shiftl=function(u,f){return u%=64,u>=48?(this._a48=this._a00<<u-48,this._a32=0,this._a16=0,this._a00=0):u>=32?(u-=32,this._a48=this._a16<<u|this._a00>>16-u,this._a32=this._a00<<u&65535,this._a16=0,this._a00=0):u>=16?(u-=16,this._a48=this._a32<<u|this._a16>>16-u,this._a32=(this._a16<<u|this._a00>>16-u)&65535,this._a16=this._a00<<u&65535,this._a00=0):(this._a48=this._a48<<u|this._a32>>16-u,this._a32=(this._a32<<u|this._a16>>16-u)&65535,this._a16=(this._a16<<u|this._a00>>16-u)&65535,this._a00=this._a00<<u&65535),f||(this._a48&=65535),this},i.prototype.rotateLeft=i.prototype.rotl=function(u){if(u%=64,u==0)return this;if(u>=32){var f=this._a00;if(this._a00=this._a32,this._a32=f,f=this._a48,this._a48=this._a16,this._a16=f,u==32)return this;u-=32}var p=this._a48<<16|this._a32,h=this._a16<<16|this._a00,m=p<<u|h>>>32-u,y=h<<u|p>>>32-u;return this._a00=y&65535,this._a16=y>>>16,this._a32=m&65535,this._a48=m>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(u){if(u%=64,u==0)return this;if(u>=32){var f=this._a00;if(this._a00=this._a32,this._a32=f,f=this._a48,this._a48=this._a16,this._a16=f,u==32)return this;u-=32}var p=this._a48<<16|this._a32,h=this._a16<<16|this._a00,m=p>>>u|h<<32-u,y=h>>>u|p<<32-u;return this._a00=y&65535,this._a16=y>>>16,this._a32=m&65535,this._a48=m>>>16,this},i.prototype.clone=function(){return new i(this._a00,this._a16,this._a32,this._a48)},t.exports?t.exports=i:e.UINT64=i})(sz)})(uv)),uv.exports}var iU;function u6(){return iU||(iU=1,Oy.UINT32=iz(),Oy.UINT64=az()),Oy}var Db,sU;function oz(){if(sU)return Db;sU=1;var t=u6().UINT32;t.prototype.xxh_update=function(f,p){var h=n._low,m=n._high,y,_;_=f*h,y=_>>>16,y+=p*h,y&=65535,y+=f*m;var v=this._low+(_&65535),S=v>>>16;S+=this._high+(y&65535);var Y=S<<16|v&65535;Y=Y<<13|Y>>>19,v=Y&65535,S=Y>>>16,h=e._low,m=e._high,_=v*h,y=_>>>16,y+=S*h,y&=65535,y+=v*m,this._low=_&65535,this._high=y&65535};var e=t("2654435761"),n=t("2246822519"),r=t("3266489917"),i=t("668265263"),a=t("374761393");function o(f){for(var p=[],h=0,m=f.length;h<m;h++){var y=f.charCodeAt(h);y<128?p.push(y):y<2048?p.push(192|y>>6,128|y&63):y<55296||y>=57344?p.push(224|y>>12,128|y>>6&63,128|y&63):(h++,y=65536+((y&1023)<<10|f.charCodeAt(h)&1023),p.push(240|y>>18,128|y>>12&63,128|y>>6&63,128|y&63))}return new Uint8Array(p)}function c(){if(arguments.length==2)return new c(arguments[1]).update(arguments[0]).digest();if(!(this instanceof c))return new c(arguments[0]);u.call(this,arguments[0])}function u(f){return this.seed=f instanceof t?f.clone():t(f),this.v1=this.seed.clone().add(e).add(n),this.v2=this.seed.clone().add(n),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(e),this.total_len=0,this.memsize=0,this.memory=null,this}return c.prototype.init=u,c.prototype.update=function(f){var p=typeof f=="string",h;p&&(f=o(f),p=!1,h=!0),typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer&&(h=!0,f=new Uint8Array(f));var m=0,y=f.length,_=m+y;if(y==0)return this;if(this.total_len+=y,this.memsize==0&&(p?this.memory="":h?this.memory=new Uint8Array(16):this.memory=new Buffer(16)),this.memsize+y<16)return p?this.memory+=f:h?this.memory.set(f.subarray(0,y),this.memsize):f.copy(this.memory,this.memsize,0,y),this.memsize+=y,this;if(this.memsize>0){p?this.memory+=f.slice(0,16-this.memsize):h?this.memory.set(f.subarray(0,16-this.memsize),this.memsize):f.copy(this.memory,this.memsize,0,16-this.memsize);var v=0;p?(this.v1.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v2.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v3.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2)),v+=4,this.v4.xxh_update(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2))):(this.v1.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v2.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v3.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2]),v+=4,this.v4.xxh_update(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2])),m+=16-this.memsize,this.memsize=0,p&&(this.memory="")}if(m<=_-16){var S=_-16;do p?(this.v1.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v2.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v3.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2)),m+=4,this.v4.xxh_update(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2))):(this.v1.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v2.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v3.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2]),m+=4,this.v4.xxh_update(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2])),m+=4;while(m<=S)}return m<_&&(p?this.memory+=f.slice(m):h?this.memory.set(f.subarray(m,_),this.memsize):f.copy(this.memory,this.memsize,m,_),this.memsize=_-m),this},c.prototype.digest=function(){var f=this.memory,p=typeof f=="string",h=0,m=this.memsize,y,_,v=new t;for(this.total_len>=16?y=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):y=this.seed.clone().add(a),y.add(v.fromNumber(this.total_len));h<=m-4;)p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2)):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2]),y.add(v.multiply(r)).rotl(17).multiply(i),h+=4;for(;h<m;)v.fromBits(p?f.charCodeAt(h++):f[h++],0),y.add(v.multiply(a)).rotl(11).multiply(e);return _=y.clone().shiftRight(15),y.xor(_).multiply(n),_=y.clone().shiftRight(13),y.xor(_).multiply(r),_=y.clone().shiftRight(16),y.xor(_),this.init(this.seed),y},Db=c,Db}var Bb,aU;function lz(){if(aU)return Bb;aU=1;var t=u6().UINT64,e=t("11400714785074694791"),n=t("14029467366897019727"),r=t("1609587929392839161"),i=t("9650029242287828579"),a=t("2870177450012600261");function o(f){for(var p=[],h=0,m=f.length;h<m;h++){var y=f.charCodeAt(h);y<128?p.push(y):y<2048?p.push(192|y>>6,128|y&63):y<55296||y>=57344?p.push(224|y>>12,128|y>>6&63,128|y&63):(h++,y=65536+((y&1023)<<10|f.charCodeAt(h)&1023),p.push(240|y>>18,128|y>>12&63,128|y>>6&63,128|y&63))}return new Uint8Array(p)}function c(){if(arguments.length==2)return new c(arguments[1]).update(arguments[0]).digest();if(!(this instanceof c))return new c(arguments[0]);u.call(this,arguments[0])}function u(f){return this.seed=f instanceof t?f.clone():t(f),this.v1=this.seed.clone().add(e).add(n),this.v2=this.seed.clone().add(n),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(e),this.total_len=0,this.memsize=0,this.memory=null,this}return c.prototype.init=u,c.prototype.update=function(f){var p=typeof f=="string",h;p&&(f=o(f),p=!1,h=!0),typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer&&(h=!0,f=new Uint8Array(f));var m=0,y=f.length,_=m+y;if(y==0)return this;if(this.total_len+=y,this.memsize==0&&(p?this.memory="":h?this.memory=new Uint8Array(32):this.memory=new Buffer(32)),this.memsize+y<32)return p?this.memory+=f:h?this.memory.set(f.subarray(0,y),this.memsize):f.copy(this.memory,this.memsize,0,y),this.memsize+=y,this;if(this.memsize>0){p?this.memory+=f.slice(0,32-this.memsize):h?this.memory.set(f.subarray(0,32-this.memsize),this.memsize):f.copy(this.memory,this.memsize,0,32-this.memsize);var v=0;if(p){var S;S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v1.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v2.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v3.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory.charCodeAt(v+1)<<8|this.memory.charCodeAt(v),this.memory.charCodeAt(v+3)<<8|this.memory.charCodeAt(v+2),this.memory.charCodeAt(v+5)<<8|this.memory.charCodeAt(v+4),this.memory.charCodeAt(v+7)<<8|this.memory.charCodeAt(v+6)),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}else{var S;S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v1.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v2.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v3.add(S.multiply(n)).rotl(31).multiply(e),v+=8,S=t(this.memory[v+1]<<8|this.memory[v],this.memory[v+3]<<8|this.memory[v+2],this.memory[v+5]<<8|this.memory[v+4],this.memory[v+7]<<8|this.memory[v+6]),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}m+=32-this.memsize,this.memsize=0,p&&(this.memory="")}if(m<=_-32){var Y=_-32;do{if(p){var S;S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v1.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v2.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v3.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f.charCodeAt(m+1)<<8|f.charCodeAt(m),f.charCodeAt(m+3)<<8|f.charCodeAt(m+2),f.charCodeAt(m+5)<<8|f.charCodeAt(m+4),f.charCodeAt(m+7)<<8|f.charCodeAt(m+6)),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}else{var S;S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v1.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v2.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v3.add(S.multiply(n)).rotl(31).multiply(e),m+=8,S=t(f[m+1]<<8|f[m],f[m+3]<<8|f[m+2],f[m+5]<<8|f[m+4],f[m+7]<<8|f[m+6]),this.v4.add(S.multiply(n)).rotl(31).multiply(e)}m+=8}while(m<=Y)}return m<_&&(p?this.memory+=f.slice(m):h?this.memory.set(f.subarray(m,_),this.memsize):f.copy(this.memory,this.memsize,m,_),this.memsize=_-m),this},c.prototype.digest=function(){var f=this.memory,p=typeof f=="string",h=0,m=this.memsize,y,_,v=new t;for(this.total_len>=32?(y=this.v1.clone().rotl(1),y.add(this.v2.clone().rotl(7)),y.add(this.v3.clone().rotl(12)),y.add(this.v4.clone().rotl(18)),y.xor(this.v1.multiply(n).rotl(31).multiply(e)),y.multiply(e).add(i),y.xor(this.v2.multiply(n).rotl(31).multiply(e)),y.multiply(e).add(i),y.xor(this.v3.multiply(n).rotl(31).multiply(e)),y.multiply(e).add(i),y.xor(this.v4.multiply(n).rotl(31).multiply(e)),y.multiply(e).add(i)):y=this.seed.clone().add(a),y.add(v.fromNumber(this.total_len));h<=m-8;)p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2),f.charCodeAt(h+5)<<8|f.charCodeAt(h+4),f.charCodeAt(h+7)<<8|f.charCodeAt(h+6)):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2],f[h+5]<<8|f[h+4],f[h+7]<<8|f[h+6]),v.multiply(n).rotl(31).multiply(e),y.xor(v).rotl(27).multiply(e).add(i),h+=8;for(h+4<=m&&(p?v.fromBits(f.charCodeAt(h+1)<<8|f.charCodeAt(h),f.charCodeAt(h+3)<<8|f.charCodeAt(h+2),0,0):v.fromBits(f[h+1]<<8|f[h],f[h+3]<<8|f[h+2],0,0),y.xor(v.multiply(e)).rotl(23).multiply(n).add(r),h+=4);h<m;)v.fromBits(p?f.charCodeAt(h++):f[h++],0,0,0),y.xor(v.multiply(a)).rotl(11).multiply(e);return _=y.clone().shiftRight(33),y.xor(_).multiply(n),_=y.clone().shiftRight(29),y.xor(_).multiply(r),_=y.clone().shiftRight(32),y.xor(_),this.init(this.seed),y},Bb=c,Bb}var Vb,oU;function cz(){return oU||(oU=1,Vb={h32:oz(),h64:lz()}),Vb}var uz=cz();const fz=xo(uz);function bg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fb={exports:{}},Lb={},lU;function kl(){return lU||(lU=1,(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)n(c,u)&&(a[u]=c[u])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var r={arraySet:function(a,o,c,u,f){if(o.subarray&&a.subarray){a.set(o.subarray(c,c+u),f);return}for(var p=0;p<u;p++)a[f+p]=o[c+p]},flattenChunks:function(a){var o,c,u,f,p,h;for(u=0,o=0,c=a.length;o<c;o++)u+=a[o].length;for(h=new Uint8Array(u),f=0,o=0,c=a.length;o<c;o++)p=a[o],h.set(p,f),f+=p.length;return h}},i={arraySet:function(a,o,c,u,f){for(var p=0;p<u;p++)a[f+p]=o[c+p]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(Lb)),Lb}var du={},ta={},tc={},cU;function dz(){if(cU)return tc;cU=1;var t=kl(),e=4,n=0,r=1,i=2;function a(ae){for(var tt=ae.length;--tt>=0;)ae[tt]=0}var o=0,c=1,u=2,f=3,p=258,h=29,m=256,y=m+1+h,_=30,v=19,S=2*y+1,Y=15,T=16,A=7,P=256,C=16,W=17,w=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,V=new Array((y+2)*2);a(V);var X=new Array(_*2);a(X);var j=new Array(O);a(j);var $=new Array(p-f+1);a($);var q=new Array(h);a(q);var G=new Array(_);a(G);function Q(ae,tt,Oe,it,_e){this.static_tree=ae,this.extra_bits=tt,this.extra_base=Oe,this.elems=it,this.max_length=_e,this.has_stree=ae&&ae.length}var ue,K,ee;function fe(ae,tt){this.dyn_tree=ae,this.max_code=0,this.stat_desc=tt}function te(ae){return ae<256?j[ae]:j[256+(ae>>>7)]}function ie(ae,tt){ae.pending_buf[ae.pending++]=tt&255,ae.pending_buf[ae.pending++]=tt>>>8&255}function le(ae,tt,Oe){ae.bi_valid>T-Oe?(ae.bi_buf|=tt<<ae.bi_valid&65535,ie(ae,ae.bi_buf),ae.bi_buf=tt>>T-ae.bi_valid,ae.bi_valid+=Oe-T):(ae.bi_buf|=tt<<ae.bi_valid&65535,ae.bi_valid+=Oe)}function he(ae,tt,Oe){le(ae,Oe[tt*2],Oe[tt*2+1])}function me(ae,tt){var Oe=0;do Oe|=ae&1,ae>>>=1,Oe<<=1;while(--tt>0);return Oe>>>1}function Se(ae){ae.bi_valid===16?(ie(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):ae.bi_valid>=8&&(ae.pending_buf[ae.pending++]=ae.bi_buf&255,ae.bi_buf>>=8,ae.bi_valid-=8)}function Je(ae,tt){var Oe=tt.dyn_tree,it=tt.max_code,_e=tt.stat_desc.static_tree,be=tt.stat_desc.has_stree,J=tt.stat_desc.extra_bits,Qe=tt.stat_desc.extra_base,mt=tt.stat_desc.max_length,R,Ve,Ke,re,ye,Pe,wt=0;for(re=0;re<=Y;re++)ae.bl_count[re]=0;for(Oe[ae.heap[ae.heap_max]*2+1]=0,R=ae.heap_max+1;R<S;R++)Ve=ae.heap[R],re=Oe[Oe[Ve*2+1]*2+1]+1,re>mt&&(re=mt,wt++),Oe[Ve*2+1]=re,!(Ve>it)&&(ae.bl_count[re]++,ye=0,Ve>=Qe&&(ye=J[Ve-Qe]),Pe=Oe[Ve*2],ae.opt_len+=Pe*(re+ye),be&&(ae.static_len+=Pe*(_e[Ve*2+1]+ye)));if(wt!==0){do{for(re=mt-1;ae.bl_count[re]===0;)re--;ae.bl_count[re]--,ae.bl_count[re+1]+=2,ae.bl_count[mt]--,wt-=2}while(wt>0);for(re=mt;re!==0;re--)for(Ve=ae.bl_count[re];Ve!==0;)Ke=ae.heap[--R],!(Ke>it)&&(Oe[Ke*2+1]!==re&&(ae.opt_len+=(re-Oe[Ke*2+1])*Oe[Ke*2],Oe[Ke*2+1]=re),Ve--)}}function $e(ae,tt,Oe){var it=new Array(Y+1),_e=0,be,J;for(be=1;be<=Y;be++)it[be]=_e=_e+Oe[be-1]<<1;for(J=0;J<=tt;J++){var Qe=ae[J*2+1];Qe!==0&&(ae[J*2]=me(it[Qe]++,Qe))}}function We(){var ae,tt,Oe,it,_e,be=new Array(Y+1);for(Oe=0,it=0;it<h-1;it++)for(q[it]=Oe,ae=0;ae<1<<k[it];ae++)$[Oe++]=it;for($[Oe-1]=it,_e=0,it=0;it<16;it++)for(G[it]=_e,ae=0;ae<1<<M[it];ae++)j[_e++]=it;for(_e>>=7;it<_;it++)for(G[it]=_e<<7,ae=0;ae<1<<M[it]-7;ae++)j[256+_e++]=it;for(tt=0;tt<=Y;tt++)be[tt]=0;for(ae=0;ae<=143;)V[ae*2+1]=8,ae++,be[8]++;for(;ae<=255;)V[ae*2+1]=9,ae++,be[9]++;for(;ae<=279;)V[ae*2+1]=7,ae++,be[7]++;for(;ae<=287;)V[ae*2+1]=8,ae++,be[8]++;for($e(V,y+1,be),ae=0;ae<_;ae++)X[ae*2+1]=5,X[ae*2]=me(ae,5);ue=new Q(V,k,m+1,y,Y),K=new Q(X,M,0,_,Y),ee=new Q(new Array(0),D,0,v,A)}function Ze(ae){var tt;for(tt=0;tt<y;tt++)ae.dyn_ltree[tt*2]=0;for(tt=0;tt<_;tt++)ae.dyn_dtree[tt*2]=0;for(tt=0;tt<v;tt++)ae.bl_tree[tt*2]=0;ae.dyn_ltree[P*2]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function F(ae){ae.bi_valid>8?ie(ae,ae.bi_buf):ae.bi_valid>0&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function ke(ae,tt,Oe,it){F(ae),ie(ae,Oe),ie(ae,~Oe),t.arraySet(ae.pending_buf,ae.window,tt,Oe,ae.pending),ae.pending+=Oe}function Ye(ae,tt,Oe,it){var _e=tt*2,be=Oe*2;return ae[_e]<ae[be]||ae[_e]===ae[be]&&it[tt]<=it[Oe]}function ce(ae,tt,Oe){for(var it=ae.heap[Oe],_e=Oe<<1;_e<=ae.heap_len&&(_e<ae.heap_len&&Ye(tt,ae.heap[_e+1],ae.heap[_e],ae.depth)&&_e++,!Ye(tt,it,ae.heap[_e],ae.depth));)ae.heap[Oe]=ae.heap[_e],Oe=_e,_e<<=1;ae.heap[Oe]=it}function se(ae,tt,Oe){var it,_e,be=0,J,Qe;if(ae.last_lit!==0)do it=ae.pending_buf[ae.d_buf+be*2]<<8|ae.pending_buf[ae.d_buf+be*2+1],_e=ae.pending_buf[ae.l_buf+be],be++,it===0?he(ae,_e,tt):(J=$[_e],he(ae,J+m+1,tt),Qe=k[J],Qe!==0&&(_e-=q[J],le(ae,_e,Qe)),it--,J=te(it),he(ae,J,Oe),Qe=M[J],Qe!==0&&(it-=G[J],le(ae,it,Qe)));while(be<ae.last_lit);he(ae,P,tt)}function pe(ae,tt){var Oe=tt.dyn_tree,it=tt.stat_desc.static_tree,_e=tt.stat_desc.has_stree,be=tt.stat_desc.elems,J,Qe,mt=-1,R;for(ae.heap_len=0,ae.heap_max=S,J=0;J<be;J++)Oe[J*2]!==0?(ae.heap[++ae.heap_len]=mt=J,ae.depth[J]=0):Oe[J*2+1]=0;for(;ae.heap_len<2;)R=ae.heap[++ae.heap_len]=mt<2?++mt:0,Oe[R*2]=1,ae.depth[R]=0,ae.opt_len--,_e&&(ae.static_len-=it[R*2+1]);for(tt.max_code=mt,J=ae.heap_len>>1;J>=1;J--)ce(ae,Oe,J);R=be;do J=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],ce(ae,Oe,1),Qe=ae.heap[1],ae.heap[--ae.heap_max]=J,ae.heap[--ae.heap_max]=Qe,Oe[R*2]=Oe[J*2]+Oe[Qe*2],ae.depth[R]=(ae.depth[J]>=ae.depth[Qe]?ae.depth[J]:ae.depth[Qe])+1,Oe[J*2+1]=Oe[Qe*2+1]=R,ae.heap[1]=R++,ce(ae,Oe,1);while(ae.heap_len>=2);ae.heap[--ae.heap_max]=ae.heap[1],Je(ae,tt),$e(Oe,mt,ae.bl_count)}function Me(ae,tt,Oe){var it,_e=-1,be,J=tt[1],Qe=0,mt=7,R=4;for(J===0&&(mt=138,R=3),tt[(Oe+1)*2+1]=65535,it=0;it<=Oe;it++)be=J,J=tt[(it+1)*2+1],!(++Qe<mt&&be===J)&&(Qe<R?ae.bl_tree[be*2]+=Qe:be!==0?(be!==_e&&ae.bl_tree[be*2]++,ae.bl_tree[C*2]++):Qe<=10?ae.bl_tree[W*2]++:ae.bl_tree[w*2]++,Qe=0,_e=be,J===0?(mt=138,R=3):be===J?(mt=6,R=3):(mt=7,R=4))}function Ae(ae,tt,Oe){var it,_e=-1,be,J=tt[1],Qe=0,mt=7,R=4;for(J===0&&(mt=138,R=3),it=0;it<=Oe;it++)if(be=J,J=tt[(it+1)*2+1],!(++Qe<mt&&be===J)){if(Qe<R)do he(ae,be,ae.bl_tree);while(--Qe!==0);else be!==0?(be!==_e&&(he(ae,be,ae.bl_tree),Qe--),he(ae,C,ae.bl_tree),le(ae,Qe-3,2)):Qe<=10?(he(ae,W,ae.bl_tree),le(ae,Qe-3,3)):(he(ae,w,ae.bl_tree),le(ae,Qe-11,7));Qe=0,_e=be,J===0?(mt=138,R=3):be===J?(mt=6,R=3):(mt=7,R=4)}}function ge(ae){var tt;for(Me(ae,ae.dyn_ltree,ae.l_desc.max_code),Me(ae,ae.dyn_dtree,ae.d_desc.max_code),pe(ae,ae.bl_desc),tt=v-1;tt>=3&&ae.bl_tree[B[tt]*2+1]===0;tt--);return ae.opt_len+=3*(tt+1)+5+5+4,tt}function we(ae,tt,Oe,it){var _e;for(le(ae,tt-257,5),le(ae,Oe-1,5),le(ae,it-4,4),_e=0;_e<it;_e++)le(ae,ae.bl_tree[B[_e]*2+1],3);Ae(ae,ae.dyn_ltree,tt-1),Ae(ae,ae.dyn_dtree,Oe-1)}function et(ae){var tt=4093624447,Oe;for(Oe=0;Oe<=31;Oe++,tt>>>=1)if(tt&1&&ae.dyn_ltree[Oe*2]!==0)return n;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return r;for(Oe=32;Oe<m;Oe++)if(ae.dyn_ltree[Oe*2]!==0)return r;return n}var Le=!1;function nt(ae){Le||(We(),Le=!0),ae.l_desc=new fe(ae.dyn_ltree,ue),ae.d_desc=new fe(ae.dyn_dtree,K),ae.bl_desc=new fe(ae.bl_tree,ee),ae.bi_buf=0,ae.bi_valid=0,Ze(ae)}function Mt(ae,tt,Oe,it){le(ae,(o<<1)+(it?1:0),3),ke(ae,tt,Oe)}function ht(ae){le(ae,c<<1,3),he(ae,P,V),Se(ae)}function Vt(ae,tt,Oe,it){var _e,be,J=0;ae.level>0?(ae.strm.data_type===i&&(ae.strm.data_type=et(ae)),pe(ae,ae.l_desc),pe(ae,ae.d_desc),J=ge(ae),_e=ae.opt_len+3+7>>>3,be=ae.static_len+3+7>>>3,be<=_e&&(_e=be)):_e=be=Oe+5,Oe+4<=_e&&tt!==-1?Mt(ae,tt,Oe,it):ae.strategy===e||be===_e?(le(ae,(c<<1)+(it?1:0),3),se(ae,V,X)):(le(ae,(u<<1)+(it?1:0),3),we(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,J+1),se(ae,ae.dyn_ltree,ae.dyn_dtree)),Ze(ae),it&&F(ae)}function sn(ae,tt,Oe){return ae.pending_buf[ae.d_buf+ae.last_lit*2]=tt>>>8&255,ae.pending_buf[ae.d_buf+ae.last_lit*2+1]=tt&255,ae.pending_buf[ae.l_buf+ae.last_lit]=Oe&255,ae.last_lit++,tt===0?ae.dyn_ltree[Oe*2]++:(ae.matches++,tt--,ae.dyn_ltree[($[Oe]+m+1)*2]++,ae.dyn_dtree[te(tt)*2]++),ae.last_lit===ae.lit_bufsize-1}return tc._tr_init=nt,tc._tr_stored_block=Mt,tc._tr_flush_block=Vt,tc._tr_tally=sn,tc._tr_align=ht,tc}var Zb,uU;function f6(){if(uU)return Zb;uU=1;function t(e,n,r,i){for(var a=e&65535|0,o=e>>>16&65535|0,c=0;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+n[i++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0}return Zb=t,Zb}var zb,fU;function d6(){if(fU)return zb;fU=1;function t(){for(var r,i=[],a=0;a<256;a++){r=a;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;i[a]=r}return i}var e=t();function n(r,i,a,o){var c=e,u=o+a;r^=-1;for(var f=o;f<u;f++)r=r>>>8^c[(r^i[f])&255];return r^-1}return zb=n,zb}var $b,dU;function XT(){return dU||(dU=1,$b={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),$b}var hU;function hz(){if(hU)return ta;hU=1;var t=kl(),e=dz(),n=f6(),r=d6(),i=XT(),a=0,o=1,c=3,u=4,f=5,p=0,h=1,m=-2,y=-3,_=-5,v=-1,S=1,Y=2,T=3,A=4,P=0,C=2,W=8,w=9,k=15,M=8,D=29,B=256,O=B+1+D,V=30,X=19,j=2*O+1,$=15,q=3,G=258,Q=G+q+1,ue=32,K=42,ee=69,fe=73,te=91,ie=103,le=113,he=666,me=1,Se=2,Je=3,$e=4,We=3;function Ze(R,Ve){return R.msg=i[Ve],Ve}function F(R){return(R<<1)-(R>4?9:0)}function ke(R){for(var Ve=R.length;--Ve>=0;)R[Ve]=0}function Ye(R){var Ve=R.state,Ke=Ve.pending;Ke>R.avail_out&&(Ke=R.avail_out),Ke!==0&&(t.arraySet(R.output,Ve.pending_buf,Ve.pending_out,Ke,R.next_out),R.next_out+=Ke,Ve.pending_out+=Ke,R.total_out+=Ke,R.avail_out-=Ke,Ve.pending-=Ke,Ve.pending===0&&(Ve.pending_out=0))}function ce(R,Ve){e._tr_flush_block(R,R.block_start>=0?R.block_start:-1,R.strstart-R.block_start,Ve),R.block_start=R.strstart,Ye(R.strm)}function se(R,Ve){R.pending_buf[R.pending++]=Ve}function pe(R,Ve){R.pending_buf[R.pending++]=Ve>>>8&255,R.pending_buf[R.pending++]=Ve&255}function Me(R,Ve,Ke,re){var ye=R.avail_in;return ye>re&&(ye=re),ye===0?0:(R.avail_in-=ye,t.arraySet(Ve,R.input,R.next_in,ye,Ke),R.state.wrap===1?R.adler=n(R.adler,Ve,ye,Ke):R.state.wrap===2&&(R.adler=r(R.adler,Ve,ye,Ke)),R.next_in+=ye,R.total_in+=ye,ye)}function Ae(R,Ve){var Ke=R.max_chain_length,re=R.strstart,ye,Pe,wt=R.prev_length,ft=R.nice_match,_t=R.strstart>R.w_size-Q?R.strstart-(R.w_size-Q):0,kt=R.window,Wn=R.w_mask,hn=R.prev,At=R.strstart+G,Lt=kt[re+wt-1],Nn=kt[re+wt];R.prev_length>=R.good_match&&(Ke>>=2),ft>R.lookahead&&(ft=R.lookahead);do if(ye=Ve,!(kt[ye+wt]!==Nn||kt[ye+wt-1]!==Lt||kt[ye]!==kt[re]||kt[++ye]!==kt[re+1])){re+=2,ye++;do;while(kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&kt[++re]===kt[++ye]&&re<At);if(Pe=G-(At-re),re=At-G,Pe>wt){if(R.match_start=Ve,wt=Pe,Pe>=ft)break;Lt=kt[re+wt-1],Nn=kt[re+wt]}}while((Ve=hn[Ve&Wn])>_t&&--Ke!==0);return wt<=R.lookahead?wt:R.lookahead}function ge(R){var Ve=R.w_size,Ke,re,ye,Pe,wt;do{if(Pe=R.window_size-R.lookahead-R.strstart,R.strstart>=Ve+(Ve-Q)){t.arraySet(R.window,R.window,Ve,Ve,0),R.match_start-=Ve,R.strstart-=Ve,R.block_start-=Ve,re=R.hash_size,Ke=re;do ye=R.head[--Ke],R.head[Ke]=ye>=Ve?ye-Ve:0;while(--re);re=Ve,Ke=re;do ye=R.prev[--Ke],R.prev[Ke]=ye>=Ve?ye-Ve:0;while(--re);Pe+=Ve}if(R.strm.avail_in===0)break;if(re=Me(R.strm,R.window,R.strstart+R.lookahead,Pe),R.lookahead+=re,R.lookahead+R.insert>=q)for(wt=R.strstart-R.insert,R.ins_h=R.window[wt],R.ins_h=(R.ins_h<<R.hash_shift^R.window[wt+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[wt+q-1])&R.hash_mask,R.prev[wt&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=wt,wt++,R.insert--,!(R.lookahead+R.insert<q)););}while(R.lookahead<Q&&R.strm.avail_in!==0)}function we(R,Ve){var Ke=65535;for(Ke>R.pending_buf_size-5&&(Ke=R.pending_buf_size-5);;){if(R.lookahead<=1){if(ge(R),R.lookahead===0&&Ve===a)return me;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var re=R.block_start+Ke;if((R.strstart===0||R.strstart>=re)&&(R.lookahead=R.strstart-re,R.strstart=re,ce(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-Q&&(ce(R,!1),R.strm.avail_out===0))return me}return R.insert=0,Ve===u?(ce(R,!0),R.strm.avail_out===0?Je:$e):(R.strstart>R.block_start&&(ce(R,!1),R.strm.avail_out===0),me)}function et(R,Ve){for(var Ke,re;;){if(R.lookahead<Q){if(ge(R),R.lookahead<Q&&Ve===a)return me;if(R.lookahead===0)break}if(Ke=0,R.lookahead>=q&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+q-1])&R.hash_mask,Ke=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),Ke!==0&&R.strstart-Ke<=R.w_size-Q&&(R.match_length=Ae(R,Ke)),R.match_length>=q)if(re=e._tr_tally(R,R.strstart-R.match_start,R.match_length-q),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=q){R.match_length--;do R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+q-1])&R.hash_mask,Ke=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart;while(--R.match_length!==0);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else re=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(re&&(ce(R,!1),R.strm.avail_out===0))return me}return R.insert=R.strstart<q-1?R.strstart:q-1,Ve===u?(ce(R,!0),R.strm.avail_out===0?Je:$e):R.last_lit&&(ce(R,!1),R.strm.avail_out===0)?me:Se}function Le(R,Ve){for(var Ke,re,ye;;){if(R.lookahead<Q){if(ge(R),R.lookahead<Q&&Ve===a)return me;if(R.lookahead===0)break}if(Ke=0,R.lookahead>=q&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+q-1])&R.hash_mask,Ke=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=q-1,Ke!==0&&R.prev_length<R.max_lazy_match&&R.strstart-Ke<=R.w_size-Q&&(R.match_length=Ae(R,Ke),R.match_length<=5&&(R.strategy===S||R.match_length===q&&R.strstart-R.match_start>4096)&&(R.match_length=q-1)),R.prev_length>=q&&R.match_length<=R.prev_length){ye=R.strstart+R.lookahead-q,re=e._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-q),R.lookahead-=R.prev_length-1,R.prev_length-=2;do++R.strstart<=ye&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+q-1])&R.hash_mask,Ke=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart);while(--R.prev_length!==0);if(R.match_available=0,R.match_length=q-1,R.strstart++,re&&(ce(R,!1),R.strm.avail_out===0))return me}else if(R.match_available){if(re=e._tr_tally(R,0,R.window[R.strstart-1]),re&&ce(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return me}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(re=e._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<q-1?R.strstart:q-1,Ve===u?(ce(R,!0),R.strm.avail_out===0?Je:$e):R.last_lit&&(ce(R,!1),R.strm.avail_out===0)?me:Se}function nt(R,Ve){for(var Ke,re,ye,Pe,wt=R.window;;){if(R.lookahead<=G){if(ge(R),R.lookahead<=G&&Ve===a)return me;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=q&&R.strstart>0&&(ye=R.strstart-1,re=wt[ye],re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye])){Pe=R.strstart+G;do;while(re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&re===wt[++ye]&&ye<Pe);R.match_length=G-(Pe-ye),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=q?(Ke=e._tr_tally(R,1,R.match_length-q),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Ke=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Ke&&(ce(R,!1),R.strm.avail_out===0))return me}return R.insert=0,Ve===u?(ce(R,!0),R.strm.avail_out===0?Je:$e):R.last_lit&&(ce(R,!1),R.strm.avail_out===0)?me:Se}function Mt(R,Ve){for(var Ke;;){if(R.lookahead===0&&(ge(R),R.lookahead===0)){if(Ve===a)return me;break}if(R.match_length=0,Ke=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Ke&&(ce(R,!1),R.strm.avail_out===0))return me}return R.insert=0,Ve===u?(ce(R,!0),R.strm.avail_out===0?Je:$e):R.last_lit&&(ce(R,!1),R.strm.avail_out===0)?me:Se}function ht(R,Ve,Ke,re,ye){this.good_length=R,this.max_lazy=Ve,this.nice_length=Ke,this.max_chain=re,this.func=ye}var Vt;Vt=[new ht(0,0,0,0,we),new ht(4,4,8,4,et),new ht(4,5,16,8,et),new ht(4,6,32,32,et),new ht(4,4,16,16,Le),new ht(8,16,32,32,Le),new ht(8,16,128,128,Le),new ht(8,32,128,256,Le),new ht(32,128,258,1024,Le),new ht(32,258,258,4096,Le)];function sn(R){R.window_size=2*R.w_size,ke(R.head),R.max_lazy_match=Vt[R.level].max_lazy,R.good_match=Vt[R.level].good_length,R.nice_match=Vt[R.level].nice_length,R.max_chain_length=Vt[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=q-1,R.match_available=0,R.ins_h=0}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(j*2),this.dyn_dtree=new t.Buf16((2*V+1)*2),this.bl_tree=new t.Buf16((2*X+1)*2),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16($+1),this.heap=new t.Buf16(2*O+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*O+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tt(R){var Ve;return!R||!R.state?Ze(R,m):(R.total_in=R.total_out=0,R.data_type=C,Ve=R.state,Ve.pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?K:le,R.adler=Ve.wrap===2?0:1,Ve.last_flush=a,e._tr_init(Ve),p)}function Oe(R){var Ve=tt(R);return Ve===p&&sn(R.state),Ve}function it(R,Ve){return!R||!R.state||R.state.wrap!==2?m:(R.state.gzhead=Ve,p)}function _e(R,Ve,Ke,re,ye,Pe){if(!R)return m;var wt=1;if(Ve===v&&(Ve=6),re<0?(wt=0,re=-re):re>15&&(wt=2,re-=16),ye<1||ye>w||Ke!==W||re<8||re>15||Ve<0||Ve>9||Pe<0||Pe>A)return Ze(R,m);re===8&&(re=9);var ft=new ae;return R.state=ft,ft.strm=R,ft.wrap=wt,ft.gzhead=null,ft.w_bits=re,ft.w_size=1<<ft.w_bits,ft.w_mask=ft.w_size-1,ft.hash_bits=ye+7,ft.hash_size=1<<ft.hash_bits,ft.hash_mask=ft.hash_size-1,ft.hash_shift=~~((ft.hash_bits+q-1)/q),ft.window=new t.Buf8(ft.w_size*2),ft.head=new t.Buf16(ft.hash_size),ft.prev=new t.Buf16(ft.w_size),ft.lit_bufsize=1<<ye+6,ft.pending_buf_size=ft.lit_bufsize*4,ft.pending_buf=new t.Buf8(ft.pending_buf_size),ft.d_buf=1*ft.lit_bufsize,ft.l_buf=3*ft.lit_bufsize,ft.level=Ve,ft.strategy=Pe,ft.method=Ke,Oe(R)}function be(R,Ve){return _e(R,Ve,W,k,M,P)}function J(R,Ve){var Ke,re,ye,Pe;if(!R||!R.state||Ve>f||Ve<0)return R?Ze(R,m):m;if(re=R.state,!R.output||!R.input&&R.avail_in!==0||re.status===he&&Ve!==u)return Ze(R,R.avail_out===0?_:m);if(re.strm=R,Ke=re.last_flush,re.last_flush=Ve,re.status===K)if(re.wrap===2)R.adler=0,se(re,31),se(re,139),se(re,8),re.gzhead?(se(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),se(re,re.gzhead.time&255),se(re,re.gzhead.time>>8&255),se(re,re.gzhead.time>>16&255),se(re,re.gzhead.time>>24&255),se(re,re.level===9?2:re.strategy>=Y||re.level<2?4:0),se(re,re.gzhead.os&255),re.gzhead.extra&&re.gzhead.extra.length&&(se(re,re.gzhead.extra.length&255),se(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(R.adler=r(R.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=ee):(se(re,0),se(re,0),se(re,0),se(re,0),se(re,0),se(re,re.level===9?2:re.strategy>=Y||re.level<2?4:0),se(re,We),re.status=le);else{var wt=W+(re.w_bits-8<<4)<<8,ft=-1;re.strategy>=Y||re.level<2?ft=0:re.level<6?ft=1:re.level===6?ft=2:ft=3,wt|=ft<<6,re.strstart!==0&&(wt|=ue),wt+=31-wt%31,re.status=le,pe(re,wt),re.strstart!==0&&(pe(re,R.adler>>>16),pe(re,R.adler&65535)),R.adler=1}if(re.status===ee)if(re.gzhead.extra){for(ye=re.pending;re.gzindex<(re.gzhead.extra.length&65535)&&!(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),Ye(R),ye=re.pending,re.pending===re.pending_buf_size));)se(re,re.gzhead.extra[re.gzindex]&255),re.gzindex++;re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=fe)}else re.status=fe;if(re.status===fe)if(re.gzhead.name){ye=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),Ye(R),ye=re.pending,re.pending===re.pending_buf_size)){Pe=1;break}re.gzindex<re.gzhead.name.length?Pe=re.gzhead.name.charCodeAt(re.gzindex++)&255:Pe=0,se(re,Pe)}while(Pe!==0);re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),Pe===0&&(re.gzindex=0,re.status=te)}else re.status=te;if(re.status===te)if(re.gzhead.comment){ye=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),Ye(R),ye=re.pending,re.pending===re.pending_buf_size)){Pe=1;break}re.gzindex<re.gzhead.comment.length?Pe=re.gzhead.comment.charCodeAt(re.gzindex++)&255:Pe=0,se(re,Pe)}while(Pe!==0);re.gzhead.hcrc&&re.pending>ye&&(R.adler=r(R.adler,re.pending_buf,re.pending-ye,ye)),Pe===0&&(re.status=ie)}else re.status=ie;if(re.status===ie&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&Ye(R),re.pending+2<=re.pending_buf_size&&(se(re,R.adler&255),se(re,R.adler>>8&255),R.adler=0,re.status=le)):re.status=le),re.pending!==0){if(Ye(R),R.avail_out===0)return re.last_flush=-1,p}else if(R.avail_in===0&&F(Ve)<=F(Ke)&&Ve!==u)return Ze(R,_);if(re.status===he&&R.avail_in!==0)return Ze(R,_);if(R.avail_in!==0||re.lookahead!==0||Ve!==a&&re.status!==he){var _t=re.strategy===Y?Mt(re,Ve):re.strategy===T?nt(re,Ve):Vt[re.level].func(re,Ve);if((_t===Je||_t===$e)&&(re.status=he),_t===me||_t===Je)return R.avail_out===0&&(re.last_flush=-1),p;if(_t===Se&&(Ve===o?e._tr_align(re):Ve!==f&&(e._tr_stored_block(re,0,0,!1),Ve===c&&(ke(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),Ye(R),R.avail_out===0))return re.last_flush=-1,p}return Ve!==u?p:re.wrap<=0?h:(re.wrap===2?(se(re,R.adler&255),se(re,R.adler>>8&255),se(re,R.adler>>16&255),se(re,R.adler>>24&255),se(re,R.total_in&255),se(re,R.total_in>>8&255),se(re,R.total_in>>16&255),se(re,R.total_in>>24&255)):(pe(re,R.adler>>>16),pe(re,R.adler&65535)),Ye(R),re.wrap>0&&(re.wrap=-re.wrap),re.pending!==0?p:h)}function Qe(R){var Ve;return!R||!R.state?m:(Ve=R.state.status,Ve!==K&&Ve!==ee&&Ve!==fe&&Ve!==te&&Ve!==ie&&Ve!==le&&Ve!==he?Ze(R,m):(R.state=null,Ve===le?Ze(R,y):p))}function mt(R,Ve){var Ke=Ve.length,re,ye,Pe,wt,ft,_t,kt,Wn;if(!R||!R.state||(re=R.state,wt=re.wrap,wt===2||wt===1&&re.status!==K||re.lookahead))return m;for(wt===1&&(R.adler=n(R.adler,Ve,Ke,0)),re.wrap=0,Ke>=re.w_size&&(wt===0&&(ke(re.head),re.strstart=0,re.block_start=0,re.insert=0),Wn=new t.Buf8(re.w_size),t.arraySet(Wn,Ve,Ke-re.w_size,re.w_size,0),Ve=Wn,Ke=re.w_size),ft=R.avail_in,_t=R.next_in,kt=R.input,R.avail_in=Ke,R.next_in=0,R.input=Ve,ge(re);re.lookahead>=q;){ye=re.strstart,Pe=re.lookahead-(q-1);do re.ins_h=(re.ins_h<<re.hash_shift^re.window[ye+q-1])&re.hash_mask,re.prev[ye&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=ye,ye++;while(--Pe);re.strstart=ye,re.lookahead=q-1,ge(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=q-1,re.match_available=0,R.next_in=_t,R.input=kt,R.avail_in=ft,re.wrap=wt,p}return ta.deflateInit=be,ta.deflateInit2=_e,ta.deflateReset=Oe,ta.deflateResetKeep=tt,ta.deflateSetHeader=it,ta.deflate=J,ta.deflateEnd=Qe,ta.deflateSetDictionary=mt,ta.deflateInfo="pako deflate (from Nodeca project)",ta}var nc={},pU;function h6(){if(pU)return nc;pU=1;var t=kl(),e=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new t.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1,nc.string2buf=function(o){var c,u,f,p,h,m=o.length,y=0;for(p=0;p<m;p++)u=o.charCodeAt(p),(u&64512)===55296&&p+1<m&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),y+=u<128?1:u<2048?2:u<65536?3:4;for(c=new t.Buf8(y),h=0,p=0;h<y;p++)u=o.charCodeAt(p),(u&64512)===55296&&p+1<m&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),u<128?c[h++]=u:u<2048?(c[h++]=192|u>>>6,c[h++]=128|u&63):u<65536?(c[h++]=224|u>>>12,c[h++]=128|u>>>6&63,c[h++]=128|u&63):(c[h++]=240|u>>>18,c[h++]=128|u>>>12&63,c[h++]=128|u>>>6&63,c[h++]=128|u&63);return c};function a(o,c){if(c<65534&&(o.subarray&&n||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,c));for(var u="",f=0;f<c;f++)u+=String.fromCharCode(o[f]);return u}return nc.buf2binstring=function(o){return a(o,o.length)},nc.binstring2buf=function(o){for(var c=new t.Buf8(o.length),u=0,f=c.length;u<f;u++)c[u]=o.charCodeAt(u);return c},nc.buf2string=function(o,c){var u,f,p,h,m=c||o.length,y=new Array(m*2);for(f=0,u=0;u<m;){if(p=o[u++],p<128){y[f++]=p;continue}if(h=r[p],h>4){y[f++]=65533,u+=h-1;continue}for(p&=h===2?31:h===3?15:7;h>1&&u<m;)p=p<<6|o[u++]&63,h--;if(h>1){y[f++]=65533;continue}p<65536?y[f++]=p:(p-=65536,y[f++]=55296|p>>10&1023,y[f++]=56320|p&1023)}return a(y,f)},nc.utf8border=function(o,c){var u;for(c=c||o.length,c>o.length&&(c=o.length),u=c-1;u>=0&&(o[u]&192)===128;)u--;return u<0||u===0?c:u+r[o[u]]>c?u:c},nc}var Kb,mU;function p6(){if(mU)return Kb;mU=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Kb=t,Kb}var gU;function pz(){if(gU)return du;gU=1;var t=hz(),e=kl(),n=h6(),r=XT(),i=p6(),a=Object.prototype.toString,o=0,c=4,u=0,f=1,p=2,h=-1,m=0,y=8;function _(T){if(!(this instanceof _))return new _(T);this.options=e.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},T||{});var A=this.options;A.raw&&A.windowBits>0?A.windowBits=-A.windowBits:A.gzip&&A.windowBits>0&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var P=t.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(P!==u)throw new Error(r[P]);if(A.header&&t.deflateSetHeader(this.strm,A.header),A.dictionary){var C;if(typeof A.dictionary=="string"?C=n.string2buf(A.dictionary):a.call(A.dictionary)==="[object ArrayBuffer]"?C=new Uint8Array(A.dictionary):C=A.dictionary,P=t.deflateSetDictionary(this.strm,C),P!==u)throw new Error(r[P]);this._dict_set=!0}}_.prototype.push=function(T,A){var P=this.strm,C=this.options.chunkSize,W,w;if(this.ended)return!1;w=A===~~A?A:A===!0?c:o,typeof T=="string"?P.input=n.string2buf(T):a.call(T)==="[object ArrayBuffer]"?P.input=new Uint8Array(T):P.input=T,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new e.Buf8(C),P.next_out=0,P.avail_out=C),W=t.deflate(P,w),W!==f&&W!==u)return this.onEnd(W),this.ended=!0,!1;(P.avail_out===0||P.avail_in===0&&(w===c||w===p))&&(this.options.to==="string"?this.onData(n.buf2binstring(e.shrinkBuf(P.output,P.next_out))):this.onData(e.shrinkBuf(P.output,P.next_out)))}while((P.avail_in>0||P.avail_out===0)&&W!==f);return w===c?(W=t.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===u):(w===p&&(this.onEnd(u),P.avail_out=0),!0)},_.prototype.onData=function(T){this.chunks.push(T)},_.prototype.onEnd=function(T){T===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function v(T,A){var P=new _(A);if(P.push(T,!0),P.err)throw P.msg||r[P.err];return P.result}function S(T,A){return A=A||{},A.raw=!0,v(T,A)}function Y(T,A){return A=A||{},A.gzip=!0,v(T,A)}return du.Deflate=_,du.deflate=v,du.deflateRaw=S,du.gzip=Y,du}var hu={},Ds={},jb,yU;function mz(){if(yU)return jb;yU=1;var t=30,e=12;return jb=function(r,i){var a,o,c,u,f,p,h,m,y,_,v,S,Y,T,A,P,C,W,w,k,M,D,B,O,V;a=r.state,o=r.next_in,O=r.input,c=o+(r.avail_in-5),u=r.next_out,V=r.output,f=u-(i-r.avail_out),p=u+(r.avail_out-257),h=a.dmax,m=a.wsize,y=a.whave,_=a.wnext,v=a.window,S=a.hold,Y=a.bits,T=a.lencode,A=a.distcode,P=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{Y<15&&(S+=O[o++]<<Y,Y+=8,S+=O[o++]<<Y,Y+=8),W=T[S&P];t:for(;;){if(w=W>>>24,S>>>=w,Y-=w,w=W>>>16&255,w===0)V[u++]=W&65535;else if(w&16){k=W&65535,w&=15,w&&(Y<w&&(S+=O[o++]<<Y,Y+=8),k+=S&(1<<w)-1,S>>>=w,Y-=w),Y<15&&(S+=O[o++]<<Y,Y+=8,S+=O[o++]<<Y,Y+=8),W=A[S&C];n:for(;;){if(w=W>>>24,S>>>=w,Y-=w,w=W>>>16&255,w&16){if(M=W&65535,w&=15,Y<w&&(S+=O[o++]<<Y,Y+=8,Y<w&&(S+=O[o++]<<Y,Y+=8)),M+=S&(1<<w)-1,M>h){r.msg="invalid distance too far back",a.mode=t;break e}if(S>>>=w,Y-=w,w=u-f,M>w){if(w=M-w,w>y&&a.sane){r.msg="invalid distance too far back",a.mode=t;break e}if(D=0,B=v,_===0){if(D+=m-w,w<k){k-=w;do V[u++]=v[D++];while(--w);D=u-M,B=V}}else if(_<w){if(D+=m+_-w,w-=_,w<k){k-=w;do V[u++]=v[D++];while(--w);if(D=0,_<k){w=_,k-=w;do V[u++]=v[D++];while(--w);D=u-M,B=V}}}else if(D+=_-w,w<k){k-=w;do V[u++]=v[D++];while(--w);D=u-M,B=V}for(;k>2;)V[u++]=B[D++],V[u++]=B[D++],V[u++]=B[D++],k-=3;k&&(V[u++]=B[D++],k>1&&(V[u++]=B[D++]))}else{D=u-M;do V[u++]=V[D++],V[u++]=V[D++],V[u++]=V[D++],k-=3;while(k>2);k&&(V[u++]=V[D++],k>1&&(V[u++]=V[D++]))}}else if((w&64)===0){W=A[(W&65535)+(S&(1<<w)-1)];continue n}else{r.msg="invalid distance code",a.mode=t;break e}break}}else if((w&64)===0){W=T[(W&65535)+(S&(1<<w)-1)];continue t}else if(w&32){a.mode=e;break e}else{r.msg="invalid literal/length code",a.mode=t;break e}break}}while(o<c&&u<p);k=Y>>3,o-=k,Y-=k<<3,S&=(1<<Y)-1,r.next_in=o,r.next_out=u,r.avail_in=o<c?5+(c-o):5-(o-c),r.avail_out=u<p?257+(p-u):257-(u-p),a.hold=S,a.bits=Y},jb}var Hb,vU;function gz(){if(vU)return Hb;vU=1;var t=kl(),e=15,n=852,r=592,i=0,a=1,o=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Hb=function(m,y,_,v,S,Y,T,A){var P=A.bits,C=0,W=0,w=0,k=0,M=0,D=0,B=0,O=0,V=0,X=0,j,$,q,G,Q,ue=null,K=0,ee,fe=new t.Buf16(e+1),te=new t.Buf16(e+1),ie=null,le=0,he,me,Se;for(C=0;C<=e;C++)fe[C]=0;for(W=0;W<v;W++)fe[y[_+W]]++;for(M=P,k=e;k>=1&&fe[k]===0;k--);if(M>k&&(M=k),k===0)return S[Y++]=1<<24|64<<16|0,S[Y++]=1<<24|64<<16|0,A.bits=1,0;for(w=1;w<k&&fe[w]===0;w++);for(M<w&&(M=w),O=1,C=1;C<=e;C++)if(O<<=1,O-=fe[C],O<0)return-1;if(O>0&&(m===i||k!==1))return-1;for(te[1]=0,C=1;C<e;C++)te[C+1]=te[C]+fe[C];for(W=0;W<v;W++)y[_+W]!==0&&(T[te[y[_+W]]++]=W);if(m===i?(ue=ie=T,ee=19):m===a?(ue=c,K-=257,ie=u,le-=257,ee=256):(ue=f,ie=p,ee=-1),X=0,W=0,C=w,Q=Y,D=M,B=0,q=-1,V=1<<M,G=V-1,m===a&&V>n||m===o&&V>r)return 1;for(;;){he=C-B,T[W]<ee?(me=0,Se=T[W]):T[W]>ee?(me=ie[le+T[W]],Se=ue[K+T[W]]):(me=96,Se=0),j=1<<C-B,$=1<<D,w=$;do $-=j,S[Q+(X>>B)+$]=he<<24|me<<16|Se|0;while($!==0);for(j=1<<C-1;X&j;)j>>=1;if(j!==0?(X&=j-1,X+=j):X=0,W++,--fe[C]===0){if(C===k)break;C=y[_+T[W]]}if(C>M&&(X&G)!==q){for(B===0&&(B=M),Q+=w,D=C-B,O=1<<D;D+B<k&&(O-=fe[D+B],!(O<=0));)D++,O<<=1;if(V+=1<<D,m===a&&V>n||m===o&&V>r)return 1;q=X&G,S[q]=M<<24|D<<16|Q-Y|0}}return X!==0&&(S[Q+X]=C-B<<24|64<<16|0),A.bits=M,0},Hb}var _U;function yz(){if(_U)return Ds;_U=1;var t=kl(),e=f6(),n=d6(),r=mz(),i=gz(),a=0,o=1,c=2,u=4,f=5,p=6,h=0,m=1,y=2,_=-2,v=-3,S=-4,Y=-5,T=8,A=1,P=2,C=3,W=4,w=5,k=6,M=7,D=8,B=9,O=10,V=11,X=12,j=13,$=14,q=15,G=16,Q=17,ue=18,K=19,ee=20,fe=21,te=22,ie=23,le=24,he=25,me=26,Se=27,Je=28,$e=29,We=30,Ze=31,F=32,ke=852,Ye=592,ce=15,se=ce;function pe(_e){return(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24)}function Me(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ae(_e){var be;return!_e||!_e.state?_:(be=_e.state,_e.total_in=_e.total_out=be.total=0,_e.msg="",be.wrap&&(_e.adler=be.wrap&1),be.mode=A,be.last=0,be.havedict=0,be.dmax=32768,be.head=null,be.hold=0,be.bits=0,be.lencode=be.lendyn=new t.Buf32(ke),be.distcode=be.distdyn=new t.Buf32(Ye),be.sane=1,be.back=-1,h)}function ge(_e){var be;return!_e||!_e.state?_:(be=_e.state,be.wsize=0,be.whave=0,be.wnext=0,Ae(_e))}function we(_e,be){var J,Qe;return!_e||!_e.state||(Qe=_e.state,be<0?(J=0,be=-be):(J=(be>>4)+1,be<48&&(be&=15)),be&&(be<8||be>15))?_:(Qe.window!==null&&Qe.wbits!==be&&(Qe.window=null),Qe.wrap=J,Qe.wbits=be,ge(_e))}function et(_e,be){var J,Qe;return _e?(Qe=new Me,_e.state=Qe,Qe.window=null,J=we(_e,be),J!==h&&(_e.state=null),J):_}function Le(_e){return et(_e,se)}var nt=!0,Mt,ht;function Vt(_e){if(nt){var be;for(Mt=new t.Buf32(512),ht=new t.Buf32(32),be=0;be<144;)_e.lens[be++]=8;for(;be<256;)_e.lens[be++]=9;for(;be<280;)_e.lens[be++]=7;for(;be<288;)_e.lens[be++]=8;for(i(o,_e.lens,0,288,Mt,0,_e.work,{bits:9}),be=0;be<32;)_e.lens[be++]=5;i(c,_e.lens,0,32,ht,0,_e.work,{bits:5}),nt=!1}_e.lencode=Mt,_e.lenbits=9,_e.distcode=ht,_e.distbits=5}function sn(_e,be,J,Qe){var mt,R=_e.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new t.Buf8(R.wsize)),Qe>=R.wsize?(t.arraySet(R.window,be,J-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(mt=R.wsize-R.wnext,mt>Qe&&(mt=Qe),t.arraySet(R.window,be,J-Qe,mt,R.wnext),Qe-=mt,Qe?(t.arraySet(R.window,be,J-Qe,Qe,0),R.wnext=Qe,R.whave=R.wsize):(R.wnext+=mt,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=mt))),0}function ae(_e,be){var J,Qe,mt,R,Ve,Ke,re,ye,Pe,wt,ft,_t,kt,Wn,hn=0,At,Lt,Nn,In,kr,ii,Vn,nn,rn=new t.Buf8(4),zn,pr,rs=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_e||!_e.state||!_e.output||!_e.input&&_e.avail_in!==0)return _;J=_e.state,J.mode===X&&(J.mode=j),Ve=_e.next_out,mt=_e.output,re=_e.avail_out,R=_e.next_in,Qe=_e.input,Ke=_e.avail_in,ye=J.hold,Pe=J.bits,wt=Ke,ft=re,nn=h;e:for(;;)switch(J.mode){case A:if(J.wrap===0){J.mode=j;break}for(;Pe<16;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(J.wrap&2&&ye===35615){J.check=0,rn[0]=ye&255,rn[1]=ye>>>8&255,J.check=n(J.check,rn,2,0),ye=0,Pe=0,J.mode=P;break}if(J.flags=0,J.head&&(J.head.done=!1),!(J.wrap&1)||(((ye&255)<<8)+(ye>>8))%31){_e.msg="incorrect header check",J.mode=We;break}if((ye&15)!==T){_e.msg="unknown compression method",J.mode=We;break}if(ye>>>=4,Pe-=4,Vn=(ye&15)+8,J.wbits===0)J.wbits=Vn;else if(Vn>J.wbits){_e.msg="invalid window size",J.mode=We;break}J.dmax=1<<Vn,_e.adler=J.check=1,J.mode=ye&512?O:X,ye=0,Pe=0;break;case P:for(;Pe<16;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(J.flags=ye,(J.flags&255)!==T){_e.msg="unknown compression method",J.mode=We;break}if(J.flags&57344){_e.msg="unknown header flags set",J.mode=We;break}J.head&&(J.head.text=ye>>8&1),J.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,J.check=n(J.check,rn,2,0)),ye=0,Pe=0,J.mode=C;case C:for(;Pe<32;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.head&&(J.head.time=ye),J.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,rn[2]=ye>>>16&255,rn[3]=ye>>>24&255,J.check=n(J.check,rn,4,0)),ye=0,Pe=0,J.mode=W;case W:for(;Pe<16;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.head&&(J.head.xflags=ye&255,J.head.os=ye>>8),J.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,J.check=n(J.check,rn,2,0)),ye=0,Pe=0,J.mode=w;case w:if(J.flags&1024){for(;Pe<16;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.length=ye,J.head&&(J.head.extra_len=ye),J.flags&512&&(rn[0]=ye&255,rn[1]=ye>>>8&255,J.check=n(J.check,rn,2,0)),ye=0,Pe=0}else J.head&&(J.head.extra=null);J.mode=k;case k:if(J.flags&1024&&(_t=J.length,_t>Ke&&(_t=Ke),_t&&(J.head&&(Vn=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Array(J.head.extra_len)),t.arraySet(J.head.extra,Qe,R,_t,Vn)),J.flags&512&&(J.check=n(J.check,Qe,_t,R)),Ke-=_t,R+=_t,J.length-=_t),J.length))break e;J.length=0,J.mode=M;case M:if(J.flags&2048){if(Ke===0)break e;_t=0;do Vn=Qe[R+_t++],J.head&&Vn&&J.length<65536&&(J.head.name+=String.fromCharCode(Vn));while(Vn&&_t<Ke);if(J.flags&512&&(J.check=n(J.check,Qe,_t,R)),Ke-=_t,R+=_t,Vn)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=D;case D:if(J.flags&4096){if(Ke===0)break e;_t=0;do Vn=Qe[R+_t++],J.head&&Vn&&J.length<65536&&(J.head.comment+=String.fromCharCode(Vn));while(Vn&&_t<Ke);if(J.flags&512&&(J.check=n(J.check,Qe,_t,R)),Ke-=_t,R+=_t,Vn)break e}else J.head&&(J.head.comment=null);J.mode=B;case B:if(J.flags&512){for(;Pe<16;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(ye!==(J.check&65535)){_e.msg="header crc mismatch",J.mode=We;break}ye=0,Pe=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),_e.adler=J.check=0,J.mode=X;break;case O:for(;Pe<32;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}_e.adler=J.check=pe(ye),ye=0,Pe=0,J.mode=V;case V:if(J.havedict===0)return _e.next_out=Ve,_e.avail_out=re,_e.next_in=R,_e.avail_in=Ke,J.hold=ye,J.bits=Pe,y;_e.adler=J.check=1,J.mode=X;case X:if(be===f||be===p)break e;case j:if(J.last){ye>>>=Pe&7,Pe-=Pe&7,J.mode=Se;break}for(;Pe<3;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}switch(J.last=ye&1,ye>>>=1,Pe-=1,ye&3){case 0:J.mode=$;break;case 1:if(Vt(J),J.mode=ee,be===p){ye>>>=2,Pe-=2;break e}break;case 2:J.mode=Q;break;case 3:_e.msg="invalid block type",J.mode=We}ye>>>=2,Pe-=2;break;case $:for(ye>>>=Pe&7,Pe-=Pe&7;Pe<32;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if((ye&65535)!==(ye>>>16^65535)){_e.msg="invalid stored block lengths",J.mode=We;break}if(J.length=ye&65535,ye=0,Pe=0,J.mode=q,be===p)break e;case q:J.mode=G;case G:if(_t=J.length,_t){if(_t>Ke&&(_t=Ke),_t>re&&(_t=re),_t===0)break e;t.arraySet(mt,Qe,R,_t,Ve),Ke-=_t,R+=_t,re-=_t,Ve+=_t,J.length-=_t;break}J.mode=X;break;case Q:for(;Pe<14;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(J.nlen=(ye&31)+257,ye>>>=5,Pe-=5,J.ndist=(ye&31)+1,ye>>>=5,Pe-=5,J.ncode=(ye&15)+4,ye>>>=4,Pe-=4,J.nlen>286||J.ndist>30){_e.msg="too many length or distance symbols",J.mode=We;break}J.have=0,J.mode=ue;case ue:for(;J.have<J.ncode;){for(;Pe<3;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.lens[rs[J.have++]]=ye&7,ye>>>=3,Pe-=3}for(;J.have<19;)J.lens[rs[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,zn={bits:J.lenbits},nn=i(a,J.lens,0,19,J.lencode,0,J.work,zn),J.lenbits=zn.bits,nn){_e.msg="invalid code lengths set",J.mode=We;break}J.have=0,J.mode=K;case K:for(;J.have<J.nlen+J.ndist;){for(;hn=J.lencode[ye&(1<<J.lenbits)-1],At=hn>>>24,Lt=hn>>>16&255,Nn=hn&65535,!(At<=Pe);){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(Nn<16)ye>>>=At,Pe-=At,J.lens[J.have++]=Nn;else{if(Nn===16){for(pr=At+2;Pe<pr;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(ye>>>=At,Pe-=At,J.have===0){_e.msg="invalid bit length repeat",J.mode=We;break}Vn=J.lens[J.have-1],_t=3+(ye&3),ye>>>=2,Pe-=2}else if(Nn===17){for(pr=At+3;Pe<pr;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}ye>>>=At,Pe-=At,Vn=0,_t=3+(ye&7),ye>>>=3,Pe-=3}else{for(pr=At+7;Pe<pr;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}ye>>>=At,Pe-=At,Vn=0,_t=11+(ye&127),ye>>>=7,Pe-=7}if(J.have+_t>J.nlen+J.ndist){_e.msg="invalid bit length repeat",J.mode=We;break}for(;_t--;)J.lens[J.have++]=Vn}}if(J.mode===We)break;if(J.lens[256]===0){_e.msg="invalid code -- missing end-of-block",J.mode=We;break}if(J.lenbits=9,zn={bits:J.lenbits},nn=i(o,J.lens,0,J.nlen,J.lencode,0,J.work,zn),J.lenbits=zn.bits,nn){_e.msg="invalid literal/lengths set",J.mode=We;break}if(J.distbits=6,J.distcode=J.distdyn,zn={bits:J.distbits},nn=i(c,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,zn),J.distbits=zn.bits,nn){_e.msg="invalid distances set",J.mode=We;break}if(J.mode=ee,be===p)break e;case ee:J.mode=fe;case fe:if(Ke>=6&&re>=258){_e.next_out=Ve,_e.avail_out=re,_e.next_in=R,_e.avail_in=Ke,J.hold=ye,J.bits=Pe,r(_e,ft),Ve=_e.next_out,mt=_e.output,re=_e.avail_out,R=_e.next_in,Qe=_e.input,Ke=_e.avail_in,ye=J.hold,Pe=J.bits,J.mode===X&&(J.back=-1);break}for(J.back=0;hn=J.lencode[ye&(1<<J.lenbits)-1],At=hn>>>24,Lt=hn>>>16&255,Nn=hn&65535,!(At<=Pe);){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(Lt&&(Lt&240)===0){for(In=At,kr=Lt,ii=Nn;hn=J.lencode[ii+((ye&(1<<In+kr)-1)>>In)],At=hn>>>24,Lt=hn>>>16&255,Nn=hn&65535,!(In+At<=Pe);){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}ye>>>=In,Pe-=In,J.back+=In}if(ye>>>=At,Pe-=At,J.back+=At,J.length=Nn,Lt===0){J.mode=me;break}if(Lt&32){J.back=-1,J.mode=X;break}if(Lt&64){_e.msg="invalid literal/length code",J.mode=We;break}J.extra=Lt&15,J.mode=te;case te:if(J.extra){for(pr=J.extra;Pe<pr;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.length+=ye&(1<<J.extra)-1,ye>>>=J.extra,Pe-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=ie;case ie:for(;hn=J.distcode[ye&(1<<J.distbits)-1],At=hn>>>24,Lt=hn>>>16&255,Nn=hn&65535,!(At<=Pe);){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if((Lt&240)===0){for(In=At,kr=Lt,ii=Nn;hn=J.distcode[ii+((ye&(1<<In+kr)-1)>>In)],At=hn>>>24,Lt=hn>>>16&255,Nn=hn&65535,!(In+At<=Pe);){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}ye>>>=In,Pe-=In,J.back+=In}if(ye>>>=At,Pe-=At,J.back+=At,Lt&64){_e.msg="invalid distance code",J.mode=We;break}J.offset=Nn,J.extra=Lt&15,J.mode=le;case le:if(J.extra){for(pr=J.extra;Pe<pr;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}J.offset+=ye&(1<<J.extra)-1,ye>>>=J.extra,Pe-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){_e.msg="invalid distance too far back",J.mode=We;break}J.mode=he;case he:if(re===0)break e;if(_t=ft-re,J.offset>_t){if(_t=J.offset-_t,_t>J.whave&&J.sane){_e.msg="invalid distance too far back",J.mode=We;break}_t>J.wnext?(_t-=J.wnext,kt=J.wsize-_t):kt=J.wnext-_t,_t>J.length&&(_t=J.length),Wn=J.window}else Wn=mt,kt=Ve-J.offset,_t=J.length;_t>re&&(_t=re),re-=_t,J.length-=_t;do mt[Ve++]=Wn[kt++];while(--_t);J.length===0&&(J.mode=fe);break;case me:if(re===0)break e;mt[Ve++]=J.length,re--,J.mode=fe;break;case Se:if(J.wrap){for(;Pe<32;){if(Ke===0)break e;Ke--,ye|=Qe[R++]<<Pe,Pe+=8}if(ft-=re,_e.total_out+=ft,J.total+=ft,ft&&(_e.adler=J.check=J.flags?n(J.check,mt,ft,Ve-ft):e(J.check,mt,ft,Ve-ft)),ft=re,(J.flags?ye:pe(ye))!==J.check){_e.msg="incorrect data check",J.mode=We;break}ye=0,Pe=0}J.mode=Je;case Je:if(J.wrap&&J.flags){for(;Pe<32;){if(Ke===0)break e;Ke--,ye+=Qe[R++]<<Pe,Pe+=8}if(ye!==(J.total&4294967295)){_e.msg="incorrect length check",J.mode=We;break}ye=0,Pe=0}J.mode=$e;case $e:nn=m;break e;case We:nn=v;break e;case Ze:return S;case F:default:return _}return _e.next_out=Ve,_e.avail_out=re,_e.next_in=R,_e.avail_in=Ke,J.hold=ye,J.bits=Pe,(J.wsize||ft!==_e.avail_out&&J.mode<We&&(J.mode<Se||be!==u))&&sn(_e,_e.output,_e.next_out,ft-_e.avail_out),wt-=_e.avail_in,ft-=_e.avail_out,_e.total_in+=wt,_e.total_out+=ft,J.total+=ft,J.wrap&&ft&&(_e.adler=J.check=J.flags?n(J.check,mt,ft,_e.next_out-ft):e(J.check,mt,ft,_e.next_out-ft)),_e.data_type=J.bits+(J.last?64:0)+(J.mode===X?128:0)+(J.mode===ee||J.mode===q?256:0),(wt===0&&ft===0||be===u)&&nn===h&&(nn=Y),nn}function tt(_e){if(!_e||!_e.state)return _;var be=_e.state;return be.window&&(be.window=null),_e.state=null,h}function Oe(_e,be){var J;return!_e||!_e.state||(J=_e.state,(J.wrap&2)===0)?_:(J.head=be,be.done=!1,h)}function it(_e,be){var J=be.length,Qe,mt,R;return!_e||!_e.state||(Qe=_e.state,Qe.wrap!==0&&Qe.mode!==V)?_:Qe.mode===V&&(mt=1,mt=e(mt,be,J,0),mt!==Qe.check)?v:(R=sn(_e,be,J,J),R?(Qe.mode=Ze,S):(Qe.havedict=1,h))}return Ds.inflateReset=ge,Ds.inflateReset2=we,Ds.inflateResetKeep=Ae,Ds.inflateInit=Le,Ds.inflateInit2=et,Ds.inflate=ae,Ds.inflateEnd=tt,Ds.inflateGetHeader=Oe,Ds.inflateSetDictionary=it,Ds.inflateInfo="pako inflate (from Nodeca project)",Ds}var Gb,SU;function m6(){return SU||(SU=1,Gb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Gb}var qb,bU;function vz(){if(bU)return qb;bU=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return qb=t,qb}var YU;function _z(){if(YU)return hu;YU=1;var t=yz(),e=kl(),n=h6(),r=m6(),i=XT(),a=p6(),o=vz(),c=Object.prototype.toString;function u(h){if(!(this instanceof u))return new u(h);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),m.windowBits>=0&&m.windowBits<16&&!(h&&h.windowBits)&&(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&(m.windowBits&15)===0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var y=t.inflateInit2(this.strm,m.windowBits);if(y!==r.Z_OK)throw new Error(i[y]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),m.dictionary&&(typeof m.dictionary=="string"?m.dictionary=n.string2buf(m.dictionary):c.call(m.dictionary)==="[object ArrayBuffer]"&&(m.dictionary=new Uint8Array(m.dictionary)),m.raw&&(y=t.inflateSetDictionary(this.strm,m.dictionary),y!==r.Z_OK)))throw new Error(i[y])}u.prototype.push=function(h,m){var y=this.strm,_=this.options.chunkSize,v=this.options.dictionary,S,Y,T,A,P,C=!1;if(this.ended)return!1;Y=m===~~m?m:m===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof h=="string"?y.input=n.binstring2buf(h):c.call(h)==="[object ArrayBuffer]"?y.input=new Uint8Array(h):y.input=h,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new e.Buf8(_),y.next_out=0,y.avail_out=_),S=t.inflate(y,r.Z_NO_FLUSH),S===r.Z_NEED_DICT&&v&&(S=t.inflateSetDictionary(this.strm,v)),S===r.Z_BUF_ERROR&&C===!0&&(S=r.Z_OK,C=!1),S!==r.Z_STREAM_END&&S!==r.Z_OK)return this.onEnd(S),this.ended=!0,!1;y.next_out&&(y.avail_out===0||S===r.Z_STREAM_END||y.avail_in===0&&(Y===r.Z_FINISH||Y===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=n.utf8border(y.output,y.next_out),A=y.next_out-T,P=n.buf2string(y.output,T),y.next_out=A,y.avail_out=_-A,A&&e.arraySet(y.output,y.output,T,A,0),this.onData(P)):this.onData(e.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(C=!0)}while((y.avail_in>0||y.avail_out===0)&&S!==r.Z_STREAM_END);return S===r.Z_STREAM_END&&(Y=r.Z_FINISH),Y===r.Z_FINISH?(S=t.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===r.Z_OK):(Y===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),y.avail_out=0),!0)},u.prototype.onData=function(h){this.chunks.push(h)},u.prototype.onEnd=function(h){h===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function f(h,m){var y=new u(m);if(y.push(h,!0),y.err)throw y.msg||i[y.err];return y.result}function p(h,m){return m=m||{},m.raw=!0,f(h,m)}return hu.Inflate=u,hu.inflate=f,hu.inflateRaw=p,hu.ungzip=f,hu}var Qb,xU;function Sz(){if(xU)return Qb;xU=1;var t=kl().assign,e=pz(),n=_z(),r=m6(),i={};return t(i,e,n,r),Qb=i,Qb}var TU;function bz(){return TU||(TU=1,(function(t){(function(){var e={};t.exports=e;var n=typeof bg=="function"?Sz():self.pako;function r(){typeof process>"u"&&console.log.apply(console,arguments)}(function(i,a){(function(){var o=(function(){function p(h){this.message="JPEG error: "+h}return p.prototype=new Error,p.prototype.name="JpegError",p.constructor=p,p})(),c=(function(){var p=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),h=4017,m=799,y=3406,_=2276,v=1567,S=3784,Y=5793,T=2896;function A(D){D==null&&(D={}),D.w==null&&(D.w=-1),this.V=D.n,this.N=D.w}function P(D,B){for(var O=0,V=[],X,j,$=16,q;$>0&&!D[$-1];)$--;V.push({children:[],index:0});var G=V[0];for(X=0;X<$;X++){for(j=0;j<D[X];j++){for(G=V.pop(),G.children[G.index]=B[O];G.index>0;)G=V.pop();for(G.index++,V.push(G);V.length<=X;)V.push(q={children:[],index:0}),G.children[G.index]=q.children,G=q;O++}X+1<$&&(V.push(q={children:[],index:0}),G.children[G.index]=q.children,G=q)}return V[0].children}function C(D,B,O){return 64*((D.P+1)*B+O)}function W(D,B,O,V,X,j,$,q,G,Q){Q==null&&(Q=!1);var ue=O.m,K=O.Z,ee=B,fe=0,te=0,ie=0,le=0,he,me=0,Se,Je,$e,We,Ze,F,ke=0,Ye,ce,se,pe;function Me(){if(te>0)return te--,fe>>te&1;if(fe=D[B++],fe===255){var Oe=D[B++];if(Oe){if(Oe===220&&Q){B+=2;var it=u(D,B);if(B+=2,it>0&&it!==O.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",it)}else if(Oe===217){if(Q){var _e=me*8;if(_e>0&&_e<O.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",_e)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new o("unexpected marker")}}return te=7,fe>>>7}function Ae(Oe){for(var it=Oe;;){switch(it=it[Me()],typeof it){case"number":return it;case"object":continue}throw new o("invalid huffman sequence")}}function ge(Oe){for(var it=0;Oe>0;)it=it<<1|Me(),Oe--;return it}function we(Oe){if(Oe===1)return Me()===1?1:-1;var it=ge(Oe);return it>=1<<Oe-1?it:it+(-1<<Oe)+1}function et(Oe,it){var _e=Ae(Oe.J),be=_e===0?0:we(_e),J=1;for(Oe.D[it]=Oe.Q+=be;J<64;){var Qe=Ae(Oe.i),mt=Qe&15,R=Qe>>4;if(mt===0){if(R<15)break;J+=16;continue}J+=R;var Ve=p[J];Oe.D[it+Ve]=we(mt),J++}}function Le(Oe,it){var _e=Ae(Oe.J),be=_e===0?0:we(_e)<<G;Oe.D[it]=Oe.Q+=be}function nt(Oe,it){Oe.D[it]|=Me()<<G}function Mt(Oe,it){if(ie>0){ie--;return}for(var _e=j,be=$;_e<=be;){var J=Ae(Oe.i),Qe=J&15,mt=J>>4;if(Qe===0){if(mt<15){ie=ge(mt)+(1<<mt)-1;break}_e+=16;continue}_e+=mt;var R=p[_e];Oe.D[it+R]=we(Qe)*(1<<G),_e++}}function ht(Oe,it){for(var _e=j,be=$,J=0,Qe,mt;_e<=be;){var R=it+p[_e],Ve=Oe.D[R]<0?-1:1;switch(le){case 0:if(mt=Ae(Oe.i),Qe=mt&15,J=mt>>4,Qe===0)J<15?(ie=ge(J)+(1<<J),le=4):(J=16,le=1);else{if(Qe!==1)throw new o("invalid ACn encoding");he=we(Qe),le=J?2:3}continue;case 1:case 2:Oe.D[R]?Oe.D[R]+=Ve*(Me()<<G):(J--,J===0&&(le=le===2?3:0));break;case 3:Oe.D[R]?Oe.D[R]+=Ve*(Me()<<G):(Oe.D[R]=he<<G,le=0);break;case 4:Oe.D[R]&&(Oe.D[R]+=Ve*(Me()<<G));break}_e++}le===4&&(ie--,ie===0&&(le=0))}function Vt(Oe,it,_e,be,J){var Qe=_e/ue|0,mt=_e%ue;me=Qe*Oe.A+be;var R=mt*Oe.h+J,Ve=C(Oe,me,R);it(Oe,Ve)}function sn(Oe,it,_e){me=_e/Oe.P|0;var be=_e%Oe.P,J=C(Oe,me,be);it(Oe,J)}var ae=V.length;for(K?j===0?F=q===0?Le:nt:F=q===0?Mt:ht:F=et,ae===1?ce=V[0].P*V[0].c:ce=ue*O.R;ke<=ce;){var tt=X?Math.min(ce-ke,X):ce;if(tt>0){for(Je=0;Je<ae;Je++)V[Je].Q=0;if(ie=0,ae===1)for(Se=V[0],Ze=0;Ze<tt;Ze++)sn(Se,F,ke),ke++;else for(Ze=0;Ze<tt;Ze++){for(Je=0;Je<ae;Je++)for(Se=V[Je],se=Se.h,pe=Se.A,$e=0;$e<pe;$e++)for(We=0;We<se;We++)Vt(Se,F,ke,$e,We);ke++}}if(te=0,Ye=M(D,B),!Ye)break;if(Ye.u&&(B=Ye.offset),Ye.M>=65488&&Ye.M<=65495)B+=2;else break}return B-ee}function w(D,B,O){var V=D.$,X=D.D,j,$,q,G,Q,ue,K,ee,fe,te,ie,le,he,me,Se,Je,$e;if(!V)throw new o("missing required Quantization Table.");for(var We=0;We<64;We+=8){if(fe=X[B+We],te=X[B+We+1],ie=X[B+We+2],le=X[B+We+3],he=X[B+We+4],me=X[B+We+5],Se=X[B+We+6],Je=X[B+We+7],fe*=V[We],(te|ie|le|he|me|Se|Je)===0){$e=Y*fe+512>>10,O[We]=$e,O[We+1]=$e,O[We+2]=$e,O[We+3]=$e,O[We+4]=$e,O[We+5]=$e,O[We+6]=$e,O[We+7]=$e;continue}te*=V[We+1],ie*=V[We+2],le*=V[We+3],he*=V[We+4],me*=V[We+5],Se*=V[We+6],Je*=V[We+7],j=Y*fe+128>>8,$=Y*he+128>>8,q=ie,G=Se,Q=T*(te-Je)+128>>8,ee=T*(te+Je)+128>>8,ue=le<<4,K=me<<4,j=j+$+1>>1,$=j-$,$e=q*S+G*v+128>>8,q=q*v-G*S+128>>8,G=$e,Q=Q+K+1>>1,K=Q-K,ee=ee+ue+1>>1,ue=ee-ue,j=j+G+1>>1,G=j-G,$=$+q+1>>1,q=$-q,$e=Q*_+ee*y+2048>>12,Q=Q*y-ee*_+2048>>12,ee=$e,$e=ue*m+K*h+2048>>12,ue=ue*h-K*m+2048>>12,K=$e,O[We]=j+ee,O[We+7]=j-ee,O[We+1]=$+K,O[We+6]=$-K,O[We+2]=q+ue,O[We+5]=q-ue,O[We+3]=G+Q,O[We+4]=G-Q}for(var Ze=0;Ze<8;++Ze){if(fe=O[Ze],te=O[Ze+8],ie=O[Ze+16],le=O[Ze+24],he=O[Ze+32],me=O[Ze+40],Se=O[Ze+48],Je=O[Ze+56],(te|ie|le|he|me|Se|Je)===0){$e=Y*fe+8192>>14,$e<-2040?$e=0:$e>=2024?$e=255:$e=$e+2056>>4,X[B+Ze]=$e,X[B+Ze+8]=$e,X[B+Ze+16]=$e,X[B+Ze+24]=$e,X[B+Ze+32]=$e,X[B+Ze+40]=$e,X[B+Ze+48]=$e,X[B+Ze+56]=$e;continue}j=Y*fe+2048>>12,$=Y*he+2048>>12,q=ie,G=Se,Q=T*(te-Je)+2048>>12,ee=T*(te+Je)+2048>>12,ue=le,K=me,j=(j+$+1>>1)+4112,$=j-$,$e=q*S+G*v+2048>>12,q=q*v-G*S+2048>>12,G=$e,Q=Q+K+1>>1,K=Q-K,ee=ee+ue+1>>1,ue=ee-ue,j=j+G+1>>1,G=j-G,$=$+q+1>>1,q=$-q,$e=Q*_+ee*y+2048>>12,Q=Q*y-ee*_+2048>>12,ee=$e,$e=ue*m+K*h+2048>>12,ue=ue*h-K*m+2048>>12,K=$e,fe=j+ee,Je=j-ee,te=$+K,Se=$-K,ie=q+ue,me=q-ue,le=G+Q,he=G-Q,fe<16?fe=0:fe>=4080?fe=255:fe>>=4,te<16?te=0:te>=4080?te=255:te>>=4,ie<16?ie=0:ie>=4080?ie=255:ie>>=4,le<16?le=0:le>=4080?le=255:le>>=4,he<16?he=0:he>=4080?he=255:he>>=4,me<16?me=0:me>=4080?me=255:me>>=4,Se<16?Se=0:Se>=4080?Se=255:Se>>=4,Je<16?Je=0:Je>=4080?Je=255:Je>>=4,X[B+Ze]=fe,X[B+Ze+8]=te,X[B+Ze+16]=ie,X[B+Ze+24]=le,X[B+Ze+32]=he,X[B+Ze+40]=me,X[B+Ze+48]=Se,X[B+Ze+56]=Je}}function k(D,B){for(var O=B.P,V=B.c,X=new Int16Array(64),j=0;j<V;j++)for(var $=0;$<O;$++){var q=C(B,j,$);w(B,q,X)}return B.D}function M(D,B,O){O==null&&(O=B);var V=D.length-1,X=O<B?O:B;if(B>=V)return null;var j=u(D,B);if(j>=65472&&j<=65534)return{u:null,M:j,offset:B};for(var $=u(D,X);!($>=65472&&$<=65534);){if(++X>=V)return null;$=u(D,X)}return{u:j.toString(16),M:$,offset:X}}return A.prototype={parse(D,B){B==null&&(B={});var O=B.F,V=0,X=null,j=null,$,q,G=0;function Q(){var R=u(D,V);V+=2;var Ve=V+R-2,Ke=M(D,Ve,V);Ke&&Ke.u&&(Ve=Ke.offset);var re=D.subarray(V,Ve);return V+=re.length,re}function ue(R){for(var Ve=Math.ceil(R.o/8/R.X),Ke=Math.ceil(R.s/8/R.B),re=0;re<R.W.length;re++){ht=R.W[re];var ye=Math.ceil(Math.ceil(R.o/8)*ht.h/R.X),Pe=Math.ceil(Math.ceil(R.s/8)*ht.A/R.B),wt=Ve*ht.h,ft=Ke*ht.A,_t=64*ft*(wt+1);ht.D=new Int16Array(_t),ht.P=ye,ht.c=Pe}R.m=Ve,R.R=Ke}var K=[],ee=[],fe=[],te=u(D,V);if(V+=2,te!==65496)throw new o("SOI not found");te=u(D,V),V+=2;e:for(;te!==65497;){var ie,le,he;switch(te){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var me=Q();te===65504&&me[0]===74&&me[1]===70&&me[2]===73&&me[3]===70&&me[4]===0&&(X={version:{d:me[5],T:me[6]},K:me[7],j:me[8]<<8|me[9],H:me[10]<<8|me[11],S:me[12],I:me[13],C:me.subarray(14,14+3*me[12]*me[13])}),te===65518&&me[0]===65&&me[1]===100&&me[2]===111&&me[3]===98&&me[4]===101&&(j={version:me[5]<<8|me[6],k:me[7]<<8|me[8],q:me[9]<<8|me[10],a:me[11]});break;case 65499:var Se=u(D,V),Je;V+=2;for(var $e=Se+V-2;V<$e;){var We=D[V++],Ze=new Uint16Array(64);if(We>>4===0)for(le=0;le<64;le++)Je=p[le],Ze[Je]=D[V++];else if(We>>4===1)for(le=0;le<64;le++)Je=p[le],Ze[Je]=u(D,V),V+=2;else throw new o("DQT - invalid table spec");K[We&15]=Ze}break;case 65472:case 65473:case 65474:if($)throw new o("Only single frame JPEGs supported");V+=2,$={},$.G=te===65473,$.Z=te===65474,$.precision=D[V++];var F=u(D,V),ke,Ye=0,ce=0;V+=2,$.s=O||F,$.o=u(D,V),V+=2,$.W=[],$._={};var se=D[V++];for(ie=0;ie<se;ie++){ke=D[V];var pe=D[V+1]>>4,Me=D[V+1]&15;Ye<pe&&(Ye=pe),ce<Me&&(ce=Me);var Ae=D[V+2];he=$.W.push({h:pe,A:Me,L:Ae,$:null}),$._[ke]=he-1,V+=3}$.X=Ye,$.B=ce,ue($);break;case 65476:var ge=u(D,V);for(V+=2,ie=2;ie<ge;){var we=D[V++],et=new Uint8Array(16),Le=0;for(le=0;le<16;le++,V++)Le+=et[le]=D[V];var nt=new Uint8Array(Le);for(le=0;le<Le;le++,V++)nt[le]=D[V];ie+=17+Le,(we>>4===0?fe:ee)[we&15]=P(et,nt)}break;case 65501:V+=2,q=u(D,V),V+=2;break;case 65498:var Mt=++G===1&&!O,ht;V+=2;var Vt=D[V++],sn=[];for(ie=0;ie<Vt;ie++){var ae=D[V++],tt=$._[ae];ht=$.W[tt],ht.index=ae;var Oe=D[V++];ht.J=fe[Oe>>4],ht.i=ee[Oe&15],sn.push(ht)}var it=D[V++],_e=D[V++],be=D[V++];try{var J=W(D,V,$,sn,q,it,_e,be>>4,be&15,Mt);V+=J}catch(R){if(R instanceof DNLMarkerError)return this.parse(D,{F:R.s});if(R instanceof EOIMarkerError)break e;throw R}break;case 65500:V+=4;break;case 65535:D[V]!==255&&V--;break;default:var Qe=M(D,V-2,V-3);if(Qe&&Qe.u){V=Qe.offset;break}if(V>=D.length-1)break e;throw new o("JpegImage.parse - unknown marker: "+te.toString(16))}te=u(D,V),V+=2}for(this.width=$.o,this.height=$.s,this.g=X,this.b=j,this.W=[],ie=0;ie<$.W.length;ie++){ht=$.W[ie];var mt=K[ht.L];mt&&(ht.$=mt),this.W.push({index:ht.index,e:k($,ht),l:ht.h/$.X,t:ht.A/$.B,P:ht.P,c:ht.c})}this.p=this.W.length},Y(D,B,O){O==null&&(O=!1);var V=this.width/D,X=this.height/B,j,$,q,G,Q,ue,K,ee,fe,te,ie=0,le,he=this.W.length,me=D*B*he,Se=new Uint8ClampedArray(me),Je=new Uint32Array(D),$e=4294967288,We;for(K=0;K<he;K++){if(j=this.W[K],$=j.l*V,q=j.t*X,ie=K,le=j.e,G=j.P+1<<3,$!==We){for(Q=0;Q<D;Q++)ee=0|Q*$,Je[Q]=(ee&$e)<<3|ee&7;We=$}for(ue=0;ue<B;ue++)for(ee=0|ue*q,te=G*(ee&$e)|(ee&7)<<3,Q=0;Q<D;Q++)Se[ie]=le[te+Je[Q]],ie+=he}var Ze=this.V;if(!O&&he===4&&!Ze&&(Ze=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Ze)for(K=0;K<me;)for(ee=0,fe=0;ee<he;ee++,K++,fe+=2)Se[K]=(Se[K]*Ze[fe]>>8)+Ze[fe+1];return Se},get f(){return this.b?!!this.b.a:this.p===3?this.N===0?!1:!(this.W[0].index===82&&this.W[1].index===71&&this.W[2].index===66):this.N===1},z:function(B){for(var O,V,X,j=0,$=B.length;j<$;j+=3)O=B[j],V=B[j+1],X=B[j+2],B[j]=O-179.456+1.402*X,B[j+1]=O+135.459-.344*V-.714*X,B[j+2]=O-226.816+1.772*V;return B},O:function(B){for(var O,V,X,j,$=0,q=0,G=B.length;q<G;q+=4)O=B[q],V=B[q+1],X=B[q+2],j=B[q+3],B[$++]=-122.67195406894+V*(-660635669420364e-19*V+.000437130475926232*X-54080610064599e-18*O+.00048449797120281*j-.154362151871126)+X*(-.000957964378445773*X+.000817076911346625*O-.00477271405408747*j+1.53380253221734)+O*(.000961250184130688*O-.00266257332283933*j+.48357088451265)+j*(-.000336197177618394*j+.484791561490776),B[$++]=107.268039397724+V*(219927104525741e-19*V-.000640992018297945*X+.000659397001245577*O+.000426105652938837*j-.176491792462875)+X*(-.000778269941513683*X+.00130872261408275*O+.000770482631801132*j-.151051492775562)+O*(.00126935368114843*O-.00265090189010898*j+.25802910206845)+j*(-.000318913117588328*j-.213742400323665),B[$++]=-20.810012546947+V*(-.000570115196973677*V-263409051004589e-19*X+.0020741088115012*O-.00288260236853442*j+.814272968359295)+X*(-153496057440975e-19*X-.000132689043961446*O+.000560833691242812*j-.195152027534049)+O*(.00174418132927582*O-.00255243321439347*j+.116935020465145)+j*(-.000343531996510555*j+.24165260232407);return B.subarray(0,$)},r:function(B){for(var O,V,X,j=0,$=B.length;j<$;j+=4)O=B[j],V=B[j+1],X=B[j+2],B[j]=434.456-O-1.402*X,B[j+1]=119.541-O+.344*V+.714*X,B[j+2]=481.816-O-1.772*V;return B},U:function(B){for(var O,V,X,j,$=0,q=0,G=B.length;q<G;q+=4)O=B[q],V=B[q+1],X=B[q+2],j=B[q+3],B[$++]=255+O*(-6747147073602441e-20*O+.0008379262121013727*V+.0002894718188643294*X+.003264231057537806*j-1.1185611867203937)+V*(26374107616089405e-21*V-8626949158638572e-20*X-.0002748769067499491*j-.02155688794978967)+X*(-3878099212869363e-20*X-.0003267808279485286*j+.0686742238595345)-j*(.0003361971776183937*j+.7430659151342254),B[$++]=255+O*(.00013596372813588848*O+.000924537132573585*V+.00010567359618683593*X+.0004791864687436512*j-.3109689587515875)+V*(-.00023545346108370344*V+.0002702845253534714*X+.0020200308977307156*j-.7488052167015494)+X*(6834815998235662e-20*X+.00015168452363460973*j-.09751927774728933)-j*(.0003189131175883281*j+.7364883807733168),B[$++]=255+O*(13598650411385307e-21*O+.00012423956175490851*V+.0004751985097583589*X-36729317476630422e-22*j-.05562186980264034)+V*(.00016141380598724676*V+.0009692239130725186*X+.0007782692450036253*j-.44015232367526463)+X*(5068882914068769e-22*X+.0017778369011375071*j-.7591454649749609)-j*(.0003435319965105553*j+.7063770186160144);return B.subarray(0,$)},getData:function(D){var B=D.width,O=D.height,V=D.forceRGB,X=D.isSourcePDF;if(this.p>4)throw new o("Unsupported color mode");var j=this.Y(B,O,X);if(this.p===1&&V){for(var $=j.length,q=new Uint8ClampedArray($*3),G=0,Q=0;Q<$;Q++){var ue=j[Q];q[G++]=ue,q[G++]=ue,q[G++]=ue}return q}else{if(this.p===3&&this.f)return this.z(j);if(this.p===4){if(this.f)return V?this.O(j):this.r(j);if(V)return this.U(j)}}return j}},A})();function u(f,p){return f[p]<<8|f[p+1]}i.JpegDecoder=c})(),i.encodeImage=function(o,c,u,f){var p={t256:[c],t257:[u],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[u],t279:[c*u*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(f)for(var h in f)p[h]=f[h];for(var m=new Uint8Array(i.encode([p])),y=new Uint8Array(o),_=new Uint8Array(1e3+c*u*4),h=0;h<m.length;h++)_[h]=m[h];for(var h=0;h<y.length;h++)_[1e3+h]=y[h];return _.buffer},i.encode=function(o){var c=new Uint8Array(2e4),u=4,f=i._binBE;c[0]=c[1]=77,f.writeUshort(c,2,42);var p=8;f.writeUint(c,u,p),u+=4;for(var h=0;h<o.length;h++){var m=i._writeIFD(f,i._types.basic,c,p,o[h]);p=m[1],h<o.length-1&&((p&3)!=0&&(p+=4-(p&3)),f.writeUint(c,m[0],p))}return c.slice(0,p).buffer},i.decode=function(o,c){c==null&&(c={parseMN:!0,debug:!1});var u=new Uint8Array(o),f=0,p=i._binBE.readASCII(u,f,2);f+=2;var h=p=="II"?i._binLE:i._binBE;h.readUshort(u,f),f+=2;var m=h.readUint(u,f);f+=4;for(var y=[];;){var _=h.readUshort(u,m),v=h.readUshort(u,m+4);if(_!=0&&(v<1||13<v)){r("error in TIFF");break}if(i._readIFD(h,u,m,y,0,c),m=h.readUint(u,m+2+_*12),m==0)break}return y},i.decodeImage=function(o,c,u){if(!c.data){var f=new Uint8Array(o),p=i._binBE.readASCII(f,0,2);if(c.t256!=null){c.isLE=p=="II",c.width=c.t256[0],c.height=c.t257[0];var h=c.t259?c.t259[0]:1,m=c.t266?c.t266[0]:1;c.t284&&c.t284[0]==2&&r("PlanarConfiguration 2 should not be used!"),h==7&&c.t258&&c.t258.length>3&&(c.t258=c.t258.slice(0,3));var y=c.t277?c.t277[0]:1,_=c.t258?c.t258[0]:1,v=_*y;h==1&&c.t279!=null&&c.t278&&c.t262[0]==32803&&(v=Math.round(c.t279[0]*8/(c.width*c.t278[0]))),c.t50885&&c.t50885[0]==4&&(v=c.t258[0]*3);var S=Math.ceil(c.width*v/8)*8,Y=c.t273;(Y==null||c.t322)&&(Y=c.t324);var T=c.t279;h==1&&Y.length==1&&(T=[c.height*(S>>>3)]),(T==null||c.t322)&&(T=c.t325);var A=new Uint8Array(c.height*(S>>>3)),P=0;if(c.t322!=null){for(var C=c.t322[0],W=c.t323[0],w=Math.floor((c.width+C-1)/C),k=Math.floor((c.height+W-1)/W),M=new Uint8Array(Math.ceil(C*W*v/8)|0),D=0;D<k;D++)for(var B=0;B<w;B++){var O=D*w+B;M.fill(0),i.decode._decompress(c,u,f,Y[O],T[O],h,M,0,m,C,W),h==6?A=M:i._copyTile(M,Math.ceil(C*v/8)|0,W,A,Math.ceil(c.width*v/8)|0,c.height,Math.ceil(B*C*v/8)|0,D*W)}P=A.length*8}else{if(Y==null)return;var V=c.t278?c.t278[0]:c.height;V=Math.min(V,c.height);for(var O=0;O<Y.length;O++)i.decode._decompress(c,u,f,Y[O],T[O],h,A,Math.ceil(P/8)|0,m,c.width,V),P+=S*V;P=Math.min(P,A.length*8)}c.data=new Uint8Array(A.buffer,0,Math.ceil(P/8)|0)}}},i.decode._decompress=function(o,c,u,f,p,h,m,y,_,v,S){if(o.t271&&o.t271[0]=="Panasonic"&&o.t45&&o.t45[0]==6&&(h=34316),h==1)for(var Y=0;Y<p;Y++)m[y+Y]=u[f+Y];else if(h==2)i.decode._decodeG2(u,f,p,m,y,v,_);else if(h==3)i.decode._decodeG3(u,f,p,m,y,v,_,o.t292?(o.t292[0]&1)==1:!1);else if(h==4)i.decode._decodeG4(u,f,p,m,y,v,_);else if(h==5)i.decode._decodeLZW(u,f,p,m,y,8);else if(h==6)i.decode._decodeOldJPEG(o,u,f,p,m,y);else if(h==7||h==34892)i.decode._decodeNewJPEG(o,u,f,p,m,y);else if(h==8||h==32946){var T=new Uint8Array(u.buffer,f+2,p-6),A=a.inflateRaw(T);y+A.length<=m.length&&m.set(A,y)}else h==9?i.decode._decodeVC5(u,f,p,m,y,o.t33422):h==32767?i.decode._decodeARW(o,u,f,p,m,y):h==32773?i.decode._decodePackBits(u,f,p,m,y):h==32809?i.decode._decodeThunder(u,f,p,m,y):h==34316?i.decode._decodePanasonic(o,u,f,p,m,y):h==34713?i.decode._decodeNikon(o,c,u,f,p,m,y):h==34676?i.decode._decodeLogLuv32(o,u,f,p,m,y):r("Unknown compression",h);var P=o.t258?Math.min(32,o.t258[0]):1,C=o.t277?o.t277[0]:1,W=P*C>>>3,w=Math.ceil(P*C*v/8);if(P==16&&!o.isLE&&o.t33422==null)for(var k=0;k<S;k++)for(var M=y+k*w,D=1;D<w;D+=2){var B=m[M+D];m[M+D]=m[M+D-1],m[M+D-1]=B}if(o.t317&&o.t317[0]==2)for(var k=0;k<S;k++){var O=y+k*w;if(P==16)for(var Y=W;Y<w;Y+=2){var V=(m[O+Y+1]<<8|m[O+Y])+(m[O+Y-W+1]<<8|m[O+Y-W]);m[O+Y]=V&255,m[O+Y+1]=V>>>8&255}else if(C==3)for(var Y=3;Y<w;Y+=3)m[O+Y]=m[O+Y]+m[O+Y-3]&255,m[O+Y+1]=m[O+Y+1]+m[O+Y-2]&255,m[O+Y+2]=m[O+Y+2]+m[O+Y-1]&255;else for(var Y=W;Y<w;Y++)m[O+Y]=m[O+Y]+m[O+Y-W]&255}},i.decode._decodePanasonic=function(o,c,u,f,p,h){var m=c.buffer,y=o.t2[0],_=o.t3[0],v=o.t10[0],S=o.t45[0],Y=0,T=0,A=0,P=0,C=S==6?new Uint32Array(18):new Uint8Array(16),W,w,k,M=[0,0],D=[0,0],B,O=0,V,X,j,$,q=new Uint8Array(16384),G=new Uint16Array(p.buffer);function Q(Me){if(A==0){var Ae=new Uint8Array(m,u+T+8184,8200),ge=new Uint8Array(m,u+T,8184);q.set(Ae),q.set(ge,Ae.length),T+=16384}if(S==5)for(W=0;W<16;W++)C[W]=q[A++],A&=16383;else return A=A-Me&131071,P=A>>3^16368,(q[P]|q[P+1]<<8)>>(A&7)&~(-1<<Me)}function ue(Me){return q[A+15-Me]}function K(){C[0]=ue(0)<<6|ue(1)>>2,C[1]=((ue(1)&3)<<12|ue(2)<<4|ue(3)>>4)&16383,C[2]=ue(3)>>2&3,C[3]=(ue(3)&3)<<8|ue(4),C[4]=ue(5)<<2|ue(6)>>6,C[5]=(ue(6)&63)<<4|ue(7)>>4,C[6]=ue(7)>>2&3,C[7]=(ue(7)&3)<<8|ue(8),C[8]=ue(9)<<2&1020|ue(10)>>6,C[9]=(ue(10)<<4|ue(11)>>4)&1023,C[10]=ue(11)>>2&3,C[11]=(ue(11)&3)<<8|ue(12),C[12]=(ue(13)<<2&1020|ue(14)>>6)&1023,C[13]=(ue(14)<<4|ue(15)>>4)&1023,A+=16,P=0}function ee(){C[0]=ue(0)<<4|ue(1)>>4,C[1]=((ue(1)&15)<<8|ue(2))&4095,C[2]=ue(3)>>6&3,C[3]=(ue(3)&63)<<2|ue(4)>>6,C[4]=(ue(4)&63)<<2|ue(5)>>6,C[5]=(ue(5)&63)<<2|ue(6)>>6,C[6]=ue(6)>>4&3,C[7]=(ue(6)&15)<<4|ue(7)>>4,C[8]=(ue(7)&15)<<4|ue(8)>>4,C[9]=(ue(8)&15)<<4|ue(9)>>4,C[10]=ue(9)>>2&3,C[11]=(ue(9)&3)<<6|ue(10)>>2,C[12]=(ue(10)&3)<<6|ue(11)>>2,C[13]=(ue(11)&3)<<6|ue(12)>>2,C[14]=ue(12)&3,C[15]=ue(13),C[16]=ue(14),C[17]=ue(15),A+=16,P=0}function fe(){M[0]=0,M[1]=0,D[0]=0,D[1]=0}if(S==7)throw S;if(S==6){var te=v==12,ie=te?ee:K,le=te?14:11,he=te?128:512,me=te?2048:8192,Se=te?16383:65535,Je=te?4095:16383,$e=y/le,We=$e*16,Ze=te?18:14;for(X=0;X<_-15;X+=16){var F=Math.min(16,_-X),ke=We*F;for(q=new Uint8Array(m,u+Y,ke),A=0,Y+=ke,$=0,j=0;$<F;$++,j=0){O=(X+$)*y;for(var Ye=0;Ye<$e;Ye++)for(ie(),fe(),k=0,V=0,W=0;W<le;W++){if(B=W&1,W%3==2){var ce=P<Ze?C[P++]:0;ce==3&&(ce=4),V=he<<ce,k=1<<ce}var se=P<Ze?C[P++]:0;M[B]?(se*=k,V<me&&D[B]>V&&(se+=D[B]-V),D[B]=se):(M[B]=se,se?D[B]=se:se=D[B]),G[O+j++]=se-15<=Se?se-15&Se:se+2147483633>>31&Je}}}}else if(S==5){var pe=v==12?10:9;for(X=0;X<_;X++)for(j=0;j<y;j+=pe)Q(0),v==12?(G[O++]=((C[1]&15)<<8)+C[0],G[O++]=16*C[2]+(C[1]>>4),G[O++]=((C[4]&15)<<8)+C[3],G[O++]=16*C[5]+(C[4]>>4),G[O++]=((C[7]&15)<<8)+C[6],G[O++]=16*C[8]+(C[7]>>4),G[O++]=((C[10]&15)<<8)+C[9],G[O++]=16*C[11]+(C[10]>>4),G[O++]=((C[13]&15)<<8)+C[12],G[O++]=16*C[14]+(C[13]>>4)):v==14&&(G[O++]=C[0]+((C[1]&63)<<8),G[O++]=(C[1]>>6)+4*C[2]+((C[3]&15)<<10),G[O++]=(C[3]>>4)+16*C[4]+((C[5]&3)<<12),G[O++]=((C[5]&252)>>2)+(C[6]<<6),G[O++]=C[7]+((C[8]&63)<<8),G[O++]=(C[8]>>6)+4*C[9]+((C[10]&15)<<10),G[O++]=(C[10]>>4)+16*C[11]+((C[12]&3)<<12),G[O++]=((C[12]&252)>>2)+(C[13]<<6),G[O++]=C[14]+((C[15]&63)<<8))}else if(S==4)for(X=0;X<_;X++)for(j=0;j<y;j++)W=j%14,B=W&1,W==0&&fe(),W%3==2&&(k=4>>3-Q(2)),D[B]?(w=Q(8),w!=0&&(M[B]-=128<<k,(M[B]<0||k==4)&&(M[B]&=~(-1<<k)),M[B]+=w<<k)):(D[B]=Q(8),(D[B]||W>11)&&(M[B]=D[B]<<4|Q(4))),G[O++]=M[j&1];else throw S},i.decode._decodeVC5=(function(){var o=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],c,u,f,p=[3,3,3,3,2,2,2,1,1,1],h=24576,m=16384,y=8192,_=m|y;function v(k){var M=k[1],D=k[0][M>>>3]>>>7-(M&7)&1;return k[1]++,D}function S(k,M){if(c==null){c={};for(var D=0;D<o.length;D+=4)c[o[D+1]]=o.slice(D,D+4)}for(var B=v(k),O=c[B];O==null;)B=B<<1|v(k),O=c[B];var V=O[3];V!=0&&(V=v(k)==0?V:-V),M[0]=O[2],M[1]=V}function Y(k,M){for(var D=0;D<M;D++)(k&1)==1&&k++,k=k>>>1;return k}function T(k,M){return k>>M}function A(k,M,D,B,O,V){M[D]=T(T(11*k[O]-4*k[O+V]+k[O+V+V]+4,3)+k[B],1),M[D+V]=T(T(5*k[O]+4*k[O+V]-k[O+V+V]+4,3)-k[B],1)}function P(k,M,D,B,O,V){var X=k[O-V]-k[O+V],j=k[O],$=k[B];M[D]=T(T(X+4,3)+j+$,1),M[D+V]=T(T(-X+4,3)+j-$,1)}function C(k,M,D,B,O,V){M[D]=T(T(5*k[O]+4*k[O-V]-k[O-V-V]+4,3)+k[B],1),M[D+V]=T(T(11*k[O]-4*k[O-V]+k[O-V-V]+4,3)-k[B],1)}function W(k){return k=k<0?0:k>4095?4095:k,k=f[k]>>>2,k}function w(k,M,D,B,O,V){B=new Uint16Array(B.buffer);var X=Date.now(),j=i._binBE,$=M+D,q,G,Q,ue,K,ee,fe,te,ie,le;M+=4;for(var he=V[0]==1;M<$;){var me=j.readShort(k,M),Se=j.readUshort(k,M+2);if(M+=4,me==12)q=Se;else if(me==20)G=Se;else if(me==21)Q=Se;else if(me==48)ue=Se;else if(me==53)K=Se;else if(me!=35){if(me==62)ee=Se;else if(me!=101){if(me==109)fe=Se;else if(me!=84){if(me!=106){if(me!=107){if(me!=108){if(me!=102){if(me==104)te=Se;else if(me!=105){var Je=me<0?-me:me,$e=Je&65280,We=0;if(Je&_&&(Je&y?(We=Se&65535,We+=(Je&255)<<16):We=Se&65535),(Je&h)==h){if(ie==null){ie=[];for(var Ze=0;Ze<4;Ze++)ie[Ze]=new Int16Array((G>>>1)*(Q>>>1));le=new Int16Array((G>>>1)*(Q>>>1)),u=new Int16Array(1024);for(var Ze=0;Ze<1024;Ze++){var F=Ze-512,ke=Math.abs(F),q=Math.floor(768*ke*ke*ke/(65025*255))+ke;u[Ze]=Math.sign(F)*q}f=new Uint16Array(4096);for(var Ye=65535,Ze=0;Ze<4096;Ze++){var ce=Ze,se=Ye*(Math.pow(113,ce/4095)-1)/112;f[Ze]=Math.min(se,Ye)}}var pe=ie[ee],Me=Y(G,1+p[ue]),Ae=Y(Q,1+p[ue]);if(ue==0)for(var ge=0;ge<Ae;ge++)for(var we=0;we<Me;we++){var et=M+(ge*Me+we)*2;pe[ge*(G>>>1)+we]=k[et]<<8|k[et+1]}else{for(var Le=[k,M*8],nt=[],Mt=0,ht=Me*Ae,Vt=[0,0],sn=0,Se=0;Mt<ht;)for(S(Le,Vt),sn=Vt[0],Se=Vt[1];sn>0;)nt[Mt++]=Se,sn--;for(var ae=(ue-1)%3,tt=ae!=1?Me:0,Oe=ae!=0?Ae:0,ge=0;ge<Ae;ge++)for(var it=(ge+Oe)*(G>>>1)+tt,_e=ge*Me,we=0;we<Me;we++)pe[it+we]=u[nt[_e+we]+512]*K;if(ae==2){for(var te=G>>>1,be=Me*2,J=Ae*2,ge=0;ge<Ae;ge++)for(var we=0;we<be;we++){var Ze=ge*2*te+we,Qe=ge*te+we,mt=Ae*te+Qe;ge==0?A(pe,le,Ze,mt,Qe,te):ge==Ae-1?C(pe,le,Ze,mt,Qe,te):P(pe,le,Ze,mt,Qe,te)}var R=pe;pe=le,le=R;for(var ge=0;ge<J;ge++)for(var we=0;we<Me;we++){var Ze=ge*te+2*we,Qe=ge*te+we,mt=Me+Qe;we==0?A(pe,le,Ze,mt,Qe,1):we==Me-1?C(pe,le,Ze,mt,Qe,1):P(pe,le,Ze,mt,Qe,1)}var R=pe;pe=le,le=R;for(var Ve=[],Ke=2-~~((ue-1)/3),re=0;re<3;re++)Ve[re]=fe>>14-re*2&3;var ye=Ve[Ke];if(ye!=0)for(var ge=0;ge<J;ge++)for(var we=0;we<be;we++){var Ze=ge*te+we;pe[Ze]=pe[Ze]<<ye}}}if(ue==9&&ee==3)for(var Pe=ie[0],wt=ie[1],ft=ie[2],_t=ie[3],ge=0;ge<Q;ge+=2)for(var we=0;we<G;we+=2){var kt=ge*G+we,et=(ge>>>1)*(G>>>1)+(we>>>1),Wn=Pe[et],hn=wt[et]-2048,At=ft[et]-2048,Lt=_t[et]-2048,Nn=(hn<<1)+Wn,In=(At<<1)+Wn,kr=Wn+Lt,ii=Wn-Lt;he?(B[kt]=W(kr),B[kt+1]=W(In),B[kt+G]=W(Nn),B[kt+G+1]=W(ii)):(B[kt]=W(Nn),B[kt+1]=W(kr),B[kt+G]=W(ii),B[kt+G+1]=W(In))}M+=We*4}else if(Je==16388)M+=We*4;else if(!($e==8192||$e==8448||$e==9216))throw Je.toString(16)}}}}}}}}}Date.now()-X}return w})(),i.decode._decodeLogLuv32=function(o,c,u,f,p,h){for(var m=o.width,y=m*4,_=0,v=new Uint8Array(y);_<f;){for(var S=0;S<y;){var Y=c[u+_];if(_++,Y<128){for(var T=0;T<Y;T++)v[S+T]=c[u+_+T];S+=Y,_+=Y}else{Y=Y-126;for(var T=0;T<Y;T++)v[S+T]=c[u+_];S+=Y,_++}}for(var A=0;A<m;A++)p[h+0]=v[A],p[h+1]=v[A+m],p[h+2]=v[A+m*2],p[h+4]=v[A+m*3],h+=6}},i.decode._ljpeg_diff=function(o,c,u){var f=i.decode._getbithuff,p,h;return p=f(o,c,u[0],u),h=f(o,c,p,0),(h&1<<p-1)==0&&(h-=(1<<p)-1),h},i.decode._decodeARW=function(o,c,u,f,p,h){var m=o.t256[0],y=o.t257[0],_=o.t258[0],v=o.isLE?i._binLE:i._binBE,S=m*y==f||m*y*1.5==f;if(!S){y+=8;var Y=[u,0,0,0],T=new Uint16Array(32770),A=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],fe,P,C,j,X,W=0,w=i.decode._ljpeg_diff;for(T[0]=15,C=fe=0;fe<18;fe++)for(var k=32768>>>(A[fe]>>>8),P=0;P<k;P++)T[++C]=A[fe];for(j=m;j--;)for(X=0;X<y+1;X+=2)if(X==y&&(X=1),W+=w(c,Y,T),X<y){var M=W&4095;i.decode._putsF(p,(X*m+j)*_,M<<16-_)}return}if(m*y*1.5==f){for(var fe=0;fe<f;fe+=3){var D=c[u+fe+0],B=c[u+fe+1],O=c[u+fe+2];p[h+fe]=B<<4|D>>>4,p[h+fe+1]=D<<4|O>>>4,p[h+fe+2]=O<<4|B>>>4}return}var V=new Uint16Array(16),X,j,$,q,G,Q,ue,K,ee,fe,te,ie=new Uint8Array(m+1);for(X=0;X<y;X++){for(var le=0;le<m;le++)ie[le]=c[u++];for(te=0,j=0;j<m-30;te+=16){for(q=2047&($=v.readUint(ie,te)),G=2047&$>>>11,Q=15&$>>>22,ue=15&$>>>26,K=0;K<4&&128<<K<=q-G;K++);for(ee=30,fe=0;fe<16;fe++)fe==Q?V[fe]=q:fe==ue?V[fe]=G:(V[fe]=((v.readUshort(ie,te+(ee>>3))>>>(ee&7)&127)<<K)+G,V[fe]>2047&&(V[fe]=2047),ee+=7);for(fe=0;fe<16;fe++,j+=2){var M=V[fe]<<1;i.decode._putsF(p,(X*m+j)*_,M<<16-_)}j-=j&1?1:31}}},i.decode._decodeNikon=function(o,c,u,f,p,h,m){var y=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],_=o.t256[0],v=o.t257[0],S=o.t258[0],Y=0,T=0,A=i.decode._make_decoder,P=i.decode._getbithuff,C=c[0].exifIFD.makerNote,W=C.t150?C.t150:C.t140,w=0,k=W[w++],M=W[w++];(k==73||M==88)&&(w+=2110),k==70&&(Y=2),S==14&&(Y+=3);for(var D=[[0,0],[0,0]],B=o.isLE?i._binLE:i._binBE,$=0;$<2;$++)for(var O=0;O<2;O++)D[$][O]=B.readShort(W,w),w+=2;var V=1<<S&32767,X=0,j=B.readShort(W,w);w+=2,j>1&&(X=Math.floor(V/(j-1))),k==68&&M==32&&X>0&&(T=B.readShort(W,562));var $,q,G,Q,ue,K,ee=[0,0],fe=A(y[Y]),te=[f,0,0,0];for(q=0;q<v;q++)for(T&&q==T&&(fe=A(y[Y+1])),G=0;G<_;G++){$=P(u,te,fe[0],fe),Q=$&15,ue=$>>>4,K=(P(u,te,Q-ue,0)<<1)+1<<ue>>>1,(K&1<<Q-1)==0&&(K-=(1<<Q)-(ue==0?1:0)),G<2?ee[G]=D[q&1][G]+=K:ee[G&1]+=K;var ie=Math.min(Math.max(ee[G&1],0),(1<<S)-1),le=(q*_+G)*S;i.decode._putsF(h,le,ie<<16-S)}},i.decode._putsF=function(o,c,u){u=u<<8-(c&7);var f=c>>>3;o[f]|=u>>>16,o[f+1]|=u>>>8,o[f+2]|=u},i.decode._getbithuff=function(o,c,u,f){var p=0;i.decode._get_byte;var h,m=c[0],y=c[1],_=c[2],v=c[3];if(u==0||_<0)return 0;for(;!v&&_<u&&(h=o[m++])!=-1&&!(v=p);)y=(y<<8)+h,_+=8;if(h=y<<32-_>>>32-u,f?(_-=f[h+1]>>>8,h=f[h+1]&255):_-=u,_<0)throw"e";return c[0]=m,c[1]=y,c[2]=_,c[3]=v,h},i.decode._make_decoder=function(o){var c,u,f,p,h,m=[];for(c=16;c!=0&&!o[c];c--);var y=17;for(m[0]=c,f=u=1;u<=c;u++)for(p=0;p<o[u];p++,++y)for(h=0;h<1<<c-u;h++)f<=1<<c&&(m[f++]=u<<8|o[y]);return m},i.decode._decodeNewJPEG=function(o,c,u,f,p,h){f=Math.min(f,c.length-u);var m=o.t347,y=m?m.length:0,_=new Uint8Array(y+f);if(m){for(var v=216,S=217,Y=0,T=0;T<y-1&&!(m[T]==255&&m[T+1]==S);T++)_[Y++]=m[T];var A=c[u],P=c[u+1];(A!=255||P!=v)&&(_[Y++]=A,_[Y++]=P);for(var T=2;T<f;T++)_[Y++]=c[u+T]}else for(var T=0;T<f;T++)_[T]=c[u+T];if(o.t262[0]==32803||o.t259[0]==7&&o.t262[0]==34892){var C=o.t258[0],W=i.LosslessJpegDecode(_),w=W.length;if(C==16)if(o.isLE)for(var T=0;T<w;T++)p[h+(T<<1)]=W[T]&255,p[h+(T<<1)+1]=W[T]>>>8;else for(var T=0;T<w;T++)p[h+(T<<1)]=W[T]>>>8,p[h+(T<<1)+1]=W[T]&255;else if(C==14||C==12||C==10)for(var k=16-C,T=0;T<w;T++)i.decode._putsF(p,T*C,W[T]<<k);else if(C==8)for(var T=0;T<w;T++)p[h+T]=W[T];else throw new Error("unsupported bit depth "+C)}else{var M=new i.JpegDecoder;M.parse(_);for(var D=M.getData({width:M.width,height:M.height,forceRGB:!0,isSourcePDF:!1}),T=0;T<D.length;T++)p[h+T]=D[T]}o.t262[0]==6&&(o.t262[0]=2)},i.decode._decodeOldJPEGInit=function(o,c,u,f){var p=216,h=219,m=196,y=221,_=192,v=218,S=0,Y=0,T,A,P=!1,C,W,w,k=o.t513,M=k?k[0]:0,D=o.t514,B=D?D[0]:0,O=o.t324||o.t273||k,V=o.t530,X=0,j=0,$=o.t277?o.t277[0]:1,q=o.t515;if(O&&(Y=O[0],P=O.length>1),!P){if(c[u]==255&&c[u+1]==p)return{jpegOffset:u};if(k!=null&&(c[u+M]==255&&c[u+M+1]==p?S=u+M:r("JPEGInterchangeFormat does not point to SOI"),D==null?r("JPEGInterchangeFormatLength field is missing"):(M>=Y||M+B<=Y)&&r("JPEGInterchangeFormatLength field value is invalid"),S!=null))return{jpegOffset:S}}if(V!=null&&(X=V[0],j=V[1]),k!=null&&D!=null)if(B>=2&&M+B<=Y){for(c[u+M+B-2]==255&&c[u+M+B-1]==p?T=new Uint8Array(B-2):T=new Uint8Array(B),C=0;C<T.length;C++)T[C]=c[u+M+C];r("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else r("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(T==null){var G=0,Q=[];Q[G++]=255,Q[G++]=p;var ue=o.t519;if(ue==null)throw new Error("JPEGQTables tag is missing");for(C=0;C<ue.length;C++)for(Q[G++]=255,Q[G++]=h,Q[G++]=0,Q[G++]=67,Q[G++]=C,W=0;W<64;W++)Q[G++]=c[u+ue[C]+W];for(w=0;w<2;w++){var K=o[w==0?"t520":"t521"];if(K==null)throw new Error((w==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(C=0;C<K.length;C++){Q[G++]=255,Q[G++]=m;var ee=19;for(W=0;W<16;W++)ee+=c[u+K[C]+W];for(Q[G++]=ee>>>8,Q[G++]=ee&255,Q[G++]=C|w<<4,W=0;W<16;W++)Q[G++]=c[u+K[C]+W];for(W=0;W<ee;W++)Q[G++]=c[u+K[C]+16+W]}}if(Q[G++]=255,Q[G++]=_,Q[G++]=0,Q[G++]=8+3*$,Q[G++]=8,Q[G++]=o.height>>>8&255,Q[G++]=o.height&255,Q[G++]=o.width>>>8&255,Q[G++]=o.width&255,Q[G++]=$,$==1)Q[G++]=1,Q[G++]=17,Q[G++]=0;else for(C=0;C<3;C++)Q[G++]=C+1,Q[G++]=C!=0?17:(X&15)<<4|j&15,Q[G++]=C;q!=null&&q[0]!=0&&(Q[G++]=255,Q[G++]=y,Q[G++]=0,Q[G++]=4,Q[G++]=q[0]>>>8&255,Q[G++]=q[0]&255),T=new Uint8Array(Q)}var fe=-1;for(C=0;C<T.length-1;){if(T[C]==255&&T[C+1]==_){fe=C;break}C++}if(fe==-1){var te=new Uint8Array(T.length+10+3*$);te.set(T);var ie=T.length;if(fe=T.length,T=te,T[ie++]=255,T[ie++]=_,T[ie++]=0,T[ie++]=8+3*$,T[ie++]=8,T[ie++]=o.height>>>8&255,T[ie++]=o.height&255,T[ie++]=o.width>>>8&255,T[ie++]=o.width&255,T[ie++]=$,$==1)T[ie++]=1,T[ie++]=17,T[ie++]=0;else for(C=0;C<3;C++)T[ie++]=C+1,T[ie++]=C!=0?17:(X&15)<<4|j&15,T[ie++]=C}if(c[Y]==255&&c[Y+1]==v){var le=c[Y+2]<<8|c[Y+3];for(A=new Uint8Array(le+2),A[0]=c[Y],A[1]=c[Y+1],A[2]=c[Y+2],A[3]=c[Y+3],C=0;C<le-2;C++)A[C+4]=c[Y+C+4]}else{A=new Uint8Array(8+2*$);var he=0;if(A[he++]=255,A[he++]=v,A[he++]=0,A[he++]=6+2*$,A[he++]=$,$==1)A[he++]=1,A[he++]=0;else for(C=0;C<3;C++)A[he++]=C+1,A[he++]=C<<4|C;A[he++]=0,A[he++]=63,A[he++]=0}return{jpegOffset:u,tables:T,sosMarker:A,sofPosition:fe}},i.decode._decodeOldJPEG=function(o,c,u,f,p,h){var m,y,_,v,S,Y=i.decode._decodeOldJPEGInit(o,c,u,f);if(Y.jpegOffset!=null)for(y=u+f-Y.jpegOffset,v=new Uint8Array(y),m=0;m<y;m++)v[m]=c[Y.jpegOffset+m];else{for(_=Y.tables.length,v=new Uint8Array(_+Y.sosMarker.length+f+2),v.set(Y.tables),S=_,v[Y.sofPosition+5]=o.height>>>8&255,v[Y.sofPosition+6]=o.height&255,v[Y.sofPosition+7]=o.width>>>8&255,v[Y.sofPosition+8]=o.width&255,(c[u]!=255||c[u+1]!=SOS)&&(v.set(Y.sosMarker,S),S+=sosMarker.length),m=0;m<f;m++)v[S++]=c[u+m];v[S++]=255,v[S++]=EOI}var T=new i.JpegDecoder;T.parse(v);for(var A=T.getData({width:T.width,height:T.height,forceRGB:!0,isSourcePDF:!1}),m=0;m<A.length;m++)p[h+m]=A[m];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},i.decode._decodePackBits=function(o,c,u,f,p){for(var h=new Int8Array(o.buffer),m=new Int8Array(f.buffer),y=c+u;c<y;){var _=h[c];if(c++,_>=0&&_<128)for(var v=0;v<_+1;v++)m[p]=h[c],p++,c++;if(_>=-127&&_<0){for(var v=0;v<-_+1;v++)m[p]=h[c],p++;c++}}return p},i.decode._decodeThunder=function(o,c,u,f,p){for(var h=[0,1,0,-1],m=[0,1,2,3,0,-3,-2,-1],y=c+u,_=p*2,v=0;c<y;){var S=o[c],Y=S>>>6,T=S&63;if(c++,Y==3&&(v=T&15,f[_>>>1]|=v<<4*(1-_&1),_++),Y==0)for(var A=0;A<T;A++)f[_>>>1]|=v<<4*(1-_&1),_++;if(Y==2)for(var A=0;A<2;A++){var P=T>>>3*(1-A)&7;P!=4&&(v+=m[P],f[_>>>1]|=v<<4*(1-_&1),_++)}if(Y==1)for(var A=0;A<3;A++){var P=T>>>2*(2-A)&3;P!=2&&(v+=h[P],f[_>>>1]|=v<<4*(1-_&1),_++)}}},i.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},i.decode._lens=(function(){var o=function(_,v,S,Y){for(var T=0;T<v.length;T++)_[v[T]]=S+T*Y},c="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",u="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",f="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",p="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",h="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";c=c.split(","),u=u.split(","),f=f.split(","),p=p.split(","),h=h.split(",");var m={},y={};return o(m,c,0,1),o(m,f,64,64),o(m,h,1792,64),o(y,u,0,1),o(y,p,64,64),o(y,h,1792,64),[m,y]})(),i.decode._decodeG4=function(o,c,u,f,p,h,m){for(var y=i.decode,_=c<<3,v=0,S="",Y=[],T=[],A=0;A<h;A++)T.push(0);T=y._makeDiff(T);for(var P=0,C=0,W=0,w=0,k=0,M=0,D="",B=0,O=Math.ceil(h/8)*8;_>>>3<c+u;){W=y._findDiff(T,P+(P==0?0:1),1-k),w=y._findDiff(T,W,k);var V=0;if(m==1&&(V=o[_>>>3]>>>7-(_&7)&1),m==2&&(V=o[_>>>3]>>>(_&7)&1),_++,S+=V,D=="H"){if(y._lens[k][S]!=null){var X=y._lens[k][S];S="",v+=X,X<64&&(y._addNtimes(Y,v,k),P+=v,k=1-k,v=0,B--,B==0&&(D=""))}}else S=="0001"&&(S="",y._addNtimes(Y,w-P,k),P=w),S=="001"&&(S="",D="H",B=2),y._dmap[S]!=null&&(C=W+y._dmap[S],y._addNtimes(Y,C-P,k),P=C,S="",k=1-k);Y.length==h&&D==""&&(y._writeBits(Y,f,p*8+M*O),k=0,M++,P=0,T=y._makeDiff(Y),Y=[])}},i.decode._findDiff=function(o,c,u){for(var f=0;f<o.length;f+=2)if(o[f]>=c&&o[f+1]==u)return o[f]},i.decode._makeDiff=function(o){var c=[];o[0]==1&&c.push(0,1);for(var u=1;u<o.length;u++)o[u-1]!=o[u]&&c.push(u,o[u]);return c.push(o.length,0,o.length,1),c},i.decode._decodeG2=function(o,c,u,f,p,h,m){for(var y=i.decode,_=c<<3,v=0,S="",Y=[],T=0,A=0,P=Math.ceil(h/8)*8;_>>>3<c+u;){var C=0;m==1&&(C=o[_>>>3]>>>7-(_&7)&1),m==2&&(C=o[_>>>3]>>>(_&7)&1),_++,S+=C,v=y._lens[T][S],v!=null&&(y._addNtimes(Y,v,T),S="",v<64&&(T=1-T),Y.length==h&&(y._writeBits(Y,f,p*8+A*P),Y=[],A++,T=0,(_&7)!=0&&(_+=8-(_&7)),v>=64&&(_+=8)))}},i.decode._decodeG3=function(o,c,u,f,p,h,m,y){for(var _=i.decode,v=c<<3,S=0,Y="",T=[],A=[],P=0;P<h;P++)T.push(0);for(var C=0,W=0,w=0,k=0,M=0,D=-1,B="",O=0,V=!0,X=Math.ceil(h/8)*8;v>>>3<c+u;){w=_._findDiff(A,C+(C==0?0:1),1-M),k=_._findDiff(A,w,M);var j=0;if(m==1&&(j=o[v>>>3]>>>7-(v&7)&1),m==2&&(j=o[v>>>3]>>>(v&7)&1),v++,Y+=j,V){if(_._lens[M][Y]!=null){var $=_._lens[M][Y];Y="",S+=$,$<64&&(_._addNtimes(T,S,M),M=1-M,S=0)}}else if(B=="H"){if(_._lens[M][Y]!=null){var $=_._lens[M][Y];Y="",S+=$,$<64&&(_._addNtimes(T,S,M),C+=S,M=1-M,S=0,O--,O==0&&(B=""))}}else Y=="0001"&&(Y="",_._addNtimes(T,k-C,M),C=k),Y=="001"&&(Y="",B="H",O=2),_._dmap[Y]!=null&&(W=w+_._dmap[Y],_._addNtimes(T,W-C,M),C=W,Y="",M=1-M);Y.endsWith("000000000001")&&(D>=0&&_._writeBits(T,f,p*8+D*X),y&&(m==1&&(V=(o[v>>>3]>>>7-(v&7)&1)==1),m==2&&(V=(o[v>>>3]>>>(v&7)&1)==1),v++),Y="",M=0,D++,C=0,A=_._makeDiff(T),T=[])}T.length==h&&_._writeBits(T,f,p*8+D*X)},i.decode._addNtimes=function(o,c,u){for(var f=0;f<c;f++)o.push(u)},i.decode._writeBits=function(o,c,u){for(var f=0;f<o.length;f++)c[u+f>>>3]|=o[f]<<7-(u+f&7)},i.decode._decodeLZW=i.decode._decodeLZW=(function(){var o,c,u,f,p=0,h=0,m=0,y=0,_=function(){var W=o>>>3,w=c[W]<<16|c[W+1]<<8|c[W+2],k=w>>>24-(o&7)-h&(1<<h)-1;return o+=h,k},v=new Uint32Array(4096*4),S=0,Y=function(W){if(W!=S){S=W,m=1<<W,y=m+1;for(var w=0;w<y+1;w++)v[4*w]=v[4*w+3]=w,v[4*w+1]=65535,v[4*w+2]=1}},T=function(W){h=W+1,p=y+1},A=function(W){for(var w=W<<2,k=v[w+2],M=f+k-1;w!=65535;)u[M--]=v[w],w=v[w+1];f+=k},P=function(W,w){var k=p<<2,M=W<<2;v[k]=v[(w<<2)+3],v[k+1]=M,v[k+2]=v[M+2]+1,v[k+3]=v[M+3],p++,p+1==1<<h&&h!=12&&h++},C=function(W,w,k,M,D,B){o=w<<3,c=W,u=M,f=D;var O=w+k<<3,V=0,X=0;for(Y(B),T(B);o<O&&(V=_())!=y;){if(V==m){if(T(B),V=_(),V==y)break;A(V)}else V<p?(A(V),P(X,V)):(P(X,X),A(p-1));X=V}return f};return C})(),i.tags={},i._types=(function(){var o=new Array(250);o.fill(0),o=o.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var c={33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7};return{basic:{main:o,rest:c},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}})(),i._readIFD=function(o,c,u,f,p,h){var m=o.readUshort(c,u);u+=2;var y={};h.debug&&r("   ".repeat(p),f.length-1,">>>----------------");for(var _=0;_<m;_++){var v=o.readUshort(c,u);u+=2;var S=o.readUshort(c,u);u+=2;var Y=o.readUint(c,u);u+=4;var T=o.readUint(c,u);u+=4;var A=[];if(S==1||S==7){var P=Y<5?u-4:T;P+Y>c.buffer.byteLength&&(Y=c.buffer.byteLength-P),A=new Uint8Array(c.buffer,P,Y)}if(S==2){var C=Y<5?u-4:T,W=c[C],w=Math.max(0,Math.min(Y-1,c.length-C));W<128||w==0?A.push(o.readASCII(c,C,w)):A=new Uint8Array(c.buffer,C,w)}if(S==3)for(var k=0;k<Y;k++)A.push(o.readUshort(c,(Y<3?u-4:T)+2*k));if(S==4||S==13)for(var k=0;k<Y;k++)A.push(o.readUint(c,(Y<2?u-4:T)+4*k));if(S==5||S==10)for(var M=S==5?o.readUint:o.readInt,k=0;k<Y;k++)A.push([M(c,T+k*8),M(c,T+k*8+4)]);if(S==8)for(var k=0;k<Y;k++)A.push(o.readShort(c,(Y<3?u-4:T)+2*k));if(S==9)for(var k=0;k<Y;k++)A.push(o.readInt(c,(Y<2?u-4:T)+4*k));if(S==11)for(var k=0;k<Y;k++)A.push(o.readFloat(c,T+k*4));if(S==12)for(var k=0;k<Y;k++)A.push(o.readDouble(c,T+k*8));if(Y!=0&&A.length==0){if(r(v,"unknown TIFF tag type: ",S,"num:",Y),_==0)return;continue}if(h.debug&&r("   ".repeat(p),v,S,i.tags[v],A),y["t"+v]=A,!(v==330&&y.t272&&y.t272[0]=="DSLR-A100")){if(v==330||v==34665||v==34853||v==50740&&o.readUshort(c,o.readUint(A,0))<300||v==61440){for(var D=v==50740?[o.readUint(A,0)]:A,B=[],k=0;k<D.length;k++)i._readIFD(o,c,D[k],B,p+1,h);v==330&&(y.subIFD=B),v==34665&&(y.exifIFD=B[0]),v==34853&&(y.gpsiIFD=B[0]),v==50740&&(y.dngPrvt=B[0]),v==61440&&(y.fujiIFD=B[0])}}if(v==37500&&h.parseMN){var O=A;if(o.readASCII(O,0,5)=="Nikon")y.makerNote=i.decode(O.slice(10).buffer)[0];else if(o.readASCII(O,0,5)=="OLYMP"||o.readASCII(O,0,9)=="OM SYSTEM"){var V=[8208,8224,8240,8256,8272],X=[];i._readIFD(o,O,O[1]==77?16:O[5]==85?12:8,X,p+1,h);for(var j=y.makerNote=X.pop(),k=0;k<V.length;k++){var $="t"+V[k];j[$]!=null&&(i._readIFD(o,O,j[$][0],X,p+1,h),j[$]=X.pop())}j.t12288&&(i._readIFD(o,j.t12288,0,X,p+1,h),j.t12288=X.pop())}else if(o.readUshort(c,T)<300&&o.readUshort(c,T+4)<=12){var X=[];i._readIFD(o,c,T,X,p+1,h),y.makerNote=X[0]}}}return f.push(y),h.debug&&r("   ".repeat(p),"<<<---------------"),u},i._writeIFD=function(o,c,u,f,p){var h=Object.keys(p),m=h.length;p.exifIFD&&m--,p.gpsiIFD&&m--,o.writeUshort(u,f,m),f+=2;for(var y=f+m*12+4,_=0;_<h.length;_++){var v=h[_];if(!(v=="t34665"||v=="t34853")){v=="exifIFD"&&(v="t34665"),v=="gpsiIFD"&&(v="t34853");var S=parseInt(v.slice(1)),Y=c.main[S];if(Y==null&&(Y=c.rest[S]),Y==null||Y==0)throw new Error("unknown type of tag: "+S);var T=p[v];if(S==34665){var A=i._writeIFD(o,c,u,y,p.exifIFD);T=[y],y=A[1]}if(S==34853){var A=i._writeIFD(o,i._types.gps,u,y,p.gpsiIFD);T=[y],y=A[1]}Y==2&&(T=T[0]+"\0");var P=T.length;o.writeUshort(u,f,S),f+=2,o.writeUshort(u,f,Y),f+=2,o.writeUint(u,f,P),f+=4;var C=[-1,1,1,2,4,8,0,1,0,4,8,0,8][Y]*P,W=f;if(C>4&&(o.writeUint(u,f,y),W=y),Y==1||Y==7)for(var w=0;w<P;w++)u[W+w]=T[w];else if(Y==2)o.writeASCII(u,W,T);else if(Y==3)for(var w=0;w<P;w++)o.writeUshort(u,W+2*w,T[w]);else if(Y==4)for(var w=0;w<P;w++)o.writeUint(u,W+4*w,T[w]);else if(Y==5||Y==10)for(var k=Y==5?o.writeUint:o.writeInt,w=0;w<P;w++){var M=T[w],D=M[0],B=M[1];if(D==null)throw"e";k(u,W+8*w,D),k(u,W+8*w+4,B)}else if(Y==9)for(var w=0;w<P;w++)o.writeInt(u,W+4*w,T[w]);else if(Y==12)for(var w=0;w<P;w++)o.writeDouble(u,W+8*w,T[w]);else throw Y;C>4&&(C+=C&1,y+=C),f+=4}}return[f,y]},i.toRGBA8=function(o,c){function u(nt){return nt<.0031308?12.92*nt:1.055*Math.pow(nt,1/2.4)-.055}var f=o.width,p=o.height,h=f*p,m=o.data,y=new Uint8Array(h*4),_=o.t262?o.t262[0]:2,v=o.t258?Math.min(32,o.t258[0]):1;o.t262==null&&v==1&&(_=0);var S=o.t277?o.t277[0]:o.t258?o.t258.length:[1,1,3,1,1,4,3][_],Y=o.t339?o.t339[0]:null;if(_==1&&v==32&&Y!=3)throw"e";var T=Math.ceil(S*v*f/8);if(_==0){c=1/256;for(var A=0;A<p;A++){var P=A*T,C=A*f;if(v==1)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+(W>>3)]>>7-(W&7)&1;y[w]=y[w+1]=y[w+2]=(1-k)*255,y[w+3]=255}if(v==4)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+(W>>1)]>>4-4*(W&1)&15;y[w]=y[w+1]=y[w+2]=(15-k)*17,y[w+3]=255}if(v==8)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+W];y[w]=y[w+1]=y[w+2]=255-k,y[w+3]=255}if(v==16)for(var W=0;W<f;W++){var w=C+W<<2,M=P+2*W,k=m[M+1]<<8|m[M];y[w]=y[w+1]=y[w+2]=Math.min(255,255-~~(k*c)),y[w+3]=255}}}else if(_==1){c==null&&(c=1/256);for(var D=(m.length&3)==0?new Float32Array(m.buffer):null,A=0;A<p;A++){var P=A*T,C=A*f;if(v==1)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+(W>>3)]>>7-(W&7)&1;y[w]=y[w+1]=y[w+2]=k*255,y[w+3]=255}if(v==2)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+(W>>2)]>>6-2*(W&3)&3;y[w]=y[w+1]=y[w+2]=k*85,y[w+3]=255}if(v==8)for(var W=0;W<f;W++){var w=C+W<<2,k=m[P+W*S];y[w]=y[w+1]=y[w+2]=k,y[w+3]=255}if(v==16)for(var W=0;W<f;W++){var w=C+W<<2,M=P+2*W,k=m[M+1]<<8|m[M];y[w]=y[w+1]=y[w+2]=Math.min(255,~~(k*c)),y[w+3]=255}if(v==32)for(var W=0;W<f;W++){var w=C+W<<2,M=(P>>>2)+W,k=D[M];y[w]=y[w+1]=y[w+2]=~~(.5+255*k),y[w+3]=255}}}else if(_==2)if(v==8){if(S==1)for(var W=0;W<h;W++)y[4*W]=y[4*W+1]=y[4*W+2]=m[W],y[4*W+3]=255;if(S==3)for(var W=0;W<h;W++){var w=W<<2,B=W*3;y[w]=m[B],y[w+1]=m[B+1],y[w+2]=m[B+2],y[w+3]=255}if(S>=4)for(var W=0;W<h;W++){var w=W<<2,B=W*S;y[w]=m[B],y[w+1]=m[B+1],y[w+2]=m[B+2],y[w+3]=m[B+3]}}else if(v==16){if(S==4)for(var W=0;W<h;W++){var w=W<<2,B=W*8+1;y[w]=m[B],y[w+1]=m[B+2],y[w+2]=m[B+4],y[w+3]=m[B+6]}if(S==3)for(var W=0;W<h;W++){var w=W<<2,B=W*6+1;y[w]=m[B],y[w+1]=m[B+2],y[w+2]=m[B+4],y[w+3]=255}}else if(v==32){for(var O=new Float32Array(m.buffer),V=0,W=0;W<O.length;W++)V=Math.min(V,O[W]);if(V<0)for(var W=0;W<m.length;W+=4){var X=m[W];m[W]=m[W+3],m[W+3]=X,X=m[W+1],m[W+1]=m[W+2],m[W+2]=X}for(var j=[],W=0;W<65536;W++)j.push(u(W/65535));for(var W=0;W<O.length;W++){var $=Math.max(0,Math.min(1,O[W]));O[W]=j[~~(.5+$*65535)]}if(S==3)for(var W=0;W<h;W++){var w=W<<2,B=W*3;y[w]=~~(.5+O[B]*255),y[w+1]=~~(.5+O[B+1]*255),y[w+2]=~~(.5+O[B+2]*255),y[w+3]=255}else if(S==4)for(var W=0;W<h;W++){var w=W<<2,B=W*4;y[w]=~~(.5+O[B]*255),y[w+1]=~~(.5+O[B+1]*255),y[w+2]=~~(.5+O[B+2]*255),y[w+3]=~~(.5+O[B+3]*255)}else throw S}else throw v;else if(_==3)for(var q=o.t320,G=1<<v,Q=v==8&&S>1&&o.t338&&o.t338[0]!=0,A=0;A<p;A++)for(var ue=0;ue<f;ue++){var W=A*f+ue,w=W<<2,K=0,ee=A*T;if(v==1)K=m[ee+(ue>>>3)]>>>7-(ue&7)&1;else if(v==2)K=m[ee+(ue>>>2)]>>>6-2*(ue&3)&3;else if(v==4)K=m[ee+(ue>>>1)]>>>4-4*(ue&1)&15;else if(v==8)K=m[ee+ue*S];else throw v;y[w]=q[K]>>8,y[w+1]=q[G+K]>>8,y[w+2]=q[G+G+K]>>8,y[w+3]=Q?m[ee+ue*S+1]:255}else if(_==5)for(var fe=S>4?1:0,W=0;W<h;W++){var w=W<<2,te=W*S;if(window.UDOC){var ie=m[te],le=m[te+1],he=m[te+2],me=m[te+3],Se=UDOC.C.cmykToRgb([ie*(1/255),le*(1/255),he*(1/255),me*(1/255)]);y[w]=~~(.5+255*Se[0]),y[w+1]=~~(.5+255*Se[1]),y[w+2]=~~(.5+255*Se[2])}else{var ie=255-m[te],le=255-m[te+1],he=255-m[te+2],me=(255-m[te+3])*(1/255);y[w]=~~(ie*me+.5),y[w+1]=~~(le*me+.5),y[w+2]=~~(he*me+.5)}y[w+3]=255*(1-fe)+m[te+4]*fe}else if(_==6&&o.t278)for(var Je=o.t278[0],A=0;A<p;A+=Je)for(var W=A*f,$e=Je*f,We=0;We<$e;We++){var w=4*(W+We),te=3*W+4*(We>>>1),he=m[te+(We&1)],Ze=m[te+2]-128,F=m[te+3]-128,ke=he+((F>>2)+(F>>3)+(F>>5)),Ye=he-((Ze>>2)+(Ze>>4)+(Ze>>5))-((F>>1)+(F>>3)+(F>>4)+(F>>5)),ce=he+(Ze+(Ze>>1)+(Ze>>2)+(Ze>>6));y[w]=Math.max(0,Math.min(255,ke)),y[w+1]=Math.max(0,Math.min(255,Ye)),y[w+2]=Math.max(0,Math.min(255,ce)),y[w+3]=255}else if(_==32845)for(var A=0;A<p;A++)for(var ue=0;ue<f;ue++){var te=(A*f+ue)*6,w=(A*f+ue)*4,se=m[te+1]<<8|m[te],se=Math.pow(2,(se+.5)/256-64),pe=(m[te+3]+.5)/410,Me=(m[te+5]+.5)/410,Ae=9*pe/(6*pe-16*Me+12),ge=4*Me/(6*pe-16*Me+12),we=se,et=Ae*we/ge,he=we,Le=(1-Ae-ge)*we/ge,ke=2.69*et-1.276*he-.414*Le,Ye=-1.022*et+1.978*he+.044*Le,ce=.061*et-.224*he+1.163*Le;y[w]=u(Math.min(ke,1))*255,y[w+1]=u(Math.min(Ye,1))*255,y[w+2]=u(Math.min(ce,1))*255,y[w+3]=255}else r("Unknown Photometric interpretation: "+_);return y},i.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var c=["tif","tiff","dng","cr2","nef"],u=0;u<o.length;u++){var f=o[u],p=f.getAttribute("src");if(p!=null){var h=p.split(".").pop().toLowerCase();if(c.indexOf(h)!=-1){var m=new XMLHttpRequest;i._xhrs.push(m),i._imgs.push(f),m.open("GET",p),m.responseType="arraybuffer",m.onload=i._imgLoaded,m.send()}}}},i._xhrs=[],i._imgs=[],i._imgLoaded=function(o){var c=i._xhrs.indexOf(o.target),u=i._imgs[c];i._xhrs.splice(c,1),i._imgs.splice(c,1),u.setAttribute("src",i.bufferToURI(o.target.response))},i.bufferToURI=function(o){var c=i.decode(o),u=c,f=0,p=u[0];c[0].subIFD&&(u=u.concat(c[0].subIFD));for(var h=0;h<u.length;h++){var m=u[h];if(!(m.t258==null||m.t258.length<3)){var y=m.t256*m.t257;y>f&&(f=y,p=m)}}i.decodeImage(o,p,c);var _=i.toRGBA8(p),v=p.width,S=p.height,Y=document.createElement("canvas");Y.width=v,Y.height=S;var T=Y.getContext("2d"),A=new ImageData(new Uint8ClampedArray(_.buffer),v,S);return T.putImageData(A,0,0),Y.toDataURL()},i._binBE={nextZero:function(o,c){for(;o[c]!=0;)c++;return c},readUshort:function(o,c){return o[c]<<8|o[c+1]},readShort:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+1],u[1]=o[c+0],i._binBE.i16[0]},readInt:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+3],u[1]=o[c+2],u[2]=o[c+1],u[3]=o[c+0],i._binBE.i32[0]},readUint:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+3],u[1]=o[c+2],u[2]=o[c+1],u[3]=o[c+0],i._binBE.ui32[0]},readASCII:function(o,c,u){for(var f="",p=0;p<u;p++)f+=String.fromCharCode(o[c+p]);return f},readFloat:function(o,c){for(var u=i._binBE.ui8,f=0;f<4;f++)u[f]=o[c+3-f];return i._binBE.fl32[0]},readDouble:function(o,c){for(var u=i._binBE.ui8,f=0;f<8;f++)u[f]=o[c+7-f];return i._binBE.fl64[0]},writeUshort:function(o,c,u){o[c]=u>>8&255,o[c+1]=u&255},writeInt:function(o,c,u){var f=i._binBE.ui8;i._binBE.i32[0]=u,o[c+3]=f[0],o[c+2]=f[1],o[c+1]=f[2],o[c+0]=f[3]},writeUint:function(o,c,u){o[c]=u>>24&255,o[c+1]=u>>16&255,o[c+2]=u>>8&255,o[c+3]=u>>0&255},writeASCII:function(o,c,u){for(var f=0;f<u.length;f++)o[c+f]=u.charCodeAt(f)},writeDouble:function(o,c,u){i._binBE.fl64[0]=u;for(var f=0;f<8;f++)o[c+f]=i._binBE.ui8[7-f]}},i._binBE.ui8=new Uint8Array(8),i._binBE.i16=new Int16Array(i._binBE.ui8.buffer),i._binBE.i32=new Int32Array(i._binBE.ui8.buffer),i._binBE.ui32=new Uint32Array(i._binBE.ui8.buffer),i._binBE.fl32=new Float32Array(i._binBE.ui8.buffer),i._binBE.fl64=new Float64Array(i._binBE.ui8.buffer),i._binLE={nextZero:i._binBE.nextZero,readUshort:function(o,c){return o[c+1]<<8|o[c]},readShort:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+0],u[1]=o[c+1],i._binBE.i16[0]},readInt:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+0],u[1]=o[c+1],u[2]=o[c+2],u[3]=o[c+3],i._binBE.i32[0]},readUint:function(o,c){var u=i._binBE.ui8;return u[0]=o[c+0],u[1]=o[c+1],u[2]=o[c+2],u[3]=o[c+3],i._binBE.ui32[0]},readASCII:i._binBE.readASCII,readFloat:function(o,c){for(var u=i._binBE.ui8,f=0;f<4;f++)u[f]=o[c+f];return i._binBE.fl32[0]},readDouble:function(o,c){for(var u=i._binBE.ui8,f=0;f<8;f++)u[f]=o[c+f];return i._binBE.fl64[0]},writeUshort:function(o,c,u){o[c]=u&255,o[c+1]=u>>8&255},writeInt:function(o,c,u){var f=i._binBE.ui8;i._binBE.i32[0]=u,o[c+0]=f[0],o[c+1]=f[1],o[c+2]=f[2],o[c+3]=f[3]},writeUint:function(o,c,u){o[c]=u>>>0&255,o[c+1]=u>>>8&255,o[c+2]=u>>>16&255,o[c+3]=u>>>24&255},writeASCII:i._binBE.writeASCII},i._copyTile=function(o,c,u,f,p,h,m,y){for(var _=Math.min(c,p-m),v=Math.min(u,h-y),S=0;S<v;S++)for(var Y=(y+S)*p+m,T=S*c,A=0;A<_;A++)f[Y+A]=o[T+A]},i.LosslessJpegDecode=(function(){var o,c;function u(){return o[c++]}function f(){return o[c++]<<8|o[c++]}function p(W){for(var w=u(),k=[0,0,0,255],M=[],D=8,B=0;B<16;B++)M[B]=u();for(var B=0;B<16;B++)for(var O=0;O<M[B];O++){var V=h(k,0,B+1,1);k[V+3]=u()}var X=new Uint8Array(1<<D);W[w]=[new Uint8Array(k),X];for(var B=0;B<1<<D;B++){for(var j=D,$=B,q=0,G=0;k[q+3]==255&&j!=0;)G=$>>--j&1,q=k[q+G];X[B]=q}}function h(W,w,k,M){if(W[w+3]!=255)return 0;if(k==0)return w;for(var D=0;D<2;D++){W[w+D]==0&&(W[w+D]=W.length,W.push(0,0,M,255));var B=h(W,W[w+D],k-1,M+1);if(B!=0)return B}return 0}function m(W){for(var w=W.b,k=W.f;w<25&&W.a<W.d;){var M=W.data[W.a++];M==255&&!W.c&&W.a++,k=k<<8|M,w+=8}if(w<0)throw"e";W.b=w,W.f=k}function y(W,w){return w.b<W&&m(w),w.f>>(w.b-=W)&65535>>16-W}function _(W,w){var k=W[0],M=0,D=255,B=0;w.b<16&&m(w);var O=w.f>>w.b-8&255;for(M=W[1][O],D=k[M+3],w.b-=k[M+2];D==255;)B=w.f>>--w.b&1,M=k[M+B],D=k[M+3];return D}function v(W,w){return W<32768>>16-w&&(W+=-(1<<w)+1),W}function S(W,w){var k=_(W,w);if(k==0)return 0;if(k==16)return-32768;var M=y(k,w);return v(M,k)}function Y(W,w,k,M,D,B){for(var O=0,V=0;V<B;V++){for(var X=V*w,j=0;j<w;j+=D){O++;for(var $=0;$<D;$++)W[X+j+$]=S(M[$],k)}if(k.e!=0&&O%k.e==0&&V!=0){for(var q=k.a,G=k.data;G[q]!=255||!(208<=G[q+1]&&G[q+1]<=215);)q--;k.a=q+2,k.f=0,k.b=0}}}function T(W,w){return v(y(W,w),W)}function A(W,w,k,M,D){for(var B=o.length-c,O=0;O<B;O+=4){var V=o[c+O];o[c+O]=o[c+O+3],o[c+O+3]=V;var V=o[c+O+1];o[c+O+1]=o[c+O+2],o[c+O+2]=V}for(var X=0;X<D;X++)for(var j=32768,$=32768,q=0;q<w;q+=2){var G=_(M,k),Q=_(M,k);G!=0&&(j+=T(G,k)),Q!=0&&($+=T(Q,k)),W[X*w+q]=j&65535,W[X*w+q+1]=$&65535}}function P(W){if(o=W,c=0,f()!=65496)throw"e";for(var w=[],k=0,M=0,D=0,B=[],O=[],V=[],X=0,j=0,$=0;;){var q=f();if(q==65535){c--;continue}var G=f();if(q==65475){M=u(),j=f(),$=f(),X=u();for(var Q=0;Q<X;Q++){var ue=u(),K=u(),ee=u();if(ee!=0)throw"e";w[ue]=[Q,K>>4,K&15]}}else if(q==65476)for(var fe=c+G-2;c<fe;)p(O);else if(q==65498){c++;for(var Q=0;Q<X;Q++){var te=u(),ie=w[te];V[ie[0]]=O[u()>>>4],B[ie[0]]=ie.slice(1)}k=u(),c+=2;break}else q==65501?D=f():c+=G-2}var le=M>8?Uint16Array:Uint8Array,he=new le(j*$*X),me={b:0,f:0,c:k==8,a:c,data:o,d:o.length,e:D};if(me.c)A(he,$*X,me,V[0],j);else{for(var Se=[],Je=0,$e=0,Q=0;Q<X;Q++){var We=B[Q],Ze=We[0],F=We[1];Ze>Je&&(Je=Ze),F>$e&&($e=F),Se.push(Ze*F)}if(Je!=1||$e!=1){if(X!=3||Se[1]!=1||Se[2]!=1||Je!=2||$e!=1&&$e!=2)throw"e";for(var ke=[],Ye=0,Q=0;Q<X;Q++){for(var ce=0;ce<Se[Q];ce++)ke.push(V[Q]);Ye+=Se[Q]}var se=$/Je,pe=j/$e,Me=se*pe;Y(he,se*Ye,me,ke,Ye,pe),C(he,k,se,pe,Ye-2,Ye,Ye,M);var Ae=new Uint16Array(Me*Se[0]);if(Je==2&&$e==2){for(var Q=0;Q<Me;Q++)Ae[4*Q]=he[6*Q],Ae[4*Q+1]=he[6*Q+1],Ae[4*Q+2]=he[6*Q+2],Ae[4*Q+3]=he[6*Q+3];C(Ae,k,se*4,pe,0,1,1,M);for(var Q=0;Q<Me;Q++)he[6*Q]=Ae[4*Q],he[6*Q+1]=Ae[4*Q+1],he[6*Q+2]=Ae[4*Q+2],he[6*Q+3]=Ae[4*Q+3]}if(Je==2&&$e==1){for(var Q=0;Q<Me;Q++)Ae[2*Q]=he[4*Q],Ae[2*Q+1]=he[4*Q+1];C(Ae,k,se*2,pe,0,1,1,M);for(var Q=0;Q<Me;Q++)he[4*Q]=Ae[2*Q],he[4*Q+1]=Ae[2*Q+1]}for(var ge=he.slice(0),F=0;F<j;F++)if($e==2)for(var Ze=0;Ze<$;Ze++){var we=(F*$+Ze)*X,et=((F>>>1)*se+(Ze>>>1))*Ye,Le=(F&1)*2+(Ze&1);he[we]=ge[et+Le],he[we+1]=ge[et+4],he[we+2]=ge[et+5]}else for(var Ze=0;Ze<$;Ze++){var we=(F*$+Ze)*X,et=(F*se+(Ze>>>1))*Ye,Le=Ze&1;he[we]=ge[et+Le],he[we+1]=ge[et+2],he[we+2]=ge[et+3]}}else if(Y(he,$*X,me,V,X,j),D==0)C(he,k,$,j,0,X,X,M);else for(var nt=Math.floor(D/$),F=0;F<j;F+=nt){var Mt=he.slice(F*$*X,(F+nt)*$*X);C(Mt,k,$,nt,0,X,X,M),he.set(Mt,F*$*X)}}return he}function C(W,w,k,M,D,B,O,V){for(var X=k*O,j=D;j<B;j++)W[j]+=1<<V-1;for(var $=O;$<X;$+=O)for(var j=D;j<B;j++)W[$+j]+=W[$+j-O];for(var q=1;q<M;q++){for(var G=q*X,j=D;j<B;j++)W[G+j]+=W[G+j-X];for(var $=O;$<X;$+=O)for(var j=D;j<B;j++){var Q=G+$+j,ue=Q-X,K=W[Q-O],ee=0;if(w==0)ee=0;else if(w==1)ee=K;else if(w==2)ee=W[ue];else if(w==3)ee=W[ue-O];else if(w==4)ee=K+(W[ue]-W[ue-O]);else if(w==5)ee=K+(W[ue]-W[ue-O]>>>1);else if(w==6)ee=W[ue]+(K-W[ue-O]>>>1);else if(w==7)ee=K+W[ue]>>>1;else throw w;W[Q]+=ee}}}return P})(),(function(){var o=0,c=1,u=2,f=3,p=4,h=5,m=6,y=7,_=8,v=9,S=10,Y=11,T=12,A=13,P=14,C=15,W=16,w=17,k=18;function M(te){var ie=i._binBE.readUshort,le={b:ie(te,0),i:te[2],C:te[3],u:te[4],q:ie(te,5),k:ie(te,7),e:ie(te,9),l:ie(te,11),s:te[13],d:ie(te,14)};if(le.b!=18771||le.i>1||le.q<6||le.q%6||le.e<768||le.e%24||le.l!=768||le.k<le.l||le.k%le.l||le.k-le.e>=le.l||le.s>16||le.s!=le.k/le.l||le.s!=Math.ceil(le.e/le.l)||le.d!=le.q/6||le.u!=12&&le.u!=14&&le.u!=16||le.C!=16&&le.C!=0)throw"Invalid data";if(le.i==0)throw"Not implemented. We need this file!";return le.h=le.C==16,le.m=(le.h?le.l*2/3:le.l>>>1)|0,le.A=le.m+2,le.f=64,le.g=(1<<le.u)-1,le.n=4*le.u,le}function D(te,ie){var le=new Array(ie.s),he=4*ie.s,me=16+he;he&12&&(me+=16-(he&12));for(var Se=0,Je=16;Se<ie.s;Je+=4){var $e=i._binBE.readUint(te,Je);le[Se]=te.slice(me,me+$e),le[Se].j=0,le[Se].a=0,me+=$e,Se++}if(me!=te.length)throw"Invalid data";return le}function B(te,ie){for(var le=-ie[4],he=0;le<=ie[4];he++,le++)te[he]=le<=-276?-4:le<=-67?-3:le<=-18?-2:le<-0?-1:le<=ie[0]?0:le<ie[1]?1:le<ie[2]?2:le<ie[3]?3:4}function O(te,ie,le){var he=[ie,3*ie+18,5*ie+67,7*ie+276,le];te.o=ie,te.w=(he[4]+2*ie)/(2*ie+1)+1|0,te.v=Math.ceil(Math.log2(te.w)),te.t=9,B(te.c,he)}function V(te){var ie={c:new Int8Array(2<<te.u)};return O(ie,0,te.g),ie}function X(te){for(var ie=[[],[],[]],le=Math.max(2,te.w+32>>>6),he=0;he<3;he++)for(var me=0;me<41;me++)ie[he][me]=[le,1];return ie}function j(te){for(var ie=-1,le=0;!le;ie++)le=te[te.j]>>>7-te.a&1,te.a++,te.a&=7,te.a||te.j++;return ie}function $(te,ie){var le=0,he=8-te.a;if(te.j,te.a,ie){if(ie>=he)do le<<=he,ie-=he,le|=te[te.j]&(1<<he)-1,te.j++,he=8;while(ie>=8);ie&&(le<<=ie,he-=ie,le|=te[te.j]>>>he&(1<<ie)-1),te.a=8-he}return le}function q(te,ie){var le=0;if(ie<te)for(;le<=14&&ie<<++le<te;);return le}function G(te,ie,le,he,me,Se,Je,$e){$e==null&&($e=0);var We=Se+1,Ze=We%2,F=0,ke,Ye,ce=he[me],se=he[me-1],pe=he[me-2][We],Me=se[We-1],Ae=se[We],ge=se[We+1],we=ce[We-1],et=ce[We+1],Le=Math.abs,nt,Mt,ht,Vt;if(Ze&&(nt=Le(ge-Ae),Mt=Le(pe-Ae),ht=Le(Me-Ae)),Ze){if(Vt=nt>ht&&Mt<nt?pe+Me:nt<ht&&Mt<ht?pe+ge:ge+Me,Vt=Vt+2*Ae>>>2,$e){ce[We]=Vt;return}ke=ie.t*ie.c[te.g+Ae-pe]+ie.c[te.g+Me-Ae]}else Vt=Ae>Me&&Ae>ge||Ae<Me&&Ae<ge?et+we+2*Ae>>>2:we+et>>>1,ke=ie.t*ie.c[te.g+Ae-Me]+ie.c[te.g+Me-we];Ye=Le(ke);var sn=j(le);if(sn<te.n-ie.v-1){var ae=q(Je[Ye][0],Je[Ye][1]);F=$(le,ae)+(sn<<ae)}else F=$(le,ie.v)+1;F=F&1?-1-(F>>>1):F>>>1,Je[Ye][0]+=Le(F),Je[Ye][1]==te.f&&(Je[Ye][0]>>>=1,Je[Ye][1]>>>=1),Je[Ye][1]++,Vt=ke<0?Vt-F:Vt+F,te.i&&(Vt<0?Vt+=ie.w:Vt>te.g&&(Vt-=ie.w)),ce[We]=Vt>=0?Math.min(Vt,te.g):0}function Q(te,ie,le){for(var he=te[0].length,me=ie;me<=le;me++)te[me][0]=te[me-1][1],te[me][he-1]=te[me-1][he-2]}function ue(te){Q(te,y,T),Q(te,u,p),Q(te,C,w)}function K(te,ie,le,he,me,Se,Je,$e,We,Ze,F,ke,Ye){for(var ce=0,se=1,pe=me<A&&me>p;se<te.m;)ce<te.m&&(G(te,ie,le,he,me,ce,Je[We],te.h&&(pe&&Ze||!pe&&(F||(ce&ke)==Ye))),G(te,ie,le,he,Se,ce,Je[We],te.h&&(!pe&&Ze||pe&&(F||(ce&ke)==Ye))),ce+=2),ce>8&&(G(te,ie,le,he,me,se,$e[We]),G(te,ie,le,he,Se,se,$e[We]),se+=2);ue(he)}function ee(te,ie,le,he,me,Se){K(te,ie,le,he,u,y,me,Se,0,0,1,0,8),K(te,ie,le,he,_,C,me,Se,1,0,1,0,8),K(te,ie,le,he,f,v,me,Se,2,1,0,3,0),K(te,ie,le,he,S,W,me,Se,0,0,0,3,2),K(te,ie,le,he,p,Y,me,Se,1,0,0,3,2),K(te,ie,le,he,T,w,me,Se,2,1,0,3,0)}function fe(te,ie,le,he,me,Se){var Je=Se.length,$e=te.l;me+1==te.s&&($e=te.e-me*te.l);for(var We=6*te.e*he+me*te.l,Ze=0;Ze<6;Ze++){for(var F=0;F<$e;F++){var ke=Se[Ze%Je][F%Je],Ye;ke==0?Ye=u+(Ze>>>1):ke==2?Ye=C+(Ze>>>1):Ye=y+Ze;var ce=te.h?(F*2/3&2147483646|F%3&1)+(F%3>>>1):F>>>1;ie[We+F]=le[Ye][ce+1]}We+=te.e}}i._decompressRAF=function(te,ie){var le=M(te),he=D(te,le),me=V(le),Se=new Int16Array(le.e*le.q);ie==null&&(ie=le.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var Je=[[o,f],[c,p],[h,Y],[m,T],[A,W],[P,w]],$e=[],We=0;We<k;We++)$e[We]=new Uint16Array(le.A);for(var Ze=0;Ze<le.s;Ze++){for(var F=X(me),ke=X(me),We=0;We<k;We++)for(var Ye=0;Ye<le.A;Ye++)$e[We][Ye]=0;for(var ce=0;ce<le.d;ce++){ee(le,me,he[Ze],$e,F,ke);for(var We=0;We<6;We++)for(var Ye=0;Ye<le.A;Ye++)$e[Je[We][0]][Ye]=$e[Je[We][1]][Ye];fe(le,Se,$e,ce,Ze,ie);for(var We=u;We<k;We++)if([h,m,A,P].indexOf(We)==-1)for(var Ye=0;Ye<le.A;Ye++)$e[We][Ye]=0;ue($e)}}return Se}})()})(e,n)})()})(Fb)),Fb.exports}var Yz=bz();const Jb=xo(Yz);function xz(t){const e=t.toLowerCase();return e.endsWith(".tif")||e.endsWith(".tiff")}async function Tz(t){const e=Jb.decode(t);if(e.length===0)throw new Error("No images found in TIFF file");const n=e[0];Jb.decodeImage(t,n);const r=Jb.toRGBA8(n),i=n.width,a=n.height,o=document.createElement("canvas");o.width=i,o.height=a;const c=o.getContext("2d");if(!c)throw new Error("Failed to get canvas context");const u=c.createImageData(i,a);return u.data.set(r),c.putImageData(u,0,0),new Promise((f,p)=>{o.toBlob(h=>{h?f(URL.createObjectURL(h)):p(new Error("Failed to create blob from canvas"))},"image/png")})}async function wz(t){const e=await t.arrayBuffer();return Tz(e)}function Ct(t){if(!t)throw new Error("Assertion failed.")}const Wz=t=>{const e=(t%360+360)%360;if(e===0||e===90||e===180||e===270)return e;throw new Error(`Invalid rotation ${t}.`)},e0=t=>t&&t[t.length-1];class Ea{constructor(e){this.bytes=e,this.pos=0}seekToByte(e){this.pos=8*e}readBit(){const e=Math.floor(this.pos/8),n=this.bytes[e]??0,r=7-(this.pos&7),i=(n&1<<r)>>r;return this.pos++,i}readBits(e){if(e===1)return this.readBit();let n=0;for(let r=0;r<e;r++)n<<=1,n|=this.readBit();return n}writeBits(e,n){const r=this.pos+e;for(let i=this.pos;i<r;i++){const a=Math.floor(i/8);let o=this.bytes[a];const c=7-(i&7);o&=~(1<<c),o|=(n&1<<r-i-1)>>r-i-1<<c,this.bytes[a]=o}this.pos=r}readAlignedByte(){if(this.pos%8!==0)throw new Error("Bitstream is not byte-aligned.");const e=this.pos/8,n=this.bytes[e]??0;return this.pos+=8,n}skipBits(e){this.pos+=e}getBitsLeft(){return this.bytes.length*8-this.pos}clone(){const e=new Ea(this.bytes);return e.pos=this.pos,e}}const pc=t=>t.constructor===Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),po=t=>t.constructor===DataView?t:t instanceof ArrayBuffer?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),e_=new TextDecoder;new TextEncoder;const RT=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>[n,e])),g6={bt709:1,bt470bg:5,smpte170m:6,bt2020:9,smpte432:12},Ez=RT(g6),y6={bt709:1,smpte170m:6,linear:8,"iec61966-2-1":13,pq:16,hlg:18},Uz=RT(y6),v6={rgb:0,bt709:1,bt470bg:5,smpte170m:6,"bt2020-ncl":9},Cz=RT(v6),Az=t=>t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||ArrayBuffer.isView(t),wU=t=>[...t].map(e=>e.toString(16).padStart(2,"0")).join(""),WU=t=>(t=t>>1&1431655765|(t&1431655765)<<1,t=t>>2&858993459|(t&858993459)<<2,t=t>>4&252645135|(t&252645135)<<4,t=t>>8&16711935|(t&16711935)<<8,t=t>>16&65535|(t&65535)<<16,t>>>0),kz=(t,e,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+i>>1,c=n(t[o]);c===e?(a=o,i=o-1):c<e?r=o+1:i=o-1}return a},pi=(t,e,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+(i-r+1)/2|0;n(t[o])<=e?(a=o,r=o+1):i=o-1}return a},EU=(t,e,n)=>{const r=pi(t,n(e),n);t.splice(r+1,0,e)},ys=()=>{let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}},Iz=(t,e)=>{for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1},Xz=async function*(t){Symbol.iterator in t?yield*t[Symbol.iterator]():yield*t[Symbol.asyncIterator]()},Rz=t=>{if(!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t))throw new TypeError("Argument must be an iterable or async iterable.")},_6=t=>{throw new Error(`Unexpected value: ${t}`)},S6=(t,e,n)=>{const r=t.getUint8(e),i=t.getUint8(e+1),a=t.getUint8(e+2);return r<<16|i<<8|a},UU=(t,e)=>({async next(){const n=await t.next();return n.done?{value:void 0,done:!0}:{value:e(n.value),done:!1}},return(){return t.return()},throw(n){return t.throw(n)},[Symbol.asyncIterator](){return this}}),CU=(t,e,n)=>Math.max(e,Math.min(n,t)),AU="und",Pz=(t,e)=>{const n=10**e;return Math.round(t*n)/n},Mz=(t,e)=>Math.round(t/e)*e,Oz=/^[a-z]{3}$/,Nz=t=>Oz.test(t),Eu=1e6*(1+Number.EPSILON);class Dz{constructor(){this.currentPromise=Promise.resolve()}call(e){return this.currentPromise=this.currentPromise.then(e)}}let eY=null;const tY=()=>{if(eY!==null)return eY;const t=!!(typeof navigator<"u"&&navigator.vendor?.match(/apple/i)&&!navigator.userAgent?.match(/crios/i)&&!navigator.userAgent?.match(/fxios/i)&&!navigator.userAgent?.match(/Opera|OPT\//));return eY=t,t};let nY=null;const ax=()=>nY!==null?nY:nY=typeof navigator<"u"&&navigator.userAgent?.includes("Firefox"),ox=(t,e,n,r)=>t<=r&&n<=e,b6=()=>{Symbol.dispose??=Symbol("Symbol.dispose")},PT=t=>typeof t=="number"&&!Number.isNaN(t);class fv{constructor(e,n){if(this.data=e,this.mimeType=n,!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(typeof n!="string")throw new TypeError("mimeType must be a string.")}}const MT=["pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be","pcm-u8","pcm-s8","ulaw","alaw"],Uu=[{maxPictureSize:36864,maxBitrate:2e5,level:10},{maxPictureSize:73728,maxBitrate:8e5,level:11},{maxPictureSize:122880,maxBitrate:18e5,level:20},{maxPictureSize:245760,maxBitrate:36e5,level:21},{maxPictureSize:552960,maxBitrate:72e5,level:30},{maxPictureSize:983040,maxBitrate:12e6,level:31},{maxPictureSize:2228224,maxBitrate:18e6,level:40},{maxPictureSize:2228224,maxBitrate:3e7,level:41},{maxPictureSize:8912896,maxBitrate:6e7,level:50},{maxPictureSize:8912896,maxBitrate:12e7,level:51},{maxPictureSize:8912896,maxBitrate:18e7,level:52},{maxPictureSize:35651584,maxBitrate:18e7,level:60},{maxPictureSize:35651584,maxBitrate:24e7,level:61},{maxPictureSize:35651584,maxBitrate:48e7,level:62}],kU=".01.01.01.01.00",IU=".0.110.01.01.01.0",Bz=t=>{const{codec:e,codecDescription:n,colorSpace:r,avcCodecInfo:i,hevcCodecInfo:a,vp9CodecInfo:o,av1CodecInfo:c}=t;if(e==="avc"){if(i){const u=new Uint8Array([i.avcProfileIndication,i.profileCompatibility,i.avcLevelIndication]);return`avc1.${wU(u)}`}if(!n||n.byteLength<4)throw new TypeError("AVC decoder description is not provided or is not at least 4 bytes long.");return`avc1.${wU(n.subarray(1,4))}`}else if(e==="hevc"){let u,f,p,h,m,y;if(a)u=a.generalProfileSpace,f=a.generalProfileIdc,p=WU(a.generalProfileCompatibilityFlags),h=a.generalTierFlag,m=a.generalLevelIdc,y=[...a.generalConstraintIndicatorFlags];else{if(!n||n.byteLength<23)throw new TypeError("HEVC decoder description is not provided or is not at least 23 bytes long.");const v=po(n),S=v.getUint8(1);u=S>>6&3,f=S&31,p=WU(v.getUint32(2)),h=S>>5&1,m=v.getUint8(12),y=[];for(let Y=0;Y<6;Y++)y.push(v.getUint8(6+Y))}let _="hev1.";for(_+=["","A","B","C"][u]+f,_+=".",_+=p.toString(16).toUpperCase(),_+=".",_+=h===0?"L":"H",_+=m;y.length>0&&y[y.length-1]===0;)y.pop();return y.length>0&&(_+=".",_+=y.map(v=>v.toString(16).toUpperCase()).join(".")),_}else{if(e==="vp8")return"vp8";if(e==="vp9"){if(!o){const Y=t.width*t.height;let T=e0(Uu).level;for(const A of Uu)if(Y<=A.maxPictureSize){T=A.level;break}return`vp09.00.${T.toString().padStart(2,"0")}.08`}const u=o.profile.toString().padStart(2,"0"),f=o.level.toString().padStart(2,"0"),p=o.bitDepth.toString().padStart(2,"0"),h=o.chromaSubsampling.toString().padStart(2,"0"),m=o.colourPrimaries.toString().padStart(2,"0"),y=o.transferCharacteristics.toString().padStart(2,"0"),_=o.matrixCoefficients.toString().padStart(2,"0"),v=o.videoFullRangeFlag.toString().padStart(2,"0");let S=`vp09.${u}.${f}.${p}.${h}`;return S+=`.${m}.${y}.${_}.${v}`,S.endsWith(kU)&&(S=S.slice(0,-kU.length)),S}else if(e==="av1"){if(!c){const A=t.width*t.height;let P=e0(Uu).level;for(const C of Uu)if(A<=C.maxPictureSize){P=C.level;break}return`av01.0.${P.toString().padStart(2,"0")}M.08`}const u=c.profile,f=c.level.toString().padStart(2,"0"),p=c.tier?"H":"M",h=c.bitDepth.toString().padStart(2,"0"),m=c.monochrome?"1":"0",y=100*c.chromaSubsamplingX+10*c.chromaSubsamplingY+1*(c.chromaSubsamplingX&&c.chromaSubsamplingY?c.chromaSamplePosition:0),_=r?.primaries?g6[r.primaries]:1,v=r?.transfer?y6[r.transfer]:1,S=r?.matrix?v6[r.matrix]:1,Y=r?.fullRange?1:0;let T=`av01.${u}.${f}${p}.${h}`;return T+=`.${m}.${y.toString().padStart(3,"0")}`,T+=`.${_.toString().padStart(2,"0")}`,T+=`.${v.toString().padStart(2,"0")}`,T+=`.${S.toString().padStart(2,"0")}`,T+=`.${Y}`,T.endsWith(IU)&&(T=T.slice(0,-IU.length)),T}}throw new TypeError(`Unhandled codec '${e}'.`)},Vz=t=>{const{codec:e,codecDescription:n,aacCodecInfo:r}=t;if(e==="aac"){if(!r)throw new TypeError("AAC codec info must be provided.");return r.isMpeg2?"mp4a.67":`mp4a.40.${Y6(n).objectType}`}else{if(e==="mp3")return"mp3";if(e==="opus")return"opus";if(e==="vorbis")return"vorbis";if(e==="flac")return"flac";if(e&&MT.includes(e))return e}throw new TypeError(`Unhandled codec '${e}'.`)},XU=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Fz=[-1,1,2,3,4,5,6,8],Y6=t=>{if(!t||t.byteLength<2)throw new TypeError("AAC description must be at least 2 bytes long.");const e=new Ea(t);let n=e.readBits(5);n===31&&(n=32+e.readBits(6));const r=e.readBits(4);let i=null;r===15?i=e.readBits(24):r<XU.length&&(i=XU[r]);const a=e.readBits(4);let o=null;return a>=1&&a<=7&&(o=Fz[a]),{objectType:n,frequencyIndex:r,sampleRate:i,channelConfiguration:a,numberOfChannels:o}},Lz=48e3,Zz=/^pcm-([usf])(\d+)+(be)?$/,zz=t=>{if(Ct(MT.includes(t)),t==="ulaw")return{dataType:"ulaw",sampleSize:1,littleEndian:!0,silentValue:255};if(t==="alaw")return{dataType:"alaw",sampleSize:1,littleEndian:!0,silentValue:213};const e=Zz.exec(t);Ct(e);let n;e[1]==="u"?n="unsigned":e[1]==="s"?n="signed":n="float";const r=Number(e[2])/8,i=e[3]!=="be",a=t==="pcm-u8"?2**7:0;return{dataType:n,sampleSize:r,littleEndian:i,silentValue:a}};var lx;(function(t){t[t.IDR=5]="IDR",t[t.SPS=7]="SPS",t[t.PPS=8]="PPS",t[t.SPS_EXT=13]="SPS_EXT"})(lx||(lx={}));var t0;(function(t){t[t.RASL_N=8]="RASL_N",t[t.RASL_R=9]="RASL_R",t[t.BLA_W_LP=16]="BLA_W_LP",t[t.RSV_IRAP_VCL23=23]="RSV_IRAP_VCL23",t[t.VPS_NUT=32]="VPS_NUT",t[t.SPS_NUT=33]="SPS_NUT",t[t.PPS_NUT=34]="PPS_NUT",t[t.PREFIX_SEI_NUT=39]="PREFIX_SEI_NUT",t[t.SUFFIX_SEI_NUT=40]="SUFFIX_SEI_NUT"})(t0||(t0={}));const x6=t=>{const e=[];let n=0;for(;n<t.length;){let r=-1,i=0;for(let a=n;a<t.length-3;a++){if(t[a]===0&&t[a+1]===0&&t[a+2]===1){r=a,i=3;break}if(a<t.length-4&&t[a]===0&&t[a+1]===0&&t[a+2]===0&&t[a+3]===1){r=a,i=4;break}}if(r===-1)break;if(n>0&&r>n){const a=t.subarray(n,r);a.length>0&&e.push(a)}n=r+i}if(n<t.length){const r=t.subarray(n);r.length>0&&e.push(r)}return e},T6=(t,e)=>{const n=[];let r=0;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;r+e<=t.length;){let a;e===1?a=i.getUint8(r):e===2?a=i.getUint16(r,!1):e===3?a=S6(i,r):e===4?a=i.getUint32(r,!1):(_6(e),Ct(!1)),r+=e;const o=t.subarray(r,r+a);n.push(o),r+=a}return n},$z=(t,e)=>{if(e.description){const i=(pc(e.description)[4]&3)+1;return T6(t,i)}else return x6(t)},Kz=t=>t[0]&31,w6=(t,e)=>{if(e.description){const i=(pc(e.description)[21]&3)+1;return T6(t,i)}else return x6(t)},W6=t=>t[0]>>1&63,jz=t=>{const e=new Ea(t);if(e.readBits(2)!==2)return null;const r=e.readBits(1),a=(e.readBits(1)<<1)+r;if(a===3&&e.skipBits(1),e.readBits(1)===1||e.readBits(1)!==0||(e.skipBits(2),e.readBits(24)!==4817730))return null;let f=8;a>=2&&(f=e.readBits(1)?12:10);const p=e.readBits(3);let h=0,m=0;if(p!==7)if(m=e.readBits(1),a===1||a===3){const w=e.readBits(1),k=e.readBits(1);h=!w&&!k?3:w&&!k?2:1,e.skipBits(1)}else h=1;else h=3,m=1;const y=e.readBits(16),_=e.readBits(16),v=y+1,S=_+1,Y=v*S;let T=e0(Uu).level;for(const W of Uu)if(Y<=W.maxPictureSize){T=W.level;break}return{profile:a,level:T,bitDepth:f,chromaSubsampling:h,videoFullRangeFlag:m,colourPrimaries:p===2?1:p===1?6:2,transferCharacteristics:p===2?1:p===1?6:2,matrixCoefficients:p===7?0:p===2?1:p===1?6:2}},E6=function*(t){const e=new Ea(t),n=()=>{let r=0;for(let i=0;i<8;i++){const a=e.readAlignedByte();if(r|=(a&127)<<i*7,!(a&128))break;if(i===7&&a&128)return null}return r>=2**32-1?null:r};for(;e.getBitsLeft()>=8;){e.skipBits(1);const r=e.readBits(4),i=e.readBits(1),a=e.readBits(1);e.skipBits(1),i&&e.skipBits(8);let o;if(a){const c=n();if(c===null)return;o=c}else o=Math.floor(e.getBitsLeft()/8);Ct(e.pos%8===0),yield{type:r,data:t.subarray(e.pos/8,e.pos/8+o)},e.skipBits(o*8)}},Hz=t=>{for(const{type:e,data:n}of E6(t)){if(e!==1)continue;const r=new Ea(n),i=r.readBits(3);r.readBits(1);const a=r.readBits(1);let o=0,c=0,u=0;if(a)o=r.readBits(5);else{if(r.readBits(1)&&(r.skipBits(32),r.skipBits(32),r.readBits(1)))return null;const S=r.readBits(1);S&&(u=r.readBits(5),r.skipBits(32),r.skipBits(5),r.skipBits(5));const Y=r.readBits(5);for(let T=0;T<=Y;T++){r.skipBits(12);const A=r.readBits(5);if(T===0&&(o=A),A>7){const C=r.readBits(1);T===0&&(c=C)}if(S&&r.readBits(1)){const W=u+1;r.skipBits(W),r.skipBits(W),r.skipBits(1)}r.readBits(1)&&r.skipBits(4)}}const f=r.readBits(1);let p=8;i===2&&f?p=r.readBits(1)?12:10:i<=2&&(p=f?10:8);let h=0;i!==1&&(h=r.readBits(1));let m=1,y=1,_=0;return h||(i===0?(m=1,y=1):i===1?(m=0,y=0):p===12&&(m=r.readBits(1),m&&(y=r.readBits(1))),m&&y&&(_=r.readBits(2))),{profile:i,level:o,tier:c,bitDepth:p,monochrome:h,chromaSubsamplingX:m,chromaSubsamplingY:y,chromaSamplePosition:_}}return null},U6=(t,e,n)=>{switch(t){case"avc":return $z(n,e).some(a=>Kz(a)===lx.IDR)?"key":"delta";case"hevc":return w6(n,e).some(a=>{const o=W6(a);return t0.BLA_W_LP<=o&&o<=t0.RSV_IRAP_VCL23})?"key":"delta";case"vp8":return(n[0]&1)===0?"key":"delta";case"vp9":{const r=new Ea(n);if(r.readBits(2)!==2)return null;const i=r.readBits(1);return(r.readBits(1)<<1)+i===3&&r.skipBits(1),r.readBits(1)?null:r.readBits(1)===0?"key":"delta"}case"av1":{let r=!1;for(const{type:i,data:a}of E6(n))if(i===1){const o=new Ea(a);o.skipBits(4),r=!!o.readBits(1)}else if(i===3||i===6||i===7){if(r)return"key";const o=new Ea(a);return o.readBits(1)?null:o.readBits(2)===0?"key":"delta"}return null}default:_6(t),Ct(!1)}};var cx;(function(t){t[t.STREAMINFO=0]="STREAMINFO",t[t.VORBIS_COMMENT=4]="VORBIS_COMMENT",t[t.PICTURE=6]="PICTURE"})(cx||(cx={}));class Gz{constructor(e){this.input=e}}const C6=[],qz=[];const t_=new Uint8Array(0);class oa{constructor(e,n,r,i,a=-1,o,c){if(this.data=e,this.type=n,this.timestamp=r,this.duration=i,this.sequenceNumber=a,e===t_&&o===void 0)throw new Error("Internal error: byteLength must be explicitly provided when constructing metadata-only packets.");if(o===void 0&&(o=e.byteLength),!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(n!=="key"&&n!=="delta")throw new TypeError('type must be either "key" or "delta".');if(!Number.isFinite(r))throw new TypeError("timestamp must be a number.");if(!Number.isFinite(i)||i<0)throw new TypeError("duration must be a non-negative number.");if(!Number.isFinite(a))throw new TypeError("sequenceNumber must be a number.");if(!Number.isInteger(o)||o<0)throw new TypeError("byteLength must be a non-negative integer.");if(c!==void 0&&(typeof c!="object"||!c))throw new TypeError("sideData, when provided, must be an object.");if(c?.alpha!==void 0&&!(c.alpha instanceof Uint8Array))throw new TypeError("sideData.alpha, when provided, must be a Uint8Array.");if(c?.alphaByteLength!==void 0&&(!Number.isInteger(c.alphaByteLength)||c.alphaByteLength<0))throw new TypeError("sideData.alphaByteLength, when provided, must be a non-negative integer.");this.byteLength=o,this.sideData=c??{},this.sideData.alpha&&this.sideData.alphaByteLength===void 0&&(this.sideData.alphaByteLength=this.sideData.alpha.byteLength)}get isMetadataOnly(){return this.data===t_}get microsecondTimestamp(){return Math.trunc(Eu*this.timestamp)}get microsecondDuration(){return Math.trunc(Eu*this.duration)}toEncodedVideoChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}alphaToEncodedVideoChunk(e=this.type){if(!this.sideData.alpha)throw new TypeError("This packet does not contain alpha side data.");if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.sideData.alpha,type:e,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}toEncodedAudioChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to an audio chunk.");if(typeof EncodedAudioChunk>"u")throw new Error("Your browser does not support EncodedAudioChunk.");return new EncodedAudioChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}static fromEncodedChunk(e,n){if(!(e instanceof EncodedVideoChunk||e instanceof EncodedAudioChunk))throw new TypeError("chunk must be an EncodedVideoChunk or EncodedAudioChunk.");const r=new Uint8Array(e.byteLength);return e.copyTo(r),new oa(r,e.type,e.timestamp/1e6,(e.duration??0)/1e6,void 0,void 0,n)}clone(e){if(e!==void 0&&(typeof e!="object"||e===null))throw new TypeError("options, when provided, must be an object.");if(e?.timestamp!==void 0&&!Number.isFinite(e.timestamp))throw new TypeError("options.timestamp, when provided, must be a number.");if(e?.duration!==void 0&&!Number.isFinite(e.duration))throw new TypeError("options.duration, when provided, must be a number.");return new oa(this.data,this.type,e?.timestamp??this.timestamp,e?.duration??this.duration,this.sequenceNumber,this.byteLength)}}b6();class fl{get displayWidth(){return this.rotation%180===0?this.codedWidth:this.codedHeight}get displayHeight(){return this.rotation%180===0?this.codedHeight:this.codedWidth}get microsecondTimestamp(){return Math.trunc(Eu*this.timestamp)}get microsecondDuration(){return Math.trunc(Eu*this.duration)}get hasAlpha(){return this.format&&this.format.includes("A")}constructor(e,n){if(this._closed=!1,e instanceof ArrayBuffer||ArrayBuffer.isView(e)){if(!n||typeof n!="object")throw new TypeError("init must be an object.");if(!("format"in n)||typeof n.format!="string")throw new TypeError("init.format must be a string.");if(!Number.isInteger(n.codedWidth)||n.codedWidth<=0)throw new TypeError("init.codedWidth must be a positive integer.");if(!Number.isInteger(n.codedHeight)||n.codedHeight<=0)throw new TypeError("init.codedHeight must be a positive integer.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(n.timestamp))throw new TypeError("init.timestamp must be a number.");if(n.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=pc(e).slice(),this.format=n.format,this.codedWidth=n.codedWidth,this.codedHeight=n.codedHeight,this.rotation=n.rotation??0,this.timestamp=n.timestamp,this.duration=n.duration??0,this.colorSpace=new VideoColorSpace(n.colorSpace)}else if(typeof VideoFrame<"u"&&e instanceof VideoFrame){if(n?.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(n?.timestamp!==void 0&&!Number.isFinite(n?.timestamp))throw new TypeError("init.timestamp, when provided, must be a number.");if(n?.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=e,this.format=e.format,this.codedWidth=e.displayWidth,this.codedHeight=e.displayHeight,this.rotation=n?.rotation??0,this.timestamp=n?.timestamp??e.timestamp/1e6,this.duration=n?.duration??(e.duration??0)/1e6,this.colorSpace=e.colorSpace}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof SVGImageElement<"u"&&e instanceof SVGImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){if(!n||typeof n!="object")throw new TypeError("init must be an object.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(n.timestamp))throw new TypeError("init.timestamp must be a number.");if(n.duration!==void 0&&(!Number.isFinite(n.duration)||n.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");if(typeof VideoFrame<"u")return new fl(new VideoFrame(e,{timestamp:Math.trunc(n.timestamp*Eu),duration:Math.trunc((n.duration??0)*Eu)||void 0}),n);let r=0,i=0;if("naturalWidth"in e?(r=e.naturalWidth,i=e.naturalHeight):"videoWidth"in e?(r=e.videoWidth,i=e.videoHeight):"width"in e&&(r=Number(e.width),i=Number(e.height)),!r||!i)throw new TypeError("Could not determine dimensions.");const a=new OffscreenCanvas(r,i),o=a.getContext("2d",{alpha:ax(),willReadFrequently:!0});Ct(o),o.drawImage(e,0,0),this._data=a,this.format="RGBX",this.codedWidth=r,this.codedHeight=i,this.rotation=n.rotation??0,this.timestamp=n.timestamp,this.duration=n.duration??0,this.colorSpace=new VideoColorSpace({matrix:"rgb",primaries:"bt709",transfer:"iec61966-2-1",fullRange:!0})}else throw new TypeError("Invalid data type: Must be a BufferSource or CanvasImageSource.")}clone(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),dg(this._data)?new fl(this._data.clone(),{timestamp:this.timestamp,duration:this.duration,rotation:this.rotation}):this._data instanceof Uint8Array?new fl(this._data.slice(),{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation}):new fl(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation})}close(){this._closed||(dg(this._data)?this._data.close():this._data=null,this._closed=!0)}allocationSize(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),dg(this._data)?this._data.allocationSize():this._data instanceof Uint8Array?this._data.byteLength:this.codedWidth*this.codedHeight*4}async copyTo(e){if(!Az(e))throw new TypeError("destination must be an ArrayBuffer or an ArrayBuffer view.");if(this._closed)throw new Error("VideoSample is closed.");if(Ct(this._data!==null),dg(this._data))await this._data.copyTo(e);else if(this._data instanceof Uint8Array)pc(e).set(this._data);else{const r=this._data.getContext("2d");Ct(r);const i=r.getImageData(0,0,this.codedWidth,this.codedHeight);pc(e).set(i.data)}}toVideoFrame(){if(this._closed)throw new Error("VideoSample is closed.");return Ct(this._data!==null),dg(this._data)?new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0}):this._data instanceof Uint8Array?new VideoFrame(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0,colorSpace:this.colorSpace}):new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0})}draw(e,n,r,i,a,o,c,u,f){let p=0,h=0,m=this.displayWidth,y=this.displayHeight,_=0,v=0,S=this.displayWidth,Y=this.displayHeight;if(o!==void 0?(p=n,h=r,m=i,y=a,_=o,v=c,u!==void 0?(S=u,Y=f):(S=m,Y=y)):(_=n,v=r,i!==void 0&&(S=i,Y=a)),!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!Number.isFinite(p))throw new TypeError("sx must be a number.");if(!Number.isFinite(h))throw new TypeError("sy must be a number.");if(!Number.isFinite(m)||m<0)throw new TypeError("sWidth must be a non-negative number.");if(!Number.isFinite(y)||y<0)throw new TypeError("sHeight must be a non-negative number.");if(!Number.isFinite(_))throw new TypeError("dx must be a number.");if(!Number.isFinite(v))throw new TypeError("dy must be a number.");if(!Number.isFinite(S)||S<0)throw new TypeError("dWidth must be a non-negative number.");if(!Number.isFinite(Y)||Y<0)throw new TypeError("dHeight must be a non-negative number.");if(this._closed)throw new Error("VideoSample is closed.");({sx:p,sy:h,sWidth:m,sHeight:y}=this._rotateSourceRegion(p,h,m,y,this.rotation));const T=this.toCanvasImageSource();e.save();const A=_+S/2,P=v+Y/2;e.translate(A,P),e.rotate(this.rotation*Math.PI/180);const C=this.rotation%180===0?1:S/Y;e.scale(1/C,C),e.drawImage(T,p,h,m,y,-S/2,-Y/2,S,Y),e.restore()}drawWithFit(e,n){if(!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!n||typeof n!="object")throw new TypeError("options must be an object.");if(!["fill","contain","cover"].includes(n.fit))throw new TypeError("options.fit must be 'fill', 'contain', or 'cover'.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("options.rotation, when provided, must be 0, 90, 180, or 270.");n.crop!==void 0&&k6(n.crop,"options.");const r=e.canvas.width,i=e.canvas.height,a=n.rotation??this.rotation,[o,c]=a%180===0?[this.codedWidth,this.codedHeight]:[this.codedHeight,this.codedWidth];n.crop&&A6(n.crop,o,c);let u,f,p,h;const{sx:m,sy:y,sWidth:_,sHeight:v}=this._rotateSourceRegion(n.crop?.left??0,n.crop?.top??0,n.crop?.width??o,n.crop?.height??c,a);if(n.fit==="fill")u=0,f=0,p=r,h=i;else{const[Y,T]=n.crop?[n.crop.width,n.crop.height]:[o,c],A=n.fit==="contain"?Math.min(r/Y,i/T):Math.max(r/Y,i/T);p=Y*A,h=T*A,u=(r-p)/2,f=(i-h)/2}const S=a%180===0?1:p/h;e.translate(r/2,i/2),e.rotate(a*Math.PI/180),e.scale(1/S,S),e.translate(-r/2,-i/2),e.drawImage(this.toCanvasImageSource(),m,y,_,v,u,f,p,h)}_rotateSourceRegion(e,n,r,i,a){return a===90?[e,n,r,i]=[n,this.codedHeight-e-r,i,r]:a===180?[e,n]=[this.codedWidth-e-r,this.codedHeight-n-i]:a===270&&([e,n,r,i]=[this.codedWidth-n-i,e,i,r]),{sx:e,sy:n,sWidth:r,sHeight:i}}toCanvasImageSource(){if(this._closed)throw new Error("VideoSample is closed.");if(Ct(this._data!==null),this._data instanceof Uint8Array){const e=this.toVideoFrame();return queueMicrotask(()=>e.close()),e}else return this._data}setRotation(e){if(![0,90,180,270].includes(e))throw new TypeError("newRotation must be 0, 90, 180, or 270.");this.rotation=e}setTimestamp(e){if(!Number.isFinite(e))throw new TypeError("newTimestamp must be a number.");this.timestamp=e}setDuration(e){if(!Number.isFinite(e)||e<0)throw new TypeError("newDuration must be a non-negative number.");this.duration=e}[Symbol.dispose](){this.close()}}const dg=t=>typeof VideoFrame<"u"&&t instanceof VideoFrame,A6=(t,e,n)=>{t.left=Math.min(t.left,e),t.top=Math.min(t.top,n),t.width=Math.min(t.width,e-t.left),t.height=Math.min(t.height,n-t.top),Ct(t.width>=0),Ct(t.height>=0)},k6=(t,e)=>{if(!t||typeof t!="object")throw new TypeError(e+"crop, when provided, must be an object.");if(!Number.isInteger(t.left)||t.left<0)throw new TypeError(e+"crop.left must be a non-negative integer.");if(!Number.isInteger(t.top)||t.top<0)throw new TypeError(e+"crop.top must be a non-negative integer.");if(!Number.isInteger(t.width)||t.width<0)throw new TypeError(e+"crop.width must be a non-negative integer.");if(!Number.isInteger(t.height)||t.height<0)throw new TypeError(e+"crop.height must be a non-negative integer.")};const pu=t=>{if(!t||typeof t!="object")throw new TypeError("options must be an object.");if(t.metadataOnly!==void 0&&typeof t.metadataOnly!="boolean")throw new TypeError("options.metadataOnly, when defined, must be a boolean.");if(t.verifyKeyPackets!==void 0&&typeof t.verifyKeyPackets!="boolean")throw new TypeError("options.verifyKeyPackets, when defined, must be a boolean.");if(t.verifyKeyPackets&&t.metadataOnly)throw new TypeError("options.verifyKeyPackets and options.metadataOnly cannot be enabled together.")},mc=t=>{if(!PT(t))throw new TypeError("timestamp must be a number.")},rY=(t,e,n)=>n.verifyKeyPackets?e.then(async r=>{if(!r||r.type==="delta")return r;const i=await t.determinePacketType(r);return i&&(r.type=i),r}):e;class OT{constructor(e){if(!(e instanceof NT))throw new TypeError("track must be an InputTrack.");this._track=e}getFirstPacket(e={}){if(pu(e),this._track.input._disposed)throw new _s;return rY(this._track,this._track._backing.getFirstPacket(e),e)}getPacket(e,n={}){if(mc(e),pu(n),this._track.input._disposed)throw new _s;return rY(this._track,this._track._backing.getPacket(e,n),n)}getNextPacket(e,n={}){if(!(e instanceof oa))throw new TypeError("packet must be an EncodedPacket.");if(pu(n),this._track.input._disposed)throw new _s;return rY(this._track,this._track._backing.getNextPacket(e,n),n)}async getKeyPacket(e,n={}){if(mc(e),pu(n),this._track.input._disposed)throw new _s;if(!n.verifyKeyPackets)return this._track._backing.getKeyPacket(e,n);const r=await this._track._backing.getKeyPacket(e,n);return!r||r.type==="delta"?r:await this._track.determinePacketType(r)==="delta"?this.getKeyPacket(r.timestamp-1/this._track.timeResolution,n):r}async getNextKeyPacket(e,n={}){if(!(e instanceof oa))throw new TypeError("packet must be an EncodedPacket.");if(pu(n),this._track.input._disposed)throw new _s;if(!n.verifyKeyPackets)return this._track._backing.getNextKeyPacket(e,n);const r=await this._track._backing.getNextKeyPacket(e,n);return!r||r.type==="delta"?r:await this._track.determinePacketType(r)==="delta"?this.getNextKeyPacket(r,n):r}packets(e,n,r={}){if(e!==void 0&&!(e instanceof oa))throw new TypeError("startPacket must be an EncodedPacket.");if(e!==void 0&&e.isMetadataOnly&&!r?.metadataOnly)throw new TypeError("startPacket can only be metadata-only if options.metadataOnly is enabled.");if(n!==void 0&&!(n instanceof oa))throw new TypeError("endPacket must be an EncodedPacket.");if(pu(r),this._track.input._disposed)throw new _s;const i=[];let{promise:a,resolve:o}=ys(),{promise:c,resolve:u}=ys(),f=!1,p=!1,h=null;const m=[],y=()=>Math.max(2,m.length);(async()=>{let v=e??await this.getFirstPacket(r);for(;v&&!p&&!this._track.input._disposed&&!(n&&v.sequenceNumber>=n?.sequenceNumber);){if(i.length>y()){({promise:c,resolve:u}=ys()),await c;continue}i.push(v),o(),{promise:a,resolve:o}=ys(),v=await this.getNextPacket(v,r)}f=!0,o()})().catch(v=>{h||(h=v,o())});const _=this._track;return{async next(){for(;;){if(_.input._disposed)throw new _s;if(p)return{value:void 0,done:!0};if(h)throw h;if(i.length>0){const v=i.shift(),S=performance.now();for(m.push(S);m.length>0&&S-m[0]>=1e3;)m.shift();return u(),{value:v,done:!1}}else{if(f)return{value:void 0,done:!0};await a}}},async return(){return p=!0,u(),o(),{value:void 0,done:!0}},async throw(v){throw v},[Symbol.asyncIterator](){return this}}}}class Qz{constructor(e,n){this.onSample=e,this.onError=n}}class Jz{mediaSamplesInRange(e=0,n=1/0){mc(e),mc(n);const r=[];let i=!1,a=null,{promise:o,resolve:c}=ys(),{promise:u,resolve:f}=ys(),p=!1,h=!1,m=!1,y=null;(async()=>{const S=new Error,Y=await this._createDecoder(w=>{if(f(),w.timestamp>=n&&(h=!0),h){w.close();return}a&&(w.timestamp>e?(r.push(a),i=!0):a.close()),w.timestamp>=e&&(r.push(w),i=!0),a=i?null:w,r.length>0&&(c(),{promise:o,resolve:c}=ys())},w=>{y||(w.stack=S.stack,y=w,c())}),T=this._createPacketSink(),A=await T.getKeyPacket(e,{verifyKeyPackets:!0})??await T.getFirstPacket();if(!A)return;let P=A,C;if(n<1/0){const w=await T.getPacket(n),k=w?w.type==="key"&&w.timestamp===n?w:await T.getNextKeyPacket(w,{verifyKeyPackets:!0}):null;k&&(C=k)}const W=T.packets(A,C);for(await W.next();P&&!h&&!this._track.input._disposed;){const w=RU(r.length);if(r.length+Y.getDecodeQueueSize()>w){({promise:u,resolve:f}=ys()),await u;continue}Y.decode(P);const k=await W.next();if(k.done)break;P=k.value}await W.return(),!m&&!this._track.input._disposed&&await Y.flush(),Y.close(),!i&&a&&r.push(a),p=!0,c()})().catch(S=>{y||(y=S,c())});const _=this._track,v=()=>{a?.close();for(const S of r)S.close()};return{async next(){for(;;){if(_.input._disposed)throw v(),new _s;if(m)return{value:void 0,done:!0};if(y)throw v(),y;if(r.length>0){const S=r.shift();return f(),{value:S,done:!1}}else if(!p)await o;else return{value:void 0,done:!0}}},async return(){return m=!0,h=!0,f(),c(),v(),{value:void 0,done:!0}},async throw(S){throw S},[Symbol.asyncIterator](){return this}}}mediaSamplesAtTimestamps(e){Rz(e);const n=Xz(e),r=[],i=[];let{promise:a,resolve:o}=ys(),{promise:c,resolve:u}=ys(),f=!1,p=!1,h=null;const m=v=>{i.push(v),o(),{promise:a,resolve:o}=ys()};(async()=>{const v=new Error,S=await this._createDecoder(w=>{if(u(),p){w.close();return}let k=0;for(;r.length>0&&w.timestamp-r[0]>-1e-10;)k++,r.shift();if(k>0)for(let M=0;M<k;M++)m(M<k-1?w.clone():w);else w.close()},w=>{h||(w.stack=v.stack,h=w,o())}),Y=this._createPacketSink();let T=null,A=null,P=-1;const C=async()=>{Ct(A);let w=A;for(S.decode(w);w.sequenceNumber<P;){const k=RU(i.length);for(;i.length+S.getDecodeQueueSize()>k&&!p;)({promise:c,resolve:u}=ys()),await c;if(p)break;const M=await Y.getNextPacket(w);Ct(M),S.decode(M),w=M}P=-1},W=async()=>{await S.flush();for(let w=0;w<r.length;w++)m(null);r.length=0};for await(const w of n){if(mc(w),p||this._track.input._disposed)break;const k=await Y.getPacket(w),M=k&&await Y.getKeyPacket(w,{verifyKeyPackets:!0});if(!M){P!==-1&&(await C(),await W()),m(null),T=null;continue}T&&(M.sequenceNumber!==A.sequenceNumber||k.timestamp<T.timestamp)&&(await C(),await W()),r.push(k.timestamp),P=Math.max(k.sequenceNumber,P),T=k,A=M}!p&&!this._track.input._disposed&&(P!==-1&&await C(),await W()),S.close(),f=!0,o()})().catch(v=>{h||(h=v,o())});const y=this._track,_=()=>{for(const v of i)v?.close()};return{async next(){for(;;){if(y.input._disposed)throw _(),new _s;if(p)return{value:void 0,done:!0};if(h)throw _(),h;if(i.length>0){const v=i.shift();return Ct(v!==void 0),u(),{value:v,done:!1}}else if(!f)await a;else return{value:void 0,done:!0}}},async return(){return p=!0,u(),o(),_(),{value:void 0,done:!0}},async throw(v){throw v},[Symbol.asyncIterator](){return this}}}}const RU=t=>t===0?40:8;class e$ extends Qz{constructor(e,n,r,i,a,o){super(e,n),this.codec=r,this.decoderConfig=i,this.rotation=a,this.timeResolution=o,this.decoder=null,this.customDecoder=null,this.customDecoderCallSerializer=new Dz,this.customDecoderQueueSize=0,this.inputTimestamps=[],this.sampleQueue=[],this.currentPacketIndex=0,this.raslSkipped=!1,this.alphaDecoder=null,this.alphaHadKeyframe=!1,this.colorQueue=[],this.alphaQueue=[],this.merger=null,this.mergerCreationFailed=!1,this.decodedAlphaChunkCount=0,this.alphaDecoderQueueSize=0,this.nullAlphaFrameQueue=[],this.currentAlphaPacketIndex=0,this.alphaRaslSkipped=!1;const c=C6.find(u=>u.supports(r,i));if(c)this.customDecoder=new c,this.customDecoder.codec=r,this.customDecoder.config=i,this.customDecoder.onSample=u=>{if(!(u instanceof fl))throw new TypeError("The argument passed to onSample must be a VideoSample.");this.finalizeAndEmitSample(u)},this.customDecoderCallSerializer.call(()=>this.customDecoder.init());else{const u=f=>{if(this.alphaQueue.length>0){const p=this.alphaQueue.shift();Ct(p!==void 0),this.mergeAlpha(f,p)}else this.colorQueue.push(f)};this.decoder=new VideoDecoder({output:f=>{try{u(f)}catch(p){this.onError(p)}},error:n}),this.decoder.configure(i)}}getDecodeQueueSize(){return this.customDecoder?this.customDecoderQueueSize:(Ct(this.decoder),Math.max(this.decoder.decodeQueueSize,this.alphaDecoder?.decodeQueueSize??0))}decode(e){if(this.codec==="hevc"&&this.currentPacketIndex>0&&!this.raslSkipped){if(this.hasHevcRaslPicture(e.data))return;this.raslSkipped=!0}this.currentPacketIndex++,this.customDecoder?(this.customDecoderQueueSize++,this.customDecoderCallSerializer.call(()=>this.customDecoder.decode(e)).then(()=>this.customDecoderQueueSize--)):(Ct(this.decoder),tY()||EU(this.inputTimestamps,e.timestamp,n=>n),this.decoder.decode(e.toEncodedVideoChunk()),this.decodeAlphaData(e))}decodeAlphaData(e){if(!e.sideData.alpha||this.mergerCreationFailed){this.pushNullAlphaFrame();return}if(!this.merger)try{this.merger=new t$}catch(r){console.error("Due to an error, only color data will be decoded.",r),this.mergerCreationFailed=!0,this.decodeAlphaData(e);return}if(!this.alphaDecoder){const r=i=>{if(this.alphaDecoderQueueSize--,this.colorQueue.length>0){const a=this.colorQueue.shift();Ct(a!==void 0),this.mergeAlpha(a,i)}else this.alphaQueue.push(i);for(this.decodedAlphaChunkCount++;this.nullAlphaFrameQueue.length>0&&this.nullAlphaFrameQueue[0]===this.decodedAlphaChunkCount;)if(this.nullAlphaFrameQueue.shift(),this.colorQueue.length>0){const a=this.colorQueue.shift();Ct(a!==void 0),this.mergeAlpha(a,null)}else this.alphaQueue.push(null)};this.alphaDecoder=new VideoDecoder({output:i=>{try{r(i)}catch(a){this.onError(a)}},error:this.onError}),this.alphaDecoder.configure(this.decoderConfig)}const n=U6(this.codec,this.decoderConfig,e.sideData.alpha);if(this.alphaHadKeyframe||(this.alphaHadKeyframe=n==="key"),this.alphaHadKeyframe){if(this.codec==="hevc"&&this.currentAlphaPacketIndex>0&&!this.alphaRaslSkipped){if(this.hasHevcRaslPicture(e.sideData.alpha)){this.pushNullAlphaFrame();return}this.alphaRaslSkipped=!0}this.currentAlphaPacketIndex++,this.alphaDecoder.decode(e.alphaToEncodedVideoChunk(n??e.type)),this.alphaDecoderQueueSize++}else this.pushNullAlphaFrame()}pushNullAlphaFrame(){this.alphaDecoderQueueSize===0?this.alphaQueue.push(null):this.nullAlphaFrameQueue.push(this.decodedAlphaChunkCount+this.alphaDecoderQueueSize)}hasHevcRaslPicture(e){return w6(e,this.decoderConfig).some(r=>{const i=W6(r);return i===t0.RASL_N||i===t0.RASL_R})}sampleHandler(e){if(tY()){if(this.sampleQueue.length>0&&e.timestamp>=e0(this.sampleQueue).timestamp){for(const n of this.sampleQueue)this.finalizeAndEmitSample(n);this.sampleQueue.length=0}EU(this.sampleQueue,e,n=>n.timestamp)}else{const n=this.inputTimestamps.shift();Ct(n!==void 0),e.setTimestamp(n),this.finalizeAndEmitSample(e)}}finalizeAndEmitSample(e){e.setTimestamp(Math.round(e.timestamp*this.timeResolution)/this.timeResolution),e.setDuration(Math.round(e.duration*this.timeResolution)/this.timeResolution),e.setRotation(this.rotation),this.onSample(e)}mergeAlpha(e,n){if(!n){const a=new fl(e);this.sampleHandler(a);return}Ct(this.merger),this.merger.update(e,n),e.close(),n.close();const r=new VideoFrame(this.merger.canvas,{timestamp:e.timestamp,duration:e.duration??void 0}),i=new fl(r);this.sampleHandler(i)}async flush(){if(this.customDecoder?await this.customDecoderCallSerializer.call(()=>this.customDecoder.flush()):(Ct(this.decoder),await Promise.all([this.decoder.flush(),this.alphaDecoder?.flush()]),this.colorQueue.forEach(e=>e.close()),this.colorQueue.length=0,this.alphaQueue.forEach(e=>e?.close()),this.alphaQueue.length=0,this.alphaHadKeyframe=!1,this.decodedAlphaChunkCount=0,this.alphaDecoderQueueSize=0,this.nullAlphaFrameQueue.length=0,this.currentAlphaPacketIndex=0,this.alphaRaslSkipped=!1),tY()){for(const e of this.sampleQueue)this.finalizeAndEmitSample(e);this.sampleQueue.length=0}this.currentPacketIndex=0,this.raslSkipped=!1}close(){this.customDecoder?this.customDecoderCallSerializer.call(()=>this.customDecoder.close()):(Ct(this.decoder),this.decoder.close(),this.alphaDecoder?.close(),this.colorQueue.forEach(e=>e.close()),this.colorQueue.length=0,this.alphaQueue.forEach(e=>e?.close()),this.alphaQueue.length=0,this.merger?.close());for(const e of this.sampleQueue)e.close();this.sampleQueue.length=0}}class t${constructor(){typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(300,150):this.canvas=document.createElement("canvas");const e=this.canvas.getContext("webgl2",{premultipliedAlpha:!1});if(!e)throw new Error("Couldn't acquire WebGL 2 context.");this.gl=e,this.program=this.createProgram(),this.vao=this.createVAO(),this.colorTexture=this.createTexture(),this.alphaTexture=this.createTexture(),this.gl.useProgram(this.program),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"u_colorTexture"),0),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"u_alphaTexture"),1)}createProgram(){const e=this.createShader(this.gl.VERTEX_SHADER,`#version 300 es
			in vec2 a_position;
			in vec2 a_texCoord;
			out vec2 v_texCoord;
			
			void main() {
				gl_Position = vec4(a_position, 0.0, 1.0);
				v_texCoord = a_texCoord;
			}
		`),n=this.createShader(this.gl.FRAGMENT_SHADER,`#version 300 es
			precision highp float;
			
			uniform sampler2D u_colorTexture;
			uniform sampler2D u_alphaTexture;
			in vec2 v_texCoord;
			out vec4 fragColor;
			
			void main() {
				vec3 color = texture(u_colorTexture, v_texCoord).rgb;
				float alpha = texture(u_alphaTexture, v_texCoord).r;
				fragColor = vec4(color, alpha);
			}
		`),r=this.gl.createProgram();return this.gl.attachShader(r,e),this.gl.attachShader(r,n),this.gl.linkProgram(r),r}createShader(e,n){const r=this.gl.createShader(e);return this.gl.shaderSource(r,n),this.gl.compileShader(r),r}createVAO(){const e=this.gl.createVertexArray();this.gl.bindVertexArray(e);const n=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,1,1,1,0]),r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.STATIC_DRAW);const i=this.gl.getAttribLocation(this.program,"a_position"),a=this.gl.getAttribLocation(this.program,"a_texCoord");return this.gl.enableVertexAttribArray(i),this.gl.vertexAttribPointer(i,2,this.gl.FLOAT,!1,16,0),this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,2,this.gl.FLOAT,!1,16,8),e}createTexture(){const e=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),e}update(e,n){(e.displayWidth!==this.canvas.width||e.displayHeight!==this.canvas.height)&&(this.canvas.width=e.displayWidth,this.canvas.height=e.displayHeight),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colorTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.alphaTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}close(){this.gl.getExtension("WEBGL_lose_context")?.loseContext(),this.gl=null}}class n$ extends Jz{constructor(e){if(!(e instanceof $_))throw new TypeError("videoTrack must be an InputVideoTrack.");super(),this._track=e}async _createDecoder(e,n){if(!await this._track.canDecode())throw new Error("This video track cannot be decoded by this browser. Make sure to check decodability before using a track.");const r=this._track.codec,i=this._track.rotation,a=await this._track.getDecoderConfig(),o=this._track.timeResolution;return Ct(r&&a),new e$(e,n,r,a,i,o)}_createPacketSink(){return new OT(this._track)}async getSample(e){mc(e);for await(const n of this.mediaSamplesAtTimestamps([e]))return n;throw new Error("Internal error: Iterator returned nothing.")}samples(e=0,n=1/0){return this.mediaSamplesInRange(e,n)}samplesAtTimestamps(e){return this.mediaSamplesAtTimestamps(e)}}class kce{constructor(e,n={}){if(this._nextCanvasIndex=0,!(e instanceof $_))throw new TypeError("videoTrack must be an InputVideoTrack.");if(n&&typeof n!="object")throw new TypeError("options must be an object.");if(n.alpha!==void 0&&typeof n.alpha!="boolean")throw new TypeError("options.alpha, when provided, must be a boolean.");if(n.width!==void 0&&(!Number.isInteger(n.width)||n.width<=0))throw new TypeError("options.width, when defined, must be a positive integer.");if(n.height!==void 0&&(!Number.isInteger(n.height)||n.height<=0))throw new TypeError("options.height, when defined, must be a positive integer.");if(n.fit!==void 0&&!["fill","contain","cover"].includes(n.fit))throw new TypeError('options.fit, when provided, must be one of "fill", "contain", or "cover".');if(n.width!==void 0&&n.height!==void 0&&n.fit===void 0)throw new TypeError("When both options.width and options.height are provided, options.fit must also be provided.");if(n.rotation!==void 0&&![0,90,180,270].includes(n.rotation))throw new TypeError("options.rotation, when provided, must be 0, 90, 180 or 270.");if(n.crop!==void 0&&k6(n.crop,"options."),n.poolSize!==void 0&&(typeof n.poolSize!="number"||!Number.isInteger(n.poolSize)||n.poolSize<0))throw new TypeError("poolSize must be a non-negative integer.");const r=n.rotation??e.rotation,[i,a]=r%180===0?[e.codedWidth,e.codedHeight]:[e.codedHeight,e.codedWidth],o=n.crop;o&&A6(o,i,a);let[c,u]=o?[o.width,o.height]:[i,a];const f=c/u;n.width!==void 0&&n.height===void 0?(c=n.width,u=Math.round(c/f)):n.width===void 0&&n.height!==void 0?(u=n.height,c=Math.round(u*f)):n.width!==void 0&&n.height!==void 0&&(c=n.width,u=n.height),this._videoTrack=e,this._alpha=n.alpha??!1,this._width=c,this._height=u,this._rotation=r,this._crop=o,this._fit=n.fit??"fill",this._videoSampleSink=new n$(e),this._canvasPool=Array.from({length:n.poolSize??0},()=>null)}_videoSampleToWrappedCanvas(e){let n=this._canvasPool[this._nextCanvasIndex],r=!1;n||(typeof document<"u"?(n=document.createElement("canvas"),n.width=this._width,n.height=this._height):n=new OffscreenCanvas(this._width,this._height),this._canvasPool.length>0&&(this._canvasPool[this._nextCanvasIndex]=n),r=!0),this._canvasPool.length>0&&(this._nextCanvasIndex=(this._nextCanvasIndex+1)%this._canvasPool.length);const i=n.getContext("2d",{alpha:this._alpha||ax()});Ct(i),i.resetTransform(),r||(!this._alpha&&ax()?(i.fillStyle="black",i.fillRect(0,0,this._width,this._height)):i.clearRect(0,0,this._width,this._height)),e.drawWithFit(i,{fit:this._fit,rotation:this._rotation,crop:this._crop});const a={canvas:n,timestamp:e.timestamp,duration:e.duration};return e.close(),a}async getCanvas(e){mc(e);const n=await this._videoSampleSink.getSample(e);return n&&this._videoSampleToWrappedCanvas(n)}canvases(e=0,n=1/0){return UU(this._videoSampleSink.samples(e,n),r=>this._videoSampleToWrappedCanvas(r))}canvasesAtTimestamps(e){return UU(this._videoSampleSink.samplesAtTimestamps(e),n=>n&&this._videoSampleToWrappedCanvas(n))}}class NT{constructor(e,n){this.input=e,this._backing=n}isVideoTrack(){return this instanceof $_}isAudioTrack(){return this instanceof I6}get id(){return this._backing.getId()}get internalCodecId(){return this._backing.getInternalCodecId()}get languageCode(){return this._backing.getLanguageCode()}get name(){return this._backing.getName()}get timeResolution(){return this._backing.getTimeResolution()}getFirstTimestamp(){return this._backing.getFirstTimestamp()}computeDuration(){return this._backing.computeDuration()}async computePacketStats(e=1/0){const n=new OT(this);let r=1/0,i=-1/0,a=0,o=0;for await(const c of n.packets(void 0,void 0,{metadataOnly:!0})){if(a>=e&&c.timestamp>=i)break;r=Math.min(r,c.timestamp),i=Math.max(i,c.timestamp+c.duration),a++,o+=c.byteLength}return{packetCount:a,averagePacketRate:a?Number((a/(i-r)).toPrecision(16)):0,averageBitrate:a?Number((8*o/(i-r)).toPrecision(16)):0}}}class $_ extends NT{constructor(e,n){super(e,n),this._backing=n}get type(){return"video"}get codec(){return this._backing.getCodec()}get codedWidth(){return this._backing.getCodedWidth()}get codedHeight(){return this._backing.getCodedHeight()}get rotation(){return this._backing.getRotation()}get displayWidth(){return this._backing.getRotation()%180===0?this._backing.getCodedWidth():this._backing.getCodedHeight()}get displayHeight(){return this._backing.getRotation()%180===0?this._backing.getCodedHeight():this._backing.getCodedWidth()}getColorSpace(){return this._backing.getColorSpace()}async hasHighDynamicRange(){const e=await this._backing.getColorSpace();return e.primaries==="bt2020"||e.primaries==="smpte432"||e.transfer==="pg"||e.transfer==="hlg"||e.matrix==="bt2020-ncl"}canBeTransparent(){return this._backing.canBeTransparent()}getDecoderConfig(){return this._backing.getDecoderConfig()}async getCodecParameterString(){return(await this._backing.getDecoderConfig())?.codec??null}async canDecode(){try{const e=await this._backing.getDecoderConfig();if(!e)return!1;const n=this._backing.getCodec();return Ct(n!==null),C6.some(i=>i.supports(n,e))?!0:typeof VideoDecoder>"u"?!1:(await VideoDecoder.isConfigSupported(e)).supported===!0}catch(e){return console.error("Error during decodability check:",e),!1}}async determinePacketType(e){if(!(e instanceof oa))throw new TypeError("packet must be an EncodedPacket.");if(e.isMetadataOnly)throw new TypeError("packet must not be metadata-only to determine its type.");if(this.codec===null)return null;const n=await this.getDecoderConfig();return Ct(n),U6(this.codec,n,e.data)}}class I6 extends NT{constructor(e,n){super(e,n),this._backing=n}get type(){return"audio"}get codec(){return this._backing.getCodec()}get numberOfChannels(){return this._backing.getNumberOfChannels()}get sampleRate(){return this._backing.getSampleRate()}getDecoderConfig(){return this._backing.getDecoderConfig()}async getCodecParameterString(){return(await this._backing.getDecoderConfig())?.codec??null}async canDecode(){try{const e=await this._backing.getDecoderConfig();if(!e)return!1;const n=this._backing.getCodec();return Ct(n!==null),qz.some(r=>r.supports(n,e))||e.codec.startsWith("pcm-")?!0:typeof AudioDecoder>"u"?!1:(await AudioDecoder.isConfigSupported(e)).supported===!0}catch(e){return console.error("Error during decodability check:",e),!1}}async determinePacketType(e){if(!(e instanceof oa))throw new TypeError("packet must be an EncodedPacket.");return this.codec===null?null:"key"}}const r$=t=>{let n=(t.hasVideo?"video/":t.hasAudio?"audio/":"application/")+(t.isQuickTime?"quicktime":"mp4");if(t.codecStrings.length>0){const r=[...new Set(t.codecStrings)];n+=`; codecs="${r.join(", ")}"`}return n};const _u=8,Yg=16,ol=t=>{let e=Rt(t);const n=Xu(t,4);let r=8;e===1&&(e=na(t),r=16);const a=e-r;return a<0?null:{name:n,totalSize:e,headerSize:r,contentSize:a}},rc=t=>lc(t)/65536,iY=t=>lc(t)/1073741824,sY=t=>{let e=0;for(let n=0;n<4;n++){e<<=7;const r=jn(t);if(e|=r&127,(r&128)===0)break}return e},Sa=t=>{let e=ps(t);return t.skip(2),e=Math.min(e,t.remainingLength),e_.decode(gs(t,e))},i$=t=>{const e=ol(t);if(!e||e.name!=="data"||t.remainingLength<8)return null;const n=Rt(t);t.skip(4);const r=gs(t,e.contentSize-8);switch(n){case 1:return e_.decode(r);case 2:return new TextDecoder("utf-16be").decode(r);case 13:return new fv(r,"image/jpeg");case 14:return new fv(r,"image/png");case 27:return new fv(r,"image/bmp");default:return r}};class s$ extends Gz{constructor(e){super(e),this.moovSlice=null,this.currentTrack=null,this.tracks=[],this.metadataPromise=null,this.movieTimescale=-1,this.movieDurationInTimescale=-1,this.isQuickTime=!1,this.metadataTags={},this.currentMetadataKeys=null,this.isFragmented=!1,this.fragmentTrackDefaults=[],this.currentFragment=null,this.lastReadFragment=null,this.reader=e._reader}async computeDuration(){const e=await this.getTracks(),n=await Promise.all(e.map(r=>r.computeDuration()));return Math.max(0,...n)}async getTracks(){return await this.readMetadata(),this.tracks.map(e=>e.inputTrack)}async getMimeType(){await this.readMetadata();const e=await Promise.all(this.tracks.map(n=>n.inputTrack.getCodecParameterString()));return r$({isQuickTime:this.isQuickTime,hasVideo:this.tracks.some(n=>n.info?.type==="video"),hasAudio:this.tracks.some(n=>n.info?.type==="audio"),codecStrings:e.filter(Boolean)})}async getMetadataTags(){return await this.readMetadata(),this.metadataTags}readMetadata(){return this.metadataPromise??=(async()=>{let e=0;for(;;){let n=this.reader.requestSliceRange(e,_u,Yg);if(n instanceof Promise&&(n=await n),!n)break;const r=e,i=ol(n);if(!i)break;if(i.name==="ftyp"){const a=Xu(n,4);this.isQuickTime=a==="qt  "}else if(i.name==="moov"){let a=this.reader.requestSlice(n.filePos,i.contentSize);if(a instanceof Promise&&(a=await a),!a)break;this.moovSlice=a,this.readContiguousBoxes(this.moovSlice);for(const o of this.tracks){const c=o.editListPreviousSegmentDurations/this.movieTimescale;o.editListOffset-=Math.round(c*o.timescale)}break}e=r+i.totalSize}if(this.isFragmented&&this.reader.fileSize!==null){let n=this.reader.requestSlice(this.reader.fileSize-4,4);n instanceof Promise&&(n=await n),Ct(n);const r=Rt(n),i=this.reader.fileSize-r;if(i>=0&&i<=this.reader.fileSize-Yg){let a=this.reader.requestSliceRange(i,_u,Yg);if(a instanceof Promise&&(a=await a),a){const o=ol(a);if(o&&o.name==="mfra"){let c=this.reader.requestSlice(a.filePos,o.contentSize);c instanceof Promise&&(c=await c),c&&this.readContiguousBoxes(c)}}}}})()}getSampleTableForTrack(e){if(e.sampleTable)return e.sampleTable;const n={sampleTimingEntries:[],sampleCompositionTimeOffsets:[],sampleSizes:[],keySampleIndices:null,chunkOffsets:[],sampleToChunk:[],presentationTimestamps:null,presentationTimestampIndexMap:null};e.sampleTable=n,Ct(this.moovSlice);const r=this.moovSlice.slice(e.sampleTableByteOffset);if(this.currentTrack=e,this.traverseBox(r),this.currentTrack=null,e.info?.type==="audio"&&e.info.codec&&MT.includes(e.info.codec)&&n.sampleCompositionTimeOffsets.length===0){Ct(e.info?.type==="audio");const a=zz(e.info.codec),o=[],c=[];for(let u=0;u<n.sampleToChunk.length;u++){const f=n.sampleToChunk[u],p=n.sampleToChunk[u+1],h=(p?p.startChunkIndex:n.chunkOffsets.length)-f.startChunkIndex;for(let m=0;m<h;m++){const y=f.startSampleIndex+m*f.samplesPerChunk,_=y+f.samplesPerChunk,v=pi(n.sampleTimingEntries,y,k=>k.startIndex),S=n.sampleTimingEntries[v],Y=pi(n.sampleTimingEntries,_,k=>k.startIndex),T=n.sampleTimingEntries[Y],A=S.startDecodeTimestamp+(y-S.startIndex)*S.delta,C=T.startDecodeTimestamp+(_-T.startIndex)*T.delta-A,W=e0(o);W&&W.delta===C?W.count++:o.push({startIndex:f.startChunkIndex+m,startDecodeTimestamp:A,count:1,delta:C});const w=f.samplesPerChunk*a.sampleSize*e.info.numberOfChannels;c.push(w)}f.startSampleIndex=f.startChunkIndex,f.samplesPerChunk=1}n.sampleTimingEntries=o,n.sampleSizes=c}if(n.sampleCompositionTimeOffsets.length>0){n.presentationTimestamps=[];for(const a of n.sampleTimingEntries)for(let o=0;o<a.count;o++)n.presentationTimestamps.push({presentationTimestamp:a.startDecodeTimestamp+o*a.delta,sampleIndex:a.startIndex+o});for(const a of n.sampleCompositionTimeOffsets)for(let o=0;o<a.count;o++){const c=a.startIndex+o,u=n.presentationTimestamps[c];u&&(u.presentationTimestamp+=a.offset)}n.presentationTimestamps.sort((a,o)=>a.presentationTimestamp-o.presentationTimestamp),n.presentationTimestampIndexMap=Array(n.presentationTimestamps.length).fill(-1);for(let a=0;a<n.presentationTimestamps.length;a++)n.presentationTimestampIndexMap[n.presentationTimestamps[a].sampleIndex]=a}return n}async readFragment(e){if(this.lastReadFragment?.moofOffset===e)return this.lastReadFragment;let n=this.reader.requestSliceRange(e,_u,Yg);n instanceof Promise&&(n=await n),Ct(n);const r=ol(n);Ct(r?.name==="moof");let i=this.reader.requestSlice(e,r.totalSize);i instanceof Promise&&(i=await i),Ct(i),this.traverseBox(i);const a=this.lastReadFragment;Ct(a&&a.moofOffset===e);for(const[,o]of a.trackData){const c=o.track,{fragmentPositionCache:u}=c;if(!o.startTimestampIsFinal){const p=c.fragmentLookupTable.find(h=>h.moofOffset===a.moofOffset);if(p)aY(o,p.timestamp);else{const h=pi(u,a.moofOffset-1,m=>m.moofOffset);if(h!==-1){const m=u[h];aY(o,m.endTimestamp)}}o.startTimestampIsFinal=!0}const f=pi(u,o.startTimestamp,p=>p.startTimestamp);(f===-1||u[f].moofOffset!==a.moofOffset)&&u.splice(f+1,0,{moofOffset:a.moofOffset,startTimestamp:o.startTimestamp,endTimestamp:o.endTimestamp})}return a}readContiguousBoxes(e){const n=e.filePos;for(;e.filePos-n<=e.length-_u&&this.traverseBox(e););}*iterateContiguousBoxes(e){const n=e.filePos;for(;e.filePos-n<=e.length-_u;){const r=e.filePos,i=ol(e);if(!i)break;yield{boxInfo:i,slice:e},e.filePos=r+i.totalSize}}traverseBox(e){const n=e.filePos,r=ol(e);if(!r)return!1;const i=e.filePos,a=n+r.totalSize;switch(r.name){case"mdia":case"minf":case"dinf":case"mfra":case"edts":this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"mvhd":{const o=jn(e);e.skip(3),o===1?(e.skip(16),this.movieTimescale=Rt(e),this.movieDurationInTimescale=na(e)):(e.skip(8),this.movieTimescale=Rt(e),this.movieDurationInTimescale=Rt(e))}break;case"trak":{const o={id:-1,demuxer:this,inputTrack:null,info:null,timescale:-1,durationInMovieTimescale:-1,durationInMediaTimescale:-1,rotation:0,internalCodecId:null,name:null,languageCode:AU,sampleTableByteOffset:-1,sampleTable:null,fragmentLookupTable:[],currentFragmentState:null,fragmentPositionCache:[],editListPreviousSegmentDurations:0,editListOffset:0};if(this.currentTrack=o,this.readContiguousBoxes(e.slice(i,r.contentSize)),o.id!==-1&&o.timescale!==-1&&o.info!==null){if(o.info.type==="video"&&o.info.width!==-1){const c=o;o.inputTrack=new $_(this.input,new a$(c)),this.tracks.push(o)}else if(o.info.type==="audio"&&o.info.numberOfChannels!==-1){const c=o;o.inputTrack=new I6(this.input,new o$(c)),this.tracks.push(o)}}this.currentTrack=null}break;case"tkhd":{const o=this.currentTrack;if(!o)break;const c=jn(e);if(!((hg(e)&1)!==0))break;if(c===0)e.skip(8),o.id=Rt(e),e.skip(4),o.durationInMovieTimescale=Rt(e);else if(c===1)e.skip(16),o.id=Rt(e),e.skip(4),o.durationInMovieTimescale=na(e);else throw new Error(`Incorrect track header version ${c}.`);e.skip(16);const p=[rc(e),rc(e),iY(e),rc(e),rc(e),iY(e),rc(e),rc(e),iY(e)],h=Wz(Mz(f$(p),90));Ct(h===0||h===90||h===180||h===270),o.rotation=h}break;case"elst":{const o=this.currentTrack;if(!o)break;const c=jn(e);e.skip(3);let u=!1,f=0;const p=Rt(e);for(let h=0;h<p;h++){const m=c===1?na(e):Rt(e),y=c===1?Y$(e):lc(e),_=rc(e);if(m!==0){if(u){console.warn("Unsupported edit list: multiple edits are not currently supported. Only using first edit.");break}if(y===-1){f+=m;continue}if(_!==1){console.warn("Unsupported edit list entry: media rate must be 1.");break}o.editListPreviousSegmentDurations=f,o.editListOffset=y,u=!0}}}break;case"mdhd":{const o=this.currentTrack;if(!o)break;const c=jn(e);e.skip(3),c===0?(e.skip(8),o.timescale=Rt(e),o.durationInMediaTimescale=Rt(e)):c===1&&(e.skip(16),o.timescale=Rt(e),o.durationInMediaTimescale=na(e));let u=ps(e);if(u>0){o.languageCode="";for(let f=0;f<3;f++)o.languageCode=String.fromCharCode(96+(u&31))+o.languageCode,u>>=5;Nz(o.languageCode)||(o.languageCode=AU)}}break;case"hdlr":{const o=this.currentTrack;if(!o)break;e.skip(8);const c=Xu(e,4);c==="vide"?o.info={type:"video",width:-1,height:-1,codec:null,codecDescription:null,colorSpace:null,avcCodecInfo:null,hevcCodecInfo:null,vp9CodecInfo:null,av1CodecInfo:null}:c==="soun"&&(o.info={type:"audio",numberOfChannels:-1,sampleRate:-1,codec:null,codecDescription:null,aacCodecInfo:null})}break;case"stbl":{const o=this.currentTrack;if(!o)break;o.sampleTableByteOffset=n,this.readContiguousBoxes(e.slice(i,r.contentSize))}break;case"stsd":{const o=this.currentTrack;if(!o||o.info===null||o.sampleTable)break;const c=jn(e);e.skip(3);const u=Rt(e);for(let f=0;f<u;f++){const p=e.filePos,h=ol(e);if(!h)break;o.internalCodecId=h.name;const m=h.name.toLowerCase();if(o.info.type==="video")m==="avc1"?o.info.codec="avc":m==="hvc1"||m==="hev1"?o.info.codec="hevc":m==="vp08"?o.info.codec="vp8":m==="vp09"?o.info.codec="vp9":m==="av01"?o.info.codec="av1":console.warn(`Unsupported video codec (sample entry type '${h.name}').`),e.skip(24),o.info.width=ps(e),o.info.height=ps(e),e.skip(50),this.readContiguousBoxes(e.slice(e.filePos,p+h.totalSize-e.filePos));else{m==="mp4a"||(m==="opus"?o.info.codec="opus":m==="flac"?o.info.codec="flac":m==="twos"||m==="sowt"||m==="raw "||m==="in24"||m==="in32"||m==="fl32"||m==="fl64"||m==="lpcm"||m==="ipcm"||m==="fpcm"||(m==="ulaw"?o.info.codec="ulaw":m==="alaw"?o.info.codec="alaw":console.warn(`Unsupported audio codec (sample entry type '${h.name}').`))),e.skip(8);const y=ps(e);e.skip(6);let _=ps(e),v=ps(e);e.skip(4);let S=Rt(e)/65536;if(c===0&&y>0){if(y===1)e.skip(4),v=8*Rt(e),e.skip(8);else if(y===2){e.skip(4),S=x$(e),_=Rt(e),e.skip(4),v=Rt(e);const Y=Rt(e);if(e.skip(8),m==="lpcm"){const T=v+7>>3,A=!!(Y&1),P=!!(Y&2),C=Y&4?-1:0;v>0&&v<=64&&(A?v===32&&(o.info.codec=P?"pcm-f32be":"pcm-f32"):C&1<<T-1?T===1?o.info.codec="pcm-s8":T===2?o.info.codec=P?"pcm-s16be":"pcm-s16":T===3?o.info.codec=P?"pcm-s24be":"pcm-s24":T===4&&(o.info.codec=P?"pcm-s32be":"pcm-s32"):T===1&&(o.info.codec="pcm-u8")),o.info.codec===null&&console.warn("Unsupported PCM format.")}}}o.info.codec==="opus"&&(S=Lz),o.info.numberOfChannels=_,o.info.sampleRate=S,m==="twos"?v===8?o.info.codec="pcm-s8":v===16?o.info.codec="pcm-s16be":(console.warn(`Unsupported sample size ${v} for codec 'twos'.`),o.info.codec=null):m==="sowt"?v===8?o.info.codec="pcm-s8":v===16?o.info.codec="pcm-s16":(console.warn(`Unsupported sample size ${v} for codec 'sowt'.`),o.info.codec=null):m==="raw "?o.info.codec="pcm-u8":m==="in24"?o.info.codec="pcm-s24be":m==="in32"?o.info.codec="pcm-s32be":m==="fl32"?o.info.codec="pcm-f32be":m==="fl64"?o.info.codec="pcm-f64be":m==="ipcm"?o.info.codec="pcm-s16be":m==="fpcm"&&(o.info.codec="pcm-f32be"),this.readContiguousBoxes(e.slice(e.filePos,p+h.totalSize-e.filePos))}}}break;case"avcC":{const o=this.currentTrack;if(!o)break;Ct(o.info),o.info.codecDescription=gs(e,r.contentSize)}break;case"hvcC":{const o=this.currentTrack;if(!o)break;Ct(o.info),o.info.codecDescription=gs(e,r.contentSize)}break;case"vpcC":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="video"),e.skip(4);const c=jn(e),u=jn(e),f=jn(e),p=f>>4,h=f>>1&7,m=f&1,y=jn(e),_=jn(e),v=jn(e);o.info.vp9CodecInfo={profile:c,level:u,bitDepth:p,chromaSubsampling:h,videoFullRangeFlag:m,colourPrimaries:y,transferCharacteristics:_,matrixCoefficients:v}}break;case"av1C":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="video"),e.skip(1);const c=jn(e),u=c>>5,f=c&31,p=jn(e),h=p>>7,m=p>>6&1,y=p>>5&1,_=p>>4&1,v=p>>3&1,S=p>>2&1,Y=p&3,T=u===2&&m?y?12:10:m?10:8;o.info.av1CodecInfo={profile:u,level:f,tier:h,bitDepth:T,monochrome:_,chromaSubsamplingX:v,chromaSubsamplingY:S,chromaSamplePosition:Y}}break;case"colr":{const o=this.currentTrack;if(!o||(Ct(o.info?.type==="video"),Xu(e,4)!=="nclx"))break;const u=ps(e),f=ps(e),p=ps(e),h=!!(jn(e)&128);o.info.colorSpace={primaries:Ez[u],transfer:Uz[f],matrix:Cz[p],fullRange:h}}break;case"wave":this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"esds":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const c=jn(e);Ct(c===3),sY(e),e.skip(2);const u=jn(e),f=(u&128)!==0,p=(u&64)!==0,h=(u&32)!==0;if(f&&e.skip(2),p){const S=jn(e);e.skip(S)}h&&e.skip(2);const m=jn(e);Ct(m===4);const y=sY(e),_=e.filePos,v=jn(e);if(v===64||v===103?(o.info.codec="aac",o.info.aacCodecInfo={isMpeg2:v===103}):v===105||v===107?o.info.codec="mp3":v===221?o.info.codec="vorbis":console.warn(`Unsupported audio codec (objectTypeIndication ${v}) - discarding track.`),e.skip(12),y>e.filePos-_){const S=jn(e);Ct(S===5);const Y=sY(e);if(o.info.codecDescription=gs(e,Y),o.info.codec==="aac"){const T=Y6(o.info.codecDescription);T.numberOfChannels!==null&&(o.info.numberOfChannels=T.numberOfChannels),T.sampleRate!==null&&(o.info.sampleRate=T.sampleRate)}}}break;case"enda":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),ps(e)&255&&(o.info.codec==="pcm-s16be"?o.info.codec="pcm-s16":o.info.codec==="pcm-s24be"?o.info.codec="pcm-s24":o.info.codec==="pcm-s32be"?o.info.codec="pcm-s32":o.info.codec==="pcm-f32be"?o.info.codec="pcm-f32":o.info.codec==="pcm-f64be"&&(o.info.codec="pcm-f64"))}break;case"pcmC":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const u=!!(jn(e)&1),f=jn(e);o.info.codec==="pcm-s16be"?u?f===16?o.info.codec="pcm-s16":f===24?o.info.codec="pcm-s24":f===32?o.info.codec="pcm-s32":(console.warn(`Invalid ipcm sample size ${f}.`),o.info.codec=null):f===16?o.info.codec="pcm-s16be":f===24?o.info.codec="pcm-s24be":f===32?o.info.codec="pcm-s32be":(console.warn(`Invalid ipcm sample size ${f}.`),o.info.codec=null):o.info.codec==="pcm-f32be"&&(u?f===32?o.info.codec="pcm-f32":f===64?o.info.codec="pcm-f64":(console.warn(`Invalid fpcm sample size ${f}.`),o.info.codec=null):f===32?o.info.codec="pcm-f32be":f===64?o.info.codec="pcm-f64be":(console.warn(`Invalid fpcm sample size ${f}.`),o.info.codec=null));break}case"dOps":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(1);const c=jn(e),u=ps(e),f=Rt(e),p=b$(e),h=jn(e);let m;h!==0?m=gs(e,2+c):m=new Uint8Array(0);const y=new Uint8Array(19+m.byteLength),_=new DataView(y.buffer);_.setUint32(0,1332770163,!1),_.setUint32(4,1214603620,!1),_.setUint8(8,1),_.setUint8(9,c),_.setUint16(10,u,!0),_.setUint32(12,f,!0),_.setInt16(16,p,!0),_.setUint8(18,h),y.set(m,19),o.info.codecDescription=y,o.info.numberOfChannels=c}break;case"dfLa":{const o=this.currentTrack;if(!o)break;Ct(o.info?.type==="audio"),e.skip(4);const c=127,u=128,f=e.filePos;for(;e.filePos<a;){const _=jn(e),v=hg(e);if((_&c)===cx.STREAMINFO){e.skip(10);const Y=Rt(e),T=Y>>>12,A=(Y>>9&7)+1;o.info.sampleRate=T,o.info.numberOfChannels=A,e.skip(20)}else e.skip(v);if(_&u)break}const p=e.filePos;e.filePos=f;const h=gs(e,p-f),m=new Uint8Array(4+h.byteLength);new DataView(m.buffer).setUint32(0,1716281667,!1),m.set(h,4),o.info.codecDescription=m}break;case"stts":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e);let u=0,f=0;for(let p=0;p<c;p++){const h=Rt(e),m=Rt(e);o.sampleTable.sampleTimingEntries.push({startIndex:u,startDecodeTimestamp:f,count:h,delta:m}),u+=h,f+=h*m}}break;case"ctts":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e);let u=0;for(let f=0;f<c;f++){const p=Rt(e),h=lc(e);o.sampleTable.sampleCompositionTimeOffsets.push({startIndex:u,count:p,offset:h}),u+=p}}break;case"stsz":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e),u=Rt(e);if(c===0)for(let f=0;f<u;f++){const p=Rt(e);o.sampleTable.sampleSizes.push(p)}else o.sampleTable.sampleSizes.push(c)}break;case"stz2":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4),e.skip(3);const c=jn(e),u=Rt(e),f=gs(e,Math.ceil(u*c/8)),p=new Ea(f);for(let h=0;h<u;h++){const m=p.readBits(c);o.sampleTable.sampleSizes.push(m)}}break;case"stss":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4),o.sampleTable.keySampleIndices=[];const c=Rt(e);for(let u=0;u<c;u++){const f=Rt(e)-1;o.sampleTable.keySampleIndices.push(f)}o.sampleTable.keySampleIndices[0]!==0&&o.sampleTable.keySampleIndices.unshift(0)}break;case"stsc":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e);for(let f=0;f<c;f++){const p=Rt(e)-1,h=Rt(e),m=Rt(e);o.sampleTable.sampleToChunk.push({startSampleIndex:-1,startChunkIndex:p,samplesPerChunk:h,sampleDescriptionIndex:m})}let u=0;for(let f=0;f<o.sampleTable.sampleToChunk.length;f++)if(o.sampleTable.sampleToChunk[f].startSampleIndex=u,f<o.sampleTable.sampleToChunk.length-1){const h=o.sampleTable.sampleToChunk[f+1].startChunkIndex-o.sampleTable.sampleToChunk[f].startChunkIndex;u+=h*o.sampleTable.sampleToChunk[f].samplesPerChunk}}break;case"stco":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e);for(let u=0;u<c;u++){const f=Rt(e);o.sampleTable.chunkOffsets.push(f)}}break;case"co64":{const o=this.currentTrack;if(!o||!o.sampleTable)break;e.skip(4);const c=Rt(e);for(let u=0;u<c;u++){const f=na(e);o.sampleTable.chunkOffsets.push(f)}}break;case"mvex":this.isFragmented=!0,this.readContiguousBoxes(e.slice(i,r.contentSize));break;case"mehd":{const o=jn(e);e.skip(3);const c=o===1?na(e):Rt(e);this.movieDurationInTimescale=c}break;case"trex":{e.skip(4);const o=Rt(e),c=Rt(e),u=Rt(e),f=Rt(e),p=Rt(e);this.fragmentTrackDefaults.push({trackId:o,defaultSampleDescriptionIndex:c,defaultSampleDuration:u,defaultSampleSize:f,defaultSampleFlags:p})}break;case"tfra":{const o=jn(e);e.skip(3);const c=Rt(e),u=this.tracks.find(T=>T.id===c);if(!u)break;const f=Rt(e),p=(f&48)>>4,h=(f&12)>>2,m=f&3,y=[jn,ps,hg,Rt],_=y[p],v=y[h],S=y[m],Y=Rt(e);for(let T=0;T<Y;T++){const A=o===1?na(e):Rt(e),P=o===1?na(e):Rt(e);_(e),v(e),S(e),u.fragmentLookupTable.push({timestamp:A,moofOffset:P})}u.fragmentLookupTable.sort((T,A)=>T.timestamp-A.timestamp);for(let T=0;T<u.fragmentLookupTable.length-1;T++){const A=u.fragmentLookupTable[T],P=u.fragmentLookupTable[T+1];A.timestamp===P.timestamp&&(u.fragmentLookupTable.splice(T+1,1),T--)}}break;case"moof":this.currentFragment={moofOffset:n,moofSize:r.totalSize,implicitBaseDataOffset:n,trackData:new Map},this.readContiguousBoxes(e.slice(i,r.contentSize)),this.lastReadFragment=this.currentFragment,this.currentFragment=null;break;case"traf":if(Ct(this.currentFragment),this.readContiguousBoxes(e.slice(i,r.contentSize)),this.currentTrack){const o=this.currentFragment.trackData.get(this.currentTrack.id);if(o){const{currentFragmentState:c}=this.currentTrack;Ct(c),c.startTimestamp!==null&&(aY(o,c.startTimestamp),o.startTimestampIsFinal=!0)}this.currentTrack.currentFragmentState=null,this.currentTrack=null}break;case"tfhd":{Ct(this.currentFragment),e.skip(1);const o=hg(e),c=!!(o&1),u=!!(o&2),f=!!(o&8),p=!!(o&16),h=!!(o&32),m=!!(o&65536),y=!!(o&131072),_=Rt(e),v=this.tracks.find(Y=>Y.id===_);if(!v)break;const S=this.fragmentTrackDefaults.find(Y=>Y.trackId===_);this.currentTrack=v,v.currentFragmentState={baseDataOffset:this.currentFragment.implicitBaseDataOffset,sampleDescriptionIndex:S?.defaultSampleDescriptionIndex??null,defaultSampleDuration:S?.defaultSampleDuration??null,defaultSampleSize:S?.defaultSampleSize??null,defaultSampleFlags:S?.defaultSampleFlags??null,startTimestamp:null},c?v.currentFragmentState.baseDataOffset=na(e):y&&(v.currentFragmentState.baseDataOffset=this.currentFragment.moofOffset),u&&(v.currentFragmentState.sampleDescriptionIndex=Rt(e)),f&&(v.currentFragmentState.defaultSampleDuration=Rt(e)),p&&(v.currentFragmentState.defaultSampleSize=Rt(e)),h&&(v.currentFragmentState.defaultSampleFlags=Rt(e)),m&&(v.currentFragmentState.defaultSampleDuration=0)}break;case"tfdt":{const o=this.currentTrack;if(!o)break;Ct(o.currentFragmentState);const c=jn(e);e.skip(3);const u=c===0?Rt(e):na(e);o.currentFragmentState.startTimestamp=u}break;case"trun":{const o=this.currentTrack;if(!o)break;if(Ct(this.currentFragment),Ct(o.currentFragmentState),this.currentFragment.trackData.has(o.id)){console.warn("Can't have two trun boxes for the same track in one fragment. Ignoring...");break}const c=jn(e),u=hg(e),f=!!(u&1),p=!!(u&4),h=!!(u&256),m=!!(u&512),y=!!(u&1024),_=!!(u&2048),v=Rt(e);let S=o.currentFragmentState.baseDataOffset;f&&(S+=lc(e));let Y=null;p&&(Y=Rt(e));let T=S;if(v===0){this.currentFragment.implicitBaseDataOffset=T;break}let A=0;const P={track:o,startTimestamp:0,endTimestamp:0,firstKeyFrameTimestamp:null,samples:[],presentationTimestamps:[],startTimestampIsFinal:!1};this.currentFragment.trackData.set(o.id,P);for(let w=0;w<v;w++){let k;h?k=Rt(e):(Ct(o.currentFragmentState.defaultSampleDuration!==null),k=o.currentFragmentState.defaultSampleDuration);let M;m?M=Rt(e):(Ct(o.currentFragmentState.defaultSampleSize!==null),M=o.currentFragmentState.defaultSampleSize);let D;y?D=Rt(e):(Ct(o.currentFragmentState.defaultSampleFlags!==null),D=o.currentFragmentState.defaultSampleFlags),w===0&&Y!==null&&(D=Y);let B=0;_&&(c===0?B=Rt(e):B=lc(e));const O=!(D&65536);P.samples.push({presentationTimestamp:A+B,duration:k,byteOffset:T,byteSize:M,isKeyFrame:O}),T+=M,A+=k}P.presentationTimestamps=P.samples.map((w,k)=>({presentationTimestamp:w.presentationTimestamp,sampleIndex:k})).sort((w,k)=>w.presentationTimestamp-k.presentationTimestamp);for(let w=0;w<P.presentationTimestamps.length;w++){const k=P.presentationTimestamps[w],M=P.samples[k.sampleIndex];if(P.firstKeyFrameTimestamp===null&&M.isKeyFrame&&(P.firstKeyFrameTimestamp=M.presentationTimestamp),w<P.presentationTimestamps.length-1){const D=P.presentationTimestamps[w+1];M.duration=D.presentationTimestamp-k.presentationTimestamp}}const C=P.samples[P.presentationTimestamps[0].sampleIndex],W=P.samples[e0(P.presentationTimestamps).sampleIndex];P.startTimestamp=C.presentationTimestamp,P.endTimestamp=W.presentationTimestamp+W.duration,this.currentFragment.implicitBaseDataOffset=T}break;case"udta":{const o=this.iterateContiguousBoxes(e.slice(i,r.contentSize));for(const{boxInfo:c,slice:u}of o){if(c.name!=="meta"&&!this.currentTrack){const f=u.filePos;this.metadataTags.raw??={},c.name[0]===""?this.metadataTags.raw[c.name]??=Sa(u):this.metadataTags.raw[c.name]??=gs(u,c.contentSize),u.filePos=f}switch(c.name){case"meta":u.skip(-c.headerSize),this.traverseBox(u);break;case"nam":case"name":this.currentTrack?this.currentTrack.name=e_.decode(gs(u,c.contentSize)):this.metadataTags.title??=Sa(u);break;case"des":this.currentTrack||(this.metadataTags.description??=Sa(u));break;case"ART":this.currentTrack||(this.metadataTags.artist??=Sa(u));break;case"alb":this.currentTrack||(this.metadataTags.album??=Sa(u));break;case"albr":this.currentTrack||(this.metadataTags.albumArtist??=Sa(u));break;case"gen":this.currentTrack||(this.metadataTags.genre??=Sa(u));break;case"day":if(!this.currentTrack){const f=new Date(Sa(u));Number.isNaN(f.getTime())||(this.metadataTags.date??=f)}break;case"cmt":this.currentTrack||(this.metadataTags.comment??=Sa(u));break;case"lyr":this.currentTrack||(this.metadataTags.lyrics??=Sa(u));break}}}break;case"meta":{if(this.currentTrack)break;const c=Rt(e)!==0;this.currentMetadataKeys=new Map,c?this.readContiguousBoxes(e.slice(i,r.contentSize)):this.readContiguousBoxes(e.slice(i+4,r.contentSize-4)),this.currentMetadataKeys=null}break;case"keys":{if(!this.currentMetadataKeys)break;e.skip(4);const o=Rt(e);for(let c=0;c<o;c++){const u=Rt(e);e.skip(4);const f=e_.decode(gs(e,u-8));this.currentMetadataKeys.set(c+1,f)}}break;case"ilst":{if(!this.currentMetadataKeys)break;const o=this.iterateContiguousBoxes(e.slice(i,r.contentSize));for(const{boxInfo:c,slice:u}of o){let f=c.name;const p=(f.charCodeAt(0)<<24)+(f.charCodeAt(1)<<16)+(f.charCodeAt(2)<<8)+f.charCodeAt(3);this.currentMetadataKeys.has(p)&&(f=this.currentMetadataKeys.get(p));const h=i$(u);switch(this.metadataTags.raw??={},this.metadataTags.raw[f]??=h,f){case"nam":case"titl":case"com.apple.quicktime.title":case"title":typeof h=="string"&&(this.metadataTags.title??=h);break;case"des":case"desc":case"dscp":case"com.apple.quicktime.description":case"description":typeof h=="string"&&(this.metadataTags.description??=h);break;case"ART":case"com.apple.quicktime.artist":case"artist":typeof h=="string"&&(this.metadataTags.artist??=h);break;case"alb":case"albm":case"com.apple.quicktime.album":case"album":typeof h=="string"&&(this.metadataTags.album??=h);break;case"aART":case"album_artist":typeof h=="string"&&(this.metadataTags.albumArtist??=h);break;case"cmt":case"com.apple.quicktime.comment":case"comment":typeof h=="string"&&(this.metadataTags.comment??=h);break;case"gen":case"gnre":case"com.apple.quicktime.genre":case"genre":typeof h=="string"&&(this.metadataTags.genre??=h);break;case"lyr":case"lyrics":typeof h=="string"&&(this.metadataTags.lyrics??=h);break;case"day":case"rldt":case"com.apple.quicktime.creationdate":case"date":if(typeof h=="string"){const m=new Date(h);Number.isNaN(m.getTime())||(this.metadataTags.date??=m)}break;case"covr":case"com.apple.quicktime.artwork":h instanceof fv?(this.metadataTags.images??=[],this.metadataTags.images.push({data:h.data,kind:"coverFront",mimeType:h.mimeType})):h instanceof Uint8Array&&(this.metadataTags.images??=[],this.metadataTags.images.push({data:h,kind:"coverFront",mimeType:"image/*"}));break;case"track":if(typeof h=="string"){const m=h.split("/"),y=Number.parseInt(m[0],10),_=m[1]&&Number.parseInt(m[1],10);Number.isInteger(y)&&y>0&&(this.metadataTags.trackNumber??=y),_&&Number.isInteger(_)&&_>0&&(this.metadataTags.tracksTotal??=_)}break;case"trkn":if(h instanceof Uint8Array&&h.length>=6){const m=po(h),y=m.getUint16(2,!1),_=m.getUint16(4,!1);y>0&&(this.metadataTags.trackNumber??=y),_>0&&(this.metadataTags.tracksTotal??=_)}break;case"disc":case"disk":if(h instanceof Uint8Array&&h.length>=6){const m=po(h),y=m.getUint16(2,!1),_=m.getUint16(4,!1);y>0&&(this.metadataTags.discNumber??=y),_>0&&(this.metadataTags.discsTotal??=_)}break}}}break}return e.filePos=a,!0}}class X6{constructor(e){this.internalTrack=e,this.packetToSampleIndex=new WeakMap,this.packetToFragmentLocation=new WeakMap}getId(){return this.internalTrack.id}getCodec(){throw new Error("Not implemented on base class.")}getInternalCodecId(){return this.internalTrack.internalCodecId}getName(){return this.internalTrack.name}getLanguageCode(){return this.internalTrack.languageCode}getTimeResolution(){return this.internalTrack.timescale}async computeDuration(){const e=await this.getPacket(1/0,{metadataOnly:!0});return(e?.timestamp??0)+(e?.duration??0)}async getFirstTimestamp(){return(await this.getFirstPacket({metadataOnly:!0}))?.timestamp??0}async getFirstPacket(e){const n=await this.fetchPacketForSampleIndex(0,e);return n||!this.internalTrack.demuxer.isFragmented?n:this.performFragmentedLookup(null,r=>r.trackData.get(this.internalTrack.id)?{sampleIndex:0,correctSampleFound:!0}:{sampleIndex:-1,correctSampleFound:!1},-1/0,1/0,e)}mapTimestampIntoTimescale(e){return Pz(e*this.internalTrack.timescale,14)+this.internalTrack.editListOffset}async getPacket(e,n){const r=this.mapTimestampIntoTimescale(e),i=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),a=PU(i,r),o=await this.fetchPacketForSampleIndex(a,n);return!MU(i)||!this.internalTrack.demuxer.isFragmented?o:this.performFragmentedLookup(null,c=>{const u=c.trackData.get(this.internalTrack.id);if(!u)return{sampleIndex:-1,correctSampleFound:!1};const f=pi(u.presentationTimestamps,r,m=>m.presentationTimestamp),p=f!==-1?u.presentationTimestamps[f].sampleIndex:-1,h=f!==-1&&r<u.endTimestamp;return{sampleIndex:p,correctSampleFound:h}},r,r,n)}async getNextPacket(e,n){const r=this.packetToSampleIndex.get(e);if(r!==void 0)return this.fetchPacketForSampleIndex(r+1,n);const i=this.packetToFragmentLocation.get(e);if(i===void 0)throw new Error("Packet was not created from this track.");return this.performFragmentedLookup(i.fragment,a=>{if(a===i.fragment){const o=a.trackData.get(this.internalTrack.id);if(i.sampleIndex+1<o.samples.length)return{sampleIndex:i.sampleIndex+1,correctSampleFound:!0}}else if(a.trackData.get(this.internalTrack.id))return{sampleIndex:0,correctSampleFound:!0};return{sampleIndex:-1,correctSampleFound:!1}},-1/0,1/0,n)}async getKeyPacket(e,n){const r=this.mapTimestampIntoTimescale(e),i=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),a=PU(i,r),o=a===-1?-1:c$(i,a),c=await this.fetchPacketForSampleIndex(o,n);return!MU(i)||!this.internalTrack.demuxer.isFragmented?c:this.performFragmentedLookup(null,u=>{const f=u.trackData.get(this.internalTrack.id);if(!f)return{sampleIndex:-1,correctSampleFound:!1};const p=Iz(f.presentationTimestamps,y=>f.samples[y.sampleIndex].isKeyFrame&&y.presentationTimestamp<=r),h=p!==-1?f.presentationTimestamps[p].sampleIndex:-1,m=p!==-1&&r<f.endTimestamp;return{sampleIndex:h,correctSampleFound:m}},r,r,n)}async getNextKeyPacket(e,n){const r=this.packetToSampleIndex.get(e);if(r!==void 0){const a=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),o=u$(a,r);return this.fetchPacketForSampleIndex(o,n)}const i=this.packetToFragmentLocation.get(e);if(i===void 0)throw new Error("Packet was not created from this track.");return this.performFragmentedLookup(i.fragment,a=>{if(a===i.fragment){const c=a.trackData.get(this.internalTrack.id).samples.findIndex((u,f)=>u.isKeyFrame&&f>i.sampleIndex);if(c!==-1)return{sampleIndex:c,correctSampleFound:!0}}else{const o=a.trackData.get(this.internalTrack.id);if(o&&o.firstKeyFrameTimestamp!==null){const c=o.samples.findIndex(u=>u.isKeyFrame);return Ct(c!==-1),{sampleIndex:c,correctSampleFound:!0}}}return{sampleIndex:-1,correctSampleFound:!1}},-1/0,1/0,n)}async fetchPacketForSampleIndex(e,n){if(e===-1)return null;const r=this.internalTrack.demuxer.getSampleTableForTrack(this.internalTrack),i=l$(r,e);if(!i)return null;let a;if(n.metadataOnly)a=t_;else{let f=this.internalTrack.demuxer.reader.requestSlice(i.sampleOffset,i.sampleSize);f instanceof Promise&&(f=await f),Ct(f),a=gs(f,i.sampleSize)}const o=(i.presentationTimestamp-this.internalTrack.editListOffset)/this.internalTrack.timescale,c=i.duration/this.internalTrack.timescale,u=new oa(a,i.isKeyFrame?"key":"delta",o,c,e,i.sampleSize);return this.packetToSampleIndex.set(u,e),u}async fetchPacketInFragment(e,n,r){if(n===-1)return null;const a=e.trackData.get(this.internalTrack.id).samples[n];Ct(a);let o;if(r.metadataOnly)o=t_;else{let p=this.internalTrack.demuxer.reader.requestSlice(a.byteOffset,a.byteSize);p instanceof Promise&&(p=await p),Ct(p),o=gs(p,a.byteSize)}const c=(a.presentationTimestamp-this.internalTrack.editListOffset)/this.internalTrack.timescale,u=a.duration/this.internalTrack.timescale,f=new oa(o,a.isKeyFrame?"key":"delta",c,u,e.moofOffset+n,a.byteSize);return this.packetToFragmentLocation.set(f,{fragment:e,sampleIndex:n}),f}async performFragmentedLookup(e,n,r,i,a){const o=this.internalTrack.demuxer;let c=null,u=null,f=-1;if(e){const{sampleIndex:S,correctSampleFound:Y}=n(e);if(Y)return this.fetchPacketInFragment(e,S,a);S!==-1&&(u=e,f=S)}const p=pi(this.internalTrack.fragmentLookupTable,r,S=>S.timestamp),h=p!==-1?this.internalTrack.fragmentLookupTable[p]:null,m=pi(this.internalTrack.fragmentPositionCache,r,S=>S.startTimestamp),y=m!==-1?this.internalTrack.fragmentPositionCache[m]:null,_=Math.max(h?.moofOffset??0,y?.moofOffset??0)||null;let v;for(e?_===null||e.moofOffset>=_?(v=e.moofOffset+e.moofSize,c=e):v=_:v=_??0;;){if(c){const A=c.trackData.get(this.internalTrack.id);if(A&&A.startTimestamp>i)break}let S=o.reader.requestSliceRange(v,_u,Yg);if(S instanceof Promise&&(S=await S),!S)break;const Y=v,T=ol(S);if(!T)break;if(T.name==="moof"){c=await o.readFragment(Y);const{sampleIndex:A,correctSampleFound:P}=n(c);if(P)return this.fetchPacketInFragment(c,A,a);A!==-1&&(u=c,f=A)}v=Y+T.totalSize}if(h&&(!u||u.moofOffset<h.moofOffset)){const S=this.internalTrack.fragmentLookupTable[p-1];Ct(!S||S.timestamp<h.timestamp);const Y=S?.timestamp??-1/0;return this.performFragmentedLookup(null,n,Y,i,a)}return u?this.fetchPacketInFragment(u,f,a):null}}class a$ extends X6{constructor(e){super(e),this.decoderConfigPromise=null,this.internalTrack=e}getCodec(){return this.internalTrack.info.codec}getCodedWidth(){return this.internalTrack.info.width}getCodedHeight(){return this.internalTrack.info.height}getRotation(){return this.internalTrack.rotation}async getColorSpace(){return{primaries:this.internalTrack.info.colorSpace?.primaries,transfer:this.internalTrack.info.colorSpace?.transfer,matrix:this.internalTrack.info.colorSpace?.matrix,fullRange:this.internalTrack.info.colorSpace?.fullRange}}async canBeTransparent(){return!1}async getDecoderConfig(){return this.internalTrack.info.codec?this.decoderConfigPromise??=(async()=>{if(this.internalTrack.info.codec==="vp9"&&!this.internalTrack.info.vp9CodecInfo){const e=await this.getFirstPacket({});this.internalTrack.info.vp9CodecInfo=e&&jz(e.data)}else if(this.internalTrack.info.codec==="av1"&&!this.internalTrack.info.av1CodecInfo){const e=await this.getFirstPacket({});this.internalTrack.info.av1CodecInfo=e&&Hz(e.data)}return{codec:Bz(this.internalTrack.info),codedWidth:this.internalTrack.info.width,codedHeight:this.internalTrack.info.height,description:this.internalTrack.info.codecDescription??void 0,colorSpace:this.internalTrack.info.colorSpace??void 0}})():null}}class o$ extends X6{constructor(e){super(e),this.decoderConfig=null,this.internalTrack=e}getCodec(){return this.internalTrack.info.codec}getNumberOfChannels(){return this.internalTrack.info.numberOfChannels}getSampleRate(){return this.internalTrack.info.sampleRate}async getDecoderConfig(){return this.internalTrack.info.codec?this.decoderConfig??={codec:Vz(this.internalTrack.info),numberOfChannels:this.internalTrack.info.numberOfChannels,sampleRate:this.internalTrack.info.sampleRate,description:this.internalTrack.info.codecDescription??void 0}:null}}const PU=(t,e)=>{if(t.presentationTimestamps){const n=pi(t.presentationTimestamps,e,r=>r.presentationTimestamp);return n===-1?-1:t.presentationTimestamps[n].sampleIndex}else{const n=pi(t.sampleTimingEntries,e,i=>i.startDecodeTimestamp);if(n===-1)return-1;const r=t.sampleTimingEntries[n];return r.startIndex+Math.min(Math.floor((e-r.startDecodeTimestamp)/r.delta),r.count-1)}},l$=(t,e)=>{const n=pi(t.sampleTimingEntries,e,Y=>Y.startIndex),r=t.sampleTimingEntries[n];if(!r||r.startIndex+r.count<=e)return null;let a=r.startDecodeTimestamp+(e-r.startIndex)*r.delta;const o=pi(t.sampleCompositionTimeOffsets,e,Y=>Y.startIndex),c=t.sampleCompositionTimeOffsets[o];c&&e-c.startIndex<c.count&&(a+=c.offset);const u=t.sampleSizes[Math.min(e,t.sampleSizes.length-1)],f=pi(t.sampleToChunk,e,Y=>Y.startSampleIndex),p=t.sampleToChunk[f];Ct(p);const h=p.startChunkIndex+Math.floor((e-p.startSampleIndex)/p.samplesPerChunk),m=t.chunkOffsets[h],y=p.startSampleIndex+(h-p.startChunkIndex)*p.samplesPerChunk;let _=0,v=m;if(t.sampleSizes.length===1)v+=u*(e-y),_+=u*p.samplesPerChunk;else for(let Y=y;Y<y+p.samplesPerChunk;Y++){const T=t.sampleSizes[Y];Y<e&&(v+=T),_+=T}let S=r.delta;if(t.presentationTimestamps){const Y=t.presentationTimestampIndexMap[e];Ct(Y!==void 0),Y<t.presentationTimestamps.length-1&&(S=t.presentationTimestamps[Y+1].presentationTimestamp-a)}return{presentationTimestamp:a,duration:S,sampleOffset:v,sampleSize:u,chunkOffset:m,chunkSize:_,isKeyFrame:t.keySampleIndices?kz(t.keySampleIndices,e,Y=>Y)!==-1:!0}},c$=(t,e)=>{if(!t.keySampleIndices)return e;const n=pi(t.keySampleIndices,e,r=>r);return t.keySampleIndices[n]??-1},u$=(t,e)=>{if(!t.keySampleIndices)return e+1;const n=pi(t.keySampleIndices,e,r=>r);return t.keySampleIndices[n+1]??-1},aY=(t,e)=>{t.startTimestamp+=e,t.endTimestamp+=e;for(const n of t.samples)n.presentationTimestamp+=e;for(const n of t.presentationTimestamps)n.presentationTimestamp+=e},f$=t=>{const[e,,,n]=t,r=Math.hypot(e,n),i=e/r,a=n/r,o=-Math.atan2(a,i)*(180/Math.PI);return Number.isFinite(o)?o:0},MU=t=>t.sampleSizes.length===0;class R6{}class P6 extends R6{async _getMajorBrand(e){let n=e._reader.requestSlice(0,12);return n instanceof Promise&&(n=await n),!n||(n.skip(4),Xu(n,4)!=="ftyp")?null:Xu(n,4)}_createDemuxer(e){return new s$(e)}}class d$ extends P6{async _canReadInput(e){const n=await this._getMajorBrand(e);return!!n&&n!=="qt  "}get name(){return"MP4"}get mimeType(){return"video/mp4"}}class h$ extends P6{async _canReadInput(e){return await this._getMajorBrand(e)==="qt  "}get name(){return"QuickTime File Format"}get mimeType(){return"video/quicktime"}}const p$=new d$,m$=new h$;class DT{constructor(){this._disposed=!1,this._sizePromise=null,this.onread=null}async getSizeOrNull(){if(this._disposed)throw new _s;return this._sizePromise??=Promise.resolve(this._retrieveSize())}async getSize(){if(this._disposed)throw new _s;const e=await this.getSizeOrNull();if(e===null)throw new Error("Cannot determine the size of an unsized source.");return e}}class g$ extends DT{constructor(e,n={}){if(!(e instanceof Blob))throw new TypeError("blob must be a Blob.");if(!n||typeof n!="object")throw new TypeError("options must be an object.");if(n.maxCacheSize!==void 0&&(!PT(n.maxCacheSize)||n.maxCacheSize<0))throw new TypeError("options.maxCacheSize, when provided, must be a non-negative number.");super(),this._readers=new WeakMap,this._blob=e,this._orchestrator=new O6({maxCacheSize:n.maxCacheSize??8*2**20,maxWorkerCount:4,runWorker:this._runWorker.bind(this),prefetchProfile:M6.fileSystem})}_retrieveSize(){const e=this._blob.size;return this._orchestrator.fileSize=e,e}_read(e,n){return this._orchestrator.read(e,n)}async _runWorker(e){let n=this._readers.get(e);for(n===void 0&&("stream"in this._blob?n=this._blob.slice(e.currentPos).stream().getReader():n=null,this._readers.set(e,n));e.currentPos<e.targetPos&&!e.aborted;)if(n){const{done:r,value:i}=await n.read();if(r){if(this._orchestrator.forgetWorker(e),e.currentPos<e.targetPos)throw new Error("Blob reader stopped unexpectedly before all requested data was read.");break}if(e.aborted)break;this.onread?.(e.currentPos,e.currentPos+i.length),this._orchestrator.supplyWorkerData(e,i)}else{const r=await this._blob.slice(e.currentPos,e.targetPos).arrayBuffer();if(e.aborted)break;this.onread?.(e.currentPos,e.currentPos+r.byteLength),this._orchestrator.supplyWorkerData(e,new Uint8Array(r))}e.running=!1}_dispose(){this._orchestrator.dispose()}}const y$=.5*2**20;class v$ extends DT{constructor(e){if(!e||typeof e!="object")throw new TypeError("options must be an object.");if(typeof e.getSize!="function")throw new TypeError("options.getSize must be a function.");if(typeof e.read!="function")throw new TypeError("options.read must be a function.");if(e.dispose!==void 0&&typeof e.dispose!="function")throw new TypeError("options.dispose, when provided, must be a function.");if(e.maxCacheSize!==void 0&&(!PT(e.maxCacheSize)||e.maxCacheSize<0))throw new TypeError("options.maxCacheSize, when provided, must be a non-negative number.");if(e.prefetchProfile&&!["none","fileSystem","network"].includes(e.prefetchProfile))throw new TypeError("options.prefetchProfile, when provided, must be one of 'none', 'fileSystem' or 'network'.");super(),this._options=e,this._orchestrator=new O6({maxCacheSize:e.maxCacheSize??8*2**20,maxWorkerCount:2,prefetchProfile:M6[e.prefetchProfile??"none"],runWorker:this._runWorker.bind(this)})}_retrieveSize(){const e=this._options.getSize();if(e instanceof Promise)return e.then(n=>{if(!Number.isInteger(n)||n<0)throw new TypeError("options.getSize must return or resolve to a non-negative integer.");return this._orchestrator.fileSize=n,n});if(!Number.isInteger(e)||e<0)throw new TypeError("options.getSize must return or resolve to a non-negative integer.");return this._orchestrator.fileSize=e,e}_read(e,n){return this._orchestrator.read(e,n)}async _runWorker(e){for(;e.currentPos<e.targetPos&&!e.aborted;){const n=e.currentPos,r=e.targetPos;let i=this._options.read(e.currentPos,r);if(i instanceof Promise&&(i=await i),e.aborted)break;if(i instanceof Uint8Array){if(i=pc(i),i.length!==r-e.currentPos)throw new Error(`options.read returned a Uint8Array with unexpected length: Requested ${r-e.currentPos} bytes, but got ${i.length}.`);this.onread?.(e.currentPos,e.currentPos+i.length),this._orchestrator.supplyWorkerData(e,i)}else if(i instanceof ReadableStream){const a=i.getReader();for(;e.currentPos<r&&!e.aborted;){const{done:o,value:c}=await a.read();if(o){if(e.currentPos<r)throw new Error(`ReadableStream returned by options.read ended before supplying enough data. Requested ${r-n} bytes, but got ${e.currentPos-n}`);break}if(!(c instanceof Uint8Array))throw new TypeError("ReadableStream returned by options.read must yield Uint8Array chunks.");if(e.aborted)break;const u=pc(c);this.onread?.(e.currentPos,e.currentPos+u.length),this._orchestrator.supplyWorkerData(e,u)}}else throw new TypeError("options.read must return or resolve to a Uint8Array or a ReadableStream.")}e.running=!1}_dispose(){this._orchestrator.dispose(),this._options.dispose?.()}}const M6={none:(t,e)=>({start:t,end:e}),fileSystem:(t,e)=>(t=Math.floor((t-65536)/65536)*65536,e=Math.ceil((e+65536)/65536)*65536,{start:t,end:e}),network:(t,e,n)=>{t=Math.max(0,Math.floor((t-65536)/65536)*65536);for(const i of n){const o=Math.max((i.startPos+i.targetPos)/2,i.targetPos-8388608);if(ox(t,e,o,i.targetPos)){const c=i.targetPos-i.startPos,u=Math.ceil((c+1)/8388608)*8388608,f=2**Math.ceil(Math.log2(c+1)),p=Math.min(f,u);e=Math.max(e,i.startPos+p)}}return e=Math.max(e,t+y$),{start:t,end:e}}};class O6{constructor(e){this.options=e,this.fileSize=null,this.nextAge=0,this.workers=[],this.cache=[],this.currentCacheSize=0,this.disposed=!1}read(e,n){Ct(this.fileSize!==null);const r=this.options.prefetchProfile(e,n,this.workers),i=Math.max(r.start,0),a=Math.min(r.end,this.fileSize);Ct(i<=e&&n<=a);let o=null;const c=pi(this.cache,e,T=>T.start),u=c!==-1?this.cache[c]:null;u&&u.start<=e&&n<=u.end&&(u.age=this.nextAge++,o={bytes:u.bytes,view:u.view,offset:u.start});const f=pi(this.cache,i,T=>T.start),p=o?null:new Uint8Array(n-e);let h=0,m=i;const y=[];if(f!==-1){for(let T=f;T<this.cache.length;T++){const A=this.cache[T];if(A.start>=a)break;if(A.end<=i)continue;const P=Math.max(i,A.start),C=Math.min(a,A.end);if(Ct(P<=C),m<P&&y.push({start:m,end:P}),m=C,p){const W=Math.max(e,A.start),w=Math.min(n,A.end);if(W<w){const k=W-e;p.set(A.bytes.subarray(W-A.start,w-A.start),k),k===h&&(h=w-e)}}A.age=this.nextAge++}m<a&&y.push({start:m,end:a})}else y.push({start:i,end:a});if(p&&h>=p.length&&(o={bytes:p,view:po(p),offset:e}),y.length===0)return Ct(o),o;const{promise:_,resolve:v,reject:S}=ys(),Y=[];for(const T of y){const A=Math.max(e,T.start),P=Math.min(n,T.end);A===T.start&&P===T.end?Y.push(T):A<P&&Y.push({start:A,end:P})}for(const T of y){const A=p&&{start:e,bytes:p,holes:Y,resolve:v,reject:S};let P=!1;for(const C of this.workers)if(ox(T.start-131072,T.start,C.currentPos,C.targetPos)){C.targetPos=Math.max(C.targetPos,T.end),P=!0,A&&!C.pendingSlices.includes(A)&&C.pendingSlices.push(A),C.running||this.runWorker(C);break}if(!P){const C=this.createWorker(T.start,T.end);A&&(C.pendingSlices=[A]),this.runWorker(C)}}return o||(Ct(p),o=_.then(T=>({bytes:T,view:po(T),offset:e}))),o}createWorker(e,n){const r={startPos:e,currentPos:e,targetPos:n,running:!1,aborted:this.disposed,pendingSlices:[],age:this.nextAge++};for(this.workers.push(r);this.workers.length>this.options.maxWorkerCount;){let i=0,a=this.workers[0];for(let o=1;o<this.workers.length;o++){const c=this.workers[o];c.age<a.age&&(i=o,a=c)}if(a.running&&a.pendingSlices.length>0)break;a.aborted=!0,this.workers.splice(i,1)}return r}runWorker(e){Ct(!e.running),Ct(e.currentPos<e.targetPos),e.running=!0,e.age=this.nextAge++,this.options.runWorker(e).catch(n=>{if(e.running=!1,e.pendingSlices.length>0)e.pendingSlices.forEach(r=>r.reject(n)),e.pendingSlices.length=0;else throw n})}supplyWorkerData(e,n){Ct(!e.aborted);const r=e.currentPos,i=r+n.length;this.insertIntoCache({start:r,end:i,bytes:n,view:po(n),age:this.nextAge++}),e.currentPos+=n.length,e.targetPos=Math.max(e.targetPos,e.currentPos);for(let a=0;a<e.pendingSlices.length;a++){const o=e.pendingSlices[a],c=Math.max(r,o.start),u=Math.min(i,o.start+o.bytes.length);c<u&&o.bytes.set(n.subarray(c-r,u-r),c-o.start);for(let f=0;f<o.holes.length;f++){const p=o.holes[f];r<=p.start&&i>p.start&&(p.start=i),p.end<=p.start&&(o.holes.splice(f,1),f--)}o.holes.length===0&&(o.resolve(o.bytes),e.pendingSlices.splice(a,1),a--)}for(let a=0;a<this.workers.length;a++){const o=this.workers[a];e===o||o.running||ox(r,i,o.currentPos,o.targetPos)&&(this.workers.splice(a,1),a--)}}forgetWorker(e){const n=this.workers.indexOf(e);Ct(n!==-1),this.workers.splice(n,1)}insertIntoCache(e){if(this.options.maxCacheSize===0)return;let n=pi(this.cache,e.start,r=>r.start)+1;if(n>0){const r=this.cache[n-1];if(r.end>=e.end)return;if(r.end>e.start){const i=new Uint8Array(e.end-r.start);i.set(r.bytes,0),i.set(e.bytes,e.start-r.start),this.currentCacheSize+=e.end-r.end,r.bytes=i,r.view=po(i),r.end=e.end,n--,e=r}else this.cache.splice(n,0,e),this.currentCacheSize+=e.bytes.length}else this.cache.splice(n,0,e),this.currentCacheSize+=e.bytes.length;for(let r=n+1;r<this.cache.length;r++){const i=this.cache[r];if(e.end<=i.start)break;if(e.end>=i.end){this.cache.splice(r,1),this.currentCacheSize-=i.bytes.length,r--;continue}const a=new Uint8Array(i.end-e.start);a.set(e.bytes,0),a.set(i.bytes,i.start-e.start),this.currentCacheSize-=e.end-i.start,e.bytes=a,e.view=po(a),e.end=i.end,this.cache.splice(r,1);break}for(;this.currentCacheSize>this.options.maxCacheSize;){let r=0,i=this.cache[0];for(let a=1;a<this.cache.length;a++){const o=this.cache[a];o.age<i.age&&(r=a,i=o)}if(this.currentCacheSize-i.bytes.length<=this.options.maxCacheSize)break;this.cache.splice(r,1),this.currentCacheSize-=i.bytes.length}}dispose(){for(const e of this.workers)e.aborted=!0;this.workers.length=0,this.cache.length=0,this.disposed=!0}}b6();class _${get disposed(){return this._disposed}constructor(e){if(this._demuxerPromise=null,this._format=null,this._disposed=!1,!e||typeof e!="object")throw new TypeError("options must be an object.");if(!Array.isArray(e.formats)||e.formats.some(n=>!(n instanceof R6)))throw new TypeError("options.formats must be an array of InputFormat.");if(!(e.source instanceof DT))throw new TypeError("options.source must be a Source.");if(e.source._disposed)throw new Error("options.source must not be disposed.");this._formats=e.formats,this._source=e.source,this._reader=new S$(e.source)}_getDemuxer(){return this._demuxerPromise??=(async()=>{this._reader.fileSize=await this._source.getSizeOrNull();for(const e of this._formats)if(await e._canReadInput(this))return this._format=e,e._createDemuxer(this);throw new Error("Input has an unsupported or unrecognizable format.")})()}get source(){return this._source}async getFormat(){return await this._getDemuxer(),Ct(this._format),this._format}async computeDuration(){return(await this._getDemuxer()).computeDuration()}async getTracks(){return(await this._getDemuxer()).getTracks()}async getVideoTracks(){return(await this.getTracks()).filter(n=>n.isVideoTrack())}async getAudioTracks(){return(await this.getTracks()).filter(n=>n.isAudioTrack())}async getPrimaryVideoTrack(){return(await this.getTracks()).find(n=>n.isVideoTrack())??null}async getPrimaryAudioTrack(){return(await this.getTracks()).find(n=>n.isAudioTrack())??null}async getMimeType(){return(await this._getDemuxer()).getMimeType()}async getMetadataTags(){return(await this._getDemuxer()).getMetadataTags()}dispose(){this._disposed||(this._disposed=!0,this._source._disposed=!0,this._source._dispose())}[Symbol.dispose](){this.dispose()}}class _s extends Error{constructor(e="Input has been disposed."){super(e),this.name="InputDisposedError"}}class S${constructor(e){this.source=e}requestSlice(e,n){if(this.source._disposed)throw new _s;if(this.fileSize!==null&&e+n>this.fileSize)return null;const r=e+n,i=this.source._read(e,r);return i instanceof Promise?i.then(a=>a?new jg(a.bytes,a.view,a.offset,e,r):null):i?new jg(i.bytes,i.view,i.offset,e,r):null}requestSliceRange(e,n,r){if(this.source._disposed)throw new _s;if(this.fileSize!==null)return this.requestSlice(e,CU(this.fileSize-e,n,r));{const i=this.requestSlice(e,r),a=o=>{if(o)return o;const c=f=>(Ct(f!==null),this.requestSlice(e,CU(f-e,n,r))),u=this.source._retrieveSize();return u instanceof Promise?u.then(c):c(u)};return i instanceof Promise?i.then(a):a(i)}}}class jg{constructor(e,n,r,i,a){this.bytes=e,this.view=n,this.offset=r,this.start=i,this.end=a,this.bufferPos=i-r}static tempFromBytes(e){return new jg(e,po(e),0,0,e.length)}get length(){return this.end-this.start}get filePos(){return this.offset+this.bufferPos}set filePos(e){this.bufferPos=e-this.offset}get remainingLength(){return Math.max(this.end-this.filePos,0)}skip(e){this.bufferPos+=e}slice(e,n=this.end-e){if(e<this.start||e+n>this.end)throw new RangeError("Slicing outside of original slice.");return new jg(this.bytes,this.view,this.offset,e,e+n)}}const wo=(t,e)=>{if(t.filePos<t.start||t.filePos+e>t.end)throw new RangeError(`Tried reading [${t.filePos}, ${t.filePos+e}), but slice is [${t.start}, ${t.end}). This is likely an internal error, please report it alongside the file that caused it.`)},gs=(t,e)=>{wo(t,e);const n=t.bytes.subarray(t.bufferPos,t.bufferPos+e);return t.bufferPos+=e,n},jn=t=>(wo(t,1),t.view.getUint8(t.bufferPos++)),ps=t=>{wo(t,2);const e=t.view.getUint16(t.bufferPos,!1);return t.bufferPos+=2,e},hg=t=>{wo(t,3);const e=S6(t.view,t.bufferPos);return t.bufferPos+=3,e},b$=t=>{wo(t,2);const e=t.view.getInt16(t.bufferPos,!1);return t.bufferPos+=2,e},Rt=t=>{wo(t,4);const e=t.view.getUint32(t.bufferPos,!1);return t.bufferPos+=4,e},lc=t=>{wo(t,4);const e=t.view.getInt32(t.bufferPos,!1);return t.bufferPos+=4,e},na=t=>{const e=Rt(t),n=Rt(t);return e*4294967296+n},Y$=t=>{const e=lc(t),n=Rt(t);return e*4294967296+n},x$=t=>{wo(t,8);const e=t.view.getFloat64(t.bufferPos,!1);return t.bufferPos+=8,e},Xu=(t,e)=>{wo(t,e);let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t.bytes[t.bufferPos++]);return n};class K_{file;_path;constructor(e,n){this.file=e,this._path=n}get name(){return this.file.name}get size(){return this.file.size}get type(){return this.file.type}get lastModified(){return this.file.lastModified}get webkitRelativePath(){return this.file.webkitRelativePath}get path(){return this._path||this.file.webkitRelativePath}text(){return this.file.text()}arrayBuffer(){return this.file.arrayBuffer()}stream(){return this.file.stream()}slice(e,n,r){return this.file.slice(e,n,r)}getNativeFile(){return this.file}}class n0{name;size;type;lastModified;fileRef;path;constructor(e,n,r,i,a,o){this.name=e,this.fileRef=n,this.size=r,this.type=i,this.lastModified=a,this.path=o}static async create(e,n,r){if(!window.electronAPI)throw new Error("Electron API not available");const i=await window.electronAPI.getFileSize(n),a=await window.electronAPI.getFileMimeType(n),o=await window.electronAPI.getFileLastModified(n);return new n0(e,n,i,a,o,r)}async text(){if(!window.electronAPI)throw new Error("Electron API not available");return window.electronAPI.readFileAsText(this.fileRef)}async arrayBuffer(){if(!window.electronAPI)throw new Error("Electron API not available");return window.electronAPI.readFileAsArrayBuffer(this.fileRef)}stream(){throw new Error("Not implemented: File streams not yet supported in Electron")}slice(e,n,r){throw window.electronAPI?new Error("Not implemented: File slicing not yet supported in Electron"):new Error("Electron API not available")}async toFile(){if(!window.electronAPI)throw new Error("Electron API not available");const e=await this.arrayBuffer(),n=new Blob([e],{type:this.type});return new File([n],this.name,{type:this.type,lastModified:this.lastModified})}}async function T$(t){if(t instanceof K_){const e=t.getNativeFile();return new g$(e)}else if(t instanceof n0){if(!window.electronAPI)throw new Error("Electron API not available");const e=await window.electronAPI.createStreamSource(t.fileRef);return new v$({read:e.read,getSize:e.getSize,dispose:e.dispose})}else throw new Error("Unsupported IFile implementation")}async function w$(t){if(t instanceof K_)return URL.createObjectURL(t.getNativeFile());if(t instanceof n0)return`${t.fileRef}`,`local:///${t.fileRef}`;throw new Error("Unsupported IFile implementation")}class Hg{name;dirID;handle;constructor(e){this.handle=e.handle,this.dirID=crypto.randomUUID(),this.name=e.name}static fromDB(e){return Object.assign(new Hg(e),e)}async requestPermission(){return await this.handle.requestPermission({mode:"read"})==="granted"}async queryPermission(){return await this.handle.queryPermission({mode:"read"})==="granted"}}class vl{handle;fileID;path;hash;name;size;type;lastModified;category;constructor(e){this.handle=e.handle,this.fileID=e.fileID,this.path=e.path,this.hash=e.hash,this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.category=e.category}async getFile(){const e=await this.handle.getFile();return new K_(e,this.path)}async queryPermission(){return await this.handle.queryPermission({mode:"read"})==="granted"}async requestPermission(){return await this.handle.requestPermission({mode:"read"})==="granted"}static async create(e){const n=await e.handle.getFile(),r=await N6(n);return new vl({handle:e.handle,fileID:crypto.randomUUID(),path:e.path,hash:r,name:n.name,size:n.size,type:n.type,lastModified:n.lastModified,category:e.category})}static fromDB(e){return Object.assign(new vl(e),e)}}class BT{kind="file";fileRef;fileID;path;hash;name;size;type;lastModified;category;constructor(e){this.fileRef=e.fileRef,this.fileID=e.fileID,this.path=e.path,this.hash=e.hash,this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.category=e.category}static async create(e){const n=await n0.create(e.name,e.fileRef);return new BT({fileRef:e.fileRef,fileID:crypto.randomUUID(),path:e.path,hash:await N6(n),name:e.name,size:n.size,type:n.type,lastModified:n.lastModified,category:e.category})}async getFile(){if(!window.electronAPI)throw new Error("Electron API not available");return n0.create(this.name,this.fileRef,this.path)}async queryPermission(){return!0}async requestPermission(){return!0}}class W${name;size;type;lastModified;webkitRelativePath;constructor(e){this.name=e.name,this.size=e.size,this.type=e.type,this.lastModified=e.lastModified,this.webkitRelativePath=e.webkitRelativePath}async text(){return""}async arrayBuffer(){return new ArrayBuffer(0)}stream(){return new ReadableStream}slice(e,n,r){return new Blob}}async function OU(t,e){if(t instanceof K_&&xz(e))try{const n=t.getNativeFile();return await wz(n)}catch(n){console.error("Failed to decode TIFF file, falling back to raw URL:",n)}return w$(t)}const E$=3735928559;async function N6(t){return U$(t,65536)}async function U$(t,e){const n=fz.h64(E$),r=t.size;if(r<e*3){const a=await t.arrayBuffer();return n.update(a),n.digest().toString(16)}const i=[0,Math.floor(r/2)-e/2,r-e];for(const a of i){const c=await t.slice(a,a+e).arrayBuffer();n.update(c)}return n.digest().toString(16)}class Bs extends Error{constructor(e,n){super(e),this.cause=n,this.name="FileStoreError"}}class NU{urlMap=new Map;backend;constructor(e){this.backend=e}async queryPermissionAll(){const e=await this.getAllDirHandles();for(const r of e)if(!await r.queryPermission())return!1;const n=await this.getAllFileHandles();for(const r of n)if(!await r.queryPermission())return!1;return!0}async requestPermissionAll(){const e=await this.getAllDirHandles();for(const r of e)await r.requestPermission();const n=await this.getAllFileHandles();for(const r of n)await r.requestPermission()}async init(){try{if(!await this.queryPermissionAll()){console.warn("Not all permissions granted.");return}const e=await this.getAllFileHandles();for(const n of e){const r=await this.attemptGetMissingFile(n);if(!r)continue;const i=await OU(r,n.name);this.urlMap.set(n.hash,i)}}catch(e){console.error("Failed to load file handles:",e),e instanceof Error&&e.name==="SecurityError"&&console.error("Permission denied for some files.")}}async attemptGetMissingFile(e){try{return e.getFile()}catch(n){if(!(n instanceof Error))throw new Error("Unknown error type");return n.name==="NotFoundError"&&this.removeFile(e.hash),console.error("Failed to get file from handle:",n),null}}async storeDirHandle(e){try{await this.backend.storeDirHandle(e)}catch(n){throw new Bs(`Failed to store directory handle: ${e.name}`,n)}}async getDirHandle(e){try{return await this.backend.getDirHandle(e)}catch(n){throw new Bs(`Failed to get directory handle with ID: ${e}`,n)}}async getAllDirHandles(){try{return await this.backend.getAllDirHandles()}catch(e){throw new Bs("Failed to get all directory handles",e)}}async removeDirHandle(e){try{await this.backend.removeDirHandle(e)}catch(n){throw new Bs(`Failed to remove directory handle with ID: ${e}`,n)}}async clearAllDirHandles(){try{await this.backend.clearAllDirHandles()}catch(e){throw new Bs("Failed to clear all directory handles",e)}}async storeFile(e){const n=e.hash;let r;try{await this.backend.storeFileHandle(e);const i=await e.getFile();return r=await OU(i,e.name),this.urlMap.set(n,r),n}catch(i){throw r&&URL.revokeObjectURL(r),new Bs(`Failed to store file: ${e.name}`,i)}}async getFileHandle(e){try{return await this.backend.getFileHandle(e)}catch(n){throw new Bs(`Failed to get file handle with hash: ${e}`,n)}}async getFileHandles(e){try{return await this.backend.getFileHandles(e)}catch(n){throw new Bs("Failed to get file handles",n)}}async getFile(e){try{const n=await this.getFileHandle(e);return n?(await n.queryPermission()||n.requestPermission(),await this.attemptGetMissingFile(n)):null}catch(n){throw new Bs(`Failed to get file handle with hash: ${e}`,n)}}async getFiles(e){const r=(await this.backend.getFileHandles(e)).map(async a=>{try{return await a.queryPermission()||a.requestPermission(),a.getFile()}catch(o){throw o instanceof Error&&(o.name==="NotFoundError"||o.code===8)&&this.removeFile(a.hash),new Bs(`Failed to get file with hash: ${a.hash}`,o)}});return await Promise.all(r)}getUrlForFile(e){return this.urlMap.get(e)}async getAllFileHandles(){try{return await this.backend.getAllFileHandles()}catch(e){return console.error("Failed to get all file handles:",e),[]}}async hasFile(e){try{return await this.getFileHandle(e)!==null}catch{return!1}}async removeFile(e){try{await this.backend.removeFileHandle(e);const n=this.urlMap.get(e);n&&(URL.revokeObjectURL(n),this.urlMap.delete(e))}catch(n){throw new Bs(`Failed to remove file with hash: ${e}`,n)}}async clearAllFileHandles(){try{await this.backend.clearAllFileHandles();for(const e of this.urlMap.values())URL.revokeObjectURL(e);this.urlMap.clear()}catch(e){throw new Bs("Failed to clear file store",e)}}hasPendingHandles(){return!1}getPendingHandleCount(){return 0}async restorePendingHandles(){return 0}getPendingHandles(){return[]}}class C${async storeDirHandle(e){}async getDirHandle(e){return null}async getAllDirHandles(){return[]}async removeDirHandle(e){}async clearAllDirHandles(){}async storeFileHandle(e){}async getFileHandle(e){return null}async getFileHandles(e){return[]}async getAllFileHandles(){return[]}async removeFileHandle(e){}async clearAllFileHandles(){}}class A${db;constructor(){this.db=new Kg("fileHandleDB"),this.db.version(1).stores({fileHandles:"hash",directoryHandles:"dirID"})}async storeDirHandle(e){try{await this.db.table("directoryHandles").put(e)}catch(n){throw new Error(`Dexie error storing directory handle: ${n}`)}}async getDirHandle(e){try{const n=await this.db.table("directoryHandles").get(e);return n?Hg.fromDB(n):null}catch(n){throw new Error(`Dexie error retrieving directory handle ${e}: ${n}`)}}async getAllDirHandles(){try{return(await this.db.table("directoryHandles").toArray()).map(n=>Hg.fromDB(n))}catch(e){throw new Error(`Dexie error retrieving directory handles: ${e}`)}}async removeDirHandle(e){try{await this.db.table("directoryHandles").delete(e)}catch(n){throw new Error(`Dexie error removing directory handle ${e}: ${n}`)}}async clearAllDirHandles(){try{await this.db.table("directoryHandles").clear()}catch(e){throw new Error(`Dexie error clearing directory handles: ${e}`)}}async storeFileHandle(e){try{await this.db.fileHandles.put(e)}catch(n){throw new Error(`Dexie error storing file handle: ${n}`)}}async getFileHandle(e){try{const n=await this.db.fileHandles.get(e);return n?vl.fromDB(n):null}catch(n){throw new Error(`Dexie error retrieving file handle ${e}: ${n}`)}}async getFileHandles(e){try{return(await this.db.fileHandles.bulkGet(e)).map(i=>vl.fromDB(i))}catch(n){throw new Error(`Dexie error retrieving multiple file handles: ${n}`)}}async getAllFileHandles(){try{return(await this.db.fileHandles.toArray()).map(r=>vl.fromDB(r))}catch(e){throw new Error(`Dexie error retrieving all file handles: ${e}`)}}async removeFileHandle(e){try{await this.db.fileHandles.delete(e)}catch(n){throw new Error(`Dexie error removing file handle ${e}: ${n}`)}}async clearAllFileHandles(){try{await this.db.fileHandles.clear()}catch(e){throw new Error(`Dexie error clearing file handles: ${e}`)}}}class k${static async createFileStore(){if(window.electronAPI){const e=new C$,n=new NU(e);return await n.init(),n}else{const e=new A$,n=new NU(e);return await n.init(),n}}}let D6=await k$.createFileStore();const Il=pt(D6),Ice=pt(await D6.queryPermissionAll());let B6=class{constructor(e){if(I$(e))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=e,this.byteLength=this.buffer.length}getUint8(e){return this.buffer.readUInt8(e)}getUint16(e,n){return n?this.buffer.readUInt16LE(e):this.buffer.readUInt16BE(e)}getUint32(e,n){return n?this.buffer.readUInt32LE(e):this.buffer.readUInt32BE(e)}getInt32(e,n){return n?this.buffer.readInt32LE(e):this.buffer.readInt32BE(e)}};function I$(t){return typeof t!="object"||t.length===void 0||t.readUInt8===void 0||t.readUInt16LE===void 0||t.readUInt16BE===void 0||t.readUInt32LE===void 0||t.readUInt32BE===void 0||t.readInt32LE===void 0||t.readInt32BE===void 0}function DU(t,e,n){try{return new DataView(t,e,n)}catch{return new B6(t,e,n)}}function dn(t,e,n){const r=[];for(let i=0;i<n&&e+i<t.byteLength;i++)r.push(t.getUint8(e+i));return xc(r)}function Su(t,e){const n=[];let r=0;for(;e+r<t.byteLength;){const i=t.getUint8(e+r);if(i===0)break;n.push(i),r++}return xc(n)}function X$(t,e,n){const r=[];for(let i=0;i<n&&e+i<t.byteLength;i+=2)r.push(t.getUint16(e+i));return r[r.length-1]===0&&r.pop(),xc(r)}function V6(t,e){const n=t.getUint8(e),r=dn(t,e+1,n);return[n,r]}function xc(t){return t.map(e=>String.fromCharCode(e)).join("")}function vn(){for(let t=1;t<arguments.length;t++)for(const e in arguments[t])arguments[0][e]=arguments[t][e];return arguments[0]}function F6(t,e,n){let r=!1;Object.defineProperty(t,e,{get(){return r||(r=!0,Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n.apply(t),writable:!0})),t[e]},configurable:!0,enumerable:!0})}function L6(t){if(typeof btoa<"u")return btoa(typeof t=="string"?t:Array.prototype.reduce.call(new Uint8Array(t),(e,n)=>e+String.fromCharCode(n),""));if(!(typeof Buffer>"u"))return typeof Buffer.from<"u"?Buffer.from(t).toString("base64"):new Buffer(t).toString("base64")}function R$(t){const e=t.substring(t.indexOf(",")+1);if(t.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(e),r=>r.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from<"u"?Buffer.from(e,"base64"):new Buffer(e,"base64");const n=decodeURIComponent(e);return typeof Buffer<"u"?typeof Buffer.from<"u"?Buffer.from(n):new Buffer(n):Uint8Array.from(n,r=>r.charCodeAt(0)).buffer}function P$(t,e,n){return Z6(n,e-t.length)+t}function M$(t,e){return parseInt(t.replace(".",""),e)/Math.pow(e,(t.split(".")[1]||"").length)}function Z6(t,e){return new Array(e+1).join(t)}const n_=void 0,z6=0;function $6(t,e,n,r="string"){if(e===z6&&typeof DecompressionStream=="function"){const i=new DecompressionStream("deflate"),a=new Blob([t]).stream().pipeThrough(i);return r==="dataview"?new Response(a).arrayBuffer().then(o=>new DataView(o)):new Response(a).arrayBuffer().then(o=>new TextDecoder(n).decode(o))}return e!==void 0?Promise.reject(`Unknown compression method ${e}.`):t}const BU={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0,USE_MAKER_NOTES:!0};function Jr(t){return t.map(e=>String.fromCharCode(e)).join("")}function ux(t){if(t.length>=8){const e=Jr(t.slice(0,8));if(e==="ASCII\0\0\0")return Jr(t.slice(8));if(e==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(e==="UNICODE\0")return"[Unicode encoded text]";if(e==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function r_(t){return t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600}const fx=18761,dx=19789,Pa={BIG_ENDIAN:dx,LITTLE_ENDIAN:fx,getByteOrder:O$};function O$(t,e){if(t.getUint16(e)===fx)return fx;if(t.getUint16(e)===dx)return dx;throw new Error("Illegal byte order value. Faulty image.")}const VU={isTiffFile:N$,findTiffOffsets:B$};function N$(t){return!!t&&t.byteLength>=4&&D$(t)}function D$(t){const r=t.getUint16(0)===Pa.LITTLE_ENDIAN;return t.getUint16(2,r)===42}function B$(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const FU={isJpegFile:nK,findJpegOffsets:rK},V$=2,F$=65496,LU=2,Ks=4,ki=2,L$=2,Z$=10,z$=18,ZU=33,zU=79,$U=18,$$=8,hx="ICC_PROFILE\0",K6=Ks+hx.length,K$=K6+1,KU="MPF\0",j6=65472,H6=65474,j$=65476,H$=65499,G$=65501,q$=65498,G6=65504,VT=65505,q6=65506,Q$=65517,J$=65519,eK=65534,tK=65535,jU="JFIF",HU="Exif",GU="http://ns.adobe.com/xap/1.0/\0",qU="http://ns.adobe.com/xmp/extension/\0",QU="Photoshop 3.0";function nK(t){return!!t&&t.byteLength>=V$&&t.getUint16(0)===F$}function rK(t){let e=LU,n,r,i,a,o,c,u,f,p;for(;e+Ks+5<=t.byteLength;){if(iK(t,e))n=t.getUint16(e+ki),r=e+ki;else if(sK(t,e))n=t.getUint16(e+ki),i=e+ki;else if(lK(t,e))n=t.getUint16(e+ki),a=e+L$;else if(cK(t,e))n=t.getUint16(e+ki),o=e+Z$;else if(uK(t,e))u||(u=[]),n=t.getUint16(e+ki),u.push(pK(e,n));else if(dK(t,e))u||(u=[]),n=t.getUint16(e+ki),u.push(mK(e,n));else if(gK(t,e))n=t.getUint16(e+ki),c=e+z$;else if(aK(t,e)){n=t.getUint16(e+ki);const h=e+$U,m=n-($U-ki),y=t.getUint8(e+K6),_=t.getUint8(e+K$);f||(f=[]),f.push({offset:h,length:m,chunkNumber:y,chunksTotal:_})}else if(oK(t,e))n=t.getUint16(e+ki),p=e+$$;else if(yK(t,e))n=t.getUint16(e+ki);else if(vK(t,e)){e++;continue}else break;e+=ki+n}return{hasAppMarkers:e>LU,fileDataOffset:r||i,jfifDataOffset:a,tiffHeaderOffset:o,iptcDataOffset:c,xmpChunks:u,iccChunks:f,mpfDataOffset:p}}function iK(t,e){return t.getUint16(e)===j6}function sK(t,e){return t.getUint16(e)===H6}function aK(t,e){const n=hx.length;return t.getUint16(e)===q6&&dn(t,e+Ks,n)===hx}function oK(t,e){const n=KU.length;return t.getUint16(e)===q6&&dn(t,e+Ks,n)===KU}function lK(t,e){const n=jU.length;return t.getUint16(e)===G6&&dn(t,e+Ks,n)===jU&&t.getUint8(e+Ks+n)===0}function cK(t,e){const n=HU.length;return t.getUint16(e)===VT&&dn(t,e+Ks,n)===HU&&t.getUint8(e+Ks+n)===0}function uK(t,e){return t.getUint16(e)===VT&&fK(t,e)}function fK(t,e){const n=GU.length;return dn(t,e+Ks,n)===GU}function dK(t,e){return t.getUint16(e)===VT&&hK(t,e)}function hK(t,e){const n=qU.length;return dn(t,e+Ks,n)===qU}function pK(t,e){return{dataOffset:t+ZU,length:e-(ZU-ki)}}function mK(t,e){return{dataOffset:t+zU,length:e-(zU-ki)}}function gK(t,e){const n=QU.length;return t.getUint16(e)===Q$&&dn(t,e+Ks,n)===QU&&t.getUint8(e+Ks+n)===0}function yK(t,e){const n=t.getUint16(e);return n>=G6&&n<=J$||n===eK||n===j6||n===H6||n===j$||n===H$||n===G$||n===q$}function vK(t,e){return t.getUint16(e)===tK}const JU={isPngFile:bK,findPngOffsets:YK},px=`PNG\r

`,i_=4,la=4,bu=0,Xl=i_,Ti=i_+la,mx="XML:com.adobe.xmp\0",FT="tEXt",Tc="iTXt",j_="zTXt",Q6="pHYs",J6="tIME",_K="eXIf",SK="iCCP";function bK(t){return!!t&&dn(t,0,px.length)===px}function YK(t,e){const r={hasAppMarkers:!1};let i=px.length;for(;i+i_+la<=t.byteLength;){if(xK(t,i))r.hasAppMarkers=!0,r.pngHeaderOffset=i+Ti;else if(TK(t,i)){const a=CK(t,i);a!==void 0&&(r.hasAppMarkers=!0,r.xmpChunks=[{dataOffset:a,length:t.getUint32(i+bu)-(a-(i+Ti))}])}else if(wK(t,i,e)){r.hasAppMarkers=!0;const a=dn(t,i+Xl,la);r.pngTextChunks||(r.pngTextChunks=[]),r.pngTextChunks.push({length:t.getUint32(i+bu),type:a,offset:i+Ti})}else if(WK(t,i))r.hasAppMarkers=!0,r.tiffHeaderOffset=i+Ti;else if(e&&EK(t,i)){r.hasAppMarkers=!0;const a=t.getUint32(i+bu),o=i+Ti,{profileName:c,compressionMethod:u,compressedProfileOffset:f}=AK(t,o);r.iccChunks||(r.iccChunks=[]),r.iccChunks.push({offset:f,length:a-(f-o),chunkNumber:1,chunksTotal:1,profileName:c,compressionMethod:u})}else UK(t,i)&&(r.hasAppMarkers=!0,r.pngChunkOffsets||(r.pngChunkOffsets=[]),r.pngChunkOffsets.push(i+bu));i+=t.getUint32(i+bu)+i_+la+4}return r}function xK(t,e){return dn(t,e+Xl,la)==="IHDR"}function TK(t,e){return dn(t,e+Xl,la)===Tc&&dn(t,e+Ti,mx.length)===mx}function wK(t,e,n){const r=dn(t,e+Xl,la);return r===FT||r===Tc||r===j_&&n}function WK(t,e){return dn(t,e+Xl,la)===_K}function EK(t,e){return dn(t,e+Xl,la)===SK}function UK(t,e){const n=[Q6,J6],r=dn(t,e+Xl,la);return n.includes(r)}function CK(t,e){e+=Ti+mx.length+1+1;let i=0;for(;i<2&&e<t.byteLength;)t.getUint8(e)===0&&i++,e++;if(!(i<2))return e}function AK(t,e){const i=Su(t,e);e+=i.length+1;const a=t.getUint8(e);return e+=1,{profileName:i,compressionMethod:a,compressedProfileOffset:e}}function kK(t,e){return t.getUint32(e+4)}function IK(t,e,n,r){const{offsets:a,sizes:o}=XK(e,n+3),c=t.getUint8(a.offsetSize)>>4;o.item.extent.extentOffset=c;const u=t.getUint8(a.lengthSize)&15;o.item.extent.extentLength=u;const f=t.getUint8(a.baseOffsetSize)>>4;o.item.baseOffset=f;const p=RK(t,a.indexSize,e);o.item.extent.extentIndex=p!==void 0?p:0;const h=PK(t,a.itemCount,e);return{type:"iloc",items:MK(t,e,a,o,c,u,p,h),length:r}}function XK(t,e){const n={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};t<2?(n.itemCount=2,n.item.itemId=2):t===2&&(n.itemCount=4,n.item.itemId=4),t===1||t===2?n.item.constructionMethod=2:n.item.constructionMethod=0;const r={offsetSize:e,lengthSize:e,baseOffsetSize:e+1,indexSize:e+1};return r.itemCount=e+2,r.items=r.itemCount+n.itemCount,r.item={itemId:0},r.item.constructionMethod=r.item.itemId+n.item.itemId,r.item.dataReferenceIndex=r.item.constructionMethod+n.item.constructionMethod,{offsets:r,sizes:n}}function RK(t,e,n){if(n===1||n===2)return t.getUint8(e)&15}function PK(t,e,n){if(n<2)return t.getUint16(e);if(n===2)return t.getUint32(e)}function MK(t,e,n,r,i,a,o,c){if(c===void 0)return[];const u=[];let f=n.items;for(let p=0;p<c;p++){const h={extents:[]};h.itemId=OK(t,f,e),f+=r.item.itemId,h.constructionMethod=e===1||e===2?t.getUint16(f)&15:void 0,f+=r.item.constructionMethod,h.dataReferenceIndex=t.getUint16(f),f+=r.item.dataReferenceIndex,h.baseOffset=dv(t,f,r.item.baseOffset),f+=r.item.baseOffset,h.extentCount=t.getUint16(f),f+=r.item.extentCount;for(let m=0;m<h.extentCount;m++){const y={};y.extentIndex=NK(t,e,f,o),f+=r.item.extent.extentIndex,y.extentOffset=dv(t,f,i),f+=r.item.extent.extentOffset,y.extentLength=dv(t,f,a),f+=r.item.extent.extentLength,h.extents.push(y)}u.push(h)}return u}function OK(t,e,n){if(n<2)return t.getUint16(e);if(n===2)return t.getUint32(e)}function NK(t,e,n,r){if((e===1||e===2)&&r>0)return dv(t,n,r)}function dv(t,e,n){return n===4?t.getUint32(e):n===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),kK(t,e)):0}const DK=1718909296,BK=1768977008,VK=1835365473,FK=1768714083,LK=1768517222,ZK=1768842853,zK=1768973167,$K=1668246642,eI=1165519206,LT=1835625829,KK=1970432288;function H_(t,e){const{length:a,contentOffset:o}=jK(t,e);if(a<8)return;const c=t.getUint32(e+4);if(c===DK)return sj(t,o,a);if(c===BK)return aj(t,e,o,a);if(c===zK)return oj(t,e,o,a);if(c===$K)return lj(t,o,a);const u=t.getUint8(o);return c===VK?uj(t,e,o+1,a):c===FK?IK(t,u,o+1,a):c===LK?fj(t,e,u,o+1,a):c===ZK?hj(t,e,u,o+1,a):{type:void 0,length:a}}function jK(t,e){const o=t.getUint32(e);return HK(o)?{length:t.byteLength-e,contentOffset:e+4+4}:GK(o)&&qK(t,e)?{length:t.getUint32(e+12),contentOffset:e+4+4+8}:{length:o,contentOffset:e+4+4}}function HK(t){return t===0}function GK(t){return t===1}function qK(t,e){return t.getUint32(e+8)===0}function tI(t){{const e={},n=QK(t);return n?(e.tiffHeaderOffset=JK(t,n),e.xmpChunks=nj(n),e.iccChunks=ij(n),e.hasAppMarkers=e.tiffHeaderOffset!==void 0||e.xmpChunks!==void 0||e.iccChunks!==void 0,e):{hasAppMarkers:!1}}}function QK(t){let r=0;for(;r+4+4<=t.byteLength;){const i=H_(t,r);if(i===void 0)break;if(i.type==="meta")return i;r+=i.length}}function JK(t,e){try{const n=ej(e).itemId,r=gx(e,n),i=r.baseOffset+r.extents[0].extentOffset;return tj(t,i)}catch{return}}function ej(t){return t.subBoxes.find(e=>e.type==="iinf").itemInfos.find(e=>e.itemType===eI)}function gx(t,e){return t.subBoxes.find(n=>n.type==="iloc").items.find(n=>n.itemId===e)}function tj(t,e){return e+4+t.getUint32(e)}function nj(t){try{const e=rj(t).itemId,n=gx(t,e),r=gx(t,e).extents[0];return[{dataOffset:n.baseOffset+r.extentOffset,length:r.extentLength}]}catch{return}}function rj(t){return t.subBoxes.find(e=>e.type==="iinf").itemInfos.find(e=>e.itemType===LT&&e.contentType==="application/rdf+xml")}function ij(t){try{const e=t.subBoxes.find(n=>n.type==="iprp").subBoxes.find(n=>n.type==="ipco").properties.find(n=>n.type==="colr").icc;if(e)return[e]}catch{}}function sj(t,e,n){return{type:"ftyp",majorBrand:dn(t,e,4),length:n}}function aj(t,e,n,r){return{type:"iprp",subBoxes:G_(t,n,r-(n-e)),length:r}}function oj(t,e,n,r){return{type:"ipco",properties:G_(t,n,r-(n-e)),length:r}}function lj(t,e,n){return{type:"colr",icc:cj(t,e),length:n}}function cj(t,e){const r=dn(t,e,4);if(!(r!=="prof"&&r!=="rICC"))return{offset:e+4,length:t.getUint32(e+4),chunkNumber:1,chunksTotal:1}}function uj(t,e,n,r){return{type:"meta",subBoxes:G_(t,n+3,r-(n+3-e)),length:r}}function G_(t,e,n){const r=[eI,LT],i=[];let a=e;for(;a<e+n;){const o=H_(t,a);if(o===void 0)break;o.type!==void 0&&(o.itemType===void 0||r.indexOf(o.itemType)!==-1)&&i.push(o),a+=o.length}return i}function fj(t,e,n,r,i){const{offsets:a}=dj(n,r);return{type:"iinf",itemInfos:G_(t,a.itemInfos,i-(a.itemInfos-e)),length:i}}function dj(t,e){const r={entryCount:e+3},i={};return t===0?i.entryCount=2:i.entryCount=4,r.itemInfos=r.entryCount+i.entryCount,{offsets:r}}function hj(t,e,n,r,i){r+=3;const o={type:"infe",length:i};return(n===0||n===1)&&(o.itemId=t.getUint16(r),r+=2,o.itemProtectionIndex=t.getUint16(r),r+=2,o.itemName=Su(t,r),r+=o.itemName.length+1),n>=2&&(n===2?(o.itemId=t.getUint16(r),r+=2):n===3&&(o.itemId=t.getUint32(r),r+=4),o.itemProtectionIndex=t.getUint16(r),r+=2,o.itemType=t.getUint32(r),r+=4,o.itemName=Su(t,r),r+=o.itemName.length+1,o.itemType===LT?(o.contentType=Su(t,r),r+=o.contentType.length+1,e+i>r&&(o.contentEncoding=Su(t,r),r+=o.contentEncoding.length+1)):o.itemType===KK&&(o.itemUri=Su(t,r),r+=o.itemUri.length+1)),o}const eC={isHeicFile:pj,findHeicOffsets:mj};function pj(t){if(!t)return!1;const e=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{const n=H_(t,0);return n&&e.indexOf(n.majorBrand)!==-1}catch{return!1}}function mj(t){return tI(t)}const tC={isAvifFile:gj,findAvifOffsets:yj};function gj(t){if(!t)return!1;try{const e=H_(t,0);return e&&e.majorBrand==="avif"}catch{return!1}}function yj(t){return tI(t)}const nC={isWebpFile:vj,findOffsets:_j};function vj(t){const n="RIFF",i="WEBP";return!!t&&dn(t,0,n.length)===n&&dn(t,8,i.length)===i}function _j(t){const r="Exif\0\0";let a=12,o=!1,c,u,f,p;for(;a+8<t.byteLength;){const h=dn(t,a,4),m=t.getUint32(a+4,!0);h==="EXIF"?(o=!0,dn(t,a+8,r.length)===r?c=a+8+r.length:c=a+8):h==="XMP "?(o=!0,u=[{dataOffset:a+8,length:m}]):h==="ICCP"?(o=!0,f=[{offset:a+8,length:m,chunkNumber:1,chunksTotal:1}]):h==="VP8X"&&(o=!0,p=a+8),a+=8+(m%2===0?m:m+1)}return{hasAppMarkers:o,tiffHeaderOffset:c,xmpChunks:u,iccChunks:f,vp8xChunkOffset:p}}const rC={isGifFile:Yj,findOffsets:xj},Sj=6,bj=["GIF87a","GIF89a"];function Yj(t){return!!t&&bj.includes(dn(t,0,Sj))}function xj(){return{gifHeaderOffset:0}}const iC={isXMLFile:Tj,findOffsets:wj},nI=0,sC="<?xpacket begin";function Tj(t){return!!t&&dn(t,nI,sC.length)===sC}function wj(t){const e=[];return e.push({dataOffset:nI,length:t.byteLength}),{xmpChunks:e}}const Wj={parseAppMarkers:Ej};function Ej(t,e){if(VU.isTiffFile(t))return nl(VU.findTiffOffsets(),"tiff","TIFF");if(FU.isJpegFile(t))return nl(FU.findJpegOffsets(t),"jpeg","JPEG");if(JU.isPngFile(t))return nl(JU.findPngOffsets(t,e),"png","PNG");if(eC.isHeicFile(t))return nl(eC.findHeicOffsets(t),"heic","HEIC");if(tC.isAvifFile(t))return nl(tC.findAvifOffsets(t),"avif","AVIF");if(nC.isWebpFile(t))return nl(nC.findOffsets(t),"webp","WebP");if(rC.isGifFile(t))return nl(rC.findOffsets(t),"gif","GIF");if(iC.isXMLFile(t))return nl(iC.findOffsets(t),"xml","XML");throw new Error("Invalid image format")}function nl(t,e,n){return vn({},t,{fileType:{value:e,description:n}})}const an={ApertureValue:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2),ColorSpace(t){return t===1?"sRGB":t===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(t){return t.map(e=>{if(e===49)return"Y";if(e===50)return"Cb";if(e===51)return"Cr";if(e===52)return"R";if(e===53)return"G";if(e===54)return"B"}).join("")},Contrast(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},CustomRendered(t){return t===0?"Normal process":t===1?"Custom process":"Unknown"},ExposureMode(t){return t===0?"Auto exposure":t===1?"Manual exposure":t===2?"Auto bracket":"Unknown"},ExposureProgram(t){return t===0?"Undefined":t===1?"Manual":t===2?"Normal program":t===3?"Aperture priority":t===4?"Shutter priority":t===5?"Creative program":t===6?"Action program":t===7?"Portrait mode":t===8?"Landscape mode":t===9?"Bulb":"Unknown"},ExposureTime(t){if(t[0]/t[1]>.25){const e=t[0]/t[1];return Number.isInteger(e)?""+e:e.toFixed(1)}return t[0]!==0?`1/${Math.round(t[1]/t[0])}`:`0/${t[1]}`},FNumber:t=>`f/${Number(t[0]/t[1]).toFixed(1)}`,FocalLength:t=>t[0]/t[1]+" mm",FocalPlaneResolutionUnit(t){return t===2?"inches":t===3?"centimeters":t===4?"millimeters":"Unknown"},LightSource:t=>t===1?"Daylight":t===2?"Fluorescent":t===3?"Tungsten (incandescent light)":t===4?"Flash":t===9?"Fine weather":t===10?"Cloudy weather":t===11?"Shade":t===12?"Daylight fluorescent (D 5700  7100K)":t===13?"Day white fluorescent (N 4600  5400K)":t===14?"Cool white fluorescent (W 3900  4500K)":t===15?"White fluorescent (WW 3200  3700K)":t===17?"Standard light A":t===18?"Standard light B":t===19?"Standard light C":t===20?"D55":t===21?"D65":t===22?"D75":t===23?"D50":t===24?"ISO studio tungsten":t===255?"Other light source":"Unknown",MeteringMode(t){return t===1?"Average":t===2?"CenterWeightedAverage":t===3?"Spot":t===4?"MultiSpot":t===5?"Pattern":t===6?"Partial":t===255?"Other":"Unknown"},ResolutionUnit(t){return t===2?"inches":t===3?"centimeters":"Unknown"},Saturation(t){return t===0?"Normal":t===1?"Low saturation":t===2?"High saturation":"Unknown"},FocalLengthIn35mmFilm(t){return t===0?"Unknown":t+" mm"},SceneCaptureType(t){return t===0?"Standard":t===1?"Landscape":t===2?"Portrait":t===3?"Night scene":"Unknown"},Sharpness(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},ShutterSpeedValue(t){const e=Math.pow(2,t[0]/t[1]);return e<=1?`${Math.round(1/e)}`:`1/${Math.round(e)}`},WhiteBalance(t){return t===0?"Auto white balance":t===1?"Manual white balance":"Unknown"},XResolution:t=>""+Math.round(t[0]/t[1]),YResolution:t=>""+Math.round(t[0]/t[1])},rI={11:"ProcessingSoftware",254:{name:"SubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[t]||"Unknown"},255:{name:"OldSubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[t]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:t=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[t]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:t=>({1:"Normal",2:"Reversed"})[t]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:t=>t===1?"top-left":t===2?"top-right":t===3?"bottom-right":t===4?"bottom-left":t===5?"left-top":t===6?"right-top":t===7?"right-bottom":t===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:an.XResolution},283:{name:"YResolution",description:an.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:t=>""+Math.round(t[0]/t[1])},287:{name:"YPosition",description:t=>""+Math.round(t[0]/t[1])},290:{name:"GrayResponseUnit",description:t=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[t]||"Unknown"},296:{name:"ResolutionUnit",description:an.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:t=>t.map(e=>`${e[0]}/${e[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:t=>t.map(e=>`${e[0]}/${e[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:t=>({1:"CMYK",2:"Not CMYK"})[t]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:t=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[t]||"Unknown"},339:{name:"SampleFormat",description:t=>{const e={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(t)?t.map(n=>e[n]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:t=>t.map(e=>""+e[0]/e[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:t=>t===1?"centered":t===2?"co-sited":"undefined "+t},532:{name:"ReferenceBlackWhite",description:t=>t.map(e=>""+e[0]/e[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:t=>t.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:pg},40092:{name:"XPComment",description:pg},40093:{name:"XPAuthor",description:pg},40094:{name:"XPKeywords",description:pg},40095:{name:"XPSubject",description:pg},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:t=>({0:"Unsafe",1:"Safe"})[t]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:an.LightSource},50779:{name:"CalibrationIlluminant2",description:an.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:t=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[t]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:t=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[t]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:t=>({0:"Auto",1:"None"})[t]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function pg(t){return new TextDecoder("utf-16").decode(new Uint8Array(t)).replace(/\u0000+$/,"")}const Uj={33434:{name:"ExposureTime",description:an.ExposureTime},33437:{name:"FNumber",description:an.FNumber},34850:{name:"ExposureProgram",description:an.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:t=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[t]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:t=>Jr(t)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:an.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:an.ShutterSpeedValue},37378:{name:"ApertureValue",description:an.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2)},37382:{name:"SubjectDistance",description:t=>t[0]/t[1]+" m"},37383:{name:"MeteringMode",description:an.MeteringMode},37384:{name:"LightSource",description:an.LightSource},37385:{name:"Flash",description:t=>t===0?"Flash did not fire":t===1?"Flash fired":t===5?"Strobe return light not detected":t===7?"Strobe return light detected":t===9?"Flash fired, compulsory flash mode":t===13?"Flash fired, compulsory flash mode, return light not detected":t===15?"Flash fired, compulsory flash mode, return light detected":t===16?"Flash did not fire, compulsory flash mode":t===24?"Flash did not fire, auto mode":t===25?"Flash fired, auto mode":t===29?"Flash fired, auto mode, return light not detected":t===31?"Flash fired, auto mode, return light detected":t===32?"No flash function":t===65?"Flash fired, red-eye reduction mode":t===69?"Flash fired, red-eye reduction mode, return light not detected":t===71?"Flash fired, red-eye reduction mode, return light detected":t===73?"Flash fired, compulsory flash mode, red-eye reduction mode":t===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":t===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":t===89?"Flash fired, auto mode, red-eye reduction mode":t===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":t===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:an.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:t=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[t]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:t=>t.length===2?`Location; X: ${t[0]}, Y: ${t[1]}`:t.length===3?`Circle; X: ${t[0]}, Y: ${t[1]}, diameter: ${t[2]}`:t.length===4?`Rectangle; X: ${t[0]}, Y: ${t[1]}, width: ${t[2]}, height: ${t[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:ux},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:t=>t[0]/t[1]+" C"},37889:{name:"Humidity",description:t=>t[0]/t[1]+" %"},37890:{name:"Pressure",description:t=>t[0]/t[1]+" hPa"},37891:{name:"WaterDepth",description:t=>t[0]/t[1]+" m"},37892:{name:"Acceleration",description:t=>t[0]/t[1]+" mGal"},37893:{name:"CameraElevationAngle",description:t=>t[0]/t[1]+" "},40960:{name:"FlashpixVersion",description:t=>t.map(e=>String.fromCharCode(e)).join("")},40961:{name:"ColorSpace",description:an.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:an.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([t,e])=>`X: ${t}, Y: ${e}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:t=>t===1?"Undefined":t===2?"One-chip color area sensor":t===3?"Two-chip color area sensor":t===4?"Three-chip color area sensor":t===5?"Color sequential area sensor":t===7?"Trilinear sensor":t===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:t=>t===3?"DSC":"Unknown"},41729:{name:"SceneType",description:t=>t===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:an.CustomRendered},41986:{name:"ExposureMode",description:an.ExposureMode},41987:{name:"WhiteBalance",description:an.WhiteBalance},41988:{name:"DigitalZoomRatio",description:t=>t[0]===0?"Digital zoom was not used":""+t[0]/t[1]},41989:{name:"FocalLengthIn35mmFilm",description:an.FocalLengthIn35mmFilm},41990:{name:"SceneCaptureType",description:an.SceneCaptureType},41991:{name:"GainControl",description:t=>t===0?"None":t===1?"Low gain up":t===2?"High gain up":t===3?"Low gain down":t===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:an.Contrast},41993:{name:"Saturation",description:an.Saturation},41994:{name:"Sharpness",description:an.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:t=>t===1?"Macro":t===2?"Close view":t===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:t=>{const e=parseFloat((t[0][0]/t[0][1]).toFixed(5)),n=parseFloat((t[1][0]/t[1][1]).toFixed(5)),r=`${e}-${n} mm`;if(t[3][1]===0)return`${r} f/?`;const i=1/(t[2][1]/t[2][1]/(t[3][0]/t[3][1]));return`${r} f/${parseFloat(i.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:t=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[t]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},Cj={0:{name:"GPSVersionID",description:t=>t[0]===2&&t[1]===2&&t[2]===0&&t[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:t=>{const e=t.join("");return e==="N"?"North latitude":e==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:r_},3:{name:"GPSLongitudeRef",description:t=>{const e=t.join("");return e==="E"?"East longitude":e==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:r_},5:{name:"GPSAltitudeRef",description:t=>t===0?"Sea level":t===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:t=>t[0]/t[1]+" m"},7:{name:"GPSTimeStamp",description:t=>t.map(([e,n])=>{const r=e/n;return/^\d(\.|$)/.test(`${r}`)?`0${r}`:r}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:t=>{const e=t.join("");return e==="A"?"Measurement in progress":e==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:t=>{const e=t.join("");return e==="2"?"2-dimensional measurement":e==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:t=>{const e=t.join("");return e==="K"?"Kilometers per hour":e==="M"?"Miles per hour":e==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:t=>{const e=t.join("");return e==="N"?"North latitude":e==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:t=>{const e=t.join("");return e==="E"?"East longitude":e==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},23:{name:"GPSDestBearingRef",description:t=>{const e=t.join("");return e==="T"?"True direction":e==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:t=>{const e=t.join("");return e==="K"?"Kilometers":e==="M"?"Miles":e==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:ux},28:{name:"GPSAreaInformation",description:ux},29:"GPSDateStamp",30:{name:"GPSDifferential",description:t=>t===0?"Measurement without differential correction":t===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},Aj={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:t=>Jr(t)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},kj={45056:{name:"MPFVersion",description:t=>Jr(t)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},Ij={4:{name:"ShotInfo",description:t=>t}},Xj={0:{name:"PentaxVersion",description:t=>t.join(".")},5:"PentaxModelID",555:"LevelInfo"},aC=vn({},rI,Uj),ZT="0th",iI="1st",sI="exif",aI="gps",oI="interoperability",lI="mpf",cI="canon",zT="pentax",rl={[ZT]:aC,[iI]:rI,[sI]:aC,[aI]:Cj,[oI]:Aj,[lI]:kj,[cI]:Ij,[zT]:Xj},uI={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},yx={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},Wt={getAsciiValue:Rj,getByteAt:fI,getAsciiAt:Pj,getShortAt:Mj,getLongAt:s_,getRationalAt:Oj,getUndefinedAt:Nj,getSlongAt:vx,getSrationalAt:Dj,getIfdPointerAt:Bj,typeSizes:uI,tagTypes:yx,getTypeSize:Vj};function Rj(t){return t.map(e=>String.fromCharCode(e))}function fI(t,e){return t.getUint8(e)}function Pj(t,e){return t.getUint8(e)}function Mj(t,e,n){return t.getUint16(e,n===Pa.LITTLE_ENDIAN)}function s_(t,e,n){return t.getUint32(e,n===Pa.LITTLE_ENDIAN)}function Oj(t,e,n){return[s_(t,e,n),s_(t,e+4,n)]}function Nj(t,e){return fI(t,e)}function vx(t,e,n){return t.getInt32(e,n===Pa.LITTLE_ENDIAN)}function Dj(t,e,n){return[vx(t,e,n),vx(t,e+4,n)]}function Bj(t,e,n){return s_(t,e,n)}function Vj(t){if(yx[t]===void 0)throw new Error("No such type found.");return uI[yx[t]]}const Fj={1:Wt.getByteAt,2:Wt.getAsciiAt,3:Wt.getShortAt,4:Wt.getLongAt,5:Wt.getRationalAt,7:Wt.getUndefinedAt,9:Wt.getSlongAt,10:Wt.getSrationalAt,13:Wt.getIfdPointerAt};function dI(t,e,n){return e+Wt.getLongAt(t,e+4,n)}function Rl(t,e,n,r,i,a){const o=Wt.getTypeSize("SHORT"),c=12,u={},f=Lj(t,r,i);r+=o;for(let p=0;p<f&&!(r+c>t.byteLength);p++){const h=Zj(t,e,n,r,i,a);h!==void 0&&(u[h.name]={id:h.id,value:h.value,description:h.description},(h.name==="MakerNote"||e===zT&&h.name==="LevelInfo")&&(u[h.name].__offset=h.__offset)),r+=c}if(r<t.byteLength-Wt.getTypeSize("LONG")){const p=Wt.getLongAt(t,r,i);p!==0&&e===ZT&&(u.Thumbnail=Rl(t,iI,n,n+p,i,a))}return u}function Lj(t,e,n){return e+Wt.getTypeSize("SHORT")<=t.byteLength?Wt.getShortAt(t,e,n):0}function Zj(t,e,n,r,i,a){const c=Wt.getTypeSize("SHORT"),u=c+Wt.getTypeSize("SHORT"),f=u+Wt.getTypeSize("LONG"),p=Wt.getShortAt(t,r,i),h=Wt.getShortAt(t,r+c,i),m=Wt.getLongAt(t,r+u,i);let y,_;if(Wt.typeSizes[h]===void 0||!a&&rl[e][p]===void 0)return;if(zj(h,m))_=r+f,y=oC(t,_,h,m,i);else if(_=Wt.getLongAt(t,r+f,i),$j(t,n,_,h,m)){const Y=p===33723;y=oC(t,n+_,h,m,i,Y)}else y="<faulty value>";h===Wt.tagTypes.ASCII&&(y=Kj(y),y=jj(y));let v=`undefined-${p}`,S=y;if(rl[e][p]!==void 0)if(rl[e][p].name!==void 0&&rl[e][p].description!==void 0){v=rl[e][p].name;try{S=rl[e][p].description(y)}catch{S=lC(y)}}else h===Wt.tagTypes.RATIONAL||h===Wt.tagTypes.SRATIONAL?(v=rl[e][p],S=""+y[0]/y[1]):(v=rl[e][p],S=lC(y));return{id:p,name:v,value:y,description:S,__offset:_}}function zj(t,e){return Wt.typeSizes[t]*e<=Wt.getTypeSize("LONG")}function oC(t,e,n,r,i,a=!1){let o=[];a&&(r=r*Wt.typeSizes[n],n=Wt.tagTypes.BYTE);for(let c=0;c<r;c++)o.push(Fj[n](t,e,i)),e+=Wt.typeSizes[n];return n===Wt.tagTypes.ASCII?o=Wt.getAsciiValue(o):o.length===1&&(o=o[0]),o}function $j(t,e,n,r,i){return e+n+Wt.typeSizes[r]*i<=t.byteLength}function Kj(t){const e=[];let n=0;for(let r=0;r<t.length;r++){if(t[r]==="\0"){n++;continue}e[n]===void 0&&(e[n]=""),e[n]+=t[r]}return e}function jj(t){try{return t.map(e=>decodeURIComponent(escape(e)))}catch{return t}}function lC(t){return t instanceof Array?t.join(", "):t}const cC="Exif IFD Pointer",uC="GPS Info IFD Pointer",fC="Interoperability IFD Pointer",hI={read:Hj};function Hj(t,e,n){const r=Pa.getByteOrder(t,e);let i=Gj(t,e,r,n);return i=qj(i,t,e,r,n),i=Qj(i,t,e,r,n),i=Jj(i,t,e,r,n),{tags:i,byteOrder:r}}function Gj(t,e,n,r){return Rl(t,ZT,e,dI(t,e,n),n,r)}function qj(t,e,n,r,i){return t[cC]!==void 0?vn(t,Rl(e,sI,n,n+t[cC].value,r,i)):t}function Qj(t,e,n,r,i){return t[uC]!==void 0?vn(t,Rl(e,aI,n,n+t[uC].value,r,i)):t}function Jj(t,e,n,r,i){return t[fC]!==void 0?vn(t,Rl(e,oI,n,n+t[fC].value,r,i)):t}const eH={read:tH},Yu=16;function tH(t,e,n){const r=Pa.getByteOrder(t,e),i=Rl(t,lI,e,dI(t,e,r),r,n);return nH(t,e,i,r)}function nH(t,e,n,r){if(!n.MPEntry)return n;const i=[];for(let a=0;a<Math.ceil(n.MPEntry.value.length/Yu);a++){i[a]={};const o=xg(n.MPEntry.value,a*Yu,Wt.getTypeSize("LONG"),r);i[a].ImageFlags=rH(o),i[a].ImageFormat=iH(o),i[a].ImageType=sH(o);const c=xg(n.MPEntry.value,a*Yu+4,Wt.getTypeSize("LONG"),r);i[a].ImageSize={value:c,description:""+c};const u=aH(a,n.MPEntry,r,e);i[a].ImageOffset={value:u,description:""+u};const f=xg(n.MPEntry.value,a*Yu+12,Wt.getTypeSize("SHORT"),r);i[a].DependentImage1EntryNumber={value:f,description:""+f};const p=xg(n.MPEntry.value,a*Yu+14,Wt.getTypeSize("SHORT"),r);i[a].DependentImage2EntryNumber={value:p,description:""+p},i[a].image=t.buffer.slice(u,u+c),F6(i[a],"base64",function(){return L6(this.image)})}return n.Images=i,n}function xg(t,e,n,r){if(r===Pa.LITTLE_ENDIAN){let a=0;for(let o=0;o<n;o++)a+=t[e+o]<<8*o;return a}let i=0;for(let a=0;a<n;a++)i+=t[e+a]<<8*(n-1-a);return i}function rH(t){const e=[t>>31&1,t>>30&1,t>>29&1],n=[];return e[0]&&n.push("Dependent Parent Image"),e[1]&&n.push("Dependent Child Image"),e[2]&&n.push("Representative Image"),{value:e,description:n.join(", ")||"None"}}function iH(t){const e=t>>24&7;return{value:e,description:e===0?"JPEG":"Unknown"}}function sH(t){const e=t&16777215;return{value:e,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[e]||"Unknown"}}function aH(t,e,n,r){return oH(t)?0:xg(e.value,t*Yu+8,Wt.getTypeSize("LONG"),n)+r}function oH(t){return t===0}const lH={read:cH};function cH(t,e){const n=uH(t,e),r=pH(t,e,n);return{"Bits Per Sample":fH(t,e,n),"Image Height":dH(t,e,n),"Image Width":hH(t,e,n),"Color Components":r,Subsampling:r&&mH(t,e,r.value,n)}}function uH(t,e){return Wt.getShortAt(t,e)}function fH(t,e,n){if(3>n)return;const a=Wt.getByteAt(t,e+2);return{value:a,description:""+a}}function dH(t,e,n){if(5>n)return;const a=Wt.getShortAt(t,e+3);return{value:a,description:`${a}px`}}function hH(t,e,n){if(7>n)return;const a=Wt.getShortAt(t,e+5);return{value:a,description:`${a}px`}}function pH(t,e,n){if(8>n)return;const a=Wt.getByteAt(t,e+7);return{value:a,description:""+a}}function mH(t,e,n,r){if(8+3*n>r)return;const o=[];for(let c=0;c<n;c++){const u=e+8+c*3;o.push([Wt.getByteAt(t,u),Wt.getByteAt(t,u+1),Wt.getByteAt(t,u+2)])}return{value:o,description:o.length>1?gH(o)+yH(o):""}}function gH(t){const e={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return t.map(n=>e[n[0]]).join("")}function yH(t){const e={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return t.length===0||t[0][1]===void 0||e[t[0][1]]===void 0?"":e[t[0][1]]}const vH={read:_H};function _H(t,e){const n=SH(t,e),r=WH(t,e,n),i=EH(t,e,n),a={"JFIF Version":bH(t,e,n),"Resolution Unit":YH(t,e,n),XResolution:TH(t,e,n),YResolution:wH(t,e,n),"JFIF Thumbnail Width":r,"JFIF Thumbnail Height":i};if(r!==void 0&&i!==void 0){const o=UH(t,e,3*r.value*i.value,n);o&&(a["JFIF Thumbnail"]=o)}for(const o in a)a[o]===void 0&&delete a[o];return a}function SH(t,e){return Wt.getShortAt(t,e)}function bH(t,e,n){if(9>n)return;const a=Wt.getByteAt(t,e+7),o=Wt.getByteAt(t,e+7+1);return{value:a*256+o,description:a+"."+o}}function YH(t,e,n){if(10>n)return;const a=Wt.getByteAt(t,e+9);return{value:a,description:xH(a)}}function xH(t){return t===0?"None":t===1?"inches":t===2?"cm":"Unknown"}function TH(t,e,n){if(12>n)return;const a=Wt.getShortAt(t,e+10);return{value:a,description:""+a}}function wH(t,e,n){if(14>n)return;const a=Wt.getShortAt(t,e+12);return{value:a,description:""+a}}function WH(t,e,n){if(15>n)return;const a=Wt.getByteAt(t,e+14);return{value:a,description:`${a}px`}}function EH(t,e,n){if(16>n)return;const a=Wt.getByteAt(t,e+15);return{value:a,description:`${a}px`}}function UH(t,e,n,r){return n===0||16+n>r?void 0:{value:t.buffer.slice(e+16,e+16+n),description:"<24-bit RGB pixel data>"}}const dl={iptc:{256:{name:"Model Version",description:t=>((t[0]<<8)+t[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:t=>((t[0]<<8)+t[1]).toString()},278:{name:"File Format Version",description:t=>((t[0]<<8)+t[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:oY},336:{name:"Time Sent",description:lY},346:{name:"Coded Character Set",description:dC,encoding_name:dC},356:"UNO",376:{name:"ARM Identifier",description:t=>((t[0]<<8)+t[1]).toString()},378:{name:"ARM Version",description:t=>((t[0]<<8)+t[1]).toString()},512:{name:"Record Version",description:t=>((t[0]<<8)+t[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:t=>Jr(t)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:t=>{const e=Jr(t).split(":");return e[2]+(e[3]?"/"+e[3]:"")+(e[4]?"/"+e[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:t=>{const e=Jr(t);return e==="01"?"Object Kill":e==="02"?"Object Replace":e==="03"?"Object Append":e==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:oY},572:{name:"Time Created",description:lY},574:{name:"Digital Creation Date",description:oY},575:{name:"Digital Creation Time",description:lY},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:t=>{const e=Jr(t);return e==="a"?"morning":e==="p"?"evening":e==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:t=>t},642:"Image Type",643:{name:"Image Orientation",description:t=>{const e=Jr(t);return e==="P"?"Portrait":e==="L"?"Landscape":e==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:t=>{const e=Jr(t),n=e.charAt(0),r=e.charAt(1);let i="";return n==="1"?i+="Mono":n==="2"&&(i+="Stereo"),r==="A"?i+=", actuality":r==="C"?i+=", question and answer session":r==="M"?i+=", music, transmitted by itself":r==="Q"?i+=", response to a question":r==="R"?i+=", raw sound":r==="S"?i+=", scener":r==="V"?i+=", voicer":r==="W"&&(i+=", wrap"),i!==""?i:e}},663:{name:"Audio Sampling Rate",description:t=>parseInt(Jr(t),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:t=>{const e=parseInt(Jr(t),10);return e+(e===1?" bit":" bits")}},665:{name:"Audio Duration",description:t=>{const e=Jr(t);return e.length>=6?e.substr(0,2)+":"+e.substr(2,2)+":"+e.substr(4,2):e}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:t=>t.length===2?"ObjectData Preview File Format":"Record 2 destination",description:t=>{if(t.length===2){const e=(t[0]<<8)+t[1];return e===0?"No ObjectData":e===1?"IPTC-NAA Digital Newsphoto Parameter Record":e===2?"IPTC7901 Recommended Message Format":e===3?"Tagged Image File Format (Adobe/Aldus Image data)":e===4?"Illustrator (Adobe Graphics data)":e===5?"AppleSingle (Apple Computer Inc)":e===6?"NAA 89-3 (ANPA 1312)":e===7?"MacBinary II":e===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":e===9?"United Press International ANPA 1312 variant":e===10?"United Press International Down-Load Message":e===11?"JPEG File Interchange (JFIF)":e===12?"Photo-CD Image-Pac (Eastman Kodak)":e===13?"Microsoft Bit Mapped Graphics File [*.BMP]":e===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":e===15?"Audio plus Moving Video [*.AVI] (Microsoft)":e===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":e===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":e===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":e===19?"RIFF Wave (Microsoft Corporation)":e===20?"Freehand (Macromedia/Aldus)":e===21?'Hypertext Markup Language "HTML" (The Internet Society)':e===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":e===23?"MPEG 2 Audio Layer 3, ISO/IEC":e===24?"Portable Document File (*.PDF) Adobe":e===25?"News Industry Text Format (NITF)":e===26?"Tape Archive (*.TAR)":e===27?"Tidningarnas Telegrambyr NITF version (TTNITF DTD)":e===28?"Ritzaus Bureau NITF version (RBNITF DTD)":e===29?"Corel Draw [*.CDR]":`Unknown format ${e}`}return Jr(t)}},713:{name:"ObjectData Preview File Format Version",description:(t,e)=>{const n={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},r=Jr(t);if(e["ObjectData Preview File Format"]){const i=Jr(e["ObjectData Preview File Format"].value);if(n[i]&&n[i][r])return n[i][r]}return r}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:t=>t[0].toString()},1812:{name:"Max Subfile Size",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}},1882:{name:"ObjectData Size Announced",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}},1887:{name:"Maximum ObjectData Size",description:t=>{let e=0;for(let n=0;n<t.length;n++)e=(e<<8)+t[n];return e.toString()}}}};function oY(t){const e=Jr(t);return e.length>=8?e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2):e}function lY(t){const e=Jr(t);let n=e;return e.length>=6&&(n=e.substr(0,2)+":"+e.substr(2,2)+":"+e.substr(4,2),e.length===11&&(n+=e.substr(6,1)+e.substr(7,2)+":"+e.substr(9,2))),n}function dC(t){const e=Jr(t);return e==="\x1B%G"?"UTF-8":e==="\x1B%5"?"Windows-1252":e==="\x1B%/G"?"UTF-8 Level 1":e==="\x1B%/H"?"UTF-8 Level 2":e==="\x1B%/I"?"UTF-8 Level 3":e==="\x1B/A"?"ISO-8859-1":e==="\x1B/B"?"ISO-8859-2":e==="\x1B/C"?"ISO-8859-3":e==="\x1B/D"?"ISO-8859-4":e==="\x1B/@"?"ISO-8859-5":e==="\x1B/G"?"ISO-8859-6":e==="\x1B/F"?"ISO-8859-7":e==="\x1B/H"?"ISO-8859-8":"Unknown"}const CH={get:AH};function AH(){if(typeof TextDecoder<"u")return TextDecoder}const kH=5,pI={decode:IH,TAG_HEADER_SIZE:kH};function IH(t,e){const n=CH.get();if(typeof n<"u"&&t!==void 0)try{return new n(t).decode(e instanceof DataView?e.buffer:Uint8Array.from(e))}catch{}const r=e.map(i=>String.fromCharCode(i)).join("");return XH(r)}function XH(t){try{return decodeURIComponent(escape(t))}catch{return t}}const RH=943868237,Tg=4,hv=2,PH=1,MH=2,mI=4,OH=Tg+hv+MH+mI,NH=1028,gI=5,_x={read:DH};function DH(t,e,n){try{if(Array.isArray(t))return hC(new DataView(Uint8Array.from(t).buffer),{size:t.length},0,n);const{naaBlock:r,dataOffset:i}=BH(t,e);return hC(t,r,i,n)}catch{return{}}}function BH(t,e){for(;e+OH<=t.byteLength;){const n=VH(t,e);if(FH(n))return{naaBlock:n,dataOffset:e+n.headerSize};e+=n.headerSize+n.size+LH(n)}throw new Error("No IPTC NAA resource block.")}function VH(t,e){if(t.getUint32(e,!1)!==RH)throw new Error("Not an IPTC resource block.");const n=t.getUint8(e+Tg+hv),r=(n%2===0?n+1:n)+PH;return{headerSize:Tg+hv+r+mI,type:t.getUint16(e+Tg),size:t.getUint32(e+Tg+hv+r)}}function FH(t){return t.type===NH}function LH(t){return t.size%2!==0?1:0}function hC(t,e,n,r){const i={};let a;const o=n+e.size;for(;n<o&&n<t.byteLength;){const{tag:c,tagSize:u}=ZH(t,n,i,a,r);if(c===null)break;c&&("encoding"in c&&(a=c.encoding),i[c.name]===void 0||c.repeatable===void 0?i[c.name]={id:c.id,value:c.value,description:c.description}:(i[c.name]instanceof Array||(i[c.name]=[{id:i[c.name].id,value:i[c.name].value,description:i[c.name].description}]),i[c.name].push({id:c.id,value:c.value,description:c.description}))),n+=gI+u}return i}function ZH(t,e,n,r,i){if(zH(t,e))return{tag:null,tagSize:0};const c=t.getUint16(e+1),u=t.getUint16(e+3);if(!i&&!dl.iptc[c])return{tag:void 0,tagSize:u};const f=$H(t,e+gI,u),p={id:c,name:KH(dl.iptc[c],c,f),value:f,description:GH(dl.iptc[c],f,n,r)};return JH(c)&&(p.repeatable=!0),eG(c)&&(p.encoding=dl.iptc[c].encoding_name(f)),{tag:p,tagSize:u}}function zH(t,e){return t.getUint8(e)!==28}function $H(t,e,n){const r=[];for(let i=0;i<n;i++)r.push(t.getUint8(e+i));return r}function KH(t,e,n){return t?jH(t)?t:HH(t)?t.name(n):t.name:`undefined-${e}`}function jH(t){return typeof t=="string"}function HH(t){return typeof t.name=="function"}function GH(t,e,n,r){if(QH(t))try{return t.description(e,n)}catch{}return qH(t,e)?pI.decode(r,e):e}function qH(t,e){return t&&e instanceof Array}function QH(t){return t&&t.description!==void 0}function JH(t){return dl.iptc[t]&&dl.iptc[t].repeatable}function eG(t){return dl.iptc[t]&&dl.iptc[t].encoding_name!==void 0}const Ny={"tiff:Orientation"(t){return t==="1"?"Horizontal (normal)":t==="2"?"Mirror horizontal":t==="3"?"Rotate 180":t==="4"?"Mirror vertical":t==="5"?"Mirror horizontal and rotate 270 CW":t==="6"?"Rotate 90 CW":t==="7"?"Mirror horizontal and rotate 90 CW":t==="8"?"Rotate 270 CW":t},"tiff:ResolutionUnit":t=>an.ResolutionUnit(parseInt(t,10)),"tiff:XResolution":t=>mu(an.XResolution,t),"tiff:YResolution":t=>mu(an.YResolution,t),"exif:ApertureValue":t=>mu(an.ApertureValue,t),"exif:GPSLatitude":pC,"exif:GPSLongitude":pC,"exif:FNumber":t=>mu(an.FNumber,t),"exif:FocalLength":t=>mu(an.FocalLength,t),"exif:FocalPlaneResolutionUnit":t=>an.FocalPlaneResolutionUnit(parseInt(t,10)),"exif:ColorSpace":t=>an.ColorSpace(tG(t)),"exif:ComponentsConfiguration"(t,e){if(/^\d, \d, \d, \d$/.test(e)){const n=e.split(", ").map(r=>r.charCodeAt(0));return an.ComponentsConfiguration(n)}return e},"exif:Contrast":t=>an.Contrast(parseInt(t,10)),"exif:CustomRendered":t=>an.CustomRendered(parseInt(t,10)),"exif:ExposureMode":t=>an.ExposureMode(parseInt(t,10)),"exif:ExposureProgram":t=>an.ExposureProgram(parseInt(t,10)),"exif:ExposureTime"(t){return yI(t)?an.ExposureTime(t.split("/").map(e=>parseInt(e,10))):t},"exif:MeteringMode":t=>an.MeteringMode(parseInt(t,10)),"exif:Saturation":t=>an.Saturation(parseInt(t,10)),"exif:SceneCaptureType":t=>an.SceneCaptureType(parseInt(t,10)),"exif:Sharpness":t=>an.Sharpness(parseInt(t,10)),"exif:ShutterSpeedValue":t=>mu(an.ShutterSpeedValue,t),"exif:WhiteBalance":t=>an.WhiteBalance(parseInt(t,10))};function mu(t,e){return yI(e)?t(e.split("/")):e}function tG(t){return t.substring(0,2)==="0x"?parseInt(t.substring(2),16):parseInt(t,10)}function yI(t){return/^-?\d+\/-?\d+$/.test(t)}function pC(t){const[e,n]=t.split(",");if(e!==void 0&&n!==void 0){const r=parseFloat(e),i=parseFloat(n),a=n.charAt(n.length-1);if(!Number.isNaN(r)&&!Number.isNaN(i))return""+(r+i/60)+a}return t}const nG={get:rG};function rG(t){if(t)return t;if(typeof DOMParser<"u")return new DOMParser;try{const{DOMParser:e,onErrorStopParsing:n}=__non_webpack_require__("@xmldom/xmldom");return new e({onError:n})}catch{return}}function iG(t){const e=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let n=0;n<e.length;n++)if(new RegExp(e[n]).test(t.message))return!0;return!1}function sG(t){const e=t.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!e)return t;const n=e[1],r=aG(t),a=oG(t).filter(c=>r.indexOf(c)===-1);if(a.length===0)return t;const o=cG(a);return uG(t,n,o)}function aG(t){const e=[],n=/xmlns:([\w-]+)=["'][^"']+["']/g;let r;for(;(r=n.exec(t))!==null;)e.indexOf(r[1])===-1&&e.push(r[1]);return e}function oG(t){const e=[],n=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;let r;for(;(r=n.exec(t))!==null;){const i=r[1];i==="xmlns"||i==="xml"||e.indexOf(i)===-1&&e.push(i)}return e}const lG={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"};function cG(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=lG[r]||"http://fallback.namespace/"+r;e.push(" xmlns:"+r+'="'+i+'"')}return e.join("")}function uG(t,e,n){const r=new RegExp("<"+e+"([^>]*)>");return t.replace(r,"<"+e+"$1"+n+">")}const mC={read:dG};class fG extends Error{constructor(e){super(e),this.name="ParseError"}}function dG(t,e,n){const r={};if(typeof t=="string")return Dy(r,t,n),r;const[i,a]=hG(t,e),o=Dy(r,i,n);if(a){const c=Dy(r,a,n);!o&&!c&&(delete r._raw,Dy(r,Sx(t,e),n))}return r}function hG(t,e){if(e.length===0)return[];const n=[Sx(t,e.slice(0,1))];return e.length>1&&n.push(Sx(t,e.slice(1))),n}function Sx(t,e){const n=e.reduce((a,o)=>a+o.length,0),r=new Uint8Array(n);let i=0;for(let a=0;a<e.length;a++){const o=e[a],c=t.buffer.slice(o.dataOffset,o.dataOffset+o.length);r.set(new Uint8Array(c),i),i+=o.length}return new DataView(r.buffer)}function Dy(t,e,n){try{const{doc:r,raw:i}=pG(e,n);t._raw=(t._raw||"")+i;const a=_I(r);return vn(t,bI(SI(a,!0))),!0}catch{return!1}}function pG(t,e){const n=nG.get(e);if(!n)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const r=typeof t=="string"?t:dn(t,0,t.byteLength);return{doc:vI(n,mG(r)),raw:r}}function mG(t){return t.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function vI(t,e,n=!1){try{const r=t.parseFromString(e,"application/xml"),i=r.getElementsByTagName("parsererror");if(i.length>0)throw new fG(i[0].textContent);return r}catch(r){if(r.name==="ParseError"&&iG(r)&&!n)return vI(t,sG(e),!0);throw r}}function _I(t){for(let e=0;e<t.childNodes.length;e++){if(t.childNodes[e].tagName==="x:xmpmeta")return _I(t.childNodes[e]);if(t.childNodes[e].tagName==="rdf:RDF")return t.childNodes[e]}throw new Error}function SI(t,e=!1){const n=gG(t);return yG(n)?e?{}:vG(n[0]):_G(n)}function gG(t){const e=[];for(let n=0;n<t.childNodes.length;n++)e.push(t.childNodes[n]);return e}function yG(t){return t.length===1&&t[0].nodeName==="#text"}function vG(t){return t.nodeValue}function _G(t){const e={};return t.forEach(n=>{if(SG(n)){const r=bG(n);e[n.nodeName]!==void 0?(Array.isArray(e[n.nodeName])||(e[n.nodeName]=[e[n.nodeName]]),e[n.nodeName].push(r)):e[n.nodeName]=r}}),e}function SG(t){return t.nodeName&&t.nodeName!=="#text"}function bG(t){return{attributes:YG(t),value:SI(t)}}function YG(t){const e={};for(let n=0;n<t.attributes.length;n++)e[t.attributes[n].nodeName]=decodeURIComponent(escape(t.attributes[n].value));return e}function bI(t){const e={};if(typeof t=="string")return t;for(const n in t){let r=t[n];Array.isArray(r)||(r=[r]),r.forEach(i=>{vn(e,$T(i.attributes)),typeof i.value=="object"&&vn(e,YI(i.value))})}return e}function $T(t){const e={};for(const n in t)try{xG(n)&&(e[Q_(n)]={value:t[n],attributes:{},description:So(t[n],n)})}catch{}return e}function xG(t){return t!=="rdf:parseType"&&!q_(t)}function q_(t){return t.split(":")[0]==="xmlns"}function Q_(t){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(t)?"RatingPercent":t.split(":")[1]}function So(t,e=void 0){if(Array.isArray(t)){const n=TG(t);return e&&typeof Ny[e]=="function"?Ny[e](t,n):n}if(typeof t=="object")return wG(t);try{return e&&typeof Ny[e]=="function"?Ny[e](t):decodeURIComponent(escape(t))}catch{return t}}function TG(t){return t.map(e=>e.value!==void 0?So(e.value):So(e)).join(", ")}function wG(t){const e=[];for(const n in t)e.push(`${WG(n)}: ${So(t[n].value)}`);return e.join("; ")}function WG(t){return t==="CiAdrCity"?"CreatorCity":t==="CiAdrCtry"?"CreatorCountry":t==="CiAdrExtadr"?"CreatorAddress":t==="CiAdrPcode"?"CreatorPostalCode":t==="CiAdrRegion"?"CreatorRegion":t==="CiEmailWork"?"CreatorWorkEmail":t==="CiTelWork"?"CreatorWorkPhone":t==="CiUrlWork"?"CreatorWorkUrl":t}function YI(t){const e={};for(const n in t)try{q_(n)||(e[Q_(n)]=EG(t[n],n))}catch{}return e}function EG(t,e){return CG(t)?AG(t,e):UG(t)?{value:"",attributes:{},description:""}:xI(t)?TI(t,e):wI(t)?WI(t,e):EI(t)?UI(t,e):XG(t)?RG(t,e):KT(t,e)}function UG(t){return t.attributes["rdf:parseType"]==="Resource"&&typeof t.value=="string"&&t.value.trim()===""}function CG(t){return Array.isArray(t)}function AG(t,e){return KT(t[t.length-1],e)}function xI(t){return t.attributes["rdf:parseType"]==="Resource"&&t.value["rdf:value"]!==void 0||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]!==void 0}function TI(t,e){const n=Gg(t);t.value["rdf:Description"]!==void 0&&(t=t.value["rdf:Description"]),vn(n,Gg(t),kG(t));const r=IG(t);return{value:r,attributes:n,description:So(r,e)}}function Gg(t){const e={};for(const n in t.attributes)n!=="rdf:parseType"&&n!=="rdf:resource"&&!q_(n)&&(e[Q_(n)]=t.attributes[n]);return e}function kG(t){const e={};for(const n in t.value)n!=="rdf:value"&&!q_(n)&&(e[Q_(n)]=t.value[n].value);return e}function IG(t){return AI(t.value["rdf:value"])||t.value["rdf:value"].value}function wI(t){return t.attributes["rdf:parseType"]==="Resource"||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]===void 0}function WI(t,e){const n={value:{},attributes:{}};return t.value["rdf:Description"]!==void 0&&(vn(n.value,$T(t.value["rdf:Description"].attributes)),vn(n.attributes,Gg(t)),t=t.value["rdf:Description"]),vn(n.value,YI(t.value)),n.description=So(n.value,e),n}function EI(t){return Object.keys(t.value).length===0&&t.attributes["xml:lang"]===void 0&&t.attributes["rdf:resource"]===void 0}function UI(t,e){const n=$T(t.attributes);return{value:n,attributes:{},description:So(n,e)}}function XG(t){return CI(t.value)!==void 0}function CI(t){return t["rdf:Bag"]||t["rdf:Seq"]||t["rdf:Alt"]}function RG(t,e){let n=CI(t.value).value["rdf:li"];const r=Gg(t),i=[];return n===void 0?n=[]:Array.isArray(n)||(n=[n]),n.forEach(a=>{i.push(PG(a))}),{value:i,attributes:r,description:So(i,e)}}function PG(t){return xI(t)?TI(t):wI(t)?WI(t).value:EI(t)?UI(t).value:KT(t)}function KT(t,e){const n=AI(t)||bI(t.value);return{value:n,attributes:Gg(t),description:So(n,e)}}function AI(t){return t.attributes&&t.attributes["rdf:resource"]}const fo={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},kI=24,cY={2e3:{name:"PathInformation",description:MG},2999:{name:"ClippingPathName",description(t){const[,e]=V6(t,0);return e}}};function MG(t){const n={},r=[];for(let i=0;i<t.byteLength;i+=2+kI){const a=Wt.getShortAt(t,i);uY[a]&&(n[a]||(n[a]=uY[a].description),r.push({type:a,path:uY[a].path(t,i+2)}))}return JSON.stringify({types:n,paths:r})}const uY={[fo.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(t,e)=>[Wt.getShortAt(t,e)]},[fo.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:By},[fo.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:By},[fo.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(t,e)=>[Wt.getShortAt(t,e)]},[fo.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:By},[fo.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:By},[fo.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[fo.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(t,e)=>[Wt.getShortAt(t,e)]},[fo.CLIPBOARD]:{description:"Clipboard",path:NG}};function By(t,e){const r=[];for(let i=0;i<kI;i+=8)r.push(OG(t,e+i));return r}function OG(t,e){const n=oc(t,e,8);return[oc(t,e+4,8),n]}function NG(t,e){return[[oc(t,e,8),oc(t,e+4,8),oc(t,e+8,8),oc(t,e+12,8)],oc(t,e+16,8)]}function oc(t,e,n){const r=Wt.getLongAt(t,e),i=r>>>31?-1:1,a=(r&2130706432)>>>32-n,o=r&parseInt(Z6("1",32-n),2);return i*M$(a.toString(2)+"."+P$(o.toString(2),32-n,"0"),2)}const DG={read:FG},II="8BIM",BG=2,VG=4,gC=II.length;function FG(t,e){const n=DU(new Uint8Array(t).buffer),r={};let i=0;for(;i<t.length;){const a=dn(n,i,gC);i+=gC;const o=Wt.getShortAt(n,i);i+=BG;const{tagName:c,tagNameSize:u}=LG(n,i);i+=u;const f=Wt.getLongAt(n,i);if(i+=VG,a===II){const p=DU(n.buffer,i,f),h={id:o,value:dn(p,0,f)};if(cY[o]){try{h.description=cY[o].description(p)}catch{h.description="<no description formatter>"}r[c||cY[o].name]=h}else e&&(r[`undefined-${o}`]=h)}i+=f+f%2}return r}function LG(t,e){const[n,r]=V6(t,e);return{tagName:r,tagNameSize:1+n+(n%2===0?1:0)}}const yC={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},vC={4:{name:"Preferred CMM type",value:(t,e)=>dn(t,e,4),description:t=>t!==null?fY(t):""},8:{name:"Profile Version",value:(t,e)=>t.getUint8(e).toString(10)+"."+(t.getUint8(e+1)>>4).toString(10)+"."+(t.getUint8(e+1)%16).toString(10)},12:{name:"Profile/Device class",value:(t,e)=>dn(t,e,4),description:t=>{switch(t.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return t}}},16:{name:"Color Space",value:(t,e)=>dn(t,e,4)},20:{name:"Connection Space",value:(t,e)=>dn(t,e,4)},24:{name:"ICC Profile Date",value:(t,e)=>ZG(t,e).toISOString()},36:{name:"ICC Signature",value:(t,e)=>zG(t.buffer.slice(e,e+4))},40:{name:"Primary Platform",value:(t,e)=>dn(t,e,4),description:t=>fY(t)},48:{name:"Device Manufacturer",value:(t,e)=>dn(t,e,4),description:t=>fY(t)},52:{name:"Device Model Number",value:(t,e)=>dn(t,e,4)},64:{name:"Rendering Intent",value:(t,e)=>t.getUint32(e),description:t=>{switch(t){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return t}}},80:{name:"Profile Creator",value:(t,e)=>dn(t,e,4)}};function ZG(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,i=t.getUint16(e+4),a=t.getUint16(e+6),o=t.getUint16(e+8),c=t.getUint16(e+10);return new Date(Date.UTC(n,r,i,a,o,c))}function zG(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function fY(t){switch(t.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return t}}const _C={read:eq},$G=84,KG=128,jG="acsp",HG="desc",GG="mluc",qG="text",QG="sig ",JG=12;function eq(t,e,n){return n&&e[0].compressionMethod!==n_?tq(t,e):rq(t,e)}function tq(t,e){if(!nq(e[0].compressionMethod))return{};const n=new DataView(t.buffer.slice(e[0].offset,e[0].offset+e[0].length));return $6(n,e[0].compressionMethod,"utf-8","dataview").then(XI).catch(()=>({}))}function nq(t){return t===z6}function rq(t,e){try{const n=e.reduce((o,c)=>o+c.length,0),r=new Uint8Array(n);let i=0;const a=iq(t);for(let o=1;o<=e.length;o++){const c=e.find(p=>p.chunkNumber===o);if(!c)throw new Error(`ICC chunk ${o} not found`);const u=a.slice(c.offset,c.offset+c.length),f=new Uint8Array(u);r.set(f,i),i+=f.length}return XI(new DataView(r.buffer))}catch{return{}}}function iq(t){return Array.isArray(t)?new DataView(Uint8Array.from(t).buffer).buffer:t.buffer}function sq(t){return t.length<KG+4}function aq(t,e){return t.length<e+JG}function XI(t){const e=t.buffer,n=t.getUint32();if(t.byteLength!==n)throw new Error("ICC profile length not matching");if(t.byteLength<$G)throw new Error("ICC profile too short");const r={},i=Object.keys(vC);for(let u=0;u<i.length;u++){const f=i[u],p=vC[f],h=p.value(t,parseInt(f,10));let m=h;p.description&&(m=p.description(h)),r[p.name]={value:h,description:m}}if(Vy(e.slice(36,40))!==jG)throw new Error("ICC profile: missing signature");if(sq(e))return r;const o=t.getUint32(128);let c=132;for(let u=0;u<o;u++){if(aq(e,c))return r;const f=dn(t,c,4),p=t.getUint32(c+4),h=t.getUint32(c+8);if(p>e.length)return r;const m=dn(t,p,4);if(m===HG){const y=t.getUint32(p+8);if(y>h)return r;const _=Vy(e.slice(p+12,p+y+11));mg(r,f,_)}else if(m===GG){const y=t.getUint32(p+8),_=t.getUint32(p+12);let v=p+16;const S=[];for(let Y=0;Y<y;Y++){const T=dn(t,v+0,2),A=dn(t,v+2,2),P=t.getUint32(v+4),C=t.getUint32(v+8),W=X$(t,p+C,P);S.push({languageCode:T,countryCode:A,text:W}),v+=_}if(y===1)mg(r,f,S[0].text);else{const Y={};for(let T=0;T<S.length;T++)Y[`${S[T].languageCode}-${S[T].countryCode}`]=S[T].text;mg(r,f,Y)}}else if(m===qG){const y=Vy(e.slice(p+8,p+h-7));mg(r,f,y)}else if(m===QG){const y=Vy(e.slice(p+8,p+12));mg(r,f,y)}c=c+12}return r}function Vy(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function mg(t,e,n){yC[e]?t[yC[e].name]={value:n,description:n}:t[e]={value:n,description:n}}const pv=27,oq={read:lq,SHOT_INFO_AUTO_ROTATE:pv};function lq(t,e,n,r,i){let a=Rl(t,cI,e,e+n,r,i);return a.ShotInfo&&(a=vn({},a,cq(a.ShotInfo.value)),delete a.ShotInfo),a}function cq(t){const e={};return t[pv]!==void 0&&(e.AutoRotate={value:t[pv],description:uq(t[pv])}),e}function uq(t){return t===0?"None":t===1?"Rotate 90 CW":t===2?"Rotate 180":t===3?"Rotate 270 CW":"Unknown"}const RI=8,PI=RI+2,MI={K3_III:78420},mv={CAMERA_ORIENTATION:1,ROLL_ANGLE:3,PITCH_ANGLE:5},fq={read:dq,PENTAX_IFD_OFFSET:PI,MODEL_ID:MI,LIK3III:mv};function dq(t,e,n,r){const i=Pa.getByteOrder(t,e+n+RI),a=e+n;let o=Rl(t,zT,a,a+PI,i,r);return hq(o)&&(o=vn({},o,pq(t,a+o.LevelInfo.__offset,i)),delete o.LevelInfo),o}function hq(t){return t.PentaxModelID&&t.PentaxModelID.value===MI.K3_III&&t.LevelInfo}function pq(t,e,n){const r={};if(e+7>t.byteLength)return r;const i=t.getInt8(e+mv.CAMERA_ORIENTATION);r.CameraOrientation={value:i,description:mq(i)};const a=t.getInt16(e+mv.ROLL_ANGLE,n===Pa.LITTLE_ENDIAN);r.RollAngle={value:a,description:gq(a)};const o=t.getInt16(e+mv.PITCH_ANGLE,n===Pa.LITTLE_ENDIAN);return r.PitchAngle={value:o,description:yq(o)},r}function mq(t){return t===0?"Horizontal (normal)":t===1?"Rotate 270 CW":t===2?"Rotate 180":t===3?"Rotate 90 CW":t===4?"Upwards":t===5?"Downwards":"Unknown"}function gq(t){return""+t*-.5}function yq(t){return""+t*-.5}const vq={read:_q};function _q(t,e){return{"Image Width":Sq(t,e),"Image Height":bq(t,e),"Bit Depth":Yq(t,e),"Color Type":xq(t,e),Compression:Tq(t,e),Filter:wq(t,e),Interlace:Wq(t,e)}}function Sq(t,e){if(e+0+4>t.byteLength)return;const i=Wt.getLongAt(t,e);return{value:i,description:`${i}px`}}function bq(t,e){if(e+4+4>t.byteLength)return;const i=Wt.getLongAt(t,e+4);return{value:i,description:`${i}px`}}function Yq(t,e){if(e+8+1>t.byteLength)return;const i=Wt.getByteAt(t,e+8);return{value:i,description:`${i}`}}function xq(t,e){const i={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(e+9+1>t.byteLength)return;const a=Wt.getByteAt(t,e+9);return{value:a,description:i[a]||"Unknown"}}function Tq(t,e){if(e+10+1>t.byteLength)return;const i=Wt.getByteAt(t,e+10);return{value:i,description:i===0?"Deflate/Inflate":"Unknown"}}function wq(t,e){if(e+11+1>t.byteLength)return;const i=Wt.getByteAt(t,e+11);return{value:i,description:i===0?"Adaptive":"Unknown"}}function Wq(t,e){const i={0:"Noninterlaced",1:"Adam7 Interlace"};if(e+12+1>t.byteLength)return;const a=Wt.getByteAt(t,e+12);return{value:a,description:i[a]||"Unknown"}}const Eq={read:Iq},bx="STATE_KEYWORD",Yx="STATE_COMPRESSION",xx="STATE_LANG",Uq="STATE_TRANSLATED_KEYWORD",Tx="STATE_TEXT",Cq=1,Aq=1,kq=6;function Iq(t,e,n,r){const i={},a=[];for(let o=0;o<e.length;o++){const{offset:c,length:u,type:f}=e[o],p=Xq(t,c,u,f,n);if(p instanceof Promise)a.push(p.then(({name:h,value:m,description:y})=>{try{if(BU.USE_EXIF&&bC(h,m))return{__exif:hI.read(xC(m),kq,r).tags};if(BU.USE_IPTC&&YC(h,m))return{__iptc:_x.read(xC(m),0,r)};if(h&&!bC(h,m)&&!YC(h,m))return{[h]:{value:m,description:y}}}catch{}return{}}));else{const{name:h,value:m,description:y}=p;h&&(i[h]={value:m,description:y})}}return{readTags:i,readTagsPromise:a.length>0?Promise.all(a):void 0}}function Xq(t,e,n,r,i){const a=[],o=[];let c,u=bx,f=n_;for(let h=0;h<n&&e+h<t.byteLength;h++){if(u===Yx){f=Rq({type:r,dataView:t,offset:e+h}),r===Tc&&(h+=Cq),u=SC(r,u);continue}else if(u===Tx){c=new DataView(t.buffer.slice(e+h,e+n));break}const m=t.getUint8(e+h);m===0?u=SC(r,u):u===bx?a.push(m):u===xx&&o.push(m)}if(f!==n_&&!i)return{};const p=$6(c,f,Pq(r));return p instanceof Promise?p.then(h=>dY(h,r,o,a)).catch(()=>dY("<text using unknown compression>".split(""),r,o,a)):dY(p,r,o,a)}function Rq({type:t,dataView:e,offset:n}){if(t===Tc){if(e.getUint8(n)===Aq)return e.getUint8(n+1)}else if(t===j_)return e.getUint8(n);return n_}function SC(t,e){return e===bx&&[Tc,j_].includes(t)?Yx:e===Yx?t===Tc?xx:Tx:e===xx?Uq:Tx}function Pq(t){return t===FT||t===j_?"latin1":"utf-8"}function dY(t,e,n,r){const i=Oq(t);return{name:Mq(e,n,r),value:i,description:e===Tc?Nq(t):i}}function Mq(t,e,n){const r=xc(n);if(t===FT||e.length===0)return r;const i=xc(e);return`${r} (${i})`}function Oq(t){return t instanceof DataView?dn(t,0,t.byteLength):t}function Nq(t){return pI.decode("UTF-8",t)}function bC(t,e){return t.toLowerCase()==="raw profile type exif"&&e.substring(1,5)==="exif"}function YC(t,e){return t.toLowerCase()==="raw profile type iptc"&&e.substring(1,5)==="iptc"}function xC(t){const e=t.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return Dq(e[2].replace(/\n/g,""))}function Dq(t){const e=new DataView(new ArrayBuffer(t.length/2));for(let n=0;n<t.length;n+=2)e.setUint8(n/2,parseInt(t.substring(n,n+2),16));return e}const Bq={read:Vq};function Vq(t,e){const n={};for(let r=0;r<e.length;r++){const i=Wt.getLongAt(t,e[r]+bu),a=dn(t,e[r]+Xl,la);a===Q6?(n["Pixels Per Unit X"]=Fq(t,e[r],i),n["Pixels Per Unit Y"]=Lq(t,e[r],i),n["Pixel Units"]=Zq(t,e[r],i)):a===J6&&(n["Modify Date"]=zq(t,e[r],i))}return n}function Fq(t,e,n){if(!J_(t,e,n,0,4))return;const a=Wt.getLongAt(t,e+Ti+0);return{value:a,description:""+a}}function Lq(t,e,n){if(!J_(t,e,n,4,4))return;const a=Wt.getLongAt(t,e+Ti+4);return{value:a,description:""+a}}function Zq(t,e,n){if(!J_(t,e,n,8,1))return;const a=Wt.getByteAt(t,e+Ti+8);return{value:a,description:a===1?"meters":"Unknown"}}function zq(t,e,n){if(!J_(t,e,n,0,7))return;const i=Wt.getShortAt(t,e+Ti),a=Wt.getByteAt(t,e+Ti+2),o=Wt.getByteAt(t,e+Ti+3),c=Wt.getByteAt(t,e+Ti+4),u=Wt.getByteAt(t,e+Ti+5),f=Wt.getByteAt(t,e+Ti+6);return{value:[i,a,o,c,u,f],description:`${gu(i,4)}-${gu(a,2)}-${gu(o,2)} ${gu(c,2)}:${gu(u,2)}:${gu(f,2)}`}}function J_(t,e,n,r,i){return r+i<=n&&e+Ti+r+i<=t.byteLength}function gu(t,e){return`${"0".repeat(e-(""+t).length)}${t}`}const $q={read:Hq},Kq=4,jq=7;function Hq(t,e){const n={},r=Wt.getByteAt(t,e);return n.Alpha=Gq(r),n.Animation=qq(r),n.ImageWidth=TC(t,e+Kq),n.ImageHeight=TC(t,e+jq),n}function Gq(t){const e=t&16;return{value:e?1:0,description:e?"Yes":"No"}}function qq(t){const e=t&2;return{value:e?1:0,description:e?"Yes":"No"}}function TC(t,e){const n=Wt.getByteAt(t,e)+256*Wt.getByteAt(t,e+1)+65536*Wt.getByteAt(t,e+2)+1;return{value:n,description:n+"px"}}const Qq={read:Jq};function Jq(t){return{"GIF Version":eQ(t),"Image Width":tQ(t),"Image Height":nQ(t),"Global Color Map":rQ(t),"Bits Per Pixel":sQ(t),"Color Resolution Depth":iQ(t)}}function eQ(t){if(6>t.byteLength)return;const r=dn(t,3,3);return{value:r,description:r}}function tQ(t){if(8>t.byteLength)return;const r=t.getUint16(6,!0);return{value:r,description:`${r}px`}}function nQ(t){if(10>t.byteLength)return;const r=t.getUint16(8,!0);return{value:r,description:`${r}px`}}function rQ(t){if(11>t.byteLength)return;const i=(t.getUint8(10)&128)>>>7;return{value:i,description:i===1?"Yes":"No"}}function iQ(t){if(11>t.byteLength)return;const i=((t.getUint8(10)&112)>>>4)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}function sQ(t){if(11>t.byteLength)return;const i=(t.getUint8(10)&7)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}const aQ=[6,7,99],oQ={get:lQ};function lQ(t,e,n){if(cQ(e)){e.type="image/jpeg";const r=n+e.JPEGInterchangeFormat.value;e.image=t.buffer.slice(r,r+e.JPEGInterchangeFormatLength.value),F6(e,"base64",function(){return L6(this.image)})}return e}function cQ(t){return t&&(t.Compression===void 0||aQ.includes(t.Compression.value))&&t.JPEGInterchangeFormat&&t.JPEGInterchangeFormat.value&&t.JPEGInterchangeFormatLength&&t.JPEGInterchangeFormatLength.value}const hY={INCHES:2,CENTIMETERS:3,MILLIMETERS:4},pY={INCHES_TO_MM:25.4,CM_TO_MM:10,MM_TO_MM:1},uQ={get:fQ};function fQ(t,e){const n={};let r=!1;const i=ic(t,"exif","FocalLength",e),a=ic(t,"exif","FocalPlaneXResolution",e),o=ic(t,"exif","FocalPlaneYResolution",e),c=ic(t,"exif","FocalPlaneResolutionUnit",e),u=ic(t,"file","Image Width",e),f=ic(t,"file","Image Height",e),p=ic(t,"exif","FocalLengthIn35mmFilm",e)||dQ(a,o,c,u,f,i);p&&(n.FocalLength35efl={value:p,description:an.FocalLengthIn35mmFilm(p)},r=!0);const h=hQ(i,p);h&&(n.ScaleFactorTo35mmEquivalent=h,r=!0);const m=pQ(p);if(m&&(n.FieldOfView=m,r=!0),r)return n}function ic(t,e,n,r){if(r&&t[e]&&t[e][n])return t[e][n].value;if(!r&&t[n])return t[n].value}function dQ(t,e,n,r,i,a){if(t&&e&&n&&r&&i&&a)try{let c;switch(n){case hY.INCHES:c=pY.INCHES_TO_MM;break;case hY.CENTIMETERS:c=pY.CM_TO_MM;break;case hY.MILLIMETERS:c=pY.MM_TO_MM;break;default:return}const u=t[0]/t[1]*c,f=e[0]/e[1]*c,p=r/u,h=i/f,m=Math.sqrt(p**2+h**2);return a[0]/a[1]*(43.27/m)}catch{}}function hQ(t,e){if(t&&e)try{const n=e/(t[0]/t[1]);return{value:n,description:n.toFixed(1)}}catch{}}function pQ(t){if(t)try{const n=2*Math.atan(36/(2*t))*(180/Math.PI);return{value:n,description:n.toFixed(1)+" deg"}}catch{}}function OI(t){this.name="MetadataMissingError",this.message=t||"No Exif data",this.stack=new Error().stack}OI.prototype=new Error;const NI={MetadataMissingError:OI},qg={load:mQ,loadView:DI,errors:NI};function mQ(t,e={}){return gQ(t)?(e.async=!0,yQ(t,e).then(n=>mY(n,e))):TQ(t)?(e.async=!0,wQ(t,e).then(n=>mY(n,e))):mY(t,e)}function gQ(t){return typeof t=="string"}function yQ(t,e){return/^\w+:\/\//.test(t)?typeof fetch<"u"?vQ(t,e):_Q(t,e):bQ(t)?Promise.resolve(R$(t)):YQ(t,e)}function vQ(t,{length:e}={}){const n={method:"GET"};return Number.isInteger(e)&&e>=0&&(n.headers={range:`bytes=0-${e-1}`}),fetch(t,n).then(r=>r.arrayBuffer())}function _Q(t,{length:e}={}){return new Promise((n,r)=>{const i={};Number.isInteger(e)&&e>=0&&(i.headers={range:`bytes=0-${e-1}`}),SQ(t)(t,i,o=>{if(o.statusCode>=200&&o.statusCode<=299){const c=[];o.on("data",u=>c.push(Buffer.from(u))),o.on("error",u=>r(u)),o.on("end",()=>n(Buffer.concat(c)))}else r(`Could not fetch file: ${o.statusCode} ${o.statusMessage}`),o.resume()}).on("error",o=>r(o))})}function SQ(t){return/^https:\/\//.test(t)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function bQ(t){return/^data:[^;,]*(;base64)?,/.test(t)}function YQ(t,{length:e}={}){return new Promise((n,r)=>{const i=xQ();i.open(t,(a,o)=>{a?r(a):i.stat(t,(c,u)=>{if(c)r(c);else{const f=Math.min(u.size,e!==void 0?e:u.size),p=Buffer.alloc(f),h={buffer:p,length:f};i.read(o,h,m=>{m?r(m):i.close(o,y=>{y&&console.warn(`Could not close file ${t}:`,y),n(p)})})}})})})}function xQ(){try{return __non_webpack_require__("fs")}catch{return}}function TQ(t){return typeof File<"u"&&t instanceof File}function wQ(t,{length:e}){return new Promise((n,r)=>{const i=new FileReader;i.onload=a=>n(a.target.result),i.onerror=()=>r(i.error),Number.isInteger(e)&&e>=0&&t.slice!==void 0?i.readAsArrayBuffer(t.slice(0,e)):i.readAsArrayBuffer(t)})}function mY(t,e){return WQ(t)&&(t=new Uint8Array(t).buffer),DI(EQ(t),e)}function WQ(t){try{return Buffer.isBuffer(t)}catch{return!1}}function EQ(t){try{return new DataView(t)}catch{return new B6(t)}}function DI(t,{expanded:e=!1,async:n=!1,includeUnknown:r=!1,domParser:i=void 0}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){let a=!1,o={};const c=[],{fileType:u,fileDataOffset:f,jfifDataOffset:p,tiffHeaderOffset:h,iptcDataOffset:m,xmpChunks:y,iccChunks:_,mpfDataOffset:v,pngHeaderOffset:S,pngTextChunks:Y,pngChunkOffsets:T,vp8xChunkOffset:A,gifHeaderOffset:P}=Wj.parseAppMarkers(t,n);if(UQ(f)){a=!0;const M=lH.read(t,f);e?o.file=M:o=vn({},o,M)}if(CQ(p)){a=!0;const M=vH.read(t,p);e?o.jfif=M:o=vn({},o,M)}if(AQ(h)){a=!0;const{tags:M,byteOrder:D}=hI.read(t,h,r);if(M.Thumbnail&&(o.Thumbnail=M.Thumbnail,delete M.Thumbnail),e?(o.exif=M,kQ(o)):o=vn({},o,M),M["IPTC-NAA"]&&!wC(m)){const B=_x.read(M["IPTC-NAA"].value,0,r);e?o.iptc=B:o=vn({},o,B)}if(M.ApplicationNotes&&!WC(y)){const B=mC.read(xc(M.ApplicationNotes.value),void 0,i);e?o.xmp=B:(delete B._raw,o=vn({},o,B))}if(M.ImageSourceData&&M.PhotoshopSettings){const B=DG.read(M.PhotoshopSettings.value,r);e?o.photoshop=B:o=vn({},o,B)}if(M.ICC_Profile&&!EC(_)){const B=_C.read(M.ICC_Profile.value,[{offset:0,length:M.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);e?o.icc=B:o=vn({},o,B)}if(M.MakerNote){if(IQ(M)){const B=oq.read(t,h,M.MakerNote.__offset,D,r);e?o.makerNotes=B:o=vn({},o,B)}else if(XQ(M)){const B=fq.read(t,h,M.MakerNote.__offset,r);e?o.makerNotes=B:o=vn({},o,B)}}M.MakerNote&&delete M.MakerNote.__offset}if(wC(m)){a=!0;const M=_x.read(t,m,r);e?o.iptc=M:o=vn({},o,M)}if(WC(y)){a=!0;const M=mC.read(t,y,i);e?o.xmp=M:(delete M._raw,o=vn({},o,M))}if(EC(_)){a=!0;const M=_C.read(t,_,n);M instanceof Promise?c.push(M.then(w)):w(M)}if(RQ(v)){a=!0;const M=eH.read(t,v,r);e?o.mpf=M:o=vn({},o,M)}if(PQ(S)){a=!0;const M=vq.read(t,S);e?(o.png=o.png?vn({},o.png,M):M,o.pngFile=M):o=vn({},o,M)}if(MQ(Y)){a=!0;const{readTags:M,readTagsPromise:D}=Eq.read(t,Y,n,r);k(M),D&&c.push(D.then(B=>B.forEach(k)))}if(OQ(T)){a=!0;const M=Bq.read(t,T);e?o.png=o.png?vn({},o.png,M):M:o=vn({},o,M)}if(NQ(A)){a=!0;const M=$q.read(t,A);e?o.riff=o.riff?vn({},o.riff,M):M:o=vn({},o,M)}if(DQ(P)){a=!0;const M=Qq.read(t,P);e?o.gif=o.gif?vn({},o.gif,M):M:o=vn({},o,M)}const C=uQ.get(o,e);C&&(e?o.composite=C:o=vn({},o,C));const W=oQ.get(t,o.Thumbnail,h);if(W?(a=!0,o.Thumbnail=W):delete o.Thumbnail,u&&(e?(o.file||(o.file={}),o.file.FileType=u):o.FileType=u,a=!0),!a)throw new NI.MetadataMissingError;if(n)return Promise.all(c).then(()=>o);return o;function w(M){e?o.icc=M:o=vn({},o,M)}function k(M){if(e){for(const D of["exif","iptc"]){const B=`__${D}`;M[B]&&(o[D]=o[D]?vn({},o.exif,M[B]):M[B],delete M[B])}o.png=o.png?vn({},o.png,M):M,o.pngText=o.pngText?vn({},o.png,M):M}else o=vn({},o,M.__exif?M.__exif:{},M.__iptc?M.__iptc:{},M),delete o.__exif,delete o.__iptc}}function UQ(t){return t!==void 0}function CQ(t){return t!==void 0}function AQ(t){return t!==void 0}function kQ(t){if(t.exif){if(t.exif.GPSLatitude&&t.exif.GPSLatitudeRef)try{t.gps=t.gps||{},t.gps.Latitude=r_(t.exif.GPSLatitude.value),t.exif.GPSLatitudeRef.value.join("")==="S"&&(t.gps.Latitude=-t.gps.Latitude)}catch{}if(t.exif.GPSLongitude&&t.exif.GPSLongitudeRef)try{t.gps=t.gps||{},t.gps.Longitude=r_(t.exif.GPSLongitude.value),t.exif.GPSLongitudeRef.value.join("")==="W"&&(t.gps.Longitude=-t.gps.Longitude)}catch{}if(t.exif.GPSAltitude&&t.exif.GPSAltitudeRef)try{t.gps=t.gps||{},t.gps.Altitude=t.exif.GPSAltitude.value[0]/t.exif.GPSAltitude.value[1],t.exif.GPSAltitudeRef.value===1&&(t.gps.Altitude=-t.gps.Altitude)}catch{}}}function wC(t){return t!==void 0}function WC(t){return Array.isArray(t)&&t.length>0}function EC(t){return Array.isArray(t)&&t.length>0}function IQ(t){return t.Make&&t.Make.value&&Array.isArray(t.Make.value)&&t.Make.value[0]==="Canon"&&t.MakerNote&&t.MakerNote.__offset}function XQ(t){const e="PENTAX ";return t.MakerNote.value.length>e.length&&xc(t.MakerNote.value.slice(0,e.length))===e&&t.MakerNote.__offset}function RQ(t){return t!==void 0}function PQ(t){return t!==void 0}function MQ(t){return t!==void 0}function OQ(t){return t!==void 0}function NQ(t){return t!==void 0}function DQ(t){return t!==void 0}var Fy={exports:{}},UC;function BQ(){return UC||(UC=1,(function(t,e){(function(){var n={};n.version="1.0.4",n.remove=function(C){var W=!1;if(C.slice(0,2)!="")if(C.slice(0,23)=="data:image/jpeg;base64,"||C.slice(0,22)=="data:image/jpg;base64,")C=m(C.split(",")[1]),W=!0;else throw new Error("Given data is not jpeg.");var w=S(C),k=w.filter(function(D){return!(D.slice(0,2)==""&&D.slice(4,10)=="Exif\0\0")}),M=k.join("");return W&&(M="data:image/jpeg;base64,"+h(M)),M},n.insert=function(C,W){var w=!1;if(C.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(W.slice(0,2)!="")if(W.slice(0,23)=="data:image/jpeg;base64,"||W.slice(0,22)=="data:image/jpg;base64,")W=m(W.split(",")[1]),w=!0;else throw new Error("Given data is not jpeg.");var k=""+y(">H",[C.length+2])+C,M=S(W),D=T(M,k);return w&&(D="data:image/jpeg;base64,"+h(D)),D},n.load=function(C){var W;if(typeof C=="string")if(C.slice(0,2)=="")W=C;else if(C.slice(0,23)=="data:image/jpeg;base64,"||C.slice(0,22)=="data:image/jpg;base64,")W=m(C.split(",")[1]);else if(C.slice(0,4)=="Exif")W=C.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");var w={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},k=new p(W);if(k.tiftag===null)return w;k.tiftag.slice(0,2)=="II"?k.endian_mark="<":k.endian_mark=">";var M=_(k.endian_mark+"L",k.tiftag.slice(4,8))[0];w["0th"]=k.get_ifd(M,"0th");var D=w["0th"].first_ifd_pointer;if(delete w["0th"].first_ifd_pointer,34665 in w["0th"]&&(M=w["0th"][34665],w.Exif=k.get_ifd(M,"Exif")),34853 in w["0th"]&&(M=w["0th"][34853],w.GPS=k.get_ifd(M,"GPS")),40965 in w.Exif&&(M=w.Exif[40965],w.Interop=k.get_ifd(M,"Interop")),D!="\0\0\0\0"&&(M=_(k.endian_mark+"L",D)[0],w["1st"]=k.get_ifd(M,"1st"),513 in w["1st"]&&514 in w["1st"])){var B=w["1st"][513]+w["1st"][514],O=k.tiftag.slice(w["1st"][513],B);w.thumbnail=O}return w},n.dump=function(C){var W=8,w=r(C),k="Exif\0\0MM\0*\0\0\0\b",M=!1,D=!1,B=!1,O=!1,V,X,j,$,q;"0th"in w?V=w["0th"]:V={},"Exif"in w&&Object.keys(w.Exif).length||"Interop"in w&&Object.keys(w.Interop).length?(V[34665]=1,M=!0,X=w.Exif,"Interop"in w&&Object.keys(w.Interop).length?(X[40965]=1,B=!0,j=w.Interop):Object.keys(X).indexOf(n.ExifIFD.InteroperabilityTag.toString())>-1&&delete X[40965]):Object.keys(V).indexOf(n.ImageIFD.ExifTag.toString())>-1&&delete V[34665],"GPS"in w&&Object.keys(w.GPS).length?(V[n.ImageIFD.GPSTag]=1,D=!0,$=w.GPS):Object.keys(V).indexOf(n.ImageIFD.GPSTag.toString())>-1&&delete V[n.ImageIFD.GPSTag],"1st"in w&&"thumbnail"in w&&w.thumbnail!=null&&(O=!0,w["1st"][513]=1,w["1st"][514]=1,q=w["1st"]);var G=f(V,"0th",0),Q=G[0].length+M*12+D*12+4+G[1].length,ue,K="",ee=0,fe,te="",ie=0,le,he="",me=0,Se,Je="",$e;if(M&&(ue=f(X,"Exif",Q),ee=ue[0].length+B*12+ue[1].length),D&&(fe=f($,"GPS",Q+ee),te=fe.join(""),ie=te.length),B){var We=Q+ee+ie;le=f(j,"Interop",We),he=le.join(""),me=he.length}if(O){var We=Q+ee+ie+me;if(Se=f(q,"1st",We),$e=i(w.thumbnail),$e.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}var Ze="",F="",ke="",Ye="\0\0\0\0";if(M){var ce=W+Q,se=y(">L",[ce]),pe=34665,Me=y(">H",[pe]),Ae=y(">H",[A.Long]),ge=y(">L",[1]);Ze=Me+Ae+ge+se}if(D){var ce=W+Q+ee,se=y(">L",[ce]),pe=34853,Me=y(">H",[pe]),Ae=y(">H",[A.Long]),ge=y(">L",[1]);F=Me+Ae+ge+se}if(B){var ce=W+Q+ee+ie,se=y(">L",[ce]),pe=40965,Me=y(">H",[pe]),Ae=y(">H",[A.Long]),ge=y(">L",[1]);ke=Me+Ae+ge+se}if(O){var ce=W+Q+ee+ie+me;Ye=y(">L",[ce]);var we=ce+Se[0].length+24+4+Se[1].length,et="\0\0\0\0"+y(">L",[we]),Le="\0\0\0\0"+y(">L",[$e.length]);Je=Se[0]+et+Le+"\0\0\0\0"+Se[1]+$e}var nt=G[0]+Ze+F+Ye+G[1];return M&&(K=ue[0]+ke+ue[1]),k+nt+K+te+he+Je};function r(C){return JSON.parse(JSON.stringify(C))}function i(C){for(var W=S(C);""<=W[1].slice(0,2)&&W[1].slice(0,2)<="";)W=[W[0]].concat(W.slice(2));return W.join("")}function a(C){return y(">"+v("B",C.length),C)}function o(C){return y(">"+v("H",C.length),C)}function c(C){return y(">"+v("L",C.length),C)}function u(C,W,w){var k="",M="",D,B,O,V;if(W=="Byte")D=C.length,D<=4?M=a(C)+v("\0",4-D):(M=y(">L",[w]),k=a(C));else if(W=="Short")D=C.length,D<=2?M=o(C)+v("\0\0",2-D):(M=y(">L",[w]),k=o(C));else if(W=="Long")D=C.length,D<=1?M=c(C):(M=y(">L",[w]),k=c(C));else if(W=="Ascii")B=C+"\0",D=B.length,D>4?(M=y(">L",[w]),k=B):M=B+v("\0",4-D);else if(W=="Rational"){if(typeof C[0]=="number")D=1,O=C[0],V=C[1],B=y(">L",[O])+y(">L",[V]);else{D=C.length,B="";for(var X=0;X<D;X++)O=C[X][0],V=C[X][1],B+=y(">L",[O])+y(">L",[V])}M=y(">L",[w]),k=B}else if(W=="SRational"){if(typeof C[0]=="number")D=1,O=C[0],V=C[1],B=y(">l",[O])+y(">l",[V]);else{D=C.length,B="";for(var X=0;X<D;X++)O=C[X][0],V=C[X][1],B+=y(">l",[O])+y(">l",[V])}M=y(">L",[w]),k=B}else W=="Undefined"&&(D=C.length,D>4?(M=y(">L",[w]),k=C):M=C+v("\0",4-D));var j=y(">L",[D]);return[j,M,k]}function f(C,W,w){var k=8,M=Object.keys(C).length,D=y(">H",[M]),B;["0th","1st"].indexOf(W)>-1?B=2+M*12+4:B=2+M*12;var O="",V="",X;for(var X in C)if(typeof X=="string"&&(X=parseInt(X)),!(W=="0th"&&[34665,34853].indexOf(X)>-1)){{if(W=="Exif"&&X==40965)continue;if(W=="1st"&&[513,514].indexOf(X)>-1)continue}var j=C[X],$=y(">H",[X]),q=P[W][X].type,G=y(">H",[A[q]]);typeof j=="number"&&(j=[j]);var Q=k+B+w+V.length,ue=u(j,q,Q),K=ue[0],ee=ue[1],fe=ue[2];O+=$+G+K+ee,V+=fe}return[D+O,V]}function p(C){var W,w;if(C.slice(0,2)=="")W=S(C),w=Y(W),w?this.tiftag=w.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(C.slice(0,2))>-1)this.tiftag=C;else if(C.slice(0,4)=="Exif")this.tiftag=C.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}if(p.prototype={get_ifd:function(C,W){var w={},k=_(this.endian_mark+"H",this.tiftag.slice(C,C+2))[0],M=C+2,D;["0th","1st"].indexOf(W)>-1?D="Image":D=W;for(var B=0;B<k;B++){C=M+12*B;var O=_(this.endian_mark+"H",this.tiftag.slice(C,C+2))[0],V=_(this.endian_mark+"H",this.tiftag.slice(C+2,C+4))[0],X=_(this.endian_mark+"L",this.tiftag.slice(C+4,C+8))[0],j=this.tiftag.slice(C+8,C+12),$=[V,X,j];O in P[D]&&(w[O]=this.convert_value($))}return W=="0th"&&(C=M+12*k,w.first_ifd_pointer=this.tiftag.slice(C,C+4)),w},convert_value:function(C){var W=null,w=C[0],k=C[1],M=C[2],D;if(w==1)k>4?(D=_(this.endian_mark+"L",M)[0],W=_(this.endian_mark+v("B",k),this.tiftag.slice(D,D+k))):W=_(this.endian_mark+v("B",k),M.slice(0,k));else if(w==2)k>4?(D=_(this.endian_mark+"L",M)[0],W=this.tiftag.slice(D,D+k-1)):W=M.slice(0,k-1);else if(w==3)k>2?(D=_(this.endian_mark+"L",M)[0],W=_(this.endian_mark+v("H",k),this.tiftag.slice(D,D+k*2))):W=_(this.endian_mark+v("H",k),M.slice(0,k*2));else if(w==4)k>1?(D=_(this.endian_mark+"L",M)[0],W=_(this.endian_mark+v("L",k),this.tiftag.slice(D,D+k*4))):W=_(this.endian_mark+v("L",k),M);else if(w==5)if(D=_(this.endian_mark+"L",M)[0],k>1){W=[];for(var B=0;B<k;B++)W.push([_(this.endian_mark+"L",this.tiftag.slice(D+B*8,D+4+B*8))[0],_(this.endian_mark+"L",this.tiftag.slice(D+4+B*8,D+8+B*8))[0]])}else W=[_(this.endian_mark+"L",this.tiftag.slice(D,D+4))[0],_(this.endian_mark+"L",this.tiftag.slice(D+4,D+8))[0]];else if(w==7)k>4?(D=_(this.endian_mark+"L",M)[0],W=this.tiftag.slice(D,D+k)):W=M.slice(0,k);else if(w==9)k>1?(D=_(this.endian_mark+"L",M)[0],W=_(this.endian_mark+v("l",k),this.tiftag.slice(D,D+k*4))):W=_(this.endian_mark+v("l",k),M);else if(w==10)if(D=_(this.endian_mark+"L",M)[0],k>1){W=[];for(var B=0;B<k;B++)W.push([_(this.endian_mark+"l",this.tiftag.slice(D+B*8,D+4+B*8))[0],_(this.endian_mark+"l",this.tiftag.slice(D+4+B*8,D+8+B*8))[0]])}else W=[_(this.endian_mark+"l",this.tiftag.slice(D,D+4))[0],_(this.endian_mark+"l",this.tiftag.slice(D+4,D+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+w);return W instanceof Array&&W.length==1?W[0]:W}},typeof window<"u"&&typeof window.btoa=="function")var h=window.btoa;if(typeof h>"u")var h=function(W){for(var w="",k,M,D,B,O,V,X,j=0,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";j<W.length;)k=W.charCodeAt(j++),M=W.charCodeAt(j++),D=W.charCodeAt(j++),B=k>>2,O=(k&3)<<4|M>>4,V=(M&15)<<2|D>>6,X=D&63,isNaN(M)?V=X=64:isNaN(D)&&(X=64),w=w+$.charAt(B)+$.charAt(O)+$.charAt(V)+$.charAt(X);return w};if(typeof window<"u"&&typeof window.atob=="function")var m=window.atob;if(typeof m>"u")var m=function(W){var w="",k,M,D,B,O,V,X,j=0,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(W=W.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<W.length;)B=$.indexOf(W.charAt(j++)),O=$.indexOf(W.charAt(j++)),V=$.indexOf(W.charAt(j++)),X=$.indexOf(W.charAt(j++)),k=B<<2|O>>4,M=(O&15)<<4|V>>2,D=(V&3)<<6|X,w=w+String.fromCharCode(k),V!=64&&(w=w+String.fromCharCode(M)),X!=64&&(w=w+String.fromCharCode(D));return w};function y(C,W){if(!(W instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(C.length-1!=W.length)throw new Error("'pack' error. "+(C.length-1)+" marks, "+W.length+" elements.");var w;if(C[0]=="<")w=!0;else if(C[0]==">")w=!1;else throw new Error("");for(var k="",M=1,D=null,B=null,O=null;B=C[M];){if(B.toLowerCase()=="b"){if(D=W[M-1],B=="b"&&D<0&&(D+=256),D>255||D<0)throw new Error("'pack' error.");O=String.fromCharCode(D)}else if(B=="H"){if(D=W[M-1],D>65535||D<0)throw new Error("'pack' error.");O=String.fromCharCode(Math.floor(D%65536/256))+String.fromCharCode(D%256),w&&(O=O.split("").reverse().join(""))}else if(B.toLowerCase()=="l"){if(D=W[M-1],B=="l"&&D<0&&(D+=4294967296),D>4294967295||D<0)throw new Error("'pack' error.");O=String.fromCharCode(Math.floor(D/16777216))+String.fromCharCode(Math.floor(D%16777216/65536))+String.fromCharCode(Math.floor(D%65536/256))+String.fromCharCode(D%256),w&&(O=O.split("").reverse().join(""))}else throw new Error("'pack' error.");k+=O,M+=1}return k}function _(C,W){if(typeof W!="string")throw new Error("'unpack' error. Got invalid type argument.");for(var w=0,k=1;k<C.length;k++)if(C[k].toLowerCase()=="b")w+=1;else if(C[k].toLowerCase()=="h")w+=2;else if(C[k].toLowerCase()=="l")w+=4;else throw new Error("'unpack' error. Got invalid mark.");if(w!=W.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+w+":"+W.length);var M;if(C[0]=="<")M=!0;else if(C[0]==">")M=!1;else throw new Error("'unpack' error.");for(var D=[],B=0,O=1,V=null,X=null,j=null,$="";X=C[O];){if(X.toLowerCase()=="b")j=1,$=W.slice(B,B+j),V=$.charCodeAt(0),X=="b"&&V>=128&&(V-=256);else if(X=="H")j=2,$=W.slice(B,B+j),M&&($=$.split("").reverse().join("")),V=$.charCodeAt(0)*256+$.charCodeAt(1);else if(X.toLowerCase()=="l")j=4,$=W.slice(B,B+j),M&&($=$.split("").reverse().join("")),V=$.charCodeAt(0)*16777216+$.charCodeAt(1)*65536+$.charCodeAt(2)*256+$.charCodeAt(3),X=="l"&&V>=2147483648&&(V-=4294967296);else throw new Error("'unpack' error. "+X);D.push(V),B+=j,O+=1}return D}function v(C,W){for(var w="",k=0;k<W;k++)w+=C;return w}function S(C){if(C.slice(0,2)!="")throw new Error("Given data isn't JPEG.");for(var W=2,w=[""];;){if(C.slice(W,W+2)==""){w.push(C.slice(W));break}else{var k=_(">H",C.slice(W+2,W+4))[0],M=W+k+2;w.push(C.slice(W,M)),W=M}if(W>=C.length)throw new Error("Wrong JPEG data.")}return w}function Y(C){for(var W,w=0;w<C.length;w++)if(W=C[w],W.slice(0,2)==""&&W.slice(4,10)=="Exif\0\0")return W;return null}function T(C,W){var w=!1,k=[];return C.forEach(function(M,D){M.slice(0,2)==""&&M.slice(4,10)=="Exif\0\0"&&(w?k.unshift(D):(C[D]=W,w=!0))}),k.forEach(function(M){C.splice(M,1)}),!w&&W&&(C=[C[0],W].concat(C.slice(1))),C.join("")}var A={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},P={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};P["0th"]=P.Image,P["1st"]=P.Image,n.TAGS=P,n.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},n.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},n.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},n.InteropIFD={InteroperabilityIndex:1},n.GPSHelper={degToDmsRational:function(C){var W=Math.abs(C),w=W%1*60,k=w%1*60,M=Math.floor(W),D=Math.floor(w),B=Math.round(k*100);return[[M,1],[D,1],[B,100]]},dmsRationalToDeg:function(C,W){var w=W==="S"||W==="W"?-1:1,k=C[0][0]/C[0][1]+C[1][0]/C[1][1]/60+C[2][0]/C[2][1]/3600;return k*w}},t.exports&&(e=t.exports=n),e.piexif=n})()})(Fy,Fy.exports)),Fy.exports}var VQ=BQ();const ti=xo(VQ);function gg(t){if(!t)return null;try{if(t.startsWith("1970-01-01")||t.startsWith("1970:01:01"))return null;let e=t.trim();e.endsWith("Z")&&(e=e.slice(0,-1)+"+00:00");const n=/^(\d{4}):(\d{2}):(\d{2})\s+(\d{2}):(\d{2}):(\d{2})(.*)$/.exec(e);if(n){const[,a,o,c,u,f,p,h]=n;e=`${a}-${o}-${c}T${u}:${f}:${p}${h||""}`}const r=new Date(e);if(!isNaN(r.getTime()))return r;const i=/^(\d{4})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2}):(\d{2})/.exec(e);if(i){const[,a,o,c,u,f,p]=i;return new Date(parseInt(a),parseInt(o)-1,parseInt(c),parseInt(u),parseInt(f),parseInt(p))}return null}catch{return null}}function CC(t){const e=t.DateTimeOriginal?.description||t.DateTimeOriginal?.value;if(e){const o=gg(e);if(o)return o}const n=t["xmp:CreateDate"]?.description||t.CreateDate?.description||t["xmp:CreateDate"]?.value;if(n){const o=gg(n);if(o)return o}const r=t["xmp:ModifyDate"]?.description||t.ModifyDate?.description||t["xmp:ModifyDate"]?.value;if(r){const o=gg(r);if(o)return o}const i=t["drone-dji:UTCAtExposure"]?.description||t.UTCAtExposure?.description||t["drone-dji:UTCAtExposure"]?.value;if(i){const o=gg(i);if(o)return o}const a=t.DateTime?.description||t.DateTime?.value;if(a){const o=gg(a);if(o)return o}return null}const BI=[64*1024,128*1024];async function gY(t){for(const e of BI)try{const r=await t.slice(0,e).arrayBuffer(),i=await qg.load(r),a=CC(i);if(a)return a}catch{}try{const e=await t.arrayBuffer(),n=await qg.load(e);return CC(n)}catch(e){return console.warn("Failed to extract timestamp from image:",e),null}}async function FQ(t){for(const e of BI)try{const r=await t.slice(0,e).arrayBuffer(),i=await qg.load(r),a=AC(i);if(a!==null)return a}catch{}try{const e=await t.arrayBuffer(),n=await qg.load(e);return AC(n)??!1}catch{return!1}}function AC(t){if((t.ProjectionType?.description||t.ProjectionType?.value||t["GPano:ProjectionType"]?.description||t["GPano:ProjectionType"]?.value)?.toLowerCase()==="equirectangular"||(t.UsePanoramaViewer?.description||t.UsePanoramaViewer?.value||t["GPano:UsePanoramaViewer"]?.description||t["GPano:UsePanoramaViewer"]?.value)?.toLowerCase()==="true")return!0;const r=t["Image Width"]?.value||t["Exif Image Width"]?.value||t.ImageWidth?.value,i=t["Image Height"]?.value||t["Exif Image Height"]?.value||t.ImageHeight?.value;if(r&&i){const a=typeof r=="number"?r:parseInt(r),o=typeof i=="number"?i:parseInt(i),c=a/o;if(c>=1.9&&c<=2.1&&o>=7e3)return!0}return null}function LQ(t){return/^[0-9A-HJ-NP-TV-Z]{16}-.+\.ann\.(?:jpe?g|tiff?)$/i.test(t)}function ZQ(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}async function zQ(t){try{const e=await t.arrayBuffer(),r=`data:image/jpeg;base64,${ZQ(e)}`,i=ti.load(r);if(!i.Exif)return null;const a=i.Exif[ti.ExifIFD.UserComment];if(!a)return null;let o;if(typeof a=="string")o=a;else if(Array.isArray(a))o=new TextDecoder().decode(new Uint8Array(a));else return null;const c=o.indexOf("{");if(c===-1)return null;o=o.slice(c);const u=JSON.parse(o);return typeof u._version!="number"||!u.bookmark?.id||!u.bookmark?.name||!u.bookmark?.bbox||!u.source?.fileId?(console.warn("Invalid bookmark metadata structure:",u),null):u}catch(e){return console.warn("Failed to extract bookmark metadata:",e),null}}class VI{constructor(e=!1){this.evenNumbersAreThermal=e}mediaChannels=[];extractedAnnotations=[];unparseableFiles=[];async parse(e,n){const r=/PANORAMA\/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_(\d+)\//i.exec(e);if(r){const f=this.getExtension(e).toLowerCase();if(![".jpg",".jpeg",".tif",".tiff"].includes(f))return null;if(n){const p=await gY(n);if(p){const h=r[7];return{path:e,timestamp:p,sourceId:`PANO_${h}`,fileType:"image"}}}return null}const i=this.getExtension(e).toLowerCase();let a;if([".mp4",".mov"].includes(i))a="video";else if([".srt"].includes(i))a="video";else if([".jpg",".jpeg",".tif",".tiff"].includes(i))a="image";else return null;const o=this.getBaseName(e).toLowerCase();let c=null;if(this.evenNumbersAreThermal){const f=/dji_(\d{4})\.(mp4|mov|jpg|jpeg|tif|tiff)/.exec(o);if(f){if(c=parseInt(f[1],10)%2===0?"T":"V",a==="image"&&n){const h=await gY(n);if(h)return{path:e,timestamp:h,sourceId:c,fileType:a}}return{path:e,timestamp:null,sourceId:c,fileType:a}}}if(a==="image"){if(n){const p=await gY(n);if(p){if(await FQ(n))return{path:e,timestamp:p,sourceId:"PANO_360",fileType:a};const m=this.parseImagePathForSourceId(o);return{path:e,timestamp:p,sourceId:m.sourceId,fileType:a}}}const f=this.parseImagePath(o);return f?.timestamp?{path:e,...f}:{path:e,timestamp:null,sourceId:f?.sourceId??null,fileType:a}}const u=this.parseVideoPath(o);return u?.timestamp?{path:e,...u}:{path:e,timestamp:null,sourceId:null,fileType:a}}parseVideoPath(e){let n=/dji_(\d{14})_\d{4}_([a-z])\.(?:mp4|mov|srt)/.exec(e);if(n){const r=this.parseTimestamp14(n[1]),i=this.parseSourceId(n[2]);return{timestamp:r,sourceId:i,fileType:"video"}}return n=/dji_(\d{14})_\d{4}\.(?:mp4|mov|srt)/.exec(e),n?{timestamp:this.parseTimestamp14(n[1]),sourceId:null,fileType:"video"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}\.(?:mp4|mov|srt)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"video"}:null)}parseImagePath(e){let n=/(max|irx)_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e);if(n)return null;if(n=/dji_(\d{14})_\d{4}_([a-z]+)\.(?:jpg|jpeg|tif|tiff)/.exec(e),n){const r=this.parseTimestamp14(n[1]),i=this.parseSourceId(n[2]);return{timestamp:r,sourceId:i,fileType:"image"}}return n=/dji_(\d{14})_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:this.parseTimestamp14(n[1]),sourceId:null,fileType:"image"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"image"}:(n=/dji_(\d{4})-(\d{2})-(\d{2})_(\d{2})-(\d{2})-(\d{2})_\d{4}(?:_\d+)?\.ann\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{timestamp:new Date(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6])),sourceId:null,fileType:"image"}:null))}parseImagePathForSourceId(e){let n=/(max|irx)_\d{4}\.(?:jpg|jpeg|tif|tiff)/.exec(e);return n?{sourceId:n[1]==="max"?"V":"T"}:(n=/dji_(?:\d{14}_)?\d{4}_([a-z]+)\.(?:jpg|jpeg|tif|tiff)/.exec(e),n?{sourceId:this.parseSourceId(n[1])}:{sourceId:null})}parseTimestamp14(e){return new Date(parseInt(e.substring(0,4)),parseInt(e.substring(4,6))-1,parseInt(e.substring(6,8)),parseInt(e.substring(8,10)),parseInt(e.substring(10,12)),parseInt(e.substring(12,14)))}parseSourceId(e){switch(e.toLowerCase()){case"t":return"T";case"v":return"V";case"w":return"W";case"s":return"S";case"z":return"Z";case"pano":return"PANO";default:return null}}canAcceptInChannel(e,n){if(e.sourceId!==n.sourceId||e.fileType!==n.fileType||!n.timestamp||!e.startTime||!e.endTime)return!1;const r=Math.abs(n.timestamp.getTime()-e.startTime.getTime()),i=Math.abs(n.timestamp.getTime()-e.endTime.getTime()),a=60*1e3;return r<a||i<a}addFileToChannel(e,n){if(!n.timestamp){e.filePaths.push(n.path);return}let r=0,i=e.timestamps.length;for(;r<i;){const a=Math.floor((r+i)/2);e.timestamps[a].getTime()<n.timestamp.getTime()?r=a+1:i=a}e.filePaths.splice(r,0,n.path),e.timestamps.splice(r,0,n.timestamp),(!e.startTime||n.timestamp<e.startTime)&&(e.startTime=n.timestamp),(!e.endTime||n.timestamp>e.endTime)&&(e.endTime=n.timestamp)}async addFiles(e,n){const r=[],i=[],a=[];for(const u of e){const f=u.split("/").pop()||"";LQ(f)?a.push(u):i.push(u)}if(a.length>0){const u=a.map(async p=>{const h=n?.get(p);if(!h)return null;const m=await zQ(h);return m?{annotationFilePath:p,metadata:m}:null}),f=await Promise.all(u);for(const p of f)p&&(this.extractedAnnotations.push(p),`${p.metadata.bookmark.name}${p.annotationFilePath}`)}const o=i.map(async u=>{const f=n?.get(u),p=await this.parse(u,f);return{filePath:u,result:p}}),c=await Promise.all(o);for(const{filePath:u,result:f}of c)if(f)r.push(f);else{const p=u.split("/").pop()||u;this.unparseableFiles.push({path:u,reason:`Could not extract timestamp from "${p}". The file may be missing EXIF metadata or have an unsupported filename format.`})}r.sort((u,f)=>!u.timestamp&&!f.timestamp?0:u.timestamp?f.timestamp?u.timestamp.getTime()-f.timestamp.getTime():-1:1);for(const u of r){let f=null;for(const p of this.mediaChannels)if(this.canAcceptInChannel(p,u)){f=p;break}f||(f={channelId:Pu("CH"),sourceId:u.sourceId,fileType:u.fileType,startTime:u.timestamp,endTime:u.timestamp,filePaths:[],timestamps:[]},this.mediaChannels.push(f)),this.addFileToChannel(f,u)}}getChannels(){return[...this.mediaChannels]}getExtractedAnnotations(){return[...this.extractedAnnotations]}getUnparseableFiles(){return[...this.unparseableFiles]}reset(){this.mediaChannels=[],this.extractedAnnotations=[],this.unparseableFiles=[]}getBaseName(e){return e.split("/").pop()||e}getExtension(e){const n=this.getBaseName(e),r=n.lastIndexOf(".");return r===-1?"":n.substring(r)}}function $Q(t){if(t==="PANO_360")return"panorama";if(t?.startsWith("PANO_")||t==="PANO")return"visual";switch(t){case"V":return"visual";case"T":return"thermal";case"S":return"screen";case"W":return"wide";case"Z":return"zoom";default:return"unknown"}}var KQ=Object.defineProperty,FI=(t,e)=>{for(var n in e)KQ(t,n,{get:e[n],enumerable:!0})},yY=Math.pow(2,32),ci=Math.pow(2,32)-1,jQ=1,HQ=2,GQ=4,gv=1,yv=2,vv=8,_v=16,Sv=32,kC=131072,Xg=1,bv=4,Rg=256,Pg=512,Mg=1024,Og=2048,LI=-1,sl=0,Ys=1,ll=class ZI extends ArrayBuffer{constructor(e){super(e),this.fileStart=0,this.usedBytes=0}static fromArrayBuffer(e,n){const r=new ZI(e.byteLength);return new Uint8Array(r).set(new Uint8Array(e)),r.fileStart=n,r}},r1,wx,An,ms=(An=class{constructor(e,n,r){qS(this,r1);this._byteLength=0,this.failurePosition=0,this._dynamicSize=1,this._byteOffset=n||0,e instanceof ArrayBuffer?this.buffer=ll.fromArrayBuffer(e,0):e instanceof DataView?(this.dataView=e,n&&(this._byteOffset+=n)):this.buffer=new ll(e||0),this.position=0,this.endianness=r||1}getPosition(){return this.position}_realloc(e){if(!this._dynamicSize)return;const n=this._byteOffset+this.position+e;let r=this._buffer.byteLength;if(n<=r){n>this._byteLength&&(this._byteLength=n);return}for(r<1&&(r=1);n>r;)r*=2;const i=new ll(r),a=new Uint8Array(this._buffer);new Uint8Array(i,0,a.length).set(a),this.buffer=i,this._byteLength=n}_trimAlloc(){if(this._byteLength===this._buffer.byteLength)return;const e=new ll(this._byteLength),n=new Uint8Array(e),r=new Uint8Array(this._buffer,0,n.length);n.set(r),this.buffer=e}get byteLength(){return this._byteLength-this._byteOffset}get buffer(){return this._trimAlloc(),this._buffer}set buffer(e){this._buffer=e,this._dataView=new DataView(e,this._byteOffset),this._byteLength=e.byteLength}get byteOffset(){return this._byteOffset}set byteOffset(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}get dataView(){return this._dataView}set dataView(e){this._byteOffset=e.byteOffset,this._buffer=ll.fromArrayBuffer(e.buffer,0),this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}seek(e){const n=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(n)||!isFinite(n)?0:n}isEof(){return this.position>=this._byteLength}mapUint8Array(e){this._realloc(e*1);const n=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,n}readInt32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Int32Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt16Array(e,n){e=e===void 0?this.byteLength-this.position/2:e;const r=new Int16Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt8Array(e){e=e===void 0?this.byteLength-this.position:e;const n=new Int8Array(e);return An.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n}readUint32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Uint32Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readUint16Array(e,n){e=e===void 0?this.byteLength-this.position/2:e;const r=new Uint16Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readUint8Array(e){e=e===void 0?this.byteLength-this.position:e;const n=new Uint8Array(e);return An.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n}readFloat64Array(e,n){e=e===void 0?this.byteLength-this.position/8:e;const r=new Float64Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readFloat32Array(e,n){e=e===void 0?this.byteLength-this.position/4:e;const r=new Float32Array(e);return An.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),An.arrayToNative(r,n??this.endianness),this.position+=r.byteLength,r}readInt32(e){const n=this._dataView.getInt32(this.position,(e??this.endianness)===2);return this.position+=4,n}readInt16(e){const n=this._dataView.getInt16(this.position,(e??this.endianness)===2);return this.position+=2,n}readInt8(){const e=this._dataView.getInt8(this.position);return this.position+=1,e}readUint32(e){const n=this._dataView.getUint32(this.position,(e??this.endianness)===2);return this.position+=4,n}readUint16(e){const n=this._dataView.getUint16(this.position,(e??this.endianness)===2);return this.position+=2,n}readUint8(){const e=this._dataView.getUint8(this.position);return this.position+=1,e}readFloat32(e){const n=this._dataView.getFloat32(this.position,(e??this.endianness)===2);return this.position+=4,n}readFloat64(e){const n=this._dataView.getFloat64(this.position,(e??this.endianness)===2);return this.position+=8,n}static memcpy(e,n,r,i,a){const o=new Uint8Array(e,n,a),c=new Uint8Array(r,i,a);o.set(c)}static arrayToNative(e,n){return n===An.ENDIANNESS?e:this.flipArrayEndianness(e)}static nativeToEndian(e,n){return n&&An.ENDIANNESS===2?e:this.flipArrayEndianness(e)}static flipArrayEndianness(e){const n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(let r=0;r<e.byteLength;r+=e.BYTES_PER_ELEMENT)for(let i=r+e.BYTES_PER_ELEMENT-1,a=r;i>a;i--,a++){const o=n[a];n[a]=n[i],n[i]=o}return e}readString(e,n){return n===void 0||n==="ASCII"?IC(this.mapUint8Array(e===void 0?this.byteLength-this.position:e)):new TextDecoder(n).decode(this.mapUint8Array(e))}readCString(e){let n=0;const r=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),a=e!==void 0?Math.min(e,r):r;for(;n<a&&i[n]!==0;n++);const o=IC(this.mapUint8Array(n));return e!==void 0?this.position+=a-n:n!==r&&(this.position+=1),o}readInt64(){return this.readInt32()*yY+this.readUint32()}readUint64(){return this.readUint32()*yY+this.readUint32()}readUint24(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()}save(e){const n=new Blob([this.buffer]);if(typeof window<"u"&&typeof document<"u")if(window.URL&&URL.createObjectURL){const r=window.URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("href",r),i.setAttribute("download",e),i.setAttribute("target","_self"),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}else throw new Error("DataStream.save: Can't create object URL.");return n}get dynamicSize(){return this._dynamicSize}set dynamicSize(e){e||this._trimAlloc(),this._dynamicSize=e}shift(e){const n=new ll(this._byteLength-e),r=new Uint8Array(n),i=new Uint8Array(this._buffer,e,r.length);r.set(i),this.buffer=n,this.position-=e}writeInt32Array(e,n){if(this._realloc(e.length*4),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeInt32(e[r],n)}writeInt16Array(e,n){if(this._realloc(e.length*2),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeInt16(e[r],n)}writeInt8Array(e){if(this._realloc(e.length*1),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(let n=0;n<e.length;n++)this.writeInt8(e[n])}writeUint32Array(e,n){if(this._realloc(e.length*4),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeUint32(e[r],n)}writeUint16Array(e,n){if(this._realloc(e.length*2),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeUint16(e[r],n)}writeUint8Array(e){if(this._realloc(e.length*1),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(let n=0;n<e.length;n++)this.writeUint8(e[n])}writeFloat64Array(e,n){if(this._realloc(e.length*8),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeFloat64(e[r],n)}writeFloat32Array(e,n){if(this._realloc(e.length*4),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)An.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,n);else for(let r=0;r<e.length;r++)this.writeFloat32(e[r],n)}writeInt64(e,n){this._realloc(8),this._dataView.setBigInt64(this.position,BigInt(e),(n??this.endianness)===2),this.position+=8}writeInt32(e,n){this._realloc(4),this._dataView.setInt32(this.position,e,(n??this.endianness)===2),this.position+=4}writeInt16(e,n){this._realloc(2),this._dataView.setInt16(this.position,e,(n??this.endianness)===2),this.position+=2}writeInt8(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1}writeUint32(e,n){this._realloc(4),this._dataView.setUint32(this.position,e,(n??this.endianness)===2),this.position+=4}writeUint16(e,n){this._realloc(2),this._dataView.setUint16(this.position,e,(n??this.endianness)===2),this.position+=2}writeUint8(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1}writeFloat32(e,n){this._realloc(4),this._dataView.setFloat32(this.position,e,(n??this.endianness)===2),this.position+=4}writeFloat64(e,n){this._realloc(8),this._dataView.setFloat64(this.position,e,(n??this.endianness)===2),this.position+=8}writeUCS2String(e,n,r){r===void 0&&(r=e.length);let i;for(i=0;i<e.length&&i<r;i++)this.writeUint16(e.charCodeAt(i),n);for(;i<r;i++)this.writeUint16(0)}writeString(e,n,r){let i=0;if(n===void 0||n==="ASCII")if(r!==void 0){const a=Math.min(e.length,r);for(i=0;i<a;i++)this.writeUint8(e.charCodeAt(i));for(;i<r;i++)this.writeUint8(0)}else for(i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));else this.writeUint8Array(new TextEncoder(n).encode(e.substring(0,r)))}writeCString(e,n){let r=0;if(n!==void 0){const i=Math.min(e.length,n);for(r=0;r<i;r++)this.writeUint8(e.charCodeAt(r));for(;r<n;r++)this.writeUint8(0)}else{for(r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));this.writeUint8(0)}}writeStruct(e,n){for(let r=0;r<e.length;r++){const[i,a]=e[r],o=n[i];this.writeType(a,o,n)}}writeType(e,n,r){if(typeof e=="function")return e(this,n);if(typeof e=="object"&&!(e instanceof Array))return e.set(this,n,r);let i,a="ASCII";const o=this.position;let c=e;if(typeof e=="string"&&/:/.test(e)){const u=e.split(":");c=u[0],i=parseInt(u[1])}if(typeof c=="string"&&/,/.test(c)){const u=c.split(",");c=u[0],a=u[1]}switch(c){case"uint8":this.writeUint8(n);break;case"int8":this.writeInt8(n);break;case"uint16":this.writeUint16(n,this.endianness);break;case"int16":this.writeInt16(n,this.endianness);break;case"uint32":this.writeUint32(n,this.endianness);break;case"int32":this.writeInt32(n,this.endianness);break;case"float32":this.writeFloat32(n,this.endianness);break;case"float64":this.writeFloat64(n,this.endianness);break;case"uint16be":this.writeUint16(n,1);break;case"int16be":this.writeInt16(n,1);break;case"uint32be":this.writeUint32(n,1);break;case"int32be":this.writeInt32(n,1);break;case"float32be":this.writeFloat32(n,1);break;case"float64be":this.writeFloat64(n,1);break;case"uint16le":this.writeUint16(n,2);break;case"int16le":this.writeInt16(n,2);break;case"uint32le":this.writeUint32(n,2);break;case"int32le":this.writeInt32(n,2);break;case"float32le":this.writeFloat32(n,2);break;case"float64le":this.writeFloat64(n,2);break;case"cstring":this.writeCString(n,i);break;case"string":this.writeString(n,a,i);break;case"u16string":this.writeUCS2String(n,this.endianness,i);break;case"u16stringle":this.writeUCS2String(n,2,i);break;case"u16stringbe":this.writeUCS2String(n,1,i);break;default:if(QS(this,r1,wx).call(this,c)){const[,u]=c;for(let f=0;f<n.length;f++)this.writeType(u,n[f]);break}else{this.writeStruct(c,n);break}}i&&(this.position=o,this._realloc(i),this.position=o+i)}writeUint64(e){const n=Math.floor(e/yY);this.writeUint32(n),this.writeUint32(e&4294967295)}writeUint24(e){this.writeUint8((e&16711680)>>16),this.writeUint8((e&65280)>>8),this.writeUint8(e&255)}adjustUint32(e,n){const r=this.position;this.seek(e),this.writeUint32(n),this.seek(r)}readStruct(e){const n={},r=this.position;for(let i=0;i<e.length;i+=1){const a=e[i][1],o=this.readType(a,n);if(!o){this.failurePosition===0&&(this.failurePosition=this.position),this.position=r;return}n[e[i][0]]=o}return n}readUCS2String(e,n){return String.fromCharCode.apply(void 0,this.readUint16Array(e,n))}readType(e,n){if(typeof e=="function")return e(this,n);if(typeof e=="object"&&!(e instanceof Array))return e.get(this,n);if(e instanceof Array&&e.length!==3)return this.readStruct(e);let r,i,a="ASCII";const o=this.position;let c=e;if(typeof c=="string"&&/:/.test(c)){const u=c.split(":");c=u[0],i=parseInt(u[1])}if(typeof c=="string"&&/,/.test(c)){const u=c.split(",");c=u[0],a=u[1]}switch(c){case"uint8":r=this.readUint8();break;case"int8":r=this.readInt8();break;case"uint16":r=this.readUint16(this.endianness);break;case"int16":r=this.readInt16(this.endianness);break;case"uint32":r=this.readUint32(this.endianness);break;case"int32":r=this.readInt32(this.endianness);break;case"float32":r=this.readFloat32(this.endianness);break;case"float64":r=this.readFloat64(this.endianness);break;case"uint16be":r=this.readUint16(1);break;case"int16be":r=this.readInt16(1);break;case"uint32be":r=this.readUint32(1);break;case"int32be":r=this.readInt32(1);break;case"float32be":r=this.readFloat32(1);break;case"float64be":r=this.readFloat64(1);break;case"uint16le":r=this.readUint16(2);break;case"int16le":r=this.readInt16(2);break;case"uint32le":r=this.readUint32(2);break;case"int32le":r=this.readInt32(2);break;case"float32le":r=this.readFloat32(2);break;case"float64le":r=this.readFloat64(2);break;case"cstring":r=this.readCString(i);break;case"string":r=this.readString(i,a);break;case"u16string":r=this.readUCS2String(i,this.endianness);break;case"u16stringle":r=this.readUCS2String(i,2);break;case"u16stringbe":r=this.readUCS2String(i,1);break;default:if(QS(this,r1,wx).call(this,c)){const[,u,f]=c,p=typeof f=="function"?f(n,this,c):typeof f=="string"&&n[f]!==void 0?parseInt(n[f]):typeof f=="number"?f:f==="*"?void 0:parseInt(f);if(typeof u=="string"){const h=u.replace(/(le|be)$/,"");let m;switch(/le$/.test(u)?m=2:/be$/.test(u)&&(m=1),h){case"uint8":r=this.readUint8Array(p);break;case"uint16":r=this.readUint16Array(p,m);break;case"uint32":r=this.readUint32Array(p,m);break;case"int8":r=this.readInt8Array(p);break;case"int16":r=this.readInt16Array(p,m);break;case"int32":r=this.readInt32Array(p,m);break;case"float32":r=this.readFloat32Array(p,m);break;case"float64":r=this.readFloat64Array(p,m);break;case"cstring":case"utf16string":case"string":if(p){r=new Array(p);for(let y=0;y<p;y++)r[y]=this.readType(u,n)}else for(r=[];!this.isEof();){const y=this.readType(u,n);if(!y)break;r.push(y)}break}}else if(p){r=new Array(p);for(let h=0;h<p;h++){const m=this.readType(u,n);if(!m)return;r[h]=m}}else for(r=[];;){const h=this.position;try{const m=this.readType(u,n);if(!m){this.position=h;break}r.push(m)}catch{this.position=h;break}}break}}return i&&(this.position=o+i),r}mapInt32Array(e,n){this._realloc(e*4);const r=new Int32Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*4,r}mapInt16Array(e,n){this._realloc(e*2);const r=new Int16Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*2,r}mapInt8Array(e,n){this._realloc(e*1);const r=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,r}mapUint32Array(e,n){this._realloc(e*4);const r=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*4,r}mapUint16Array(e,n){this._realloc(e*2);const r=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*2,r}mapFloat64Array(e,n){this._realloc(e*8);const r=new Float64Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*8,r}mapFloat32Array(e,n){this._realloc(e*4);const r=new Float32Array(this._buffer,this.byteOffset+this.position,e);return An.arrayToNative(r,n??this.endianness),this.position+=e*4,r}},r1=new WeakSet,wx=function(e){return Array.isArray(e)&&e.length===3&&e[0]==="[]"},An.ENDIANNESS=new Int8Array(new Int16Array([1]).buffer)[0]>0?2:1,An);function IC(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n];return String.fromCharCode.apply(void 0,e)}var Ly=new Date,Yv=4,XC=3,RC=2,PC=1,ho=Yv,ot={setLogLevel(t){t===this.debug?ho=PC:t===this.info?ho=RC:t===this.warn?ho=XC:(this.error,ho=Yv)},debug(t,e){console.debug===void 0&&(console.debug=console.log),PC>=ho&&(""+ot.getDurationString(new Date().getTime()-Ly.getTime(),1e3),""+t)},log(t,e){this.debug(t.msg)},info(t,e){RC>=ho&&(""+ot.getDurationString(new Date().getTime()-Ly.getTime(),1e3),""+t)},warn(t,e){XC>=ho&&console.warn("["+ot.getDurationString(new Date().getTime()-Ly.getTime(),1e3)+"]","["+t+"]",e)},error(t,e,n){n?.onError?n.onError(t,e):Yv>=ho&&console.error("["+ot.getDurationString(new Date().getTime()-Ly.getTime(),1e3)+"]","["+t+"]",e)},getDurationString(t,e){let n;function r(f,p){const m=(""+f).split(".");for(;m[0].length<p;)m[0]="0"+m[0];return m.join(".")}t<0?(n=!0,t=-t):n=!1;let a=t/(e||1);const o=Math.floor(a/3600);a-=o*3600;const c=Math.floor(a/60);a-=c*60;let u=a*1e3;return a=Math.floor(a),u-=a*1e3,u=Math.floor(u),(n?"-":"")+o+":"+r(c,2)+":"+r(a,2)+"."+r(u,3)},printRanges(t){const e=t.length;if(e>0){let n="";for(let r=0;r<e;r++)r>0&&(n+=","),n+="["+ot.getDurationString(t.start(r))+","+ot.getDurationString(t.end(r))+"]";return n}else return"(empty)"}};function qQ(t,e){ot.debug("ArrayBuffer","Trying to create a new buffer of size: "+(t.byteLength+e.byteLength));const n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n.buffer}var xv=class extends ms{constructor(t){super(new ArrayBuffer,0),this.buffers=[],this.bufferIndex=-1,t&&(this.insertBuffer(t),this.bufferIndex=0)}initialized(){if(this.bufferIndex>-1)return!0;if(this.buffers.length>0){const t=this.buffers[0];return t.fileStart===0?(this.buffer=t,this.bufferIndex=0,ot.debug("MultiBufferStream","Stream ready for parsing"),!0):(ot.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)}else return ot.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1}reduceBuffer(t,e,n){const r=new Uint8Array(n);return r.set(new Uint8Array(t,e,n)),r.buffer.fileStart=t.fileStart+e,r.buffer.usedBytes=0,r.buffer}insertBuffer(t){let e=!0,n=0;for(;n<this.buffers.length;n++){const r=this.buffers[n];if(t.fileStart<=r.fileStart){if(t.fileStart===r.fileStart)if(t.byteLength>r.byteLength){this.buffers.splice(n,1),n--;continue}else ot.warn("MultiBufferStream","Buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+") already appended, ignoring");else t.fileStart+t.byteLength<=r.fileStart||(t=this.reduceBuffer(t,0,r.fileStart-t.fileStart)),ot.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.splice(n,0,t),n===0&&(this.buffer=t);e=!1;break}else if(t.fileStart<r.fileStart+r.byteLength){const i=r.fileStart+r.byteLength-t.fileStart,a=t.byteLength-i;if(a>0)t=this.reduceBuffer(t,i,a);else{e=!1;break}}}e&&(ot.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.push(t),n===0&&(this.buffer=t))}logBufferLevel(t){const e=[];let n="",r,i=0,a=0;for(let c=0;c<this.buffers.length;c++){const u=this.buffers[c];c===0?(r={start:u.fileStart,end:u.fileStart+u.byteLength},e.push(r),n+="["+r.start+"-"):r.end===u.fileStart?r.end=u.fileStart+u.byteLength:(r={start:u.fileStart,end:u.fileStart+u.byteLength},n+=e[e.length-1].end-1+"], ["+r.start+"-",e.push(r)),i+=u.usedBytes,a+=u.byteLength}e.length>0&&(n+=r.end-1+"]");const o=t?ot.info:ot.debug;this.buffers.length===0?o("MultiBufferStream","No more buffer in memory"):o("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+i+"/"+a+" bytes), continuous ranges: "+n)}cleanBuffers(){for(let t=0;t<this.buffers.length;t++){const e=this.buffers[t];e.usedBytes===e.byteLength&&(ot.debug("MultiBufferStream","Removing buffer #"+t),this.buffers.splice(t,1),t--)}}mergeNextBuffer(){if(this.bufferIndex+1<this.buffers.length){const t=this.buffers[this.bufferIndex+1];if(t.fileStart===this.buffer.fileStart+this.buffer.byteLength){const e=this.buffer.byteLength,n=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=qQ(this.buffer,t),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=n,this.buffer.fileStart=r,ot.debug("ISOFile","Concatenating buffer for box parsing (length: "+e+"->"+this.buffer.byteLength+")"),!0}else return!1}else return!1}findPosition(t,e,n){let r=-1,i=t===!0?0:this.bufferIndex;for(;i<this.buffers.length;){const o=this.buffers[i];if(o&&o.fileStart<=e)r=i,n&&(o.fileStart+o.byteLength<=e?o.usedBytes=o.byteLength:o.usedBytes=e-o.fileStart,this.logBufferLevel());else break;i++}if(r===-1)return-1;const a=this.buffers[r];return a.fileStart+a.byteLength>=e?(ot.debug("MultiBufferStream","Found position in existing buffer #"+r),r):-1}findEndContiguousBuf(t){const e=t!==void 0?t:this.bufferIndex;let n=this.buffers[e];if(this.buffers.length>e+1)for(let r=e+1;r<this.buffers.length;r++){const i=this.buffers[r];if(i.fileStart===n.fileStart+n.byteLength)n=i;else break}return n.fileStart+n.byteLength}getEndFilePositionAfter(t){const e=this.findPosition(!0,t,!1);return e!==-1?this.findEndContiguousBuf(e):t}addUsedBytes(t){this.buffer.usedBytes+=t,this.logBufferLevel()}setAllUsedBytes(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()}seek(t,e,n){const r=this.findPosition(e,t,n);return r!==-1?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=t-this.buffer.fileStart,ot.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(ot.debug("MultiBufferStream","Position "+t+" not found in buffered data"),!1)}getPosition(){return this.bufferIndex===-1||this.buffers[this.bufferIndex]===void 0?0:this.buffers[this.bufferIndex].fileStart+this.position}getLength(){return this.byteLength}getEndPosition(){return this.bufferIndex===-1||this.buffers[this.bufferIndex]===void 0?0:this.buffers[this.bufferIndex].fileStart+this.byteLength}getAbsoluteEndPosition(){if(this.buffers.length===0)return 0;const t=this.buffers[this.buffers.length-1];return t.fileStart+t.byteLength}},i1,Ou,Ot=(Ou=class{constructor(e=0){qS(this,i1);this.size=e}get type(){return this.constructor.fourcc??x4(this,i1)}set type(e){T4(this,i1,e)}addBox(e){return this.boxes||(this.boxes=[]),this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e}set(e,n){return this[e]=n,this}addEntry(e,n){const r=n||"entries";return this[r]||(this[r]=[]),this[r].push(e),this}writeHeader(e,n){if(this.size+=8,(this.size>ci||this.original_size===1)&&(this.size+=8),this.type==="uuid"&&(this.size+=16),ot.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(n||"")),this.original_size===0?e.writeUint32(0):this.size>ci||this.original_size===1?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,void 0,4),this.type==="uuid"){const r=new Uint8Array(16);for(let i=0;i<16;i++)r[i]=parseInt(this.uuid.substring(i*2,i*2+2),16);e.writeUint8Array(r)}(this.size>ci||this.original_size===1)&&(this.sizePosition=e.getPosition(),e.writeUint64(this.size))}write(e){if(this.type==="mdat"){const n=this;if(n.stream){this.size=n.stream.getAbsoluteEndPosition(),this.writeHeader(e);for(const r of n.stream.buffers){const i=new Uint8Array(r);e.writeUint8Array(i)}}else n.data&&(this.size=n.data.length,this.writeHeader(e),e.writeUint8Array(n.data))}else this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data)}printHeader(e){this.size+=8,this.size>ci&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)}print(e){this.printHeader(e)}parse(e){this.type!=="mdat"?this.data=e.readUint8Array(this.size-this.hdr_size):this.size===0?e.seek(e.getEndPosition()):e.seek(this.start+this.size)}parseDataAndRewind(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.seek(this.start+this.hdr_size)}parseLanguage(e){this.language=e.readUint16();const n=[];n[0]=this.language>>10&31,n[1]=this.language>>5&31,n[2]=this.language&31,this.languageString=String.fromCharCode(n[0]+96,n[1]+96,n[2]+96)}computeSize(e){const n=e||new xv;this.write(n)}isEndOfBox(e){const n=e.getPosition(),r=this.start+this.size;return n===r}},i1=new WeakMap,Ou.registryId=Symbol.for("BoxIdentifier"),Ou),dt=class extends Ot{constructor(){super(...arguments),this.flags=0,this.version=0}writeHeader(t){this.size+=4,super.writeHeader(t," v="+this.version+" f="+this.flags),t.writeUint8(this.version),t.writeUint24(this.flags)}printHeader(t){this.size+=4,super.printHeader(t),t.log(t.indent+"version:"+this.version),t.log(t.indent+"flags:"+this.flags)}parseDataAndRewind(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,t.seek(this.start+this.hdr_size)}parseFullHeader(t){this.version=t.readUint8(),this.flags=t.readUint24(),this.hdr_size+=4}parse(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)}},Nu,ri=(Nu=class{constructor(e){this.grouping_type=e}write(e){e.writeUint8Array(this.data)}parse(e){ot.warn("BoxParser",`Unknown sample group type: '${this.grouping_type}'`),this.data=e.readUint8Array(this.description_length)}},Nu.registryId=Symbol.for("SampleGroupEntryIdentifier"),Nu),QQ=class extends dt{parse(t){this.parseFullHeader(t),this.track_group_id=t.readUint32()}},JQ=class extends Ot{constructor(t,e,n,r,i){super(e),this.box_name=n,this.hdr_size=r,this.start=i,this.type=t}parse(t){this.from_item_ID=t.readUint16();const e=t.readUint16();this.references=[];for(let n=0;n<e;n++)this.references[n]={to_item_ID:t.readUint16()}}},eJ=class extends Ot{constructor(t,e,n,r,i){super(e),this.box_name=n,this.hdr_size=r,this.start=i,this.type=t}parse(t){this.from_item_ID=t.readUint32();const e=t.readUint16();this.references=[];for(let n=0;n<e;n++)this.references[n]={to_item_ID:t.readUint32()}}},tJ=class extends Ot{constructor(t,e,n,r){super(e),this.hdr_size=n,this.start=r,this.type=t}parse(t){this.track_ids=t.readUint32Array((this.size-this.hdr_size)/4)}write(t){this.size=this.track_ids.length*4,this.writeHeader(t),t.writeUint32Array(this.track_ids)}},Wx=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],nJ=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"];function rJ(t,e){if(t&&!e)return!1;let n;for(n in t)if(!Wx.find(r=>r===n)){if(t[n]instanceof Ot||e[n]instanceof Ot)continue;if(typeof t[n]>"u"||typeof e[n]>"u")continue;if(typeof t[n]=="function"||typeof e[n]=="function")continue;if("subBoxNames"in t&&t.subBoxNames.indexOf(n.slice(0,4))>-1||"subBoxNames"in e&&e.subBoxNames.indexOf(n.slice(0,4))>-1)continue;if(n==="data"||n==="start"||n==="size"||n==="creation_time"||n==="modification_time")continue;if(nJ.find(r=>r===n))continue;if(t[n]!==e[n])return!1}return!0}function zI(t,e){if(!rJ(t,e))return!1;for(let n=0;n<Wx.length;n++){const r=Wx[n];if(t[r]&&e[r]&&!zI(t[r],e[r]))return!1}return!0}function jT(t){let e=t;for(;e;){if("registryId"in e)return e.registryId;e=Object.getPrototypeOf(e)}}var iJ=t=>{const e=Symbol.for("SampleGroupEntryIdentifier");return jT(t)===e},sJ=t=>{const e=Symbol.for("SampleEntryIdentifier");return jT(t)===e},aJ=t=>{const e=Symbol.for("BoxIdentifier");return jT(t)===e},es={uuid:{},sampleEntry:{},sampleGroupEntry:{},box:{}};function oJ(t){const e={uuid:{},sampleEntry:{},sampleGroupEntry:{},box:{}};for(const[n,r]of Object.entries(t)){if(iJ(r)){const i="grouping_type"in r?r.grouping_type:void 0;if(!i)throw new Error(`SampleGroupEntry class ${n} does not have a valid static grouping_type. Please ensure it is defined correctly.`);if(i in e.sampleGroupEntry)throw new Error(`SampleGroupEntry class ${n} has a grouping_type that is already registered. Please ensure it is unique.`);e.sampleGroupEntry[i]=r;continue}if(sJ(r)){const i="fourcc"in r?r.fourcc:void 0;if(!i)throw new Error(`SampleEntry class ${n} does not have a valid static fourcc. Please ensure it is defined correctly.`);if(i in e.sampleEntry)throw new Error(`SampleEntry class ${n} has a fourcc that is already registered. Please ensure it is unique.`);e.sampleEntry[i]=r;continue}if(aJ(r)){const i="fourcc"in r?r.fourcc:void 0,a="uuid"in r?r.uuid:void 0;if(i==="uuid"){if(!a)throw new Error(`Box class ${n} has a fourcc of 'uuid' but does not have a valid uuid. Please ensure it is defined correctly.`);if(a in e.uuid)throw new Error(`Box class ${n} has a uuid that is already registered. Please ensure it is unique.`);e.uuid[a]=r;continue}e.box[i]=r;continue}throw new Error(`Box class ${n} does not have a valid static fourcc, uuid, or grouping_type. Please ensure it is defined correctly.`)}return es.uuid={...e.uuid},es.sampleEntry={...e.sampleEntry},es.sampleGroupEntry={...e.sampleGroupEntry},es.box={...e.box},es}var a_={};function lJ(t){return Object.entries(t).forEach(([e,n])=>a_[e]=n),a_}function cJ(t){return wc(t)}function wc(t){let e="";for(let n=0;n<16;n++){const r=t.readUint8().toString(16);e+=r.length===1?"0"+r:r}return e}function Da(t,e,n){let r,i;const a=t.getPosition();let o=0,c;if(t.getEndPosition()-a<8)return ot.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:sl};if(n&&n<8)return ot.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:sl};let u=t.readUint32();const f=t.readString(4);if(f.length!==4||!/^[\x20-\x7E]{4}$/.test(f))return ot.error("BoxParser",`Invalid box type: '${f}'`),{code:LI,start:a,type:f};let p=f;if(ot.debug("BoxParser","Found box of type '"+f+"' and size "+u+" at position "+a),o=8,f==="uuid"){if(t.getEndPosition()-t.getPosition()<16||n-o<16)return t.seek(a),ot.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:sl};c=cJ(t),o+=16,p=c}if(u===1){if(t.getEndPosition()-t.getPosition()<8||n&&n-o<8)return t.seek(a),ot.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+f+'" box'),{code:sl};i=u,u=t.readUint64(),o+=8}else if(u===0){if(n)u=n;else if(f!=="mdat")return ot.error("BoxParser","Unlimited box size not supported for type: '"+f+"'"),r=new Ot(u),r.type=f,{code:Ys,box:r,size:r.size}}if(u!==0&&u<o)return ot.error("BoxParser","Box of type "+f+" has an invalid size "+u+" (too small to be a box)"),{code:sl,type:f,size:u,hdr_size:o,start:a};if(u!==0&&n&&u>n)return ot.error("BoxParser","Box of type '"+f+"' has a size "+u+" greater than its container size "+n),{code:sl,type:f,size:u,hdr_size:o,start:a};if(u!==0&&a+u>t.getEndPosition())return t.seek(a),ot.info("BoxParser","Not enough data in stream to parse the entire '"+f+"' box"),{code:sl,type:f,size:u,hdr_size:o,start:a,original_size:i};if(e)return{code:Ys,type:f,size:u,hdr_size:o,start:a};f in es.box?r=new es.box[f](u):f!=="uuid"?(ot.warn("BoxParser",`Unknown box type: '${f}'`),r=new Ot(u),r.type=f,r.has_unparsed_data=!0):c in es.uuid?r=new es.uuid[c](u):(ot.warn("BoxParser",`Unknown UUID box type: '${c}'`),r=new Ot(u),r.type=f,r.uuid=c,r.has_unparsed_data=!0),r.original_size=i,r.hdr_size=o,r.start=a,r.write===Ot.prototype.write&&r.type!=="mdat"&&(ot.info("BoxParser","'"+p+"' box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(t)),r.parse(t);const h=t.getPosition()-(r.start+r.size);return h<0?(ot.warn("BoxParser","Parsing of box '"+p+"' did not read the entire indicated box data size (missing "+-h+" bytes), seeking forward"),t.seek(r.start+r.size)):h>0&&r.size!==0&&(ot.error("BoxParser","Parsing of box '"+p+"' read "+h+" more bytes than the indicated box data size, seeking backwards"),t.seek(r.start+r.size)),{code:Ys,box:r,size:r.size}}var Gn=class extends Ot{write(t){if(this.size=0,this.writeHeader(t),this.boxes)for(let e=0;e<this.boxes.length;e++)this.boxes[e]&&(this.boxes[e].write(t),this.size+=this.boxes[e].size);ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)}print(t){this.printHeader(t);for(let e=0;e<this.boxes.length;e++)if(this.boxes[e]){const n=t.indent;t.indent+=" ",this.boxes[e].print(t),t.indent=n}}parse(t){let e;for(;t.getPosition()<this.start+this.size;)if(e=Da(t,!1,this.size-(t.getPosition()-this.start)),e.code===Ys){const n=e.box;if(this.boxes||(this.boxes=[]),this.boxes.push(n),this.subBoxNames&&this.subBoxNames.indexOf(n.type)!==-1){const r=this.subBoxNames[this.subBoxNames.indexOf(n.type)]+"s";this[r]||(this[r]=[]),this[r].push(n)}else{const r=n.type!=="uuid"?n.type:n.uuid;this[r]?ot.warn("ContainerBox",`Box of type ${r} already exists in container box ${this.type}.`):this[r]=n}}else return}},Du,bo=(Du=class extends Gn{constructor(e,n,r){super(e),this.hdr_size=n,this.start=r}isVideo(){return!1}isAudio(){return!1}isSubtitle(){return!1}isMetadata(){return!1}isHint(){return!1}getCodec(){return this.type.replace(".","")}getWidth(){return""}getHeight(){return""}getChannelCount(){return""}getSampleRate(){return""}getSampleSize(){return""}parseHeader(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8}parse(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)}parseDataAndRewind(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.seek(this.start+this.hdr_size)}parseFooter(e){super.parse(e)}writeHeader(e){this.size=8,super.writeHeader(e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)}writeFooter(e){if(this.boxes)for(let n=0;n<this.boxes.length;n++)this.boxes[n].write(e),this.size+=this.boxes[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}write(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},Du.registryId=Symbol.for("SampleEntryIdentifier"),Du),MC=class extends bo{},r0=class extends bo{isMetadata(){return!0}},Wc=class extends bo{isSubtitle(){return!0}},uJ=class extends bo{},Ar=class extends bo{parse(t){this.parseHeader(t),t.readUint16(),t.readUint16(),t.readUint32Array(3),this.width=t.readUint16(),this.height=t.readUint16(),this.horizresolution=t.readUint32(),this.vertresolution=t.readUint32(),t.readUint32(),this.frame_count=t.readUint16();const e=Math.min(31,t.readUint8());this.compressorname=t.readString(e),e<31&&t.readString(31-e),this.depth=t.readUint16(),t.readUint16(),this.parseFooter(t)}isVideo(){return!0}getWidth(){return this.width}getHeight(){return this.height}write(t){this.writeHeader(t),this.size+=70,t.writeUint16(0),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.width),t.writeUint16(this.height),t.writeUint32(this.horizresolution),t.writeUint32(this.vertresolution),t.writeUint32(0),t.writeUint16(this.frame_count),t.writeUint8(Math.min(31,this.compressorname.length)),t.writeString(this.compressorname,void 0,31),t.writeUint16(this.depth),t.writeInt16(-1),this.writeFooter(t)}},ns=class extends bo{parse(t){this.parseHeader(t),this.version=t.readUint16(),t.readUint16(),t.readUint32(),this.channel_count=t.readUint16(),this.samplesize=t.readUint16(),t.readUint16(),t.readUint16(),this.samplerate=t.readUint32()/65536,t.isofile?.ftyp?.major_brand.includes("qt")&&(this.version===1?this.extensions=t.readUint8Array(16):this.version===2&&(this.extensions=t.readUint8Array(36))),this.parseFooter(t)}isAudio(){return!0}getChannelCount(){return this.channel_count}getSampleRate(){return this.samplerate}getSampleSize(){return this.samplesize}write(t){this.writeHeader(t),this.size+=20,t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.channel_count),t.writeUint16(this.samplesize),t.writeUint16(0),t.writeUint16(0),t.writeUint32(this.samplerate<<16),this.writeFooter(t)}},HT=class extends bo{parse(t){this.parseHeader(t),this.parseFooter(t)}write(t){this.writeHeader(t),this.writeFooter(t)}},OC=class extends Array{toString(){let t="<table class='inner-table'>";t+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead>",t+="<tbody>";for(let e=0;e<this.length;e++){const n=this[e];t+="<tr>",t+="<td>"+n.length+"</td>",t+="<td>",t+=n.data.reduce(function(r,i){return r+i.toString(16).padStart(2,"0")},"0x"),t+="</td></tr>"}return t+="</tbody></table>",t}},Bu,$I=(Bu=class extends Ot{constructor(){super(...arguments),this.box_name="AVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=e.readUint8()&3,this.nb_SPS_nalus=e.readUint8()&31;let n=this.size-this.hdr_size-6;this.SPS=new OC;for(let r=0;r<this.nb_SPS_nalus;r++){const i=e.readUint16();this.SPS.push({length:i,data:e.readUint8Array(i)}),n-=2+i}this.nb_PPS_nalus=e.readUint8(),n--,this.PPS=new OC;for(let r=0;r<this.nb_PPS_nalus;r++){const i=e.readUint16();this.PPS.push({length:i,data:e.readUint8Array(i)}),n-=2+i}n>0&&(this.ext=e.readUint8Array(n))}write(e){this.size=7;for(let n=0;n<this.SPS.length;n++)this.size+=2+this.SPS[n].length;for(let n=0;n<this.PPS.length;n++)this.size+=2+this.PPS[n].length;this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224);for(let n=0;n<this.SPS.length;n++)e.writeUint16(this.SPS[n].length),e.writeUint8Array(this.SPS[n].data);e.writeUint8(this.PPS.length);for(let n=0;n<this.PPS.length;n++)e.writeUint16(this.PPS[n].length),e.writeUint8Array(this.PPS[n].data);this.ext&&e.writeUint8Array(this.ext)}},Bu.fourcc="avcC",Bu),Vu,Tv=(Vu=class extends Ot{constructor(){super(...arguments),this.box_name="MediaDataBox"}},Vu.fourcc="mdat",Vu),Fu,fJ=(Fu=class extends Ot{constructor(){super(...arguments),this.box_name="ItemDataBox"}},Fu.fourcc="idat",Fu),Lu,dJ=(Lu=class extends Ot{constructor(){super(...arguments),this.box_name="FreeSpaceBox"}},Lu.fourcc="free",Lu),Zu,hJ=(Zu=class extends Ot{constructor(){super(...arguments),this.box_name="FreeSpaceBox"}},Zu.fourcc="skip",Zu),zu,KI=(zu=class extends dt{constructor(){super(...arguments),this.box_name="HintMediaHeaderBox"}},zu.fourcc="hmhd",zu),$u,wv=($u=class extends dt{constructor(){super(...arguments),this.box_name="NullMediaHeaderBox"}},$u.fourcc="nmhd",$u),Ku,pJ=(Ku=class extends dt{constructor(){super(...arguments),this.box_name="ObjectDescriptorBox"}},Ku.fourcc="iods",Ku),ju,mJ=(ju=class extends dt{constructor(){super(...arguments),this.box_name="XMLBox"}},ju.fourcc="xml ",ju),Hu,gJ=(Hu=class extends dt{constructor(){super(...arguments),this.box_name="BinaryXMLBox"}},Hu.fourcc="bxml",Hu),Gu,yJ=(Gu=class extends dt{constructor(){super(...arguments),this.box_name="ItemProtectionBox",this.sinfs=[]}get protections(){return this.sinfs}},Gu.fourcc="ipro",Gu),qu,Ex=(qu=class extends Gn{constructor(){super(...arguments),this.box_name="MovieBox",this.traks=[],this.psshs=[],this.subBoxNames=["trak","pssh"]}},qu.fourcc="moov",qu),Qu,jI=(Qu=class extends Gn{constructor(){super(...arguments),this.box_name="TrackBox",this.samples=[]}},Qu.fourcc="trak",Qu),Ju,vJ=(Ju=class extends Gn{constructor(){super(...arguments),this.box_name="EditBox"}},Ju.fourcc="edts",Ju),ef,HI=(ef=class extends Gn{constructor(){super(...arguments),this.box_name="MediaBox"}},ef.fourcc="mdia",ef),tf,GI=(tf=class extends Gn{constructor(){super(...arguments),this.box_name="MediaInformationBox"}},tf.fourcc="minf",tf),nf,qI=(nf=class extends Gn{constructor(){super(...arguments),this.box_name="DataInformationBox"}},nf.fourcc="dinf",nf),rf,QI=(rf=class extends Gn{constructor(){super(...arguments),this.box_name="SampleTableBox",this.sgpds=[],this.sbgps=[],this.subBoxNames=["sgpd","sbgp"]}},rf.fourcc="stbl",rf),sf,Ux=(sf=class extends Gn{constructor(){super(...arguments),this.box_name="MovieExtendsBox",this.trexs=[],this.subBoxNames=["trex"]}},sf.fourcc="mvex",sf),af,JI=(af=class extends Gn{constructor(){super(...arguments),this.box_name="MovieFragmentBox",this.trafs=[],this.subBoxNames=["traf"]}},af.fourcc="moof",af),of,eX=(of=class extends Gn{constructor(){super(...arguments),this.box_name="TrackFragmentBox",this.truns=[],this.sgpds=[],this.sbgps=[],this.subBoxNames=["trun","sgpd","sbgp"]}},of.fourcc="traf",of),lf,_J=(lf=class extends Gn{constructor(){super(...arguments),this.box_name="VTTCueBox"}},lf.fourcc="vttc",lf),cf,SJ=(cf=class extends Gn{constructor(){super(...arguments),this.box_name="MovieFragmentRandomAccessBox",this.tfras=[],this.subBoxNames=["tfra"]}},cf.fourcc="mfra",cf),uf,bJ=(uf=class extends Gn{constructor(){super(...arguments),this.box_name="AdditionalMetadataContainerBox"}},uf.fourcc="meco",uf),ff,YJ=(ff=class extends Gn{constructor(){super(...arguments),this.box_name="trackhintinformation",this.subBoxNames=["sdp ","rtp "]}},ff.fourcc="hnti",ff),df,xJ=(df=class extends Gn{constructor(){super(...arguments),this.box_name="hintstatisticsbox",this.maxrs=[],this.subBoxNames=["maxr"]}},df.fourcc="hinf",df),hf,TJ=(hf=class extends Gn{constructor(){super(...arguments),this.box_name="SubTrackBox"}},hf.fourcc="strk",hf),pf,wJ=(pf=class extends Gn{constructor(){super(...arguments),this.box_name="SubTrackDefinitionBox"}},pf.fourcc="strd",pf),mf,WJ=(mf=class extends Gn{constructor(){super(...arguments),this.box_name="ProtectionSchemeInfoBox"}},mf.fourcc="sinf",mf),gf,EJ=(gf=class extends Gn{constructor(){super(...arguments),this.box_name="RestrictedSchemeInfoBox"}},gf.fourcc="rinf",gf),yf,UJ=(yf=class extends Gn{constructor(){super(...arguments),this.box_name="SchemeInformationBox"}},yf.fourcc="schi",yf),vf,CJ=(vf=class extends Gn{constructor(){super(...arguments),this.box_name="TrackGroupBox"}},vf.fourcc="trgr",vf),_f,AJ=(_f=class extends Gn{constructor(){super(...arguments),this.box_name="UserDataBox",this.kinds=[],this.strks=[],this.subBoxNames=["kind","strk"]}},_f.fourcc="udta",_f),Sf,kJ=(Sf=class extends Gn{constructor(){super(...arguments),this.box_name="ItemPropertiesBox",this.ipmas=[],this.subBoxNames=["ipma"]}},Sf.fourcc="iprp",Sf),bf,IJ=(bf=class extends Gn{constructor(){super(...arguments),this.box_name="ItemPropertyContainerBox",this.hvcCs=[],this.ispes=[],this.claps=[],this.irots=[],this.subBoxNames=["hvcC","ispe","clap","irot"]}},bf.fourcc="ipco",bf),Yf,XJ=(Yf=class extends Gn{constructor(){super(...arguments),this.box_name="GroupsListBox"}},Yf.fourcc="grpl",Yf),xf,RJ=(xf=class extends Gn{constructor(){super(...arguments),this.box_name="J2KHeaderInfoBox"}},xf.fourcc="j2kH",xf),Tf,PJ=(Tf=class extends Gn{constructor(){super(...arguments),this.box_name="ExtendedTypeBox",this.tycos=[],this.subBoxNames=["tyco"]}},Tf.fourcc="etyp",Tf),wf,MJ=(wf=class extends Gn{constructor(){super(...arguments),this.box_name="ProjectedOmniVideoBox",this.subBoxNames=["prfr"]}},wf.fourcc="povd",wf),Wf,tX=(Wf=class extends dt{constructor(){super(...arguments),this.box_name="DataReferenceBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){const i=Da(e,!1,this.size-(e.getPosition()-this.start));if(i.code===Ys){const a=i.box;this.entries.push(a)}else return}}write(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},Wf.fourcc="dref",Wf),Ef,nX=(Ef=class extends dt{constructor(){super(...arguments),this.box_name="ExtendedLanguageBox"}parse(e){this.parseFullHeader(e),this.extended_language=e.readString(this.size-this.hdr_size)}write(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)}},Ef.fourcc="elng",Ef),Uf,rX=(Uf=class extends Ot{constructor(){super(...arguments),this.box_name="FileTypeBox"}parse(e){let n=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),n-=8,this.compatible_brands=[];let r=0;for(;n>=4;)this.compatible_brands[r]=e.readString(4),n-=4,r++}write(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,void 0,4),e.writeUint32(this.minor_version);for(let n=0;n<this.compatible_brands.length;n++)e.writeString(this.compatible_brands[n],void 0,4)}},Uf.fourcc="ftyp",Uf),Cf,iX=(Cf=class extends dt{constructor(){super(...arguments),this.box_name="HandlerBox"}parse(e){if(this.parseFullHeader(e),this.version===0&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),!this.isEndOfBox(e))){const n=this.start+this.size-e.getPosition();this.name=e.readCString();const r=this.start+this.size-1;e.seek(r),e.readUint8()!==0&&n>1&&(ot.info("BoxParser","Warning: hdlr name is not null-terminated, possibly length-prefixed string. Trimming first byte."),this.name=this.name.slice(1))}}write(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,void 0,4),e.writeUint32Array([0,0,0]),e.writeCString(this.name)}},Cf.fourcc="hdlr",Cf),Af,sX=(Af=class extends Ot{constructor(){super(...arguments),this.box_name="HEVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8();let n=e.readUint8();this.general_profile_space=n>>6,this.general_tier_flag=(n&32)>>5,this.general_profile_idc=n&31,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3,this.chroma_format_idc=e.readUint8()&3,this.bit_depth_luma_minus8=e.readUint8()&7,this.bit_depth_chroma_minus8=e.readUint8()&7,this.avgFrameRate=e.readUint16(),n=e.readUint8(),this.constantFrameRate=n>>6,this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];const r=e.readUint8();for(let i=0;i<r;i++){const a=[];this.nalu_arrays.push(a),n=e.readUint8(),a.completeness=(n&128)>>7,a.nalu_type=n&63;const o=e.readUint16();for(let c=0;c<o;c++){const u=e.readUint16();a.push({data:e.readUint8Array(u)})}}}write(e){this.size=23;for(let n=0;n<this.nalu_arrays.length;n++){this.size+=3;for(let r=0;r<this.nalu_arrays[n].length;r++)this.size+=2+this.nalu_arrays[n][r].data.length}this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),e.writeUint32(this.general_profile_compatibility),e.writeUint8Array(this.general_constraint_indicator),e.writeUint8(this.general_level_idc),e.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),e.writeUint8(this.parallelismType+252),e.writeUint8(this.chroma_format_idc+252),e.writeUint8(this.bit_depth_luma_minus8+248),e.writeUint8(this.bit_depth_chroma_minus8+248),e.writeUint16(this.avgFrameRate),e.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),e.writeUint8(this.nalu_arrays.length);for(let n=0;n<this.nalu_arrays.length;n++){e.writeUint8((this.nalu_arrays[n].completeness<<7)+this.nalu_arrays[n].nalu_type),e.writeUint16(this.nalu_arrays[n].length);for(let r=0;r<this.nalu_arrays[n].length;r++)e.writeUint16(this.nalu_arrays[n][r].data.length),e.writeUint8Array(this.nalu_arrays[n][r].data)}}},Af.fourcc="hvcC",Af),kf,aX=(kf=class extends dt{constructor(){super(...arguments),this.box_name="MediaHeaderBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=20,this.size+=n?12:0,this.flags=0,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.timescale),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration)),e.writeUint16(this.language),e.writeUint16(0)}},kf.fourcc="mdhd",kf),If,oX=(If=class extends dt{constructor(){super(...arguments),this.box_name="MovieExtendsHeaderBox"}parse(e){this.parseFullHeader(e),this.flags&1&&(ot.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version===1?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}write(e){const n=this.fragment_duration>ci||this.version===1;this.version=n?1:0,this.size=4,this.size+=n?4:0,this.flags=0,this.writeHeader(e),n?e.writeUint64(this.fragment_duration):e.writeUint32(this.fragment_duration)}},If.fourcc="mehd",If),Xf,OJ=(Xf=class extends dt{constructor(){super(...arguments),this.box_name="ItemInfoEntry"}parse(e){if(this.parseFullHeader(e),(this.version===0||this.version===1)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.isEndOfBox(e)||(this.content_encoding=e.readCString())),this.version===1){this.extension_type=e.readString(4),ot.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=e.readUint16():this.version===3&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),this.item_type==="mime"?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):this.item_type==="uri "&&(this.item_uri_type=e.readCString()))}},Xf.fourcc="infe",Xf),Rf,NJ=(Rf=class extends dt{constructor(){super(...arguments),this.box_name="ItemInfoBox"}parse(e){this.parseFullHeader(e),this.version===0?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(let n=0;n<this.entry_count;n++){const r=Da(e,!1,this.size-(e.getPosition()-this.start));if(r.code===Ys){const i=r.box;i.type==="infe"?this.item_infos[n]=i:ot.error("BoxParser","Expected 'infe' box, got "+r.box.type,e.isofile)}else return}}},Rf.fourcc="iinf",Rf),Pf,DJ=(Pf=class extends dt{constructor(){super(...arguments),this.box_name="ItemLocationBox"}parse(e){this.parseFullHeader(e);let n;n=e.readUint8(),this.offset_size=n>>4&15,this.length_size=n&15,n=e.readUint8(),this.base_offset_size=n>>4&15,this.version===1||this.version===2?this.index_size=n&15:this.index_size=0,this.items=[];let r=0;if(this.version<2)r=e.readUint16();else if(this.version===2)r=e.readUint32();else throw new Error("version of iloc box not supported");for(let i=0;i<r;i++){let a=0,o=0,c=0;if(this.version<2)a=e.readUint16();else if(this.version===2)a=e.readUint32();else throw new Error("version of iloc box not supported");this.version===1||this.version===2?o=e.readUint16()&15:o=0;const u=e.readUint16();switch(this.base_offset_size){case 0:c=0;break;case 4:c=e.readUint32();break;case 8:c=e.readUint64();break;default:throw new Error("Error reading base offset size")}const f=[],p=e.readUint16();for(let h=0;h<p;h++){let m=0,y=0,_=0;if(this.version===1||this.version===2)switch(this.index_size){case 0:m=0;break;case 4:m=e.readUint32();break;case 8:m=e.readUint64();break;default:throw new Error("Error reading extent index")}switch(this.offset_size){case 0:y=0;break;case 4:y=e.readUint32();break;case 8:y=e.readUint64();break;default:throw new Error("Error reading extent index")}switch(this.length_size){case 0:_=0;break;case 4:_=e.readUint32();break;case 8:_=e.readUint64();break;default:throw new Error("Error reading extent index")}f.push({extent_index:m,extent_length:_,extent_offset:y})}this.items.push({base_offset:c,construction_method:o,item_ID:a,data_reference_index:u,extents:f})}}},Pf.fourcc="iloc",Pf),BJ={auxl:"Auxiliary image item",base:"Pre-derived image item base",cdsc:"Item describes referenced item",dimg:"Derived image item",dpnd:"Item coding dependency",eroi:"Region",evir:"EVC slice",exbl:"Scalable image item","fdl ":"File delivery",font:"Font item",iloc:"Item data location",mask:"Region mask",mint:"Data integrity",pred:"Predictively coded item",prem:"Pre-multiplied item",tbas:"HEVC tile track base item",text:"Text item",thmb:"Thumbnail image item"},bl,VJ=(bl=class extends dt{constructor(){super(...arguments),this.box_name="ItemReferenceBox",this.references=[]}parse(e){for(this.parseFullHeader(e),this.references=[];e.getPosition()<this.start+this.size;){const n=Da(e,!0,this.size-(e.getPosition()-this.start));if(n.code===Ys){let r="Unknown item reference";bl.allowed_types.includes(n.type)?r=BJ[n.type]:ot.warn("BoxParser",`Unknown item reference type: '${n.type}'`);const i=this.version===0?new JQ(n.type,n.size,r,n.hdr_size,n.start):new eJ(n.type,n.size,r,n.hdr_size,n.start);i.write===Ot.prototype.write&&i.type!=="mdat"&&(ot.warn("BoxParser",i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),this.references.push(i)}else return}}},bl.fourcc="iref",bl.allowed_types=["auxl","base","cdsc","dimg","dpnd","eroi","evir","exbl","fdl ","font","iloc","mask","mint","pred","prem","tbas","text","thmb"],bl),Mf,FJ=(Mf=class extends dt{constructor(){super(...arguments),this.box_name="PrimaryItemBox"}parse(e){this.parseFullHeader(e),this.version===0?this.item_id=e.readUint16():this.item_id=e.readUint32()}},Mf.fourcc="pitm",Mf),Of,LJ=(Of=class extends dt{constructor(){super(...arguments),this.box_name="MetaBox",this.isQT=!1}parse(e){const n=e.getPosition();if(this.size>8){switch(e.readUint32(),e.readString(4)){case"hdlr":case"mhdr":case"keys":case"ilst":case"ctry":case"lang":this.isQT=!0;break}e.seek(n)}this.isQT||this.parseFullHeader(e),Gn.prototype.parse.call(this,e)}},Of.fourcc="meta",Of),Nf,lX=(Nf=class extends dt{constructor(){super(...arguments),this.box_name="MovieFragmentHeaderBox"}parse(e){this.parseFullHeader(e),this.sequence_number=e.readUint32()}write(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)}},Nf.fourcc="mfhd",Nf),Df,cX=(Df=class extends dt{constructor(){super(...arguments),this.box_name="MovieHeaderBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readInt32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=96,this.size+=n?12:0,this.flags=0,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.timescale),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration)),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeInt32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)}print(e){super.printHeader(e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)}},Df.fourcc="mvhd",Df),Bf,ZJ=(Bf=class extends r0{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}},Bf.fourcc="mett",Bf),Vf,zJ=(Vf=class extends r0{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}},Vf.fourcc="metx",Vf),Ff,$J=(Ff=class extends Ot{constructor(){super(...arguments),this.box_name="AV1CodecConfigurationBox"}parse(e){let n=e.readUint8();if((n>>7&1)!==1){ot.error("BoxParser","av1C marker problem",e.isofile);return}if(this.version=n&127,this.version!==1){ot.error("BoxParser","av1C version "+this.version+" not supported",e.isofile);return}if(n=e.readUint8(),this.seq_profile=n>>5&7,this.seq_level_idx_0=n&31,n=e.readUint8(),this.seq_tier_0=n>>7&1,this.high_bitdepth=n>>6&1,this.twelve_bit=n>>5&1,this.monochrome=n>>4&1,this.chroma_subsampling_x=n>>3&1,this.chroma_subsampling_y=n>>2&1,this.chroma_sample_position=n&3,n=e.readUint8(),this.reserved_1=n>>5&7,this.reserved_1!==0){ot.error("BoxParser","av1C reserved_1 parsing problem",e.isofile);return}if(this.initial_presentation_delay_present=n>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=n&15;else if(this.reserved_2=n&15,this.reserved_2!==0){ot.error("BoxParser","av1C reserved_2 parsing problem",e.isofile);return}const r=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(r)}},Ff.fourcc="av1C",Ff),Lf,KJ=(Lf=class extends dt{constructor(){super(...arguments),this.box_name="ElementaryStreamDescriptorBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8Array(this.size-this.hdr_size);if("MPEG4DescriptorParser"in a_){const r=new a_.MPEG4DescriptorParser;this.esd=r.parseOneDescriptor(new ms(n.buffer,0))}}},Lf.fourcc="esds",Lf),Zf,jJ=(Zf=class extends dt{constructor(){super(...arguments),this.box_name="VPCodecConfigurationRecord"}parse(e){if(this.parseFullHeader(e),this.version===1){this.profile=e.readUint8(),this.level=e.readUint8();const n=e.readUint8();this.bitDepth=n>>4,this.chromaSubsampling=n>>1&7,this.videoFullRangeFlag=n&1,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)}else{this.profile=e.readUint8(),this.level=e.readUint8();let n=e.readUint8();this.bitDepth=n>>4&15,this.colorSpace=n&15,n=e.readUint8(),this.chromaSubsampling=n>>4&15,this.transferFunction=n>>1&7,this.videoFullRangeFlag=n&1,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)}}},Zf.fourcc="vpcC",Zf),zf,HJ=(zf=class extends dt{constructor(){super(...arguments),this.box_name="VvcConfigurationBox"}parse(e){this.parseFullHeader(e);const n={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(o){this.held_bits=o.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(o){this.held_bits=o.readUint16(),this.num_held_bits=16},extract_bits:function(o){const c=this.held_bits>>this.num_held_bits-o&(1<<o)-1;return this.num_held_bits-=o,c}};if(n.stream_read_1_bytes(e),n.extract_bits(5),this.lengthSizeMinusOne=n.extract_bits(2),this.ptl_present_flag=n.extract_bits(1),this.ptl_present_flag){n.stream_read_2_bytes(e),this.ols_idx=n.extract_bits(9),this.num_sublayers=n.extract_bits(3),this.constant_frame_rate=n.extract_bits(2),this.chroma_format_idc=n.extract_bits(2),n.stream_read_1_bytes(e),this.bit_depth_minus8=n.extract_bits(3),n.extract_bits(5);{if(n.stream_read_2_bytes(e),n.extract_bits(2),this.num_bytes_constraint_info=n.extract_bits(6),this.general_profile_idc=n.extract_bits(7),this.general_tier_flag=n.extract_bits(1),this.general_level_idc=e.readUint8(),n.stream_read_1_bytes(e),this.ptl_frame_only_constraint_flag=n.extract_bits(1),this.ptl_multilayer_enabled_flag=n.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(let o=0;o<this.num_bytes_constraint_info-1;o++){const c=n.extract_bits(6);n.stream_read_1_bytes(e);const u=n.extract_bits(2);this.general_constraint_info[o]=c<<2|u}this.general_constraint_info[this.num_bytes_constraint_info-1]=n.extract_bits(6)}else n.extract_bits(6);if(this.num_sublayers>1){n.stream_read_1_bytes(e),this.ptl_sublayer_present_mask=0;for(let o=this.num_sublayers-2;o>=0;--o){const c=n.extract_bits(1);this.ptl_sublayer_present_mask|=c<<o}for(let o=this.num_sublayers;o<=8&&this.num_sublayers>1;++o)n.extract_bits(1);this.sublayer_level_idc=[];for(let o=this.num_sublayers-2;o>=0;--o)this.ptl_sublayer_present_mask&1<<o&&(this.sublayer_level_idc[o]=e.readUint8())}if(this.ptl_num_sub_profiles=e.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(let o=0;o<this.ptl_num_sub_profiles;o++)this.general_sub_profile_idc.push(e.readUint32())}this.max_picture_width=e.readUint16(),this.max_picture_height=e.readUint16(),this.avg_frame_rate=e.readUint16()}const r=12,i=13;this.nalu_arrays=[];const a=e.readUint8();for(let o=0;o<a;o++){const c=[];this.nalu_arrays.push(c),n.stream_read_1_bytes(e),c.completeness=n.extract_bits(1),n.extract_bits(2),c.nalu_type=n.extract_bits(5);let u=1;c.nalu_type!==i&&c.nalu_type!==r&&(u=e.readUint16());for(let f=0;f<u;f++){const p=e.readUint16();c.push({data:e.readUint8Array(p),length:p})}}}},zf.fourcc="vvcC",zf),$f,GJ=($f=class extends Ot{constructor(){super(...arguments),this.box_name="ColourInformationBox"}parse(e){if(this.colour_type=e.readString(4),this.colour_type==="nclx"){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();const n=e.readUint8();this.full_range_flag=n>>7}else this.colour_type==="rICC"?this.ICC_profile=e.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=e.readUint8Array(this.size-4))}},$f.fourcc="colr",$f);function Ru(t,e){let n=Number(t).toString(16);for(e=typeof e>"u"?2:e;n.length<e;)n="0"+n;return n}var e2=class extends Ar{getCodec(){const t=super.getCodec();return this.avcC?`${t}.${Ru(this.avcC.AVCProfileIndication)}${Ru(this.avcC.profile_compatibility)}${Ru(this.avcC.AVCLevelIndication)}`:t}},Kf,qJ=(Kf=class extends e2{constructor(){super(...arguments),this.box_name="AVCSampleEntry"}},Kf.fourcc="avc1",Kf),jf,QJ=(jf=class extends e2{constructor(){super(...arguments),this.box_name="AVC2SampleEntry"}},jf.fourcc="avc2",jf),Hf,JJ=(Hf=class extends e2{constructor(){super(...arguments),this.box_name="AVCSampleEntry"}},Hf.fourcc="avc3",Hf),Gf,eee=(Gf=class extends e2{constructor(){super(...arguments),this.box_name="AVC2SampleEntry"}},Gf.fourcc="avc4",Gf),qf,tee=(qf=class extends Ar{constructor(){super(...arguments),this.box_name="AV1SampleEntry"}getCodec(){const e=super.getCodec(),n=this.av1C.seq_level_idx_0,r=n<10?"0"+n:n;let i;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?i=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(i=this.av1C.high_bitdepth===1?"10":"08"),e+"."+this.av1C.seq_profile+"."+r+(this.av1C.seq_tier_0?"H":"M")+"."+i}},qf.fourcc="av01",qf),Qf,nee=(Qf=class extends Ar{},Qf.fourcc="dav1",Qf),t2=class extends Ar{getCodec(){let t=super.getCodec();if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C";break}t+=this.hvcC.general_profile_idc,t+=".";let e=this.hvcC.general_profile_compatibility,n=0;for(let a=0;a<32&&(n|=e&1,a!==31);a++)n<<=1,e>>=1;t+=Ru(n,0),t+=".",this.hvcC.general_tier_flag===0?t+="L":t+="H",t+=this.hvcC.general_level_idc;let r=!1,i="";for(let a=5;a>=0;a--)(this.hvcC.general_constraint_indicator[a]||r)&&(i="."+Ru(this.hvcC.general_constraint_indicator[a],0)+i,r=!0);t+=i}return t}},Jf,ree=(Jf=class extends t2{constructor(){super(...arguments),this.box_name="HEVCSampleEntry"}},Jf.fourcc="hvc1",Jf),ed,iee=(ed=class extends t2{},ed.fourcc="hvc2",ed),td,see=(td=class extends t2{constructor(){super(...arguments),this.box_name="HEVCSampleEntry",this.colrs=[],this.subBoxNames=["colr"]}},td.fourcc="hev1",td),nd,aee=(nd=class extends t2{},nd.fourcc="hev2",nd),rd,oee=(rd=class extends Ar{constructor(){super(...arguments),this.box_name="HEVCTileSampleSampleEntry"}},rd.fourcc="hvt1",rd),id,lee=(id=class extends Ar{constructor(){super(...arguments),this.box_name="LHEVCSampleEntry"}},id.fourcc="lhe1",id),sd,cee=(sd=class extends Ar{constructor(){super(...arguments),this.box_name="LHEVCSampleEntry"}},sd.fourcc="lhv1",sd),ad,uee=(ad=class extends Ar{},ad.fourcc="dvh1",ad),od,fee=(od=class extends Ar{},od.fourcc="dvhe",od),uX=class extends Ar{getCodec(){let t=super.getCodec();if(this.vvcC){t+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?t+=".H":t+=".L",t+=this.vvcC.general_level_idc;let e="";if(this.vvcC.general_constraint_info){const n=[];let r=0;r|=this.vvcC.ptl_frame_only_constraint_flag<<7,r|=this.vvcC.ptl_multilayer_enabled_flag<<6;let i;for(let a=0;a<this.vvcC.general_constraint_info.length;++a)r|=this.vvcC.general_constraint_info[a]>>2&63,n.push(r),r&&(i=a),r=this.vvcC.general_constraint_info[a]>>2&3;if(i===void 0)e=".CA";else{e=".C";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let o=0,c=0;for(let u=0;u<=i;++u)for(o=o<<8|n[u],c+=8;c>=5;){const f=o>>c-5&31;e+=a[f],c-=5,o&=(1<<c)-1}c&&(o<<=5-c,e+=a[o&31])}}t+=e}return t}},ld,dee=(ld=class extends uX{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},ld.fourcc="vvc1",ld),cd,hee=(cd=class extends uX{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},cd.fourcc="vvi1",cd),ud,pee=(ud=class extends Ar{constructor(){super(...arguments),this.box_name="VvcSampleEntry"}},ud.fourcc="vvs1",ud),fd,mee=(fd=class extends Ar{constructor(){super(...arguments),this.box_name="VvcNonVCLSampleEntry"}},fd.fourcc="vvcN",fd),fX=class extends Ar{getCodec(){const t=super.getCodec();let e=this.vpcC.level;e===0&&(e="00");let n=this.vpcC.bitDepth;return n===8&&(n="08"),`${t}.0${this.vpcC.profile}.${e}.${n}`}},dd,gee=(dd=class extends fX{},dd.fourcc="vp08",dd),hd,yee=(hd=class extends fX{},hd.fourcc="vp09",hd),pd,vee=(pd=class extends Ar{},pd.fourcc="avs3",pd),md,_ee=(md=class extends Ar{constructor(){super(...arguments),this.box_name="J2KSampleEntry"}},md.fourcc="j2ki",md),gd,See=(gd=class extends Ar{},gd.fourcc="mjp2",gd),yd,bee=(yd=class extends Ar{},yd.fourcc="mjpg",yd),vd,Yee=(vd=class extends Ar{constructor(){super(...arguments),this.box_name="UncompressedVideoSampleEntry"}},vd.fourcc="uncv",vd),_d,xee=(_d=class extends Ar{constructor(){super(...arguments),this.box_name="MP4VisualSampleEntry"}},_d.fourcc="mp4v",_d),Sd,Tee=(Sd=class extends ns{constructor(){super(...arguments),this.box_name="MP4AudioSampleEntry"}getCodec(){const e=super.getCodec();if(this.esds&&this.esds.esd){const n=this.esds.esd.getOTI(),r=this.esds.esd.getAudioConfig();return e+"."+Ru(n)+(r?"."+r:"")}else return e}},Sd.fourcc="mp4a",Sd),bd,wee=(bd=class extends ns{},bd.fourcc="m4ae",bd),Yd,Wee=(Yd=class extends ns{},Yd.fourcc="ac-3",Yd),xd,Eee=(xd=class extends ns{},xd.fourcc="ac-4",xd),Td,Uee=(Td=class extends ns{},Td.fourcc="ec-3",Td),wd,Cee=(wd=class extends ns{},wd.fourcc="Opus",wd),Wd,Aee=(Wd=class extends ns{},Wd.fourcc="mha1",Wd),Ed,kee=(Ed=class extends ns{},Ed.fourcc="mha2",Ed),Ud,Iee=(Ud=class extends ns{},Ud.fourcc="mhm1",Ud),Cd,Xee=(Cd=class extends ns{},Cd.fourcc="mhm2",Cd),Ad,Ree=(Ad=class extends ns{},Ad.fourcc="fLaC",Ad),kd,Pee=(kd=class extends Ar{},kd.fourcc="encv",kd),Id,Mee=(Id=class extends ns{},Id.fourcc="enca",Id),Xd,Oee=(Xd=class extends Wc{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Xd.fourcc="encu",Xd),Rd,Nee=(Rd=class extends HT{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Rd.fourcc="encs",Rd),Pd,Dee=(Pd=class extends HT{},Pd.fourcc="mp4s",Pd),Md,Bee=(Md=class extends uJ{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Md.fourcc="enct",Md),Od,Vee=(Od=class extends r0{constructor(){super(...arguments),this.subBoxNames=["sinf"],this.sinfs=[]}},Od.fourcc="encm",Od),Nd,Fee=(Nd=class extends Ar{constructor(){super(...arguments),this.box_name="RestrictedVideoSampleEntry"}},Nd.fourcc="resv",Nd),Dd,Lee=(Dd=class extends Wc{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}},Dd.fourcc="sbtt",Dd),Bd,dX=(Bd=class extends Wc{parse(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}write(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)}},Bd.fourcc="stpp",Bd),Vd,Zee=(Vd=class extends Wc{parse(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}getCodec(){const e=super.getCodec();return this.mime_format?e+"."+this.mime_format:e}},Vd.fourcc="stxt",Vd),Fd,zee=(Fd=class extends Wc{parse(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}},Fd.fourcc="tx3g",Fd),Ld,$ee=(Ld=class extends r0{parse(e){this.parseHeader(e),this.parseFooter(e)}},Ld.fourcc="wvtt",Ld),Zd,Kee=(Zd=class extends dt{constructor(){super(...arguments),this.box_name="SampleToGroupBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),this.version===1?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++)this.entries.push({sample_count:e.readInt32(),group_description_index:e.readInt32()})}write(e){this.grouping_type_parameter?this.version=1:this.version=0,this.flags=0,this.size=8+8*this.entries.length+(this.version===1?4:0),this.writeHeader(e),e.writeString(this.grouping_type,void 0,4),this.version===1&&e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++){const r=this.entries[n];e.writeInt32(r.sample_count),e.writeInt32(r.group_description_index)}}},Zd.fourcc="sbgp",Zd),zd,jee=(zd=class extends dt{constructor(){super(...arguments),this.box_name="SampleDependencyTypeBox"}parse(e){this.parseFullHeader(e);const n=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(let r=0;r<n;r++){const i=e.readUint8();this.is_leading[r]=i>>6,this.sample_depends_on[r]=i>>4&3,this.sample_is_depended_on[r]=i>>2&3,this.sample_has_redundancy[r]=i&3}}},zd.fourcc="sdtp",zd),$d,Hee=($d=class extends dt{constructor(){super(...arguments),this.box_name="SampleGroupDescriptionBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),ot.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){let i;this.grouping_type in es.sampleGroupEntry?i=new es.sampleGroupEntry[this.grouping_type](this.grouping_type):i=new ri(this.grouping_type),this.entries.push(i),this.version===1?this.default_length===0?i.description_length=e.readUint32():i.description_length=this.default_length:i.description_length=this.default_length,i.write===ri.prototype.write&&(ot.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),i.data=e.readUint8Array(i.description_length),e.seek(e.getPosition()-i.description_length)),i.parse(e)}}write(e){this.flags=0,this.size=12;for(let n=0;n<this.entries.length;n++){const r=this.entries[n];this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=r.data.length)}this.writeHeader(e),e.writeString(this.grouping_type,void 0,4),this.version===1&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length);for(let n=0;n<this.entries.length;n++){const r=this.entries[n];this.version===1&&this.default_length===0&&e.writeUint32(r.description_length),r.write(e)}}},$d.fourcc="sgpd",$d),Kd,Gee=(Kd=class extends dt{constructor(){super(...arguments),this.box_name="CompressedSegmentIndexBox"}parse(e){this.parseFullHeader(e),this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),this.version===0?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];const n=e.readUint16();for(let r=0;r<n;r++){const i=e.readUint32(),a=e.readUint32(),o=e.readUint32();this.references.push({reference_type:i>>31&1,referenced_size:i&2147483647,subsegment_duration:a,starts_with_SAP:o>>31&1,SAP_type:o>>28&7,SAP_delta_time:o&268435455})}}write(e){const n=this.earliest_presentation_time>ci||this.first_offset>ci||this.version===1;this.version=n?1:0,this.size=12+12*this.references.length,this.size+=n?16:8,this.flags=0,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),n?(e.writeUint64(this.earliest_presentation_time),e.writeUint64(this.first_offset)):(e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset)),e.writeUint16(0),e.writeUint16(this.references.length);for(let r=0;r<this.references.length;r++){const i=this.references[r];e.writeUint32(i.reference_type<<31|i.referenced_size),e.writeUint32(i.subsegment_duration),e.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}}},Kd.fourcc="sidx",Kd),jd,hX=(jd=class extends dt{constructor(){super(...arguments),this.box_name="SoundMediaHeaderBox"}parse(e){this.parseFullHeader(e),this.balance=e.readUint16(),e.readUint16()}write(e){this.version=0,this.size=4,this.writeHeader(e),e.writeUint16(this.balance),e.writeUint16(0)}},jd.fourcc="smhd",jd),Hd,pX=(Hd=class extends dt{constructor(){super(...arguments),this.box_name="ChunkOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.chunk_offsets=[],this.version===0)for(let r=0;r<n;r++)this.chunk_offsets.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)}unpack(e){for(let n=0;n<this.chunk_offsets.length;n++)e[n].offset=this.chunk_offsets[n]}},Hd.fourcc="stco",Hd),Gd,mX=(Gd=class extends dt{constructor(){super(...arguments),this.box_name="SubtitleMediaHeaderBox"}},Gd.fourcc="sthd",Gd),qd,gX=(qd=class extends dt{constructor(){super(...arguments),this.box_name="SampleToChunkBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(let r=0;r<n;r++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length);for(let n=0;n<this.first_chunk.length;n++)e.writeUint32(this.first_chunk[n]),e.writeUint32(this.samples_per_chunk[n]),e.writeUint32(this.sample_description_index[n])}unpack(e){let n=0,r=0;for(let i=0;i<this.first_chunk.length;i++)for(let a=0;a<(i+1<this.first_chunk.length?this.first_chunk[i+1]:1/0);a++){r++;for(let o=0;o<this.samples_per_chunk[i];o++){if(e[n])e[n].description_index=this.sample_description_index[i],e[n].chunk_index=r;else return;n++}}}},qd.fourcc="stsc",qd),Qd,yX=(Qd=class extends dt{constructor(){super(...arguments),this.box_name="SampleDescriptionBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=1;r<=n;r++){const i=Da(e,!0,this.size-(e.getPosition()-this.start));if(i.code===Ys){let a;i.type in es.sampleEntry?(a=new es.sampleEntry[i.type](i.size),a.hdr_size=i.hdr_size,a.start=i.start):(ot.warn("BoxParser",`Unknown sample entry type: '${i.type}'`),a=new bo(i.size,i.hdr_size,i.start),a.type=i.type),a.write===bo.prototype.write&&(ot.info("BoxParser","SampleEntry "+a.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),a.parseDataAndRewind(e)),a.parse(e),this.entries.push(a)}else return}}write(e){this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4;for(let n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;ot.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)}},Qd.fourcc="stsd",Qd),Jd,vX=(Jd=class extends dt{constructor(){super(...arguments),this.box_name="SampleSizeBox"}parse(e){if(this.parseFullHeader(e),this.sample_sizes=[],this.version===0){this.sample_size=e.readUint32(),this.sample_count=e.readUint32();for(let n=0;n<this.sample_count;n++)this.sample_size===0?this.sample_sizes.push(e.readUint32()):this.sample_sizes[n]=this.sample_size}}write(e){let n=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0){let r=0;for(;r+1<this.sample_sizes.length;)if(this.sample_sizes[r+1]!==this.sample_sizes[0]){n=!1;break}else r++}else n=!1;this.size=8,n||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),n?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),n||e.writeUint32Array(this.sample_sizes)}unpack(e){for(let n=0;n<this.sample_sizes.length;n++)e[n].size=this.sample_sizes[n]}},Jd.fourcc="stsz",Jd),eh,_X=(eh=class extends dt{constructor(){super(...arguments),this.box_name="TimeToSampleBox",this.sample_counts=[],this.sample_deltas=[]}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.sample_counts.length=0,this.sample_deltas.length=0,this.version===0)for(let r=0;r<n;r++){this.sample_counts.push(e.readUint32());let i=e.readInt32();i<0&&(ot.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),i=1),this.sample_deltas.push(i)}}write(e){this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length);for(let n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),e.writeUint32(this.sample_deltas[n])}unpack(e){let n=0;for(let r=0;r<this.sample_counts.length;r++)for(let i=0;i<this.sample_counts[r];i++)n===0?e[n].dts=0:e[n].dts=e[n-1].dts+this.sample_deltas[r],n++}},eh.fourcc="stts",eh),th,SX=(th=class extends dt{constructor(){super(...arguments),this.box_name="TrackFragmentBaseMediaDecodeTimeBox"}parse(e){this.parseFullHeader(e),this.version===1?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}write(e){const n=this.baseMediaDecodeTime>ci||this.version===1;this.version=n?1:0,this.size=4,this.size+=n?4:0,this.flags=0,this.writeHeader(e),n?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)}},th.fourcc="tfdt",th),nh,bX=(nh=class extends dt{constructor(){super(...arguments),this.box_name="TrackFragmentHeaderBox"}parse(e){this.parseFullHeader(e);let n=0;this.track_id=e.readUint32(),this.size-this.hdr_size>n&&this.flags&gv?(this.base_data_offset=e.readUint64(),n+=8):this.base_data_offset=0,this.size-this.hdr_size>n&&this.flags&yv?(this.default_sample_description_index=e.readUint32(),n+=4):this.default_sample_description_index=0,this.size-this.hdr_size>n&&this.flags&vv?(this.default_sample_duration=e.readUint32(),n+=4):this.default_sample_duration=0,this.size-this.hdr_size>n&&this.flags&_v?(this.default_sample_size=e.readUint32(),n+=4):this.default_sample_size=0,this.size-this.hdr_size>n&&this.flags&Sv?(this.default_sample_flags=e.readUint32(),n+=4):this.default_sample_flags=0}write(e){this.version=0,this.size=4,this.flags&gv&&(this.size+=8),this.flags&yv&&(this.size+=4),this.flags&vv&&(this.size+=4),this.flags&_v&&(this.size+=4),this.flags&Sv&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&gv&&e.writeUint64(this.base_data_offset),this.flags&yv&&e.writeUint32(this.default_sample_description_index),this.flags&vv&&e.writeUint32(this.default_sample_duration),this.flags&_v&&e.writeUint32(this.default_sample_size),this.flags&Sv&&e.writeUint32(this.default_sample_flags)}},nh.fourcc="tfhd",nh),rh,YX=(rh=class extends dt{constructor(){super(...arguments),this.box_name="TrackHeaderBox",this.layer=0,this.alternate_group=0}parse(e){this.parseFullHeader(e),this.version===1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}write(e){const n=this.modification_time>ci||this.creation_time>ci||this.duration>ci||this.version===1;this.version=n?1:0,this.size=80,this.size+=n?12:0,this.flags=this.flags??3,this.writeHeader(e),n?(e.writeUint64(this.creation_time),e.writeUint64(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint64(this.duration)):(e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration)),e.writeUint32Array([0,0]),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeInt16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)}print(e){super.printHeader(e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)}},rh.fourcc="tkhd",rh),ih,Cx=(ih=class extends dt{constructor(){super(...arguments),this.box_name="TrackExtendsBox"}parse(e){this.parseFullHeader(e),this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}write(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)}},ih.fourcc="trex",ih),sh,xX=(sh=class extends dt{constructor(){super(...arguments),this.box_name="TrackRunBox",this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[]}parse(e){this.parseFullHeader(e);let n=0;if(this.sample_count=e.readUint32(),n+=4,this.size-this.hdr_size>n&&this.flags&Xg?(this.data_offset=e.readInt32(),n+=4):this.data_offset=0,this.size-this.hdr_size>n&&this.flags&bv?(this.first_sample_flags=e.readUint32(),n+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>n)for(let r=0;r<this.sample_count;r++)this.flags&Rg&&(this.sample_duration[r]=e.readUint32()),this.flags&Pg&&(this.sample_size[r]=e.readUint32()),this.flags&Mg&&(this.sample_flags[r]=e.readUint32()),this.flags&Og&&(this.version===0?this.sample_composition_time_offset[r]=e.readUint32():this.sample_composition_time_offset[r]=e.readInt32())}write(e){this.size=4,this.flags&Xg&&(this.size+=4),this.flags&bv&&(this.size+=4),this.flags&Rg&&(this.size+=4*this.sample_duration.length),this.flags&Pg&&(this.size+=4*this.sample_size.length),this.flags&Mg&&(this.size+=4*this.sample_flags.length),this.flags&Og&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&Xg&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&bv&&e.writeUint32(this.first_sample_flags);for(let n=0;n<this.sample_count;n++)this.flags&Rg&&e.writeUint32(this.sample_duration[n]),this.flags&Pg&&e.writeUint32(this.sample_size[n]),this.flags&Mg&&e.writeUint32(this.sample_flags[n]),this.flags&Og&&(this.version===0?e.writeUint32(this.sample_composition_time_offset[n]):e.writeInt32(this.sample_composition_time_offset[n]))}},sh.fourcc="trun",sh),ah,TX=(ah=class extends dt{constructor(){super(...arguments),this.box_name="DataEntryUrlBox"}parse(e){this.parseFullHeader(e),this.flags!==1&&(this.location=e.readCString())}write(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)}},ah.fourcc="url ",ah),oh,wX=(oh=class extends dt{constructor(){super(...arguments),this.box_name="VideoMediaHeaderBox"}parse(e){this.parseFullHeader(e),this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}write(e){this.version=0,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)}},oh.fourcc="vmhd",oh),vY=class{constructor(t,e,n){this.grouping_type=t,this.grouping_type_parameter=e,this.sbgp=n,this.last_sample_in_run=-1,this.entry_index=-1}},qee=class al{constructor(e,n=!0){this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.moovStartSent=!1,this.readySent=!1,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.sidxSent=!1,this.items=[],this.entity_groups=[],this.itemsDataSize=0,this.lastMoofIndex=0,this.samplesDataSize=0,this.lastBoxStartPosition=0,this.nextParsePosition=0,this.discardMdatData=!0,this.discardMdatData=n,e?(this.stream=e,this.parse()):this.stream=new xv,this.stream.isofile=this}setSegmentOptions(e,n,r){const{sizePerSegment:i=Number.MAX_SAFE_INTEGER,rapAlignement:a=!0}=r;let o=r.nbSamples??r.nbSamplesPerFragment??1e3;const c=r.nbSamplesPerFragment??o;if(o<=0||c<=0||i<=0){ot.error("ISOFile",`Invalid segment options: nbSamples=${o}, nbSamplesPerFragment=${c}, sizePerSegment=${i}`);return}if(o<c&&(ot.warn("ISOFile",`nbSamples (${o}) is less than nbSamplesPerFragment (${c}), setting nbSamples to nbSamplesPerFragment`),o=c),this.fragmentedTracks.some(f=>f.nb_samples!==o)){ot.error("ISOFile",`Cannot set segment options for track ${e}: nbSamples (${o}) does not match existing tracks`);return}const u=this.getTrackById(e);if(u){const f={id:e,user:n,trak:u,segmentStream:void 0,nb_samples:o,nb_samples_per_fragment:c,size_per_segment:i,rapAlignement:a,state:{lastFragmentSampleNumber:0,lastSegmentSampleNumber:0,accumulatedSize:0}};this.fragmentedTracks.push(f),u.nextSample=0}this.discardMdatData&&ot.warn("ISOFile","Segmentation options set but discardMdatData is true, samples will not be segmented")}unsetSegmentOptions(e){let n=-1;for(let r=0;r<this.fragmentedTracks.length;r++)this.fragmentedTracks[r].id===e&&(n=r);n>-1&&this.fragmentedTracks.splice(n,1)}setExtractionOptions(e,n,{nbSamples:r=1e3}={}){const i=this.getTrackById(e);i&&(this.extractedTracks.push({id:e,user:n,trak:i,nb_samples:r,samples:[]}),i.nextSample=0),this.discardMdatData&&ot.warn("ISOFile","Extraction options set but discardMdatData is true, samples will not be extracted")}unsetExtractionOptions(e){let n=-1;for(let r=0;r<this.extractedTracks.length;r++)this.extractedTracks[r].id===e&&(n=r);n>-1&&this.extractedTracks.splice(n,1)}parse(){if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else{this.saveParsePosition&&this.saveParsePosition();const n=Da(this.stream,!1);if(n.code===sl)if(this.processIncompleteBox){if(this.processIncompleteBox(n))continue;return}else return;else if(n.code===Ys){const r=n.box;if(this.boxes.push(r),r.type==="uuid")this[r.uuid]!==void 0&&ot.warn("ISOFile","Duplicate Box of uuid: "+r.uuid+", overriding previous occurrence"),this[r.uuid]=r;else switch(r.type){case"mdat":this.mdats.push(r),this.transferMdatData(r);break;case"moof":this.moofs.push(r);break;case"free":case"skip":break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[r.type]!==void 0?Array.isArray(this[r.type+"s"])?(ot.info("ISOFile",`Found multiple boxes of type ${r.type} in ISOFile, adding to array`),this[r.type+"s"].push(r)):(ot.warn("ISOFile",`Found multiple boxes of type ${r.type} but no array exists. Creating array dynamically.`),this[r.type+"s"]=[this[r.type],r]):(this[r.type]=r,Array.isArray(this[r.type+"s"])&&this[r.type+"s"].push(r));break}this.updateUsedBytes&&this.updateUsedBytes(r,n)}else if(n.code===LI){ot.error("ISOFile",`Invalid data found while parsing box of type '${n.type}' at position ${n.start}. Aborting parsing.`,this);break}}}checkBuffer(e){if(!e)throw new Error("Buffer must be defined and non empty");return e.byteLength===0?(ot.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(ot.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),this.stream.initialized()?!0:(ot.warn("ISOFile","Not ready to start parsing"),!1))}appendBuffer(e,n){let r;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(n),this.nextSeekPosition?(r=this.nextSeekPosition,this.nextSeekPosition=void 0):r=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(r=this.stream.getEndFilePositionAfter(r))):this.nextParsePosition?r=this.nextParsePosition:r=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(ot.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+r),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),ot.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),r}getFragmentDuration(){const e=this.getBox("mvex");if(!e)return;if(e.mehd)return{num:e.mehd.fragment_duration,den:this.moov.mvhd.timescale};const n=this.getBoxes("trak",!1);let r={num:0,den:1};for(const i of n){const a=i.samples_duration,o=i.mdia.mdhd.timescale;a&&o&&a/o>r.num/r.den&&(r={num:a,den:o})}return r}getInfo(){if(!this.moov)return{hasMoov:!1,mime:""};const e=new Date("1904-01-01T00:00:00Z").getTime(),n=this.getBox("mvex")!==void 0,r={hasMoov:!0,duration:this.moov.mvhd.duration,timescale:this.moov.mvhd.timescale,isFragmented:n,fragment_duration:this.getFragmentDuration(),isProgressive:this.isProgressive,hasIOD:this.moov.iods!==void 0,brands:[this.ftyp.major_brand].concat(this.ftyp.compatible_brands),created:new Date(e+this.moov.mvhd.creation_time*1e3),modified:new Date(e+this.moov.mvhd.modification_time*1e3),tracks:[],audioTracks:[],videoTracks:[],subtitleTracks:[],metadataTracks:[],hintTracks:[],otherTracks:[],mime:""};for(let i=0;i<this.moov.traks.length;i++){const a=this.moov.traks[i],o=a.mdia.minf.stbl.stsd.entries[0],c=a.samples_size,u=a.mdia.mdhd.timescale,f=a.samples_duration,p=c*8*u/f,h={samples_duration:f,bitrate:p,size:c,timescale:u,alternate_group:a.tkhd.alternate_group,codec:o.getCodec(),created:new Date(e+a.tkhd.creation_time*1e3),cts_shift:a.mdia.minf.stbl.cslg,duration:a.mdia.mdhd.duration,id:a.tkhd.track_id,kind:a.udta&&a.udta.kinds.length?a.udta.kinds[0]:{schemeURI:"",value:""},language:a.mdia.elng?a.mdia.elng.extended_language:a.mdia.mdhd.languageString,layer:a.tkhd.layer,matrix:a.tkhd.matrix,modified:new Date(e+a.tkhd.modification_time*1e3),movie_duration:a.tkhd.duration,movie_timescale:r.timescale,name:a.mdia.hdlr.name,nb_samples:a.samples.length,references:[],track_height:a.tkhd.height/65536,track_width:a.tkhd.width/65536,volume:a.tkhd.volume};if(r.tracks.push(h),a.tref)for(let m=0;m<a.tref.references.length;m++)h.references.push({type:a.tref.references[m].type,track_ids:a.tref.references[m].track_ids});a.edts!==void 0&&a.edts.elst!==void 0&&(h.edits=a.edts.elst.entries),o instanceof ns?(h.type="audio",r.audioTracks.push(h),h.audio={sample_rate:o.getSampleRate(),channel_count:o.getChannelCount(),sample_size:o.getSampleSize()}):o instanceof Ar?(h.type="video",r.videoTracks.push(h),h.video={width:o.getWidth(),height:o.getHeight()}):o instanceof Wc?(h.type="subtitles",r.subtitleTracks.push(h)):o instanceof MC?(h.type="metadata",r.hintTracks.push(h)):o instanceof r0?(h.type="metadata",r.metadataTracks.push(h)):(h.type="metadata",r.otherTracks.push(h))}r.videoTracks&&r.videoTracks.length>0?r.mime+='video/mp4; codecs="':r.audioTracks&&r.audioTracks.length>0?r.mime+='audio/mp4; codecs="':r.mime+='application/mp4; codecs="';for(let i=0;i<r.tracks.length;i++)i!==0&&(r.mime+=","),r.mime+=r.tracks[i].codec;return r.mime+='"; profiles="',r.mime+=this.ftyp.compatible_brands.join(),r.mime+='"',r}setNextSeekPositionFromSample(e){e&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(e.offset+e.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=e.offset+e.alreadyRead)}processSamples(e){if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==void 0){const n=new Set;for(;n.size<this.fragmentedTracks.length&&this.fragmentedTracks.some(r=>r.trak.nextSample<r.trak.samples.length)&&this.sampleProcessingStarted;)for(const r of this.fragmentedTracks){const i=r.trak;if(!n.has(r.id)){const a=i.nextSample<i.samples.length?this.getSample(i,i.nextSample):void 0;if(!a){this.setNextSeekPositionFromSample(i.samples[i.nextSample]),n.add(r.id);continue}r.state.accumulatedSize+=a.size;const o=i.nextSample+1,c=o-r.state.lastFragmentSampleNumber>r.nb_samples_per_fragment,u=o-r.state.lastSegmentSampleNumber>r.nb_samples;let f=c||o%r.nb_samples_per_fragment===0,p=u||o%r.nb_samples===0,h=r.state.accumulatedSize>=r.size_per_segment;const m=!r.rapAlignement||a.is_sync,y=e||i.nextSample+1>=i.samples.length;if(y&&!m&&ot.warn("ISOFile","Flushing track #"+r.id+" at sample #"+i.nextSample+" which is not a RAP, this may lead to playback issues"),f=f&&m,p=p&&m,h=h&&m,f||h||y){c?ot.warn("ISOFile","Fragment on track #"+r.id+" is overdue, creating it with samples ["+r.state.lastFragmentSampleNumber+", "+i.nextSample+"]"):ot.debug("ISOFile","Creating media fragment on track #"+r.id+" for samples ["+r.state.lastFragmentSampleNumber+", "+i.nextSample+"]");const _=this.createFragment(r.id,r.state.lastFragmentSampleNumber,i.nextSample,r.segmentStream);if(_)r.segmentStream=_,r.state.lastFragmentSampleNumber=i.nextSample+1;else{n.add(r.id);continue}}(p||h||y)&&(u?ot.warn("ISOFile","Segment on track #"+r.id+" is overdue, sending it with samples ["+Math.max(0,i.nextSample-r.nb_samples)+", "+(i.nextSample-1)+"]"):ot.info("ISOFile","Sending fragmented data on track #"+r.id+" for samples ["+Math.max(0,i.nextSample-r.nb_samples)+", "+(i.nextSample-1)+"]"),ot.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(r.id,r.user,r.segmentStream.buffer,i.nextSample+1,e||i.nextSample+1>=i.samples.length),r.segmentStream=void 0,r.state.accumulatedSize=0,r.state.lastSegmentSampleNumber=i.nextSample+1),i.nextSample++}}}if(this.onSamples!==void 0)for(let n=0;n<this.extractedTracks.length;n++){const r=this.extractedTracks[n],i=r.trak;for(;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){ot.debug("ISOFile","Exporting on track #"+r.id+" sample #"+i.nextSample);const a=this.getSample(i,i.nextSample);if(a)i.nextSample++,r.samples.push(a);else{this.setNextSeekPositionFromSample(i.samples[i.nextSample]);break}if((i.nextSample%r.nb_samples===0||i.nextSample>=i.samples.length)&&(ot.debug("ISOFile","Sending samples on track #"+r.id+" for sample "+i.nextSample),this.onSamples&&this.onSamples(r.id,r.user,r.samples),r.samples=[],r!==this.extractedTracks[n]))break}}}}getBox(e){const n=this.getBoxes(e,!0);return n.length?n[0]:void 0}getBoxes(e,n){const r=[],i=a=>{a instanceof Ot&&a.type&&a.type===e&&r.push(a);const o=[];a.boxes&&o.push(...a.boxes),a.entries&&o.push(...a.entries),a.item_infos&&o.push(...a.item_infos),a.references&&o.push(...a.references);for(const c of o){if(r.length&&n)return;i(c)}};return i(this),r}getTrackSamplesInfo(e){const n=this.getTrackById(e);if(n)return n.samples}getTrackSample(e,n){const r=this.getTrackById(e);return this.getSample(r,n)}releaseUsedSamples(e,n){let r=0;const i=this.getTrackById(e);i.lastValidSample||(i.lastValidSample=0);for(let a=i.lastValidSample;a<n;a++)r+=this.releaseSample(i,a);ot.info("ISOFile","Track #"+e+" released samples up to "+n+" (released size: "+r+", remaining: "+this.samplesDataSize+")"),i.lastValidSample=n}start(){this.sampleProcessingStarted=!0,this.processSamples(!1)}stop(){this.sampleProcessingStarted=!1}flush(){ot.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)}seekTrack(e,n,r){let i=0,a=0,o;if(r.samples.length===0)return ot.info("ISOFile","No sample in track, cannot seek! Using time "+ot.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(let u=0;u<r.samples.length;u++){const f=r.samples[u];if(u===0)a=0,o=f.timescale;else if(f.cts>e*f.timescale){a=u-1;break}n&&f.is_sync&&(i=u)}for(n&&(a=i),e=r.samples[a].cts,r.nextSample=a;r.samples[a].alreadyRead===r.samples[a].size&&r.samples[a+1];)a++;const c=r.samples[a].offset+r.samples[a].alreadyRead;return ot.info("ISOFile","Seeking to "+(n?"RAP":"")+" sample #"+r.nextSample+" on track "+r.tkhd.track_id+", time "+ot.getDurationString(e,o)+" and offset: "+c),{offset:c,time:e/o}}getTrackDuration(e){if(!e.samples)return 1/0;const n=e.samples[e.samples.length-1];return(n.cts+n.duration)/n.timescale}seek(e,n){const r=this.moov;let i={offset:1/0,time:1/0};if(this.moov){for(let a=0;a<r.traks.length;a++){const o=r.traks[a];if(e>this.getTrackDuration(o))continue;const c=this.seekTrack(e,n,o);c.offset<i.offset&&(i.offset=c.offset),c.time<i.time&&(i.time=c.time)}return ot.info("ISOFile","Seeking at time "+ot.getDurationString(i.time,1)+" needs a buffer with a fileStart position of "+i.offset),i.offset===1/0?i={offset:this.nextParsePosition,time:0}:i.offset=this.stream.getEndFilePositionAfter(i.offset),ot.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+i.offset),i}else throw new Error("Cannot seek: moov not received!")}equal(e){let n=0;for(;n<this.boxes.length&&n<e.boxes.length;){const r=this.boxes[n],i=e.boxes[n];if(!zI(r,i))return!1;n++}return!0}write(e){for(let n=0;n<this.boxes.length;n++)this.boxes[n].write(e)}createFragment(e,n,r,i){const a=[];for(let p=n;p<=r;p++){const h=this.getTrackById(e),m=this.getSample(h,p);if(!m){this.setNextSeekPositionFromSample(h.samples[p]);return}a.push(m)}const o=i||new ms,c=this.createMoof(a);c.write(o),c.trafs[0].truns[0].data_offset=c.size+8,ot.debug("MP4Box","Adjusting data_offset with new value "+c.trafs[0].truns[0].data_offset),o.adjustUint32(c.trafs[0].truns[0].data_offset_position,c.trafs[0].truns[0].data_offset);const u=new Tv;u.stream=new xv;let f=0;for(const p of a)if(p.data){const h=ll.fromArrayBuffer(p.data.buffer,f);u.stream.insertBuffer(h),f+=p.data.byteLength}return u.write(o),o}static writeInitializationSegment(e,n,r){ot.debug("ISOFile","Generating initialization segment");const i=new ms;e.write(i);const a=n.addBox(new Ux);if(r){const o=a.addBox(new oX);o.fragment_duration=r}for(let o=0;o<n.traks.length;o++){const c=a.addBox(new Cx);c.track_id=n.traks[o].tkhd.track_id,c.default_sample_description_index=1,c.default_sample_duration=n.traks[o].samples[0]?.duration??0,c.default_sample_size=0,c.default_sample_flags=65536}return n.write(i),i.buffer}save(e){const n=new ms;return n.isofile=this,this.write(n),n.save(e)}getBuffer(){const e=new ms;return e.isofile=this,this.write(e),e}initializeSegmentation(){this.onSegment||ot.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.resetTables());const e=new Ex;e.addBox(this.moov.mvhd);for(let n=0;n<this.fragmentedTracks.length;n++){const r=this.getTrackById(this.fragmentedTracks[n].id);if(!r){ot.warn("ISOFile",`Track with id ${this.fragmentedTracks[n].id} not found, skipping fragmentation initialization`);continue}e.addBox(r)}return{tracks:e.traks.map((n,r)=>({id:n.tkhd.track_id,user:this.fragmentedTracks[r].user})),buffer:al.writeInitializationSegment(this.ftyp,e,this.moov?.mvex?.mehd.fragment_duration)}}resetTables(){this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0;for(let e=0;e<this.moov.traks.length;e++){const n=this.moov.traks[e];n.tkhd.duration=0,n.mdia.mdhd.duration=0;const r=n.mdia.minf.stbl.stco||n.mdia.minf.stbl.co64;r.chunk_offsets=[];const i=n.mdia.minf.stbl.stsc;i.first_chunk=[],i.samples_per_chunk=[],i.sample_description_index=[];const a=n.mdia.minf.stbl.stsz||n.mdia.minf.stbl.stz2;a.sample_sizes=[];const o=n.mdia.minf.stbl.stts;o.sample_counts=[],o.sample_deltas=[];const c=n.mdia.minf.stbl.ctts;c&&(c.sample_counts=[],c.sample_offsets=[]);const u=n.mdia.minf.stbl.stss,f=n.mdia.minf.stbl.boxes.indexOf(u);f!==-1&&(n.mdia.minf.stbl.boxes[f]=void 0)}}static initSampleGroups(e,n,r,i,a){n&&(n.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]);for(let o=0;o<r.length;o++){const c=r[o].grouping_type+"/"+r[o].grouping_type_parameter,u=new vY(r[o].grouping_type,r[o].grouping_type_parameter,r[o]);n&&(n.sample_groups_info[c]=u),e.sample_groups_info[c]||(e.sample_groups_info[c]=u);for(let f=0;f<i.length;f++)i[f].grouping_type===r[o].grouping_type&&(u.description=i[f],u.description.used=!0);if(a)for(let f=0;f<a.length;f++)a[f].grouping_type===r[o].grouping_type&&(u.fragment_description=a[f],u.fragment_description.used=!0,u.is_fragment=!0)}if(n){if(a){for(let o=0;o<a.length;o++)if(!a[o].used&&a[o].version>=2){const c=a[o].grouping_type+"/0",u=new vY(a[o].grouping_type,0);u.is_fragment=!0,n.sample_groups_info[c]||(n.sample_groups_info[c]=u)}}}else for(let o=0;o<i.length;o++)if(!i[o].used&&i[o].version>=2){const c=i[o].grouping_type+"/0",u=new vY(i[o].grouping_type,0);e.sample_groups_info[c]||(e.sample_groups_info[c]=u)}}static setSampleGroupProperties(e,n,r,i){n.sample_groups=[];for(const a in i)if(n.sample_groups[a]={grouping_type:i[a].grouping_type,grouping_type_parameter:i[a].grouping_type_parameter},r>=i[a].last_sample_in_run&&(i[a].last_sample_in_run<0&&(i[a].last_sample_in_run=0),i[a].entry_index++,i[a].entry_index<=i[a].sbgp.entries.length-1&&(i[a].last_sample_in_run+=i[a].sbgp.entries[i[a].entry_index].sample_count)),i[a].entry_index<=i[a].sbgp.entries.length-1?n.sample_groups[a].group_description_index=i[a].sbgp.entries[i[a].entry_index].group_description_index:n.sample_groups[a].group_description_index=-1,n.sample_groups[a].group_description_index!==0){let o;if(i[a].fragment_description?o=i[a].fragment_description:o=i[a].description,n.sample_groups[a].group_description_index>0){let c;n.sample_groups[a].group_description_index>65535?c=(n.sample_groups[a].group_description_index>>16)-1:c=n.sample_groups[a].group_description_index-1,o&&c>=0&&(n.sample_groups[a].description=o.entries[c])}else o&&o.version>=2&&o.default_group_description_index>0&&(n.sample_groups[a].description=o.entries[o.default_group_description_index-1])}}static process_sdtp(e,n,r){n&&(e?(n.is_leading=e.is_leading[r],n.depends_on=e.sample_depends_on[r],n.is_depended_on=e.sample_is_depended_on[r],n.has_redundancy=e.sample_has_redundancy[r]):(n.is_leading=0,n.depends_on=0,n.is_depended_on=0,n.has_redundancy=0))}buildSampleLists(){for(let e=0;e<this.moov.traks.length;e++)this.buildTrakSampleLists(this.moov.traks[e])}buildTrakSampleLists(e){let n,r,i,a,o,c;e.samples=[],e.samples_duration=0,e.samples_size=0;const u=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,f=e.mdia.minf.stbl.stsc,p=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,h=e.mdia.minf.stbl.stts,m=e.mdia.minf.stbl.ctts,y=e.mdia.minf.stbl.stss,_=e.mdia.minf.stbl.stsd,v=e.mdia.minf.stbl.subs,S=e.mdia.minf.stbl.stdp,Y=e.mdia.minf.stbl.sbgps,T=e.mdia.minf.stbl.sgpds;let A=-1,P=-1,C=-1,W=-1,w=0,k=0,M=0;if(al.initSampleGroups(e,void 0,Y,T),!(typeof p>"u")){for(n=0;n<p.sample_sizes.length;n++){const D={number:n,track_id:e.tkhd.track_id,timescale:e.mdia.mdhd.timescale,alreadyRead:0,size:p.sample_sizes[n]};e.samples[n]=D,e.samples_size+=D.size,n===0?(i=1,r=0,D.chunk_index=i,D.chunk_run_index=r,c=f.samples_per_chunk[r],o=0,r+1<f.first_chunk.length?a=f.first_chunk[r+1]-1:a=1/0):n<c?(D.chunk_index=i,D.chunk_run_index=r):(i++,D.chunk_index=i,o=0,i<=a||(r++,r+1<f.first_chunk.length?a=f.first_chunk[r+1]-1:a=1/0),D.chunk_run_index=r,c+=f.samples_per_chunk[r]),D.description_index=f.sample_description_index[D.chunk_run_index]-1,D.description=_.entries[D.description_index],D.offset=u.chunk_offsets[D.chunk_index-1]+o,o+=D.size,n>A&&(P++,A<0&&(A=0),A+=h.sample_counts[P]),n>0?(e.samples[n-1].duration=h.sample_deltas[P],e.samples_duration+=e.samples[n-1].duration,D.dts=e.samples[n-1].dts+e.samples[n-1].duration):D.dts=0,m?(n>=C&&(W++,C<0&&(C=0),C+=m.sample_counts[W]),D.cts=e.samples[n].dts+m.sample_offsets[W]):D.cts=D.dts,y?(n===y.sample_numbers[w]-1?(D.is_sync=!0,w++):(D.is_sync=!1,D.degradation_priority=0),v&&v.entries[k].sample_delta+M===n+1&&(D.subsamples=v.entries[k].subsamples,M+=v.entries[k].sample_delta,k++)):D.is_sync=!0,al.process_sdtp(e.mdia.minf.stbl.sdtp,D,D.number),S?D.degradation_priority=S.priority[n]:D.degradation_priority=0,v&&v.entries[k].sample_delta+M===n&&(D.subsamples=v.entries[k].subsamples,M+=v.entries[k].sample_delta),(Y.length>0||T.length>0)&&al.setSampleGroupProperties(e,D,n,e.sample_groups_info)}n>0&&(e.samples[n-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[n-1].dts,0),e.samples_duration+=e.samples[n-1].duration)}}updateSampleLists(){let e,n,r,i,a;if(this.moov!==void 0)for(;this.lastMoofIndex<this.moofs.length;){const o=this.moofs[this.lastMoofIndex];if(this.lastMoofIndex++,o.type==="moof"){const c=o;for(let u=0;u<c.trafs.length;u++){const f=c.trafs[u],p=this.getTrackById(f.tfhd.track_id),h=this.getTrexById(f.tfhd.track_id);f.tfhd.flags&yv?e=f.tfhd.default_sample_description_index:e=h?h.default_sample_description_index:1,f.tfhd.flags&vv?n=f.tfhd.default_sample_duration:n=h?h.default_sample_duration:0,f.tfhd.flags&_v?r=f.tfhd.default_sample_size:r=h?h.default_sample_size:0,f.tfhd.flags&Sv?i=f.tfhd.default_sample_flags:i=h?h.default_sample_flags:0,f.sample_number=0,f.sbgps.length>0&&al.initSampleGroups(p,f,f.sbgps,p.mdia.minf.stbl.sgpds,f.sgpds);for(let m=0;m<f.truns.length;m++){const y=f.truns[m];for(let _=0;_<y.sample_count;_++){const v=e-1;let S=i;y.flags&Mg?S=y.sample_flags[_]:_===0&&y.flags&bv&&(S=y.first_sample_flags);let Y=r;y.flags&Pg&&(Y=y.sample_size[_]),p.samples_size+=Y;let T=n;y.flags&Rg&&(T=y.sample_duration[_]),p.samples_duration+=T;let A;p.first_traf_merged||_>0?A=p.samples[p.samples.length-1].dts+p.samples[p.samples.length-1].duration:(f.tfdt?A=f.tfdt.baseMediaDecodeTime:A=0,p.first_traf_merged=!0);let P=A;y.flags&Og&&(P=A+y.sample_composition_time_offset[_]);const C=!!(f.tfhd.flags&gv),W=!!(f.tfhd.flags&kC),w=!!(y.flags&Xg);let k=0;C?k=f.tfhd.base_data_offset:W||m===0?k=c.start:k=a;let M;m===0&&_===0?w?M=k+y.data_offset:M=k:M=a,a=M+Y;const D=f.sample_number;f.sample_number++;const B={cts:P,description_index:v,description:p.mdia.minf.stbl.stsd.entries[v],dts:A,duration:T,moof_number:this.lastMoofIndex,number_in_traf:D,number:p.samples.length,offset:M,size:Y,timescale:p.mdia.mdhd.timescale,track_id:p.tkhd.track_id,is_sync:!(S>>16&1),is_leading:S>>26&3,depends_on:S>>24&3,is_depended_on:S>>22&3,has_redundancy:S>>20&3,degradation_priority:S&65535};f.first_sample_index=p.samples.length,p.samples.push(B),(f.sbgps.length>0||f.sgpds.length>0||p.mdia.minf.stbl.sbgps.length>0||p.mdia.minf.stbl.sgpds.length>0)&&al.setSampleGroupProperties(p,B,B.number_in_traf,f.sample_groups_info)}}if(f.subs){p.has_fragment_subsamples=!0;let m=f.first_sample_index;for(let y=0;y<f.subs.entries.length;y++){m+=f.subs.entries[y].sample_delta;const _=p.samples[m-1];_.subsamples=f.subs.entries[y].subsamples}}}}}}getSample(e,n){const r=e.samples[n];if(this.moov){if(!r.data)r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,ot.debug("ISOFile","Allocating sample #"+n+" on track #"+e.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");else if(r.alreadyRead===r.size)return r;for(;;){let i=this.stream,a=i.findPosition(!0,r.offset+r.alreadyRead,!1),o,c;if(a>-1)o=i.buffers[a],c=o.fileStart;else for(const u of this.mdats){if(!u.stream){ot.debug("ISOFile","mdat stream not yet fully read for #"+this.mdats.indexOf(u)+" mdat");continue}if(a=u.stream.findPosition(!0,r.offset+r.alreadyRead-u.start-u.hdr_size,!1),a>-1){i=u.stream,o=u.stream.buffers[a],c=u.start+u.hdr_size+o.fileStart;break}}if(o){const u=o.byteLength-(r.offset+r.alreadyRead-c);if(r.size-r.alreadyRead<=u)return ot.debug("ISOFile","Getting sample #"+n+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-c)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),ms.memcpy(r.data.buffer,r.alreadyRead,o,r.offset+r.alreadyRead-c,r.size-r.alreadyRead),o.usedBytes+=r.size-r.alreadyRead,i.logBufferLevel(),r.alreadyRead=r.size,r;if(u===0)return;ot.debug("ISOFile","Getting sample #"+n+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-c)+" read size: "+u+" full size: "+r.size+")"),ms.memcpy(r.data.buffer,r.alreadyRead,o,r.offset+r.alreadyRead-c,u),r.alreadyRead+=u,o.usedBytes+=u,i.logBufferLevel()}else return}}}releaseSample(e,n){const r=e.samples[n];return r.data?(this.samplesDataSize-=r.size,r.data=void 0,r.alreadyRead=0,r.size):0}getAllocatedSampleDataSize(){return this.samplesDataSize}getCodecs(){let e="";for(let n=0;n<this.moov.traks.length;n++){const r=this.moov.traks[n];n>0&&(e+=","),e+=r.mdia.minf.stbl.stsd.entries[0].getCodec()}return e}getTrexById(e){if(!(!this.moov||!this.moov.mvex))for(let n=0;n<this.moov.mvex.trexs.length;n++){const r=this.moov.mvex.trexs[n];if(r.track_id===e)return r}}getTrackById(e){if(this.moov)for(let n=0;n<this.moov.traks.length;n++){const r=this.moov.traks[n];if(r.tkhd.track_id===e)return r}}flattenItemInfo(){const e=this.items,n=this.entity_groups,r=this.meta;if(!(!r||!r.hdlr||!r.iinf)){for(let i=0;i<r.iinf.item_infos.length;i++){const a=r.iinf.item_infos[i].item_ID;e[a]={id:a,name:r.iinf.item_infos[i].item_name,ref_to:[],content_type:r.iinf.item_infos[i].content_type,content_encoding:r.iinf.item_infos[i].content_encoding,item_uri_type:r.iinf.item_infos[i].item_uri_type,type:r.iinf.item_infos[i].item_type?r.iinf.item_infos[i].item_type:"mime",protection:r.iinf.item_infos[i].item_protection_index>0?r.ipro.protections[r.iinf.item_infos[i].item_protection_index-1]:void 0}}if(r.grpl)for(let i=0;i<r.grpl.boxes.length;i++){const a=r.grpl.boxes[i];n[a.group_id]={id:a.group_id,entity_ids:a.entity_ids,type:a.type}}if(r.iloc)for(let i=0;i<r.iloc.items.length;i++){const a=r.iloc.items[i],o=e[a.item_ID];a.data_reference_index!==0&&(ot.warn("Item storage with reference to other files: not supported"),o.source=r.dinf.boxes[a.data_reference_index-1]),o.extents=[],o.size=0;for(let c=0;c<a.extents.length;c++)o.extents[c]={offset:a.extents[c].extent_offset+a.base_offset,length:a.extents[c].extent_length,alreadyRead:0},a.construction_method===1&&(o.extents[c].offset+=r.idat.start+r.idat.hdr_size),o.size+=o.extents[c].length}if(r.pitm&&(e[r.pitm.item_id].primary=!0),r.iref)for(let i=0;i<r.iref.references.length;i++){const a=r.iref.references[i];for(let o=0;o<a.references.length;o++)e[a.from_item_ID].ref_to.push({type:a.type,id:a.references[o]})}if(r.iprp)for(let i=0;i<r.iprp.ipmas.length;i++){const a=r.iprp.ipmas[i];for(let o=0;o<a.associations.length;o++){const c=a.associations[o],u=e[c.id]??n[c.id];if(u){u.properties===void 0&&(u.properties={boxes:[]});for(let f=0;f<c.props.length;f++){const p=c.props[f];if(p.property_index>0&&p.property_index-1<r.iprp.ipco.boxes.length){const h=r.iprp.ipco.boxes[p.property_index-1];u.properties[h.type]=h,u.properties.boxes.push(h)}}}}}}}getItem(e){if(!this.meta)return;const n=this.items[e];if(!n.data&&n.size)n.data=new Uint8Array(n.size),n.alreadyRead=0,this.itemsDataSize+=n.size,ot.debug("ISOFile","Allocating item #"+e+" of size "+n.size+" (total: "+this.itemsDataSize+")");else if(n.alreadyRead===n.size)return n;for(let r=0;r<n.extents.length;r++){const i=n.extents[r];if(i.alreadyRead!==i.length){const a=this.stream.findPosition(!0,i.offset+i.alreadyRead,!1);if(a>-1){const o=this.stream.buffers[a],c=o.byteLength-(i.offset+i.alreadyRead-o.fileStart);if(i.length-i.alreadyRead<=c)ot.debug("ISOFile","Getting item #"+e+" extent #"+r+" data (alreadyRead: "+i.alreadyRead+" offset: "+(i.offset+i.alreadyRead-o.fileStart)+" read size: "+(i.length-i.alreadyRead)+" full extent size: "+i.length+" full item size: "+n.size+")"),ms.memcpy(n.data.buffer,n.alreadyRead,o,i.offset+i.alreadyRead-o.fileStart,i.length-i.alreadyRead),(!this.parsingMdat||this.discardMdatData)&&(o.usedBytes+=i.length-i.alreadyRead),this.stream.logBufferLevel(),n.alreadyRead+=i.length-i.alreadyRead,i.alreadyRead=i.length;else{ot.debug("ISOFile","Getting item #"+e+" extent #"+r+" partial data (alreadyRead: "+i.alreadyRead+" offset: "+(i.offset+i.alreadyRead-o.fileStart)+" read size: "+c+" full extent size: "+i.length+" full item size: "+n.size+")"),ms.memcpy(n.data.buffer,n.alreadyRead,o,i.offset+i.alreadyRead-o.fileStart,c),i.alreadyRead+=c,n.alreadyRead+=c,(!this.parsingMdat||this.discardMdatData)&&(o.usedBytes+=c),this.stream.logBufferLevel();return}}else return}}if(n.alreadyRead===n.size)return n}releaseItem(e){const n=this.items[e];if(n.data){this.itemsDataSize-=n.size,n.data=void 0,n.alreadyRead=0;for(let r=0;r<n.extents.length;r++){const i=n.extents[r];i.alreadyRead=0}return n.size}else return 0}processItems(e){for(const n in this.items){const r=this.items[n];this.getItem(r.id),e&&!r.sent&&(e(r),r.sent=!0,r.data=void 0)}}hasItem(e){for(const n in this.items){const r=this.items[n];if(r.name===e)return r.id}return-1}getMetaHandler(){if(this.meta)return this.meta.hdlr.handler}getPrimaryItem(){if(this.meta&&this.meta.pitm)return this.getItem(this.meta.pitm.item_id)}itemToFragmentedTrackFile({itemId:e}={}){let n;if(e?n=this.getItem(e):n=this.getPrimaryItem(),!n)return;const r=new al;r.discardMdatData=!1;const i={type:n.type,description_boxes:n.properties.boxes};n.properties.ispe&&(i.width=n.properties.ispe.image_width,i.height=n.properties.ispe.image_height);const a=r.addTrack(i);if(a)return r.addSample(a,n.data),r}processIncompleteBox(e){if(e.type==="mdat"){const n=new Tv(e.size);return this.parsingMdat=n,this.boxes.push(n),this.mdats.push(n),n.start=e.start,n.hdr_size=e.hdr_size,n.original_size=e.original_size,this.stream.addUsedBytes(n.hdr_size),this.lastBoxStartPosition=n.start+n.size,this.stream.seek(n.start+n.size,!1,this.discardMdatData)?(this.transferMdatData(),this.parsingMdat=void 0,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=n.start+n.size,!1)}else return e.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),(this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1)?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1)}hasIncompleteMdat(){return this.parsingMdat!==void 0}transferMdatData(e){const n=e??this.parsingMdat;if(this.discardMdatData){ot.debug("ISOFile","Discarding 'mdat' data, not transferring it to the mdat box stream");return}if(!n){ot.warn("ISOFile","Cannot transfer 'mdat' data, no mdat box is being parsed");return}const r=this.stream.findPosition(!0,n.start+n.hdr_size,!1),i=this.stream.findPosition(!0,n.start+n.size,!1);if(r===-1||i===-1){ot.warn("ISOFile","Cannot transfer 'mdat' data, start or end buffer not found");return}n.stream=new xv;for(let a=r;a<=i;a++){const o=this.stream.buffers[a],c=a===r?n.start+n.hdr_size-o.fileStart:0,u=a===i?n.start+n.size-o.fileStart:o.byteLength;if(u>c){ot.debug("ISOFile","Transferring 'mdat' data from buffer #"+a+" ("+c+" to "+u+")");const f=u-c,p=new ll(f),h=n.stream.getAbsoluteEndPosition();ms.memcpy(p,0,o,c,f),p.fileStart=h,n.stream.insertBuffer(p),o.usedBytes+=f}}}processIncompleteMdat(){const e=this.parsingMdat;return this.stream.seek(e.start+e.size,!1,this.discardMdatData)?(ot.debug("ISOFile","Found 'mdat' end in buffered data"),this.transferMdatData(),this.parsingMdat=void 0,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)}restoreParsePosition(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)}saveParsePosition(){this.lastBoxStartPosition=this.stream.getPosition()}updateUsedBytes(e,n){this.stream.addUsedBytes&&(e.type==="mdat"?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))}addBox(e){return Ot.prototype.addBox.call(this,e)}init(e={}){const n=this.addBox(new rX);n.major_brand=e.brands&&e.brands[0]||"iso4",n.minor_version=0,n.compatible_brands=e.brands||["iso4"];const r=this.addBox(new Ex);r.addBox(new Ux);const i=r.addBox(new cX);return i.timescale=e.timescale||600,i.rate=e.rate||65536,i.creation_time=0,i.modification_time=0,i.duration=e.duration||0,i.volume=e.width?0:256,i.matrix=[65536,0,0,0,65536,0,0,0,1073741824],i.next_track_id=1,this}addTrack(e={}){this.moov||this.init(e);const n=e||{};n.width=n.width||320,n.height=n.height||320,n.id=n.id||this.moov.mvhd.next_track_id,n.type=n.type||"avc1";const r=this.moov.addBox(new jI);this.moov.mvhd.next_track_id=n.id+1;const i=r.addBox(new YX);i.flags=jQ|HQ|GQ,i.creation_time=0,i.modification_time=0,i.track_id=n.id,i.duration=n.duration||0,i.layer=n.layer||0,i.alternate_group=0,i.volume=1,i.matrix=[65536,0,0,0,65536,0,0,0,1073741824],i.width=n.width<<16,i.height=n.height<<16;const a=r.addBox(new HI),o=a.addBox(new aX);o.creation_time=0,o.modification_time=0,o.timescale=n.timescale||1,o.duration=n.media_duration||0,o.language=n.language||"und";const c=a.addBox(new iX);c.handler=n.hdlr||"vide",c.name=n.name||"Track created with MP4Box.js";const u=a.addBox(new nX);u.extended_language=n.language||"fr-FR";const f=a.addBox(new GI),p=es.sampleEntry[n.type];if(!p)return;const h=new p;if(h.data_reference_index=1,h instanceof Ar){const W=h,w=f.addBox(new wX);w.graphicsmode=0,w.opcolor=[0,0,0],W.width=n.width,W.height=n.height,W.horizresolution=72<<16,W.vertresolution=72<<16,W.frame_count=1,W.compressorname=n.type+" Compressor",W.depth=24,n.avcDecoderConfigRecord?W.addBox(new $I(n.avcDecoderConfigRecord.byteLength)).parse(new ms(n.avcDecoderConfigRecord)):n.hevcDecoderConfigRecord&&W.addBox(new sX(n.hevcDecoderConfigRecord.byteLength)).parse(new ms(n.hevcDecoderConfigRecord))}else if(h instanceof ns){const W=h,w=f.addBox(new hX);w.balance=n.balance||0,W.channel_count=n.channel_count||2,W.samplesize=n.samplesize||16,W.samplerate=n.samplerate||65536}else h instanceof MC?f.addBox(new KI):h instanceof Wc?(f.addBox(new mX),h instanceof dX&&(h.namespace=n.namespace||"nonamespace",h.schema_location=n.schema_location||"",h.auxiliary_mime_types=n.auxiliary_mime_types||"")):h instanceof r0?f.addBox(new wv):h instanceof HT?f.addBox(new wv):f.addBox(new wv);n.description&&h.addBox.call(h,n.description),n.description_boxes&&n.description_boxes.forEach(function(W){h.addBox.call(h,W)});const y=f.addBox(new qI).addBox(new tX),_=new TX;_.flags=1,y.addEntry(_);const v=f.addBox(new QI);v.addBox(new yX).addEntry(h);const Y=v.addBox(new _X);Y.sample_counts=[],Y.sample_deltas=[];const T=v.addBox(new gX);T.first_chunk=[],T.samples_per_chunk=[],T.sample_description_index=[];const A=v.addBox(new pX);A.chunk_offsets=[];const P=v.addBox(new vX);P.sample_sizes=[];const C=this.moov.mvex.addBox(new Cx);return C.track_id=n.id,C.default_sample_description_index=n.default_sample_description_index||1,C.default_sample_duration=n.default_sample_duration||0,C.default_sample_size=n.default_sample_size||0,C.default_sample_flags=n.default_sample_flags||0,this.buildTrakSampleLists(r),n.id}addSample(e,n,{sample_description_index:r,duration:i=1,cts:a=0,dts:o=0,is_sync:c=!1,is_leading:u=0,depends_on:f=0,is_depended_on:p=0,has_redundancy:h=0,degradation_priority:m=0,subsamples:y,offset:_=0}={}){const v=this.getTrackById(e);if(v===void 0)return;const S=r?r-1:0,Y={number:v.samples.length,track_id:v.tkhd.track_id,timescale:v.mdia.mdhd.timescale,description_index:S,description:v.mdia.minf.stbl.stsd.entries[S],data:n,size:n.byteLength,alreadyRead:n.byteLength,duration:i,cts:a,dts:o,is_sync:c,is_leading:u,depends_on:f,is_depended_on:p,has_redundancy:h,degradation_priority:m,offset:_,subsamples:y};v.samples.push(Y),v.samples_size+=Y.size,v.samples_duration+=Y.duration,v.first_dts===void 0&&(v.first_dts=o),this.processSamples();const T=this.addBox(this.createMoof([Y]));T.computeSize(),T.trafs[0].truns[0].data_offset=T.size+8;const A=this.addBox(new Tv);return A.data=new Uint8Array(n),Y}createMoof(e){if(e.length===0)return;if(e.some(p=>p.track_id!==e[0].track_id))throw new Error("Cannot create moof for samples from different tracks: "+e.map(p=>p.track_id).join(", "));const n=e[0].track_id,r=this.getTrackById(n);if(!r)throw new Error("Cannot create moof for non-existing track: "+n);const i=new JI,a=i.addBox(new lX);a.sequence_number=++this.nextMoofNumber;const o=i.addBox(new eX),c=o.addBox(new bX);c.track_id=n,c.flags=kC;const u=o.addBox(new SX);u.baseMediaDecodeTime=e[0].dts-(r.first_dts||0);const f=o.addBox(new xX);f.flags=Xg|Rg|Pg|Mg|Og,f.data_offset=0,f.first_sample_flags=0,f.sample_count=e.length;for(const p of e){let h=0;p.is_sync?h=1<<25:h=65536,f.sample_duration.push(p.duration),f.sample_size.push(p.size),f.sample_flags.push(h),f.sample_composition_time_offset.push(p.cts-p.dts)}return i}print(e){e.indent="";for(let n=0;n<this.boxes.length;n++)this.boxes[n]&&this.boxes[n].print(e)}};function WX(t=!1,e){return new qee(e,!t)}var EX={};FI(EX,{Descriptor:()=>Uc,ES_Descriptor:()=>kX,MPEG4DescriptorParser:()=>nte});var UX=3,o_=4,GT=5,CX=6,Uc=class AX{constructor(e,n){this.tag=e,this.size=n,this.descs=[]}parse(e){this.data=e.readUint8Array(this.size)}findDescriptor(e){for(let n=0;n<this.descs.length;n++)if(this.descs[n].tag===e)return this.descs[n]}parseOneDescriptor(e){let n=0;const r=e.readUint8();let i=e.readUint8();for(;i&128;)n=(n<<7)+(i&127),i=e.readUint8();n=(n<<7)+(i&127),ot.debug("Descriptor","Found "+(Wv[r]||"Descriptor "+r)+", size "+n+" at position "+e.getPosition());const a=Wv[r]?new tte[Wv[r]](n):new AX(n);return a.parse(e),a}parseRemainingDescriptors(e){const n=e.getPosition();for(;e.getPosition()<n+this.size;){const r=this.parseOneDescriptor?.(e);this.descs.push(r)}}},kX=class extends Uc{constructor(t){super(UX,t)}parse(t){if(this.ES_ID=t.readUint16(),this.flags=t.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=t.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){const e=t.readUint8();this.URL=t.readString(e),this.size-=e+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=t.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(t)}getOTI(){const t=this.findDescriptor(o_);return t?t.oti:0}getAudioConfig(){const t=this.findDescriptor(o_);if(!t)return;const e=t.findDescriptor(GT);if(e&&e.data){let n=(e.data[0]&248)>>3;return n===31&&e.data.length>=2&&(n=32+((e.data[0]&7)<<3)+((e.data[1]&224)>>5)),n}}},Qee=class extends Uc{constructor(t){super(o_,t)}parse(t){this.oti=t.readUint8(),this.streamType=t.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=t.readUint24(),this.maxBitrate=t.readUint32(),this.avgBitrate=t.readUint32(),this.size-=13,this.parseRemainingDescriptors(t)}},Jee=class extends Uc{constructor(t){super(GT,t)}},ete=class extends Uc{constructor(t){super(CX,t)}},tte={Descriptor:Uc,ES_Descriptor:kX,DecoderConfigDescriptor:Qee,DecoderSpecificInfo:Jee,SLConfigDescriptor:ete},Wv={[UX]:"ES_Descriptor",[o_]:"DecoderConfigDescriptor",[GT]:"DecoderSpecificInfo",[CX]:"SLConfigDescriptor"},nte=class{constructor(){this.parseOneDescriptor=Uc.prototype.parseOneDescriptor}getDescriptorName(t){return Wv[t]}},IX={};FI(IX,{CoLLBox:()=>mte,ItemContentIDPropertyBox:()=>Zre,OpusSampleEntry:()=>Cee,SmDmBox:()=>Vne,a1lxBox:()=>rte,a1opBox:()=>ite,ac_3SampleEntry:()=>Wee,ac_4SampleEntry:()=>Eee,aebrBox:()=>Xte,afbrBox:()=>Rte,albcBox:()=>Pte,alstSampleGroupEntry:()=>_re,altrBox:()=>Mte,auxCBox:()=>ste,av01SampleEntry:()=>tee,av1CBox:()=>$J,avc1SampleEntry:()=>qJ,avc2SampleEntry:()=>QJ,avc3SampleEntry:()=>JJ,avc4SampleEntry:()=>eee,avcCBox:()=>$I,avllSampleGroupEntry:()=>Sre,avs3SampleEntry:()=>vee,avssSampleGroupEntry:()=>bre,brstBox:()=>Ote,btrtBox:()=>ate,bxmlBox:()=>gJ,ccstBox:()=>ote,cdefBox:()=>lte,clapBox:()=>cte,clefBox:()=>wne,clliBox:()=>ute,cmexBox:()=>fte,cminBox:()=>dte,cmpdBox:()=>hte,co64Box:()=>pte,colrBox:()=>GJ,coviBox:()=>vte,cprtBox:()=>_te,cschBox:()=>Ste,cslgBox:()=>bte,cttsBox:()=>Yte,dOpsBox:()=>Cte,dac3Box:()=>xte,dataBox:()=>wg,dav1SampleEntry:()=>nee,dec3Box:()=>Tte,dfLaBox:()=>wte,dimmBox:()=>Wte,dinfBox:()=>qI,dmax:()=>Ete,dmedBox:()=>Ute,dobrBox:()=>Nte,drefBox:()=>tX,drepBox:()=>Ate,dtrtSampleGroupEntry:()=>Yre,dvh1SampleEntry:()=>uee,dvheSampleEntry:()=>fee,ec_3SampleEntry:()=>Uee,edtsBox:()=>vJ,elngBox:()=>nX,elstBox:()=>kte,emsgBox:()=>Ite,encaSampleEntry:()=>Mee,encmSampleEntry:()=>Vee,encsSampleEntry:()=>Nee,enctSampleEntry:()=>Bee,encuSampleEntry:()=>Oee,encvSampleEntry:()=>Pee,enofBox:()=>Ene,eqivBox:()=>Dte,esdsBox:()=>KJ,etypBox:()=>PJ,fLaCSampleEntry:()=>Ree,favcBox:()=>Bte,fielBox:()=>Gte,fobrBox:()=>Vte,freeBox:()=>dJ,frmaBox:()=>qte,ftypBox:()=>rX,grplBox:()=>XJ,hdlrBox:()=>iX,hev1SampleEntry:()=>see,hev2SampleEntry:()=>aee,hinfBox:()=>xJ,hmhdBox:()=>KI,hntiBox:()=>YJ,hvc1SampleEntry:()=>ree,hvc2SampleEntry:()=>iee,hvcCBox:()=>sX,hvt1SampleEntry:()=>oee,iaugBox:()=>Fte,idatBox:()=>fJ,iinfBox:()=>NJ,ilocBox:()=>DJ,ilstBox:()=>Une,imirBox:()=>Qte,infeBox:()=>OJ,iodsBox:()=>pJ,ipcoBox:()=>IJ,ipmaBox:()=>Jte,iproBox:()=>yJ,iprpBox:()=>kJ,irefBox:()=>VJ,irotBox:()=>ene,ispeBox:()=>tne,itaiBox:()=>nne,j2kHBox:()=>RJ,j2kiSampleEntry:()=>_ee,keysBox:()=>Cne,kindBox:()=>rne,levaBox:()=>ine,lhe1SampleEntry:()=>lee,lhv1SampleEntry:()=>cee,lhvCBox:()=>sne,lselBox:()=>ane,m4aeSampleEntry:()=>wee,maxrBox:()=>one,mdatBox:()=>Tv,mdcvBox:()=>lne,mdhdBox:()=>aX,mdiaBox:()=>HI,mecoBox:()=>bJ,mehdBox:()=>oX,metaBox:()=>LJ,mettSampleEntry:()=>ZJ,metxSampleEntry:()=>zJ,mfhdBox:()=>lX,mfraBox:()=>SJ,mfroBox:()=>cne,mha1SampleEntry:()=>Aee,mha2SampleEntry:()=>kee,mhm1SampleEntry:()=>Iee,mhm2SampleEntry:()=>Xee,minfBox:()=>GI,mjp2SampleEntry:()=>See,mjpgSampleEntry:()=>bee,moofBox:()=>JI,moovBox:()=>Ex,mp4aSampleEntry:()=>Tee,mp4sSampleEntry:()=>Dee,mp4vSampleEntry:()=>xee,mskCBox:()=>une,msrcTrackGroupTypeBox:()=>ore,mvexBox:()=>Ux,mvhdBox:()=>cX,mvifSampleGroupEntry:()=>xre,nmhdBox:()=>wv,npckBox:()=>fne,numpBox:()=>dne,padbBox:()=>pne,panoBox:()=>Lte,paspBox:()=>mne,paylBox:()=>gne,paytBox:()=>yne,pdinBox:()=>vne,piffLsmBox:()=>Nre,piffPsshBox:()=>Dre,piffSencBox:()=>Bre,piffTencBox:()=>Vre,piffTfrfBox:()=>Fre,piffTfxdBox:()=>Lre,pitmBox:()=>FJ,pixiBox:()=>_ne,pmaxBox:()=>Sne,povdBox:()=>MJ,prdiBox:()=>bne,prfrBox:()=>Yne,prftBox:()=>xne,prgrBox:()=>jte,profBox:()=>Ane,prolSampleGroupEntry:()=>Tre,psshBox:()=>Tne,pymdBox:()=>Hte,rapSampleGroupEntry:()=>wre,rashSampleGroupEntry:()=>Wre,resvSampleEntry:()=>Fee,rinfBox:()=>EJ,rollSampleGroupEntry:()=>Ere,rtp_Box:()=>Xne,saioBox:()=>Rne,saizBox:()=>Pne,sbgpBox:()=>Kee,sbpmBox:()=>One,sbttSampleEntry:()=>Lee,schiBox:()=>UJ,schmBox:()=>Nne,scifSampleGroupEntry:()=>Ure,scnmSampleGroupEntry:()=>Cre,sdp_Box:()=>Dne,sdtpBox:()=>jee,seigSampleGroupEntry:()=>Are,sencBox:()=>Bne,sgpdBox:()=>Hee,sidxBox:()=>Gee,sinfBox:()=>WJ,skipBox:()=>hJ,slidBox:()=>Zte,smhdBox:()=>hX,sratBox:()=>Fne,ssixBox:()=>Lne,stblBox:()=>QI,stcoBox:()=>pX,stdpBox:()=>Zne,sterBox:()=>zte,sthdBox:()=>mX,stppSampleEntry:()=>dX,strdBox:()=>wJ,striBox:()=>zne,strkBox:()=>TJ,stsaSampleGroupEntry:()=>kre,stscBox:()=>gX,stsdBox:()=>yX,stsgBox:()=>$ne,stshBox:()=>Kne,stssBox:()=>jne,stszBox:()=>vX,sttsBox:()=>_X,stviBox:()=>Hne,stxtSampleEntry:()=>Zee,stypBox:()=>Gne,stz2Box:()=>qne,subsBox:()=>Qne,syncSampleGroupEntry:()=>Ire,taicBox:()=>Jne,taptBox:()=>kne,teleSampleGroupEntry:()=>Xre,tencBox:()=>ere,tfdtBox:()=>SX,tfhdBox:()=>bX,tfraBox:()=>tre,tkhdBox:()=>YX,tmaxBox:()=>nre,tminBox:()=>rre,totlBox:()=>ire,tpayBox:()=>sre,tpylBox:()=>are,trafBox:()=>eX,trakBox:()=>jI,trefBox:()=>lre,trepBox:()=>cre,trexBox:()=>Cx,trgrBox:()=>CJ,trpyBox:()=>ure,trunBox:()=>xX,tsasSampleGroupEntry:()=>Rre,tsclSampleGroupEntry:()=>Pre,tselBox:()=>fre,tsynBox:()=>$te,tx3gSampleEntry:()=>zee,txtcBox:()=>dre,tycoBox:()=>hre,udesBox:()=>pre,udtaBox:()=>AJ,uncCBox:()=>mre,uncvSampleEntry:()=>Yee,urlBox:()=>TX,urnBox:()=>gre,viprSampleGroupEntry:()=>Mre,vmhdBox:()=>wX,vp08SampleEntry:()=>gee,vp09SampleEntry:()=>yee,vpcCBox:()=>jJ,vttCBox:()=>yre,vttcBox:()=>_J,vvc1SampleEntry:()=>dee,vvcCBox:()=>HJ,vvcNSampleEntry:()=>mee,vvi1SampleEntry:()=>hee,vvnCBox:()=>vre,vvs1SampleEntry:()=>pee,waveBox:()=>Ine,wbbrBox:()=>Kte,wvttSampleEntry:()=>$ee,xmlBox:()=>mJ});var lh,rte=(lh=class extends Ot{constructor(){super(...arguments),this.box_name="AV1LayeredImageIndexingProperty"}parse(e){const r=((e.readUint8()&1&1)+1)*16;this.layer_size=[];for(let i=0;i<3;i++)r===16?this.layer_size[i]=e.readUint16():this.layer_size[i]=e.readUint32()}},lh.fourcc="a1lx",lh),ch,ite=(ch=class extends Ot{constructor(){super(...arguments),this.box_name="OperatingPointSelectorProperty"}parse(e){this.op_index=e.readUint8()}},ch.fourcc="a1op",ch),uh,ste=(uh=class extends dt{constructor(){super(...arguments),this.box_name="AuxiliaryTypeProperty"}parse(e){this.parseFullHeader(e),this.aux_type=e.readCString();const n=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(n)}},uh.fourcc="auxC",uh),fh,ate=(fh=class extends Ot{constructor(){super(...arguments),this.box_name="BitRateBox"}parse(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}},fh.fourcc="btrt",fh),dh,ote=(dh=class extends dt{constructor(){super(...arguments),this.box_name="CodingConstraintsBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.all_ref_pics_intra=(n&128)===128,this.intra_pred_used=(n&64)===64,this.max_ref_per_pic=(n&63)>>2,e.readUint24()}},dh.fourcc="ccst",dh),hh,lte=(hh=class extends Ot{constructor(){super(...arguments),this.box_name="ComponentDefinitionBox"}parse(e){this.channel_count=e.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[];for(let n=0;n<this.channel_count;n++)this.channel_indexes.push(e.readUint16()),this.channel_types.push(e.readUint16()),this.channel_associations.push(e.readUint16())}},hh.fourcc="cdef",hh),ph,cte=(ph=class extends Ot{constructor(){super(...arguments),this.box_name="CleanApertureBox"}parse(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}},ph.fourcc="clap",ph),mh,ute=(mh=class extends Ot{constructor(){super(...arguments),this.box_name="ContentLightLevelBox"}parse(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}},mh.fourcc="clli",mh),gh,fte=(gh=class extends Ot{constructor(){super(...arguments),this.box_name="CameraExtrinsicMatrixProperty"}parse(e){this.flags&1&&(this.pos_x=e.readInt32()),this.flags&2&&(this.pos_y=e.readInt32()),this.flags&4&&(this.pos_z=e.readInt32()),this.flags&8&&(this.version===0?this.flags&16?(this.quat_x=e.readInt32(),this.quat_y=e.readInt32(),this.quat_z=e.readInt32()):(this.quat_x=e.readInt16(),this.quat_y=e.readInt16(),this.quat_z=e.readInt16()):this.version),this.flags&32&&(this.id=e.readUint32())}},gh.fourcc="cmex",gh),yh,dte=(yh=class extends Ot{constructor(){super(...arguments),this.box_name="CameraIntrinsicMatrixProperty"}parse(e){this.focal_length_x=e.readInt32(),this.principal_point_x=e.readInt32(),this.principal_point_y=e.readInt32(),this.flags&1&&(this.focal_length_y=e.readInt32(),this.skew_factor=e.readInt32())}},yh.fourcc="cmin",yh),vh,hte=(vh=class extends Ot{constructor(){super(...arguments),this.box_name="ComponentDefinitionBox"}parse(e){this.component_count=e.readUint32(),this.component_types=[],this.component_type_urls=[];for(let n=0;n<this.component_count;n++){const r=e.readUint16();this.component_types.push(r),r>=32768&&this.component_type_urls.push(e.readCString())}}},vh.fourcc="cmpd",vh),_h,pte=(_h=class extends dt{constructor(){super(...arguments),this.box_name="ChunkLargeOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.chunk_offsets=[],this.version===0)for(let r=0;r<n;r++)this.chunk_offsets.push(e.readUint64())}write(e){this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length);for(let n=0;n<this.chunk_offsets.length;n++)e.writeUint64(this.chunk_offsets[n])}},_h.fourcc="co64",_h),Sh,mte=(Sh=class extends dt{constructor(){super(...arguments),this.box_name="ContentLightLevelBox"}parse(e){this.parseFullHeader(e),this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}},Sh.fourcc="CoLL",Sh),gte=class{toString(){let t="centre_azimuth: ";return t+=this.centre_azimuth,t+=" (",t+=this.centre_azimuth*2**-16,t+="), centre_elevation: ",t+=this.centre_elevation,t+=" (",t+=this.centre_elevation*2**-16,t+="), centre_tilt: ",t+=this.centre_tilt,t+=" (",t+=this.centre_tilt*2**-16,t+=")",this.range_included_flag&&(t+=", azimuth_range: ",t+=this.azimuth_range,t+=" (",t+=this.azimuth_range*2**-16,t+="), elevation_range: ",t+=this.elevation_range,t+=" (",t+=this.elevation_range*2**-16,t+=")"),this.interpolate_included_flag&&(t+=", interpolate: ",t+=this.interpolate),t}},yte=class{toString(){let t="";return this.view_idc&&(t+="view_idc: ",t+=this.view_idc,t+=", "),t+="sphere_region: {",t+=this.sphere_region,t+="}",t}},bh,vte=(bh=class extends dt{constructor(){super(...arguments),this.box_name="CoverageInformationBox"}parse(e){this.parseFullHeader(e),this.coverage_shape_type=e.readUint8();const n=e.readUint8(),r=e.readInt8(),i=r&128;i&&(this.default_view_idc=(r&96)>>5),this.coverage_regions=new Array;for(let a=0;a<n;a++){const o=new yte;i&&(o.view_idc=e.readUint8()>>6),o.sphere_region=this.parseSphereRegion(e,!0,!0),this.coverage_regions.push(o)}}parseSphereRegion(e,n,r){const i=new gte;return i.centre_azimuth=e.readInt32(),i.centre_elevation=e.readInt32(),i.centre_tilt=e.readInt32(),i.range_included_flag=n,n&&(i.azimuth_range=e.readUint32(),i.elevation_range=e.readUint32()),i.interpolate_included_flag=r,r&&(i.interpolate=(e.readUint8()&128)===128),i}},bh.fourcc="covi",bh),Yh,_te=(Yh=class extends dt{constructor(){super(...arguments),this.box_name="CopyrightBox"}parse(e){this.parseFullHeader(e),this.parseLanguage(e),this.notice=e.readCString()}},Yh.fourcc="cprt",Yh),xh,Ste=(xh=class extends dt{constructor(){super(...arguments),this.box_name="CompatibleSchemeTypeBox"}parse(e){this.parseFullHeader(e),this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readCString())}},xh.fourcc="csch",xh),yg=2147483647,Th,bte=(Th=class extends dt{constructor(){super(...arguments),this.box_name="CompositionToDecodeBox"}parse(e){this.parseFullHeader(e),this.version===0?(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32()):this.version===1&&(this.compositionToDTSShift=e.readInt64(),this.leastDecodeToDisplayDelta=e.readInt64(),this.greatestDecodeToDisplayDelta=e.readInt64(),this.compositionStartTime=e.readInt64(),this.compositionEndTime=e.readInt64())}write(e){this.version=0,(this.compositionToDTSShift>yg||this.leastDecodeToDisplayDelta>yg||this.greatestDecodeToDisplayDelta>yg||this.compositionStartTime>yg||this.compositionEndTime>yg)&&(this.version=1),this.flags=0,this.version===0?(this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)):this.version===1&&(this.size=40,this.writeHeader(e),e.writeInt64(this.compositionToDTSShift),e.writeInt64(this.leastDecodeToDisplayDelta),e.writeInt64(this.greatestDecodeToDisplayDelta),e.writeInt64(this.compositionStartTime),e.writeInt64(this.compositionEndTime))}},Th.fourcc="cslg",Th),wh,Yte=(wh=class extends dt{constructor(){super(...arguments),this.box_name="CompositionOffsetBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.sample_counts=[],this.sample_offsets=[],this.version===0)for(let r=0;r<n;r++){this.sample_counts.push(e.readUint32());const i=e.readInt32();i<0&&ot.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(i)}else if(this.version===1)for(let r=0;r<n;r++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}write(e){this.version=this.sample_offsets.some(n=>n<0)?1:0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length);for(let n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),this.version===1?e.writeInt32(this.sample_offsets[n]):e.writeUint32(this.sample_offsets[n])}unpack(e){let n=0;for(let r=0;r<this.sample_counts.length;r++)for(let i=0;i<this.sample_counts[r];i++)e[n].pts=e[n].dts+this.sample_offsets[r],n++}},wh.fourcc="ctts",wh),Wh,xte=(Wh=class extends Ot{constructor(){super(...arguments),this.box_name="AC3SpecificBox"}parse(e){const n=e.readUint8(),r=e.readUint8(),i=e.readUint8();this.fscod=n>>6,this.bsid=n>>1&31,this.bsmod=(n&1)<<2|r>>6&3,this.acmod=r>>3&7,this.lfeon=r>>2&1,this.bit_rate_code=r&3|i>>5&7}},Wh.fourcc="dac3",Wh),Eh,Tte=(Eh=class extends Ot{constructor(){super(...arguments),this.box_name="EC3SpecificBox"}parse(e){const n=e.readUint16();this.data_rate=n>>3,this.num_ind_sub=n&7,this.ind_subs=[];for(let r=0;r<this.num_ind_sub+1;r++){const i=e.readUint8(),a=e.readUint8(),o=e.readUint8(),c={fscod:i>>6,bsid:i>>1&31,bsmod:(i&1)<<4|a>>4&15,acmod:a>>1&7,lfeon:a&1,num_dep_sub:o>>1&15};this.ind_subs.push(c),c.num_dep_sub>0&&(c.chan_loc=(o&1)<<8|e.readUint8())}}},Eh.fourcc="dec3",Eh),Uh,wte=(Uh=class extends dt{constructor(){super(...arguments),this.box_name="FLACSpecificBox"}parse(e){this.parseFullHeader(e);const n=127,r=128,i=[],a=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];let o;do{o=e.readUint8();const c=Math.min(o&n,a.length-1);c?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),i.push(a[c])}while(o&r);this.numMetadataBlocks=i.length+" ("+i.join(", ")+")"}},Uh.fourcc="dfLa",Uh),Ch,Wte=(Ch=class extends Ot{constructor(){super(...arguments),this.box_name="hintimmediateBytesSent"}parse(e){this.bytessent=e.readUint64()}},Ch.fourcc="dimm",Ch),Ah,Ete=(Ah=class extends Ot{constructor(){super(...arguments),this.box_name="hintlongestpacket"}parse(e){this.time=e.readUint32()}},Ah.fourcc="dmax",Ah),kh,Ute=(kh=class extends Ot{constructor(){super(...arguments),this.box_name="hintmediaBytesSent"}parse(e){this.bytessent=e.readUint64()}},kh.fourcc="dmed",kh),Ih,Cte=(Ih=class extends Ot{constructor(){super(...arguments),this.box_name="OpusSpecificBox"}parse(e){if(this.Version=e.readUint8(),this.OutputChannelCount=e.readUint8(),this.PreSkip=e.readUint16(),this.InputSampleRate=e.readUint32(),this.OutputGain=e.readInt16(),this.ChannelMappingFamily=e.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=e.readUint8(),this.CoupledCount=e.readUint8(),this.ChannelMapping=[];for(let n=0;n<this.OutputChannelCount;n++)this.ChannelMapping[n]=e.readUint8()}}write(e){if(this.size=11,this.ChannelMappingFamily!==0&&(this.size+=2+this.OutputChannelCount),this.writeHeader(e),e.writeUint8(this.Version),e.writeUint8(this.OutputChannelCount),e.writeUint16(this.PreSkip),e.writeUint32(this.InputSampleRate),e.writeInt16(this.OutputGain),e.writeUint8(this.ChannelMappingFamily),this.ChannelMappingFamily!==0){e.writeUint8(this.StreamCount),e.writeUint8(this.CoupledCount);for(let n=0;n<this.OutputChannelCount;n++)e.writeUint8(this.ChannelMapping[n])}}},Ih.fourcc="dOps",Ih),Xh,Ate=(Xh=class extends Ot{constructor(){super(...arguments),this.box_name="hintrepeatedBytesSent"}parse(e){this.bytessent=e.readUint64()}},Xh.fourcc="drep",Xh),Rh,kte=(Rh=class extends dt{constructor(){super(...arguments),this.box_name="EditListBox"}parse(e){this.parseFullHeader(e),this.entries=[];const n=e.readUint32();for(let r=0;r<n;r++){const i={segment_duration:this.version===1?e.readUint64():e.readUint32(),media_time:this.version===1?e.readInt64():e.readInt32(),media_rate_integer:e.readInt16(),media_rate_fraction:e.readInt16()};this.entries.push(i)}}write(e){const n=this.entries.some(r=>r.segment_duration>ci||r.media_time>ci)||this.version===1;this.version=n?1:0,this.size=4+12*this.entries.length,this.size+=n?8*this.entries.length:0,this.writeHeader(e),e.writeUint32(this.entries.length);for(let r=0;r<this.entries.length;r++){const i=this.entries[r];n?(e.writeUint64(i.segment_duration),e.writeInt64(i.media_time)):(e.writeUint32(i.segment_duration),e.writeInt32(i.media_time)),e.writeInt16(i.media_rate_integer),e.writeInt16(i.media_rate_fraction)}}},Rh.fourcc="elst",Rh),Ph,Ite=(Ph=class extends dt{constructor(){super(...arguments),this.box_name="EventMessageBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());let n=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version===1&&(n-=4),this.message_data=e.readUint8Array(n)}write(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)}},Ph.fourcc="emsg",Ph),wi=class extends dt{parse(t){this.parseFullHeader(t),this.group_id=t.readUint32(),this.num_entities_in_group=t.readUint32(),this.entity_ids=[];for(let e=0;e<this.num_entities_in_group;e++){const n=t.readUint32();this.entity_ids.push(n)}}},Mh,Xte=(Mh=class extends wi{constructor(){super(...arguments),this.box_name="Auto exposure bracketing"}},Mh.fourcc="aebr",Mh),Oh,Rte=(Oh=class extends wi{constructor(){super(...arguments),this.box_name="Flash exposure information"}},Oh.fourcc="afbr",Oh),Nh,Pte=(Nh=class extends wi{constructor(){super(...arguments),this.box_name="Album collection"}},Nh.fourcc="albc",Nh),Dh,Mte=(Dh=class extends wi{constructor(){super(...arguments),this.box_name="Alternative entity"}},Dh.fourcc="altr",Dh),Bh,Ote=(Bh=class extends wi{constructor(){super(...arguments),this.box_name="Burst image"}},Bh.fourcc="brst",Bh),Vh,Nte=(Vh=class extends wi{constructor(){super(...arguments),this.box_name="Depth of field bracketing"}},Vh.fourcc="dobr",Vh),Fh,Dte=(Fh=class extends wi{constructor(){super(...arguments),this.box_name="Equivalent entity"}},Fh.fourcc="eqiv",Fh),Lh,Bte=(Lh=class extends wi{constructor(){super(...arguments),this.box_name="Favorites collection"}},Lh.fourcc="favc",Lh),Zh,Vte=(Zh=class extends wi{constructor(){super(...arguments),this.box_name="Focus bracketing"}},Zh.fourcc="fobr",Zh),zh,Fte=(zh=class extends wi{constructor(){super(...arguments),this.box_name="Image item with an audio track"}},zh.fourcc="iaug",zh),$h,Lte=($h=class extends wi{constructor(){super(...arguments),this.box_name="Panorama"}},$h.fourcc="pano",$h),Kh,Zte=(Kh=class extends wi{constructor(){super(...arguments),this.box_name="Slideshow"}},Kh.fourcc="slid",Kh),jh,zte=(jh=class extends wi{constructor(){super(...arguments),this.box_name="Stereo"}},jh.fourcc="ster",jh),Hh,$te=(Hh=class extends wi{constructor(){super(...arguments),this.box_name="Time-synchronized capture"}},Hh.fourcc="tsyn",Hh),Gh,Kte=(Gh=class extends wi{constructor(){super(...arguments),this.box_name="White balance bracketing"}},Gh.fourcc="wbbr",Gh),qh,jte=(qh=class extends wi{constructor(){super(...arguments),this.box_name="Progressive rendering"}},qh.fourcc="prgr",qh),Qh,Hte=(Qh=class extends wi{constructor(){super(...arguments),this.box_name="Image pyramid"}parse(e){this.parseFullHeader(e),this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[];for(let n=0;n<this.num_entities_in_group;n++){const r=e.readUint32();this.entity_ids.push(r)}this.tile_size_x=e.readUint16(),this.tile_size_y=e.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[];for(let n=0;n<this.num_entities_in_group;n++)this.layer_binning[n]=e.readUint16(),this.tiles_in_layer_row_minus1[n]=e.readUint16(),this.tiles_in_layer_column_minus1[n]=e.readUint16()}},Qh.fourcc="pymd",Qh),Jh,Gte=(Jh=class extends Ot{constructor(){super(...arguments),this.box_name="FieldHandlingBox"}parse(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}},Jh.fourcc="fiel",Jh),ep,qte=(ep=class extends Ot{constructor(){super(...arguments),this.box_name="OriginalFormatBox"}parse(e){this.data_format=e.readString(4)}},ep.fourcc="frma",ep),tp,Qte=(tp=class extends Ot{constructor(){super(...arguments),this.box_name="ImageMirror"}parse(e){const n=e.readUint8();this.reserved=n>>7,this.axis=n&1}},tp.fourcc="imir",tp),np,Jte=(np=class extends dt{constructor(){super(...arguments),this.box_name="ItemPropertyAssociationBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.associations=[];for(let r=0;r<n;r++){const i=this.version<1?e.readUint16():e.readUint32(),a=[],o=e.readUint8();for(let c=0;c<o;c++){const u=e.readUint8();a.push({essential:(u&128)>>7===1,property_index:this.flags&1?(u&127)<<8|e.readUint8():u&127})}this.associations.push({id:i,props:a})}}},np.fourcc="ipma",np),rp,ene=(rp=class extends Ot{constructor(){super(...arguments),this.box_name="ImageRotation"}parse(e){this.angle=e.readUint8()&3}},rp.fourcc="irot",rp),ip,tne=(ip=class extends dt{constructor(){super(...arguments),this.box_name="ImageSpatialExtentsProperty"}parse(e){this.parseFullHeader(e),this.image_width=e.readUint32(),this.image_height=e.readUint32()}},ip.fourcc="ispe",ip),sp,nne=(sp=class extends dt{constructor(){super(...arguments),this.box_name="TAITimestampBox"}parse(e){this.TAI_timestamp=e.readUint64();const n=e.readUint8();this.sychronization_state=n>>7&1,this.timestamp_generation_failure=n>>6&1,this.timestamp_is_modified=n>>5&1}},sp.fourcc="itai",sp),ap,rne=(ap=class extends dt{constructor(){super(...arguments),this.box_name="KindBox"}parse(e){this.parseFullHeader(e),this.schemeURI=e.readCString(),this.isEndOfBox(e)||(this.value=e.readCString())}write(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value?this.value.length+1:0),this.writeHeader(e),e.writeCString(this.schemeURI),this.value&&e.writeCString(this.value)}},ap.fourcc="kind",ap),op,ine=(op=class extends dt{constructor(){super(...arguments),this.box_name="LevelAssignmentBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.levels=[];for(let r=0;r<n;r++){const i={};this.levels[r]=i,i.track_ID=e.readUint32();const a=e.readUint8();switch(i.padding_flag=a>>7,i.assignment_type=a&127,i.assignment_type){case 0:i.grouping_type=e.readString(4);break;case 1:i.grouping_type=e.readString(4),i.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:i.sub_track_id=e.readUint32();break;default:ot.warn("BoxParser",`Unknown level assignment type: ${i.assignment_type}`)}}}},op.fourcc="leva",op),lp,sne=(lp=class extends Ot{constructor(){super(...arguments),this.box_name="LHEVCConfigurationBox"}parse(e){this.configurationVersion=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3;let n=e.readUint8();this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];const r=e.readUint8();for(let i=0;i<r;i++){const a=[];this.nalu_arrays.push(a),n=e.readUint8(),a.completeness=(n&128)>>7,a.nalu_type=n&63;const o=e.readUint16();for(let c=0;c<o;c++){const u=e.readUint16();a.push({data:e.readUint8Array(u)})}}}},lp.fourcc="lhvC",lp),cp,ane=(cp=class extends Ot{constructor(){super(...arguments),this.box_name="LayerSelectorProperty"}parse(e){this.layer_id=e.readUint16()}},cp.fourcc="lsel",cp),up,one=(up=class extends Ot{constructor(){super(...arguments),this.box_name="hintmaxrate"}parse(e){this.period=e.readUint32(),this.bytes=e.readUint32()}},up.fourcc="maxr",up),Zy=class{constructor(t,e){this.x=t,this.y=e}toString(){return"("+this.x+","+this.y+")"}},fp,lne=(fp=class extends Ot{constructor(){super(...arguments),this.box_name="MasteringDisplayColourVolumeBox"}parse(e){this.display_primaries=[],this.display_primaries[0]=new Zy(e.readUint16(),e.readUint16()),this.display_primaries[1]=new Zy(e.readUint16(),e.readUint16()),this.display_primaries[2]=new Zy(e.readUint16(),e.readUint16()),this.white_point=new Zy(e.readUint16(),e.readUint16()),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}},fp.fourcc="mdcv",fp),dp,cne=(dp=class extends dt{constructor(){super(...arguments),this.box_name="MovieFragmentRandomAccessOffsetBox"}parse(e){this.parseFullHeader(e),this._size=e.readUint32()}},dp.fourcc="mfro",dp),hp,une=(hp=class extends dt{constructor(){super(...arguments),this.box_name="MaskConfigurationProperty"}parse(e){this.parseFullHeader(e),this.bits_per_pixel=e.readUint8()}},hp.fourcc="mskC",hp),pp,fne=(pp=class extends Ot{constructor(){super(...arguments),this.box_name="hintPacketsSent"}parse(e){this.packetssent=e.readUint32()}},pp.fourcc="npck",pp),mp,dne=(mp=class extends Ot{constructor(){super(...arguments),this.box_name="hintPacketsSent"}parse(e){this.packetssent=e.readUint64()}},mp.fourcc="nump",mp),hne=class{constructor(t,e){this.pad1=t,this.pad2=e}},gp,pne=(gp=class extends dt{constructor(){super(...arguments),this.box_name="PaddingBitsBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.padbits=[];for(let r=0;r<Math.floor((n+1)/2);r++){const i=e.readUint8(),a=(i&112)>>4,o=i&7;this.padbits.push(new hne(a,o))}}},gp.fourcc="padb",gp),yp,mne=(yp=class extends Ot{constructor(){super(...arguments),this.box_name="PixelAspectRatioBox"}parse(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}},yp.fourcc="pasp",yp),vp,gne=(vp=class extends Ot{constructor(){super(...arguments),this.box_name="CuePayloadBox"}parse(e){this.text=e.readString(this.size-this.hdr_size)}},vp.fourcc="payl",vp),_p,yne=(_p=class extends Ot{constructor(){super(...arguments),this.box_name="hintpayloadID"}parse(e){this.payloadID=e.readUint32();const n=e.readUint8();this.rtpmap_string=e.readString(n)}},_p.fourcc="payt",_p),Sp,vne=(Sp=class extends dt{constructor(){super(...arguments),this.box_name="ProgressiveDownloadInfoBox",this.rate=[],this.initial_delay=[]}parse(e){this.parseFullHeader(e);const n=(this.size-this.hdr_size)/8;for(let r=0;r<n;r++)this.rate[r]=e.readUint32(),this.initial_delay[r]=e.readUint32()}},Sp.fourcc="pdin",Sp),bp,_ne=(bp=class extends dt{constructor(){super(...arguments),this.box_name="PixelInformationProperty"}parse(e){this.parseFullHeader(e),this.num_channels=e.readUint8(),this.bits_per_channels=[];for(let n=0;n<this.num_channels;n++)this.bits_per_channels[n]=e.readUint8()}},bp.fourcc="pixi",bp),Yp,Sne=(Yp=class extends Ot{constructor(){super(...arguments),this.box_name="hintlargestpacket"}parse(e){this.bytes=e.readUint32()}},Yp.fourcc="pmax",Yp),xp,bne=(xp=class extends dt{constructor(){super(...arguments),this.box_name="ProgressiveDerivedImageItemInformationProperty"}parse(e){if(this.parseFullHeader(e),this.step_count=e.readUint16(),this.item_count=[],this.flags&2)for(let n=0;n<this.step_count;n++)this.item_count[n]=e.readUint16()}},xp.fourcc="prdi",xp),Tp,Yne=(Tp=class extends dt{constructor(){super(...arguments),this.box_name="ProjectionFormatBox"}parse(e){this.parseFullHeader(e),this.projection_type=e.readUint8()&31}},Tp.fourcc="prfr",Tp),wp,xne=(wp=class extends dt{constructor(){super(...arguments),this.box_name="ProducerReferenceTimeBox"}parse(e){this.parseFullHeader(e),this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),this.version===0?this.media_time=e.readUint32():this.media_time=e.readUint64()}},wp.fourcc="prft",wp),Wp,Tne=(Wp=class extends dt{constructor(){super(...arguments),this.box_name="ProtectionSystemSpecificHeaderBox"}parse(e){if(this.parseFullHeader(e),this.system_id=wc(e),this.kid=[],this.version>0){const r=e.readUint32();for(let i=0;i<r;i++)this.kid[i]=wc(e)}const n=e.readUint32();n>0&&(this.protection_data=e.readUint8Array(n))}},Wp.fourcc="pssh",Wp),Ep,wne=(Ep=class extends dt{constructor(){super(...arguments),this.box_name="TrackCleanApertureDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},Ep.fourcc="clef",Ep);function Wne(t,e){if(t===wg.Types.UTF8)return new TextDecoder("utf-8").decode(e);const n=new DataView(e.buffer);if(t===wg.Types.BE_UNSIGNED_INT){if(e.length===1)return n.getUint8(0);if(e.length===2)return n.getUint16(0,!1);if(e.length===4)return n.getUint32(0,!1);if(e.length===8)return n.getBigUint64(0,!1);throw new Error("Unsupported ITIF_TYPE_BE_UNSIGNED_INT length "+e.length)}else if(t===wg.Types.BE_SIGNED_INT){if(e.length===1)return n.getInt8(0);if(e.length===2)return n.getInt16(0,!1);if(e.length===4)return n.getInt32(0,!1);if(e.length===8)return n.getBigInt64(0,!1);throw new Error("Unsupported ITIF_TYPE_BE_SIGNED_INT length "+e.length)}else if(t===wg.Types.BE_FLOAT32)return n.getFloat32(0,!1);ot.warn("DataBox","Unsupported or unimplemented itif data type: "+t)}var gc,wg=(gc=class extends Ot{constructor(){super(...arguments),this.box_name="DataBox"}parse(e){this.valueType=e.readUint32(),this.country=e.readUint16(),this.country>255&&(e.seek(e.getPosition()-2),this.countryString=e.readString(2)),this.language=e.readUint16(),this.language>255&&(e.seek(e.getPosition()-2),this.parseLanguage(e)),this.raw=e.readUint8Array(this.size-this.hdr_size-8),this.value=Wne(this.valueType,this.raw)}},gc.fourcc="data",gc.Types={RESERVED:0,UTF8:1,UTF16:2,SJIS:3,UTF8_SORT:4,UTF16_SORT:5,JPEG:13,PNG:14,BE_SIGNED_INT:21,BE_UNSIGNED_INT:22,BE_FLOAT32:23,BE_FLOAT64:24,BMP:27,QT_ATOM:28,BE_SIGNED_INT8:65,BE_SIGNED_INT16:66,BE_SIGNED_INT32:67,BE_FLOAT32_POINT:70,BE_FLOAT32_DIMENSIONS:71,BE_FLOAT32_RECT:72,BE_SIGNED_INT64:74,BE_UNSIGNED_INT8:75,BE_UNSIGNED_INT16:76,BE_UNSIGNED_INT32:77,BE_UNSIGNED_INT64:78,BE_FLOAT64_AFFINE_TRANSFORM:79},gc),Up,Ene=(Up=class extends dt{constructor(){super(...arguments),this.box_name="TrackEncodedPixelsDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},Up.fourcc="enof",Up),Cp,Une=(Cp=class extends Ot{constructor(){super(...arguments),this.box_name="IlstBox"}parse(e){this.list={};let n=this.size-this.hdr_size;for(;n>0;){const r=e.readUint32(),i=e.readUint32(),a=Da(e,!1,r-8);a.code===Ys&&(this.list[i]=a.box),n-=r}}},Cp.fourcc="ilst",Cp),Ap,Cne=(Ap=class extends dt{constructor(){super(...arguments),this.box_name="KeysBox"}parse(e){this.parseFullHeader(e),this.count=e.readUint32(),this.keys={};for(let n=0;n<this.count;n++){const r=e.readUint32();this.keys[n+1]=e.readString(r-4)}}},Ap.fourcc="keys",Ap),kp,Ane=(kp=class extends dt{constructor(){super(...arguments),this.box_name="TrackProductionApertureDimensionsBox"}parse(e){this.parseFullHeader(e),this.width=e.readUint32(),this.height=e.readUint32()}},kp.fourcc="prof",kp),Ip,kne=(Ip=class extends Gn{constructor(){super(...arguments),this.box_name="TrackApertureModeDimensionsBox",this.clefs=[],this.profs=[],this.enofs=[],this.subBoxNames=["clef","prof","enof"]}},Ip.fourcc="tapt",Ip),Xp,Ine=(Xp=class extends Gn{constructor(){super(...arguments),this.box_name="siDecompressionParamBox"}},Xp.fourcc="wave",Xp),Rp,Xne=(Rp=class extends Ot{constructor(){super(...arguments),this.box_name="rtpmoviehintinformation"}parse(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}},Rp.fourcc="rtp ",Rp),Pp,Rne=(Pp=class extends dt{constructor(){super(...arguments),this.box_name="SampleAuxiliaryInformationOffsetsBox"}parse(e){this.parseFullHeader(e),this.flags&1&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32());const n=e.readUint32();this.offset=[];for(let r=0;r<n;r++)this.version===0?this.offset[r]=e.readUint32():this.offset[r]=e.readUint64()}},Pp.fourcc="saio",Pp),Mp,Pne=(Mp=class extends dt{constructor(){super(...arguments),this.box_name="SampleAuxiliaryInformationSizesBox"}parse(e){if(this.parseFullHeader(e),this.flags&1&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8(),this.sample_count=e.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(let n=0;n<this.sample_count;n++)this.sample_info_size[n]=e.readUint8()}},Mp.fourcc="saiz",Mp),Mne=class{constructor(t,e){this.bad_pixel_row=t,this.bad_pixel_column=e}toString(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"}},Op,One=(Op=class extends dt{constructor(){super(...arguments),this.box_name="SensorBadPixelsMapBox"}parse(e){this.parseFullHeader(e),this.component_count=e.readUint16(),this.component_index=[];for(let r=0;r<this.component_count;r++)this.component_index.push(e.readUint16());const n=e.readUint8();this.correction_applied=(n&128)===128,this.num_bad_rows=e.readUint32(),this.num_bad_cols=e.readUint32(),this.num_bad_pixels=e.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[];for(let r=0;r<this.num_bad_rows;r++)this.bad_rows.push(e.readUint32());for(let r=0;r<this.num_bad_cols;r++)this.bad_columns.push(e.readUint32());for(let r=0;r<this.num_bad_pixels;r++){const i=e.readUint32(),a=e.readUint32();this.bad_pixels.push(new Mne(i,a))}}},Op.fourcc="sbpm",Op),Np,Nne=(Np=class extends dt{constructor(){super(...arguments),this.box_name="SchemeTypeBox"}parse(e){this.parseFullHeader(e),this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}},Np.fourcc="schm",Np),Dp,Dne=(Dp=class extends Ot{constructor(){super(...arguments),this.box_name="rtptracksdphintinformation"}parse(e){this.sdptext=e.readString(this.size-this.hdr_size)}},Dp.fourcc="sdp ",Dp),Bp,Bne=(Bp=class extends dt{constructor(){super(...arguments),this.box_name="SampleEncryptionBox"}},Bp.fourcc="senc",Bp),Vp,Vne=(Vp=class extends dt{constructor(){super(...arguments),this.box_name="SMPTE2086MasteringDisplayMetadataBox"}parse(e){this.parseFullHeader(e),this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}},Vp.fourcc="SmDm",Vp),Fp,Fne=(Fp=class extends dt{constructor(){super(...arguments),this.box_name="SamplingRateBox"}parse(e){this.parseFullHeader(e),this.sampling_rate=e.readUint32()}},Fp.fourcc="srat",Fp),Lp,Lne=(Lp=class extends dt{constructor(){super(...arguments),this.box_name="CompressedSubsegmentIndexBox"}parse(e){this.parseFullHeader(e),this.subsegments=[];const n=e.readUint32();for(let r=0;r<n;r++){const i={};this.subsegments.push(i),i.ranges=[];const a=e.readUint32();for(let o=0;o<a;o++){const c={};i.ranges.push(c),c.level=e.readUint8(),c.range_size=e.readUint24()}}}},Lp.fourcc="ssix",Lp),Zp,Zne=(Zp=class extends dt{constructor(){super(...arguments),this.box_name="DegradationPriorityBox"}parse(e){this.parseFullHeader(e);const n=(this.size-this.hdr_size)/2;this.priority=[];for(let r=0;r<n;r++)this.priority[r]=e.readUint16()}},Zp.fourcc="stpd",Zp),zp,zne=(zp=class extends dt{constructor(){super(...arguments),this.box_name="SubTrackInformationBox"}parse(e){this.parseFullHeader(e),this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();const n=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(let r=0;r<n;r++)this.attribute_list[r]=e.readUint32()}},zp.fourcc="stri",zp),$p,$ne=($p=class extends dt{constructor(){super(...arguments),this.box_name="SubTrackSampleGroupBox"}parse(e){this.parseFullHeader(e),this.grouping_type=e.readUint32();const n=e.readUint16();this.group_description_index=[];for(let r=0;r<n;r++)this.group_description_index[r]=e.readUint32()}},$p.fourcc="stsg",$p),Kp,Kne=(Kp=class extends dt{constructor(){super(...arguments),this.box_name="ShadowSyncSampleBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(let r=0;r<n;r++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}write(e){this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length);for(let n=0;n<this.shadowed_sample_numbers.length;n++)e.writeUint32(this.shadowed_sample_numbers[n]),e.writeUint32(this.sync_sample_numbers[n])}},Kp.fourcc="stsh",Kp),jp,jne=(jp=class extends dt{constructor(){super(...arguments),this.box_name="SyncSampleBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();if(this.version===0){this.sample_numbers=[];for(let r=0;r<n;r++)this.sample_numbers.push(e.readUint32())}}write(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)}},jp.fourcc="stss",jp),Hp,Hne=(Hp=class extends dt{constructor(){super(...arguments),this.box_name="StereoVideoBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.single_view_allowed=n&3,this.stereo_scheme=e.readUint32();const r=e.readUint32();for(this.stereo_indication_type=e.readString(r),this.boxes=[];e.getPosition()<this.start+this.size;){const i=Da(e,!1,this.size-(e.getPosition()-this.start));if(i.code===Ys){const a=i.box;this.boxes.push(a),this[a.type]=a}else return}}},Hp.fourcc="stvi",Hp),Gp,Gne=(Gp=class extends Ot{constructor(){super(...arguments),this.box_name="SegmentTypeBox"}parse(e){let n=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),n-=8,this.compatible_brands=[];let r=0;for(;n>=4;)this.compatible_brands[r]=e.readString(4),n-=4,r++}write(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,void 0,4),e.writeUint32(this.minor_version);for(let n=0;n<this.compatible_brands.length;n++)e.writeString(this.compatible_brands[n],void 0,4)}},Gp.fourcc="styp",Gp),qp,qne=(qp=class extends dt{constructor(){super(...arguments),this.box_name="CompactSampleSizeBox"}parse(e){if(this.parseFullHeader(e),this.sample_sizes=[],this.version===0){this.reserved=e.readUint24(),this.field_size=e.readUint8();const n=e.readUint32();if(this.field_size===4)for(let r=0;r<n;r+=2){const i=e.readUint8();this.sample_sizes[r]=i>>4&15,this.sample_sizes[r+1]=i&15}else if(this.field_size===8)for(let r=0;r<n;r++)this.sample_sizes[r]=e.readUint8();else if(this.field_size===16)for(let r=0;r<n;r++)this.sample_sizes[r]=e.readUint16();else ot.error("BoxParser","Error in length field in stz2 box",e.isofile)}}},qp.fourcc="stz2",qp),Qp,Qne=(Qp=class extends dt{constructor(){super(...arguments),this.box_name="SubSampleInformationBox"}parse(e){this.parseFullHeader(e);const n=e.readUint32();this.entries=[];let r;for(let i=0;i<n;i++){const a={};if(this.entries[i]=a,a.sample_delta=e.readUint32(),a.subsamples=[],r=e.readUint16(),r>0)for(let o=0;o<r;o++){const c={};a.subsamples.push(c),this.version===1?c.size=e.readUint32():c.size=e.readUint16(),c.priority=e.readUint8(),c.discardable=e.readUint8(),c.codec_specific_parameters=e.readUint32()}}}},Qp.fourcc="subs",Qp),Jp,Jne=(Jp=class extends dt{constructor(){super(...arguments),this.box_name="TAIClockInfoBox"}parse(e){this.time_uncertainty=e.readUint64(),this.clock_resolution=e.readUint32(),this.clock_drift_rate=e.readInt32();const n=e.readUint8();this.clock_type=(n&192)>>6}},Jp.fourcc="taic",Jp),em,ere=(em=class extends dt{constructor(){super(...arguments),this.box_name="TrackEncryptionBox"}parse(e){if(this.parseFullHeader(e),e.readUint8(),this.version===0)e.readUint8();else{const n=e.readUint8();this.default_crypt_byte_block=n>>4&15,this.default_skip_byte_block=n&15}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=wc(e),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}},em.fourcc="tenc",em),tm,tre=(tm=class extends dt{constructor(){super(...arguments),this.box_name="TrackFragmentRandomAccessBox"}parse(e){this.parseFullHeader(e),this.track_ID=e.readUint32(),e.readUint24();const n=e.readUint8();this.length_size_of_traf_num=n>>4&3,this.length_size_of_trun_num=n>>2&3,this.length_size_of_sample_num=n&3,this.entries=[];const r=e.readUint32();for(let i=0;i<r;i++)this.version===1?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()}},tm.fourcc="tfra",tm),nm,nre=(nm=class extends Ot{constructor(){super(...arguments),this.box_name="hintmaxrelativetime"}parse(e){this.time=e.readUint32()}},nm.fourcc="tmax",nm),rm,rre=(rm=class extends Ot{constructor(){super(...arguments),this.box_name="hintminrelativetime"}parse(e){this.time=e.readUint32()}},rm.fourcc="tmin",rm),im,ire=(im=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint32()}},im.fourcc="totl",im),sm,sre=(sm=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint32()}},sm.fourcc="tpay",sm),am,are=(am=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint64()}},am.fourcc="tpyl",am),om,ore=(om=class extends QQ{},om.fourcc="msrc",om),Yl,lre=(Yl=class extends Ot{constructor(){super(...arguments),this.box_name="TrackReferenceBox",this.references=[]}parse(e){for(;e.getPosition()<this.start+this.size;){const n=Da(e,!0,this.size-(e.getPosition()-this.start));if(n.code===Ys){Yl.allowed_types.includes(n.type)||ot.warn("BoxParser",`Unknown track reference type: '${n.type}'`);const r=new tJ(n.type,n.size,n.hdr_size,n.start);r.write===Ot.prototype.write&&r.type!=="mdat"&&(ot.info("BoxParser","TrackReference "+r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),this.references.push(r)}else return}}},Yl.fourcc="tref",Yl.allowed_types=["hint","cdsc","font","hind","vdep","vplx","subt","thmb","auxl","cdtg","shsc","aest"],Yl),lm,cre=(lm=class extends dt{constructor(){super(...arguments),this.box_name="TrackExtensionPropertiesBox"}parse(e){for(this.parseFullHeader(e),this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;){const n=Da(e,!1,this.size-(e.getPosition()-this.start));if(n.code===Ys){const r=n.box;this.boxes.push(r)}else return}}},lm.fourcc="trep",lm),cm,ure=(cm=class extends Ot{constructor(){super(...arguments),this.box_name="hintBytesSent"}parse(e){this.bytessent=e.readUint64()}},cm.fourcc="trpy",cm),um,fre=(um=class extends dt{constructor(){super(...arguments),this.box_name="TrackSelectionBox"}parse(e){this.parseFullHeader(e),this.switch_group=e.readUint32();const n=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(let r=0;r<n;r++)this.attribute_list[r]=e.readUint32()}},um.fourcc="tsel",um),fm,dre=(fm=class extends dt{constructor(){super(...arguments),this.box_name="TextConfigBox"}parse(e){this.parseFullHeader(e),this.config=e.readCString()}},fm.fourcc="txtc",fm),dm,hre=(dm=class extends Ot{constructor(){super(...arguments),this.box_name="TypeCombinationBox"}parse(e){const n=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(let r=0;r<n;r++)this.compatible_brands[r]=e.readString(4)}},dm.fourcc="tyco",dm),hm,pre=(hm=class extends dt{constructor(){super(...arguments),this.box_name="UserDescriptionProperty"}parse(e){this.parseFullHeader(e),this.lang=e.readCString(),this.name=e.readCString(),this.description=e.readCString(),this.tags=e.readCString()}},hm.fourcc="udes",hm),pm,mre=(pm=class extends dt{constructor(){super(...arguments),this.box_name="UncompressedFrameConfigBox"}parse(e){if(this.parseFullHeader(e),this.profile=e.readString(4),this.version!==1){if(this.version===0){this.component_count=e.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[];for(let r=0;r<this.component_count;r++)this.component_index.push(e.readUint16()),this.component_bit_depth_minus_one.push(e.readUint8()),this.component_format.push(e.readUint8()),this.component_align_size.push(e.readUint8());this.sampling_type=e.readUint8(),this.interleave_type=e.readUint8(),this.block_size=e.readUint8();const n=e.readUint8();this.component_little_endian=n>>7&1,this.block_pad_lsb=n>>6&1,this.block_little_endian=n>>5&1,this.block_reversed=n>>4&1,this.pad_unknown=n>>3&1,this.pixel_size=e.readUint32(),this.row_align_size=e.readUint32(),this.tile_align_size=e.readUint32(),this.num_tile_cols_minus_one=e.readUint32(),this.num_tile_rows_minus_one=e.readUint32()}}}},pm.fourcc="uncC",pm),mm,gre=(mm=class extends dt{constructor(){super(...arguments),this.box_name="DataEntryUrnBox"}parse(e){this.parseFullHeader(e),this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}write(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)}},mm.fourcc="urn ",mm),gm,yre=(gm=class extends Ot{constructor(){super(...arguments),this.box_name="WebVTTConfigurationBox"}parse(e){this.text=e.readString(this.size-this.hdr_size)}},gm.fourcc="vttC",gm),ym,vre=(ym=class extends dt{constructor(){super(...arguments),this.box_name="VvcNALUConfigBox"}parse(e){this.parseFullHeader(e);const n=e.readUint8();this.lengthSizeMinusOne=n&3}},ym.fourcc="vvnC",ym),vm,_re=(vm=class extends ri{parse(e){const n=e.readUint16();this.first_output_sample=e.readUint16(),this.sample_offset=[];for(let i=0;i<n;i++)this.sample_offset[i]=e.readUint32();const r=this.description_length-4-4*n;this.num_output_samples=[],this.num_total_samples=[];for(let i=0;i<r/4;i++)this.num_output_samples[i]=e.readUint16(),this.num_total_samples[i]=e.readUint16()}},vm.grouping_type="alst",vm),_m,Sre=(_m=class extends ri{parse(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}},_m.grouping_type="avll",_m),Sm,bre=(Sm=class extends ri{parse(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();const n=e.readUint8();this.durationFlag=n>>7,this.avgRateFlag=n>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];const r=e.readUint8();for(let i=0;i<r;i++)this.dependency.push({subSeqDirectionFlag:e.readUint8(),layerNumber:e.readUint8(),subSequenceIdentifier:e.readUint16()})}},Sm.grouping_type="avss",Sm),bm,Yre=(bm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},bm.grouping_type="dtrt",bm),Ym,xre=(Ym=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Ym.grouping_type="mvif",Ym),xm,Tre=(xm=class extends ri{parse(e){this.roll_distance=e.readInt16()}},xm.grouping_type="prol",xm),Tm,wre=(Tm=class extends ri{parse(e){const n=e.readUint8();this.num_leading_samples_known=n>>7,this.num_leading_samples=n&127}},Tm.grouping_type="rap ",Tm),wm,Wre=(wm=class extends ri{parse(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)ot.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(let n=0;n<this.operation_point_count;n++)this.available_bitrate[n]=e.readUint32(),this.target_rate_share[n]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}},wm.grouping_type="rash",wm),Wm,Ere=(Wm=class extends ri{parse(e){this.roll_distance=e.readInt16()}},Wm.grouping_type="roll",Wm),Em,Ure=(Em=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Em.grouping_type="scif",Em),Um,Cre=(Um=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Um.grouping_type="scnm",Um),Cm,Are=(Cm=class extends ri{parse(e){this.reserved=e.readUint8();const n=e.readUint8();this.crypt_byte_block=n>>4,this.skip_byte_block=n&15,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=wc(e),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}},Cm.grouping_type="seig",Cm),Am,kre=(Am=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Am.grouping_type="stsa",Am),km,Ire=(km=class extends ri{parse(e){const n=e.readUint8();this.NAL_unit_type=n&63}},km.grouping_type="sync",km),Im,Xre=(Im=class extends ri{parse(e){const n=e.readUint8();this.level_independently_decodable=n>>7}},Im.grouping_type="tele",Im),Xm,Rre=(Xm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Xm.grouping_type="tsas",Xm),Rm,Pre=(Rm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Rm.grouping_type="tscl",Rm),Pm,Mre=(Pm=class extends ri{parse(e){ot.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}},Pm.grouping_type="vipr",Pm),Mm,Ore=(Mm=class extends Ot{},Mm.fourcc="uuid",Mm),Om,v0=(Om=class extends dt{},Om.fourcc="uuid",Om),Nm,Nre=(Nm=class extends v0{constructor(){super(...arguments),this.box_name="LiveServerManifestBox"}parse(e){this.parseFullHeader(e),this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},Nm.uuid="a5d40b30e81411ddba2f0800200c9a66",Nm),Dm,Dre=(Dm=class extends v0{constructor(){super(...arguments),this.box_name="PiffProtectionSystemSpecificHeaderBox"}parse(e){this.parseFullHeader(e),this.system_id=wc(e);const n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))}},Dm.uuid="d08a4f1810f34a82b6c832d8aba183d3",Dm),Bm,Bre=(Bm=class extends v0{constructor(){super(...arguments),this.box_name="PiffSampleEncryptionBox"}},Bm.uuid="a2394f525a9b4f14a2446c427c648df4",Bm),Vm,Vre=(Vm=class extends v0{constructor(){super(...arguments),this.box_name="PiffTrackEncryptionBox"}parse(e){this.parseFullHeader(e),this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=wc(e)}},Vm.uuid="8974dbce7be74c5184f97148f9882554",Vm),Fm,Fre=(Fm=class extends v0{constructor(){super(...arguments),this.box_name="TfrfBox"}parse(e){this.parseFullHeader(e),this.fragment_count=e.readUint8(),this.entries=[];for(let n=0;n<this.fragment_count;n++){let r=0,i=0;this.version===1?(r=e.readUint64(),i=e.readUint64()):(r=e.readUint32(),i=e.readUint32()),this.entries.push({absolute_time:r,absolute_duration:i})}}},Fm.uuid="d4807ef2ca3946958e5426cb9e46a79f",Fm),Lm,Lre=(Lm=class extends v0{constructor(){super(...arguments),this.box_name="TfxdBox"}parse(e){this.parseFullHeader(e),this.version===1?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}},Lm.uuid="6d1d9b0542d544e680e2141daff757b2",Lm),Zm,Zre=(Zm=class extends Ore{constructor(){super(...arguments),this.box_name="ItemContentIDProperty"}parse(e){this.content_id=e.readCString()}},Zm.uuid="261ef3741d975bbaacbd9d2c8ea73522",Zm);oJ(IX);lJ(EX);const zre=6371e3;function $re(t,e,n,r){const i=zy(t),a=zy(n),o=zy(n-t),c=zy(r-e),u=Math.sin(o/2)**2+Math.cos(i)*Math.cos(a)*Math.sin(c/2)**2,f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return zre*f}function zy(t){return t*Math.PI/180}function XX(t,e=5){if(t.length===0)return[];if(t.length===1)return[...t];const n=[t[0]];for(let a=1;a<t.length;a++){const o=n[n.length-1],c=t[a];$re(o.lat,o.lng,c.lat,c.lng)>=e&&n.push(c)}const r=t[t.length-1],i=n[n.length-1];return r!==i&&n.push(r),n}function i0(t){return(t%360+360)%360}function RX(t){const e=t.match(/GPS\s*\(\s*([WE]):\s*(-?\d+\.?\d*)\s*,\s*([NS]):\s*(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)m?\s*\)/);if(!e)return null;const n=e[1],r=parseFloat(e[2]),i=e[3],a=parseFloat(e[4]),o=parseFloat(e[5]);if(isNaN(r)||isNaN(a))return null;const c=n==="W"?-Math.abs(r):Math.abs(r),f={lat:i==="S"?-Math.abs(a):Math.abs(a),lng:c,altitude_m:isNaN(o)?void 0:o},p=t.match(/(\d{4}-\d{2}-\d{2})\s+(\d{2}:\d{2}:\d{2})/);if(p){const y=`${p[1]}T${p[2]}`,_=new Date(y);isNaN(_.getTime())||(f.timestamp=_)}const h=t.match(/G\.PRY\s*\(\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*\)/);if(h){const y=parseFloat(h[1]),_=parseFloat(h[2]),v=parseFloat(h[3]);f.gimbalPose={pitch_deg:isNaN(y)?void 0:y,roll_deg:isNaN(_)?void 0:_,yaw_deg:isNaN(v)?void 0:i0(v)}}const m=t.match(/F\.PRY\s*\(\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*,\s*(-?\d+\.?\d*)?\s*\)/);if(m){const y=parseFloat(m[1]),_=parseFloat(m[2]),v=parseFloat(m[3]);f.flightPose={pitch_deg:isNaN(y)?void 0:y,roll_deg:isNaN(_)?void 0:_,yaw_deg:isNaN(v)?void 0:i0(v)}}return f}async function Kre(t){try{const e=await t.arrayBuffer(),n=await qg.load(e),r=n.GPSLatitude?.description,i=n.GPSLongitude?.description,a=n.GPSLatitudeRef?.description,o=n.GPSLongitudeRef?.description,c=n.GPSAltitude?.description;if(!r||!i)return null;let u=parseFloat(r),f=parseFloat(i);if(isNaN(u)||isNaN(f))return null;a&&(a.includes("S")||a.toLowerCase().includes("south"))?u=-Math.abs(u):a&&(a.includes("N")||a.toLowerCase().includes("north"))&&(u=Math.abs(u)),o&&(o.includes("W")||o.toLowerCase().includes("west"))?f=-Math.abs(f):o&&(o.includes("E")||o.toLowerCase().includes("east"))&&(f=Math.abs(f));const p={lat:u,lng:f};if(c){const Y=parseFloat(c.split(" ")[0]);isNaN(Y)||(p.altitude_m=Y)}const h=n.FlightYawDegree?.description||n["drone-dji:FlightYawDegree"]?.description||n.FlightYawDegree?.value||n.Yaw?.description||n.Yaw?.value,m=n.FlightPitchDegree?.description||n["drone-dji:FlightPitchDegree"]?.description||n.FlightPitchDegree?.value||n.Pitch?.description||n.Pitch?.value,y=n.FlightRollDegree?.description||n["drone-dji:FlightRollDegree"]?.description||n.FlightRollDegree?.value||n.Roll?.description||n.Roll?.value;if(h||m||y){if(p.pose={},h){const Y=parseFloat(h);isNaN(Y)||(p.pose.yaw_deg=i0(Y))}if(m){const Y=parseFloat(m);isNaN(Y)||(p.pose.pitch_deg=Y)}if(y){const Y=parseFloat(y);isNaN(Y)||(p.pose.roll_deg=Y)}}const _=n.GimbalYawDegree?.description||n["drone-dji:GimbalYawDegree"]?.description||n.GimbalYawDegree?.value,v=n.GimbalPitchDegree?.description||n["drone-dji:GimbalPitchDegree"]?.description||n.GimbalPitchDegree?.value,S=n.GimbalRollDegree?.description||n["drone-dji:GimbalRollDegree"]?.description||n.GimbalRollDegree?.value;if(_||v||S){if(p.gimbalPose={},_){const Y=parseFloat(_);isNaN(Y)||(p.gimbalPose.yaw_deg=i0(Y))}if(v){const Y=parseFloat(v);isNaN(Y)||(p.gimbalPose.pitch_deg=Y)}if(S){const Y=parseFloat(S);isNaN(Y)||(p.gimbalPose.roll_deg=Y)}}return p}catch(e){return console.warn("Failed to extract EXIF from image:",e),null}}async function jre(t,e){const n=[];for(let i=0;i<t.fileHashes.length;i++){const a=t.fileHashes[i],o=await e.getFile(a);if(!o){console.warn(`File not found for hash: ${a}`);continue}const c=await Kre(o);if(c){const u=t.frameIndexToTimestamp(i),f=u-t.timeStartEpochUs;n.push({frameIndex:i,timestampChannelUs:f,timestampEpochUs:u,lat:c.lat,lng:c.lng,altitude_m:c.altitude_m,pose:c.pose,gimbalPose:c.gimbalPose,source:"exif"})}}const r=qT(n,t.getFrameCount());return{channelId:t.id,positions:r,bounds:kT(r)}}function Hre(t){const e=[],n=t.split(`

`).filter(r=>r.trim());for(const r of n){const i=r.split(`
`);if(!(i.length<3))try{const o=i[1].split(" --> ")[0],[c,u,f]=o.split(":"),[p,h]=f.split(","),m=parseInt(c)*36e5+parseInt(u)*6e4+parseInt(p)*1e3+parseInt(h);let y=null,_=null,v,S,Y,T;for(const A of i){const P=A.match(/\[latitude:\s*(-?\d+\.\d+)\]/),C=A.match(/\[longitude:\s*(-?\d+\.\d+)\]/),W=A.match(/\[altitude:\s*(-?\d+\.?\d*)\]/),w=A.match(/\[rel_alt:\s*(-?\d+\.?\d*)\s+abs_alt:\s*(-?\d+\.?\d*)\]/),k=A.match(/\[gb_yaw:\s*(-?\d+\.?\d*)/),M=A.match(/gb_pitch:\s*(-?\d+\.?\d*)/),D=A.match(/gb_roll:\s*(-?\d+\.?\d*)\]/);P&&(y=parseFloat(P[1])),C&&(_=parseFloat(C[1])),W&&(v=parseFloat(W[1])),w&&!v&&(v=parseFloat(w[1])),k&&(S=parseFloat(k[1])),M&&(Y=parseFloat(M[1])),D&&(T=parseFloat(D[1]))}if(y!==null&&_!==null){const A={timestampMs:m,lat:y,lng:_,altitude_m:v};(S!==void 0||Y!==void 0||T!==void 0)&&(A.gimbalPose={yaw_deg:S!==void 0?i0(S):void 0,pitch_deg:Y,roll_deg:T}),e.push(A)}}catch(a){console.warn("Failed to parse SRT block:",a)}}return e}async function NC(t,e,n=5){const r=await Gre(t,e,n);return r||await Qre(t,e,n)}async function Gre(t,e,n=5){const r=t.metadataFileHashes?.get("srt");if(!r)return null;const i=await e.getFile(r);if(!i)return console.warn("SRT file not found in store:",r),null;const a=await i.text(),o=Hre(a);if(o.length===0)return console.warn("No GPS data found in SRT file"),null;const c=o.map(p=>{const h=p.timestampMs*1e3,m=Math.round(p.timestampMs/1e3*t.getFrameRate()),y=t.frameIndexToTimestamp(m);return{frameIndex:m,timestampChannelUs:h,timestampEpochUs:y,lat:p.lat,lng:p.lng,altitude_m:p.altitude_m,pose:p.gimbalPose,gimbalPose:p.gimbalPose,source:"srt"}}),u=XX(c,n);`${c.length}${u.length}${n}`,t.getFrameCount();const f=qT(u);return{channelId:t.id,positions:f,bounds:kT(f)}}function qre(t){const e=RX(t);if(e)return{lat:e.lat,lng:e.lng,altitude_m:e.altitude_m,pose:e.flightPose,gimbalPose:e.gimbalPose};const n=t.match(/\[latitude:\s*(-?\d+\.?\d*)\]\s*\[longitude:\s*(-?\d+\.?\d*)\](?:\s*\[(?:rel_alt|altitude):\s*(-?\d+\.?\d*))?/);if(n){const i=parseFloat(n[1]),a=parseFloat(n[2]),o=n[3]?parseFloat(n[3]):void 0;if(!isNaN(i)&&!isNaN(a))return{lat:i,lng:a,altitude_m:o}}const r=t.match(/GPS\s*\(\s*(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)\s*,\s*\d+\s*\)(?:.*?H\s*(-?\d+\.?\d*)m)?/);if(r){const i=parseFloat(r[1]),a=parseFloat(r[2]),o=r[3]?parseFloat(r[3]):void 0;if(!isNaN(a)&&!isNaN(i))return{lat:a,lng:i,altitude_m:o}}return null}async function Qre(t,e,n=5){const r=t.fileHashes[0];if(!r)return null;const i=await e.getFile(r);if(!i)return console.warn("Video file not found in store:",r),null;try{const a=await PX(i);if(!a||a.length===0)return null;const o=t.getFrameRate(),c=[];for(const h of a){const m=qre(h.text);if(m){const y=h.timestampMs*1e3,_=Math.round(h.timestampMs/1e3*o),v=t.frameIndexToTimestamp(_);c.push({frameIndex:_,timestampChannelUs:y,timestampEpochUs:v,lat:m.lat,lng:m.lng,altitude_m:m.altitude_m,pose:m.pose,gimbalPose:m.gimbalPose,source:"embedded_track"})}}if(c.length===0)return console.warn("No GPS data found in embedded track samples"),null;const u=XX(c,n);`${c.length}${u.length}${n}`;const f=t.getFrameCount(),p=qT(u,f);return{channelId:t.id,positions:p,bounds:kT(p)}}catch(a){return console.warn("Failed to extract embedded video positions:",a),null}}async function PX(t){return new Promise(async e=>{const n=WX();let r=!1,i=null,a=null;n.onReady=o=>{a=o;const c=o.tracks.find(u=>u.codec==="text"||u.codec==="tx3g"||u.codec==="stxt"||u.codec==="wvtt"||u.type==="text"||u.type==="sbtl"||u.type==="subt"||u.type==="subtitles"||u.name?.toLowerCase().includes("subtitle"));c?(c.id,c.type,c.codec,c.nb_samples,i=c):o.tracks.map(u=>({id:u.id,type:u.type,codec:u.codec,name:u.name}))},n.onError=o=>{console.warn("MP4Box error:",o),r||(r=!0,e(null))};try{const o=t.size;`${(o/(1024*1024)).toFixed(1)}`;const c=20*1024*1024,u=await t.slice(0,Math.min(c,o)).arrayBuffer();if(u.fileStart=0,n.appendBuffer(u),!a){const S=Math.max(0,o-5242880);`${(S/(1024*1024)).toFixed(1)}`;const Y=await t.slice(S,o).arrayBuffer();Y.fileStart=S,n.appendBuffer(Y)}if(n.flush(),!i||!a){r=!0,e(null);return}const f=n.getTrackById(i.id);if(!f){r=!0,e(null);return}const p=f.samples;if(!p||p.length===0){r=!0,e(null);return}const h=i.timescale||3e4;`${p.length}${h}`;const m=new TextDecoder,y=[],_=Math.min(p.length,5e4);for(let v=0;v<_;v++){const S=p[v],Y=S.offset,T=S.size,A=S.cts??S.dts??0;if(Y===void 0||T===void 0||T===0)continue;const P=Math.round(A/h*1e3),C=await t.slice(Y,Y+T).arrayBuffer();let W=new Uint8Array(C);if(W.length>2){const k=W[0]<<8|W[1];k>0&&k<=W.length-2&&(W=W.slice(2,2+k))}const w=m.decode(W);w.trim()&&y.push({timestampMs:P,text:w}),(v+1)%5e3===0&&(v+1,`${_}`)}`${y.length}`,r=!0,e(y.length>0?y:null)}catch(o){console.warn("Failed to parse MP4:",o),r||(r=!0,e(null))}})}function qT(t,e){if(t.length===0)return[];if(t.length===1)return[t[0]];const n=[...t].sort((o,c)=>o.timestampChannelUs-c.timestampChannelUs),r=[...n],i=2e6,a=33333;for(let o=0;o<n.length-1;o++){const c=n[o],u=n[o+1],f=u.timestampChannelUs-c.timestampChannelUs;if(f>a&&f<i)for(let p=c.timestampChannelUs+a;p<u.timestampChannelUs;p+=a){const h=(p-c.timestampChannelUs)/f,m=c.lat+(u.lat-c.lat)*h,y=c.lng+(u.lng-c.lng)*h,_=c.altitude_m!==void 0&&u.altitude_m!==void 0?c.altitude_m+(u.altitude_m-c.altitude_m)*h:void 0,v=p,S=c.timestampEpochUs+(u.timestampEpochUs-c.timestampEpochUs)*h,Y=Math.round(c.frameIndex+(u.frameIndex-c.frameIndex)*h);let T;if(c.pose?.yaw_deg!==void 0&&u.pose?.yaw_deg!==void 0){let A=c.pose.yaw_deg,C=u.pose.yaw_deg-A;C>180&&(C-=360),C<-180&&(C+=360),T={yaw_deg:i0(A+C*h)}}else c.pose&&(T={...c.pose});r.push({frameIndex:Y,timestampChannelUs:v,timestampEpochUs:S,lat:m,lng:y,altitude_m:_,pose:T,gimbalPose:T,source:"interpolated"})}}return r.sort((o,c)=>o.timestampChannelUs-c.timestampChannelUs)}async function DC(t,e){if(!t.supportsPositions())return null;try{if(t.getType()==="image_collection")return await jre(t,e);if(t.getType()==="video")return await NC(t,e);if(t.getType()==="mediabunny_video")return await NC(t,e)}catch(n){console.error("Failed to extract channel positions:",n)}return null}async function Jre(t){return new Promise(async e=>{const n=WX();let r=!1;n.onReady=i=>{if(!r){if(r=!0,i.created instanceof Date){if(i.created.getTime()<864e5){e(null);return}const o=i.created.getFullYear();if(o>=2e3&&o<=2100){`${i.created.toISOString()}`,e(i.created);return}}e(null)}},n.onError=i=>{console.warn("MP4Box error during timestamp extraction:",i),r||(r=!0,e(null))};try{const i=t.size,a=1*1024*1024,o=await t.slice(0,Math.min(a,i)).arrayBuffer();if(o.fileStart=0,n.appendBuffer(o),!r){const u=Math.max(0,i-2097152),f=await t.slice(u,i).arrayBuffer();f.fileStart=u,n.appendBuffer(f)}n.flush(),r||(r=!0,e(null))}catch(i){console.warn("Error extracting MP4 creation time:",i),r||(r=!0,e(null))}})}async function eie(t){try{const e=await PX(t);if(!e||e.length===0)return null;const n=RX(e[0].text);if(n?.timestamp){const r=n.timestamp.getFullYear();if(r>=2e3&&r<=2100)return`${n.timestamp.toISOString()}`,n.timestamp}return null}catch(e){return console.warn("Error extracting subtitle timestamp:",e),null}}async function tie(t){const e=await Jre(t);if(e)return e;const n=await eie(t);return n||null}const nie="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function Pu(t){const e=[];for(let n=0;n<20;n++){const r=Math.floor(Math.random()*32);e.push(nie[r])}return`${t}_${e.join("")}`}async function QT(t,e,n=!1){if(!window.electronAPI){const r=await t.getAllDirHandles();if(n){const i=r.map(async u=>await MX(u.handle,t)),o=(await Promise.all(i)).flat(),c=JT(o);ew(c,t),e(c)}else{const i=await t.getAllFileHandles();e(i)}}}function rie(t){return $Q(t)}async function MX(t,e){const n=[],i=[{dirHandle:t,basePath:""}];try{for(;i.length>0;){const{dirHandle:a,basePath:o}=i.pop();for await(const c of a.values()){const u=o?`${o}/${a.name}/${c.name}`:`${a.name}/${c.name}`;if(c.kind==="directory")i.push({dirHandle:c,basePath:u});else if(c.kind==="file"){const f=await vl.create({handle:c,path:u,category:"placeholder"});(!e||!await e.getFileHandle(f.hash))&&n.push(f)}}}}catch(a){console.error("Error scanning directory:",a)}return n}async function iie(t,e){if(!window.electronAPI)throw new Error("Electron API not available");const n=[],i=[{node:t,basePath:""}];for(;i.length>0;){const{node:a,basePath:o}=i.pop(),c=o?`${o}/${a.name}`:a.name;if(a.kind==="file"){const u=await BT.create({fileRef:a.fileRef,path:`${c}/${a.name}`,name:a.name,category:"placeholder"});n.push(u)}else if(a.kind==="directory"&&Array.isArray(a.children))for(let u=a.children.length-1;u>=0;u--)i.push({node:a.children[u],basePath:c})}return n}async function sie(t,e,n,r,i,a){const o=new Map,c=r,u=[...i];for(const[f,p]of a.entries()){const h=[];for(const y of p){const _=rie(y.sourceId),v=y.filePaths;try{const{fileHashes:S,mediaFiles:Y,metadataFileHashes:T}=await lie(v,t);if(S.length===0){console.warn(`No files found for channel: ${y.channelId}`);continue}const A=`CH_${S[0]}`;if(r.has(A)){h.push(A);continue}const P=v.find(M=>M.toLowerCase().slice(M.lastIndexOf("."))!==".srt");if(!P){console.warn(`No media files found for channel: ${A}`);continue}let C;const W=P.toLowerCase().endsWith(".mp4")||P.toLowerCase().endsWith(".mov");let w,k=!0;if(y.startTime)w=y.startTime.getTime()*1e3;else if(W){const M=await tie(Y[0]);M?(`${P}${M.toISOString()}`,w=M.getTime()*1e3):(`${P}`,w=0,k=!1)}else console.warn(`No timestamp for non-video file ${P}`),w=0,k=!1;if(W)C=await uie(A,f,S,w,Y,_,T,k);else{const M=y.timestamps.map(D=>D.getTime()*1e3);C=fie(A,f,S,M,w,_,T,k)}c.set(A,C),h.push(A)}catch(S){const Y=S instanceof Error?S.message:String(S);console.error("Failed to process channel:",S),u.push({message:`Failed to load ${v[0]?.split("/").pop()||"channel"}`,details:Y})}}if(h.length===0)continue;const m={id:f,channelIds:h,name:f.split("/").pop()||f,description:`Drone recording with ${h.length} channel(s)`};o.set(f,m)}return{records:o,channels:c,errors:u}}async function aie(t,e,n,r){const{records:i,channels:a,errors:o}=n,c=n.grouper;`${e.length}`;const u=new Map;for(const P of c.getChannels())u.set(P.channelId,structuredClone(P));const f=e.length+t.length,p=new Map;let h=0;for(const P of e)p.set(P.path,await P.getFile()),r?.(h+1,f),h++;const m=new Map;for(const P of e)m.set(P.path,P),r?.(h+1,f),h++;for(const P of t)m.set(P.path,P);const y=e.map(P=>P.path);await c.addFiles(y,p);const _=c.getChannels(),v=c.getUnparseableFiles().map(P=>({message:P.reason,details:P.path})),S=cie(_),{records:Y,channels:T,errors:A}=await sie(m,u,i,a,[...o,...v],S);return{records:Y,channels:T,errors:A,grouper:c}}async function oie(t){try{let e=[];if(window.electronAPI){const r=await window.electronAPI.showOpenDialog();for(const i of r)e.push(...await iie(i))}else{if(window.location.href,window.location.protocol,window.isSecureContext,"showDirectoryPicker"in window,!window.showDirectoryPicker){const c=window.location.protocol,u=c==="https:";let f=`File System Access API is not available.

`;return u?window.isSecureContext?(f+=`Your browser may have this API disabled.
`,f+="Try: brave://flags/#file-system-access-api and enable it."):f+="Not in a secure context. Check your HTTPS certificate.":(f+=`You are on ${c} but HTTPS is required.
`,f+=`Please access the site at: https://${window.location.host}${window.location.pathname}`),alert(f),[]}const r=await window.showDirectoryPicker({mode:"read"});if(await r.requestPermission({mode:"read"})!=="granted")throw new Error("Directory access denied");`${r.name}`;const a=await t.getAllDirHandles();let o=!1;for(const c of a)if(c&&c.handle&&typeof c.handle.isSameEntry=="function"&&await c.handle.isSameEntry(r))return o=!0,[];if(!o){const c=new Hg({handle:r,name:r.name});await t.storeDirHandle(c)}e=await MX(r)}const n=JT(e);return await ew(n,t),n}catch(e){return console.error("Error parsing files:",e),[]}}function JT(t){const e=[".mp4",".mov",".jpg",".jpeg",".tif",".tiff",".srt"];return t.filter(n=>{if((n.path.split("/").pop()||n.path).startsWith("."))return!1;const i=n.path.toLowerCase().slice(n.path.lastIndexOf("."));return e.includes(i)})}async function ew(t,e){for(const n of t)await e.storeFile(n)}async function lie(t,e){const n=[],r=new Map,i=[];for(const a of t){const o=e.get(a);if(o)if(a.toLowerCase().slice(a.lastIndexOf("."))===".srt")r.set("srt",o.hash);else{n.push(o.hash);const u=await o.getFile();i.push(u)}else console.warn(`File not found for path: ${a}`)}return{fileHashes:n,mediaFiles:i,metadataFileHashes:r}}function cie(t){const n=t.filter(u=>u.startTime!==null),r=t.filter(u=>u.startTime===null),i=[...n].sort((u,f)=>u.startTime.getTime()-f.startTime.getTime()),a=new Map;let o=[],c=null;for(const u of i){const f=u.startTime.getTime();if(o.length===0||c!==null&&f-c<6e4)o.push(u),c===null&&(c=f);else{const p=Pu("RC");a.set(p,o),o=[u],c=f}}if(o.length>0){const u=Pu("RC");a.set(u,o)}for(const u of r){const f=Pu("RC");a.set(f,[u])}return a}async function uie(t,e,n,r,i,a,o,c=!0){if(i[0]instanceof W$)return new jY(t,e,n,r,r,40,[1,2,3,4,5],a,o.size>0?o:void 0,c);const u=await T$(i[0]),f=new _$({formats:[p$,m$],source:u}),h=await f.computeDuration()??0,m=await f.getPrimaryVideoTrack(),y=new OT(m);let _=r;h>0&&(_=r+h*1e6);const v=y.packets(void 0,void 0,{metadataOnly:!0,verifyKeyPackets:!1}),S=[];for await(const T of v)S.push(T.timestamp);const Y=S.sort((T,A)=>T-A);return new jY(t,e,n,r,_,h,Y,a,o.size>0?o:void 0,c)}function fie(t,e,n,r,i,a,o,c=!0){const f=r.length>0?r[r.length-1]:i;return new KY(t,e,n,r,i,f,1,a,o.size>0?o:void 0,c)}var _Y={exports:{}},BC;function die(){return BC||(BC=1,(function(t){function e(n,r){var i="XKXJXJXIXIXSXSXRXRXQXQXP##U;U;U;#$UZUZUZUZUZXHXGXGXTXTXXXXXYXYXZXZY#Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUXVXVXWXKXJXJXIXIXSXSU:U$#%#&V,#'U;#(#)UZUZUZUZUZ#*UZXGXGVPVPVP#+YIYIYIYI#,W@W@W@W@W@W@Y&X/X/X/X/X/XVXWVTUV#-T,T,#.U:U:#/#0#1#2#3U;U;U;UZUZUZUZ#4#5YJYJXGYJ#6#7#8YIYIYI#9X1#:W@W@W@#;X/X/#<#=#>#?#@VTVT#A#B#CT,T,#D#E#F#G#H#IV,#J#K#L#MUZUZUZUZX9X9#N#OYJ#P#Q#R#SYI#T#U#VX1#W#XW@W@#Y#ZX/$#$$$%$&$'$($)$*$+$,T,T,$-$.$/U$$0$1$2$3$4$5$6$7UZUZXLXLXH$8$9$:$;$<$=$>YI$?$@$A$B$C$D$E$FW6$G$H$I$J$K$LW;$MT+T+T+XJXIXIXSVB$N$O$P$Q$R$S$T$U$V$WV7XMXLXLXHY6$X$Y$Z%#%$%%%&%'%(%)VR%*%+%,%-%.%/%0%1%2%3%4W;XVT+XKXJXJXIXIXSXSUC%5%6%7TN%8%9%:%;U0XMXMX3X3XH%<%=%>%?%@%A%B%C%D%E%F%G%HX+%I%J%KWX%L%M%N%OXUXVXVXWXKXJXJXIXIXSXSUC%P%Q%RTN%SUUXOX4XNXMXMXLX3X8%T%US2%V%W%X%Y%Z&#&$&%&&&'WXWXWXWXWX&(&)X(XUXUXVXVXW&*ZCZCXIXIXSXSXR&+&,&-&.&/&0UTXNXNXMXMXLXL&1&2&3S2&4T(&5&6WT&7&8&9&:&;&<&=&>&?&@&AX(X(XUX(XVXVXWXKZCZCZCXIXSXSXRUK&B&C&D&E&F&G&HXNXMXMXLX6&I&J&K&L&M&N&O&P&Q&R&SWHW?W?&T&U&V&W&X&YY'X(ZUXUXVZYXWXKXJXJXIXIXSXSXRXRXQXQ&Z'#'$'%'&''XMXMXLX6'(')'*'+','-'.'/'0'1VQXZW?'2Y$'3'4'5'6WGZPZ9'7'8ZH'9XWXKXJZEZEXIXSXSXRXRXQXQZ?':';'<'='>'?XMXLUWXH'@'A'B'C'D'E'F'G'HXZXZZ1W*Y$'I'J'K'L'M'NW8Z9'O'P'QZWZDZDXJZEXIXSXSXRXRXQXQZ?'R'S'TUG'U'V'W'XXLXHXHXGSS'Y'Z(#($(%XYZ0XZ(&Y#Y$Y$W7('((()W8(*ZS(+ZA(,(-(.(/ZTZE(0(1XSXRXRXQXQXPUBUB(2(3(4(5(6(7XLXHX;XGXGSP(8(9(:(;(<Z2XZY#Y#Y$Z-Y%(=(>(?(@(A(B(CZA(D(E(FZLZT(GZV(HXSXRXRXQXQXPXPUB(I(J(K(L(MXLV3XHXHX;XG(N(O(P(Q(RZ*(SZ2Y#Y#Y$Y$Y%Y%XEXE(T(UX>X>ZN(VZ=(WXJXJZVZVZ@(XZQXRZ:XQXPXPV1(Y(Z)#V3V3XLXLXHXHXGXGT*)$)%)&Z*Z*XZXZY#Y#Y$Y$Y%Y%XEXE)')()))*XV)+XWZ6XJXJXIXIXSXSXRXRXQXQXPXPV1),)-).V3XMXLXLXHX;XGXGXTSG)/SGXYXYXZXZY#Y#Y$Y$Y%Y%XE)0)1)2)3XFXCZ6Z6Z8XJXJXIXIXSXSXRXRXQXQXPXPTR)4)5T0XMXMXLXLXHX;XGXGXTXTXXXXXYXYXZXZY#Z/Y$Y$Y%Y%Y&Y&Y')6)7XDXVZ6Z6XKXJXJXIXIXSXSXRXRXQXQXPXP)8)9):X<XMXMXLXLXHXHXGXGXTXTXXSGSGZ/Z/XZZ/Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUXVZ6Z6XKXJXJXIXIXSXSXRXRXQXQXPXPV+);)<X<XMX:X:X:XHXHXGXGXTXTXXXXXYXYXZXZY#Y#Y$Y$Y%Y%Y&Y&Y'Y'XUXUVIZ6XWXKXJXJXIXIXSXSXRXRXQXQXPXPVLVL)=)>T;T;XLXLXHXHXGXGXTXTVMVMVMVM)?VJVJVG)@VOVFVFVFVHVHVHVHVH)AVKXWXKXJXJXIXIXSXSXRXRXQXQXPXPVLVLT;T;T;T;)BVL)CY()DVNVNVN)EVMVMVM)FVJVJ)G)HVO)I)J)K)L)M)N)O)P)QVKVKVKVKVKVKXIXSXSXRXRXQXQXPXPVLVLT;T;T;T;)RVL)SY()TVNVNVN)UVMVMVM)VVJVJ)W)XVOVOVO)YXEXEXEXEXE)ZVKVKVKVKVKVKVKVKVKVKVKVKVKVKVK*#*$*%*&*'*(*)***+*,*-*.*/*0*1*2*3*4*5*6*7*8*9*:*;*<*=*>*?*@*A*B*CVKVKXPXPV,*CXNXNU;UZ*BTH*CTHTHV,THV,V,*BV,*CU;*CV>V>*CUZ*DUZUZUZTV*DVP*DVPXXY#W@YIY#XJT,UVT,XSXS*B*CU$U$*C*D*DTH*ETHTH*ETHTH*EV,THTHV,*E*F*GUZ*GUZ*HUZUZV4XHVPVPYJ*GYJYJ*G*HXXXX*HYIYIX1YI*H*HW@X1*IW@*I*J*KX/*KX/*L*L*MX.*N*N*OWZWZ*OWZWZWZXVXVWZ*OVTVTVTUV*NUVUVUVUVT,UVT,*MVC*NVC*NU:VC*OU:U:*OU:U$*OU$U$*O*PU$U$THV,U$V,V,*OV,*P*PU;*Q*RU;U;*RU;U;U;U;*RX9XHXHX7XGXGX7YBYJ*PYJ*QYWYWYW*Q*QY9Y9*R*RYIYIYIYIYI*RYIYIYI*R*S*S*TX1X1X1X1*T*U*UW@*VW@*VX/*W*XX/X/*XX/X/*XX/*Y*Y*ZW>+#+#WZ+$WE+$+%WEWE+%+&WE+'VTVTW;+'VTVT+'VTXKUVXKT+UVUVT+UV+%T,UVT,VE+%XSV5+%VB+&VB+&+'VB+(+(V.+)+*V.VD+*VDVD+*VDVDV,+*V@++U;++U;V@V@++V@V@++U*+,U*XNXNU*V7YBYBXH++YBYB++YBXGYJYB+++++,+-+.YW+.+/+0+0+1+2+3YIYI+3YI+3+4+5+6+6X1+7X1X1X1+7+8X1+8+9+:+:+;+<+=+=+>+?+@W@W@W@+@+@+AW6W6W6+A+BW)X/X/+B+CX/+CX/X.X.X.X.+CX.WEWUXUWE+BXUW;W;W;W;T+VB+A+B+C+C+D+E+F+F+GTYTYV.VD+G+HVDVDTN+HV@V@+H+I+IV@V@V@V@V@V@+IV@+I+J+K+KV7+LV7+L+MYKYK+M+NYK+O+O+P+Q+R+R+S+T+U+U+V+W+X+X+Y+Z,#,#,$,%,&,&,',(,),),*,+VV,+,,,-,.VR,.VRVR,.,/,0X+,0,1,2X*X*,2X*X*,2,3X*X*,3,4X*,5,5,6WXWX,6,7,8,9X.,9X.,:WUXUWUWEWZ,9,:WZ,:,;UC,<,<TYTYTYTY,<TYTN,<,=,>,?,?,@UUUU,@UUUUUU,@U0XNXNXH,@XHY@,@,A,BYD,B,CYDYD,C,DYOYO,D,EYO,F,F,G,H,I,I,JY;Y;,J,KY;,L,L,M,N,O,O,PVW,Q,Q,R,S,T,T,U,V,W,W,X,YX+X+,YWXWX,Y,ZWXWX,Z-#WXWXWX-#WX-$-$X.-%Y'X.X(X(X(-$WEXUXUUC-$-%-&-&TY-'-(-(TN-)TNTN-)TN-*XH-*XHS<-*-+S<-,-,---.-/YOY,T(T(Y,-.-/S;-/-0S;-1-1-2-3-4-4X&-5X&X&-5X&X&-5-6-7-8-8-9-:-;-;-<-=->WXWWWXWW-=X(X(X(ZJZCXKZCV?-<XRUK-<-=UK->->-?-@-ATNTN-AUMTN-AUM-B-BUT-CUTXHX5XHSC-B-C-DT$S2S2-D-E-ET(-F-G-GS;-HS;S;-HS;-I-I-JWT-KX&-K-L-M-MW<-NW<-N-O-PW?W?-PW?W?-P-QW?-R-R-S-T-U-UWX-V-WWXWX-WWXWXWX-W-XWXX(-XX(UK-XUKXQ-X-YUNUNUNUMUN-Y-YU1-ZV=-Z.#.$.%.%V2.&.'VAT-.'.(XH.(X6.).)T$.*T$.*S4.+S4.+.,S4T#.,T#T#T#SZ.,SZSZ.,SJ.-SJ.-SJSJ....WT./.0WTWT.0VQ.0WH.1WHW?.1W?Y$.1X0X0X0.1.2.3.4.4WX.5.6.6X#WX.7.7Y&WGY&XP.7XPXP.7UFXPTQTFTFV$.7TF.7.8TKTK.8TK.9TAXNU/XNXH.8XHS7.8.9.:.;.;.<.=.>.>.?.@SM.@.ASM.B.BSZ.C.DSJSJ.D.ESJ.E.FS1.F.GS1.H.H.ISWSWW?W?W?.IW?.IW?.J.J.K.L.M.MW3W3W3.M.N.OWGZBXUZ9Z9XUXUZ9ZRZHZH.MZHTQV$Z?XP.LTF.MTFTF.MTF.NTK.N.O.P.P.Q.R.S.SXMTBTBSD.SXHXHS/.SXGXG.SSMXGT'.SSB.T.U.U.V.WSL.W.X.Y.ZSH.Z/#/$S1/$SYSW/$SWSWXYW?W7Y$W7/#/$W7/%W7W7W7/%/%/&/'WFWG/'WF/(ZPZP/(/)Z9ZRXUZRZRZFXVXVZHZHXVZWZ?UBXPUB/%/&/'UB/'/(/)/*/*V0/+V0TB/+TB/,U(U(U(/,U(UWU(UWSN/+SN/,/,/-/./////0SQ/1/1/2S@S@/2/3/4XYY#Z1Z+Z+W7WOW7/3/3WF/4WFWFW8WF/4W8/4W8/5ZSZ7ZS/5ZKZWXVXVZWZWZ>Z>Z>Z<ZZ/3/3ZT/4/5ZEXIZVZVZIZIZVZV/3/4UB/5/5/6UA/7/7/8TTTT/8/9/:/;/;/<T?/=/=XLT?XLSP/=SPSPSQ/=/>/?/?S@/@/AS@Z.ST/AZ0Z0/AZ*/AW7Y%Y%/AWFY&Y&WF/AXEXE/A/B/CX@/C/DX@X>/DZSX>XUZS/DZSZSZAXV/DZAXWZ>XWZ=Z=ZX/CZXZVZV/CZVZVZVZV/CUB/CUB/DUAUA/D/E/E/F/G/H/HV3/IV3V3/IV3V3XT/IXTT*/ISPT*/J/J/KSE/L/L/M/NSTSTZ*XYZ*XZZ2Z4Z2/LX@/MX@X@X>/MX>Z;Z;ZN/MZXZXZ6XKZ@ZQXSXSXOV1V1/K/K/L/MT2/M/N/O/PT*/P/Q/R/R/SSG/T/TST/UXX/UX@/VX=X@X>X=/VX>X>/V/WX>X>/W/XZNZNZMXVV1/WV1/X/X/Y/Z0#0#0$0%0&SG0&SGSGXE0&XEXE0&X=Y'X=X=0&X=0'XFXF0'0(0(0)0*T1T70*0+T7Y'0+Y'Y'0+0,XBXBXOTRXOV+0+0,0-0.0.XNT6X<V+0.XOV+T;0.XNXNV+V+T;T;0-T;T;T;XZXZ0-VJY$Y$VGVOXVXV0,VKXLXL0,VLXH0,VL0-0-SG0.SG0.VM0/VM0/VJ00VJ00VG01VGVGVOVGVO0001VOVO0102VOVO020304XE0405XEXE0506XEXE0607XEXE0708XEXE0809XEXE09VK0:VK0:VL0;VLVL0;VL0<0<SG0=SG0=VM0>VM0>VJ0?VJ0?VG0@VGVGVOVGVO0?XE0@XE0@VK0AVK0AVLVKVKVLVLVKVKT;T;VKVKT;T;VKVKT;T;VKVKT;T;VKVK0<VLVKVKVLVLVKVKVL0;VKVKY(Y(VKVK0:SGVKVKVNVNVKVKVNVNVKVKVNVNVKVK07VMVKVKVMVMVKVKVMVMVKVKVMVMVKVK04VJVKVKVJVJVKVKVJVJVKVK02VGVKVKVGVOVKVKVOVOVKVKVOVOVKVKVOVOVKVK0.XEVKVKXEXEVKVKXEXEVKVKXEXEVKVKXEXEVKVKXEXEVKVK0)VKVKVKXPXPV,U;XQXQU$THU$THU$THV,U;V,U;V,U;V,U;U;U;U;UZU;U;UZUZV>UZV>V>TVTVUZUZXXXXVPYIT,TWT,TWTWU:VCU:U$U$THTHU$U$THTHU$THU$THU$THTHTHV,V,THTHV,V,THTHV,U;V,U;V,V,THV,V,U;V,U;UZUZUZV4UZV4UZUZYJYJYWYWYJYJ/IY9YJYJY9YI/HYIYIYIYIX1/HX1X1W@X1X1X1W@X1X1W@X/W@X/W@W@W@X/W@X/X/X/Y'X/X.X.X/X.X/X.X/X/X.X.X/X/X.X.X.X.X.WZX/X/X.WZX/X/WZWZX/XUWZWZWZVTVTVTVTVTVTUVT,TWT,TWT,TWT,TWVCU:VCVCVCU:VCVCU:U:VCU:THTHU$U$THTHU$U$THTHU$THV,U;T>T>T>T>V,U;U;U;T>U;T>U;U;U;U;U;U;V@U;U;V@V@U;XNU*XNYJYJ/*YWYWYW/*YWYW/*/+/,YWY9/,Y9Y9Y9/,/-YIYI/-YIYIYIYI/-YIYIYIX1YIYIX1X1YIYIX1X1/*X1X1X1X1X1X1/*X1X1/*X1W@W@X1W@X1W@X1W@W@X/W@X/W@W6W6W6X/X/W6X/X/X/X//%X.X.X/W>X//$X/W>X.X.W>W>WZWZW>X,W>X,X.X.WZWZX,WZX,WEX.X.WZWZWZWEWZWZWEWEWZVTWEWEVTVTWEW;WEW;W;W;W;VTW;W;VTVTW;VTUVT,XJXJVBU=U=V5.NVBV5VBV5V5VBVBU'U'VBVBU'U'TXTXVBTXVBVBU$V.U$V.U$V.U$.IV.V.V<V.V..HV..IV,V,VDV,V,U;V,U;V@U;V@V@V@V@U;V@V@U;V@V@U;V@V@V@V@V@U*U*Y6.BY6Y6.BYB.C.DXGXGY).DYJ.D.E.F.FYW.GYW.G.HY.Y..H.IY..J.J.K.L.M.M.NZ'Z'.N.OZ'Z'.OYX.P.Q.Q.R.SYI.S.T.U.V.V.WYGYG.WYI.X.YYIY>YI.Y.Y.Z/#/$/$/%/&/'YI/'/(/)/)X1/*/+/+X1/,X1X1X1/,WRX1X1WRVRX1X1WLWL/*/+VRVRWLWLVRVR/*X)/+/,X)X)/,X)/,WKVR/-WKWKW%/-X)X)X)/-X)W@X)W@/,/-/.//WJ///0/1W@/1W@W@W@W@/1W6W@W@W6W6W6X/W)W)W6W6W6W)W)X/W)/.X/X//.X/X/X.X.X.X.WUX.WUWEWEW;W;VBVB/+VBVBUCXRUC/*UCUCUCVB/*/+/,U$U$/,/-UCUCUC/-TYTYUCTYU$V<U$V<V<V.V<V.TY/*TYTYTNTN/*TN/*TNTN/+/+TZ/,/-V@V@/-/.V@U;V@V@V@/-/.//TDTDV@TD/.UPUP//U0U0U0U)TD/.V7V7V7V7U)UO/-YBYB/.YBYB/./////0YK/1/1/2/3/4YK/4YK/5Y.Y./5Y.Y./5/6/7/7/8/9/:/:/;/</=/=Z'/>/?Z'Z'/?/@/@/A/B/C/C/D/E/F/F/G/HY?/H/IY?Y?/I/JY1Y1/J/KY1/L/L/MY?Y?/MYI/N/OY?Y?Y?/OY?Y?/O/PYIYI/P/Q/Q/R/SZ&/S/TYIYI/T/UYIYI/UYSZ&/V/V/WWMWM/W/XYI/YVXVXVX/Y/YX1WMVV/Y/ZVVVVVXVV/Z0#X1WRVVWRWRVRWRWRVVVVWSWSVRVRWSWSW%/WVRVRW%W%VRVRW%W@W%W%VRVR/UX+W@W@W5W5W@W@W5X*W5W5X+W5W6W6X*X*W6W6/QX*/QW)W)W)W)W)X*X*W)W)/P/QX*WXWXWX/PWXWXWXWXWXWX/PX/X//PX//PX.X.X.WX/PWXWX/PWX/Q/RX.WUX.WUX.WUX./QWZW;WZWZWEWZWEWEUC/OUC/PTGTG/P/QUC/QUCTY/QTY/RTY/RTNTNTNTN/RTN/STZTZ/S/TTN/TTN/U/UUU/VUUV@/V/W/X/X/YUUUU/YUUUUUU/YU0XNXNYDYDYD/YYDYD/YYDYD/YYD/Z/ZYD0#YDYKYK0#0$YK0$YKYK0$YO0%0&0&0'YOYO0'0(0)0*0*0+0,0-0-0.Y,Y,0.0/000101020304Y,04Y,05Y;Y;05Y;XXYTY;Y;YT04Y;Y;YI04Y;05YIYI0506Y;06Y;07YIYI0708VUVUW#VU0708090:W#W#0:XYVUVUVWVUWVWVWV09VWVW090:WVWS0:WVWSWSWVVRVW09VW0:WV0:0;0<0<VR0=0>VRVR0>0?0?0@0A0B0B0CW/W/VRVR0C0DVRX+X+X+0CX+X+X+X+X*WXWXX*X*WXWXX*X*WXX*X*X*X*0@X*WX0@WXWXWXWX0@0@0AWP0BWX0B0C0DWPWP0DWWX(0DX(X(0D0E0F0GUC0GXRV?0GV&0HU20HTY0I0JV&0J0K0LTYTYTP0LTY0LTYTNTY0LTNTN0LUU0MUU0MUU0NUUXHY@XHS<0M0NS<S<YD0N0O0PS<0PS2S20PT)0QT)YO0QT)YE0QT)S2T(0QT(T(T(0Q0RY,XXT(T(T(S;Y;Y;XX0Q0Q0R0S0T0T0U0VVS0V0WW+0X0X0YVYVYVSVYWT0YVYVYWTVY0XX&0YX&0Y0ZVY1#X&1#X&X&1#VW1$1%1%1&W:W:W:W:1&W:W:W:W:1&1&1'W:1(1(1)1*1+1+1,W<W<W<1,W<1-X+X+W<W?X+WXWXWX1+W?W?W?WXWXW?WXWWWW1*1+V?1+UKUKU2U21+U2TO1+TO1,UKUQUK1,1,UJ1-1.1.TN1/10UQUQ10UN101112UQ12XPUQXP12UUXPUUXPUUU1U1UUUUUU11UU1112UTX5S<1213S<S<SC13SCSCSCT$T$S2T$S4S2S2S4S2S2T(S2T(S2T(S2S2T(T(T#T(T(1-T(S;T(S;T(S;1,1-1.WTS;1.S;S;1.1/WTWT1/X&10X&1011WTWTX&X&11X&1112W.1313X&WHWH13W<X&14X&W<WHXZW<W<W<131314W?W?W<14W?W?14W=W?1515WX1617WXWX17181819W?1:WXWX1:W?W?WX1:X01:1;1<W?1<X0X0X0WXWXX0WX1;WX1<WXWXWXWX1<WXWX1<WXWXWX1<1=WX1=WX1>1>1?X#X(UK1?XQUN1?UNUNUNUN1?UNUNUN1?UNU-UM1?1@TJ1@TCU-1AU1U1TMTMU1UTU1U1XOXOV=TFU<1>U<XOUTU+U1V'V'1=XOXOV21=XOXOV*1=XNTK1=T.US1>1>SCT$T$XHT$S?1>SCT$T$T$T$T$S?T$T$S4T$S4T$S4T$S4S2S2S4S4S2S2S219S2T#T#T#SZT(SZSZT(SJSZSJSZSJSZSJ15SJSJSJSJSJSJ1515WTSJWT15WTS3S3WT1516VQWTWTVQVQWTWTWTWHWHWHVQWHW?13W?Y$W,13Y$X0X0131415X-W$X-X-14W$15W$1516W$17W$17W$1818W3X-19WXWXW3WX18WXY&Y&Y&WGWXWG17WGWGWG17U-XPXP1718U&UFV$TFV$TFXOXO1718TF18TF19XN19TKV;TK19TKTK191:S?1;S?1;S7S>S4S4S41;S>S>1;SDS>1;1<S>S4S4S41<1<T%T%T%1<1=S/S/T%1=1>S01>T#T%T#1>T#1?SM1?T&1@1AT#T#SM1AT#SZSM1ASM1A1BSBSZSZ1BSZ1BSZSZ1CSZSZS5S5SJSJS5SHSJ1ASHSHSJ1ASJS1SJSHSHSH1@1AS1S11AVQ1B1CS1SWS1S1VQVQVQSWVQVQSWSW1@W*1AW*W?X0W?X0Y$X0W?W$X0W$X01?1?1@1AWN1AW$W$W$WNWNW$W3WN1@WN1AY&Y&W3WGWXWGY&WGWXWGW3WBZHZGZHZHV$V$TFXOXOTFU.U.TF1;TFTFTFTFTFUGTKU/TKTETKTKUGUGTETEUGTEU/17U/V%V%TLV%TLU/U/TEV0V%TLV0TBXMXM14XMSX14SXSX14S015S01516S0XGSM1617SBSSSBSN17SBSBSNS9S5S5S516S5S5SLS5SBS9S915S5S515SQSHSHSQ1515SQSQSQSQSQSQ15S1S1SHS114SI15SISISY15SYS1S1S1SWS1SWSWSWW$13W7WA13WAWAWA13WA1415W7WB15WOW(WB1516WBWG16WBWBWFWOWFWG15WFWFWFWFWFW8W8ZPW8W8ZPY'W8W8U.U.1213U.U.13UBUB13UBUBTFTFUBUBTFUGTFUGUBUBUBU%U%UGU%UGUGV0UGUGUGV0UGV0TBU(TBU(1,U(1-U(U(U(1-U(SN1-S9S91-1.1/10S910S9SLSLSLSLSQ1/SLSPSL1/SQSLSQSLSQSQSQSQ1.SQ1/SQ1/SQSQ1/SI10S@10SYS@11SYSY11SYSWSWSYXY1011S@S@W7WOW7W7WOWOWO10WOWFW7W7WFW8WFW8W8ZSW8ZSW8ZSW8ZSZ7Z7Z7ZAZZXKZZZ5Z<XJZOXJZOXJZ5ZOXJZTZOXJ1'V/UBUBV/U%V/1'UBUAUBUAUG1&UAV)V)UGV)TTV)1%UAUAUGV0TTTTV0V0TTTTTBTBTTT/T/U(T/U(TTT/TTV3T/0X0YT?U(U(T?T?0X0Y0Z1#T?1#T?T?1#1$UEUESPSPSP1$SQSQSQSRSPSRSRSR0Z1#SRSR1#1$SRSRSR1$SR1%1%ST1&STZ.Z.XYZ3Z3Z*Z3Z*W7W7Z,Y%W71#Y&Y&WFW-WFW-W8W8Y'X@W8Y'X@X@Y'X@XEX@Y'W8X@X@W8ZSY'X>ZSZSX>X>ZAZAZSZSZAZAZ;Z;Z=Z=Z=ZXZTXIXIZVZVZVZVZ@UBUA0OUAV10OV10PUAUAUA0PUAT=0PT=TTTTUATITTTTTITIT=0NT=TITITI0NTI0NV3V3V30NV30OV30OT?0PT?SPSPT*T*SPSP0OT*T*SET*SESRSRSE0NSR0N0OSFSFSF0O0PSFSTSFSF0OSTSTSTSF0O0PSTXEX@XEX@XEX@XEX@X@0NX@X@Z;XVZNZNV1T10M0NT30NT70O0OT=T2T20O0P0Q0RT=T=0R0S0S0T0UV3T2T=T20U0U0V0WV3T*SET*SET*T*T*SGT*SGSGSGSESESE0T0TSGSGSGSGSG0T0USGST0UST0USGSGSGXEX@XEX@XEX=XEX=X=X>X=XFX>X>XFXFX>X>XF0QX>X>0Q0RX>XUXFXU0QT80R0S0ST50T0UT4T2T90UT2T2T20UT90UT7T70U0V0WT0T20W0X0Y0YV3UR0Z0Z1#T0T0URURT0XN0ZSGSGSGXEXEXEXA0YX=XAY'X=XFX=0YX=0YX=0ZXFXFXD0ZXFXF0ZXFV1V1V10Z0ZT7T7T7V10ZTRTRT0T00ZT0T10ZT1T1X=0ZY'Y'XDXDXBXB0YXDXBXBTR0YTRT60Y0ZT6T6V+T6V+V+T6T60YT60YT1T6T6V+T;V+V+XNX<T;XNT;T;V+T;VMVJVMVJVHVKVHVKXLXLT;VLXHXHVLY(VLY(VLY(Y(SGY(SGY(SGY(SGVNVMVNVMVNVMVNVMVMVJVMVJVMVJVMVJVJVGVJVGVJVGVJVGVFVFVOVOVFVFVOVOVFVFVOVOVFVFVOVOVFVFVOXEVFVFXEXEVOXEVOXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVHXEXEVHVKXEVKXEVKXEVKT;VLT;VLT;VLT;VLVLY(VLY(VLY(VLY(Y(SGY(SGY(SGY(SGVNVMVNVMVNVMVNVMVMVJVMVJVMVJVMVJVJVGVJVGVJVGVJVGVOXEVOXEVOXEVOXEXEVKXEVKXEVKXEVKXOVLVKVLT;VLT;VLVLY(VLY(Y(SGY(SGVNVMVNVMVMVJVMVJVJVGVJVGVOXEVOXEXEVKXEVKYJYJ/U/VYJYJ/VYIYIX1YIYIYJYJYJ/UYJ/UYJYW/UY9Y9Y9XTY9/UYFY9Y9/UY9YW/UY9Y9Y9Y9/U/VY9/VYIYIYIYI/VYIYIYI/VY>YIX1X1X1X1X1/U/VX1X1X)X)X/X//UW6X/W>X/X/VBVBU=VBU$V<U$V<V.VDV.VDV./QV.V.Y6Y6Y6/QYBYB/QYB/Q/RY6Y6Y:/RYBYBY)Y.Y)/RYJYJYJ/RYJY5Y5Y5Y5/QY5Y5/QYWYWYWYWYWY5YWY5Y5/P/QY5Y5/Q/RY5/RY5Y5YW/R/S/TY./TY./UYWYFYWYWYFY9YXYXYWYWYWYNYN/RYN/S/SYWY5Z'YWXTZ'Z'XTY=/RY=/RZ%Y=/SY9/SYXYXYNYNYN/SYN/SYNYN/S/TYXYI/TYIYIYI/TYIYN/UZ%Z%/UZ%Z%Z%Z%/U/U/VZ'/W/W/XYGYG/XYGYGYG/XYGYGYGYIYIYGYIYG/WYGYGYIYI/WYI/WY>/XYI/XY>Y>Y>Y>Y>Y>/XY>Y>YIY>Y>YP/WYPYIYIYI/WYIYIYI/WYI/WYIYIYZYZYZ/W/W/X/Y/Z/Z0#YPYPYP0#YP0$Y>X10$X1YP0$0%0&X1X10&X10&0'0(0)0)X1X1X1X10)X1WRX1X1VRVRX1WLVR0(0(0)0*X)WLX)WLWKX)X)WKWKX)X)WKX)WKWKWLWKWK0&VR0'0'WKW%W%X)X)X)0'WK0'WKWK0'WJ0(WJWK0(W%W%W%0(W%W%0(0)W@W@0)WJW%WJWJW@WJW@W@0(W@W60(W6W6W6X/X/WXWXX/X/WXWXVBVB0&0'0'UCUCUCU$U$VBU$VBVB0&0'VBVB0'TSU$U$0'U$U$U$U$0'UCUCUC0'TNTN0'UX0'TNTYTN0'TNTNTNTN0'TNTNV@V@TZTZ0&TZTNTN0&TZ0'0(TZ0(TZTZ0(V@TZ0)V@V@UU0)V@UUV@UUUU0(UU0)V@V@UPUPUPU0UPU0U*V70'V7Y6Y6XGYBYBYBYKYKYB0%YK0&YBYBYKYKYBYBYB0%YBY)0%0&YK0&YKYKY)Y)0&0'0'0(0)Y.0)0*YKYK0*Y.0+0,YKYKYK0,0,0-YK0.Y.Y.0.Y.Y.0.0/00Y.00Y.0101YM02YM02Y.0304Y.Y.04050506YO070708YOYOY.08090:0:0;Z$Z$YO0;YOYO0;0<0=0>Z'Z'0>Z'YM0>0?0@0@0A0B0CZ'Z'0C0DZ'Z'0D0EZ$0EZ$0F0FY/0G0H0H0I0J0K0KY20L0M0M0NY2Y20N0OY20P0P0Q0RY-0RY10SY10S0TZ'0U0U0VY?Y?0V0WY?Y?0WYGY?Y?YGYGY?Y?0V0WY1Y1Y?0WY1Y10W0XY10Y0YY?Y40Z0Z1#1$1%1%1&1'Y?1'Y?Y?Y?YIYIY?1'Y?1'Y?Y?1'1(Y?Y?Y?1(YTYT1(Y?YTYTY?Y?YTYI1'1(Y?Y?YIYI1(YIYI1(1)1*1*1+1,1-Z&Z&YIZ&Y?Y?1,1-1-YIYIYIYI1-YI1.Z&1.1/YI1/YS101111YSWMWMYS11YSWM11X1WMWM1112YIYIWMWMY+12Y+Y+YIY+VXVXVUVUX1X110WMX1X1X110X1X110X1VX1011VU11VUVUVUW%W%11W%X+X+11X+X*11X*X*W6W611W)11W)WX1212WXWXWXW)WXWXWXWX11WXWX11X/WXWXX/X.X.X.WXX.WXWXX.X.WXWXWXWX1.WX1.X.1/X.WUWUX(1/UCTGTGTGTGTGUCUCTGTGUCUCTGTGTYTY1+TYTYTYTGTYTGTGTGTG1*TY1*TNTNTNTN1*TNTZTNTZTN1*TZTZ1*TZTZ1*1+1,1,1-1.U31.1/1011U311U312U31213UUV@V@V@1313V@14UU1415UUUUV@V@1516V@16UUUU16UUUUUU16U0U0U0YDYD1617YDYD1718YKYK18YK1819YDYD19YD1:YD1:YDYDYD1:1;YDYD1;1<YDYDYK1<YK1=1=YO1>YOYKYKYK1>1>YO1?YOYOYOYO1?Z(Z(YOZ(1>1?Z(Z(YRYR1?YRZ(Z(YOYO1>1?YOYL1?Y-YRY-Y-1?Y-1@1@1A1B1CY-1C1DYUYYYYY,Y,1C1DY,Y,1DY11E1FY1Y11F1GYVYV1G1HYVYV1HYV1H1I1J1KY1Y11KXXYVYV1KY;YVXXY;Y;Y,1JY,Y;Y,Y,Y,1J1JY;1KY;YTYIXXXXYIYI1JYIX%X%Y;Y;X%X%X%1IX%1IX%X%1IX21J1KY;1KY;1L1LYI1MX%YIYI1M1N1NW#1O1PW#W#W#1P1P1QX&X&1Q1RX&X&1RW#X&X&1R1SVWVWVWVWX&1SVWVW1S1TWVWV1TWVWVWV1T1UVW1UVWVWWVX$WV1U1U1VVWVWWVWVVWWV1UVR1VVRVRVRVR1VVRVR1V1W1W1X1YW'1Y1ZW'W'X$1Z2#2$2$2%2&2'2'W/2(W/W/W/2(W:2(2)2*W'W'W'W'X+2)W'W'W'W'2)W'W'W'W'X+X+X*X*WXWXX*WXWXWXWXWXWX2&WX2&2'WP2'WPWPWPWPWP2'2(WX2(WXWXWXWX2(WP2(2)WPWP2)WW2*WWX(WEX(WEUCUCUC2)2)TYV&V&UC2)UCUCV&V&2)V&UCUC2)2*UCUC2*2+V?2+V?V?TY2+V&TYV&2+V&V&V&2+V&2,V&2,V&V&U22,U2U22,2-U2U22-TYTOTPTYTNTNTNTNTN2,TN2,2-TN2.2.2/TNUUTN2/TN20TN20TN2121YDYD22YDYD22YDYDYDS2S22122S<S<22S223S2S2S2S<S2S2T)22T)22T)23T)YOYOYEYET)T)S2T)21T(T(T(Y,21Y,22Y;Y;2223WI23WIWIY;Y;23Y;Y;23242525W+WIW&W+W+25W+XX25W92626W+27282829S;W929Y;W+W+292:W+W+W+2:W+2;2;2<2=VY2=VYVYVYWT2=WTWT2=X&2>2?VY2?2@X&VY2@VYVYX&X&2@X&2@X&VY2AX&2AX&X&2A2BX&2CX&W:2CW:2CW:W:W:VW2CW:W:W:2CW:W:X&2CX&X&W:W:W:W<W:2BW:W:2BW:W:W:W:W:2B2CW/W/2CW<W:W<W<W<2BW<W<W<W<W<W<W?W:W:W:2A2AW<2BW<2B2CW<2DW<2D2E2FW?W?2FW?WW2FWWX(2FX(X(X(V?U2V?2FUKU2UKUKTOV#TOTOTOTOTO2DUKUQUKUK2CTNTOUJTO2C2D2EUJUQUQUQTNTN2DTNUQ2DUQUQTNTN2DTNUQUNUQUNUQUQ2CUQUQ2CUQUQ2CUQUNUQ2CXPUJXP2CUUXPXPUUUTUUUTUUUTUUUTUUU1U1U1X5SCSCSCS<S<SCSCSCS2SCT$2=S;T(S;S;2=2>2?VSWTWTWTS;WTS;S;WTWTS;WTVYVYWTWTWC2;WT2<X&X&WTX&WTWTWT2;WT2;WTWT2;WQ2<2=X&X&2=X&WQX&W.W.X&2<W.2=W.2=W.WH2=X&2>XZX&2>X&2?X&W<X&W<2>W?W?W?W<2>W<2?2?W?W?W?W<W?W<W<W?2>W?2?W?2?W?W?W=WXW=W=W=W=W?W?W=W=2=W=2=W=W=2>W?X'2>2?W?W?W?2?2?2@2AW,2AW,W?W,X'X'2AW?W?W?W?2AW?W?W,2AW?W?2AW?W,2AW,2BW?X0W?X0X0WX2AWX2AWXX0X0WXWXWX2AWXWXW$WXWXWXWX2@WXWX2@WXWXWX2@WXWXX#Y&X#WXX#2?X#X#Y&2?X(UKUKUK2?UKUN2?UNUN2?UNUNUMUMUNU-UMTJ2>TJUM2>UMTJUM2>U-TCTCV=V=V=U<V'U<U<V'V2XOV2V2V*XOXO2:VAV:V:2:V6U@2;U,U,U#UIXHSCXH2:2:S?S?S?S2T#T#T#S;29SJSJSJS3SJS3XYWTSJWTSJSJS3S3WTWTVQ26WT26VQVQW?W,W?W,W,X025X0WXWXX0X-X0X0W$W$23X-W$W$W$W$X0W$X022X0W$X-22W$W$W$X-W$22W$22W$W$WXWXW$WXW$W$Y%WX20W$X-W$20W3X-W3WX20WXWXX#X#Y&WGUN2/XPU-U-V=U&U&V=V=2.2/TK2/TKTKTUU@2/TKTFTKTKTKTKTK2.TKUIUIV;V9V(V(2-TKXHS?XHS6S?S?2,2-2-S?S7S7S?S4S?S4S4S4S>S4XH2+XHSDS>S4S>S/SDS>2*SXS4T%S4T%S4S4S4T%S4S4S/S/T%T%2'T%S02'S0S0S/S0S/2'T#T#2'T#T#T#T#2'2'SMSMSM2'T&SOT&S02'S0SOT&SMT&SM2&SMSMSMSMSBSM2&2&SB2'SZSM2'SMSBSZSZ2'SZ2'SZ2(SZSZSZSZS5SJSJSJSHSJS3SJS1S12%S1S12%S3S1S1S3VQS3S3S12$S1SAVQVQ2$XYW?W?2$W*W?W*W*W*W$W$2#Y%W$W$W$WN1ZW$WNWNW$1ZW$W$X01ZX0W$X-W3WNW3WNW3W3W3TKTKTF1XU/XNU/V%TLTLTLTBSX1VSXSX1VS0S/S01VS0XGS01V1W1X1Y1YSM1ZSMSMSMSBSBSMSB1Y1ZSSSSSNSNS5S5S51YS9SLS9SL1XS5SQSQSHSH1XSQSQSQSLSQSQSQSQ1WSQSISQ1W1WSISISISI1W1XSYW$W$WA1XW$W$W$WAWAWA1WWAW71WW7W71WW7W7W7WO1WWOWOY&W(WB1W1WWBWBWBWBWBWF1WWGWGWGWFXOU.UBU.U.U.1UU.U.U.1UUBUBU.UBUBTBU(TB1TT/U(T/U(U(U(U(1SSNS9SNS9S91R1S1TS9S9SL1TSP1TXTSP1TSPSPSPS9SLSLSL1SSLSLSLSLSLSLSQSQ1RSQ1S1S1TSQ1USQS:SQ1USISI1US@1US@S:S@1USY1V1WS@SYS@S@SYSY1VSYS@SYS@S@SYXY1UXYWOWF1UWFUBV/UBUBV/V/V/UAUGUGUG1SV)V)V)1ST/T?T/T?1RV3V3V3U(V-1RT?V-V-T?1R1RT?T?T?T?1RT?UET?1RT?T?1R1S1T1UV-V-1UXLSPSPSP1USQ1USR1VSRSR1VSQSQS@SRSRS@S@1US@SRSRSR1U1U1VST1WS8STS8STS8ST1VS8WFWF1VWFUBUB1V1W1WUA1XUAV1UAV1UAUAUA1WUAUAUA1WT=1WTITITITITI1WTI1WV3V3V3TIV3TI1W1WV3V3V3T?T?V31WV3T?V3V31VSPT*T*SRSRSE1VSRSRSRSFSRSFSFSFSE1TSESESFSFSE1TSTS8ST1T1TSTSFSTSFSF1TSFX@X>X@X>V1V1V1T8T4T4T8T4T3T7T3T71PT7T7T7T71PT7T7T1T1T11PT:T21PT2T41PT4T41PT2T1T2T2T2T21P1PT=1QT=1QTIT=TITIV3V3V3T=T=T=1PT2T2T21PT=T21P1QT2V3V3V31PV3V3V3SE1PSG1QSE1QSESGSG1QSG1R1RSGSUSGSGSGSG1RSGSVSGSGX>X>XFXFX>X>XFXF1O1PXFXFV1T8V1T8V1T8V1T51NT5T5T5V1T5V1T5V1T5T71MT5T51MT71MT21NT2T2T2T21NT9T2T91NT21N1OT01OT0T0T01OT0T0T01O1P1QURT21Q1R1S1SURURUR1SV3UR1T1T1UURV3T01UT0T01UURT01VSG1VSGSGXEXEXA1V1VXFXFXFXD1VXDXDXDXD1VXD1V1WXDXD1WXDXDXDV11WV11X1XT7T7T7V1T7V1T1T0T01WT0T7T7T1T11VXDXDXDXDXDXDXBTR1UTRT6T1T1T61UT1T11U1VT6T6V+T6T1T1T6T6YW1TYWYW1TY91UY9YJYJ1U1VYJYJYJYWYWYWYJ1UYWY9Y9Y9YWYFYWYFYFY9YFY9YWY9Y9Y9Y9Y9Y91QY9Y9YIYIY9Y9YIYIYIYIY9YI1NY>Y>Y>1N1OX)X)X)1OX)X)X/X/X/W6VDVDV.VDY6Y6Y61M1MYBYB1N1N1OY6Y6YBYBY6Y6Y:Y:YBYB1M1N1O1PYJ1PYWYWY5YWY5Y5YJYW1OYWY.1OY.Y.1OY5Y.1PY5Y51PY.Y5Y5Y51P1PYWY51QYWYWYWY5YWYWY.Y.Y5Y5Z'Y5Z'Z'1NZ'1NZ'1O1PYXYXYNYNYNYNYN1OYWYWY5YWZ'Y=Z'Z'Z%1MZ%Z%Y=Z%Y=Y=Y9Y9YXYXYNYN1KYNYN1KYNYNYXYIYXYXYIYIYX1JYIYI1JYIYXYXYNYNYNYIYNYNZ%Z%Y=Z%Z%Z%Z%YGZ'1FZ'Z'Z%Z%1FYG1FYGZ'YGZ%1FYGYG1FYGYGYGYNYNZ%YGYGYIYGYGYGYIYG1DYGYIYIYI1CY>Y>Y>Y>Y>YIYIYIYIY>1BY>Y>Y>1BY>Y>Y>1BYIYIYI1BYIYIYZ1BYIYZ1BYZ1B1CYSYP1C1DYIYIYP1DYIYIYIYIYI1DYIYIYI1DYZYZ1DYPYZYP1DYPYPYPYP1DYPX1X1X1Y>Y>1CYPYPX1YPYPYPYP1B1CYP1CYP1DX1X11DX11DYIYIYIYP1DYI1EYIYIYI1EX1X11EX1X11EX1X1X11EX1WRVR1EVRVRX1X1X11EX1X1X)X)X11DX)X)WKWK1DWKW%W%VR1DW%WKW%W%X)X)X)WJX)WKWKWKWJWJ1AWJWKWJWKWJWKW%W%W%W%1?W%W%WJWJWJW@W@W@1>W@WJWJ1>WJW@1>W@W6W@W@1>W6VBVBVB1>VBVB1>1?VB1?UCUCVBVBUCUCVBVBUC1>VBVB1>UCU$U$TSTYU$U$TYTYUCTGUC1<TY1<TYTY1<1=TNTN1=TNTNTNTN1=TNTN1=TZ1>1?TZTZULTZ1>UL1?1@TZTZTNTNTZ1?TZTZ1?V@TZV@V@V@TZTZ1>UPUUUPUU1>UUUPUU1>UUUUTDTDTDV7YBYBY81=1=Y8YK1>YBYB1>YKYK1>YK1?1?1@1AY0YK1AYKYK1A1BY0Y01B1CY0Y0Y)Y)1C1D1D1E1FY.1F1G1H1I1IY0YK1JY0Y01JY0Y0Y.1J1K1K1LYKYK1LY.1M1N1N1OZ)Z)YK1O1P1Q1QZ)1RZ)1R1S1T1UY.Y.1U1VY.1VY.1WY.Y.Y.1WY.1W1X1Y1Y1Z2#YMY.YMY.Y.1ZYMYMYMYMYMY.YM1YY.1ZY.1Z2#Z)Z)2#2$Z)Z)2$2%2&Z$2&Y.Z$2'Z)Z)Z)2'Z)Z)2'2(YO2(YOYOZ)2(2)2*2*YOYOYOY.Y.Y.2*2*2+2,2-Z$2-Z$Z$2-Z$Z$Z$2-2.Z$Z$2.2/YOYO2/2021222223YAYA2324Z(Z(YAYAZ(Z(Z'Z'2324YMZ'YMYMYMYMYM23YMYM232424Z'YMYMZ'Z'2425YMYM2526YM2627Y/2728Y/Y/Z'Z'Y/Y/2728Y/Y/28Z'Y/Y/Z$28Z$Z$Z$28292:2:Y/2;2<Y22<Y2Y22<2=Y2Y2YA2=YAYA2=2>Z(Z(2>2?Z(Z(Z(Z(2?2@Y2Y2Y22@Z(Z(Z(2@Z(2@2A2BY/Y/2B2CY/2C2D2E2E2FY2Y22F2GY2Y2Y2Y12GY1Y2Y22G2HY2Y22H2I2IY-2JY-Y22JY12KY1Y1Y-2KZ'2KZ'Z'2KYGYGYG2KY?Z'2LYGYG2LY?YGYGY?Y?Z'Z'2KY?2KY?Y?Y?YGYGY?YGY?Y?2JY?Y?Y?2J2KY?Y?Y?2KY?Y?Y1Y1Y?2JY4Y4Y4Y4Y12JY?Y?2J2K2KY?Y42LY4Y4Y42LY42LY?Y?2LY?2M2NY?Y?2NY1YGYGYG2NYGYGY?Y?2M2NY?Y?YIY?Y?Y?YIYIY?Y?Y?2LY?Y?2L2MY?Y?2MY?Y?Y?Y?Y?Y?2MY?Y?2MY?YIYIY?2MYIYIY?YIY?2LY?YIYIYIYIYSYIYI2KZ&2K2LZ&Z&YS2LYSYS2LYSYSYSYSYSZ&2LYSYSZ&Z&Y?2KY?Y?2KYIYIYIY?2K2L2M2MZ&Z&Z&YI2MYIYIZ&Z&Z&YI2LYIYIYI2LYSYSYSYSYS2L2MYSYS2MYSZ&WM2MWMYPYPYSYSYPYPYP2L2L2MYIY+Y+WMY+Y+Y+VXY+Y+WM2KWMWMX1X1VVVV2JX1VVX1VXVX2J2KVU2KVUVUVXVX2KVUW%W%VRVRX+X+2JX+2J2KX*X*2KW)W)W)W)W)X*W)2J2KWXWXW)W)2KWXWX2KWXWX2KX/X/X/WXWXWXX.WXWXWXX.2IX.X.X.X(WUX(X(2HTY2ITYTY2ITYTYTYTYTY2ITNTZTNTZ2H2ITN2J2JTZU3U3TZTZ2J2KTZ2KUUUU2KV@UUUUTNTNTNU32J2K2LU3TN2LTN2MTNU3TN2MU3U3U8U3TN2LTNTN2LU52MTNU3UUU3UUU32LU32MU3UUUUUU2L2MUUUUV@V@V@2M2MV@V@V@V@UUUUUUV@V@V@UUV@2KUUUUV@V@UUUUV@V@UUUU2IUUUUUU2IUUUUUUUUUPUUUPYD2HY@Y@Y@2HY@Y@2H2IY@Y@YDYD2IYDYKYK2IYKYD2IYDYDYKYKYDYDY@2HY@2IY@2IY@YDY@2IY@YDYKYKYDYDYKYKYD2HYKYK2H2IYKYK2I2J2JYO2K2LYK2LYKYKYOYO2LYO2LYOYKXTYKYKYK2L2LYOYKYOYKYOYKXT2KYOYOYOZ(2KZ(Z(YRYR2KYRYRYRZ(2KZ(2KZ(Z(2K2L2M2N2N2O2P2QY1Y1Y-Y-Y-2PY-Y-YLYLYL2PYL2PYY2QYL2QYYYYYYYYYY2QY-Y-2QY-2Q2RYUYU2R2SYYY,2SY,Y,Y,2SY1Y1Y12S2T2UYVY1Y1YVYVY12TYVYV2T2UYVYVYUYVYUYVYVYVYVY,YVYV2SYVY1Y12SY1Y1Y12SY12SYVYVYVYV2SYVYV2S2TYVYV2TY;2UY;Y,Y,Y,Y;Y,2TY,Y,Y,Y;Y;Y;Y;Y;Y,Y,YIYIYI2RX%X%Y;X%YIYIX%X%Y;2PY;2QY;2QY;Y;2Q2R2SX&2SX&X&X&Y;X&Y;X&YIYIX%YIX%X%2QX%YIYI2QYIYI2QYIW#X2W#X2W#X2X22PX2W#W#X2W#W#W#2OW#2O2PX&X&2P2QX&X&2QX&X&X&X&W#X&2QW#W#2QW#WVWVVWVWWVWV2P2QVWVWX&X&VWVW2PVWVWVW2PVW2PWV2QWVVW2QVWVWWVWVVWWVVW2PVWVWWVX$WV2P2P2QVW2RWVWV2RWVVRVR2RVRWS2RWSVRVRVRVR2RVRVR2RX$X$W'W'W'2QVRW'W'VRVRW'W'W'W'2P2QVRW'W'W'W'2PW'W'2P2Q2RX$X$X$2R2S2S2T2UW/X$2U2V2W2W2X2Y2Z2Z3#W'3$3$3%W'W'W/3%WV3&WV3&WVW/W/W/3&W/3&3'3(3)3)3*3+3,3,3-W'W'3-3.W'W'VRVRW'W'3-WXWPWPWXWX3-WPWX3-3.WPWX3.WPWPWPWPWP3.3.3/30WWWXWXWX30WXWXWX30WX30WPWP30X.WPX.WPWPWP303031WWWWUCUCUC31UCTYUCV&UC30UC3131V&V&V&UC31XRV?3132V?V?V?32V?V?V?32V?U2V?U2V?V?TYTY31TY31TYV&V&TYTYV&TYV&TYV&30V&TYV&TYV&V&U23/V&V&U2U2V&TY3.U23.3/TPTP3/TNTNTNTN3/TNTNUUUU3/30TNUUTNUUTNTNTN3/3/UUUUUUUUUU3/UU3/UU30UU30UUTNUUTNUUUUUU3/YDYDYDYDYDS<3/3/YD30S<S<30S<S<S<S2S<30S2S230S230S2S2S2S230S231S2S2S231S231T)T)T)T(31T(Y;Y;3132Y,32Y,Y,32Y;Y,XX32Y;Y,Y;W032WI33Y;Y;W0W0Y;Y;3233Y;33343535W+W+W+W0W035WI35363738W&W&3839393:3;W23;W+3<W+3<3=VSVSW+W+VSVSW13<S;3=3=3>W93?Y;Y;3?3@Y;Y;Y;W+Y;3?W+W+W+W+W+3?W+3?VYVY3?Y;W+W+3?3@VYVY3@VYVYVY3@3AVYVYWTVYWTWTX&X&3@X&3@X&VY3AX&X&3AX&3AX&X&X&VY3A3B3C3CX&3DX&3DX&VY3EVYVYVY3E3EX&3F3G3GVWX&X&VWVWVW3GVWVW3GVW3GVWX&VWX&X&X&W:VWVWW:W:3E3FW:W:W:3FW:W:W:W:X&3FW/3FW:W:3FW:W:W:W:W:W:3FW:W:3F3GW:W<3GW<W:W<W<W<W:3FW:W:W:3F3G3H3HW<W<W<W<3HW<3I3IW?3JW?W<3JW<W<W<3J3K3LW<3LW<3M3MW?W?W?W?W?3MW?WWWWWW3MWWY'X(Y'V?U2V?V?TOTOUQUQV#3JV#V#UQUJUQ3JTO3JTOUQ3JUQUQUQUJ3JUJUJUJTNUJ3JTNTNUJ3JUQUQ3JUQ3J3KUJUJUNUQUN3K3KTNUJUJTN3KXPTNT(S;T(3K3KVSWTVSS;S;S;3K3KWTWTWTWC3KWCWCWCWCWT3KWTWTWT3KWT3KWTWTVZWQ3KWQWQWQWTWQWQWQW.W.X&X&WHX&X&3HW.3IW.W.W.WH3H3IWHWHWHX&3IX&3IXZWHWH3IW:3J3KX&3KX&X&W<W<W<W?W<W<W<3JW<W?W?W?3IW?W?W?W?W?3IW=3IW=W?W?W?W=W?W?3H3IW?W?W=3IW=W=W=W=3IW=W?W?3IW?X'X'W?W?W?W?W?3HW,W,3H3I3IW?W,W,3I3J3KW,3K3LW?W,X'X'W?W?W?W?W?X0W,3JW,W,3JW?W,W?W,W,3JW?W,W?W,W,X0WXWXWX3HWXX0X0WXWXW$W$WXWXWX3GWXWX3GWXWXWX3GWXWXX#X#X#X#Y&X#X(UKUKT@3EUKUKUNUNUN3DUNUNUM3DUM3EUMUM3ETJTJ3ETJTCV*3EV*V:T-T-T-3EV8T.3ET.XHSCXH3ET$T$3ES?S;S;SJSJ3DWTVQVQWTWTVQVQ3CX0W,X0X03CW$W$W$W$X0W$X-X-3B3CW$3CW$W$W$3CW$W$W$W$X-W$W3W3X-W33A3BWXWXUN3BUNU-U&V=U&V=V=V=V=UFT<T<3@T<3@TUTKTKTFTFTF3@3@V(TKTKS?S?3@S6S?3@3A3BS?S?S?3BS>S>XHSDSDSDSDSXS/T%S/S/T%3?S0S03?S0S0S0T%T#T%T%T#T#SMSMT#SMSMSMSOT%SO3<SOT&SOT&T#SMSMSMSM3:SMSBSMSBSMSB39SBSBSBSMSBSMSB38SZSZSZSZSZ38SZ38SZSZSZS3S3S1S1S3S3S1S1S3S3SASASASA35SWW?W?W?W*34W$W$W$W$W$WNWNW$WNW$WNX0W$X0W$TKTKTF3131S/S/S/S/S/S/S0S/S/S/S0S03/S030SOSOSO30S030S0S0303132SOT&T&T&32T&32T&XGSMSMXTSSSBSBSSSBS530S5S5S5S530S530SQSQSQSQSQSQ3030SI31SISQSQ31SISISYSYSY3031SISYWAW$WAWAWAWAW730W730W7W7WA30W731WBWBWOWBWB30WBWBW(WBW(30WBWBWFWFU.U.UBU.U.U.U.UBU(U(3-U(U(U(U(3-S9S9S93-S93-XTSPSPSL3-SL3-SLSLSL3-SLSPSP3-SLSPSPS9S93-SLSQSISQ3-SQ3-3.SKSQSQSQ3.SKSKSK3.S:S:3.S:SQS@SQS@3-S@SKSKSK3-3.3/3/SYSYSYS@3/S@S@3/SYS@SYSYSY3/SY3/S@S@S@3/WFWFWFUG3/V)V)V)V)V)3/V33/V3V3V-V-T?3/V-V-3/UET?3/T?T?3/UET?UET?UET?T?V-U(3.V-3.U(V-V-V-V-3.V-V-V-V-UE3-V-UEUESP3-SPSQSQSQ3-SQSR3-SRSR3-SQ3.3/S@S@SR3/SRS8S8S8SRSRSR3.S8S8S83.ST3.ST3/S83/STSTW7WFW7WFUBUBUB3.UBV1V1V1V1UAV1V1V1V1V1UAUAUA3+T7UAUAT7T73*TITITITITITI3*TTTT3*V3TIV33*V3TI3*TIV3V3T?T?T?SPSPT*T*SF3(SESFSESFSESFSFSFSG3'S8S83'STSF3'SFSFSFSF3'SFT73'T7T7T7T=T73'T13'T1T1T:3'T:T2T1T1T4T1T1T23&3'T2T2T23'T=T=3'T=3'3(T=T=T=3(T=TIT=3(T=T2T23(3)V33)T2T2T2T2T2V3V3T2V33(V3SE3(3)SGSESGSGSGSESESE3(SGSGSG3(3(SUSUSUSGSGSUSUSGSG3'SV3'XFXFXFXF3'XFXFT5T8T5T5T73&T73'T5T53'3(3(3)T93*T9T2T9T2T2T2T23)T2T2T7T7T2T23(T0T2T0T7T0T23'T0T0T7T0T7T0T23&3'URUR3'URUR3'UR3(URT23(T23)T2T23)T2T23)T2UR3)URURURV3V3V33)V3V3URURURV3URURV3V33'V33'URT0T0URUR3'URURURT0T03&SUSGSGXEX=XAX=X=3%X=XFXF3%XDXDX=XD3%XDXFXF3%XDXFXFXDXDXF3$XD3%V1T7V1T7V1T7V1T7T7T7V1T7T7T0T72Z2ZXDX=XDTRTRTRT1T62YT6T62YT6T6T6T62YT6T6Y9Y92Y2ZY9Y92ZY92ZY9Y9Y9YJYJ2ZYIYJYJ2Z3#YJYWYWYWY9Y9YIYIYIY>Y>Y>2X2YX1X)2Y2ZX)X)2ZX1X)X)Y62Z3#YBY6Y63#YBYBYB3#YBYBY63#Y6Y63#Y6Y6Y)3#Y)Y)3#Y.3$Y.Y)Y)Y)3$3$Y.3%Y.YJ3%YWYWYJYJ3%YJY5Y5Y.Y.Y5Y5Y.3$Y.3$Y.Y.3$Y.Y.Y.Y5Y5Y.Y.Y53#Y5Y53#YWYWYWY.Z'Y.Z'Y.2Z3#3$3$Z'Y.Y.Z'Z'3$Z'YNYN3$3%YNZ%Z%Z%YNYN3$YNYXYX3$3%YX3%YXYI3%YIYIYIZ'Z%Z'Z'Z'YGZ'YGZ'YGZ'Z'Z%Z%YGYGYGZ%YGYGYG2XYGYG2X2YYIYIY>YIY>Y>Y>Y>YPYPYPYP2WYP2WYIYZYZYIYIYZYZYI2VYIYIYZYPYZ2VYPYP2VYPYI2VYIYI2VYPYIYIYPYP2VYIYIYIYPYPYIYIYI2UYZYPYPYPYP2TYPYPYP2T2UX1Y>Y>YPYPYP2TYPYI2TYPYPYPYPYP2TX12TX1YPYPX1X12TX1YPYIYIYIYP2SX1X12SX1X1X1YIYIYI2S2SX12TX12TYIX12UX1X12UX1WLWLVRWLX1X12T2UX1X)X)X)WKWKWKW%W%W%VRW%WKWJWKWKWJWJW%WJ2PW@W@W@WJWJW%WJ2OW@W6W6W@W62OW6VB2OVBUC2O2PUCUC2PVBUCUCUCUC2PUC2PVBUCUCVBVBUCUC2OTGTGTGTNTN2OTYUY2OUYUYTNTNUYTNVD2NTNTNTNTZTN2NTZTZULTZTN2MTNTNUL2MTNTN2MULTNULTNTNTN2MULUL2MTNV@V@TZ2MV@V@2MV@UPUP2MUPUUUP2MUPUUUPUU2MY8YKY8YKY8Y8Y82LY<Y<YKYKYB2KYBYKY0Y02KY02KY0YK2LY02LY0Y02LY)2M2NY0Y02N2O2O2PYK2QY)Y)2Q2R2R2SY0Y02S2TY0Y0Y)Y)2T2UY)2UY)2V2V2W2XY.2X2YY)2Z2ZY.3#Y.3#Y.Y.Y.Y)Y)3#3$3$Y.3%Y.3%3&3'3(Y.Y.3(Y.Y0Y03(3)Y0Y0YKYK3(Y0YK3)Y0YC3)3*Y.Y.YCY.3)3*YKYK3*3+YKYKY.Y.3+Y.3+3,YKYK3,YKYKYKYKYKYK3,YKYKZ)YKYKZ)Z)3+YK3+YK3,3,YK3-YKZ)Z)3-Z)YKZ)YK3-YK3-YK3.3.YO3/YOYKYK3/30YOYO30YO3031YKYK31Y.323333Z'34Z'34Z'35Z'Y.Y.3536Y.Y.Y.36Y.3637YM3738YMYMY.Y.Y.YMY.37YMYM37YMY.YM37YMYMYMYK37YK3838Y.39Y.393:3;3<3<3=3>Z)3>3?Z)Z)3?3@Z)Z)3@Y.3A3BY.Y.Z$Y.3AZ$Z)Z)Y.Y.Y.Z$Z$Z$Z$3@3@YO3AYOZ)Z)YO3AZ)YO3AYO3AYOYOYOZ)Z)3A3B3BYOYOYO3B3CYOYOZ)YO3CYO3C3DY.3EY.Y.Y.3EY.Y.Z$Z$Z$Z$Z$YOZ$Z$YOYOY.3BZ$Z$Y.3B3CZ$YMYMZ$Z$YMZ$Z$Z$YOZ$YOYOZ$Z$YOYOZ$Z$YOYOZ$Z$3>3?YOYAYO3?YAYA3?YAZ$Z$3?Z$Z$Z$Z$YAYO3>3?3@3@YA3A3BYMZ'YMYMZ'Z'3AZ'YMYMZ$YMYMYM3@YMYMYM3@3AZ'Z'YMYM3@3AYMYM3AZ'3B3CYMYM3C3DYMYM3DY/YMYMY/Y/YM3CY/Y/Z'Z'Y/Y/3BZ'Y/Y/Z'Z'Y/Y/Z'Z'Y/Y/Z'Z'Y/Y/Z$3?Z$Z$3?3@Z$Y2Z$Z$Z$3@3@Y23AY23AY/Y/Y/3AY/3B3CY/Y/3CY/Y23CY2Y23C3DY2Y23D3EY2Y23EZ$YAYA3E3FYA3G3GY23HY2YAYAYAZ(3GZ(Z(Z(Z(Z(YRZ(Z(Z(YRYRY2Y23EY2Z(Z(YRZ(Y2Z(Z(Z(Z(Z(3C3DZ(Z(Z(3DY/Y/3DY23DY2Y2Y2Y/Y/Y/3D3DY2Y2Y23DY2Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/3B3C3C3D3E3FY23F3GY1Y2Y2Y23GY23GY23H3HY2Y-Y-Y23H3I3JZ(Y-Z(Y-Z(Y-Z(3IY2Y23IY13IY1Y1Y1Y1Y1Y-3IZ'YGZ'3IYGYG3IYGZ'Y?Z'Y?Y?Y?Z'Y?YG3GY?Y?Z'Z'Z'3GZ'Z'Z'Y?Y?Y?Y23FY?Y?Y13FY?Y?3FY?Y?Y?Y1Y1Y?Y?3EY?3EY4Y1Y13EY?Y4Y4Y?Y?Y43E3EY?3FY?Y?Y?3FY?Y43FY4Y4Y43FY43GY4Y43GY43GY?Y1Y13G3H3IY13IY1Y1Y1YGY?Y?Y?3HYGY?Y?YGY?Y?Y?Y?YIY?Y?YIYIY?Y?3EYI3FY?YIYIYI3FY?Y?Y?3FY?Y?YTYTYIY?Y?Y?Y?YIY?3DYI3DZ&Z&YIYI3DYIYSYSZ&YS3C3DYSYS3DYSYSYS3DZ&Z&Z&Y?Y?Y?YI3C3DYIYIYIYI3DYIY?Y?Y?3D3DYIYIYIYI3DZ&Z&YIZ&YIYIZ&Z&YIYIYI3BYSYSZ&YSZ&YSYSYSYSZ&YSYS3@YSZ&Z&WMWM3?X1X1X1Z&Z&Y+Y+3>3?Y+Y+WM3?WMWMX1X13?X1VXVXVXVUVX3>VUVUVX3>VUVU3>VUVUVU3>X+3?X+W6W63?X*W6W63?X*W6W)W)W)3>3?WXWX3?WXWXWXW)W)W)WXWXX/WX3>X/X/3>X/WXWXWX3>UCTYUC3>UC3>UCTYTGTGTYTYTY3=TYTNTZTZTZ3=TZTZTZ3=3=U3U4U3TZTZ3=3>TZTZTZ3>TZV@3>V@TZTZ3>3?TZ3?3@UUTN3@TNU33@3AU3U33AU3U3U33AU3TNU33AU33BU33BU83CU8TNU6TNTNU8U8TN3BTN3BTNTNUUUU3BUU3BUUUUUUU>U>U>3B3B3C3D3EV@UU3EUU3EV@3FV@3F3G3H3IV@V@3I3J3JUUUUUUYD3J3KY@YDYDY@3KYDYD3KY@YDYDY@Y@Y@3JY@3K3KYK3LYDYDYKYDYDY@YDY@YDY@YDY@YDYDYDY@YDYDYD3HYD3H3IYDYD3IYK3JYDYKYK3JYD3J3KYDYDYKYDYDYD3J3KYKYKYKYOYKYKYOYO3JYOYKYKYK3JYOYO3JYO3JYO3KYOYKYKYK3KYKYOYKYK3J3KYOYOZ(YRZ(Z(Z(YRZ(3JYRYR3JYRZ(3JZ(Z(YRYR3J3KYRYLYRYLZ(3JZ(Z(3JYLZ(YLZ(3JYR3K3KY-3LY-YR3LYRYRY-Y-YRY-Y-3KY-3LYLYL3LYYY-Y-3LY-Y-Y-3L3M3MYY3NYYYY3NYYYYY-Y-3NYUY-3NYUYU3NYUYUYUYUYUYYYUYUYU3M3NYUYUY,Y,Y1Y13MY1YV3MYVYV3MY1YVYVYVYVY-Y-Y1Y1Y13LY1Y13LY13L3M3NYVYVYVY,Y,Y1Y1Y13MY1Y13MY1YV3MYVYVYVY1YVYVY1Y1YV3LY1Y13LY1YVYVYV3LY,3LY,3MY,3MY,Y,YIYIYIX%X%X23LX2Y;X2X2X2X2X2Y;3KX2X23K3LX2X23LX2Y;Y;Y;3LX&X&Y;X&X%X%X%W#W#YIW#3JYIYIYIW#X2X23IW#3IW#X&X&3IW#X&X&W#W#3IW#X2X2W#X23HW#X2X&W#X&X&X&W#W#3GW#W#W#3GW#WVWVVW3GWVWV3GWVVWVWX&X&VWVW3FVWWVWV3FWVVWWVVW3F3FWVVWWVVW3FVWVWWV3FWV3GWVWVVW3GWVWV3GWVVW3GVWVW3GWVVWVWVRVRWS3G3GVRVRVRVRVR3G3H3HX$3IX$VRVR3I3JW'W'3J3KW'W'3KW'3K3LW'W'VRVR3L3M3MX$X$X$VRX$X$X$3L3MW/W/X$X$3M3N3N3OX$X$3O3PW/W/X$W/3PW/X$X$X$3PW/3PW/W/3PW/W/W/X$X$3P3QX$3QX$X$W/3Q3R3S3SX$X$3TW/3TW'W'3TW/W'W'W'W'W/W/W/3S3T3U3U3VW'3WW/W/3WW/WVW/3WW/3WW/WVWVW/W/3WW/3WX$X$X$3W3XX$X$X$X$3XX$X$X$X$3X3XW'X$3YW'W'3Y3Z3ZX$4#W'4#4$W'W'W'4$W'W'4$4%W'W'VRVR4%4&VRVR4&4'WXWXWX4'WXWXWXWP4&4'4(WPWX4(WXWP4(WPWPWPWP4(WWWWWPWPWP4(4(4)WWWW4)WWWWWWWX4)WXWXWXWP4)WP4)WXWPWPWXWX4)X.WPWPWP4)WW4)WWWW4)WWWWWW4)V&UCV&UCV&UC4)4)4*UCV&V&V&UCV&UCUCV?V?UCUC4(4)UCUCV?V?4(4)V?V?4)4*4+V&4+TYTYTYV&TYV&TY4*TYV&TY4*U2U2U24*U2U2U2TP4*TPTP4*TY4+TY4+TNTNTNTN4+TNTNTN4+TNU?4+UUU?UUTN4+TNUUTNUU4+UUUUUU4+UUUUUU4+4,TNUU4,UU4,UUTNUUYDYD4,YDYDYDS<S<YDYDYD4+YD4+S<S<S<S<S<4+4+4,S<4-S2S24-S24-S2S<S2S2T)S2S2S2T)S2T)S2S2S2T)S2T)T)T)T)T(T)T(4(Y;Y;Y;Y;Y;4(Y;Y,4(Y,Y,4(XXY,XXY;Y;Y;4(W0W04(W04(4)WIWIY;Y;W+W+Y;Y;4(Y;Y;Y;Y;4(W+4(W+W+Y;W+W+W+W+W+4'W+4'WIWIWIW&4'W&W&4'4(W&W&W&W&W&4(W&W&4(W+W9W&W9W9W&4'W9W9W9W9W94'W9W94'4(W94(W94)W&4)4*W+4*W+W9W+4*4+VS4,W+W+4,W+W9W9W14,4,W9W9W9W9W9W9W24+W2W2VSW9VSW94+Y;Y;W+W+4*Y;W+W+Y;Y;Y;4*W+4*W+W+W+VY4*VYY;Y;4*Y;Y;Y;W+4*Y;Y;VYVY4)VYVYVYY;Y;VY4)Y;Y;4)VYX&X&4)X&VYX&VY4)X&X&VYVYX&X&VYX&4'X&VYX&4'X&X&X&VY4'VY4(4(X&4)X&X&X&VYX&4(X&VYVYX&X&VY4(VYX&VYVYVYX&VYVYVYX&VYX&VY4%4&VY4&X&4'X&X&VWX&X&VWVW4&4'VWVW4'4(4(4)X&VWVWVWVWW:VWVWW:W:4'WV4(4)X&W:X&X&4(W/4)4*4*W:W:W:W:W:4*W<W:W:W<W<W:4)W<W<W<W<W:W<W:W:W:4(4(4)W:W:4)4*4+W<W:W<W<W<4*W<W<W<W<4*W<W<W<4*W<W<W?W?4*W?W?W?W<W?4)W?4*W<W?W?4*W?W<W<W<4*W?W?4*W?W<W<W<4*W<4*W<W?W<W?W?W?W<W?W?W?WWWWWWX(TNTN4'TNUJUJUQUJTOTOTO4&TO4&TO4'UJTNUJ4'UJ4'UJUJTNTN4'TNUQUQ4'UN4'4(UJUJTNTNUJ4(UNUQUNUQTNTN4'UJTN4'TNTNS;S;T(S;W9W9S;4&S;4&S;WT4&WTWTWT4&4'WCVY4'WTWTWTWTVZ4'VZ4'VZWTVZVZWQWQWQW.WHW.4&W.4&W.W.W.4&W.WH4&WHWHWH4&W.W.W.4&W.4'WHW:W:4'W<X&W<X&X&W<W<4&W<4&W<X&W<W<W<W<4&W<W?4&W?W?W?W?4&W?4&W?W?W?4&W?W?4&W=W?W=4&WXW=W=W=W=4&W?W?4&W?W,W?4&W?W?W?4&W?W?W,W,W?W,W,W?W,W,W?W?4$W,4$4%W,W,W,W,4%W,W?4%W?W?4%W,W?W,W?W?W,W,W?W?W,W,4#4$4%4&X0WXX04&WXWX4&4'WXWX4'WXWXWX4'4(UKUK4(UNUQUQ4(UNUMTJ4(TJ4(TJTJTJUMTJTJTJTJTJTC4'V:VAV:4'4'4(4)4*V8V8V8T.SC4)SCT$T$T$S?4)WTWT4)WTW,W,W,X04(X-W$W$X-X-W$4(X-X-4(W$X-X-4(4)W$X-4)X-WX4)4*WX4*W44+4,4,U-UNU-T<T<TK4,TUTUTKTU4+TKTFTKV(V(TKTKS6S6S64*S?S?4*S6S6S6S?S?S6S?S?S?S?S?S7S74'4(S0S0S/S04(S0SOT&SOT&SB4'SBSBSMSBSMSB4&SZSZSZSBSZ4&SZSB4&SZSB4&SWSWSWX0W$X0W$TFTFTF4%S/S/SXS/S0SO4$SO4$SO4%SOSOT&SOT&S0SOS0S0SOSO4#4$SO4$4%4&S0SOS0S0T&T&T&4%T&4%T&T&S5S5S54%S5S5S54%SHSHSQSHSQ4$SQSISISI4$SI4$SISQSISQSQSQSISISISI4#4#SY4$SYWAWAW7W7WAWAW7WAWAWA3Z4#4#4$W7W74$W(WBWBW(WB4$W(U(U(T/4$U(U(V-U(S9S9SPSPS9S9S9SPSPSLSPSLSL3XSLSL3XSL3Y3ZSLSLSPSP3Y3Z4#SL4#SI4$SISISISI4$SQ4$4%SKSQ4%SQ4&SK4&SKSK4&S:SQS:SISI4&SKSKSKSK4&4&S:S:4'S@4'S@S@SISYSISYSYSYS@4&SYSY4&SY4&SYS@SYSYS@S@S@WOWF4%WFUGV)V)V)V)4$V)TTV3T/V3V3V-V-4#4$V-V-4$4%4%4&T?T?T?4&T?T?V-U(V-V-U(U(U(4%V-V-UE4%V-V-4%V-SPSQSPSQ4$SQSRSQ4$SQSRSRSQSQSRSQSRSRSR4#SQSQSRSQS@S@SR3ZSR3ZSRSRS8S83ZS83ZS8ST4#ST4#STSTS8S84#S8UB4#V1V14#T3T3T7UAUAUA4#TITI4#TITTTTTT4#TITIV3V3TI3ZTIV33ZSRSFSFSGSFSGSGS83YSTS8SF3YSFSFSFSF3YSG3YT3T7T7T23YT2T2T:T:T1T:T:T2T:T2T13WT1T13WT2T1T2T2T2T23WT=T=T23WT23WT2T23WT=T=T=3WTIT=TI3W3XT=3Y3YV3V3V33YV3V3V3T=3YT2T23YV3V3V3SESE3YSGSESESE3YSESGSGSGSGSG3X3YSG3YSG3ZSGSVSVSVX>X>X>XF3X3YXFXFT5T53YT53Y3ZT7T73ZT5T74#T5T54#T5T94#T9T9T2T24#T2T9T2T9T23Z4#T0T04#T2T0T0T24#T0T04#V34$URT2URT2URV3V34#4$T2UR4$UR4$URURURT2T2T24$T24$T2T24$T2T04%T2T2T2URURUR4$URV3V34$4%V3V34%V3T2T2T0T04$URT0UR4$SUSGSUX?X?XFX?XFXF4#XFX=XDX=XDXD3ZXDXDXFXF3Z4#4#XDXDXDT74#T7T7X=XDX=XD3Z4#T6T64#4$T6T6T64$T6T6YW4$YWYW4$4%YW4&Y9Y94&Y94&4'Y9Y9YJYIYIYIYJYJYIYIYJYJYIYIX14$X1X14$X1X)X)X1X14$4%X1X1X)X)X1X1X)4$Y64$YBYBY64$YBYBY64$YBYBYBYB4$YBY64$Y6Y6YBYB4$YBY)4$Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.3ZY)Y.Y.Y)Y.3ZY.3ZY.Y.Y.YJYWYWYWYJYJ3Y3ZY5Y5Y53ZY.3ZY.Y.3ZY.Y.Y.YWYWY53ZY5YWY5Y5Y.Z'Y.Z'Y.Y.Y.3X3XZ'3YZ'3YZ'Y.Y.Z'Z'3YZ'3Y3ZZ%Z%YNYNZ%Z%YNYNZ%Z%YN3XYNYN3XYX3YYXYXYIYXYXYIYI3XYIYGYIYGYGY>Y>YIYIY>Y>YIYIY>YPY>Y>YIYIYIYZYZYZYIYZYZYPYZYZYPYP3QYPYIY>YIYIY>Y>YIYIYPYIYIYIYIYIYIYPYZYPYPYPYPX13LX1YP3LYPX1YPYPYP3LYPYP3L3MYPYP3M3N3NX1YPYPX1X13NX13NX1X1X1YI3NYIYIYI3NYI3OYIYI3OX13OX1X1X13O3PYIYI3PYIX1X13PX1WRWRX13PX1X13P3QX)X)3Q3RW@W@W@W@W@3R3RW6W6W6VBVBVB3RVBVB3RVBVBVBVB3RVBVB3RVBVBUCVBUCVBVB3Q3RUCTGTGTGTYTNTYTYUY3PUYUYVDVD3P3QULUL3QULULULTNTNTZTZULUL3OUL3PTNTN3PTNTNULUL3PTNV@V@TZTZV@V@3OTZUPUP3O3PUUUUUU3PUP3PUUUUY8Y8Y8Y<YBYBYBYKYKY0YK3NYK3NYKYKYKY0YKYKY0Y)Y0Y0Y)Y)3LY)Y0Y)Y0Y03KY0Y0Y0Y03K3L3M3M3NYK3OY03OYKYKY0Y03O3PYK3PYKYK3PY)Y0Y03P3QY0Y0Y)Y)3Q3R3RY)Y0Y03RY)Y03SY)Y)3S3T3T3UY0Y03U3VY0Y0Y)Y)Y)3V3V3WY)3XY)Y)3X3YY)Y)3YY.Y.Y.3YY.Y)3YY)Y)Y)3YY)Y)3Y3Z4#Y.4#Y.Y.Y.4#Y.Y.Y.Y)4#4$4%Y)Y)4%4&Y)4&Y)4'4'4(4)4*4*Y.4+Y.Y04+4,4-4-Y.Y)4.4.4/Y0Y0Y)4/Y0Y0Y.Y.4/Y.YK4/YKYK4/40YKYK4041YKY0Y0Y0YKYKY0YCY040YCYC40YCY040414242YC4344YCYC44YC44Y.45Y.Y.Y.4546YK46YKYK4647YKYK47Y.YKYKYKYKYKZ)Z)Z)Z)46YKYKYK46YK46YKYK4647484949YKYKYKZ)Z)494:Z)Z)YKYKYK49YOYOYKYOYK4949YOYOYOYOYO49YOYK494:YOYKYOYOYO49YOYOYOY.Y.YKYKY.Y.YK48Y.Y.48Y.YK48494:4:Y.Y.Y.4:Z'4;Z'Y.4;Y.4<Y.4<4=Z'Y.4=Y.Y.Y.Y.YMYMY.YM4<YMY.Y.Y.4<4<4=YMYM4=YMYMYM4=Y.4>Y.Y.4>4?4@Y.Y.Y.YMYMYMY.Y.Y.YMYMYM4=4>4?Y.4?Y.Y.Y.YKY.4?Y.4?Y.4@Y.4@Y.4A4BY.Y.4BY.4B4CZ)Z)4C4DZ)Z)Y.Y.Y.4DY.Y.4DY.4DZ)Z)Z)Z)4DZ)4E4E4FZ)4GY.Y.4GZ)Y.Y.4GZ)Y.Y.4GY.Z)4GZ)Z)4GZ$4HZ$Z)4HZ)4IZ$Z$4IYOZ)Z)Z)YO4HYOYOYO4H4IYOZ)Z)4I4JYO4J4KYOYOZ)4KZ)Z)4KYOYOYO4KZ)YOYOYOZ)YOYOYOYO4JYO4J4KYOYOY.4KY.4L4L4MZ$Z$Z$Z$4MZ$Y.Z$Z$Z$4LZ$Y.Y.Y.Y.4L4MY.Y.Y.4MZ$Z$YOYAZ$Z$YA4LYO4LYO4MYAYA4MYAZ$Z$4MZ$YO4MYOYOYOYOYOZ(YOYOZ(4L4LYA4M4NYO4NYAYA4NYAYAYAZ'Z'YMYMYMYM4MYMYMYM4M4NYMYM4NYMZ'Z'4N4OZ'Z'YM4OZ'Z'4O4PYM4PYMYM4PZ'4Q4RYMYMYM4R4RYM4S4TYMYMY/Y/YMY/4SY/Z'Z'Y/Y/Z$4RZ$Z$4R4S4T4U4UZ$Y2Y2Z$4U4VY2Z$Y2Y2Y2Z$Y2Y2Y24TY/Z$Y/4TY/Z$4UZ$4UZ$4V4V4WY2Y2Y/Y/Y24W4W4XY2Y2Y/4XY2Y24X4YY2Y24Y4ZY2Y24Z5#Y2Y2Z$Z$Z$5#Z$YA5#YAYAY2YAYAYAYAYAZ(Y2Y24YY24YY2Z(Z(YA4YZ(Z(Y2Y24YY2Z(4YZ(YR4YZ(YRYRZ(Z(YR4YY2Y24YY2Y/Y/4YY/Y/Y2Y2Y2Y/Y/4XY24X4YY2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/4WY/4X4XY?Y?Y?4X4Y4ZY2Y?Y?4ZY?Y2Y14ZY1Y24ZY2Y1Y2Y2Y2Y-Y2Y2Y24Y4YY-Y-Y-Y2Y24YY2Y2Y24YY2Y-Y1Y-4YY1Y14YY1Z(Z(Z(Y-Y24XY2Y2Y2Y1Y1Y1Y-Y14WY1Z'YGZ'Z'YGYGZ'4VYGYG4V4WZ'Z'Z'Y?Y2Y?4VY1Y14VY1Y14VY?Y1Y14V4WY4Y4Y4Y4Y14WY44WY44XY4Y?Y4Y4Y4Y?Y4Y?Y4Y?Y4Y4Y4Y?4U4VY44VY4Y4Y44VY44WY44WY4Y4Y4Y4Y44WY14WY1Y1Y?Y?Y?4WY?Y?4WY1Y14WY1Y1Y?4WY1Y1YGYGY?Y?YIYI4VYIY?4VY?Y?4V4WY?Y?Y?YTYTYT4VYIY?YIYIYIZ&Z&YIYI4UYIYIYIYSYSYIYIYSYSYIYIYSYI4RZ&Z&Z&Y?Y?YIYIY?YIYIYI4PYI4Q4RY?Y?Y?4RY?YI4RYIYIYI4RYIYIYIYSYSYSYS4QYSYPX1X1X1Z&Z&Y+Y+4OY+Y+Y+X14OWMWMX1X1X14OVXVXVU4OVXVXVUVUVXVX4NVUX+X+4NX+4NX+X+X+X*4NX*X*4NX*X*X*WX4NWXWX4N4OWXWXW)W)4O4PWXX/WX4PX/X/4PX/WXX.X.X.UCTY4OTY4OTYUCTYTNTNTY4OTZTZ4OTZTZTZTZ4OTN4OTNTNTZTZ4OTZTZTZ4OTZTZ4O4PV@4P4QV@V@TZTZTZ4QTZTZ4Q4R4RV@TZV@TZTZ4RUU4RU44SU9U44SU9U94SU3U3U34SU3U3U3TNU3TNU3TNU3TNU3TNU3TNU3TNU8TN4P4PU8U8TNTNU7TN4PTN4PTNTNUUUU4PUU4PUUUUUUU>U>U>UUU>4OU>U>UUUU4OUUU>U>UUUUU>UUUUUUV@UUV@4M4MV@4NV@4NV@4OV@V@4OV@V@UUUU4OUUV@V@UUUU4NUUUUUUV@V@V@4NV@V@4NUU4NUUUUUUYDYD4NY@4NY@Y@Y@YDYDY@Y@YDYDY@Y@YDYD4LYD4LYDYDYDYDYK4LYK4L4MYDYDYDYD4MYDY*4MY*Y*4MYKYDYDYKYK4M4N4NYKYDYDYDYKYDYDYKYK4M4NYKYK4N4OYK4OYKYKYOYOYKYKYO4NYKYKYK4NYKYKYOYOYKYKYKYO4MYO4MYOYKYOYKYKYKYOYO4LYO4M4MYO4NYOYRYRZ(YRYRYRZ(YR4LYRZ(YRZ(YRZ(Z(YRYR4KYRZ(4KZ(Z(Z(YRZ(4KZ(Y-YRYRYRYRYR4JY-Y-YRY-4IY-Y-Y-YR4IYRY-Y-Y-Y-YVY-YVY-Y-YLYLYLYYYLY-Y-Y-YYY-YYYYY-Y-YYY-YLYYYLYYYLYYYLYYYYYU4A4BY-Y-YU4BY-YUYUYUYUY-YUYUYUYUY,Y,YUYUY,Y,4>Y14?4@YV4@YVY14@Y1Y1Y1Y1Y1YV4@Y1Y14@Y1Y1Y1Y14@Y1Y14@YVY14@YVYVY1Y1Y14@Y1Y14@Y1YV4@YVYVY1Y1YVYVY1Y1YVYVYVY;Y;Y;4=Y;4>Y;Y,Y;Y;Y;Y,4=Y,4>X2X2Y;X2Y;4=Y;Y;4=Y;Y;Y;Y;X2Y;Y;X2X24<X2Y;X&4<4=W#YIW#W#W#W#4<W#W#W#4<4=4=W#X&X&W#W#4=4>X2W#4>W#W#W#X&X&W#W#4=W#4=WVVWVWWVWVVWVWVWVW4<VW4<WV4=WVWVWVVWWV4<WVVWWVVWWVVW4<WVWVWVX$WV4;WVWVWVWVVWVWWVWVVW4:VW4:VW4;WVWV4;WVVRVR4;4<WSVRVRVRVR4;VR4<4<4=X$X$VRVRVR4=4=X$X$X$VRVRW'W'VRVRW'W'W'W'W'4;W'W'4;4<X$W'X$4<W'4<W'W'VRVR4<4=VRX$VRX$4<X$X$X$4<X$X$X$X$X$X$4<X$X$4<X$4<4=W/W/4=4>W/W/X$X$4>4?X$4?W/W/4?4@W/W/4@4AW/W/X$W/W/W/X$X$X$W/X$4?W/W/4?W/W/W/X$W/W/W/X$X$W/X$4=4>X$X$W/4>4?4@W/X$4@4AX$X$4AX$4AX$X$X$X$X$4A4BW/W/4B4CW/W/W'W'X$X$4B4CW'4CW'W'4CW'W'W'4CX$4DW'4DW'4EW'4E4F4G4HW/W/WVWVWVW/WVW/4F4GWVWVW/W/W/4GW'4GX$X$X$4GX$X$W'4G4H4IX$X$4IX$X$4I4JW'W'W'W'4J4J4KX$X$W'W'4K4LW'W'4L4MX$X$X$4M4MX$W'W'X$4M4NW'4N4OW'W'4O4PW'4QX$4Q4RW'4RW'W'W'W'4RW'W'4RW'W'W'W'4RW'W'4RW'W'W'WXWX4R4SWXWXWX4SWXWP4SWPWX4SWPWPWX4SWXWPWXWX4SWPWPWPWW4SWP4SWWWWWP4S4T4UWPWPWWWWWPWW4T4UWXX.WX4UWX4UWPWPWXWX4UWPWXWXWXX.WPWP4TWWWP4TWWWWWP4T4UWWUCV&UCV&V&V&4TV&UC4TUCUC4TV&V&V&4T4UV?V?4UV?V?V?UCUCV?4UUCUC4U4VUC4VV?V&4VV&V&V&4VV&U2U24V4W4X4YV&TYV&TY4X4YU2U24Y4ZU2U24Z5#TP5$TYTY5$TY5$TYTPTP5$TNTYTNUUUUTNUUTNTNU?U?U?UUU?U?TN4YUUUUTNUUUUUUTNUU4XUUTNUUTNTNUUUU4WUUTNTNTN4WTN4WTNTN4WYDY@YDYDYD4WYDYDS=4WS=4W4XS<S<S<S2S<4XS2S24XS2S<S2S<S<S2S24WS24WS2S<S2Y;Y;Y,Y,Y;Y;Y,Y,Y,Y;Y,Y,4TY,Y,Y,Y;Y;Y;Y,W0W04S4TWI4TWIWIW0W0WIWIY;Y;4SW+Y;4SW+W+Y;Y;W+Y;4RW+W+W+W04RWIWI4R4SW&W&4S4TW&W&4T4UW&W+W&W&W&4UW&W&4UW+W&4UW&W9W9W9W9W24T4UW2W2W9W9W9VSW9W24TW2W9W2W9W9W&W+W&W+W&W&4R4SW94SW9W9W9W+VSVSW+W+VS4RVS4RVSVS4R4SVSVS4SW94TW9W14TS;W9W9W24TW24TVS4UVSY;Y;Y;W+Y;Y;W+4TW+W+W+4TW+4TVYVYY;Y;4TY;Y;4TVYVYW+VYW+VYVY4SVYVY4SVYVYVY4SX&4TX&X&X&VYX&VYX&VYX&VYVY4R4SVYVYVY4SVY4SVYVYVYX&4SX&4SX&VYX&VYVYVY4S4S4TVYVY4T4UVY4VVYVY4VVYX&X&4VX&VYX&VY4VVWVWX&4VVWVW4VX&VWVWX&4VVWVW4VVWX&4VX&X&4VVWVWVWWVWVW:WVW:4UW:W:4UW:W:W:W/W/4UW/W:4UW:W:4UW/4VW:W:W:4VW:4VW<4WW<4WW<4XW<W:W<W:W<W:4WW:W:4WW<W:W<W:W:W:4WW:W:W:4WW:4W4X4Y4YW<4ZW<W<W?W<4ZW<4ZW<W<W<W?4ZW?W<W?W<W?W<W?W<W<4XW?W<W?W<4XW<4YW?W?4YW?W<W<4Y4Z4ZW?W<W?TNTN4Z5#TOTOUQTOUQUQ4ZUQ4ZUQTOUQ4ZTN5#TN5#TN5$5%TNTNUJTNUN5$UNUN5$TNUJ5%TNTN5%TNUJ5%UJ5&TNTN5&UJTN5&TNUUW9VS5&VSS;S;S;WT5%WTWTWTVY5%WCVY5%X&VYVYWC5%WTWTWTWTWTVZWTVZWTVZW.WHW.WHW.WHW.4ZW.4ZW.5#5#WH5$WHWHWH5$W.5$W.W.W.W.W.W.WHX&W<X&W<W<W<4ZW<4ZW<X&X&W<W<W<W?W<W<W<W?W?W?W?4XW?4XW?W=W?W=W?4XW=W=4XW=WXWXW=4X4X4YW?W?W?W?W,W?W?W?W?W,W,W,W?W,W?W?W,W?W?W?W,W,W?W,W,W,W,W,W?W?W?4RW?W?4RW,W?W,W,W,W,4R4RW?4SW?W,4SW,W,4SW?4TW?WXWX4T4UWXWXWX4UWXWX4U4VWXWX4VWXWXWX4VX#4VWXX#WXT@T@T@4V4V4WUNUNUMTJUMTJUMTJUMTJ4UTJTCTCVAVAV:V:T-T-T-4TT-T-4TUHUHUDUDUD4SV6V6V6SCT$4ST$T$T$S?S?WTWTWTVQX0X04QX0X-4QW$4RX-4R4SW$W$4SW$4TX-X-4TX-W$4TW$W$WX4TWXWX4T4U4V4W4WW4W4W4W4W4WXWXW4W4WXWXUNUNUNU-T<T<TKTKTF4STF4TS6S64TS6S?S6S6S6T%T%S0S0T%T%S0S0S/S/S/S0SB4PSBSB4PSZ4QSZSB4QSBSB4Q4RSBSBSASASASWTFTK4QTKS0SOS0SOS0SOS0SOS0SOS0S04NSOS04OSOSO4OSO4OT&SOT&SO4OSOSO4OT&T&T&T&4OT&4PT&4PT&4Q4Q4RSLSLS5S54R4SSQ4SSQSISISI4SSISQ4SSQSQSI4SSISYSISISISY4RSYSYSYWAWA4R4SWAWA4S4T4TWYWYWYWYWY4T4UWBW(WBWBW(4TWBWB4TU(4UU(SLS94US9SPSPSLSLSLSLSPSLSLSLSLSPS94RS94S4S4TSLSLS9SLSLSLSQSI4S4T4TSISQSISISISKSISQSQ4SSKSQ4SSQSKSQSK4SSK4SSKSQSQSKSKSKS:SQ4RSQS:SISISI4RSKS@SKS@4Q4RS:S:S:4RS:S:4RS@S@S@SYSYS@4RSYSY4RSYS@S@4RSYWOWFWFWFV)4QV)TTT?V-V-V-V-V-4PV-T?V-T?4PV-UEUEUEV-4OT?T?4OT?T?T?4OUET?T?U(V-V-V-V-V-UEUEV-V-UEUE4LSQSRSRSQSRSRSRSR4KSRSRS@S@SR4K4KSRSRSRS8S84KS84KS8STS8S8S8ST4KST4KSTST4KS84L4MUBV1V1V14LUAT3T3UA4LTITITITI4LTITTTT4LTTTITITI4L4LSRSFSRS8S8S84LSFSFSF4L4LSGSGSGT3T3T7T3T2T=T2T2T14JT1T14JT2T1T2T2T2T24JT2T=T24JT24JT2T24JT=4KT=4KTIT=TIT=T=T=4KV3V34KV34KV3T2T2T24KT2V3T2T24K4LT=T=4L4MT24MV3V3SESESESGSESESE4LSG4LSUSU4LSUSUSUSGSG4LSU4LSUSUSUX>4LXFXF4LXFXFXFT5T5T7T5T74KT7T7T5T54KT7T5T5T74K4K4LT7T7T5T54LT7T2T2T9T2T2T24K4LT24LT2T04L4MT04NT2T2T0T04MT0T0T0T2T24MV34MURURURURV3UR4MV3V34MV3T2T2T24M4MURT2URT24MT2T2T24MT24NT2T24NT2T2T2T04NURUR4NURV3V3V34NV3V34NV34NURURURURURT04NSGSUSG4NXFXF4N4OXD4OXDXDXFXF4O4PXFXF4PXDXD4PXDXD4PT0T7T74P4QT6T6T1T1T6T6T14PT6T64PT1T6T6T14PT6T6YWY9YW4PY9Y9YWYWY9Y94OY9YW4OYWYW4OY9YWYWYWYWYWY9YW4NY9Y9X1X1X14NX1X14N4OX)4OX)X)4OX)X)X)4O4PX)X)Y6Y64P4Q4Q4R4SYB4S4TYBYBYBYB4T4U4UY6Y6Y6YBYB4U4VY.Y.4VY.Y)Y)Y.Y.4UY.4VY.4VY.4WY.YJYJ4W4XYJYJ4XYJY5Y5Y.Y.Y54WY.Y.4WY.Y.Y.YWYWY54WY.Y.Y.Z'Y.Z'Y.Z'4UZ'Z'Z'Y.Z'Y.4UY.4UY.Z'YNYNZ%Z%YNYNZ%4TYX4TYNYNYXYX4TYX4TYNYNYN4T4U4VYI4V4WYZYPYPX1X1X1YP4VYPX1YPYPYP4VYPYP4V4WYPYP4WYPYPYP4W4X4XX14YX1X1X1YPYPX1X14XX1YPYP4XX14X4YYIYIYIYIYI4YYI4YYIX1YIYIYI4Y4YX1X1X1YI4YX1X1YIYIX1YIYIYIX14XX1X1WR4XX1X1X1X)4W4XX)X)4XX)X)X)WJWJW@4X4XWJW@W@W64XW6W6W@W@W@W6VBVBVB4WVBVB4WVBVBVBVB4WVBVB4W4XVBVBVB4XVBVB4XVB4XTNUY4Y4Y4ZVDTN4ZTNTNTN4ZUL5#5$ULUL5$UL5$5%TNTNTNULTN5%5%TNTNTN5%5&TZTZUPUPUP5&UPUP5&UPUUUPUUUPUPUP5%UPY0Y0YK5%YK5%YKYKY0Y)Y05%Y)Y)Y0Y0Y0Y05$5%5%5&YKYK5&YKYKYKY0Y05&5'Y0Y05'Y05'5(YK5)Y0Y0Y05)5)5*YKYK5*Y05+Y05+Y0YKYKY)Y)5+Y)Y)Y)5+5,5,5-Y0Y0Y)Y)5-5.Y)Y05.5/Y)Y)Y0Y)Y)Y)Y)Y0Y0Y)Y0Y05,Y0Y0Y0Y0Y)Y05,Y05,Y0Y0Y)Y)5,Y0Y)5,Y0Y05,Y)5-5.Y)Y)Y.Y.Y)5-Y)Y)Y.Y.Y)Y.Y)5,Y)Y)Y)5,Y.Y.5,5-Y.Y.Y)Y)Y.Y.Y.Y.5,Y.Y)Y.Y)Y)Y.5+Y)5,Y)Y)Y)5,Y)5,5-Y.Y)Y.Y.Y.Y.Y.5,Y.5,Y.Y.Y.Y)5,Y)Y)5,5-Y.Y.5-Y.Y.Y.5-Y0Y0Y0Y)5-Y05.Y)Y)Y)5.Y)5.Y)5/Y)5/Y)Y)Y.Y.5/Y.Y)Y)Y)5/Y.Y.5/Y.5/50Y.Y.50Y.51Y.51Y)52Y)Y052535454Y)Y)Y)54Y)55565657Y)585859Y05:Y)Y)5:Y)5:5;Y)Y.Y.Y.Y0Y.Y0Y0YKYKY0Y0YK59Y0Y059Y0Y059YKYKYKY0YKY0Y0YCY058YCYC58YCY0Y0Y058YK58YKYK5859YKYK59YCYCYCYCYC595:YCYCYC5:YCYC5:YKYCYC5:5;5;Y.YCY.YK5;YK5<Y.Y.5<Y.5<Y.YKYK5<5=5>YK5>5?YKYKY.Y.5?5@Z)Z)YKYKYK5?Z)Z)Z)5?YKYK5?5@5AZ)5A5BYKYK5BZ)Z)5CZ)YK5C5D5D5EYKYKZ)Z)YKYKZ)Z)YKYKYKYKYOYOYKYOYK5BZ)Z)YOYOYOYO5AYOYKYK5A5BYKYOYKYK5AYOYOYOY.5AYKYKY.Y.5AY.YK5A5B5CYKYK5CY.5CY.Y.Y.5CY.Y.Y.Y.Z'5CZ'5CZ'5DZ'Y.Z'5DZ'5DZ'Y.Y.Y.5DY.5EY.Y.Y.Z'5DZ'5EZ'5EYMYMYMY.Y.Y.5EY.Y.YMYMY.Y.YMYMY.YMYMYMY.Y.5BY.YMY.YMYMY.5A5BZ'Y.5BY.5C5CZ'Z'Z'YKYKYK5CYK5C5DY.YK5DYK5E5E5F5GY.YKYKYK5GYK5GYKYKYKY.5GY.5GY.YKY.5GY.YK5HY.Y.5HY.Y.Y.Y.5H5HZ)Z)Z)5H5IZ)Z)5I5JZ)Z)Z)5JZ)Z)Y.Y.Y.5JY.Y.5JY.5J5KZ)Z)Z)Y.Z)Z)5JZ)Z)Z)Y.Y.5JY.Y.Y.5JY.Z)Y.Z)Z)Y.Z)Z)Z)5H5IZ)Z)Y.Y.Z)Y.Y.Y.Z)5HY.Y.Z$Z$5GZ$5HZ$Z)Z$Z)5H5HZ$5IZ#Z$Z$Z$YOZ)Z)Z)YOZ)Z)YOYOZ)Z)YOZ)Z)Z)Z)YOZ)Z)Z)5D5DZ)5E5FZ)YO5FYOZ)Z)Z)5F5FYO5GYOYO5GYOYOZ)5GYOYOZ)Z)Z)5GZ)YO5GYOY.Y.Y.5G5GZ$Z$Z$Y.Y.Z$Z$5FZ$Z$Z$Y.Z$Y.5FY.5FY.Z$Y.Y.Y.5FY.Y.5FZ$Y.Y.Y.Z$YAZ$YAYAYOYOYOYA5CYA5D5EYAYA5EYAZ$Z$YAYAYOYOYO5DYAYAZ(5D5DYAYAYA5D5EYOYOYAYA5E5FYOYO5FYO5FYA5G5HYMYMZ$YMYMYMYMZ$YMYMZ$5FYMYM5FYMZ'Z'YMYMZ'YMYMYMZ'Z'YM5DZ'Z'5D5EZ'Z'5EZ'YM5EYMYM5EZ'YM5FYM5FYMYMZ'Z'5FZ'YMYMYMY/YMYMYM5E5EY/Y/Y/5EY/Y/Y/YMY/Y/Y/YM5DZ$Z$Z$Z$Z$5DZ$Z$5DY2Z$Y2Z$Z$Y2Y2Z$Z$Z$Z$5BZ$Z$Z$5BZ$Z$5BY2Y25BYMZ$YMZ$5BZ$5C5C5DZ$5EZ$5EZ$5FZ$5FZ$Y25FY/Y2Y2Y/Y/Y2Y2Y/Y/Y25EY25EY2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y25CY/Y/5C5DY/Y/5D5EY/5EY2Y25EY/Y2Y25E5FY2Y2Z$5FYAYAZ$5F5G5HY2Y25HY25HY2YAYAYAYAYA5HY2Y25HY2Z(Z(5H5IZ(Z(5IZ(5IZ(YR5JY2Y25JY2Y/Y/5J5KY25KY2Y2Y/Y2Y2Y25JY2Y2Y2Y/Y/Y/5JY/Y?Y?Y?Y/Y?5IY?Y/Y/Y/5IY?Y?5I5J5J5KY2Y2Y?Y?Y2Y?Y2Y1Y1Y1Y2Y1Y1Y1Y2Y2Y25HY25HY-Y-Y2Y25HY2Y2Y2Y25HY-Y1Y-Y-Y1Y15G5HY25HY2Y1Y-Y-Y-Y15GYGZ'5HY?5HY?Y?5HY?Y?Y?Y2Y1Y1Y1Y?Y?Y15GY?Y?5GY1Y?Y?Y4Y4Y?Y?5FY?5FY4Y1Y4Y?Y?Y4Y4Y45EY4Y4Y4Y?Y4Y4Y?Y?Y4Y?5CY?5DY?Y?Y?Y45DY45DY45EY45EY4Y?Y4Y4Y?Y?5DY?5EY?Y?5EY?Y15EY?Y1Y15EY1Y1Y1Y?5EY1Y1YIYIY?5E5EYIY?YIYIYIY?Y?YIYIY?Y?YIYI5C5DYIYIZ&Z&YSZ&Z&Z&YIYIY?5BY?5B5C5DYIYI5DYIY?YIYIYIY?YI5CYIYIYIYI5CYSYSZ&Z&Z&Z&5BY+X1X1WMWMX1X1VVVVVX5@VUVU5@VUVUVUVRX+VR5@5@5AX+X+5AW6X*X*W65A5B5CW)W)WXWXW)W)WX5BW)W)5BW)WXW)WXWXW)W)WXWXWX5@WXWX5@5AWXWXUCUCUC5A5A5BUCUC5BTNTNTNTZTZ5B5CTZTZ5C5DTN5DTN5ETZTZ5E5FTZTZ5F5GTZTZ5G5HTZ5HTZ5ITZTZ5IV@TZV@V@V@TZTZTZ5HTZTZ5H5ITZTZ5I5JTZ5JTZ5KTZTZ5KUUU4U45K5L5LU9U9U9U4U4U95L5LU35MU35M5NU3U3TNU85NU8TNU8U8U8TNU7TNU7TN5LTNTNU3UU5LUU5LUUU3UUU>UUU>5L5LUUU>U>5LUU5MUUTZTZTZ5MTZ5M5NV@5NV@5OV@5OV@V@V@5OUUV@V@5OUUV@5PV@UUUUUUV@V@V@5OV@UU5OUUUU5OUUUU5O5PY@Y@YD5P5QY@Y@Y@Y@5Q5QYDYDYDYDYDYD5QYD5QYDYD5QYKYDYDY@YD5QYDY*5QY*Y*YKYKY*Y*YK5P5Q5RYKYK5RYKYD5RYDYDYKYK5R5SYKYKYDYDYKYK5R5SYKYK5SYKYKYOYKYOYOYO5RYOYKYK5R5SYKYO5SYO5SYOYKYOYOYOYO5SYO5SYOYOYOYO5S5T5T5UYOYO5U5VZ(5W5WYRZ(5X5XYRZ(Z(5XYLZ(5YYRYRYR5YYRYRYRY-YRY-YRY-YY5WYY5X5XYUYUYUY-Y-YUYUY1Y15WY1Y-5WY-Y-5W5XY-Y-YVYV5XY1YVY1Y1Y1YVY1YVYVY1Y15V5WY1Y15W5X5XYVYVYV5XYVYVYVY1Y1Y15XY1Y1YV5X5XYVYVYV5XY;5YY;Y,5YY,5ZY,Y;Y,Y;5YY;Y,Y;X2X2Y;Y;X2X2Y;Y;X2X2Y;X2Y;Y;5V5WX&X&5WX&W#W#5WW#W#W#X&X&5VW#X&X&X&5VX&X&W#W#X&X&W#W#5U5VX2X25VW#W#W#5V5WWVWVVWVWX&VWX&X&5UWVVWVWVWVWVWWV5TWV5UWVVWWVVWVWWVWV5TW/5TWVVW5UWVWV5UWVVW5UVWVW5UWVVWVWWS5UWSWSVRVRWS5UVRVRVR5UX$5UX$X$5U5V5WX$5W5XX$X$VRX$X$X$5W5XX$X$W'W'W'5XW'W'5X5Y5YX$X$X$5YW'X$W'VRVR5Y5ZW'5ZW'W'VRVRW'W'5Y5ZX$X$VRVRX$X$X$X$X$5YX$X$5YW/W/5YW/W/X$X$W/W/X$X$W/W/X$X$W/W/X$5VX$5W5WW/W/W/X$X$X$5WX$X$5WX$X$X$W/5WX$5W5X5Y5YW/5ZW/X$X$X$5ZX$X$W/W/W'W'X$5YW'W'5YX$W/W/W/5YW/5YW/X$5Y5ZX$X$W/X$W/W/X$X$5Y5ZX$X$5ZX$5ZX$X$X$X$X$X$5ZX$X$X$5ZW/5ZW'W'5Z6#W'W'W/6#W/W/6#6$6%W'W'W/W'6%W/6%6&6'X$X$6'X$6'W'W'W'6'W'6(W'6(W'X$W'X$X$W'6(W'W'6(W'W'6(W'W'X$W'W'W'WV6'WVWV6'W/WVWVW/6'W:W:W'6'W'X$6'W'X$W'W'W'6'6(X$6(X$X$6(6)X$X$X$X$6)X$X$X$X$W'X$X$6(6)W'W'6)6*X$6*X$X$W'W'6*W'W'6*X$X$6*W'X$X$W'W'6*6+W'W'X$X$X$X$X$W'X$X$W'6)X$X$6)6*X$6*6+6,6,6-W'W'6-X$W'W'6-X$W'6.6.X$6/W'W'6/W'W'X$X$W'W'6.W'W'W'6.6/W'W'W'6/W'W'6/60W'W'VRVR6061VRW'61W'WX61WXWP61WXWPWPWX6162WP62WPWPWP62WP63WPWXWPWXWPWX62WPWP62WPWW6363WW64WWWPWPWP64WP64WWWW64WWWWWWWP64656666WWWWWWWXX.WXX.WXWXWX6565WPWPWPWP65WPWPWPWP65WPWPWP65WWWW65WWWW65V&66V&UC66UC6767V&V&V&UC67V?V?6768V?V?6869V?V?UC69V?V?696:V?V?6:6;V?V?UCUC6;6<UCV&6<V&6<V&6=6>TYTYV&V&TYTY6=TYV&6=TYTY6=TYTYTYV&V&U26=V&V&6=6>V&V&U26>V&V&6>U2TYTY6>6?TYTY6?TY6?6@TPTP6@TYTP6ATP6ATPTPTYTNTYTNTNUUTNUUTNUUTNUUUUUUUU6>TNTNTN6>TNUUTNUUY@6=Y@6>YDYDY7Y7S=S=6=S=S<S<S<6=S<S=6=S<S<6=S<S<S2S26=S2S<S2S<S<S<S2S<S2Y;Y,Y,Y,W0W06:6;W0W06;W06;W0WIWI6;6<W+W+Y;Y;Y;6<Y;Y;6<Y;6<W0WI6=W+W+W&W&6<W+W&W&6<W+W&W&W+W+W&W&W&W+W&6;6;W+6<W+W&W&6<W+W&W+W+W+W&W96;W9W9W9W2W2W9W9W2W969W9W9W9W&W&W&W9W&W+W9W+6768W969W+W+696:VS6:VSVSW+W+VSVSW+W+VSW+68W9W1W168W9W9W968W9W1W96869W2W2W9VS69VS69VSVSVSY;Y;W+69W+VYW+69W+69VYVYY;Y;69W+Y;Y;69VYVY69VYVY69Y;VYVYX&X&VYX&VYX&VYX&VY67VYX&67X&X&X&VYVYVY67VY67VYVY67X&X&X&67X&VYX&VY67VY68X&X&68X&X&X&6869VY69VYVYX&X&69X&696:VYVYVYVYWC6:6:X&VY6;X&X&6;X&VWVWX&X&VWVWX&X&VW69X&6:VWVW6:VWX&6:X&X&6:VWVWVW6:6;W:6<WVWV6<W:W/W/W:6<6<6=W:6>W/W/6>W/6>6?W:W:6?W:6@W:6@W<6A6BW:6BW:W:W:W:W:6BW:W<W<W<W:6AW:W:6A6BW:6CW:W:W:W<6BW:W<W<6BW<W<W<W:W:W:6BW<W<6BW<W<W<6BW<W:W<W:W<W<W?W<W<W<6@W<W<W<W<6@6A6AW?W<W?W<6AW<W<W<W<6A6B6BW?W?W?W<W<W<6BW<W<6BW?W<6BW<W?V#TNV#V#TNTN6ATNTOUQ6AUQUQUQ6AUQTNTN6ATN6ATNUJUJTN6AUJ6BUJ6BUJUJ6BTN6CTNUNUQUNUNTNTNUJ6B6BTNUJUJTNTNUJUJTNTN6A6BUJ6BUJUJ6BTNUJUJ6BTN6CUUW9VSW9VSS;WTS;WTVY6AVYVY6AX&VYVYWCWTWTWTW.WHW.W.W.W.W.6?W.6?W.W.W.WH6?WH6?6@W.W.6@6AW.W.WH6AW.W.W<W<X&6AX&6AX&X&W?W?W?6AW?6AW?W=W=W=W?W?W=W=6@W=W=6@W=W=W=W=W?W=W=W=W=W?W,W,W?W?W,W,W?W?W,W,W,6<W,6<W,6=W,W?6=W?W,6=W,W,6=W?W?W?W,W?W,W?WXWXWXX06;X0X0X0WXWX6;6<WXWX6<W4WXWXW4W4WXWXW4WXWX6:6;X#WXWXX#X#T@T@T@6:UN6:UNUN6:UNUNUN6:6;TCTCT-6;UH6<UHUH6<UHUDUHUDV6SCT$6;T$X06;6<W$X-X-6<6=W$6=W$X-X-X-6=W$6=6>6?W$X-X-W$6?W$6?W$W$6?X-6@X-W$W$W$6@WXWXWX6@WX6@WX6AWXWXWDWXWX6@WXWX6@WXWXWX6@6AW4W4TF6ATF6BTFTKTFTKS6S6S?S?SZSZSB6@SZSZ6@SZSBSZSBSZ6?SZSBSBSB6?SBSB6?SZ6@SZTFTFTF6@S0SOS06@6@6AS0S06ASO6BSO6BT&SOSOSOSOSO6BSOSO6BT&T&SMT&6B6BSM6CSM6CSM6DSMSMSM6DSMS5S5S56DS5S56DSLS5S56D6E6ESQ6FSQ6FSISISISISISQ6F6FSI6G6HSISISI6HSISYSYSYWAWAWA6GWA6G6H6I6IWA6J6KWAWA6KWYWAWY6KWYWYWYWYW7WYW7W7W76IW(6JW(U(U(T/U(T/6IT/T/SL6ISL6JS9S9S96JS9SLSLSLS9S96ISLS9S9SLSLSQSQSQ6H6HSISISISQ6HSQSQSQSKSKSKSQ6GSQSKSQSKSQ6GSQ6GSQSK6GS:6HS:6HSKSKSKS:SKS:S:SK6GSKS:S:6GS:S@6G6HS@S@S@SYS@6HSYSY6HSYS@6HS@S@V)TT6HTTV-V-V-6HT?V-T?6HV-V-V-6H6H6IT?T?6IUET?T?6ISQ6J6KSR6KSRSR6K6LSR6MSR6MSRSRS8S86MS8STS8S8S8S8S8S86LS86L6MSTS8S8S86M6MSTSTSTSTS8STST6L6MT3T3UA6MTITIT=TI6MTITTTT6MV3TIV3TIV3SRSR6L6MS86MS8S8STST6MSTSG6MSGSGT16MT1T16MT26NT2T26NT26O6OT=6P6QT26QT2T2T=T=6Q6RT26RT2T=6RTIT=6ST=6ST=T=V3V36SV36S6T6UT2T26U6VV3T2T2T26V6VV36WV3T=6WT2T26WT=6XT=T26XV3V3SESGSESGSGSGSU6W6WSGSUSUSGSGSG6W6WSUSUSUX>6WXFXF6WXFXFXFT5T56W6XT76XT7T7T7T5T7T7T76WT76XT5T5T56X6XT7T7T7T2T2T26XT2T26XT2T26XT0T06XT2T06YT2T26YT2T0T2T06YT2T2T2T0T2T26X6Y6Y6ZURURUR6ZURUR6ZV37#7$7$UR7%URT27%T2URT2URT27%T2UR7%UR7%URT2URT2T27%T27%T0T0T07%UR7&URV37&URURV3V37&V3UR7&URURURURT0URSG7%SG7&XFXFXD7&7&XF7'7(7(7)XDXDXFXFXD7)XFXF7)XFXFXF7)XFXD7)XDXD7)7*T7T7T1T1T6T6T1T1T6T6T1T1T6T6T1T1T6T6T1T1T6T67%YWYWYWY9Y97%Y9Y9Y9YW7%Y9Y97%Y9YWY9YWY9X1X1X1X)7#7$X)X)X1X1X)X)7#7$X)X)7$X)X)X)X1X17$7%X1X1X17%Y6Y6YB7%7%YB7&YBY6Y6Y67&Y67&YBYB7&YBYBYBY6Y67&YBY6Y6YBYBYBYBY6Y6YBYB7$YB7$7%Y6Y6Y67%Y6Y67%Y6Y6Y6Y)Y.Y)Y)Y)Y)Y)7$Y)7$Y)Y.Y)Y.Y)Y.Y)Y.Y.Y.YJ6ZYWYW6ZYWYWYWYJYJYWYJY5Y56YY.Y.6YY.Y.Y5YWY5Y5Y.Y.6XZ'Y.6X6YZ'6YZ'Y.6Z6ZYNZ%Z%YXYXYNYNYNYX6YYXYN6YYNYNYX6YYXYX6YYI6ZYIYX6ZYXYI6Z7#YZYZYPYP7#YPYP7#7$X1YP7$YPYI7$7%YIYI7%7&YIYI7&YPYPYPX17&X1X1YPYPX1X1YPYPYP7%7%X1X1X1YPX17%X1YPX1X1X1X1YIYIYIYIX1YIYIYI6ZYI7#YI7#YIX1YIYIYIX1YI6ZX1X1YIYIX16ZX1YIX1YIX1X1WRX1X1X1X16XX1X16XX)X1X)X)X)WJW@W@W@WJWJ6V6WW@W@W6W@VBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUCVBVBUCUC6OTNUY6P6PTNTNTNVDVDVD6PVDVD6PTNVDVDTNTNULULTN6OTN6OTNTNULULTNULTN6N6OUL6OULTNTNULULTNTNULULTN6N6N6OTNTNV@6OTZTZV@V@TZTZUPUP6N6OUPUP6OUPUPUPUUUPY0Y06NY0YK6NYKYK6NY)Y0Y)Y0Y0Y06NY0Y06NYKY0Y0YKYKY0Y06M6N6NYKYKYK6N6OYKYK6O6PYKYKY0Y06PY0YK6PYKYKY0Y0YKY06OY0YKY0Y0Y0YKYKYK6NYKYK6N6OYKYKY0Y06OY0YK6OYK6PYKY0YKY0Y06OY06PY)Y)Y0Y0Y)6OY0Y0Y)Y)Y)6OY)6OY0Y0Y06O6PY06P6QY0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y06NY)Y0Y)Y)Y)6NY)6NY0Y0Y0Y)Y)6NY0Y)Y)6NY)Y06NY06OY)Y)6OY)Y)Y)Y)6OY)Y.Y)Y)Y.Y)Y.6NY)Y)6N6OY)Y)6OY)Y.Y.Y)6OY.Y.Y)Y.Y)6NY)Y)Y)Y)Y)Y.Y)Y)Y.6MY)6MY.Y.Y.Y.6MY.6MY.6NY.Y)Y.Y)Y)Y)6MY.Y.6MY.Y.Y.Y.Y)Y.Y.Y0Y)Y0Y0Y)Y)6KY)Y06K6LY)Y)Y)Y)Y.Y)Y.Y)6KY)Y)6KY.Y)Y.Y)6K6KY.6LY.Y)Y)Y)6L6LY.Y.Y.Y)Y)Y)6L6LY.Y.Y.Y.Y.6LY)6L6MY.Y.Y0Y0Y0Y)Y0Y)6LY)Y06LY06MY0Y06M6N6N6OY)Y)6OY)Y)Y)Y)Y)6O6P6PY.Y)6QY.Y.6QY.Y)6QY)6RY.Y.6RY.Y)6RY)6S6SY)Y06TY)Y)6TY)6TY)6U6V6VY)Y0Y0Y)6VY)Y.6V6WY.Y.YK6WYKYKY0Y06WY0Y06WYKYKY0YCY0Y0YCYC6VYCY0Y0Y06VY0Y0YKYK6U6VYKYK6V6WYK6X6X6YY06Z6Z7#YKYK7#7$YKYKYCYC7$7%YCYC7%YKYCYCYC7%YCY.Y.Y.YC7$YCY.Y.Y.7$Y.YK7$YKYKY.Y.7$Y.YK7$YK7%Y.7%Y.7&YK7&YKYKYK7&YKYKYK7&YKYK7&Y.YKYK7&Y.7'7(7(7)YKYKYKYK7)7*7*7+YKYKYKZ)YKYKZ)Z)7*Z)YK7*YKZ)Z)Z)Z)7*Z)YKYKYK7)Z)7*Z)Z)Z)Z)7*Z)7*YKYK7*YKYKYKZ)Z)YKYK7)YKYKYKYKYOYKYKYOYO7(YOYKYKYO7(YKYKYOYOYOYKYOYOY.Y.Y.7&7&Y.YKYKYK7&YKY.YKYKYK7&7&Y.Y.Y.YKYK7&YKYKY.YKY.7%Y.Y.Y.Y.Z'7%Z'7%Z'Y.Z'Y.7%Y.Y.Y.7%Y.7&Y.Z'Y.Y.7%Z'7&Z'7&Z'Z'Z'Z'Z'7&Z'7&Z'Y.Y.Y.YMYMYMY.Y.Y.7%Y.Y.YM7%Y.7%Y.Z'Y.Y.Y.7%Y.Y.Y.7%7%Z'7&7'7'Z'7(Z'YKYKYK7(YKYKYKY.YKYK7'Y.YK7'7(Y.7(Y.7)Y.YK7)YKY.7)Y.Y.Y.YKY.Y.Y.7(Y.7)Y.7)Y.YKYKYKYKYK7)YK7)YKY.7)Y.YK7*7*Y.YK7+Y.Y.7+7,Y.Y.Y.7,YK7,Z)Z)Z)7,Z)7-Y.Y.7-7.Y.Y.Z)Z)7-Z)Z)Z)Y.7-Z)Z)Y.7-Z)Z)7-Y.Z)Z)Y.Y.Z)Z)7,7-Z)Z)Z)Z)Y.Y.Z)Z)7,Z)Y.Y.Z)Z)Y.Y.Z)7+Y.Y.7+Z)7+Z$Z)7,Z)7,Z)7-Z)Z)7-Z$Z$Z$7-Z$7-Z#Z#Z#7-Z#7.Z#7.YOZ)Z)Z)Z)7.Z)YOZ)7.7/Z)Z)7/Z)Z)YO7/YOZ)Z)Z)YOZ)Z)7.YO7.YOYOYOYOZ)YO7.Z)YO7.YOZ)Z)YOYOZ)Z)7-7.Y.7.7/Z$Y.7/Z$Z$7/70Z$Z$Y.70Y.7171Z$Z$Z$7172Y.Z$72Z$Z$Z$YOYA72YA72YAYOYOYA72YOYO7273YO74YO74YO75YAYAZ(75YO7576YA76YAYOYOYAYAYO76YO76YOYO76YAYO77YOYO777878YAYO79YOYOYO7979YAYAYAYMYMZ$Z$YMYMZ$YMYMZ'YMYMZ'Z'76Z'Z'Z'7677Z'Z'77787879YMYM79YMYMYM79Z'7:Z'7:Z'YM7;Z'Z'YM7;YMYMYM7;YM7;Y/Y/Y/7;Y/Y/YMYMZ$Z$Z$Z$Z$7:7:Y27;Y27;7<Y2Y2Z$Z$7<Z$Z$7<7=Y2YMYMZ$YMY/Y/7<Y/Z$Y/Z$Z$7;Y/Z$Z$Y/Y/7;Y/Z$7;Z$Y/Z$Y/Z$Z$Z$Z$Z$7:Z$7:Z$Y2Y/Y/Z$Y279Y/Y2Y/Y/Y/Y279Y279Y2Y2797:Y2Y27:7;Y2Y27;Y/Y2Y27;Y2Y2Y2Y/Y/7;Y/Y/Y/7;Y/Y/Y/Y/7;Y/7;7<Y2Z$Z$7<Z$YAYA7<YA7<7=YAYAZ$7=YAYAYAY27=Y27=Y2YAYAYAYAZ(7=7=Y27>7?Z(Z(Z(7?Z(Z(YR7?Z(Z(YRZ(Z(Z(Z(7>7>Z(YRZ(Y/Y/Y/7>Y/Y/Y/Y27=7>Y2Y2Y27>Y2Y27>7?Y2Y2Y/Y/Y/7?Y/7?Y?Y?Y/7?Y/7@Y?Y?7@7AY?Y?7AY?Y/Y/Y2Y27@7AY2Y2Y2Y27A7BY27BY-Y-Y2Y27BY2Y2Y2Y27BY1Y1Y-Y-Y1Y17AY1Y27AY2Y1YGYGZ'Z'Z'7@Z'YGYG7@Y?Y?YGYGY?Y?Y?Y?Y?7?Y?Y?7?7@7@Y?Y4Y47@Y4Y1Y4Y?Y?Y4Y4Y?Y?Y4Y?Y47>Y4Y?Y?Y?Y4Y?Y4Y?Y4Y?Y4Y?7<Y?7<Y?Y4Y?7<Y?Y17=Y17=Y1Y17=7>Y?Y1Y?Y?Y1Y17=Y1Y1Y1Y?Y?Y1Y1YIYI7<7=YIYIY?Y?Y?7<Y?Y?7<YIY?Y?YIYI7<YI7<YI7=YIYIYIY?Y?YIYI7<7=YIYIY?YIY?YI7<YIYIYIYI7<Z&Y+Y+Y+VX7;VUVU7;7<VUVUVRX+VRX+VRVR7;7<7<X+X+X+X*W6X*W6W6W6W67;W67;X*X*7;X*X*X*7;7<WXWXW)W)WXW)7;7<WXWX7<X/WXWXX/X/WX7<UCTYUC7<UCUCUCTYUC7;TYTYTY7;TYTYTZTZTNTNTZTZTNTNTZTZU3U37879U3U3TNU379U3797:TNTN7:TZU3U3TZTZU3U3797:U3U3TZTZU3U3TZTZ797:TZTZV@V@TZ79TZ7:7:V@7;V@7;7<V@V@TZTZTZ7<TZTZ7<7=TZTZ7=7>TZTZ7>7?TZTZ7?7@7@V@7AV@7AV@V@V@TZTZUUUUTNU4TNU9U4U4U9U9TNU9TNU9U47=U9U9U4U37=U37=U3U9U3TNTNTN7=TNU37=U37=U87>U8U7U7TNU7U3UUU3UUU3UUU3UUUUUUU>7;U>7;U>U>V@7;V@7<V@7<V@7=TZTZTZ7=7=V@7>V@TZ7>TZ7?TZV@TZV@7>V@TZV@TZV@TZV@V@7=V@7>UUUU7>7?7?UU7@UUV@V@V@UU7?UUUUUUV@UUUUUUYD7>YDY@7>YDY@Y@YDYDYDY@YD7=Y@Y@Y@YD7=YDY@7=Y@YDYDYDYDYKYD7<YDYDYKYKYDYKY@YDYDYDYKYKY*Y*YKYKYK79YKYKYDYDYKYD78YK78YKYKYKYDYKYDYKYKYKYDYDYKYKYDYDYKYKYDYKYKYK7475YKYK75YKYOYOYK75YK75YK76YKYKYHYKYOYO75YO75YOYKYOYOYOYO75YO75YOYOYOYO75YQ75YOYQYOYQYQ757676YOYOYO76YRZ(Z(YRYR76YR76YRZ(YRYRYRZ(76YRYRZ(76Z(YRZ(Z(Z(YLZ(7575YLZ(Z(YR75YRY-YYYYYY75YUYUYYYUYY7475YU75Y1Y-7676Y1Y-Y-Y1Y1Y-Y-Y1Y1Y-Y1YV7475Y17576YVYVY1Y1YVYVY1Y1Y17575YVYVYVY1Y1757676YVYVYVY1Y176YVYVY1YVYV75YVYVYVY;Y;75Y;Y,Y;Y,Y,Y,Y,Y,74Y,74Y,Y,Y,74Y,Y;Y;Y;Y;X&Y;73X&X&73X&X&X&W#W#X&73W#7374X&74W#X&W#X&74X&X&7475X&X&X2W#X2X2W#W#W#74W#W#7475VWWVVW75VWVWVW75VW75VWVW75WVWVW/WVWV75WVWVWVVWWVWVWV74757576VWVWWVWVVWWVWSVRWSWS74VRWS75VRVR75X$75X$X$X$VRVR7576VR76X$X$76X$X$X$VRVR7677VR77X$X$7778X$X$VRX$X$X$W'77W'X$7778X$X$78X$X$X$W'X$X$X$W'X$X$X$VRVRW'W'VRVR75VRW'VRW'W'VRVRVR7474X$75X$X$75W/W/75X$W/W/X$X$W/W/X$X$X$74X$74X$X$X$X$W/W/X$X$7374X$X$74W/X$X$W/W/X$X$X$73X$X$7374X$X$747575X$W/W/X$75X$76X$X$W/W/W'W'X$75W'W'75X$W/W/7576W/W/W/7676X$X$X$76X$X$X$W/76W/W/76X$W/W/X$X$W/X$X$X$75X$X$X$X$75X$X$W'W'W/W/W/74W/W/W'W'73W'W'W'7374W/W/7475W/W/75W/W/W/W/W/W'W'W'W'W'74W/W/W/W'W'W/W/7373W'74W'X$X$74X$W/W/W/W'X$X$W'W'72W'W'W'7273X$X$W'737475X$X$X$W'W'X$X$X$WV73WV74W/W/74WVW/W/7475W'X$W'X$X$74X$W'W'W'W'74W'W'X$W'X$73X$X$73X$X$X$X$W'X$X$X$X$7273X$X$73W'73W'W'W'W'W'X$X$W'W'72W'W'W'727373W'X$X$W'W'W'73W'W'737474W'X$757576X$X$X$X$W'X$X$X$7576X$7677W'X$X$X$777778W'W'7879W'W'X$X$X$79X$797:W'7:X$W'W'X$X$W'X$X$X$W'W'X$X$787979W'W'W'W'79W'W'X$797:W'X$7:X$7;7;W'7<W'VRVRW'W'VRVRW'W'VRVRW'7:W'7:W'W'7:VRW'W'VRW'W'W'WXWXWX79WXWX79WXWXWXWX79WXWXWXWP78WPWPWPWPWP78WPWXWPWPWPWX77WPWPWPWPWW77WW77WWWWWPWPWP777778WWWWWPWPWP78WP7879WW79WWWWWWWPWPWP79WP79WWWW797:WWWW7:WWWWWWWX7:WPWPWXWP7:7;WP7;WP7<WPWPWP7<WPWP7<7=WW7=WWWWUCV&UCV&UC7<UC7=UCUCUC7=UC7=UCUCUCV&V&V&UCUC7<7=UCUC7=V?UCUCV?V?UCUCV?V?UC7;V?V?UCUC7;V?UCUCV?V?UCUCV?V?UC79V?V?79UCV?V?UC79V&V&79UCV&V&797:V&V&V?V&V?7:V?V&7:U2V&V&7:7;V&V&7;TYV&V&TYTY7:TYTYTYV&7:U2U27:7;U2U27;U2U2U2U27;U2U27;7<U2U2TYTYTPTPTYTYTPTPTYTY7:TYTP7:TPTPTP7:TPTP7:TYTP7;TYTY7;TYTPTYTPTPUUUU7:UUTNUU7:UU7:YDY@YDY@YDY@7:7:S=S<7;S<7;7<S=S=S=7<S<S2S27<7=7=S2S<S<W0W07=7>W07>7?WIW0W07?W0WIW0WIWIY;Y;W+7>7>W+W+W+Y;Y;W+7>Y;Y;7>Y;W0W0WIW0W0W0WIWIW+W+7<7=W+W+7=7>7>W&W&W+W+W+7>W+7>W+W+W+W&W&W&W+W&W9W&W9W9W9W9W2W97;W9W9W+W+7;W+7;W+W9W+VS7;VSVSW+W+7;W+VSW+VSW+W9W9W17:W1W17:W9W1W1W1W9W9W9W2W2W9W9W9W2W9W9W977W9VSW9VS7677W+W+W+VYW+VYW+76W+VY76W+W+W+Y;Y;Y;76VY76VYVYY;Y;VYY;X&75X&X&7576X&X&VYVY767777X&VYVY77X&78X&X&X&VYX&VY7778X&X&X&VYX&X&X&7778X&X&X&78X&X&VYVYX&X&VY7777X&78X&VYX&VYVY7778VYVYVYVYWCVYX&X&77X&X&X&VYX&VY76VY77VWVWX&VWX&76X&X&VWVW76VWX&X&X&7676VWVWVWW:76W:W:76WVW:WVW:76W:W:7677W:W:7778W:7979W/W:7:W/W/7:W/7:W/W:7;W/W/7;W/W:7;W:W:7;W/W:W/W:W:W/W:W/W:W/W/W:W<W:W<W:78W:W:W<W<78W<78W<W:W:W:78W<W<7879W:W:W<W<W:W:W<W<78W<78W<W:W<W:W:78W<78W<W<W<W:W<W:W<77W<W<W<W:W<W:W:76W?W?W?W<W<W<7676W?W?W?76W?W<W<W<W?W<W<W<W<W<75W<75W?W?W<W?W?W?W<W<W<74W<W<W<W?W<73W<W<73TNV#74TO7475UQ75UQ767777TNUJ78UJ78UJUJTNTN78TN78TNUJ79UJTNUJ79TNTN79TN79TNTNTNTNTNUJ79797:UJ7;UJ7;UJUJ7;TN7<TNUJ7<UJUJ7<7=UJUJTNUUTN7=TN7=UUUU7=X&VYVYX&X&7=7>W.W.W.7>W.WHW.W.7=WH7>WHWHWH7>7?WHWH7?7@WHWH7@W.WHW.W.W.WH7?WHW.W<W<7?W<X&7?X&W<W?7?W?7@W?W=W?W=7?W=W?W?7?WXW=7@W,W?W,7@W?W?7@W?7@W?W?W?W?W?7@W?W,7@W,7A7AW?W?W?WX7A7B7CWXWXWX7CWX7CW4W47CW4W4W4WXWXWXX#WXX#X#X#7AUNUNUNUQUQ7A7BUQ7B7CUNTJTJTCTCTJTJTCTJT-T-UHUHUHUHUH7@UHUH7@UHSC7@SCT$X0X0X07@7@W$W$W$7@X-W$W$X-X-7@X-7@X-X-X-X-X-7@X-X-X-X-7@X-X-7@7AX-W$X-W$X-X-W$X-W$7?W$W$X-X-7?X-W$7?W$7@W$X-W$X-WXW4WXW4WXWXWX7>WX7>WX7?WX7?WXWXWDWD7?WDWX7?W4W47?W4W4W47?TK7@TK7@TKTFTKSZ7@SB7A7ASZSB7BSB7BSBSBSB7BSBSBSZSZ7BSZSB7BSBSBTF7BTF7CS0SOS0S0S0SOS0S0SOSO7A7BSOSO7BSOS0SOS0SOSO7ASOSOSOSOSO7A7A7BT&T&T&SM7BSMT&7BT&7CT&7CT&7DT&7D7ESMT&SMSMSM7DSMT&SMS5S57D7ES5S5SLSLS5S5S57D7DS5SQ7ES5SQS5SQ7DSQSQSQSQ7D7ESI7ESISQSQSQSISQSISQ7DSQSQ7DSQSQSQSISISYSYWAWAWAWYWAWAWA7BWY7BWYWY7BWYWYWYWAWA7BWAWY7BWYWYWAWA7BWYWAWAWYWYWAWYWAWYW(W(W(WBW(WBWBWB7>U(T/U(SLSLSL7>SL7>SLSLS9S97>7?S97?7@SLSQSQSQ7@SISI7@SISQ7@SQSI7@SKSKSKSKSK7@SKSKSKSQSKSQS:SQS:SQS:SQS:SI7=SI7>SKSKSKS:S:S:S:S@SKSKS@S@SKSKS@S@S@7:S@S@7:SYS@7;S@S@S@SYV)7:V)V)V-V-V-7:7:UET?7;V-V-T?T?V-V-7:T?V-7:7;T?UEUE7;UESRSQSR7;SR7;SRSR7;SQSRSRSR7;SRSRS@S@SRSRS@S@7:S@SR7:SRSRSRS8SRSRS8S8STS8S8S8S8STSTST77ST7778STSTS8S87879S879STSTUAUAUA79UAUA79UAUATITITIT=TIT=TI777879V3SFSRSFSFSRSR78SRS8S8S878STST78STSGSFSGSGT177T17878T279T279T2T1T2T2T2T279T279T2T2T2T=T279T279T2T2T=T=79T=T2T=T2T27879T2T2T=T=79T=T279T2T=T=79T=7:T=TIT=T=T=T=T=7979V37:V37:V37;7<V3V37<V3T2T2T=T2T2T27;V37;V3V3V3T2T27;V3T2T2T2V37:V3V3V3T=T=7:7;T=T=7;T=T27;T2T2T2T27;V3SGSGSUSUSGSGSGSUSGSG797:SG7:SGSUX>X>7:7;X>X>7;7<T77<T7T7T5T57<7=7=7>T7T7T7T5T7T5T7T5T7T7T5T57<7=T77=T7T7T2T2T9T9T2T2T9T9T2T0T0T0T0T2T0T0797:T0T0T2T27:T2T07:T0T0URURT2URV3V3URV3T278T2URURV3URURURV3UR77V3V377V3UR77URURV3V3URV3T2URT2UR75UR76UR7677URUR77URT278T2T2T2URT2URT2T276T0T0T0T2T276T276URT2URT2UR76URV3V3UR7676V3UR777778URURSUSUSG78SGSUSUSU77XDXDXDXFXF77XF7778XDXD78XF79XF79XFXDXDXFXDXDXDXFXFXD78XFXF7879XFXF79XF797:XDXD7:7;T7T7T0T0T7T0YWY9YWYWYWY9YWYWY9Y9YWYWY9Y9YWY9X1X1X)X)X1X1X)X)X)X1X)X)X1X1X)X)X1X)X)X)X1X1X)X)X1X1X)X)X1X1X1X)Y6Y6YBYBY6YBY6YBY6YBYBYBY6Y6YBYBY6Y6YBYBY6YBYBYBY6YBYBYBY6YBY6Y6YBYBY6Y6YBYBY6Y6Y6YBY6Y6YBYBY6Y6Y)Y.Y)Y.Y)Y.Y)Y.YJYJYWYWYJYJYWYWY5Y5Y.Y.Y.Y5Y.Y.Y.Y.Y.Z'Z'Z'Y.Z'Y.Y.Y.Z'Z'Z'Y.Z'Z'Z'Y.Z'YNYNZ%Z%YNYXYNYXYXYXYNYNYXYIYXYXYIYIYXYIYXYXYXYIYXYXYXYIYPYPYZYZYPYPYZYPYZYZYZYPYPYPX1X1YPYPYPX1YPYIYPYPYIYPYIYIYPYPYIYIYIYPYIYIYPYPYIYIYPYPYPYIYPYPX1X1YPX1X1X1YPYPX1X1YPX1YPX1YIYIYIX1YIX1YIX1YIYIYIX1YIYIX1X1X1YIX1YIX1X1X1X)X1X)X)X)WJWJW@W@WJWJW@W@UYTNUYUYUYTNUYUYUYTNUYTNVDVDVDTNVDVDTNTNULULTNULTNULTNTNTNULULULTNULULULULULTNULULULTNULULULTNTNULULTNTNV@V@TZV@UPUPUPUUUPUPUUUUUPUPUUUUY0Y0YKY0Y0Y0YKY0Y0Y)Y0Y0Y0Y0YKYKY0YKYKYKY0Y0YKYKY0Y0YKYKY0YKYKYKY0Y0YKY0Y0Y0Y0YKY0Y0YKYKY0Y0YKY0Y0Y0YKY0Y0Y0YKY0YKYKYKY0Y0Y0YKYKY0Y0YKYKY0Y0YKY0Y0Y0YKYKY0Y0YKY0YKY0YKY0Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y0Y)Y0Y0Y0Y)Y)Y0Y0Y)Y)Y0Y0Y)Y)Y0Y)Y0Y)Y0Y)Y0Y)Y0Y0Y)Y)Y0Y0Y0Y)Y0Y0Y0Y)Y0Y)Y0Y)Y0Y0Y)Y)Y0Y)Y)Y)Y.Y.Y.Y)Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y.Y.Y)Y)Y)Y.Y)Y.Y)Y)Y.Y.Y)Y)Y)Y.Y.Y.Y)Y)Y)Y.Y)Y)Y)Y.Y.Y.Y)Y)Y.Y.Y)Y)Y.Y.Y)Y)Y0Y0Y0Y)Y)Y)Y0Y)Y0Y0Y)Y.Y)Y)Y)Y)Y)Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y.Y.Y)Y.Y.Y.Y.Y)Y)Y)Y)Y)Y.Y.Y)Y.Y.Y.Y0Y0Y0Y)Y0Y)Y0Y0Y0Y0Y0Y)Y0Y0Y0Y)Y0Y)Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y)Y)Y0Y)Y)Y)Y)Y.Y)Y.Y.Y.Y)Y.Y)Y)Y)Y.Y)Y.Y.Y.Y.Y)Y)Y.Y.Y.Y)Y.Y)Y)Y.Y.Y)Y.Y)Y.Y)Y.Y)Y.Y)Y.Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y)Y0Y)Y0Y)Y)Y)Y0Y0Y)Y)Y0Y0Y)Y)Y)Y0Y)Y)Y)Y.Y)Y.Y.Y.Y)Y.Y.Y.Y0Y0YKYKYKY0YKYKY0Y0YKYKY0Y0Y0YCY0YCY0Y0Y0Y0Y0YKY0Y0YKYKY0Y0YKYCY0YCYCYCYKYCYKYCYCYCY0Y0YCYCY0YCY0YCY0YCYCYCYKYKYCYCYKYKYCYCYKYKYCYCYKYCYCYCYCYKYCYCYKYCYCYCYKYKYCY.YCY.YCY.YCY.Y.Y.YKYKYKY.YKYKYKY.YKY.YKY.YKY.Y.Y.YKYKY.YKY.Y.Y.Y.Y.YKY.YKYKYKY.YKYKYKY.Y.YKYKY.Y.YKYKY.Y.YKY.YKY.YKYKY.YKYKYKYKY.YKYKY.Y.YKY.YKYKYKZ)YKYKZ)Z)Z)Z)Z)YKZ)Z)Z)YKYKZ)Z)Z)YKZ)YKZ)Z)Z)Z)YKYKZ)YKZ)YKYKZ)Z)Z)Z)Z)YKZ)Z)Z)YKZ)YKYKYKZ)Z)YKYKYKYOYKYOYOYKYOYOY.Y.YKY.Y.Y.YKYKYKY.YKYKYKY.YKY.YKY.Y.Y.YKYKY.Y.Y.Y.YKY.Y.Z'Z'Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Y.Y.Z'Y.Y.Y.Z'Y.Z'Z'Z'Z'Z'Y.Z'Y.Z'Y.Z'Y.Z'Y.Y.Y.Z'Y.Z'YMY.YMYMY.Z'Z'Z'Y.Z'Z'Z'Y.Y.Y.Z'Y.Y.Y.Z'Z'Z'YMYMZ'Z'YMYMY.Y.Y.Z'Y.Z'Z'Z'YKYKYKY.YKY.Y.Y.YKY.Y.Y.YKY.YKY.YKY.YKY.YKY.YKY.YKYKYKY.YKY.Y.Y.YKY.YKY.YKY.YKY.YKY.YKY.YKYKYKY.YKY.Y.Y.YKY.YKY.Y.Y.YKY.YKY.YKY.Y.Y.Z)Y.Y.Y.Y.Z)Y.Y.Z)Z)Y.Y.Z)Y.YKYKZ)Z)Z)Z)Y.Y.Z)Y.Z)Z)Y.Y.Z)Z)Y.Z)Z)Z)Y.Z)Z)Z)Y.Y.Y.Z)Y.Y.Y.Z)Y.Y.Z)Y.Y.Y.Y.Z)Y.Y.Z)Z)Z)Z)Y3Y3Y.Y.Z)Z)Y.Y.Z)Z)Z)Z$Z)Z$Z$Z$Z)Z$Z)Z$Z)Z$Z)Z$Z)Z$Z)Z$Z$Z$Z#Z$Z#Z$Z)Z#Z#Z#Z#Z#Z)Z#Z)Z#Z)Z)Z)Z)YOZ)YOZ)YOYOYOZ)YOYOZ)Z)YOYOZ)Z)YOYOZ)YOZ)YOZ)Z)Z)YOZ)YOYOYOYOZ)YOYOZ)Z)Z)YOZ)Z)YOYOZ)YOYOYOY.Y.Y.Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Z$Y.Y.Y.Z$Z$Z$Y.Z$Z$Z$Y.Y.Y.Z$Y.Y.Z$Z$Y.Z$Z$Z$YOYAYAYAYOYAYOYOYAYAYAYOYAYAYOYOYAYAYOYAYOYAYOYAYOYOYOYAYOYAYOYOYAYAZ(Z(YOYAYAYAYOYAYAYAYAYAYOYOYOYAYOYOYOYAYOYOYAYAYOYOYOYAYOYOYOYOYAYAYOYOYAYOYAYAYOYAYAYAYOYOYOYAYAYAYOYOYOYAZ'Z'YMZ'Z'Z'YMYMZ'Z'YMYMZ'Z'YMYMZ'Z'YMZ'YMZ'YMYMZ'Z'YMYMZ'Z'YMYMYMYMYMZ'Z'Z'YMZ'YMZ'YMYMZ'Z'YMZ'Z'Z'YMYMYMYMY/YMYMYMYMY/Y/YMY/Y/Z$Z$Y2Y2Z$Z$Z$Y2Z$Y2Y2Y2Z$Z$Y2Y2Z$Z$Y2Y2Z$Z$Y2Y2Z$Y2Z$Y2Z$Y2Y2Y2Z$Y/Z$Y/Z$Y/Z$Z$Z$Y/Z$Z$Z$Y/Y/Y/Z$Z$Z$Y2Z$Z$Z$Y2Y2Y/Y2Y2Y2Y/Y2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y2Y2Y/Y/Y/Y2Y/Y/Y2Y2Y/Y/Y2Y/Y/Y/Y/Y2Y/Y/Y2Y2Y/Y2Y2Y2Y/Y2Y2Y2Z$Z$Z$YAYAYAZ$Z$Z$Z$YAYAZ$Z$YAYAZ$YAZ$YAYAY2Y2Y2Y2Y2YAY2YAZ(Z(Z(Y2Z(Z(Z(Z(Y2Y2Y2Y2Y2Z(Y2Z(Z(Z(YRYRZ(YRYRYRYRYRZ(Z(Z(YRYRY/Y/Y2Y2Y/Y/Y/Y2Y/Y/Y2Y2Y2Y/Y2Y2Y/Y/Y2Y2Y/Y2Y2Y2Y/Y/Y/Y?Y/Y/Y?Y?Y/Y?Y/Y?Y/Y?Y/Y/Y?Y?Y2Y2Y?Y2Y2Y2Y2Y?Y2Y2Y/Y/Y2Y2Y/Y2Y2Y2Y2Y2Y2Y-Y2Y2Y-Y-Y2Y-Y-Y-Y2Y2Y-Y-Y2Y2Y2Y1Y-Y1Y-Y-Y2Y2Y2Y1YGYGZ'YGYGYGY?Y?Y?Y?Y1Y1Y?Y?Y1Y1Y?Y1Y1Y1Y?Y?Y4Y4Y4Y4Y1Y4Y4Y?Y4Y4Y4Y?Y?Y?Y4Y?Y4Y?Y?Y?Y1Y1Y1Y?Y1Y?Y1Y?Y1Y1Y?Y?Y?Y1Y?Y?Y1Y1Y?Y1Y1Y1Y?YIY?Y?YIYIY?YIYIYIY?Y?YIYIY?YIYIYIY?YIY?YIY?YIY?Y?Y?YIYIYIY?YIYIYIY?Y?YIYIY?YIYIYIZ&Z&VXVXVXVUVXVXVUVUVXVUVUVUVRVRX+X+VRX+X+X+VRVRVRX+W6W6W6X*W6W6X*X*W6W6X*X*W)W)WXWXW)W)WXW)WXX/WXWXX/X/WXWXX/X/WXWXWXX/WXX/UCTYUCTYUCTYTYTYTYTNTYTYTZTZU3U3TZTZU3U3TNU3TNU3TNU3TNTNU3U3TNTNTZTZU3U3TZTZU3U3TZTZU3U3TZTZTZV@TZTZV@V@TZTZTZV@TZV@V@V@TZV@TZV@TZV@TZV@TZTZTZV@TZTZV@V@TZTZTZUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZTZUUUUTZV@TZV@TZV@TZV@TZV@TZV@U4U4U9U9U4U3U4U3U4U3U9U3TNTNU3U3TNTNU3U3TNTNTNU8TNU8U8U8UUUUU>U>UUUUU>U>V@UUV@UUV@UUV@UUV@UUV@V@V@V@V@UUTZV@V@V@TZV@TZV@TZTZTZV@TZTZTZV@TZV@V@V@TZV@TZV@V@UUV@UUUUUUV@UUUUUUV@V@UUUUV@UUV@UUV@UUV@UUV@UUV@V@UUUUYDYDYDY@YDYDY@Y@YDYDYDY@Y@YDYDYDY@YDYDYDYKYKYDYDYKYKYKYDYDYKYDYKYKYKYDYKYKYKYDYDYKYKYDYDYKYKYDYDYOYOYKYOYKYKYKYHYHYHYKYHYOYOYKYOYKYOYKYOYOYOYOYQYOYQYOYQYOYOYQYQYOYOYQYQYQYQYOYOYQYQYOYOYQYQYQYOYRYRZ(Z(YRYRZ(YRZ(YRZ(Z(YRYRZ(YRYRYRZ(YRZ(YLZ(YLYLYLZ(YLYRY-Y-Y-YYYYYUYUYYYUYYYUYYYUYUYUY1Y1Y-Y1Y1Y1Y-Y1Y-Y1Y-Y-YVYVY1Y1YVYVYVY1Y1Y1YVYVY1Y1YVY1Y1YVYVYVY1Y1YVYVY1Y1Y1YVY1YVYVYVY1YVYVYVY1Y1YVYVY1YVYVYVY;Y;Y,Y;Y,Y;Y,Y,Y,Y,Y,Y;Y,Y,Y,Y;Y;Y;X&X&Y;X&X&X&W#W#X&W#W#W#W#X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&W#W#X&X&WVWVVWVWVWWVVWWVVWWVVWWVWVWVWVW/WVWVVWVWVWWVVWVWWVWVVWWVVWWVVWVWWVWVVWWVVRVRWSVRVRVRWSWSVRVRVRX$VRX$X$X$VRVRVRX$VRX$X$X$VRVRVRX$VRX$VRVRX$VRX$X$VRVRX$X$VRVRX$X$VRVRX$X$VRVRX$X$W'W'X$X$W'X$X$X$W'W'X$X$W'W'X$X$VRVRW'VRVRVRX$X$VRX$VRX$VRX$X$X$X$X$W/W/X$X$W/X$X$X$X$W/W/W/X$W/X$X$W/W/X$X$W/W/X$W/W/W/X$W/X$X$X$X$W/W/X$X$W/W/X$X$W/W/X$X$W/W/X$X$W/W/W/W/X$W/W/W/X$W/W'W'X$X$W'X$X$X$W/W/W/X$W/X$X$X$W/X$X$X$W/W/W/X$W/X$X$X$X$X$W/W/X$X$W/W/X$X$W/X$X$X$W'W'W/W/W/W'W/W/W'W'W/X$W/W/X$X$W/W/X$X$W/W/X$W/W/W/W/X$W/W/W'W'W/W/W/W/W/W'W/W/W/W'W/W'W'W'X$X$X$W/W'X$W'X$W'W'X$X$W'W'X$W'W'X$W'X$W'X$W'W'X$X$W'X$WVWVWVW/W/W/WVWVW/W/WVWVW/W/W:W:W/W/W:W:X$W'X$W'W'W'X$X$X$W'X$X$W'X$X$X$X$W'W'W'W'X$W'X$X$X$X$W'X$X$W'W'X$W'X$X$X$W'X$X$W'W'X$W'X$W'X$X$W'W'X$X$W'W'X$X$W'W'X$X$W'W'X$W'X$W'X$X$W'W'W'X$W'X$X$X$X$X$X$W'X$X$W'W'X$X$W'W'X$X$W'W'X$W'X$W'X$X$X$W'X$X$W'W'X$X$W'X$W'W'X$W'X$X$X$W'X$X$W'W'X$W'W'W'X$X$W'W'X$X$X$W'X$X$W'W'X$W'X$W'X$X$W'W'X$W'W'W'X$W'W'W'W'W'X$X$X$X$W'W'W'W'X$X$X$X$W'W'W'VRW'W'VRVRW'W'VRVRW'VRWXWXWPWPWPWPWPWXWXWPWPWPWXWXWPWPWXWPWXWXWXWXWPWPWPWPWWWWWPWPWWWWWPWWWPWWWPWPWPWWWPWWWWWWWPWPWWWPWPWPWWWWWPWWWWWWWPWPWWWWWPWWWPWWWPWPWPWWWPWPWWWWWPWWWWWWWPWWWWWWWXWXWPWPWXWPWPWPWPWXWPWPWPWWWPWWWPWPWPWWWPWPWWWPWPWPWPWWWPWPWWWWWPWWWWWWV&V&UCV&UCV&UCV&UCV&V&V&UCV&UCUCUCUCV?V?UCUCV?V?UCUCV?V?UCUCV?V?UCUCV?V?UCUCUCV?UCUCV?V?UCUCV&V&UCUCV&V&UCUCV&V&UCV&V&V&V?V&V?V&V?V?U2U2U2V&U2U2V&V&U2U2V&TYV&V&V&V&V&TYV&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2V&V&U2U2TYTYTPTYTYTPTPTPTPTYTPTPTYTYTPTYTYTYTPTYTPTYTPTPUUUUTNUUTNTNUUUUY@YDY@YDY@YDY@YDS<S=S<S=S=S=S<S<S<S=S=S=S<S=S<S<S=S=S<S<S<S2S<S<S2S2S<S2S2S2S<S2W0W0WIWIW0WIWIWIW0W0W0WIWIW0WIWIWIW0WIW0Y;Y;W+W+Y;Y;Y;W+W+Y;W+W+W+Y;W+W+W+W+W&W&W+W+W&W+W+W+W+W&W+W+W&W+W&W&W&W+W+W+W&W+W&W+W&W+W9W+W9W9W9W+W9W+W9W+W9W9VSW+VSW+W+W+VSW+W9W9W1W9W1W1W1W9W9W9W9VSY;Y;W+Y;Y;Y;W+W+W+W+W+VYY;Y;W+W+Y;VYY;VYY;Y;VYY;X&VYX&X&VYVYX&X&VYVYX&X&VYVYVYX&VYX&X&X&X&X&VYX&VYVYVYX&X&X&VYX&VYVYVYX&VYVYX&X&VYX&VYVYX&X&VYX&X&VYVYVYVYX&VYVYVYX&VYX&VYX&VYVYX&X&X&VYX&X&VYVYVYX&VYVYVYX&VYX&VYX&VYVYX&VWX&X&VWVWX&VWX&X&X&VWX&VWVWVWW:WVW:W:WVWVW:WVWVWVW:WVWVWVWVW:WVWVW:W:W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W/W:W:W:W/W:W:W/W/W:W/W:W/W:W:W/W/W:W/W:W<W:W:W:W<W:W<W:W<W:W:W:W<W<W<W<W<W:W:W<W<W:W<W<W<W:W<W:W<W:W<W:W:W:W<W:W:W:W<W:W<W<W<W<W<W<W?W<W<W?W?W<W<W<W?W<W?W<W?W<W?W?W?W<W<W<W?W<W<W<W?W<W?W<W?TNTNV#TNTNTNV#TNTOUQTOUQTOTOTOUQUQUQTOUQTOUQTOTOUQUQTOUQUJTNUJUJUJTNUJTNTNTNUJTNTNTNUJTNUJTNUJUJUJTNTNTNTNTNUJUJTNTNUJTNUJTNTNTNUJTNUJTNTNTNUJUJTNTNUJTNUJTNUJUJTNTNUJTNTNTNUJTNUJTNUJUJUJTNUJUJTNTNUJUJTNTNUJTNTNUUTNUUTNUUUUUUX&X&VYVYX&X&VYVYX&X&VYX&W.W.W.WHW.W.W.WHW.WHWHWHW.WHW.W.WHWHW.WHWHWHW.W.WHWHW.W.WHWHWHW.WHW.WHW.X&W<X&X&X&W<W<W<W?W?W?W=W?W=W=W=W?W=W?W=WXWXW=W=W=WXW=W=W,W?W,W,W,W?W,W?W,W,W,W?W?W?W,W,W,W,W,W?W,W?W,W?W,W,W?W,WXX0X0X0WXWXX0X0WXX0X0X0WXW4W4W4WXWXWXW4WXW4W4W4T@UNUNUNUNUQUNUNUQUQUNUQUQUQUNUNUQUNUQUNUHUHUDUDUHUHUDUDSCT$SCT$X0X0X0W$X0X0X0W$X-X-W$W$W$X-W$X-W$X-W$X-X-X-X-W$X-X-X-W$X-X-W$W$X-W$W$W$W$X-W$W$W$X-W$W$X-X-W$X-W$X-W$X-WXWXWXWDWXWDWDWDWXWDWXWDWXWXWXWDWDWDWXWDWXWXWXW4WXW4W4W4TFTKTKTKTKTKTFTKTFTKTFTFSZSZSZSBSZSZSBSBSZSZSBSBSZSZSBSZSZSZSBSZSZSZSBSBSZSZSBSBSBSZSBSBTFTKTFTKTFTKTFTKSOSOS0S0SOSOS0S0SOSOS0S0SOT&SOSOSOT&SOT&SOSOSOT&SOSOT&T&T&T&T&SMT&T&T&SMT&SMT&SMT&SMT&SMT&SMT&T&T&SMSMSMT&SMT&SMT&SMT&SMS5SLSLSLSLS5SLSLS5SQS5SQS5S5SQSQSQS5SQSQS5SQS5SQSQSISISISQSQSQSISQSISQSQSQSISQSQSISISQSQWAWAWYWYWAWAWYWYWAWYWYWYWAWAWYWAWYWAWYWYWYWAWYWYT/U(T/U(SLS9SLS9SLS9SLSLS9S9S9SLS9S9SLSLS9S9S9SLS9SLSLSLSQSISQSISQSISQSISQSISQSISQSQSQSKSKSKSQSKSISISISKSISKSISKS@SYS@S@SYSYS@SYSYSYS@S@V)TTV)TTV-V-V-T?T?V-T?T?T?UET?T?V-T?T?T?V-T?T?T?V-V-T?T?UEUET?T?SQSQSRSQSRSQSRSRSQSQSQSRSQSRSRSRS@S@SRS@S@S@SRS@S8S8S8STSTS8STSTS8S8S8STS8S8S8STS8S8STSTS8S8STSTUAUAUAT3UAUAT3UATTTTTTV3TTTTV3V3TTV3V3V3SFSRSFSRS8STS8S8SFSTSFSTT1T1T2T2T1T2T1T1T1T1T2T2T2T2T1T2T1T2T1T2T2T2T=T=T2T=T2T2T=T=T2T=T2T=T2T2T2T=T2T=T2T=T2T2T=T=T2T=T=T=T2T=T=T=T2T=TITIT=TIT=TIT=T=T=V3T=T=V3V3T=V3T=V3T=V3T=V3T=V3T=V3T=T2V3V3T2T2V3V3T2V3T2T2V3V3T2V3V3V3T2T2T2V3T2V3V3V3T=T=T2T2T=T=T2T2T=T=T2T=T=T=T2T=T2V3V3V3SGSGSGSUSGSUSUSUSGSUSGSUX>XFXFXFXFX>XFXFX>X>XFXFX>XFXFXFT5T5T7T5T7T5T7T7T5T5T7T5T5T5T7T5T5T5T7T5T5T5T7T7T5T5T5T7T5T5T7T7T0T2T0T0T2T2T0T2T0T2T0T0T0T2T0T0URURT2URURV3URURV3URURURV3V3URV3T2URT2URT2T2T2URT2T2T2URT2URURURT2URT2T2T2URT2T2T2T2T0T0T0T2T0T0T2URT2URT2URURURURV3URV3V3V3URURURV3URURURV3URURV3V3URURSGSUSUSUXFXFXDXDXFXFXDXFXDXFXDXFXFXFXDXFXFXFXDXFXDXFXDXDXFXFXDXFXDXFXDXDXFXFXDXDXFXFXDXFXFXFXDXFXDXFXDXDXFXFXDXDT7T0T7T7T0T0T7T7",a=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad_Juarez","America/Costa_Rica","America/Coyhaique","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rankin_Inlet","America/Recife","America/Regina","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Vaduz","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"];if(r=+r,!(-90<=(n=+n)&&n<=90&&-180<=r&&r<=180))throw new RangeError("invalid coordinates");if(90<=n)return"Etc/GMT";for(var o=-1,c=48*(180+r)/360.00000000000006,u=24*(90-n)/180.00000000000003,f=0|c,p=0|u,h=96*p+2*f,h=56*i.charCodeAt(h)+i.charCodeAt(h+1)-1995;h+a.length<3136;)h=56*i.charCodeAt(h=8*(o=o+h+1)+4*(p=0|(u=2*(u-p)%2))+2*(f=0|(c=2*(c-f)%2))+2304)+i.charCodeAt(h+1)-1995;return a[h+a.length-3136]}t.exports=e})(_Y)),_Y.exports}var hie=die();const pie=xo(hie);function mie(t,e,n){if(t===0&&e===0)return 0;let r;try{r=pie(t,e)}catch{return 0}if(!r)return 0;const i=new Date(n);try{const c=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"longOffset"}).formatToParts(i).find(u=>u.type==="timeZoneName");if(c){const u=c.value.match(/GMT([+-])(\d{2}):(\d{2})/);if(u){const f=u[1]==="+"?1:-1,p=parseInt(u[2],10),h=parseInt(u[3],10);return f*(p+h/60)}if(c.value==="GMT")return 0}}catch(a){console.warn(`Failed to get timezone offset for ${r}:`,a)}return 0}const gie={visual:{name:"Visual",abbrev:"V"},thermal:{name:"Thermal",abbrev:"T"},wide:{name:"Wide",abbrev:"W"},screen:{name:"Screen",abbrev:"S"},zoom:{name:"Zoom",abbrev:"Z"},panorama:{name:"Panorama",abbrev:"P"},unknown:{name:"Unknown",abbrev:"?"}};function VC(t,e){const n=t.timeStartEpochUs/1e3,r=t.timeEndEpochUs/1e3;let i=0,a=0,o=0,c=0;e?.bounds&&(i=e.bounds.south,a=e.bounds.north,o=e.bounds.west,c=e.bounds.east);const u=(i+a)/2,f=(o+c)/2,p=mie(u,f,n),h=gie[t.sourceType];return{channelId:t.id,recordId:t.recordId,sourceType:t.sourceType,latMin:i,latMax:a,longMin:o,longMax:c,startEpochTimeMillis:n,endEpochTimeMillis:r,timeZoneOffsetHours:p,nFrames:t.getFrameCount(),name:h.name,nameAbbreviated:h.abbrev,channelType:t.getType(),hasValidTime:t.hasValidTime}}const Ma=pt([]),yie=pt(null,(t,e,n)=>{const r=crypto.randomUUID(),i={id:r,label:n};return e(Ma,[...t(Ma),i]),r});pt(null,(t,e,{id:n,current:r,total:i})=>{e(Ma,t(Ma).map(a=>a.id===n?{...a,progress:{current:r,total:i}}:a))});const yu=pt(null,(t,e,{id:n,label:r,current:i,total:a})=>{e(Ma,t(Ma).map(o=>o.id!==n?o:{...o,label:r??o.label,progress:i!==void 0&&a!==void 0?{current:i,total:a}:o.progress}))}),vie=pt(null,(t,e,n)=>{e(Ma,t(Ma).filter(r=>r.id!==n))});pt(t=>t(Ma).length>0);const Ax=pt([]),kx=pt({records:new Map,channels:new Map,errors:[],grouper:new VI}),OX=pt(null,(t,e)=>{e(Ax,[]),e(kx,{records:new Map,channels:new Map,errors:[],grouper:new VI}),e(Tu,[])}),n2=pt(null,async(t,e,n)=>{const r=e(yie,"Loading files...");try{const i=t(Il),a=t(Ax),o=t(kx),c=new Set(a.map(W=>W.hash)),u=n.filter(W=>!c.has(W.hash)),f=await aie(a,u,o,(W,w)=>{e(yu,{id:r,label:"Processing files...",current:W,total:w})}),p=[...a,...u];e(Ax,p),e(kx,f);const{records:h,channels:m,errors:y}=f;for(const W of y)e(o9,W);const _=t(bc);for(const W of _)e(mo(W),null);e(bc,Array.from(h.keys())),e(Zs,Array.from(m.keys()));for(const[W,w]of h.entries())e(mo(W),w);for(const[W,w]of m.entries())e(yn(W),w);h.size,m.size;const v=Array.from(m.entries()),S=v.length;let Y=0;for(let W=0;W<v.length;W++){const[w,k]=v[W];if(e(yu,{id:r,label:"Extracting GPS...",current:W+1,total:S}),k instanceof KY||k instanceof HL||k instanceof jY)try{const M=await DC(k,i);M&&M.positions.length>0&&(e(go(w),M),Y++,`${M.positions.length}${w}`)}catch(M){console.warn(`Failed to extract positions for channel ${w}:`,M)}}`${Y}${m.size}`,e(yu,{id:r,label:"Building summaries...",current:0,total:S});const T=[];for(let W=0;W<v.length;W++){const[w,k]=v[W];e(yu,{id:r,current:W+1,total:S});const M=t(go(w)),D=VC(k,M);e(Qv(w),D),T.push(w)}const A=t(Tu),P=[...A,...T.filter(W=>!A.includes(W))];e(Tu,P),`${T.length}`;const C=f.grouper.getExtractedAnnotations();if(C.length>0){`${C.length}`,e(yu,{id:r,label:"Importing bookmarks...",current:0,total:C.length});const W=t(z_),w=new Set(W.map(B=>B.id)),k=new Map;for(const[B,O]of m.entries())for(const V of O.fileHashes)k.set(V,B);const M=[];let D=0;for(let B=0;B<C.length;B++){const O=C[B];if(e(yu,{id:r,current:B+1,total:C.length}),w.has(O.metadata.bookmark.id)){`${O.metadata.bookmark.name}`;continue}const V=k.get(O.metadata.source.fileId);if(V)try{let X=O.metadata.bookmark.timestampChannelUs;if(O.metadata.bookmark.timestampEpochUs!==void 0){const j=t(yn(V));j&&(X=O.metadata.bookmark.timestampEpochUs-j.timeStartEpochUs)}await e(ix,{channelId:V,fileId:O.metadata.source.fileId,timestampChannelUs:X,bbox:O.metadata.bookmark.bbox,name:O.metadata.bookmark.name,description:O.metadata.bookmark.description||""}),D++,`${O.metadata.bookmark.name}${V}`}catch(X){console.warn(`Failed to import bookmark ${O.metadata.bookmark.name}:`,X)}else{const X=p.find(j=>j.path===O.annotationFilePath);X?M.push({annotation:O,fileHandle:X}):console.warn(`Could not find file handle for annotation: ${O.metadata.bookmark.name}`)}}if(M.length>0){`${M.length}`;for(const{annotation:B,fileHandle:O}of M)try{const V=B.metadata.bookmark.timestampEpochUs??B.metadata.bookmark.createdAt*1e3,X=_ie(t,e,h,V,B.metadata.bookmark.name),j=Pu("CH"),$=new KY(j,X,[O.hash],[V],V,V,1,"unknown");m.set(j,$),e(yn(j),$);const q=t(Zs);e(Zs,[...q,j]);const G=t(mo(X));G&&e(mo(X),{...G,channelIds:[...G.channelIds,j]}),k.set(O.hash,j);try{const ee=await DC($,i);ee&&ee.positions.length>0&&e(go(j),ee)}catch(ee){console.warn(`Failed to extract positions for standalone channel ${j}:`,ee)}const Q=t(go(j)),ue=VC($,Q);e(Qv(j),ue);const K=t(Tu);e(Tu,[...K,j]),await e(ix,{channelId:j,fileId:O.hash,timestampChannelUs:0,bbox:B.metadata.bookmark.bbox,name:B.metadata.bookmark.name,description:B.metadata.bookmark.description||""}),D++,`${j}${B.metadata.bookmark.name}`}catch(V){console.warn(`Failed to create standalone channel for ${B.metadata.bookmark.name}:`,V)}}`${D}${C.length}`}e(m9)}finally{e(vie,r)}});function _ie(t,e,n,r,i){for(const[u,f]of n.entries())for(const p of f.channelIds){const h=t(yn(p));if(h&&r>=h.timeStartEpochUs-6e7&&r<=h.timeEndEpochUs+6e7)return u}const a=Pu("RC"),o={id:a,channelIds:[],name:`Orphan: ${i}`,description:"Created for unmatched annotation file"};n.set(a,o),e(mo(a),o);const c=t(bc);return e(bc,[...c,a]),a}function FC(t){const e=Sie(t),n=z.forwardRef((r,i)=>{const{children:a,...o}=r,c=z.Children.toArray(a),u=c.find(Yie);if(u){const f=u.props.children,p=c.map(h=>h===u?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return I.jsx(e,{...o,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,p):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Sie(t){const e=z.forwardRef((n,r)=>{const{children:i,...a}=n;if(z.isValidElement(i)){const o=Tie(i),c=xie(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Al(r,o):o),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bie=Symbol("radix.slottable");function Yie(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bie}function xie(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Tie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NX(t){const e=t+"CollectionProvider",[n,r]=To(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:S,children:Y}=v,T=gt.useRef(null),A=gt.useRef(new Map).current;return I.jsx(i,{scope:S,itemMap:A,collectionRef:T,children:Y})};o.displayName=e;const c=t+"CollectionSlot",u=FC(c),f=gt.forwardRef((v,S)=>{const{scope:Y,children:T}=v,A=a(c,Y),P=Dr(S,A.collectionRef);return I.jsx(u,{ref:P,children:T})});f.displayName=c;const p=t+"CollectionItemSlot",h="data-radix-collection-item",m=FC(p),y=gt.forwardRef((v,S)=>{const{scope:Y,children:T,...A}=v,P=gt.useRef(null),C=Dr(S,P),W=a(p,Y);return gt.useEffect(()=>(W.itemMap.set(P,{ref:P,...A}),()=>void W.itemMap.delete(P))),I.jsx(m,{[h]:"",ref:C,children:T})});y.displayName=p;function _(v){const S=a(t+"CollectionConsumer",v);return gt.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((W,w)=>A.indexOf(W.ref.current)-A.indexOf(w.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},_,r]}var wie=z.createContext(void 0);function DX(t){const e=z.useContext(wie);return t||e||"ltr"}var SY="rovingFocusGroup.onEntryFocus",Wie={bubbles:!1,cancelable:!0},u1="RovingFocusGroup",[Ix,BX,Eie]=NX(u1),[Uie,VX]=To(u1,[Eie]),[Cie,Aie]=Uie(u1),FX=z.forwardRef((t,e)=>I.jsx(Ix.Provider,{scope:t.__scopeRovingFocusGroup,children:I.jsx(Ix.Slot,{scope:t.__scopeRovingFocusGroup,children:I.jsx(kie,{...t,ref:e})})}));FX.displayName=u1;var kie=z.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=t,m=z.useRef(null),y=Dr(e,m),_=DX(a),[v,S]=o1({prop:o,defaultProp:c??null,onChange:u,caller:u1}),[Y,T]=z.useState(!1),A=Aa(f),P=BX(n),C=z.useRef(!1),[W,w]=z.useState(0);return z.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(SY,A),()=>k.removeEventListener(SY,A)},[A]),I.jsx(Cie,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:v,onItemFocus:z.useCallback(k=>S(k),[S]),onItemShiftTab:z.useCallback(()=>T(!0),[]),onFocusableItemAdd:z.useCallback(()=>w(k=>k+1),[]),onFocusableItemRemove:z.useCallback(()=>w(k=>k-1),[]),children:I.jsx(yr.div,{tabIndex:Y||W===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:Ht(t.onMouseDown,()=>{C.current=!0}),onFocus:Ht(t.onFocus,k=>{const M=!C.current;if(k.target===k.currentTarget&&M&&!Y){const D=new CustomEvent(SY,Wie);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const B=P().filter($=>$.focusable),O=B.find($=>$.active),V=B.find($=>$.id===v),j=[O,V,...B].filter(Boolean).map($=>$.ref.current);zX(j,p)}}C.current=!1}),onBlur:Ht(t.onBlur,()=>T(!1))})})}),LX="RovingFocusGroupItem",ZX=z.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,u=hc(),f=a||u,p=Aie(LX,n),h=p.currentTabStopId===f,m=BX(n),{onFocusableItemAdd:y,onFocusableItemRemove:_,currentTabStopId:v}=p;return z.useEffect(()=>{if(r)return y(),()=>_()},[r,y,_]),I.jsx(Ix.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:I.jsx(yr.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Ht(t.onMouseDown,S=>{r?p.onItemFocus(f):S.preventDefault()}),onFocus:Ht(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:Ht(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const Y=Rie(S,p.orientation,p.dir);if(Y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let A=m().filter(P=>P.focusable).map(P=>P.ref.current);if(Y==="last")A.reverse();else if(Y==="prev"||Y==="next"){Y==="prev"&&A.reverse();const P=A.indexOf(S.currentTarget);A=p.loop?Pie(A,P+1):A.slice(P+1)}setTimeout(()=>zX(A))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});ZX.displayName=LX;var Iie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xie(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Rie(t,e,n){const r=Xie(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Iie[r]}function zX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Pie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mie=FX,Oie=ZX;function Nie(t){const e=Die(t),n=z.forwardRef((r,i)=>{const{children:a,...o}=r,c=z.Children.toArray(a),u=c.find(Vie);if(u){const f=u.props.children,p=c.map(h=>h===u?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return I.jsx(e,{...o,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,p):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Die(t){const e=z.forwardRef((n,r)=>{const{children:i,...a}=n;if(z.isValidElement(i)){const o=Lie(i),c=Fie(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Al(r,o):o),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bie=Symbol("radix.slottable");function Vie(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bie}function Fie(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Lie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Xx=["Enter"," "],Zie=["ArrowDown","PageUp","Home"],$X=["ArrowUp","PageDown","End"],zie=[...Zie,...$X],$ie={ltr:[...Xx,"ArrowRight"],rtl:[...Xx,"ArrowLeft"]},Kie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},f1="Menu",[Qg,jie,Hie]=NX(f1),[Cc,r2]=To(f1,[Hie,X_,VX]),i2=X_(),KX=VX(),[Gie,Ac]=Cc(f1),[qie,d1]=Cc(f1),jX=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=i2(e),[u,f]=z.useState(null),p=z.useRef(!1),h=Aa(a),m=DX(i);return z.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),I.jsx(mk,{...c,children:I.jsx(Gie,{scope:e,open:n,onOpenChange:h,content:u,onContentChange:f,children:I.jsx(qie,{scope:e,onClose:z.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:m,modal:o,children:r})})})};jX.displayName=f1;var Qie="MenuAnchor",tw=z.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=i2(n);return I.jsx(gk,{...i,...r,ref:e})});tw.displayName=Qie;var nw="MenuPortal",[Jie,HX]=Cc(nw,{forceMount:void 0}),GX=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Ac(nw,e);return I.jsx(Jie,{scope:e,forceMount:n,children:I.jsx(fa,{present:n||a.open,children:I.jsx(W_,{asChild:!0,container:i,children:r})})})};GX.displayName=nw;var $s="MenuContent",[ese,rw]=Cc($s),qX=z.forwardRef((t,e)=>{const n=HX($s,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ac($s,t.__scopeMenu),o=d1($s,t.__scopeMenu);return I.jsx(Qg.Provider,{scope:t.__scopeMenu,children:I.jsx(fa,{present:r||a.open,children:I.jsx(Qg.Slot,{scope:t.__scopeMenu,children:o.modal?I.jsx(tse,{...i,ref:e}):I.jsx(nse,{...i,ref:e})})})})}),tse=z.forwardRef((t,e)=>{const n=Ac($s,t.__scopeMenu),r=z.useRef(null),i=Dr(e,r);return z.useEffect(()=>{const a=r.current;if(a)return xA(a)},[]),I.jsx(iw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ht(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nse=z.forwardRef((t,e)=>{const n=Ac($s,t.__scopeMenu);return I.jsx(iw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rse=Nie("MenuContent.ScrollLock"),iw=z.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:y,disableOutsideScroll:_,...v}=t,S=Ac($s,n),Y=d1($s,n),T=i2(n),A=KX(n),P=jie(n),[C,W]=z.useState(null),w=z.useRef(null),k=Dr(e,w,S.onContentChange),M=z.useRef(0),D=z.useRef(""),B=z.useRef(0),O=z.useRef(null),V=z.useRef("right"),X=z.useRef(0),j=_?aT:z.Fragment,$=_?{as:rse,allowPinchZoom:!0}:void 0,q=Q=>{const ue=D.current+Q,K=P().filter(he=>!he.disabled),ee=document.activeElement,fe=K.find(he=>he.ref.current===ee)?.textValue,te=K.map(he=>he.textValue),ie=mse(te,ue,fe),le=K.find(he=>he.textValue===ie)?.ref.current;(function he(me){D.current=me,window.clearTimeout(M.current),me!==""&&(M.current=window.setTimeout(()=>he(""),1e3))})(ue),le&&setTimeout(()=>le.focus())};z.useEffect(()=>()=>window.clearTimeout(M.current),[]),pA();const G=z.useCallback(Q=>V.current===O.current?.side&&yse(Q,O.current?.area),[]);return I.jsx(ese,{scope:n,searchRef:D,onItemEnter:z.useCallback(Q=>{G(Q)&&Q.preventDefault()},[G]),onItemLeave:z.useCallback(Q=>{G(Q)||(w.current?.focus(),W(null))},[G]),onTriggerLeave:z.useCallback(Q=>{G(Q)&&Q.preventDefault()},[G]),pointerGraceTimerRef:B,onPointerGraceIntentChange:z.useCallback(Q=>{O.current=Q},[]),children:I.jsx(j,{...$,children:I.jsx(sT,{asChild:!0,trapped:i,onMountAutoFocus:Ht(a,Q=>{Q.preventDefault(),w.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:I.jsx(w_,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:y,children:I.jsx(Mie,{asChild:!0,...A,dir:Y.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:W,onEntryFocus:Ht(u,Q=>{Y.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(yk,{role:"menu","aria-orientation":"vertical","data-state":hR(S.open),"data-radix-menu-content":"",dir:Y.dir,...T,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:Ht(v.onKeyDown,Q=>{const K=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,ee=Q.ctrlKey||Q.altKey||Q.metaKey,fe=Q.key.length===1;K&&(Q.key==="Tab"&&Q.preventDefault(),!ee&&fe&&q(Q.key));const te=w.current;if(Q.target!==te||!zie.includes(Q.key))return;Q.preventDefault();const le=P().filter(he=>!he.disabled).map(he=>he.ref.current);$X.includes(Q.key)&&le.reverse(),hse(le)}),onBlur:Ht(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(M.current),D.current="")}),onPointerMove:Ht(t.onPointerMove,Jg(Q=>{const ue=Q.target,K=X.current!==Q.clientX;if(Q.currentTarget.contains(ue)&&K){const ee=Q.clientX>X.current?"right":"left";V.current=ee,X.current=Q.clientX}}))})})})})})})});qX.displayName=$s;var ise="MenuGroup",sw=z.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(yr.div,{role:"group",...r,ref:e})});sw.displayName=ise;var sse="MenuLabel",QX=z.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(yr.div,{...r,ref:e})});QX.displayName=sse;var l_="MenuItem",LC="menu.itemSelect",s2=z.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=z.useRef(null),o=d1(l_,t.__scopeMenu),c=rw(l_,t.__scopeMenu),u=Dr(e,a),f=z.useRef(!1),p=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(LC,{bubbles:!0,cancelable:!0});h.addEventListener(LC,y=>r?.(y),{once:!0}),uA(h,m),m.defaultPrevented?f.current=!1:o.onClose()}};return I.jsx(JX,{...i,ref:u,disabled:n,onClick:Ht(t.onClick,p),onPointerDown:h=>{t.onPointerDown?.(h),f.current=!0},onPointerUp:Ht(t.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Ht(t.onKeyDown,h=>{const m=c.searchRef.current!=="";n||m&&h.key===" "||Xx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});s2.displayName=l_;var JX=z.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=rw(l_,n),c=KX(n),u=z.useRef(null),f=Dr(e,u),[p,h]=z.useState(!1),[m,y]=z.useState("");return z.useEffect(()=>{const _=u.current;_&&y((_.textContent??"").trim())},[a.children]),I.jsx(Qg.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:I.jsx(Oie,{asChild:!0,...c,focusable:!r,children:I.jsx(yr.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:Ht(t.onPointerMove,Jg(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ht(t.onPointerLeave,Jg(_=>o.onItemLeave(_))),onFocus:Ht(t.onFocus,()=>h(!0)),onBlur:Ht(t.onBlur,()=>h(!1))})})})}),ase="MenuCheckboxItem",eR=z.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return I.jsx(sR,{scope:t.__scopeMenu,checked:n,children:I.jsx(s2,{role:"menuitemcheckbox","aria-checked":c_(n)?"mixed":n,...i,ref:e,"data-state":ow(n),onSelect:Ht(i.onSelect,()=>r?.(c_(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eR.displayName=ase;var tR="MenuRadioGroup",[ose,lse]=Cc(tR,{value:void 0,onValueChange:()=>{}}),nR=z.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Aa(r);return I.jsx(ose,{scope:t.__scopeMenu,value:n,onValueChange:a,children:I.jsx(sw,{...i,ref:e})})});nR.displayName=tR;var rR="MenuRadioItem",iR=z.forwardRef((t,e)=>{const{value:n,...r}=t,i=lse(rR,t.__scopeMenu),a=n===i.value;return I.jsx(sR,{scope:t.__scopeMenu,checked:a,children:I.jsx(s2,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":ow(a),onSelect:Ht(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});iR.displayName=rR;var aw="MenuItemIndicator",[sR,cse]=Cc(aw,{checked:!1}),aR=z.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=cse(aw,n);return I.jsx(fa,{present:r||c_(a.checked)||a.checked===!0,children:I.jsx(yr.span,{...i,ref:e,"data-state":ow(a.checked)})})});aR.displayName=aw;var use="MenuSeparator",oR=z.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(yr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});oR.displayName=use;var fse="MenuArrow",lR=z.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=i2(n);return I.jsx(vk,{...i,...r,ref:e})});lR.displayName=fse;var dse="MenuSub",[Rce,cR]=Cc(dse),Wg="MenuSubTrigger",uR=z.forwardRef((t,e)=>{const n=Ac(Wg,t.__scopeMenu),r=d1(Wg,t.__scopeMenu),i=cR(Wg,t.__scopeMenu),a=rw(Wg,t.__scopeMenu),o=z.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,f={__scopeMenu:t.__scopeMenu},p=z.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return z.useEffect(()=>p,[p]),z.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),I.jsx(tw,{asChild:!0,...f,children:I.jsx(JX,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":hR(n.open),...t,ref:Al(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ht(t.onPointerMove,Jg(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ht(t.onPointerLeave,Jg(h=>{p();const m=n.content?.getBoundingClientRect();if(m){const y=n.content?.dataset.side,_=y==="right",v=_?-5:5,S=m[_?"left":"right"],Y=m[_?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:S,y:m.top},{x:Y,y:m.top},{x:Y,y:m.bottom},{x:S,y:m.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ht(t.onKeyDown,h=>{const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||$ie[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});uR.displayName=Wg;var fR="MenuSubContent",dR=z.forwardRef((t,e)=>{const n=HX($s,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ac($s,t.__scopeMenu),o=d1($s,t.__scopeMenu),c=cR(fR,t.__scopeMenu),u=z.useRef(null),f=Dr(e,u);return I.jsx(Qg.Provider,{scope:t.__scopeMenu,children:I.jsx(fa,{present:r||a.open,children:I.jsx(Qg.Slot,{scope:t.__scopeMenu,children:I.jsx(iw,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{o.isUsingKeyboardRef.current&&u.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ht(t.onFocusOutside,p=>{p.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ht(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:Ht(t.onKeyDown,p=>{const h=p.currentTarget.contains(p.target),m=Kie[o.dir].includes(p.key);h&&m&&(a.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});dR.displayName=fR;function hR(t){return t?"open":"closed"}function c_(t){return t==="indeterminate"}function ow(t){return c_(t)?"indeterminate":t?"checked":"unchecked"}function hse(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function mse(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=pse(t,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==n));const u=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function gse(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],u=e[o],f=c.x,p=c.y,h=u.x,m=u.y;p>r!=m>r&&n<(h-f)*(r-p)/(m-p)+f&&(i=!i)}return i}function yse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return gse(n,e)}function Jg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pR=jX,mR=tw,gR=GX,yR=qX,vR=sw,_R=QX,SR=s2,bR=eR,YR=nR,xR=iR,TR=aR,wR=oR,WR=lR,ER=uR,UR=dR,lw="ContextMenu",[vse]=To(lw,[r2]),Fi=r2(),[_se,CR]=vse(lw),AR=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:i,modal:a=!0}=t,[o,c]=z.useState(!1),u=Fi(e),f=Aa(r),p=z.useCallback(h=>{c(h),f(h)},[f]);return I.jsx(_se,{scope:e,open:o,onOpenChange:p,modal:a,children:I.jsx(pR,{...u,dir:i,open:o,onOpenChange:p,modal:a,children:n})})};AR.displayName=lw;var kR="ContextMenuTrigger",IR=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,a=CR(kR,n),o=Fi(n),c=z.useRef({x:0,y:0}),u=z.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),f=z.useRef(0),p=z.useCallback(()=>window.clearTimeout(f.current),[]),h=m=>{c.current={x:m.clientX,y:m.clientY},a.onOpenChange(!0)};return z.useEffect(()=>p,[p]),z.useEffect(()=>void(r&&p()),[r,p]),I.jsxs(I.Fragment,{children:[I.jsx(mR,{...o,virtualRef:u}),I.jsx(yr.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Ht(t.onContextMenu,m=>{p(),h(m),m.preventDefault()}),onPointerDown:r?t.onPointerDown:Ht(t.onPointerDown,$y(m=>{p(),f.current=window.setTimeout(()=>h(m),700)})),onPointerMove:r?t.onPointerMove:Ht(t.onPointerMove,$y(p)),onPointerCancel:r?t.onPointerCancel:Ht(t.onPointerCancel,$y(p)),onPointerUp:r?t.onPointerUp:Ht(t.onPointerUp,$y(p))})]})});IR.displayName=kR;var Sse="ContextMenuPortal",XR=t=>{const{__scopeContextMenu:e,...n}=t,r=Fi(e);return I.jsx(gR,{...r,...n})};XR.displayName=Sse;var RR="ContextMenuContent",PR=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=CR(RR,n),a=Fi(n),o=z.useRef(!1);return I.jsx(yR,{...a,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),!c.defaultPrevented&&o.current&&c.preventDefault(),o.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),!c.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PR.displayName=RR;var bse="ContextMenuGroup",Yse=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(vR,{...i,...r,ref:e})});Yse.displayName=bse;var xse="ContextMenuLabel",MR=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(_R,{...i,...r,ref:e})});MR.displayName=xse;var Tse="ContextMenuItem",OR=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(SR,{...i,...r,ref:e})});OR.displayName=Tse;var wse="ContextMenuCheckboxItem",Wse=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(bR,{...i,...r,ref:e})});Wse.displayName=wse;var Ese="ContextMenuRadioGroup",Use=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(YR,{...i,...r,ref:e})});Use.displayName=Ese;var Cse="ContextMenuRadioItem",Ase=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(xR,{...i,...r,ref:e})});Ase.displayName=Cse;var kse="ContextMenuItemIndicator",Ise=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(TR,{...i,...r,ref:e})});Ise.displayName=kse;var Xse="ContextMenuSeparator",NR=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(wR,{...i,...r,ref:e})});NR.displayName=Xse;var Rse="ContextMenuArrow",Pse=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(WR,{...i,...r,ref:e})});Pse.displayName=Rse;var Mse="ContextMenuSubTrigger",Ose=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(ER,{...i,...r,ref:e})});Ose.displayName=Mse;var Nse="ContextMenuSubContent",Dse=z.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Fi(n);return I.jsx(UR,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dse.displayName=Nse;function $y(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var Bse=AR,Vse=IR,Fse=XR,Lse=PR,Zse=MR,zse=OR,$se=NR;function cw(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(Bse,{"data-slot":"context-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function uw(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(Vse,{"data-slot":"context-menu-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function fw(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-[var(--radix-context-menu-content-available-height)] min-w-[8rem] origin-[var(--radix-context-menu-content-transform-origin)] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(Fse,{children:I.jsx(Lse,{"data-slot":"context-menu-content",className:i,...r})}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function xa(t){const e=Tt.c(12);let n,r,i,a;e[0]!==t?({className:n,inset:r,variant:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"default":a;let c;e[5]!==n?(c=Jt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=c):c=e[6];let u;return e[7]!==r||e[8]!==i||e[9]!==c||e[10]!==o?(u=I.jsx(zse,{"data-slot":"context-menu-item","data-inset":r,"data-variant":o,className:c,...i}),e[7]=r,e[8]=i,e[9]=c,e[10]=o,e[11]=u):u=e[11],u}function DR(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({className:n,inset:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=Jt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==a?(o=I.jsx(Zse,{"data-slot":"context-menu-label","data-inset":r,className:a,...i}),e[6]=r,e[7]=i,e[8]=a,e[9]=o):o=e[9],o}function Mu(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx($se,{"data-slot":"context-menu-separator",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Kse(t){if(t.length===0)return"No files";if(t.length===1)return t[0].name;const e=t[0].name,n=t[t.length-1].name,r=e.replace(/\.[^.]+$/,""),i=n.replace(/\.[^.]+$/,""),a=jse(r,i);if(a.length>3){const o=r.slice(a.length),c=i.slice(a.length);if(o&&c)return`${a}${o}...${c} (${t.length})`}return`${e}...(${t.length})`}function jse(t,e){let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(0,n)}function Hse(t){return t.path||null}function Gse({channelId:t,children:e}){const n=Qt(yn(t)),r=Qt(Il),i=Qt(l6(t)),a=kn(n2),o=kn(OX),[c,u]=z.useState([]),[f,p]=z.useState(!1),h=async S=>{if(S&&n&&c.length===0&&!f){p(!0);try{const Y=await r.getFiles(n.fileHashes),T=Array.from(Y.values()).sort((A,P)=>A.name.localeCompare(P.name));u(T)}catch(Y){console.error("Failed to load files for channel:",Y)}finally{p(!1)}}};if(z.useEffect(()=>{u([])},[t]),!n)return I.jsx(I.Fragment,{children:e});const m=f?"Loading...":Kse(c),y=c.length>0?Hse(c[0]):null,_=()=>{if(c.length!==0)if(c.length>1){const S=c.map(Y=>Y.path||Y.name).join(";");navigator.clipboard.writeText(S)}else navigator.clipboard.writeText(c[0].path||c[0].name)},v=async()=>{if(!n)return;const S=[...n.fileHashes];n.metadataFileHashes&&S.push(...n.metadataFileHashes.values());for(const Y of S)await r.removeFile(Y);o(),QT(r,a,!1)};return I.jsxs(cw,{onOpenChange:h,children:[I.jsx(uw,{children:e}),I.jsxs(fw,{className:"w-64",children:[I.jsxs(DR,{children:["Channel: ",n.sourceType]}),I.jsx(Mu,{}),I.jsxs(xa,{disabled:!0,className:"flex items-start gap-2 opacity-100",children:[I.jsx(H5,{className:"w-4 h-4 mt-0.5 shrink-0"}),I.jsx("span",{className:"break-all text-xs",children:m})]}),y&&I.jsxs(xa,{disabled:!0,className:"flex items-start gap-2 opacity-70",children:[I.jsx("span",{className:"w-4"}),I.jsx("span",{className:"break-all text-xs text-muted-foreground",children:y})]}),!i&&I.jsxs(I.Fragment,{children:[I.jsx(Mu,{}),I.jsxs(xa,{disabled:!0,className:"flex items-center gap-2 text-destructive opacity-100",children:[I.jsx(G5,{className:"w-4 h-4"}),I.jsx("span",{children:"No location data"})]})]}),I.jsx(Mu,{}),I.jsxs(xa,{onClick:_,children:[I.jsx(Z7,{className:"w-4 h-4"}),I.jsx("span",{children:"Copy path"})]}),I.jsxs(xa,{onClick:v,className:"text-destructive focus:text-destructive",children:[I.jsx(jm,{className:"w-4 h-4"}),I.jsx("span",{children:"Remove channel"})]})]})]})}function dw(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(BA,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function qse(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(VA,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Qse(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(FA,{"data-slot":"dialog-overlay",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function hw(t){const e=Tt.c(19);let n,r,i,a,o;e[0]!==t?({className:r,children:n,showCloseButton:o,container:i,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o):(n=e[1],r=e[2],i=e[3],a=e[4],o=e[5]);const c=o===void 0?!0:o;let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=I.jsx(Qse,{}),e[6]=u):u=e[6];let f;e[7]!==r?(f=Jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[7]=r,e[8]=f):f=e[8];let p;e[9]!==c?(p=c&&I.jsxs($A,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[I.jsx(a1,{}),I.jsx("span",{className:"sr-only",children:"Close"})]}),e[9]=c,e[10]=p):p=e[10];let h;e[11]!==n||e[12]!==a||e[13]!==f||e[14]!==p?(h=I.jsxs(LA,{"data-slot":"dialog-content",className:f,...a,children:[n,p]}),e[11]=n,e[12]=a,e[13]=f,e[14]=p,e[15]=h):h=e[15];let m;return e[16]!==i||e[17]!==h?(m=I.jsxs(qse,{"data-slot":"dialog-portal",container:i,children:[u,h]}),e[16]=i,e[17]=h,e[18]=m):m=e[18],m}function pw(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"dialog-header",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function BR(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("div",{"data-slot":"dialog-footer",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function mw(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-lg leading-none font-semibold",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(ZA,{"data-slot":"dialog-title",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function gw(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-muted-foreground text-sm",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(zA,{"data-slot":"dialog-description",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function VR(t){const e=Tt.c(67),{editMode:n,onUpdate:r,onDelete:i,onCancel:a,container:o}=t,c=Qt(zs),u=kn(X9),f=kn(wu),[p,h]=z.useState(""),[m,y]=z.useState(""),_=c.mode==="dialog"&&c.pendingBbox!==null,v=n!==void 0,S=_||v;let Y,T;e[0]!==n?(Y=()=>{n?(h(n.name),y(n.description)):(h(""),y(""))},T=[n],e[0]=n,e[1]=Y,e[2]=T):(Y=e[1],T=e[2]),z.useEffect(Y,T);let A;e[3]!==u||e[4]!==m||e[5]!==n||e[6]!==v||e[7]!==p||e[8]!==r?(A=async ke=>{ke.preventDefault();const Ye=p.trim();Ye&&(v&&r&&n?r(n.id,Ye,m.trim()):await u(Ye,m.trim()),h(""),y(""))},e[3]=u,e[4]=m,e[5]=n,e[6]=v,e[7]=p,e[8]=r,e[9]=A):A=e[9];const P=A;let C;e[10]!==f||e[11]!==v||e[12]!==a?(C=()=>{v&&a?a():f(),h(""),y("")},e[10]=f,e[11]=v,e[12]=a,e[13]=C):C=e[13];const W=C;let w;e[14]!==n||e[15]!==v||e[16]!==i?(w=()=>{v&&i&&n&&i(n.id),h(""),y("")},e[14]=n,e[15]=v,e[16]=i,e[17]=w):w=e[17];const k=w;let M;e[18]!==W?(M=ke=>{ke||W()},e[18]=W,e[19]=M):M=e[19];const D=M;let B;e[20]!==P?(B=ke=>{ke.key==="Enter"&&!ke.shiftKey&&(ke.preventDefault(),P(ke))},e[20]=P,e[21]=B):B=e[21];const O=B,V=v?"Edit Bookmark":"New Bookmark";let X;e[22]!==V?(X=I.jsx(mw,{children:V}),e[22]=V,e[23]=X):X=e[23];const j=v?"Update the name and description for this bookmark.":"Give this bookmark a name and optional description.";let $;e[24]!==j?($=I.jsx(gw,{children:j}),e[24]=j,e[25]=$):$=e[25];let q;e[26]!==$||e[27]!==X?(q=I.jsxs(pw,{children:[X,$]}),e[26]=$,e[27]=X,e[28]=q):q=e[28];let G;e[29]===Symbol.for("react.memo_cache_sentinel")?(G=I.jsxs("label",{htmlFor:"bookmark-name",className:"text-sm font-medium",children:["Name ",I.jsx("span",{className:"text-destructive",children:"*"})]}),e[29]=G):G=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=ke=>h(ke.target.value),e[30]=Q):Q=e[30];let ue;e[31]!==O||e[32]!==p?(ue=I.jsxs("div",{className:"space-y-2",children:[G,I.jsx(cA,{id:"bookmark-name",placeholder:"e.g., Person, Vehicle, Building",value:p,onChange:Q,onKeyDown:O,autoFocus:!0})]}),e[31]=O,e[32]=p,e[33]=ue):ue=e[33];let K;e[34]===Symbol.for("react.memo_cache_sentinel")?(K=I.jsx("label",{htmlFor:"bookmark-description",className:"text-sm font-medium",children:"Description"}),e[34]=K):K=e[34];let ee;e[35]===Symbol.for("react.memo_cache_sentinel")?(ee=ke=>y(ke.target.value),e[35]=ee):ee=e[35];let fe;e[36]===Symbol.for("react.memo_cache_sentinel")?(fe=Jt("placeholder:text-muted-foreground border-input w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none resize-none","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","dark:bg-input/30"),e[36]=fe):fe=e[36];let te;e[37]!==m?(te=I.jsxs("div",{className:"space-y-2",children:[K,I.jsx("textarea",{id:"bookmark-description",placeholder:"Optional notes about this bookmark...",value:m,onChange:ee,rows:3,className:fe})]}),e[37]=m,e[38]=te):te=e[38];let ie;e[39]!==k||e[40]!==v||e[41]!==i?(ie=v&&i&&I.jsx(ts,{type:"button",variant:"destructive",onClick:k,className:"mr-auto",children:"Delete"}),e[39]=k,e[40]=v,e[41]=i,e[42]=ie):ie=e[42];let le;e[43]!==W?(le=I.jsx(ts,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),e[43]=W,e[44]=le):le=e[44];let he;e[45]!==p?(he=p.trim(),e[45]=p,e[46]=he):he=e[46];const me=!he,Se=v?"Update":"Create";let Je;e[47]!==me||e[48]!==Se?(Je=I.jsx(ts,{type:"submit",disabled:me,children:Se}),e[47]=me,e[48]=Se,e[49]=Je):Je=e[49];let $e;e[50]!==ie||e[51]!==le||e[52]!==Je?($e=I.jsxs(BR,{className:"gap-2 sm:gap-0",children:[ie,le,Je]}),e[50]=ie,e[51]=le,e[52]=Je,e[53]=$e):$e=e[53];let We;e[54]!==P||e[55]!==ue||e[56]!==te||e[57]!==$e?(We=I.jsxs("form",{onSubmit:P,className:"space-y-4",children:[ue,te,$e]}),e[54]=P,e[55]=ue,e[56]=te,e[57]=$e,e[58]=We):We=e[58];let Ze;e[59]!==o||e[60]!==q||e[61]!==We?(Ze=I.jsxs(hw,{className:"sm:max-w-md",container:o,children:[q,We]}),e[59]=o,e[60]=q,e[61]=We,e[62]=Ze):Ze=e[62];let F;return e[63]!==D||e[64]!==S||e[65]!==Ze?(F=I.jsx(dw,{open:S,onOpenChange:D,children:Ze}),e[63]=D,e[64]=S,e[65]=Ze,e[66]=F):F=e[66],F}var bY={exports:{}};var ZC;function Jse(){return ZC||(ZC=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function o(f,p){if(!i[f]){if(!r[f]){var h=typeof bg=="function"&&bg;if(!p&&h)return h(f,!0);if(c)return c(f,!0);var m=new Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m}var y=i[f]={exports:{}};r[f][0].call(y.exports,function(_){var v=r[f][1][_];return o(v||_)},y,y.exports,n,r,i,a)}return i[f].exports}for(var c=typeof bg=="function"&&bg,u=0;u<a.length;u++)o(a[u]);return o})({1:[function(n,r,i){var a=n("./utils"),o=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,p,h,m,y,_,v,S=[],Y=0,T=u.length,A=T,P=a.getTypeOf(u)!=="string";Y<u.length;)A=T-Y,h=P?(f=u[Y++],p=Y<T?u[Y++]:0,Y<T?u[Y++]:0):(f=u.charCodeAt(Y++),p=Y<T?u.charCodeAt(Y++):0,Y<T?u.charCodeAt(Y++):0),m=f>>2,y=(3&f)<<4|p>>4,_=1<A?(15&p)<<2|h>>6:64,v=2<A?63&h:64,S.push(c.charAt(m)+c.charAt(y)+c.charAt(_)+c.charAt(v));return S.join("")},i.decode=function(u){var f,p,h,m,y,_,v=0,S=0,Y="data:";if(u.substr(0,Y.length)===Y)throw new Error("Invalid base64 input, it looks like a data url.");var T,A=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&A--,u.charAt(u.length-2)===c.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=o.uint8array?new Uint8Array(0|A):new Array(0|A);v<u.length;)f=c.indexOf(u.charAt(v++))<<2|(m=c.indexOf(u.charAt(v++)))>>4,p=(15&m)<<4|(y=c.indexOf(u.charAt(v++)))>>2,h=(3&y)<<6|(_=c.indexOf(u.charAt(v++))),T[S++]=f,y!==64&&(T[S++]=p),_!==64&&(T[S++]=h);return T}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),o=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(p,h,m,y,_){this.compressedSize=p,this.uncompressedSize=h,this.crc32=m,this.compression=y,this.compressedContent=_}f.prototype={getContentWorker:function(){var p=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,h,m){return p.pipe(new c).pipe(new u("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),o=(function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u})();r.exports=function(c,u){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(f,p,h,m){var y=o,_=m+h;f^=-1;for(var v=m;v<_;v++)f=f>>>8^y[255&(f^p[v])];return-1^f})(0|u,c,c.length,0):(function(f,p,h,m){var y=o,_=m+h;f^=-1;for(var v=m;v<_;v++)f=f>>>8^y[255&(f^p.charCodeAt(v))];return-1^f})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),c=n("./utils"),u=n("./stream/GenericWorker"),f=a?"uint8array":"array";function p(h,m){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}i.magic="\b\0",c.inherits(p,u),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(f,h.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},i.compressWorker=function(h){return new p("Deflate",h)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(y,_){var v,S="";for(v=0;v<_;v++)S+=String.fromCharCode(255&y),y>>>=8;return S}function o(y,_,v,S,Y,T){var A,P,C=y.file,W=y.compression,w=T!==f.utf8encode,k=c.transformTo("string",T(C.name)),M=c.transformTo("string",f.utf8encode(C.name)),D=C.comment,B=c.transformTo("string",T(D)),O=c.transformTo("string",f.utf8encode(D)),V=M.length!==C.name.length,X=O.length!==D.length,j="",$="",q="",G=C.dir,Q=C.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};_&&!v||(ue.crc32=y.crc32,ue.compressedSize=y.compressedSize,ue.uncompressedSize=y.uncompressedSize);var K=0;_&&(K|=8),w||!V&&!X||(K|=2048);var ee=0,fe=0;G&&(ee|=16),Y==="UNIX"?(fe=798,ee|=(function(ie,le){var he=ie;return ie||(he=le?16893:33204),(65535&he)<<16})(C.unixPermissions,G)):(fe=20,ee|=(function(ie){return 63&(ie||0)})(C.dosPermissions)),A=Q.getUTCHours(),A<<=6,A|=Q.getUTCMinutes(),A<<=5,A|=Q.getUTCSeconds()/2,P=Q.getUTCFullYear()-1980,P<<=4,P|=Q.getUTCMonth()+1,P<<=5,P|=Q.getUTCDate(),V&&($=a(1,1)+a(p(k),4)+M,j+="up"+a($.length,2)+$),X&&(q=a(1,1)+a(p(B),4)+O,j+="uc"+a(q.length,2)+q);var te="";return te+=`
\0`,te+=a(K,2),te+=W.magic,te+=a(A,2),te+=a(P,2),te+=a(ue.crc32,4),te+=a(ue.compressedSize,4),te+=a(ue.uncompressedSize,4),te+=a(k.length,2),te+=a(j.length,2),{fileRecord:h.LOCAL_FILE_HEADER+te+k+j,dirRecord:h.CENTRAL_FILE_HEADER+a(fe,2)+te+a(B.length,2)+"\0\0\0\0"+a(ee,4)+a(S,4)+k+j+B}}var c=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),p=n("../crc32"),h=n("../signature");function m(y,_,v,S){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=v,this.encodeFileName=S,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(m,u),m.prototype.push=function(y){var _=y.meta.percent||0,v=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:v?(_+100*(v-S-1))/v:100}}))},m.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var v=o(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,v=o(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),_)this.push({data:(function(S){return h.DATA_DESCRIPTOR+a(S.crc32,4)+a(S.compressedSize,4)+a(S.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var v=this.bytesWritten-y,S=(function(Y,T,A,P,C){var W=c.transformTo("string",C(P));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(Y,2)+a(Y,2)+a(T,4)+a(A,4)+a(W.length,2)+W})(this.dirRecords.length,v,y,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(v){_.processChunk(v)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(v){_.error(v)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(y){var _=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var v=0;v<_.length;v++)try{_[v].error(y)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(c,u,f){var p=new o(u.streamFiles,f,u.platform,u.encodeFileName),h=0;try{c.forEach(function(m,y){h++;var _=(function(T,A){var P=T||A,C=a[P];if(!C)throw new Error(P+" is not a valid compression method !");return C})(y.options.compression,u.compression),v=y.options.compressionOptions||u.compressionOptions||{},S=y.dir,Y=y.date;y._compressWorker(_,v).withStreamInfo("file",{name:m,dir:S,date:Y,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(m){p.error(m)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,c){return new a().loadAsync(o,c)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),o=n("./external"),c=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function h(m){return new o.Promise(function(y,_){var v=m.decompressed.getContentWorker().pipe(new f);v.on("error",function(S){_(S)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(m,y){var _=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(v){var S=new u(y);return S.load(v),S}).then(function(v){var S=[o.Promise.resolve(v)],Y=v.files;if(y.checkCRC32)for(var T=0;T<Y.length;T++)S.push(h(Y[T]));return o.Promise.all(S)}).then(function(v){for(var S=v.shift(),Y=S.files,T=0;T<Y.length;T++){var A=Y[T],P=A.fileNameStr,C=a.resolve(A.fileNameStr);_.file(C,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:y.createFolders}),A.dir||(_.file(C).unsafeOriginalName=P)}return S.zipComment.length&&(_.comment=S.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),o=n("../stream/GenericWorker");function c(u,f){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(c,o),c.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function o(c,u,f){a.call(this,u),this._helper=c;var p=this;c.on("data",function(h,m){p.push(h)||p._helper.pause(),f&&f(m)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(C,W,w){var k,M=c.getTypeOf(W),D=c.extend(w||{},p);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(C=Y(C)),D.createFolders&&(k=S(C))&&T.call(this,k,!0);var B=M==="string"&&D.binary===!1&&D.base64===!1;w&&w.binary!==void 0||(D.binary=!B),(W instanceof h&&W.uncompressedSize===0||D.dir||!W||W.length===0)&&(D.base64=!1,D.binary=!0,W="",D.compression="STORE",M="string");var O=null;O=W instanceof h||W instanceof u?W:_.isNode&&_.isStream(W)?new v(C,W):c.prepareContent(C,W,D.binary,D.optimizedBinaryString,D.base64);var V=new m(C,O,D);this.files[C]=V}var o=n("./utf8"),c=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),p=n("./defaults"),h=n("./compressedObject"),m=n("./zipObject"),y=n("./generate"),_=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),S=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var W=C.lastIndexOf("/");return 0<W?C.substring(0,W):""},Y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},T=function(C,W){return W=W!==void 0?W:p.createFolders,C=Y(C),this.files[C]||a.call(this,C,null,{dir:!0,createFolders:W}),this.files[C]};function A(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var W,w,k;for(W in this.files)k=this.files[W],(w=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&C(w,k)},filter:function(C){var W=[];return this.forEach(function(w,k){C(w,k)&&W.push(k)}),W},file:function(C,W,w){if(arguments.length!==1)return C=this.root+C,a.call(this,C,W,w),this;if(A(C)){var k=C;return this.filter(function(D,B){return!B.dir&&k.test(D)})}var M=this.files[this.root+C];return M&&!M.dir?M:null},folder:function(C){if(!C)return this;if(A(C))return this.filter(function(M,D){return D.dir&&C.test(M)});var W=this.root+C,w=T.call(this,W),k=this.clone();return k.root=w.name,k},remove:function(C){C=this.root+C;var W=this.files[C];if(W||(C.slice(-1)!=="/"&&(C+="/"),W=this.files[C]),W&&!W.dir)delete this.files[C];else for(var w=this.filter(function(M,D){return D.name.slice(0,C.length)===C}),k=0;k<w.length;k++)delete this.files[w[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var W,w={};try{if((w=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");c.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var k=w.comment||this.comment||"";W=y.generateWorker(this,w,k)}catch(M){(W=new u("error")).error(M)}return new f(W,w.type||"string",w.mimeType)},generateAsync:function(C,W){return this.generateInternalStream(C).accumulate(W)},generateNodeStream:function(C,W){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(W)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function o(c){a.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}n("../utils").inherits(o,a),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),f=c.charCodeAt(1),p=c.charCodeAt(2),h=c.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===f&&this.data[m+2]===p&&this.data[m+3]===h)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),f=c.charCodeAt(1),p=c.charCodeAt(2),h=c.charCodeAt(3),m=this.readData(4);return u===m[0]&&f===m[1]&&p===m[2]&&h===m[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,f=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=c,f},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),o=n("../support"),c=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(h){var m=a.getTypeOf(h);return a.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new f(h):o.uint8array?new p(a.transformTo("uint8array",h)):new c(a.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),o=n("../utils");function c(u){a.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(c,a),c.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),o=n("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,a),c.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function c(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(c,o),c.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function c(u){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=a.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}a.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(u){c.processChunk(u)}),o.on("end",function(){c.end()}),o.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),o=n("./ConvertWorker"),c=n("./GenericWorker"),u=n("../base64"),f=n("../support"),p=n("../external"),h=null;if(f.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(_,v){return new p.Promise(function(S,Y){var T=[],A=_._internalType,P=_._outputType,C=_._mimeType;_.on("data",function(W,w){T.push(W),v&&v(w)}).on("error",function(W){T=[],Y(W)}).on("end",function(){try{var W=(function(w,k,M){switch(w){case"blob":return a.newBlob(a.transformTo("arraybuffer",k),M);case"base64":return u.encode(k);default:return a.transformTo(w,k)}})(P,(function(w,k){var M,D=0,B=null,O=0;for(M=0;M<k.length;M++)O+=k[M].length;switch(w){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(B=new Uint8Array(O),M=0;M<k.length;M++)B.set(k[M],D),D+=k[M].length;return B;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+w+"'")}})(A,T),C);S(W)}catch(w){Y(w)}T=[]}).resume()})}function y(_,v,S){var Y=v;switch(v){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string"}try{this._internalType=Y,this._outputType=v,this._mimeType=S,a.checkSupport(Y),this._worker=_.pipe(new o(Y)),_.lock()}catch(T){this._worker=new c("error"),this._worker.error(T)}}y.prototype={accumulate:function(_){return m(this,_)},on:function(_,v){var S=this;return _==="data"?this._worker.on(_,function(Y){v.call(S,Y.data,Y.meta)}):this._worker.on(_,function(){a.delay(v,arguments,S)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),o=n("./support"),c=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return o.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(_){var v,S,Y,T,A,P=_.length,C=0;for(T=0;T<P;T++)(64512&(S=_.charCodeAt(T)))==55296&&T+1<P&&(64512&(Y=_.charCodeAt(T+1)))==56320&&(S=65536+(S-55296<<10)+(Y-56320),T++),C+=S<128?1:S<2048?2:S<65536?3:4;for(v=o.uint8array?new Uint8Array(C):new Array(C),T=A=0;A<C;T++)(64512&(S=_.charCodeAt(T)))==55296&&T+1<P&&(64512&(Y=_.charCodeAt(T+1)))==56320&&(S=65536+(S-55296<<10)+(Y-56320),T++),S<128?v[A++]=S:(S<2048?v[A++]=192|S>>>6:(S<65536?v[A++]=224|S>>>12:(v[A++]=240|S>>>18,v[A++]=128|S>>>12&63),v[A++]=128|S>>>6&63),v[A++]=128|63&S);return v})(y)},i.utf8decode=function(y){return o.nodebuffer?a.transformTo("nodebuffer",y).toString("utf-8"):(function(_){var v,S,Y,T,A=_.length,P=new Array(2*A);for(v=S=0;v<A;)if((Y=_[v++])<128)P[S++]=Y;else if(4<(T=f[Y]))P[S++]=65533,v+=T-1;else{for(Y&=T===2?31:T===3?15:7;1<T&&v<A;)Y=Y<<6|63&_[v++],T--;1<T?P[S++]=65533:Y<65536?P[S++]=Y:(Y-=65536,P[S++]=55296|Y>>10&1023,P[S++]=56320|1023&Y)}return P.length!==S&&(P.subarray?P=P.subarray(0,S):P.length=S),a.applyFromCharCode(P)})(y=a.transformTo(o.uint8array?"uint8array":"array",y))},a.inherits(h,u),h.prototype.processChunk=function(y){var _=a.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=_;(_=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),_.set(v,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var S=(function(T,A){var P;for((A=A||T.length)>T.length&&(A=T.length),P=A-1;0<=P&&(192&T[P])==128;)P--;return P<0||P===0?A:P+f[T[P]]>A?P:A})(_),Y=_;S!==_.length&&(o.uint8array?(Y=_.subarray(0,S),this.leftOver=_.subarray(S,_.length)):(Y=_.slice(0,S),this.leftOver=_.slice(S,_.length))),this.push({data:i.utf8decode(Y),meta:y.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(m,u),m.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),o=n("./base64"),c=n("./nodejsUtils"),u=n("./external");function f(v){return v}function p(v,S){for(var Y=0;Y<v.length;++Y)S[Y]=255&v.charCodeAt(Y);return S}n("setimmediate"),i.newBlob=function(v,S){i.checkSupport("blob");try{return new Blob([v],{type:S})}catch{try{var Y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Y.append(v),Y.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,S,Y){var T=[],A=0,P=v.length;if(P<=Y)return String.fromCharCode.apply(null,v);for(;A<P;)S==="array"||S==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+Y,P)))):T.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+Y,P)))),A+=Y;return T.join("")},stringifyByChar:function(v){for(var S="",Y=0;Y<v.length;Y++)S+=String.fromCharCode(v[Y]);return S},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var S=65536,Y=i.getTypeOf(v),T=!0;if(Y==="uint8array"?T=h.applyCanBeUsed.uint8array:Y==="nodebuffer"&&(T=h.applyCanBeUsed.nodebuffer),T)for(;1<S;)try{return h.stringifyByChunk(v,Y,S)}catch{S=Math.floor(S/2)}return h.stringifyByChar(v)}function y(v,S){for(var Y=0;Y<v.length;Y++)S[Y]=v[Y];return S}i.applyFromCharCode=m;var _={};_.string={string:f,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return _.string.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:function(v){return p(v,c.allocBuffer(v.length))}},_.array={string:m,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},_.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return y(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},_.uint8array={string:m,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return c.newBufferFrom(v)}},_.nodebuffer={string:m,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return _.nodebuffer.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:f},i.transformTo=function(v,S){if(S=S||"",!v)return S;i.checkSupport(v);var Y=i.getTypeOf(S);return _[Y][v](S)},i.resolve=function(v){for(var S=v.split("/"),Y=[],T=0;T<S.length;T++){var A=S[T];A==="."||A===""&&T!==0&&T!==S.length-1||(A===".."?Y.pop():Y.push(A))}return Y.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var S,Y,T="";for(Y=0;Y<(v||"").length;Y++)T+="\\x"+((S=v.charCodeAt(Y))<16?"0":"")+S.toString(16).toUpperCase();return T},i.delay=function(v,S,Y){setImmediate(function(){v.apply(Y||null,S||[])})},i.inherits=function(v,S){function Y(){}Y.prototype=S.prototype,v.prototype=new Y},i.extend=function(){var v,S,Y={};for(v=0;v<arguments.length;v++)for(S in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],S)&&Y[S]===void 0&&(Y[S]=arguments[v][S]);return Y},i.prepareContent=function(v,S,Y,T,A){return u.Promise.resolve(S).then(function(P){return a.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new u.Promise(function(C,W){var w=new FileReader;w.onload=function(k){C(k.target.result)},w.onerror=function(k){W(k.target.error)},w.readAsArrayBuffer(P)}):P}).then(function(P){var C=i.getTypeOf(P);return C?(C==="arraybuffer"?P=i.transformTo("uint8array",P):C==="string"&&(A?P=o.decode(P):Y&&T!==!0&&(P=(function(W){return p(W,a.uint8array?new Uint8Array(W.length):new Array(W.length))})(P))),P):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),c=n("./signature"),u=n("./zipEntry"),f=n("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(h)+")")}},isSignature:function(h,m){var y=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===m;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=f.uint8array?"uint8array":"array",y=o.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,y,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=m-y;if(0<_)this.isSignature(m,c.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),c=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),p=n("./compressions"),h=n("./support");function m(y,_){this.options=y,this.loadOptions=_}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,v;if(y.skip(22),this.fileNameLength=y.readInt(2),v=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=(function(S){for(var Y in p)if(Object.prototype.hasOwnProperty.call(p,Y)&&p[Y].magic===S)return p[Y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,v,S,Y=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<Y;)_=y.readInt(2),v=y.readInt(2),S=y.readData(v),this.extraFields[_]={id:_,length:v,value:S};y.setIndex(Y)},handleUTF8:function(){var y=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var v=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var Y=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Y)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=a(y.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:f.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=a(y.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:f.utf8decode(_.readData(y.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(_,v,S){this.name=_,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=v,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),p=n("./stream/GenericWorker");a.prototype={internalStream:function(_){var v=null,S="string";try{if(!_)throw new Error("No output type specified.");var Y=(S=_.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!Y&&(v=v.pipe(new u.Utf8EncodeWorker)),!T&&Y&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(A){(v=new p("error")).error(A)}return new o(v,S,"")},async:function(_,v){return this.internalStream(_).accumulate(v)},nodeStream:function(_,v){return this.internalStream(_||"nodebuffer").toNodejsStream(v)},_compressWorker:function(_,v){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(S,_,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<h.length;y++)a.prototype[h[y]]=m;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var o,c,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var f=0,p=new u(_),h=a.document.createTextNode("");p.observe(h,{characterData:!0}),o=function(){h.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){_(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(_,0)};else{var m=new a.MessageChannel;m.port1.onmessage=_,o=function(){m.port2.postMessage(0)}}var y=[];function _(){var v,S;c=!0;for(var Y=y.length;Y;){for(S=y,y=[],v=-1;++v<Y;)S[v]();Y=y.length}c=!1}r.exports=function(v){y.push(v)!==1||c||o()}}).call(this,typeof vg<"u"?vg:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function o(){}var c={},u=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function h(Y){if(typeof Y!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,Y!==o&&v(this,Y)}function m(Y,T,A){this.promise=Y,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function y(Y,T,A){a(function(){var P;try{P=T(A)}catch(C){return c.reject(Y,C)}P===Y?c.reject(Y,new TypeError("Cannot resolve promise with itself")):c.resolve(Y,P)})}function _(Y){var T=Y&&Y.then;if(Y&&(typeof Y=="object"||typeof Y=="function")&&typeof T=="function")return function(){T.apply(Y,arguments)}}function v(Y,T){var A=!1;function P(w){A||(A=!0,c.reject(Y,w))}function C(w){A||(A=!0,c.resolve(Y,w))}var W=S(function(){T(C,P)});W.status==="error"&&P(W.value)}function S(Y,T){var A={};try{A.value=Y(T),A.status="success"}catch(P){A.status="error",A.value=P}return A}(r.exports=h).prototype.finally=function(Y){if(typeof Y!="function")return this;var T=this.constructor;return this.then(function(A){return T.resolve(Y()).then(function(){return A})},function(A){return T.resolve(Y()).then(function(){throw A})})},h.prototype.catch=function(Y){return this.then(null,Y)},h.prototype.then=function(Y,T){if(typeof Y!="function"&&this.state===f||typeof T!="function"&&this.state===u)return this;var A=new this.constructor(o);return this.state!==p?y(A,this.state===f?Y:T,this.outcome):this.queue.push(new m(A,Y,T)),A},m.prototype.callFulfilled=function(Y){c.resolve(this.promise,Y)},m.prototype.otherCallFulfilled=function(Y){y(this.promise,this.onFulfilled,Y)},m.prototype.callRejected=function(Y){c.reject(this.promise,Y)},m.prototype.otherCallRejected=function(Y){y(this.promise,this.onRejected,Y)},c.resolve=function(Y,T){var A=S(_,T);if(A.status==="error")return c.reject(Y,A.value);var P=A.value;if(P)v(Y,P);else{Y.state=f,Y.outcome=T;for(var C=-1,W=Y.queue.length;++C<W;)Y.queue[C].callFulfilled(T)}return Y},c.reject=function(Y,T){Y.state=u,Y.outcome=T;for(var A=-1,P=Y.queue.length;++A<P;)Y.queue[A].callRejected(T);return Y},h.resolve=function(Y){return Y instanceof this?Y:c.resolve(new this(o),Y)},h.reject=function(Y){var T=new this(o);return c.reject(T,Y)},h.all=function(Y){var T=this;if(Object.prototype.toString.call(Y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=Y.length,P=!1;if(!A)return this.resolve([]);for(var C=new Array(A),W=0,w=-1,k=new this(o);++w<A;)M(Y[w],w);return k;function M(D,B){T.resolve(D).then(function(O){C[B]=O,++W!==A||P||(P=!0,c.resolve(k,C))},function(O){P||(P=!0,c.reject(k,O))})}},h.race=function(Y){var T=this;if(Object.prototype.toString.call(Y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=Y.length,P=!1;if(!A)return this.resolve([]);for(var C=-1,W=new this(o);++C<A;)w=Y[C],T.resolve(w).then(function(k){P||(P=!0,c.resolve(W,k))},function(k){P||(P=!0,c.reject(W,k))});var w;return W}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),o=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),p=Object.prototype.toString,h=0,m=-1,y=0,_=8;function v(Y){if(!(this instanceof v))return new v(Y);this.options=o.assign({level:m,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},Y||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var A=a.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(A!==h)throw new Error(u[A]);if(T.header&&a.deflateSetHeader(this.strm,T.header),T.dictionary){var P;if(P=typeof T.dictionary=="string"?c.string2buf(T.dictionary):p.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(A=a.deflateSetDictionary(this.strm,P))!==h)throw new Error(u[A]);this._dict_set=!0}}function S(Y,T){var A=new v(T);if(A.push(Y,!0),A.err)throw A.msg||u[A.err];return A.result}v.prototype.push=function(Y,T){var A,P,C=this.strm,W=this.options.chunkSize;if(this.ended)return!1;P=T===~~T?T:T===!0?4:0,typeof Y=="string"?C.input=c.string2buf(Y):p.call(Y)==="[object ArrayBuffer]"?C.input=new Uint8Array(Y):C.input=Y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(W),C.next_out=0,C.avail_out=W),(A=a.deflate(C,P))!==1&&A!==h)return this.onEnd(A),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&A!==1);return P===4?(A=a.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===h):P!==2||(this.onEnd(h),!(C.avail_out=0))},v.prototype.onData=function(Y){this.chunks.push(Y)},v.prototype.onEnd=function(Y){Y===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=Y,this.msg=this.strm.msg},i.Deflate=v,i.deflate=S,i.deflateRaw=function(Y,T){return(T=T||{}).raw=!0,S(Y,T)},i.gzip=function(Y,T){return(T=T||{}).gzip=!0,S(Y,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),o=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),p=n("./zlib/zstream"),h=n("./zlib/gzheader"),m=Object.prototype.toString;function y(v){if(!(this instanceof y))return new y(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||v&&v.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var Y=a.inflateInit2(this.strm,S.windowBits);if(Y!==u.Z_OK)throw new Error(f[Y]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function _(v,S){var Y=new y(S);if(Y.push(v,!0),Y.err)throw Y.msg||f[Y.err];return Y.result}y.prototype.push=function(v,S){var Y,T,A,P,C,W,w=this.strm,k=this.options.chunkSize,M=this.options.dictionary,D=!1;if(this.ended)return!1;T=S===~~S?S:S===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?w.input=c.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(k),w.next_out=0,w.avail_out=k),(Y=a.inflate(w,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&M&&(W=typeof M=="string"?c.string2buf(M):m.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,Y=a.inflateSetDictionary(this.strm,W)),Y===u.Z_BUF_ERROR&&D===!0&&(Y=u.Z_OK,D=!1),Y!==u.Z_STREAM_END&&Y!==u.Z_OK)return this.onEnd(Y),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&Y!==u.Z_STREAM_END&&(w.avail_in!==0||T!==u.Z_FINISH&&T!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=c.utf8border(w.output,w.next_out),P=w.next_out-A,C=c.buf2string(w.output,A),w.next_out=P,w.avail_out=k-P,P&&o.arraySet(w.output,w.output,A,P,0),this.onData(C)):this.onData(o.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(D=!0)}while((0<w.avail_in||w.avail_out===0)&&Y!==u.Z_STREAM_END);return Y===u.Z_STREAM_END&&(T=u.Z_FINISH),T===u.Z_FINISH?(Y=a.inflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===u.Z_OK):T!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(w.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=y,i.inflate=_,i.inflateRaw=function(v,S){return(S=S||{}).raw=!0,_(v,S)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var o={arraySet:function(u,f,p,h,m){if(f.subarray&&u.subarray)u.set(f.subarray(p,p+h),m);else for(var y=0;y<h;y++)u[m+y]=f[p+y]},flattenChunks:function(u){var f,p,h,m,y,_;for(f=h=0,p=u.length;f<p;f++)h+=u[f].length;for(_=new Uint8Array(h),f=m=0,p=u.length;f<p;f++)y=u[f],_.set(y,m),m+=y.length;return _}},c={arraySet:function(u,f,p,h,m){for(var y=0;y<h;y++)u[m+y]=f[p+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new a.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(h,m){if(m<65537&&(h.subarray&&c||!h.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(h,m));for(var y="",_=0;_<m;_++)y+=String.fromCharCode(h[_]);return y}u[254]=u[254]=1,i.string2buf=function(h){var m,y,_,v,S,Y=h.length,T=0;for(v=0;v<Y;v++)(64512&(y=h.charCodeAt(v)))==55296&&v+1<Y&&(64512&(_=h.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),T+=y<128?1:y<2048?2:y<65536?3:4;for(m=new a.Buf8(T),v=S=0;S<T;v++)(64512&(y=h.charCodeAt(v)))==55296&&v+1<Y&&(64512&(_=h.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),y<128?m[S++]=y:(y<2048?m[S++]=192|y>>>6:(y<65536?m[S++]=224|y>>>12:(m[S++]=240|y>>>18,m[S++]=128|y>>>12&63),m[S++]=128|y>>>6&63),m[S++]=128|63&y);return m},i.buf2binstring=function(h){return p(h,h.length)},i.binstring2buf=function(h){for(var m=new a.Buf8(h.length),y=0,_=m.length;y<_;y++)m[y]=h.charCodeAt(y);return m},i.buf2string=function(h,m){var y,_,v,S,Y=m||h.length,T=new Array(2*Y);for(y=_=0;y<Y;)if((v=h[y++])<128)T[_++]=v;else if(4<(S=u[v]))T[_++]=65533,y+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&y<Y;)v=v<<6|63&h[y++],S--;1<S?T[_++]=65533:v<65536?T[_++]=v:(v-=65536,T[_++]=55296|v>>10&1023,T[_++]=56320|1023&v)}return p(T,_)},i.utf8border=function(h,m){var y;for((m=m||h.length)>h.length&&(m=h.length),y=m-1;0<=y&&(192&h[y])==128;)y--;return y<0||y===0?m:y+u[h[y]]>m?y:m}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,o,c,u){for(var f=65535&a|0,p=a>>>16&65535|0,h=0;c!==0;){for(c-=h=2e3<c?2e3:c;p=p+(f=f+o[u++]|0)|0,--h;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c})();r.exports=function(o,c,u,f){var p=a,h=f+u;o^=-1;for(var m=f;m<h;m++)o=o>>>8^p[255&(o^c[m])];return-1^o}},{}],46:[function(n,r,i){var a,o=n("../utils/common"),c=n("./trees"),u=n("./adler32"),f=n("./crc32"),p=n("./messages"),h=0,m=4,y=0,_=-2,v=-1,S=4,Y=2,T=8,A=9,P=286,C=30,W=19,w=2*P+1,k=15,M=3,D=258,B=D+M+1,O=42,V=113,X=1,j=2,$=3,q=4;function G(F,ke){return F.msg=p[ke],ke}function Q(F){return(F<<1)-(4<F?9:0)}function ue(F){for(var ke=F.length;0<=--ke;)F[ke]=0}function K(F){var ke=F.state,Ye=ke.pending;Ye>F.avail_out&&(Ye=F.avail_out),Ye!==0&&(o.arraySet(F.output,ke.pending_buf,ke.pending_out,Ye,F.next_out),F.next_out+=Ye,ke.pending_out+=Ye,F.total_out+=Ye,F.avail_out-=Ye,ke.pending-=Ye,ke.pending===0&&(ke.pending_out=0))}function ee(F,ke){c._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,ke),F.block_start=F.strstart,K(F.strm)}function fe(F,ke){F.pending_buf[F.pending++]=ke}function te(F,ke){F.pending_buf[F.pending++]=ke>>>8&255,F.pending_buf[F.pending++]=255&ke}function ie(F,ke){var Ye,ce,se=F.max_chain_length,pe=F.strstart,Me=F.prev_length,Ae=F.nice_match,ge=F.strstart>F.w_size-B?F.strstart-(F.w_size-B):0,we=F.window,et=F.w_mask,Le=F.prev,nt=F.strstart+D,Mt=we[pe+Me-1],ht=we[pe+Me];F.prev_length>=F.good_match&&(se>>=2),Ae>F.lookahead&&(Ae=F.lookahead);do if(we[(Ye=ke)+Me]===ht&&we[Ye+Me-1]===Mt&&we[Ye]===we[pe]&&we[++Ye]===we[pe+1]){pe+=2,Ye++;do;while(we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&we[++pe]===we[++Ye]&&pe<nt);if(ce=D-(nt-pe),pe=nt-D,Me<ce){if(F.match_start=ke,Ae<=(Me=ce))break;Mt=we[pe+Me-1],ht=we[pe+Me]}}while((ke=Le[ke&et])>ge&&--se!=0);return Me<=F.lookahead?Me:F.lookahead}function le(F){var ke,Ye,ce,se,pe,Me,Ae,ge,we,et,Le=F.w_size;do{if(se=F.window_size-F.lookahead-F.strstart,F.strstart>=Le+(Le-B)){for(o.arraySet(F.window,F.window,Le,Le,0),F.match_start-=Le,F.strstart-=Le,F.block_start-=Le,ke=Ye=F.hash_size;ce=F.head[--ke],F.head[ke]=Le<=ce?ce-Le:0,--Ye;);for(ke=Ye=Le;ce=F.prev[--ke],F.prev[ke]=Le<=ce?ce-Le:0,--Ye;);se+=Le}if(F.strm.avail_in===0)break;if(Me=F.strm,Ae=F.window,ge=F.strstart+F.lookahead,we=se,et=void 0,et=Me.avail_in,we<et&&(et=we),Ye=et===0?0:(Me.avail_in-=et,o.arraySet(Ae,Me.input,Me.next_in,et,ge),Me.state.wrap===1?Me.adler=u(Me.adler,Ae,et,ge):Me.state.wrap===2&&(Me.adler=f(Me.adler,Ae,et,ge)),Me.next_in+=et,Me.total_in+=et,et),F.lookahead+=Ye,F.lookahead+F.insert>=M)for(pe=F.strstart-F.insert,F.ins_h=F.window[pe],F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+M-1])&F.hash_mask,F.prev[pe&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=pe,pe++,F.insert--,!(F.lookahead+F.insert<M)););}while(F.lookahead<B&&F.strm.avail_in!==0)}function he(F,ke){for(var Ye,ce;;){if(F.lookahead<B){if(le(F),F.lookahead<B&&ke===h)return X;if(F.lookahead===0)break}if(Ye=0,F.lookahead>=M&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+M-1])&F.hash_mask,Ye=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),Ye!==0&&F.strstart-Ye<=F.w_size-B&&(F.match_length=ie(F,Ye)),F.match_length>=M)if(ce=c._tr_tally(F,F.strstart-F.match_start,F.match_length-M),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=M){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+M-1])&F.hash_mask,Ye=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else ce=c._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(ce&&(ee(F,!1),F.strm.avail_out===0))return X}return F.insert=F.strstart<M-1?F.strstart:M-1,ke===m?(ee(F,!0),F.strm.avail_out===0?$:q):F.last_lit&&(ee(F,!1),F.strm.avail_out===0)?X:j}function me(F,ke){for(var Ye,ce,se;;){if(F.lookahead<B){if(le(F),F.lookahead<B&&ke===h)return X;if(F.lookahead===0)break}if(Ye=0,F.lookahead>=M&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+M-1])&F.hash_mask,Ye=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=M-1,Ye!==0&&F.prev_length<F.max_lazy_match&&F.strstart-Ye<=F.w_size-B&&(F.match_length=ie(F,Ye),F.match_length<=5&&(F.strategy===1||F.match_length===M&&4096<F.strstart-F.match_start)&&(F.match_length=M-1)),F.prev_length>=M&&F.match_length<=F.prev_length){for(se=F.strstart+F.lookahead-M,ce=c._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-M),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=se&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+M-1])&F.hash_mask,Ye=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=M-1,F.strstart++,ce&&(ee(F,!1),F.strm.avail_out===0))return X}else if(F.match_available){if((ce=c._tr_tally(F,0,F.window[F.strstart-1]))&&ee(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return X}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(ce=c._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<M-1?F.strstart:M-1,ke===m?(ee(F,!0),F.strm.avail_out===0?$:q):F.last_lit&&(ee(F,!1),F.strm.avail_out===0)?X:j}function Se(F,ke,Ye,ce,se){this.good_length=F,this.max_lazy=ke,this.nice_length=Ye,this.max_chain=ce,this.func=se}function Je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*w),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*W+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*P+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*P+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $e(F){var ke;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=Y,(ke=F.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?O:V,F.adler=ke.wrap===2?0:1,ke.last_flush=h,c._tr_init(ke),y):G(F,_)}function We(F){var ke=$e(F);return ke===y&&(function(Ye){Ye.window_size=2*Ye.w_size,ue(Ye.head),Ye.max_lazy_match=a[Ye.level].max_lazy,Ye.good_match=a[Ye.level].good_length,Ye.nice_match=a[Ye.level].nice_length,Ye.max_chain_length=a[Ye.level].max_chain,Ye.strstart=0,Ye.block_start=0,Ye.lookahead=0,Ye.insert=0,Ye.match_length=Ye.prev_length=M-1,Ye.match_available=0,Ye.ins_h=0})(F.state),ke}function Ze(F,ke,Ye,ce,se,pe){if(!F)return _;var Me=1;if(ke===v&&(ke=6),ce<0?(Me=0,ce=-ce):15<ce&&(Me=2,ce-=16),se<1||A<se||Ye!==T||ce<8||15<ce||ke<0||9<ke||pe<0||S<pe)return G(F,_);ce===8&&(ce=9);var Ae=new Je;return(F.state=Ae).strm=F,Ae.wrap=Me,Ae.gzhead=null,Ae.w_bits=ce,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=se+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+M-1)/M),Ae.window=new o.Buf8(2*Ae.w_size),Ae.head=new o.Buf16(Ae.hash_size),Ae.prev=new o.Buf16(Ae.w_size),Ae.lit_bufsize=1<<se+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new o.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=ke,Ae.strategy=pe,Ae.method=Ye,We(F)}a=[new Se(0,0,0,0,function(F,ke){var Ye=65535;for(Ye>F.pending_buf_size-5&&(Ye=F.pending_buf_size-5);;){if(F.lookahead<=1){if(le(F),F.lookahead===0&&ke===h)return X;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var ce=F.block_start+Ye;if((F.strstart===0||F.strstart>=ce)&&(F.lookahead=F.strstart-ce,F.strstart=ce,ee(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-B&&(ee(F,!1),F.strm.avail_out===0))return X}return F.insert=0,ke===m?(ee(F,!0),F.strm.avail_out===0?$:q):(F.strstart>F.block_start&&(ee(F,!1),F.strm.avail_out),X)}),new Se(4,4,8,4,he),new Se(4,5,16,8,he),new Se(4,6,32,32,he),new Se(4,4,16,16,me),new Se(8,16,32,32,me),new Se(8,16,128,128,me),new Se(8,32,128,256,me),new Se(32,128,258,1024,me),new Se(32,258,258,4096,me)],i.deflateInit=function(F,ke){return Ze(F,ke,T,15,8,0)},i.deflateInit2=Ze,i.deflateReset=We,i.deflateResetKeep=$e,i.deflateSetHeader=function(F,ke){return F&&F.state?F.state.wrap!==2?_:(F.state.gzhead=ke,y):_},i.deflate=function(F,ke){var Ye,ce,se,pe;if(!F||!F.state||5<ke||ke<0)return F?G(F,_):_;if(ce=F.state,!F.output||!F.input&&F.avail_in!==0||ce.status===666&&ke!==m)return G(F,F.avail_out===0?-5:_);if(ce.strm=F,Ye=ce.last_flush,ce.last_flush=ke,ce.status===O)if(ce.wrap===2)F.adler=0,fe(ce,31),fe(ce,139),fe(ce,8),ce.gzhead?(fe(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),fe(ce,255&ce.gzhead.time),fe(ce,ce.gzhead.time>>8&255),fe(ce,ce.gzhead.time>>16&255),fe(ce,ce.gzhead.time>>24&255),fe(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),fe(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(fe(ce,255&ce.gzhead.extra.length),fe(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(F.adler=f(F.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,0),fe(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),fe(ce,3),ce.status=V);else{var Me=T+(ce.w_bits-8<<4)<<8;Me|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(Me|=32),Me+=31-Me%31,ce.status=V,te(ce,Me),ce.strstart!==0&&(te(ce,F.adler>>>16),te(ce,65535&F.adler)),F.adler=1}if(ce.status===69)if(ce.gzhead.extra){for(se=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),K(F),se=ce.pending,ce.pending!==ce.pending_buf_size));)fe(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(ce.status===73)if(ce.gzhead.name){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),K(F),se=ce.pending,ce.pending===ce.pending_buf_size)){pe=1;break}pe=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,fe(ce,pe)}while(pe!==0);ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),pe===0&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(ce.status===91)if(ce.gzhead.comment){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),K(F),se=ce.pending,ce.pending===ce.pending_buf_size)){pe=1;break}pe=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,fe(ce,pe)}while(pe!==0);ce.gzhead.hcrc&&ce.pending>se&&(F.adler=f(F.adler,ce.pending_buf,ce.pending-se,se)),pe===0&&(ce.status=103)}else ce.status=103;if(ce.status===103&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&K(F),ce.pending+2<=ce.pending_buf_size&&(fe(ce,255&F.adler),fe(ce,F.adler>>8&255),F.adler=0,ce.status=V)):ce.status=V),ce.pending!==0){if(K(F),F.avail_out===0)return ce.last_flush=-1,y}else if(F.avail_in===0&&Q(ke)<=Q(Ye)&&ke!==m)return G(F,-5);if(ce.status===666&&F.avail_in!==0)return G(F,-5);if(F.avail_in!==0||ce.lookahead!==0||ke!==h&&ce.status!==666){var Ae=ce.strategy===2?(function(ge,we){for(var et;;){if(ge.lookahead===0&&(le(ge),ge.lookahead===0)){if(we===h)return X;break}if(ge.match_length=0,et=c._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,et&&(ee(ge,!1),ge.strm.avail_out===0))return X}return ge.insert=0,we===m?(ee(ge,!0),ge.strm.avail_out===0?$:q):ge.last_lit&&(ee(ge,!1),ge.strm.avail_out===0)?X:j})(ce,ke):ce.strategy===3?(function(ge,we){for(var et,Le,nt,Mt,ht=ge.window;;){if(ge.lookahead<=D){if(le(ge),ge.lookahead<=D&&we===h)return X;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=M&&0<ge.strstart&&(Le=ht[nt=ge.strstart-1])===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]){Mt=ge.strstart+D;do;while(Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&Le===ht[++nt]&&nt<Mt);ge.match_length=D-(Mt-nt),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=M?(et=c._tr_tally(ge,1,ge.match_length-M),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(et=c._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),et&&(ee(ge,!1),ge.strm.avail_out===0))return X}return ge.insert=0,we===m?(ee(ge,!0),ge.strm.avail_out===0?$:q):ge.last_lit&&(ee(ge,!1),ge.strm.avail_out===0)?X:j})(ce,ke):a[ce.level].func(ce,ke);if(Ae!==$&&Ae!==q||(ce.status=666),Ae===X||Ae===$)return F.avail_out===0&&(ce.last_flush=-1),y;if(Ae===j&&(ke===1?c._tr_align(ce):ke!==5&&(c._tr_stored_block(ce,0,0,!1),ke===3&&(ue(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),K(F),F.avail_out===0))return ce.last_flush=-1,y}return ke!==m?y:ce.wrap<=0?1:(ce.wrap===2?(fe(ce,255&F.adler),fe(ce,F.adler>>8&255),fe(ce,F.adler>>16&255),fe(ce,F.adler>>24&255),fe(ce,255&F.total_in),fe(ce,F.total_in>>8&255),fe(ce,F.total_in>>16&255),fe(ce,F.total_in>>24&255)):(te(ce,F.adler>>>16),te(ce,65535&F.adler)),K(F),0<ce.wrap&&(ce.wrap=-ce.wrap),ce.pending!==0?y:1)},i.deflateEnd=function(F){var ke;return F&&F.state?(ke=F.state.status)!==O&&ke!==69&&ke!==73&&ke!==91&&ke!==103&&ke!==V&&ke!==666?G(F,_):(F.state=null,ke===V?G(F,-3):y):_},i.deflateSetDictionary=function(F,ke){var Ye,ce,se,pe,Me,Ae,ge,we,et=ke.length;if(!F||!F.state||(pe=(Ye=F.state).wrap)===2||pe===1&&Ye.status!==O||Ye.lookahead)return _;for(pe===1&&(F.adler=u(F.adler,ke,et,0)),Ye.wrap=0,et>=Ye.w_size&&(pe===0&&(ue(Ye.head),Ye.strstart=0,Ye.block_start=0,Ye.insert=0),we=new o.Buf8(Ye.w_size),o.arraySet(we,ke,et-Ye.w_size,Ye.w_size,0),ke=we,et=Ye.w_size),Me=F.avail_in,Ae=F.next_in,ge=F.input,F.avail_in=et,F.next_in=0,F.input=ke,le(Ye);Ye.lookahead>=M;){for(ce=Ye.strstart,se=Ye.lookahead-(M-1);Ye.ins_h=(Ye.ins_h<<Ye.hash_shift^Ye.window[ce+M-1])&Ye.hash_mask,Ye.prev[ce&Ye.w_mask]=Ye.head[Ye.ins_h],Ye.head[Ye.ins_h]=ce,ce++,--se;);Ye.strstart=ce,Ye.lookahead=M-1,le(Ye)}return Ye.strstart+=Ye.lookahead,Ye.block_start=Ye.strstart,Ye.insert=Ye.lookahead,Ye.lookahead=0,Ye.match_length=Ye.prev_length=M-1,Ye.match_available=0,F.next_in=Ae,F.input=ge,F.avail_in=Me,Ye.wrap=pe,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,o){var c,u,f,p,h,m,y,_,v,S,Y,T,A,P,C,W,w,k,M,D,B,O,V,X,j;c=a.state,u=a.next_in,X=a.input,f=u+(a.avail_in-5),p=a.next_out,j=a.output,h=p-(o-a.avail_out),m=p+(a.avail_out-257),y=c.dmax,_=c.wsize,v=c.whave,S=c.wnext,Y=c.window,T=c.hold,A=c.bits,P=c.lencode,C=c.distcode,W=(1<<c.lenbits)-1,w=(1<<c.distbits)-1;e:do{A<15&&(T+=X[u++]<<A,A+=8,T+=X[u++]<<A,A+=8),k=P[T&W];t:for(;;){if(T>>>=M=k>>>24,A-=M,(M=k>>>16&255)===0)j[p++]=65535&k;else{if(!(16&M)){if((64&M)==0){k=P[(65535&k)+(T&(1<<M)-1)];continue t}if(32&M){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}D=65535&k,(M&=15)&&(A<M&&(T+=X[u++]<<A,A+=8),D+=T&(1<<M)-1,T>>>=M,A-=M),A<15&&(T+=X[u++]<<A,A+=8,T+=X[u++]<<A,A+=8),k=C[T&w];n:for(;;){if(T>>>=M=k>>>24,A-=M,!(16&(M=k>>>16&255))){if((64&M)==0){k=C[(65535&k)+(T&(1<<M)-1)];continue n}a.msg="invalid distance code",c.mode=30;break e}if(B=65535&k,A<(M&=15)&&(T+=X[u++]<<A,(A+=8)<M&&(T+=X[u++]<<A,A+=8)),y<(B+=T&(1<<M)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(T>>>=M,A-=M,(M=p-h)<B){if(v<(M=B-M)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(V=Y,(O=0)===S){if(O+=_-M,M<D){for(D-=M;j[p++]=Y[O++],--M;);O=p-B,V=j}}else if(S<M){if(O+=_+S-M,(M-=S)<D){for(D-=M;j[p++]=Y[O++],--M;);if(O=0,S<D){for(D-=M=S;j[p++]=Y[O++],--M;);O=p-B,V=j}}}else if(O+=S-M,M<D){for(D-=M;j[p++]=Y[O++],--M;);O=p-B,V=j}for(;2<D;)j[p++]=V[O++],j[p++]=V[O++],j[p++]=V[O++],D-=3;D&&(j[p++]=V[O++],1<D&&(j[p++]=V[O++]))}else{for(O=p-B;j[p++]=j[O++],j[p++]=j[O++],j[p++]=j[O++],2<(D-=3););D&&(j[p++]=j[O++],1<D&&(j[p++]=j[O++]))}break}}break}}while(u<f&&p<m);u-=D=A>>3,T&=(1<<(A-=D<<3))-1,a.next_in=u,a.next_out=p,a.avail_in=u<f?f-u+5:5-(u-f),a.avail_out=p<m?m-p+257:257-(p-m),c.hold=T,c.bits=A}},{}],49:[function(n,r,i){var a=n("../utils/common"),o=n("./adler32"),c=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),p=1,h=2,m=0,y=-2,_=1,v=852,S=592;function Y(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(O){var V;return O&&O.state?(V=O.state,O.total_in=O.total_out=V.total=0,O.msg="",V.wrap&&(O.adler=1&V.wrap),V.mode=_,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new a.Buf32(v),V.distcode=V.distdyn=new a.Buf32(S),V.sane=1,V.back=-1,m):y}function P(O){var V;return O&&O.state?((V=O.state).wsize=0,V.whave=0,V.wnext=0,A(O)):y}function C(O,V){var X,j;return O&&O.state?(j=O.state,V<0?(X=0,V=-V):(X=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?y:(j.window!==null&&j.wbits!==V&&(j.window=null),j.wrap=X,j.wbits=V,P(O))):y}function W(O,V){var X,j;return O?(j=new T,(O.state=j).window=null,(X=C(O,V))!==m&&(O.state=null),X):y}var w,k,M=!0;function D(O){if(M){var V;for(w=new a.Buf32(512),k=new a.Buf32(32),V=0;V<144;)O.lens[V++]=8;for(;V<256;)O.lens[V++]=9;for(;V<280;)O.lens[V++]=7;for(;V<288;)O.lens[V++]=8;for(f(p,O.lens,0,288,w,0,O.work,{bits:9}),V=0;V<32;)O.lens[V++]=5;f(h,O.lens,0,32,k,0,O.work,{bits:5}),M=!1}O.lencode=w,O.lenbits=9,O.distcode=k,O.distbits=5}function B(O,V,X,j){var $,q=O.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new a.Buf8(q.wsize)),j>=q.wsize?(a.arraySet(q.window,V,X-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(j<($=q.wsize-q.wnext)&&($=j),a.arraySet(q.window,V,X-j,$,q.wnext),(j-=$)?(a.arraySet(q.window,V,X-j,j,0),q.wnext=j,q.whave=q.wsize):(q.wnext+=$,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=$))),0}i.inflateReset=P,i.inflateReset2=C,i.inflateResetKeep=A,i.inflateInit=function(O){return W(O,15)},i.inflateInit2=W,i.inflate=function(O,V){var X,j,$,q,G,Q,ue,K,ee,fe,te,ie,le,he,me,Se,Je,$e,We,Ze,F,ke,Ye,ce,se=0,pe=new a.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return y;(X=O.state).mode===12&&(X.mode=13),G=O.next_out,$=O.output,ue=O.avail_out,q=O.next_in,j=O.input,Q=O.avail_in,K=X.hold,ee=X.bits,fe=Q,te=ue,ke=m;e:for(;;)switch(X.mode){case _:if(X.wrap===0){X.mode=13;break}for(;ee<16;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(2&X.wrap&&K===35615){pe[X.check=0]=255&K,pe[1]=K>>>8&255,X.check=c(X.check,pe,2,0),ee=K=0,X.mode=2;break}if(X.flags=0,X.head&&(X.head.done=!1),!(1&X.wrap)||(((255&K)<<8)+(K>>8))%31){O.msg="incorrect header check",X.mode=30;break}if((15&K)!=8){O.msg="unknown compression method",X.mode=30;break}if(ee-=4,F=8+(15&(K>>>=4)),X.wbits===0)X.wbits=F;else if(F>X.wbits){O.msg="invalid window size",X.mode=30;break}X.dmax=1<<F,O.adler=X.check=1,X.mode=512&K?10:12,ee=K=0;break;case 2:for(;ee<16;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(X.flags=K,(255&X.flags)!=8){O.msg="unknown compression method",X.mode=30;break}if(57344&X.flags){O.msg="unknown header flags set",X.mode=30;break}X.head&&(X.head.text=K>>8&1),512&X.flags&&(pe[0]=255&K,pe[1]=K>>>8&255,X.check=c(X.check,pe,2,0)),ee=K=0,X.mode=3;case 3:for(;ee<32;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.head&&(X.head.time=K),512&X.flags&&(pe[0]=255&K,pe[1]=K>>>8&255,pe[2]=K>>>16&255,pe[3]=K>>>24&255,X.check=c(X.check,pe,4,0)),ee=K=0,X.mode=4;case 4:for(;ee<16;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.head&&(X.head.xflags=255&K,X.head.os=K>>8),512&X.flags&&(pe[0]=255&K,pe[1]=K>>>8&255,X.check=c(X.check,pe,2,0)),ee=K=0,X.mode=5;case 5:if(1024&X.flags){for(;ee<16;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.length=K,X.head&&(X.head.extra_len=K),512&X.flags&&(pe[0]=255&K,pe[1]=K>>>8&255,X.check=c(X.check,pe,2,0)),ee=K=0}else X.head&&(X.head.extra=null);X.mode=6;case 6:if(1024&X.flags&&(Q<(ie=X.length)&&(ie=Q),ie&&(X.head&&(F=X.head.extra_len-X.length,X.head.extra||(X.head.extra=new Array(X.head.extra_len)),a.arraySet(X.head.extra,j,q,ie,F)),512&X.flags&&(X.check=c(X.check,j,ie,q)),Q-=ie,q+=ie,X.length-=ie),X.length))break e;X.length=0,X.mode=7;case 7:if(2048&X.flags){if(Q===0)break e;for(ie=0;F=j[q+ie++],X.head&&F&&X.length<65536&&(X.head.name+=String.fromCharCode(F)),F&&ie<Q;);if(512&X.flags&&(X.check=c(X.check,j,ie,q)),Q-=ie,q+=ie,F)break e}else X.head&&(X.head.name=null);X.length=0,X.mode=8;case 8:if(4096&X.flags){if(Q===0)break e;for(ie=0;F=j[q+ie++],X.head&&F&&X.length<65536&&(X.head.comment+=String.fromCharCode(F)),F&&ie<Q;);if(512&X.flags&&(X.check=c(X.check,j,ie,q)),Q-=ie,q+=ie,F)break e}else X.head&&(X.head.comment=null);X.mode=9;case 9:if(512&X.flags){for(;ee<16;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(K!==(65535&X.check)){O.msg="header crc mismatch",X.mode=30;break}ee=K=0}X.head&&(X.head.hcrc=X.flags>>9&1,X.head.done=!0),O.adler=X.check=0,X.mode=12;break;case 10:for(;ee<32;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}O.adler=X.check=Y(K),ee=K=0,X.mode=11;case 11:if(X.havedict===0)return O.next_out=G,O.avail_out=ue,O.next_in=q,O.avail_in=Q,X.hold=K,X.bits=ee,2;O.adler=X.check=1,X.mode=12;case 12:if(V===5||V===6)break e;case 13:if(X.last){K>>>=7&ee,ee-=7&ee,X.mode=27;break}for(;ee<3;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}switch(X.last=1&K,ee-=1,3&(K>>>=1)){case 0:X.mode=14;break;case 1:if(D(X),X.mode=20,V!==6)break;K>>>=2,ee-=2;break e;case 2:X.mode=17;break;case 3:O.msg="invalid block type",X.mode=30}K>>>=2,ee-=2;break;case 14:for(K>>>=7&ee,ee-=7&ee;ee<32;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if((65535&K)!=(K>>>16^65535)){O.msg="invalid stored block lengths",X.mode=30;break}if(X.length=65535&K,ee=K=0,X.mode=15,V===6)break e;case 15:X.mode=16;case 16:if(ie=X.length){if(Q<ie&&(ie=Q),ue<ie&&(ie=ue),ie===0)break e;a.arraySet($,j,q,ie,G),Q-=ie,q+=ie,ue-=ie,G+=ie,X.length-=ie;break}X.mode=12;break;case 17:for(;ee<14;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(X.nlen=257+(31&K),K>>>=5,ee-=5,X.ndist=1+(31&K),K>>>=5,ee-=5,X.ncode=4+(15&K),K>>>=4,ee-=4,286<X.nlen||30<X.ndist){O.msg="too many length or distance symbols",X.mode=30;break}X.have=0,X.mode=18;case 18:for(;X.have<X.ncode;){for(;ee<3;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.lens[Me[X.have++]]=7&K,K>>>=3,ee-=3}for(;X.have<19;)X.lens[Me[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,Ye={bits:X.lenbits},ke=f(0,X.lens,0,19,X.lencode,0,X.work,Ye),X.lenbits=Ye.bits,ke){O.msg="invalid code lengths set",X.mode=30;break}X.have=0,X.mode=19;case 19:for(;X.have<X.nlen+X.ndist;){for(;Se=(se=X.lencode[K&(1<<X.lenbits)-1])>>>16&255,Je=65535&se,!((me=se>>>24)<=ee);){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(Je<16)K>>>=me,ee-=me,X.lens[X.have++]=Je;else{if(Je===16){for(ce=me+2;ee<ce;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(K>>>=me,ee-=me,X.have===0){O.msg="invalid bit length repeat",X.mode=30;break}F=X.lens[X.have-1],ie=3+(3&K),K>>>=2,ee-=2}else if(Je===17){for(ce=me+3;ee<ce;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}ee-=me,F=0,ie=3+(7&(K>>>=me)),K>>>=3,ee-=3}else{for(ce=me+7;ee<ce;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}ee-=me,F=0,ie=11+(127&(K>>>=me)),K>>>=7,ee-=7}if(X.have+ie>X.nlen+X.ndist){O.msg="invalid bit length repeat",X.mode=30;break}for(;ie--;)X.lens[X.have++]=F}}if(X.mode===30)break;if(X.lens[256]===0){O.msg="invalid code -- missing end-of-block",X.mode=30;break}if(X.lenbits=9,Ye={bits:X.lenbits},ke=f(p,X.lens,0,X.nlen,X.lencode,0,X.work,Ye),X.lenbits=Ye.bits,ke){O.msg="invalid literal/lengths set",X.mode=30;break}if(X.distbits=6,X.distcode=X.distdyn,Ye={bits:X.distbits},ke=f(h,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,Ye),X.distbits=Ye.bits,ke){O.msg="invalid distances set",X.mode=30;break}if(X.mode=20,V===6)break e;case 20:X.mode=21;case 21:if(6<=Q&&258<=ue){O.next_out=G,O.avail_out=ue,O.next_in=q,O.avail_in=Q,X.hold=K,X.bits=ee,u(O,te),G=O.next_out,$=O.output,ue=O.avail_out,q=O.next_in,j=O.input,Q=O.avail_in,K=X.hold,ee=X.bits,X.mode===12&&(X.back=-1);break}for(X.back=0;Se=(se=X.lencode[K&(1<<X.lenbits)-1])>>>16&255,Je=65535&se,!((me=se>>>24)<=ee);){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(Se&&(240&Se)==0){for($e=me,We=Se,Ze=Je;Se=(se=X.lencode[Ze+((K&(1<<$e+We)-1)>>$e)])>>>16&255,Je=65535&se,!($e+(me=se>>>24)<=ee);){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}K>>>=$e,ee-=$e,X.back+=$e}if(K>>>=me,ee-=me,X.back+=me,X.length=Je,Se===0){X.mode=26;break}if(32&Se){X.back=-1,X.mode=12;break}if(64&Se){O.msg="invalid literal/length code",X.mode=30;break}X.extra=15&Se,X.mode=22;case 22:if(X.extra){for(ce=X.extra;ee<ce;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.length+=K&(1<<X.extra)-1,K>>>=X.extra,ee-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=23;case 23:for(;Se=(se=X.distcode[K&(1<<X.distbits)-1])>>>16&255,Je=65535&se,!((me=se>>>24)<=ee);){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if((240&Se)==0){for($e=me,We=Se,Ze=Je;Se=(se=X.distcode[Ze+((K&(1<<$e+We)-1)>>$e)])>>>16&255,Je=65535&se,!($e+(me=se>>>24)<=ee);){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}K>>>=$e,ee-=$e,X.back+=$e}if(K>>>=me,ee-=me,X.back+=me,64&Se){O.msg="invalid distance code",X.mode=30;break}X.offset=Je,X.extra=15&Se,X.mode=24;case 24:if(X.extra){for(ce=X.extra;ee<ce;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}X.offset+=K&(1<<X.extra)-1,K>>>=X.extra,ee-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){O.msg="invalid distance too far back",X.mode=30;break}X.mode=25;case 25:if(ue===0)break e;if(ie=te-ue,X.offset>ie){if((ie=X.offset-ie)>X.whave&&X.sane){O.msg="invalid distance too far back",X.mode=30;break}le=ie>X.wnext?(ie-=X.wnext,X.wsize-ie):X.wnext-ie,ie>X.length&&(ie=X.length),he=X.window}else he=$,le=G-X.offset,ie=X.length;for(ue<ie&&(ie=ue),ue-=ie,X.length-=ie;$[G++]=he[le++],--ie;);X.length===0&&(X.mode=21);break;case 26:if(ue===0)break e;$[G++]=X.length,ue--,X.mode=21;break;case 27:if(X.wrap){for(;ee<32;){if(Q===0)break e;Q--,K|=j[q++]<<ee,ee+=8}if(te-=ue,O.total_out+=te,X.total+=te,te&&(O.adler=X.check=X.flags?c(X.check,$,te,G-te):o(X.check,$,te,G-te)),te=ue,(X.flags?K:Y(K))!==X.check){O.msg="incorrect data check",X.mode=30;break}ee=K=0}X.mode=28;case 28:if(X.wrap&&X.flags){for(;ee<32;){if(Q===0)break e;Q--,K+=j[q++]<<ee,ee+=8}if(K!==(4294967295&X.total)){O.msg="incorrect length check",X.mode=30;break}ee=K=0}X.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return y}return O.next_out=G,O.avail_out=ue,O.next_in=q,O.avail_in=Q,X.hold=K,X.bits=ee,(X.wsize||te!==O.avail_out&&X.mode<30&&(X.mode<27||V!==4))&&B(O,O.output,O.next_out,te-O.avail_out)?(X.mode=31,-4):(fe-=O.avail_in,te-=O.avail_out,O.total_in+=fe,O.total_out+=te,X.total+=te,X.wrap&&te&&(O.adler=X.check=X.flags?c(X.check,$,te,O.next_out-te):o(X.check,$,te,O.next_out-te)),O.data_type=X.bits+(X.last?64:0)+(X.mode===12?128:0)+(X.mode===20||X.mode===15?256:0),(fe==0&&te===0||V===4)&&ke===m&&(ke=-5),ke)},i.inflateEnd=function(O){if(!O||!O.state)return y;var V=O.state;return V.window&&(V.window=null),O.state=null,m},i.inflateGetHeader=function(O,V){var X;return O&&O.state?(2&(X=O.state).wrap)==0?y:((X.head=V).done=!1,m):y},i.inflateSetDictionary=function(O,V){var X,j=V.length;return O&&O.state?(X=O.state).wrap!==0&&X.mode!==11?y:X.mode===11&&o(1,V,j,0)!==X.check?-3:B(O,V,j,j)?(X.mode=31,-4):(X.havedict=1,m):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,h,m,y,_,v,S,Y){var T,A,P,C,W,w,k,M,D,B=Y.bits,O=0,V=0,X=0,j=0,$=0,q=0,G=0,Q=0,ue=0,K=0,ee=null,fe=0,te=new a.Buf16(16),ie=new a.Buf16(16),le=null,he=0;for(O=0;O<=15;O++)te[O]=0;for(V=0;V<y;V++)te[h[m+V]]++;for($=B,j=15;1<=j&&te[j]===0;j--);if(j<$&&($=j),j===0)return _[v++]=20971520,_[v++]=20971520,Y.bits=1,0;for(X=1;X<j&&te[X]===0;X++);for($<X&&($=X),O=Q=1;O<=15;O++)if(Q<<=1,(Q-=te[O])<0)return-1;if(0<Q&&(p===0||j!==1))return-1;for(ie[1]=0,O=1;O<15;O++)ie[O+1]=ie[O]+te[O];for(V=0;V<y;V++)h[m+V]!==0&&(S[ie[h[m+V]]++]=V);if(w=p===0?(ee=le=S,19):p===1?(ee=o,fe-=257,le=c,he-=257,256):(ee=u,le=f,-1),O=X,W=v,G=V=K=0,P=-1,C=(ue=1<<(q=$))-1,p===1&&852<ue||p===2&&592<ue)return 1;for(;;){for(k=O-G,D=S[V]<w?(M=0,S[V]):S[V]>w?(M=le[he+S[V]],ee[fe+S[V]]):(M=96,0),T=1<<O-G,X=A=1<<q;_[W+(K>>G)+(A-=T)]=k<<24|M<<16|D|0,A!==0;);for(T=1<<O-1;K&T;)T>>=1;if(T!==0?(K&=T-1,K+=T):K=0,V++,--te[O]==0){if(O===j)break;O=h[m+S[V]]}if($<O&&(K&C)!==P){for(G===0&&(G=$),W+=X,Q=1<<(q=O-G);q+G<j&&!((Q-=te[q+G])<=0);)q++,Q<<=1;if(ue+=1<<q,p===1&&852<ue||p===2&&592<ue)return 1;_[P=K&C]=$<<24|q<<16|W-v|0}}return K!==0&&(_[W+K]=O-G<<24|64<<16|0),Y.bits=$,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),o=0,c=1;function u(se){for(var pe=se.length;0<=--pe;)se[pe]=0}var f=0,p=29,h=256,m=h+1+p,y=30,_=19,v=2*m+1,S=15,Y=16,T=7,A=256,P=16,C=17,W=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(m+2));u(B);var O=new Array(2*y);u(O);var V=new Array(512);u(V);var X=new Array(256);u(X);var j=new Array(p);u(j);var $,q,G,Q=new Array(y);function ue(se,pe,Me,Ae,ge){this.static_tree=se,this.extra_bits=pe,this.extra_base=Me,this.elems=Ae,this.max_length=ge,this.has_stree=se&&se.length}function K(se,pe){this.dyn_tree=se,this.max_code=0,this.stat_desc=pe}function ee(se){return se<256?V[se]:V[256+(se>>>7)]}function fe(se,pe){se.pending_buf[se.pending++]=255&pe,se.pending_buf[se.pending++]=pe>>>8&255}function te(se,pe,Me){se.bi_valid>Y-Me?(se.bi_buf|=pe<<se.bi_valid&65535,fe(se,se.bi_buf),se.bi_buf=pe>>Y-se.bi_valid,se.bi_valid+=Me-Y):(se.bi_buf|=pe<<se.bi_valid&65535,se.bi_valid+=Me)}function ie(se,pe,Me){te(se,Me[2*pe],Me[2*pe+1])}function le(se,pe){for(var Me=0;Me|=1&se,se>>>=1,Me<<=1,0<--pe;);return Me>>>1}function he(se,pe,Me){var Ae,ge,we=new Array(S+1),et=0;for(Ae=1;Ae<=S;Ae++)we[Ae]=et=et+Me[Ae-1]<<1;for(ge=0;ge<=pe;ge++){var Le=se[2*ge+1];Le!==0&&(se[2*ge]=le(we[Le]++,Le))}}function me(se){var pe;for(pe=0;pe<m;pe++)se.dyn_ltree[2*pe]=0;for(pe=0;pe<y;pe++)se.dyn_dtree[2*pe]=0;for(pe=0;pe<_;pe++)se.bl_tree[2*pe]=0;se.dyn_ltree[2*A]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function Se(se){8<se.bi_valid?fe(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function Je(se,pe,Me,Ae){var ge=2*pe,we=2*Me;return se[ge]<se[we]||se[ge]===se[we]&&Ae[pe]<=Ae[Me]}function $e(se,pe,Me){for(var Ae=se.heap[Me],ge=Me<<1;ge<=se.heap_len&&(ge<se.heap_len&&Je(pe,se.heap[ge+1],se.heap[ge],se.depth)&&ge++,!Je(pe,Ae,se.heap[ge],se.depth));)se.heap[Me]=se.heap[ge],Me=ge,ge<<=1;se.heap[Me]=Ae}function We(se,pe,Me){var Ae,ge,we,et,Le=0;if(se.last_lit!==0)for(;Ae=se.pending_buf[se.d_buf+2*Le]<<8|se.pending_buf[se.d_buf+2*Le+1],ge=se.pending_buf[se.l_buf+Le],Le++,Ae===0?ie(se,ge,pe):(ie(se,(we=X[ge])+h+1,pe),(et=w[we])!==0&&te(se,ge-=j[we],et),ie(se,we=ee(--Ae),Me),(et=k[we])!==0&&te(se,Ae-=Q[we],et)),Le<se.last_lit;);ie(se,A,pe)}function Ze(se,pe){var Me,Ae,ge,we=pe.dyn_tree,et=pe.stat_desc.static_tree,Le=pe.stat_desc.has_stree,nt=pe.stat_desc.elems,Mt=-1;for(se.heap_len=0,se.heap_max=v,Me=0;Me<nt;Me++)we[2*Me]!==0?(se.heap[++se.heap_len]=Mt=Me,se.depth[Me]=0):we[2*Me+1]=0;for(;se.heap_len<2;)we[2*(ge=se.heap[++se.heap_len]=Mt<2?++Mt:0)]=1,se.depth[ge]=0,se.opt_len--,Le&&(se.static_len-=et[2*ge+1]);for(pe.max_code=Mt,Me=se.heap_len>>1;1<=Me;Me--)$e(se,we,Me);for(ge=nt;Me=se.heap[1],se.heap[1]=se.heap[se.heap_len--],$e(se,we,1),Ae=se.heap[1],se.heap[--se.heap_max]=Me,se.heap[--se.heap_max]=Ae,we[2*ge]=we[2*Me]+we[2*Ae],se.depth[ge]=(se.depth[Me]>=se.depth[Ae]?se.depth[Me]:se.depth[Ae])+1,we[2*Me+1]=we[2*Ae+1]=ge,se.heap[1]=ge++,$e(se,we,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(ht,Vt){var sn,ae,tt,Oe,it,_e,be=Vt.dyn_tree,J=Vt.max_code,Qe=Vt.stat_desc.static_tree,mt=Vt.stat_desc.has_stree,R=Vt.stat_desc.extra_bits,Ve=Vt.stat_desc.extra_base,Ke=Vt.stat_desc.max_length,re=0;for(Oe=0;Oe<=S;Oe++)ht.bl_count[Oe]=0;for(be[2*ht.heap[ht.heap_max]+1]=0,sn=ht.heap_max+1;sn<v;sn++)Ke<(Oe=be[2*be[2*(ae=ht.heap[sn])+1]+1]+1)&&(Oe=Ke,re++),be[2*ae+1]=Oe,J<ae||(ht.bl_count[Oe]++,it=0,Ve<=ae&&(it=R[ae-Ve]),_e=be[2*ae],ht.opt_len+=_e*(Oe+it),mt&&(ht.static_len+=_e*(Qe[2*ae+1]+it)));if(re!==0){do{for(Oe=Ke-1;ht.bl_count[Oe]===0;)Oe--;ht.bl_count[Oe]--,ht.bl_count[Oe+1]+=2,ht.bl_count[Ke]--,re-=2}while(0<re);for(Oe=Ke;Oe!==0;Oe--)for(ae=ht.bl_count[Oe];ae!==0;)J<(tt=ht.heap[--sn])||(be[2*tt+1]!==Oe&&(ht.opt_len+=(Oe-be[2*tt+1])*be[2*tt],be[2*tt+1]=Oe),ae--)}})(se,pe),he(we,Mt,se.bl_count)}function F(se,pe,Me){var Ae,ge,we=-1,et=pe[1],Le=0,nt=7,Mt=4;for(et===0&&(nt=138,Mt=3),pe[2*(Me+1)+1]=65535,Ae=0;Ae<=Me;Ae++)ge=et,et=pe[2*(Ae+1)+1],++Le<nt&&ge===et||(Le<Mt?se.bl_tree[2*ge]+=Le:ge!==0?(ge!==we&&se.bl_tree[2*ge]++,se.bl_tree[2*P]++):Le<=10?se.bl_tree[2*C]++:se.bl_tree[2*W]++,we=ge,Mt=(Le=0)===et?(nt=138,3):ge===et?(nt=6,3):(nt=7,4))}function ke(se,pe,Me){var Ae,ge,we=-1,et=pe[1],Le=0,nt=7,Mt=4;for(et===0&&(nt=138,Mt=3),Ae=0;Ae<=Me;Ae++)if(ge=et,et=pe[2*(Ae+1)+1],!(++Le<nt&&ge===et)){if(Le<Mt)for(;ie(se,ge,se.bl_tree),--Le!=0;);else ge!==0?(ge!==we&&(ie(se,ge,se.bl_tree),Le--),ie(se,P,se.bl_tree),te(se,Le-3,2)):Le<=10?(ie(se,C,se.bl_tree),te(se,Le-3,3)):(ie(se,W,se.bl_tree),te(se,Le-11,7));we=ge,Mt=(Le=0)===et?(nt=138,3):ge===et?(nt=6,3):(nt=7,4)}}u(Q);var Ye=!1;function ce(se,pe,Me,Ae){te(se,(f<<1)+(Ae?1:0),3),(function(ge,we,et,Le){Se(ge),fe(ge,et),fe(ge,~et),a.arraySet(ge.pending_buf,ge.window,we,et,ge.pending),ge.pending+=et})(se,pe,Me)}i._tr_init=function(se){Ye||((function(){var pe,Me,Ae,ge,we,et=new Array(S+1);for(ge=Ae=0;ge<p-1;ge++)for(j[ge]=Ae,pe=0;pe<1<<w[ge];pe++)X[Ae++]=ge;for(X[Ae-1]=ge,ge=we=0;ge<16;ge++)for(Q[ge]=we,pe=0;pe<1<<k[ge];pe++)V[we++]=ge;for(we>>=7;ge<y;ge++)for(Q[ge]=we<<7,pe=0;pe<1<<k[ge]-7;pe++)V[256+we++]=ge;for(Me=0;Me<=S;Me++)et[Me]=0;for(pe=0;pe<=143;)B[2*pe+1]=8,pe++,et[8]++;for(;pe<=255;)B[2*pe+1]=9,pe++,et[9]++;for(;pe<=279;)B[2*pe+1]=7,pe++,et[7]++;for(;pe<=287;)B[2*pe+1]=8,pe++,et[8]++;for(he(B,m+1,et),pe=0;pe<y;pe++)O[2*pe+1]=5,O[2*pe]=le(pe,5);$=new ue(B,w,h+1,m,S),q=new ue(O,k,0,y,S),G=new ue(new Array(0),M,0,_,T)})(),Ye=!0),se.l_desc=new K(se.dyn_ltree,$),se.d_desc=new K(se.dyn_dtree,q),se.bl_desc=new K(se.bl_tree,G),se.bi_buf=0,se.bi_valid=0,me(se)},i._tr_stored_block=ce,i._tr_flush_block=function(se,pe,Me,Ae){var ge,we,et=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Le){var nt,Mt=4093624447;for(nt=0;nt<=31;nt++,Mt>>>=1)if(1&Mt&&Le.dyn_ltree[2*nt]!==0)return o;if(Le.dyn_ltree[18]!==0||Le.dyn_ltree[20]!==0||Le.dyn_ltree[26]!==0)return c;for(nt=32;nt<h;nt++)if(Le.dyn_ltree[2*nt]!==0)return c;return o})(se)),Ze(se,se.l_desc),Ze(se,se.d_desc),et=(function(Le){var nt;for(F(Le,Le.dyn_ltree,Le.l_desc.max_code),F(Le,Le.dyn_dtree,Le.d_desc.max_code),Ze(Le,Le.bl_desc),nt=_-1;3<=nt&&Le.bl_tree[2*D[nt]+1]===0;nt--);return Le.opt_len+=3*(nt+1)+5+5+4,nt})(se),ge=se.opt_len+3+7>>>3,(we=se.static_len+3+7>>>3)<=ge&&(ge=we)):ge=we=Me+5,Me+4<=ge&&pe!==-1?ce(se,pe,Me,Ae):se.strategy===4||we===ge?(te(se,2+(Ae?1:0),3),We(se,B,O)):(te(se,4+(Ae?1:0),3),(function(Le,nt,Mt,ht){var Vt;for(te(Le,nt-257,5),te(Le,Mt-1,5),te(Le,ht-4,4),Vt=0;Vt<ht;Vt++)te(Le,Le.bl_tree[2*D[Vt]+1],3);ke(Le,Le.dyn_ltree,nt-1),ke(Le,Le.dyn_dtree,Mt-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,et+1),We(se,se.dyn_ltree,se.dyn_dtree)),me(se),Ae&&Se(se)},i._tr_tally=function(se,pe,Me){return se.pending_buf[se.d_buf+2*se.last_lit]=pe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&pe,se.pending_buf[se.l_buf+se.last_lit]=255&Me,se.last_lit++,pe===0?se.dyn_ltree[2*Me]++:(se.matches++,pe--,se.dyn_ltree[2*(X[Me]+h+1)]++,se.dyn_dtree[2*ee(pe)]++),se.last_lit===se.lit_bufsize-1},i._tr_align=function(se){te(se,2,3),ie(se,A,B),(function(pe){pe.bi_valid===16?(fe(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(o,c){if(!o.setImmediate){var u,f,p,h,m=1,y={},_=!1,v=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,u={}.toString.call(o.process)==="[object process]"?function(P){process.nextTick(function(){T(P)})}:(function(){if(o.postMessage&&!o.importScripts){var P=!0,C=o.onmessage;return o.onmessage=function(){P=!1},o.postMessage("","*"),o.onmessage=C,P}})()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",A,!1):o.attachEvent("onmessage",A),function(P){o.postMessage(h+P,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(P){T(P.data)},function(P){p.port2.postMessage(P)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(P){var C=v.createElement("script");C.onreadystatechange=function(){T(P),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(P){setTimeout(T,0,P)},S.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var C=new Array(arguments.length-1),W=0;W<C.length;W++)C[W]=arguments[W+1];var w={callback:P,args:C};return y[m]=w,u(m),m++},S.clearImmediate=Y}function Y(P){delete y[P]}function T(P){if(_)setTimeout(T,0,P);else{var C=y[P];if(C){_=!0;try{(function(W){var w=W.callback,k=W.args;switch(k.length){case 0:w();break;case 1:w(k[0]);break;case 2:w(k[0],k[1]);break;case 3:w(k[0],k[1],k[2]);break;default:w.apply(c,k)}})(C)}finally{Y(P),_=!1}}}}function A(P){P.source===o&&typeof P.data=="string"&&P.data.indexOf(h)===0&&T(+P.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof vg<"u"?vg:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(bY)),bY.exports}var eae=Jse();const tae=xo(eae);function FR(t){return t.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").slice(0,100)||"bookmark"}function zC(t){const e=Math.abs(t),n=Math.floor(e),r=(e-n)*60,i=Math.floor(r),a=Math.round((r-i)*60*100);return[[n,1],[i,1],[a,100]]}function u_(t){const e={};return e[ti.GPSIFD.GPSLatitudeRef]=t.lat>=0?"N":"S",e[ti.GPSIFD.GPSLatitude]=zC(t.lat),e[ti.GPSIFD.GPSLongitudeRef]=t.lng>=0?"E":"W",e[ti.GPSIFD.GPSLongitude]=zC(t.lng),t.altitude_m!==void 0&&(e[ti.GPSIFD.GPSAltitudeRef]=t.altitude_m>=0?0:1,e[ti.GPSIFD.GPSAltitude]=[Math.abs(Math.round(t.altitude_m*100)),100]),e}function Rx(t,e,n){const r={_version:1,bookmark:{id:t.id,name:t.name,description:t.description,bbox:t.bbox,timestampChannelUs:t.timestampChannelUs,timestampEpochUs:n+t.timestampChannelUs,createdAt:t.createdAt},source:{channelId:t.channelId,fileId:t.fileId},position:e?{lat:e.lat,lng:e.lng,altitude_m:e.altitude_m,yaw_deg:e.pose?.yaw_deg}:null};return JSON.stringify(r)}function LR(t){if(t.type.startsWith("video/"))return!0;const e=t.name.toLowerCase();return e.endsWith(".mp4")||e.endsWith(".mov")||e.endsWith(".avi")||e.endsWith(".mkv")}async function ZR(t){return new Promise((e,n)=>{const r=new Image;t.arrayBuffer().then(a=>{const o=new Blob([a],{type:t.type}),c=URL.createObjectURL(o);r.onload=()=>{URL.revokeObjectURL(c),e(r)},r.onerror=()=>{URL.revokeObjectURL(c),n(new Error("Failed to load image"))},r.src=c}).catch(n)})}async function zR(t,e){return new Promise((n,r)=>{const i=document.createElement("video");i.muted=!0,i.playsInline=!0,t.arrayBuffer().then(o=>{const c=new Blob([o],{type:t.type||"video/mp4"}),u=URL.createObjectURL(c);i.onloadedmetadata=()=>{const f=e/1e6;i.currentTime=Math.min(f,i.duration)},i.onseeked=()=>{const f=document.createElement("canvas");f.width=i.videoWidth,f.height=i.videoHeight,f.getContext("2d").drawImage(i,0,0);const h=new Image;h.onload=()=>{URL.revokeObjectURL(u),n(h)},h.onerror=()=>{URL.revokeObjectURL(u),r(new Error("Failed to create image from video frame"))},h.src=f.toDataURL("image/jpeg",.95)},i.onerror=()=>{URL.revokeObjectURL(u),r(new Error("Failed to load video"))},i.src=u,i.load()}).catch(r)})}async function nae(t,e){return LR(t)?zR(t,e??0):ZR(t)}function rae(t){const e=t.lat.toFixed(5),n=t.lng.toFixed(5),r=t.lat>=0?"N":"S",i=t.lng>=0?"E":"W";return`${Math.abs(Number(e))}${r}, ${Math.abs(Number(n))}${i}`}function iae(t){const e=[],n=t.pose?.yaw_deg;if(n!==void 0){const i=(n%360+360)%360;e.push(`${Math.round(i)}`)}const r=t.gimbalPose?.pitch_deg??t.pose?.pitch_deg;if(r!==void 0){const i=r<0?"":"";e.push(`${i}${Math.abs(Math.round(r))}`)}return e.join(" ")}function YY(t,e,n,r,i){t.strokeStyle="black",t.lineWidth=6,t.setLineDash([]),t.strokeRect(e,n,r,i),t.strokeStyle="white",t.lineWidth=3,t.setLineDash([8,8]),t.strokeRect(e,n,r,i),t.setLineDash([])}async function $R(t,e){const{fileStore:n,position:r,displaySettings:i}=e,a=i??{timeFormat:"12h",dateFormat:"short",zoneFormat:"abbrev"},o=await n.getFile(t.fileId);if(!o)throw new Error(`File not found: ${t.fileId}`);const c=await nae(o,t.timestampChannelUs),u=c.naturalWidth,f=c.naturalHeight,p=1024,h=50,m=2,y=400,_=p-y-m,v=y,S=y,Y=y+m,T=S+m,A=p/u,P=Math.round(f*A),C=S+m+P,W=document.createElement("canvas");W.width=p,W.height=C;const w=W.getContext("2d");w.fillStyle="#000000",w.fillRect(0,0,p,C);const k=t.bbox.j*u,M=t.bbox.i*f,D=t.bbox.w*u,B=t.bbox.h*f,O=D*2,V=B*2,X=Math.max(O,V,100);let j=k-X/2,$=M-X/2;j=Math.max(0,Math.min(u-X,j)),$=Math.max(0,Math.min(f-X,$)),w.drawImage(c,j,$,X,X,0,0,y,y);const q=y/X,G=(k-D/2-j)*q,Q=(M-B/2-$)*q,ue=D*q,K=B*q;YY(w,G,Q,ue,K);const ee=_/v,fe=X*3*ee,te=X*3;let ie=k-fe/2,le=M-te/2;ie=Math.max(0,Math.min(u-fe,ie)),le=Math.max(0,Math.min(f-te,le));const he=Math.min(fe,u),me=Math.min(te,f);ie<0&&(ie=0),le<0&&(le=0),w.drawImage(c,ie,le,he,me,Y,0,_,v);const Se=_/he,Je=Y+(j-ie)*Se,$e=($-le)*Se,We=X*Se,Ze=X*Se;YY(w,Je,$e,We,Ze);const F=T;w.drawImage(c,0,0,u,f,0,F,p,P);const ke=ie*A,Ye=F+le*A,ce=he*A,se=me*A;YY(w,ke,Ye,ce,se),w.fillStyle="rgba(0, 0, 0, 0.7)",w.fillRect(0,0,p,h),w.fillStyle="#ffffff",w.font="20px sans-serif",w.textBaseline="middle";const pe=[];if(r){pe.push(rae(r));const ae=iae(r);ae&&pe.push(ae);const tt=r.timestampEpochUs/1e3;pe.push(sa(tt,a,{includeZone:!0,includeSeconds:!1}))}const Me=pe.join(", ");w.fillText(Me,10,h/4);const Ae="EagleEyesSearch.com",ge=w.measureText(Ae).width;w.fillText(Ae,p-ge-10,h/4),w.font="bold 20px sans-serif";const we=t.description?`${t.name}: ${t.description}`:t.name;w.fillText(we,10,h*3/4);const et=W.toDataURL("image/jpeg",.9);let Le=et;if(r)try{const ae={GPS:u_(r)},tt=ti.dump(ae);Le=ti.insert(tt,et)}catch(ae){console.warn("Failed to embed EXIF:",ae)}const Mt=await(await fetch(Le)).blob(),ht=t.fileId.slice(0,3),Vt=FR(t.name),sn=`${ht}-${Vt}.jpg`;return{blob:Mt,filename:sn}}async function KR(t,e){const{fileStore:n,position:r,sourceFilename:i,frameIndex:a,videoCanvas:o,timeStartEpochUs:c}=e;if(o)return $C(t,o,r,i,a,c);const u=await n.getFile(t.fileId);if(!u)throw new Error(`File not found: ${t.fileId}`);if(LR(u)){const h=await zR(u,t.timestampChannelUs),m=document.createElement("canvas");return m.width=h.naturalWidth,m.height=h.naturalHeight,m.getContext("2d").drawImage(h,0,0),$C(t,m,r,i,a,c)}const f=await u.arrayBuffer();if(!(u.type==="image/jpeg"||u.name.toLowerCase().endsWith(".jpg")||u.name.toLowerCase().endsWith(".jpeg"))){const h=await ZR(u),m=document.createElement("canvas");m.width=h.naturalWidth,m.height=h.naturalHeight,m.getContext("2d").drawImage(h,0,0);let _=m.toDataURL("image/jpeg",.95);try{const T={};r&&(T.GPS=u_(r)),T.Exif={[ti.ExifIFD.UserComment]:Rx(t,r??null,c)};const A=ti.dump(T);_=ti.insert(A,_)}catch(T){console.warn("Failed to embed EXIF:",T)}const S=await(await fetch(_)).blob(),Y=Ev(t,i,a,"jpg");return{blob:S,filename:Y}}try{const m=`data:image/jpeg;base64,${aae(f)}`;let y;try{y=ti.load(m)}catch{y={}}r&&(y.GPS=u_(r)),y.Exif||(y.Exif={}),y.Exif[ti.ExifIFD.UserComment]=Rx(t,r??null,c);const _=ti.dump(y),v=ti.insert(_,m),Y=await(await fetch(v)).blob(),T=Ev(t,i,a,"jpg");return{blob:Y,filename:T}}catch(h){console.warn("Failed to patch EXIF, returning original:",h);const m=new Blob([f],{type:"image/jpeg"}),y=Ev(t,i,a,"jpg");return{blob:m,filename:y}}}async function $C(t,e,n,r,i,a){let o=e.toDataURL("image/png");const c=e.toDataURL("image/jpeg",.95);try{const h={};n&&(h.GPS=u_(n)),h.Exif={[ti.ExifIFD.UserComment]:Rx(t,n??null,a)};const m=ti.dump(h);o=ti.insert(m,c)}catch(h){console.warn("Failed to embed EXIF in video frame:",h),o=c}const f=await(await fetch(o)).blob(),p=Ev(t,r,i,"jpg");return{blob:f,filename:p}}function sae(t){const e="0123456789ABCDEFGHJKMNPQRSTVWXYZ",n=[];for(let o=0;o<t.length;o++)n.push(t.charCodeAt(o));let r="",i=0,a=0;for(const o of n)for(i=i<<8|o,a+=8;a>=5;)a-=5,r+=e[i>>a&31];return a>0&&(r+=e[i<<5-a&31]),r}function Ev(t,e,n,r){const i=t.id+t.fileId,a=sae(i).slice(0,16),o=FR(t.name);return`${a}-${o}.ann.${r}`}function aae(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}async function oae(t,e){const{fileStore:n,getPosition:r,getChannelType:i,getSourceFilename:a,getTimeStartEpochUs:o,includeZoomImages:c,includeRawAnnotations:u,onProgress:f}=e,p=new tae,h=t.length*((c?1:0)+(u?1:0));let m=0;for(const y of t){const _=r(y),v=i(y),S=a(y),Y=o(y);if(c){try{const{blob:T,filename:A}=await $R(y,{fileStore:n,position:_,sourceFilename:S,timeStartEpochUs:Y});p.file(`zoom/${A}`,T)}catch(T){console.warn(`Failed to export zoom image for ${y.name}:`,T)}m++,f?.(m,h)}if(u){try{const{blob:T,filename:A}=await KR(y,{fileStore:n,position:_,sourceFilename:S,channelType:v,timeStartEpochUs:Y});p.file(`raw/${A}`,T)}catch(T){console.warn(`Failed to export raw annotation for ${y.name}:`,T)}m++,f?.(m,h)}}return p.generateAsync({type:"blob"})}async function Px(t,e){if("showSaveFilePicker"in window)try{const a=await(await window.showSaveFilePicker({suggestedName:e,startIn:"downloads",types:[{description:"Image file",accept:{[t.type]:[`.${e.split(".").pop()}`]}}]})).createWritable();await a.write(t),await a.close();return}catch(i){i.name!=="AbortError"&&console.warn("File System Access API failed:",i)}const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}async function lae(t,e="bookmarks.zip"){await Px(t,e)}function cae(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const uae=t=>{switch(t){case"success":return hae;case"info":return mae;case"warning":return pae;case"error":return gae;default:return null}},fae=Array(12).fill(0),dae=({visible:t,className:e})=>gt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},gt.createElement("div",{className:"sonner-spinner"},fae.map((n,r)=>gt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hae=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pae=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mae=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gae=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yae=gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},gt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),gt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vae=()=>{const[t,e]=gt.useState(document.hidden);return gt.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Mx=1;class _ae{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Mx++,o=this.toasts.find(u=>u.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:r}),{...u,...e,id:a,dismissible:c,title:r}):u):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async f=>{if(o=["resolve",f],gt.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(bae(f)&&!f.ok){a=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,..._})}else if(f instanceof Error){a=!1;const h=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,..._})}else if(n.success!==void 0){a=!1;const h=typeof n.success=="function"?await n.success(f):n.success,m=typeof n.description=="function"?await n.description(f):n.description,_=typeof h=="object"&&!gt.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,..._})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,y=typeof p=="object"&&!gt.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:h,...y})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,p)=>c.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||Mx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ji=new _ae,Sae=(t,e)=>{const n=e?.id||Mx++;return Ji.addToast({title:t,...e,id:n}),n},bae=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Yae=Sae,xae=()=>Ji.toasts,Tae=()=>Ji.getActiveToasts(),hl=Object.assign(Yae,{success:Ji.success,info:Ji.info,warning:Ji.warning,error:Ji.error,custom:Ji.custom,message:Ji.message,promise:Ji.promise,dismiss:Ji.dismiss,loading:Ji.loading},{getHistory:xae,getToasts:Tae});cae("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ky(t){return t.label!==void 0}const wae=3,Wae="24px",Eae="16px",KC=4e3,Uae=356,Cae=14,Aae=45,kae=200;function ba(...t){return t.filter(Boolean).join(" ")}function Iae(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Xae=t=>{var e,n,r,i,a,o,c,u,f;const{invert:p,toast:h,unstyled:m,interacting:y,setHeights:_,visibleToasts:v,heights:S,index:Y,toasts:T,expanded:A,removeToast:P,defaultRichColors:C,closeButton:W,style:w,cancelButtonStyle:k,actionButtonStyle:M,className:D="",descriptionClassName:B="",duration:O,position:V,gap:X,expandByDefault:j,classNames:$,icons:q,closeButtonAriaLabel:G="Close toast"}=t,[Q,ue]=gt.useState(null),[K,ee]=gt.useState(null),[fe,te]=gt.useState(!1),[ie,le]=gt.useState(!1),[he,me]=gt.useState(!1),[Se,Je]=gt.useState(!1),[$e,We]=gt.useState(!1),[Ze,F]=gt.useState(0),[ke,Ye]=gt.useState(0),ce=gt.useRef(h.duration||O||KC),se=gt.useRef(null),pe=gt.useRef(null),Me=Y===0,Ae=Y+1<=v,ge=h.type,we=h.dismissible!==!1,et=h.className||"",Le=h.descriptionClassName||"",nt=gt.useMemo(()=>S.findIndex(ye=>ye.toastId===h.id)||0,[S,h.id]),Mt=gt.useMemo(()=>{var ye;return(ye=h.closeButton)!=null?ye:W},[h.closeButton,W]),ht=gt.useMemo(()=>h.duration||O||KC,[h.duration,O]),Vt=gt.useRef(0),sn=gt.useRef(0),ae=gt.useRef(0),tt=gt.useRef(null),[Oe,it]=V.split("-"),_e=gt.useMemo(()=>S.reduce((ye,Pe,wt)=>wt>=nt?ye:ye+Pe.height,0),[S,nt]),be=vae(),J=h.invert||p,Qe=ge==="loading";sn.current=gt.useMemo(()=>nt*X+_e,[nt,_e]),gt.useEffect(()=>{ce.current=ht},[ht]),gt.useEffect(()=>{te(!0)},[]),gt.useEffect(()=>{const ye=pe.current;if(ye){const Pe=ye.getBoundingClientRect().height;return Ye(Pe),_(wt=>[{toastId:h.id,height:Pe,position:h.position},...wt]),()=>_(wt=>wt.filter(ft=>ft.toastId!==h.id))}},[_,h.id]),gt.useLayoutEffect(()=>{if(!fe)return;const ye=pe.current,Pe=ye.style.height;ye.style.height="auto";const wt=ye.getBoundingClientRect().height;ye.style.height=Pe,Ye(wt),_(ft=>ft.find(kt=>kt.toastId===h.id)?ft.map(kt=>kt.toastId===h.id?{...kt,height:wt}:kt):[{toastId:h.id,height:wt,position:h.position},...ft])},[fe,h.title,h.description,_,h.id,h.jsx,h.action,h.cancel]);const mt=gt.useCallback(()=>{le(!0),F(sn.current),_(ye=>ye.filter(Pe=>Pe.toastId!==h.id)),setTimeout(()=>{P(h)},kae)},[h,P,_,sn]);gt.useEffect(()=>{if(h.promise&&ge==="loading"||h.duration===1/0||h.type==="loading")return;let ye;return A||y||be?(()=>{if(ae.current<Vt.current){const ft=new Date().getTime()-Vt.current;ce.current=ce.current-ft}ae.current=new Date().getTime()})():(()=>{ce.current!==1/0&&(Vt.current=new Date().getTime(),ye=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),mt()},ce.current))})(),()=>clearTimeout(ye)},[A,y,h,ge,be,mt]),gt.useEffect(()=>{h.delete&&(mt(),h.onDismiss==null||h.onDismiss.call(h,h))},[mt,h.delete]);function R(){var ye;if(q?.loading){var Pe;return gt.createElement("div",{className:ba($?.loader,h==null||(Pe=h.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":ge==="loading"},q.loading)}return gt.createElement(dae,{className:ba($?.loader,h==null||(ye=h.classNames)==null?void 0:ye.loader),visible:ge==="loading"})}const Ve=h.icon||q?.[ge]||uae(ge);var Ke,re;return gt.createElement("li",{tabIndex:0,ref:pe,className:ba(D,et,$?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,$?.default,$?.[ge],h==null||(n=h.classNames)==null?void 0:n[ge]),"data-sonner-toast":"","data-rich-colors":(Ke=h.richColors)!=null?Ke:C,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":fe,"data-promise":!!h.promise,"data-swiped":$e,"data-removed":ie,"data-visible":Ae,"data-y-position":Oe,"data-x-position":it,"data-index":Y,"data-front":Me,"data-swiping":he,"data-dismissible":we,"data-type":ge,"data-invert":J,"data-swipe-out":Se,"data-swipe-direction":K,"data-expanded":!!(A||j&&fe),"data-testid":h.testId,style:{"--index":Y,"--toasts-before":Y,"--z-index":T.length-Y,"--offset":`${ie?Ze:sn.current}px`,"--initial-height":j?"auto":`${ke}px`,...w,...h.style},onDragEnd:()=>{me(!1),ue(null),tt.current=null},onPointerDown:ye=>{ye.button!==2&&(Qe||!we||(se.current=new Date,F(sn.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(me(!0),tt.current={x:ye.clientX,y:ye.clientY})))},onPointerUp:()=>{var ye,Pe,wt;if(Se||!we)return;tt.current=null;const ft=Number(((ye=pe.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_t=Number(((Pe=pe.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((wt=se.current)==null?void 0:wt.getTime()),Wn=Q==="x"?ft:_t,hn=Math.abs(Wn)/kt;if(Math.abs(Wn)>=Aae||hn>.11){F(sn.current),h.onDismiss==null||h.onDismiss.call(h,h),ee(Q==="x"?ft>0?"right":"left":_t>0?"down":"up"),mt(),Je(!0);return}else{var At,Lt;(At=pe.current)==null||At.style.setProperty("--swipe-amount-x","0px"),(Lt=pe.current)==null||Lt.style.setProperty("--swipe-amount-y","0px")}We(!1),me(!1),ue(null)},onPointerMove:ye=>{var Pe,wt,ft;if(!tt.current||!we||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;const kt=ye.clientY-tt.current.y,Wn=ye.clientX-tt.current.x;var hn;const At=(hn=t.swipeDirections)!=null?hn:Iae(V);!Q&&(Math.abs(Wn)>1||Math.abs(kt)>1)&&ue(Math.abs(Wn)>Math.abs(kt)?"x":"y");let Lt={x:0,y:0};const Nn=In=>1/(1.5+Math.abs(In)/20);if(Q==="y"){if(At.includes("top")||At.includes("bottom"))if(At.includes("top")&&kt<0||At.includes("bottom")&&kt>0)Lt.y=kt;else{const In=kt*Nn(kt);Lt.y=Math.abs(In)<Math.abs(kt)?In:kt}}else if(Q==="x"&&(At.includes("left")||At.includes("right")))if(At.includes("left")&&Wn<0||At.includes("right")&&Wn>0)Lt.x=Wn;else{const In=Wn*Nn(Wn);Lt.x=Math.abs(In)<Math.abs(Wn)?In:Wn}(Math.abs(Lt.x)>0||Math.abs(Lt.y)>0)&&We(!0),(wt=pe.current)==null||wt.style.setProperty("--swipe-amount-x",`${Lt.x}px`),(ft=pe.current)==null||ft.style.setProperty("--swipe-amount-y",`${Lt.y}px`)}},Mt&&!h.jsx&&ge!=="loading"?gt.createElement("button",{"aria-label":G,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!we?()=>{}:()=>{mt(),h.onDismiss==null||h.onDismiss.call(h,h)},className:ba($?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(re=q?.close)!=null?re:yae):null,(ge||h.icon||h.promise)&&h.icon!==null&&(q?.[ge]!==null||h.icon)?gt.createElement("div",{"data-icon":"",className:ba($?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||R():null,h.type!=="loading"?Ve:null):null,gt.createElement("div",{"data-content":"",className:ba($?.content,h==null||(a=h.classNames)==null?void 0:a.content)},gt.createElement("div",{"data-title":"",className:ba($?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?gt.createElement("div",{"data-description":"",className:ba(B,Le,$?.description,h==null||(c=h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),gt.isValidElement(h.cancel)?h.cancel:h.cancel&&Ky(h.cancel)?gt.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:ye=>{Ky(h.cancel)&&we&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ye),mt())},className:ba($?.cancelButton,h==null||(u=h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,gt.isValidElement(h.action)?h.action:h.action&&Ky(h.action)?gt.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:ye=>{Ky(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ye),!ye.defaultPrevented&&mt())},className:ba($?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function jC(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Rae(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",c=a?Eae:Wae;function u(f){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=c:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):u(c)}),n}const Pce=gt.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:p,mobileOffset:h,theme:m="light",richColors:y,duration:_,style:v,visibleToasts:S=wae,toastOptions:Y,dir:T=jC(),gap:A=Cae,icons:P,containerAriaLabel:C="Notifications"}=e,[W,w]=gt.useState([]),k=gt.useMemo(()=>r?W.filter(fe=>fe.toasterId===r):W.filter(fe=>!fe.toasterId),[W,r]),M=gt.useMemo(()=>Array.from(new Set([a].concat(k.filter(fe=>fe.position).map(fe=>fe.position)))),[k,a]),[D,B]=gt.useState([]),[O,V]=gt.useState(!1),[X,j]=gt.useState(!1),[$,q]=gt.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=gt.useRef(null),Q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=gt.useRef(null),K=gt.useRef(!1),ee=gt.useCallback(fe=>{w(te=>{var ie;return(ie=te.find(le=>le.id===fe.id))!=null&&ie.delete||Ji.dismiss(fe.id),te.filter(({id:le})=>le!==fe.id)})},[]);return gt.useEffect(()=>Ji.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{w(te=>te.map(ie=>ie.id===fe.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{R5.flushSync(()=>{w(te=>{const ie=te.findIndex(le=>le.id===fe.id);return ie!==-1?[...te.slice(0,ie),{...te[ie],...fe},...te.slice(ie+1)]:[fe,...te]})})})}),[W]),gt.useEffect(()=>{if(m!=="system"){q(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:te})=>{q(te?"dark":"light")})}catch{fe.addListener(({matches:ie})=>{try{q(ie?"dark":"light")}catch(le){console.error(le)}})}},[m]),gt.useEffect(()=>{W.length<=1&&V(!1)},[W]),gt.useEffect(()=>{const fe=te=>{var ie;if(o.every(me=>te[me]||te.code===me)){var he;V(!0),(he=G.current)==null||he.focus()}te.code==="Escape"&&(document.activeElement===G.current||(ie=G.current)!=null&&ie.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[o]),gt.useEffect(()=>{if(G.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,K.current=!1)}},[G.current]),gt.createElement("section",{ref:n,"aria-label":`${C} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((fe,te)=>{var ie;const[le,he]=fe.split("-");return k.length?gt.createElement("ol",{key:fe,dir:T==="auto"?jC():T,tabIndex:-1,ref:G,className:f,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":le,"data-x-position":he,style:{"--front-toast-height":`${((ie=D[0])==null?void 0:ie.height)||0}px`,"--width":`${Uae}px`,"--gap":`${A}px`,...v,...Rae(p,h)},onBlur:me=>{K.current&&!me.currentTarget.contains(me.relatedTarget)&&(K.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||K.current||(K.current=!0,ue.current=me.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{X||V(!1)},onDragEnd:()=>V(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},k.filter(me=>!me.position&&te===0||me.position===fe).map((me,Se)=>{var Je,$e;return gt.createElement(Xae,{key:me.id,icons:P,index:Se,toast:me,defaultRichColors:y,duration:(Je=Y?.duration)!=null?Je:_,className:Y?.className,descriptionClassName:Y?.descriptionClassName,invert:i,visibleToasts:S,closeButton:($e=Y?.closeButton)!=null?$e:u,interacting:X,position:fe,style:Y?.style,unstyled:Y?.unstyled,classNames:Y?.classNames,cancelButtonStyle:Y?.cancelButtonStyle,actionButtonStyle:Y?.actionButtonStyle,closeButtonAriaLabel:Y?.closeButtonAriaLabel,removeToast:ee,toasts:k.filter(We=>We.position==me.position),heights:D.filter(We=>We.position==me.position),setHeights:B,expandByDefault:c,gap:A,expanded:O,swipeDirections:e.swipeDirections})})):null}))});function jR(t){const e=kn(C9),n=kn(k9),r=Qt(Il),i=Qt(yn(t.channelId)),a=Qt(go(t.channelId)),o=Qt(y0),[c,u]=z.useState(!1),[f,p]=z.useState(!1),h=z.useCallback(()=>{if(!a?.positions||a.positions.length===0)return null;const T=t.timestampChannelUs;let A=a.positions[0],P=Math.abs(A.timestampChannelUs-T);for(const C of a.positions){const W=Math.abs(C.timestampChannelUs-T);W<P&&(P=W,A=C)}return A},[a,t.timestampChannelUs]),m=z.useCallback(()=>{u(!0)},[]),y=z.useCallback(async(T,A,P)=>{await e(T,{name:A,description:P}),u(!1)},[e]),_=z.useCallback(async()=>{confirm(`Delete bookmark "${t.name}"?`)&&await n(t.id)},[t.name,t.id,n]),v=z.useCallback(()=>{u(!1)},[]),S=z.useCallback(async()=>{if(!f){p(!0);try{const T=h(),{blob:A,filename:P}=await $R(t,{fileStore:r,position:T,sourceFilename:i?.sourceType,displaySettings:o,timeStartEpochUs:i?.timeStartEpochUs??0});await Px(A,P),hl.success(`Exported "${P}"`)}catch(T){console.error("Failed to export zoom image:",T),hl.error("Failed to export zoom image")}finally{p(!1)}}},[f,h,t,r,i?.sourceType,i?.timeStartEpochUs,o]),Y=z.useCallback(async()=>{if(!f){p(!0);try{const T=h(),A=i?.getType()==="video"?"video":"image",{blob:P,filename:C}=await KR(t,{fileStore:r,position:T,sourceFilename:i?.sourceType,channelType:A,timeStartEpochUs:i?.timeStartEpochUs??0});await Px(P,C),hl.success(`Exported "${C}"`)}catch(T){console.error("Failed to export raw annotation:",T),hl.error("Failed to export raw annotation")}finally{p(!1)}}},[f,h,t,r,i]);return{handleEdit:m,handleDelete:_,handleExportZoom:S,handleExportRaw:Y,isExporting:f,isEditing:c,editDialogProps:c?{editMode:{id:t.id,name:t.name,description:t.description},onUpdate:y,onDelete:()=>n(t.id),onCancel:v}:null}}function HR(t){const e=Tt.c(68),{actions:n,onClose:r,variant:i}=t,a=i===void 0?"context-menu":i,{handleEdit:o,handleDelete:c,handleExportZoom:u,handleExportRaw:f,isExporting:p}=n;let h;e[0]!==r?(h=O=>{O(),r?.()},e[0]=r,e[1]=h):h=e[1];const m=h;if(a==="dropdown"){let O;e[2]!==m||e[3]!==o?(O=()=>m(o),e[2]=m,e[3]=o,e[4]=O):O=e[4];let V;e[5]===Symbol.for("react.memo_cache_sentinel")?(V=I.jsx(gE,{className:"w-4 h-4 mr-2"}),e[5]=V):V=e[5];let X;e[6]!==O?(X=I.jsxs("button",{onClick:O,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",children:[V,"Edit"]}),e[6]=O,e[7]=X):X=e[7];let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=I.jsx("div",{className:"h-px bg-border my-1"}),e[8]=j):j=e[8];let $;e[9]!==m||e[10]!==u?($=()=>m(u),e[9]=m,e[10]=u,e[11]=$):$=e[11];let q;e[12]===Symbol.for("react.memo_cache_sentinel")?(q=I.jsx(mE,{className:"w-4 h-4 mr-2"}),e[12]=q):q=e[12];let G;e[13]!==p||e[14]!==$?(G=I.jsxs("button",{onClick:$,disabled:p,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground disabled:opacity-50",children:[q,"Export Zoom Image"]}),e[13]=p,e[14]=$,e[15]=G):G=e[15];let Q;e[16]!==m||e[17]!==f?(Q=()=>m(f),e[16]=m,e[17]=f,e[18]=Q):Q=e[18];let ue;e[19]===Symbol.for("react.memo_cache_sentinel")?(ue=I.jsx(Fg,{className:"w-4 h-4 mr-2"}),e[19]=ue):ue=e[19];let K;e[20]!==p||e[21]!==Q?(K=I.jsxs("button",{onClick:Q,disabled:p,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground disabled:opacity-50",children:[ue,"Export Raw Annotation"]}),e[20]=p,e[21]=Q,e[22]=K):K=e[22];let ee;e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=I.jsx("div",{className:"h-px bg-border my-1"}),e[23]=ee):ee=e[23];let fe;e[24]!==m||e[25]!==c?(fe=()=>m(c),e[24]=m,e[25]=c,e[26]=fe):fe=e[26];let te;e[27]===Symbol.for("react.memo_cache_sentinel")?(te=I.jsx(jm,{className:"w-4 h-4 mr-2"}),e[27]=te):te=e[27];let ie;e[28]!==fe?(ie=I.jsxs("button",{onClick:fe,className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent text-destructive hover:text-destructive",children:[te,"Delete"]}),e[28]=fe,e[29]=ie):ie=e[29];let le;return e[30]!==K||e[31]!==ie||e[32]!==X||e[33]!==G?(le=I.jsxs(I.Fragment,{children:[X,j,G,K,ee,ie]}),e[30]=K,e[31]=ie,e[32]=X,e[33]=G,e[34]=le):le=e[34],le}let y;e[35]!==m||e[36]!==o?(y=()=>m(o),e[35]=m,e[36]=o,e[37]=y):y=e[37];let _;e[38]===Symbol.for("react.memo_cache_sentinel")?(_=I.jsx(gE,{className:"w-4 h-4 mr-2"}),e[38]=_):_=e[38];let v;e[39]!==y?(v=I.jsxs(xa,{onClick:y,children:[_,"Edit"]}),e[39]=y,e[40]=v):v=e[40];let S;e[41]===Symbol.for("react.memo_cache_sentinel")?(S=I.jsx(Mu,{}),e[41]=S):S=e[41];let Y;e[42]!==m||e[43]!==u?(Y=()=>m(u),e[42]=m,e[43]=u,e[44]=Y):Y=e[44];let T;e[45]===Symbol.for("react.memo_cache_sentinel")?(T=I.jsx(mE,{className:"w-4 h-4 mr-2"}),e[45]=T):T=e[45];let A;e[46]!==p||e[47]!==Y?(A=I.jsxs(xa,{onClick:Y,disabled:p,children:[T,"Export Zoom Image (CalTopo/Email)"]}),e[46]=p,e[47]=Y,e[48]=A):A=e[48];let P;e[49]!==m||e[50]!==f?(P=()=>m(f),e[49]=m,e[50]=f,e[51]=P):P=e[51];let C;e[52]===Symbol.for("react.memo_cache_sentinel")?(C=I.jsx(Fg,{className:"w-4 h-4 mr-2"}),e[52]=C):C=e[52];let W;e[53]!==p||e[54]!==P?(W=I.jsxs(xa,{onClick:P,disabled:p,children:[C,"Export Raw Annotation (Eagle Eyes)"]}),e[53]=p,e[54]=P,e[55]=W):W=e[55];let w;e[56]===Symbol.for("react.memo_cache_sentinel")?(w=I.jsx(Mu,{}),e[56]=w):w=e[56];let k;e[57]!==m||e[58]!==c?(k=()=>m(c),e[57]=m,e[58]=c,e[59]=k):k=e[59];let M;e[60]===Symbol.for("react.memo_cache_sentinel")?(M=I.jsx(jm,{className:"w-4 h-4 mr-2"}),e[60]=M):M=e[60];let D;e[61]!==k?(D=I.jsxs(xa,{onClick:k,className:"text-destructive focus:text-destructive",children:[M,"Delete"]}),e[61]=k,e[62]=D):D=e[62];let B;return e[63]!==W||e[64]!==D||e[65]!==v||e[66]!==A?(B=I.jsxs(I.Fragment,{children:[v,S,A,W,w,D]}),e[63]=W,e[64]=D,e[65]=v,e[66]=A,e[67]=B):B=e[67],B}function Pae(t){const e=Tt.c(12),{bookmark:n,children:r}=t,i=jR(n);let a;e[0]!==r?(a=I.jsx(uw,{asChild:!0,children:r}),e[0]=r,e[1]=a):a=e[1];let o;e[2]!==i?(o=I.jsx(fw,{children:I.jsx(HR,{actions:i})}),e[2]=i,e[3]=o):o=e[3];let c;e[4]!==a||e[5]!==o?(c=I.jsxs(cw,{children:[a,o]}),e[4]=a,e[5]=o,e[6]=c):c=e[6];let u;e[7]!==i.editDialogProps?(u=i.editDialogProps&&I.jsx(VR,{...i.editDialogProps}),e[7]=i.editDialogProps,e[8]=u):u=e[8];let f;return e[9]!==c||e[10]!==u?(f=I.jsxs(I.Fragment,{children:[c,u]}),e[9]=c,e[10]=u,e[11]=f):f=e[11],f}function Mce(t){const e=Tt.c(19),{bookmark:n,x:r,y:i,onClose:a,onEdit:o}=t,c=jR(n);let u;e[0]!==c||e[1]!==n||e[2]!==o?(u=o?{...c,handleEdit:()=>o(n)}:c,e[0]=c,e[1]=n,e[2]=o,e[3]=u):u=e[3];const f=u;let p;e[4]!==r||e[5]!==i?(p={left:r,top:i},e[4]=r,e[5]=i,e[6]=p):p=e[6];let h;e[7]!==a||e[8]!==f?(h=I.jsx(HR,{actions:f,variant:"dropdown",onClose:a}),e[7]=a,e[8]=f,e[9]=h):h=e[9];let m;e[10]!==p||e[11]!==h?(m=I.jsx("div",{className:"fixed z-50 min-w-[10rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",style:p,children:h}),e[10]=p,e[11]=h,e[12]=m):m=e[12];let y;e[13]!==c||e[14]!==o?(y=!o&&c.editDialogProps&&I.jsx(VR,{...c.editDialogProps}),e[13]=c,e[14]=o,e[15]=y):y=e[15];let _;return e[16]!==m||e[17]!==y?(_=I.jsxs(I.Fragment,{children:[m,y]}),e[16]=m,e[17]=y,e[18]=_):_=e[18],_}function Mae(t){const e=Tt.c(33),{recordId:n,children:r}=t;let i;e[0]!==n?(i=mo(n),e[0]=n,e[1]=i):i=e[1];const a=Qt(i),o=Qt(Il),c=kn(n2),u=kn(OX),f=Qt(y0),p=m0(),m=a?.channelIds[0]??"";let y;e[2]!==m?(y=yn(m),e[2]=m,e[3]=y):y=e[3];const _=Qt(y);if(!a){let O;return e[4]!==r?(O=I.jsx(I.Fragment,{children:r}),e[4]=r,e[5]=O):O=e[5],O}let v=a.id;if(_){let O;if(e[6]!==f||e[7]!==_.timeStartEpochUs){const V=sa(_.timeStartEpochUs/1e3,f,{includeZone:!1});let X;e[9]===Symbol.for("react.memo_cache_sentinel")?(X=/:\d{2}(?=\s|$)/,e[9]=X):X=e[9],O=V.replace(X,""),e[6]=f,e[7]=_.timeStartEpochUs,e[8]=O}else O=e[8];v=O}const S=a.channelIds.length;let Y;e[10]!==u||e[11]!==o||e[12]!==c||e[13]!==a.channelIds||e[14]!==p?(Y=async()=>{const O=[];for(const V of a.channelIds){const X=p.get(yn(V));X&&(O.push(...X.fileHashes),X.metadataFileHashes&&O.push(...X.metadataFileHashes.values()))}for(const V of O)await o.removeFile(V);u(),QT(o,c,!1)},e[10]=u,e[11]=o,e[12]=c,e[13]=a.channelIds,e[14]=p,e[15]=Y):Y=e[15];const T=Y;let A;e[16]!==r?(A=I.jsx(uw,{children:r}),e[16]=r,e[17]=A):A=e[17];let P;e[18]!==v?(P=I.jsxs(DR,{children:["Record: ",v]}),e[18]=v,e[19]=P):P=e[19];let C;e[20]===Symbol.for("react.memo_cache_sentinel")?(C=I.jsx(Mu,{}),e[20]=C):C=e[20];let W;e[21]===Symbol.for("react.memo_cache_sentinel")?(W=I.jsx(jm,{className:"w-4 h-4"}),e[21]=W):W=e[21];const w=S===1?"channel":`${S} channels`;let k;e[22]!==w?(k=I.jsxs("span",{children:["Remove ",w]}),e[22]=w,e[23]=k):k=e[23];let M;e[24]!==T||e[25]!==k?(M=I.jsxs(xa,{onClick:T,className:"text-destructive focus:text-destructive",children:[W,k]}),e[24]=T,e[25]=k,e[26]=M):M=e[26];let D;e[27]!==M||e[28]!==P?(D=I.jsxs(fw,{className:"w-56",children:[P,C,M]}),e[27]=M,e[28]=P,e[29]=D):D=e[29];let B;return e[30]!==D||e[31]!==A?(B=I.jsxs(cw,{children:[A,D]}),e[30]=D,e[31]=A,e[32]=B):B=e[32],B}function Oae(){const t=Tt.c(17),e=Qt(bc),n=Qt(Zs),r=Qt(Il),i=kn(n2);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=I.jsx("span",{children:"Channels"}),t[0]=a):a=t[0];let o;t[1]!==r||t[2]!==i?(o=!window.electronAPI&&I.jsx(ts,{variant:"ghost",size:"icon-sm",title:"Refresh tracked directories",onClick:async()=>QT(r,i,!0),children:I.jsx(xN,{className:"w-4 h-4"})}),t[1]=r,t[2]=i,t[3]=o):o=t[3];let c;t[4]!==o?(c=I.jsx(gL,{children:I.jsxs("div",{className:"px-2 py-1 text-sm font-semibold flex items-center justify-between",children:[a,o]})}),t[4]=o,t[5]=c):c=t[5];let u;t[6]!==n?(u=I.jsx(Dae,{channelIds:n}),t[6]=n,t[7]=u):u=t[7];let f;t[8]!==e?(f=e.length>0&&I.jsx(Ak,{children:I.jsx(kk,{children:I.jsx(Ik,{children:e.map(Nae)})})}),t[8]=e,t[9]=f):f=t[9];let p;t[10]!==u||t[11]!==f?(p=I.jsxs(vL,{children:[u,f]}),t[10]=u,t[11]=f,t[12]=p):p=t[12];let h;t[13]===Symbol.for("react.memo_cache_sentinel")?(h=I.jsx(yL,{children:I.jsx(Kae,{})}),t[13]=h):h=t[13];let m;return t[14]!==c||t[15]!==p?(m=I.jsxs(pL,{children:[c,p,h]}),t[14]=c,t[15]=p,t[16]=m):m=t[16],m}function Nae(t){return I.jsx(Fae,{recordId:t},t)}function Dae(t){const e=Tt.c(21),{channelIds:n}=t,r=Qt(jL);let i,a,o,c,u,f;if(e[0]!==n||e[1]!==r){f=Symbol.for("react.early_return_sentinel");e:{let y;e[8]!==r?(y=v=>!r.has(v),e[8]=r,e[9]=y):y=e[9];const _=n.filter(y);if(_.length===0){f=null;break e}o=Ak,e[10]===Symbol.for("react.memo_cache_sentinel")?(u=I.jsx(_L,{children:"Livestreams"}),e[10]=u):u=e[10],a=kk,i=Ik,c=_.map(Bae)}e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=o,e[5]=c,e[6]=u,e[7]=f}else i=e[2],a=e[3],o=e[4],c=e[5],u=e[6],f=e[7];if(f!==Symbol.for("react.early_return_sentinel"))return f;let p;e[11]!==i||e[12]!==c?(p=I.jsx(i,{children:c}),e[11]=i,e[12]=c,e[13]=p):p=e[13];let h;e[14]!==a||e[15]!==p?(h=I.jsx(a,{children:p}),e[14]=a,e[15]=p,e[16]=h):h=e[16];let m;return e[17]!==o||e[18]!==u||e[19]!==h?(m=I.jsxs(o,{children:[u,h]}),e[17]=o,e[18]=u,e[19]=h,e[20]=m):m=e[20],m}function Bae(t){return I.jsx(Vae,{channelId:t},t)}function Vae(t){const e=Tt.c(23),{channelId:n}=t;let r;e[0]!==n?(r=yn(n),e[0]=n,e[1]=r):r=e[1];const i=Qt(r),a=Qt(wn),o=kn(Qm);let c;e[2]!==n?(c=r9(n),e[2]=n,e[3]=c):c=e[3];const u=kn(c);if(!i||!(i instanceof Ia))return null;const f=a.channelId===n;let p;e[4]!==n||e[5]!==o?(p=()=>{o({channelId:n,source:"sidebar"})},e[4]=n,e[5]=o,e[6]=p):p=e[6];const h=p;let m;e[7]!==u?(m=C=>{C.stopPropagation(),u()},e[7]=u,e[8]=m):m=e[8];const y=m,_=f?"bg-accent":"";let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=I.jsx(_N,{className:"w-4 h-4"}),e[9]=v):v=e[9];let S;e[10]!==i.streamId?(S=I.jsx("span",{className:"flex-1",children:i.streamId}),e[10]=i.streamId,e[11]=S):S=e[11];let Y;e[12]!==y?(Y=C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),y(C))},e[12]=y,e[13]=Y):Y=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=I.jsx(a1,{className:"w-3.5 h-3.5"}),e[14]=T):T=e[14];let A;e[15]!==y||e[16]!==Y?(A=I.jsx("div",{onClick:y,className:"ml-auto p-0.5 rounded hover:bg-muted-foreground/20 transition-colors cursor-pointer",role:"button","aria-label":"Close livestream",tabIndex:0,onKeyDown:Y,children:T}),e[15]=y,e[16]=Y,e[17]=A):A=e[17];let P;return e[18]!==h||e[19]!==A||e[20]!==_||e[21]!==S?(P=I.jsx(Xk,{children:I.jsxs(Rk,{onClick:h,className:_,children:[v,S,A]})}),e[18]=h,e[19]=A,e[20]=_,e[21]=S,e[22]=P):P=e[22],P}function Fae(t){const e=Tt.c(27),{recordId:n}=t;let r;e[0]!==n?(r=mo(n),e[0]=n,e[1]=r):r=e[1];const i=Qt(r),a=Qt(y0),[o,c]=z.useState(!0),f=i?.channelIds[0]??"";let p;e[2]!==f?(p=yn(f),e[2]=f,e[3]=p):p=e[3];const h=Qt(p);if(!i)return null;let m=i.id;if(h){let C;if(e[4]!==a||e[5]!==h.timeStartEpochUs){const W=sa(h.timeStartEpochUs/1e3,a,{includeZone:!1});let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=/:\d{2}(?=\s|$)/,e[7]=w):w=e[7],C=W.replace(w,""),e[4]=a,e[5]=h.timeStartEpochUs,e[6]=C}else C=e[6];m=C}let y;e[8]!==o?(y=()=>c(!o),e[8]=o,e[9]=y):y=e[9];const _=`w-4 h-4 transition-transform duration-200 ${o?"rotate-90":""}`;let v;e[10]!==_?(v=I.jsx(nT,{className:_}),e[10]=_,e[11]=v):v=e[11];let S;e[12]!==m?(S=I.jsx("span",{children:m}),e[12]=m,e[13]=S):S=e[13];let Y;e[14]!==y||e[15]!==v||e[16]!==S?(Y=I.jsxs(Rk,{onClick:y,children:[v,S]}),e[14]=y,e[15]=v,e[16]=S,e[17]=Y):Y=e[17];let T;e[18]!==n||e[19]!==Y?(T=I.jsx(Mae,{recordId:n,children:Y}),e[18]=n,e[19]=Y,e[20]=T):T=e[20];let A;e[21]!==o||e[22]!==i.channelIds?(A=o&&I.jsx(Pk,{children:i.channelIds.map(Lae)}),e[21]=o,e[22]=i.channelIds,e[23]=A):A=e[23];let P;return e[24]!==A||e[25]!==T?(P=I.jsxs(Xk,{children:[T,A]}),e[24]=A,e[25]=T,e[26]=P):P=e[26],P}function Lae(t){return I.jsx(Zae,{channelId:t},t)}function Zae({channelId:t}){const e=Qt(yn(t)),n=Qt(wn),r=kn($Z),i=kn(h9),a=kn(c6),o=Qt(y0),[c,u]=z.useState(!1),f=Qt(Z_(t)),p=Array.from(f.values()),h=Qt(Ra(t)),m=p.length>0||h.length>0,y=Qt(l6(t)),_=z.useRef(null);if(nz("sidebar",z.useCallback(B=>{B===t&&_.current&&_.current.scrollIntoView({behavior:"smooth",block:"center"})},[t])),!e)return null;const v=n.channelId===t;z.useEffect(()=>{u(v&&m)},[v,m]);const S=()=>{r({channelId:t,source:"sidebar"}),i(t),a(t)},Y=B=>{m&&(B.stopPropagation(),u(!c))},T=e.getType(),A=e.sourceType==="panorama"?rT:T==="image_collection"?Bv:T==="livestream"?X7:Lg,P=(e.timeEndEpochUs-e.timeStartEpochUs)/1e3,C=Wu(P),W=e.sourceType!=="unknown"?e.sourceType.charAt(0).toUpperCase()+e.sourceType.slice(1):null,w=e.getFrameCount();let k;w===1?k=W?`${W} (1 frame)`:"1 frame":k=W?`${W}: ${C} (${w})`:`${C} (${w})`;const M=sa(e.timeStartEpochUs/1e3,o);let D;return w===1?D=W?`${W} (1 frame)`:"1 frame":D=W?`${W}: ${C} (${w} frames)`:`${C} (${w} frames)`,I.jsxs(bT,{children:[I.jsx(ST,{delayDuration:300,children:I.jsxs(M_,{children:[I.jsx(O_,{asChild:!0,children:I.jsx("div",{ref:_,children:I.jsx(Gse,{channelId:t,children:I.jsxs(YT,{onClick:S,className:v?"ring-2 ring-white ring-offset-1 ring-offset-background":"",children:[m&&I.jsx("div",{onClick:Y,children:I.jsx(nT,{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-90":""}`})}),I.jsx(A,{className:"w-4 h-4 shrink-0"}),I.jsx("span",{children:k}),h.length>0&&I.jsx(T_,{className:"w-3.5 h-3.5 ml-auto shrink-0 text-neutral-500"}),!e.hasValidTime&&I.jsx(CN,{className:`w-3.5 h-3.5 shrink-0 text-amber-500 ${h.length===0?"ml-auto":""}`}),!y&&I.jsx(G5,{className:`w-3.5 h-3.5 shrink-0 text-destructive ${h.length===0&&e.hasValidTime?"ml-auto":""}`})]})})})}),I.jsxs(N_,{side:"right",className:"font-mono text-xs",children:[I.jsx("div",{children:M}),I.jsx("div",{children:D}),!e.hasValidTime&&I.jsx("div",{className:"text-amber-500",children:"No timestamp (excluded from timeline)"}),!y&&I.jsx("div",{className:"text-destructive",children:"No location data"})]})]})}),c&&m&&I.jsxs(Pk,{children:[h.map(B=>I.jsx($ae,{bookmark:B},B.id)),p.map((B,O)=>B[0]?I.jsx(zae,{channelId:t,detection:B[0]},B[0].modelName||O):null)]})]})}function zae(t){const e=Tt.c(11),{channelId:n,detection:r}=t,i=r.modelName,a=Qt(wn),o=kn(KZ),c=kn(Qm);let u;e[0]!==n||e[1]!==i||e[2]!==o||e[3]!==c?(u=()=>{c({channelId:n,source:"sidebar"}),o(i)},e[0]=n,e[1]=i,e[2]=o,e[3]=c,e[4]=u):u=e[4];const f=u,h=a.channelId===n&&a.channelModelName===i?"bg-accent":"";let m;e[5]!==i?(m=I.jsx("span",{children:i}),e[5]=i,e[6]=m):m=e[6];let y;return e[7]!==f||e[8]!==h||e[9]!==m?(y=I.jsx(bT,{children:I.jsx(YT,{onClick:f,className:h,children:m})}),e[7]=f,e[8]=h,e[9]=m,e[10]=y):y=e[10],y}function $ae(t){const e=Tt.c(12),{bookmark:n}=t,r=kn(IT);let i;e[0]!==n.id||e[1]!==r?(i=()=>{r(n.id)},e[0]=n.id,e[1]=r,e[2]=i):i=e[2];const a=i;let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=I.jsx(T_,{className:"w-4 h-4 text-neutral-500"}),e[3]=o):o=e[3];let c;e[4]!==n.name?(c=I.jsx("span",{className:"truncate",children:n.name}),e[4]=n.name,e[5]=c):c=e[5];let u;e[6]!==a||e[7]!==c?(u=I.jsxs(YT,{onClick:a,children:[o,c]}),e[6]=a,e[7]=c,e[8]=u):u=e[8];let f;return e[9]!==n||e[10]!==u?(f=I.jsx(bT,{children:I.jsx(Pae,{bookmark:n,children:u})}),e[9]=n,e[10]=u,e[11]=f):f=e[11],f}function Kae(){const t=Tt.c(24),e=Qt(Jm),n=kn(l9),r=kn(c9),i=kn(a9);if(e.length===0)return null;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=I.jsx(IN,{className:"w-4 h-4"}),t[0]=a):a=t[0];const o=e.length!==1?"s":"";let c;t[1]!==e.length||t[2]!==o?(c=I.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-destructive",children:[a,I.jsxs("span",{children:[e.length," error",o]})]}),t[1]=e.length,t[2]=o,t[3]=c):c=t[3];let u;t[4]!==r?(u=()=>r(),t[4]=r,t[5]=u):u=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=I.jsx(jm,{className:"w-3.5 h-3.5"}),t[6]=f):f=t[6];let p;t[7]!==u?(p=I.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Clear all errors",children:f}),t[7]=u,t[8]=p):p=t[8];let h;t[9]!==c||t[10]!==p?(h=I.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[c,p]}),t[9]=c,t[10]=p,t[11]=h):h=t[11];let m;if(t[12]!==n||t[13]!==e||t[14]!==i){let v;t[16]!==n||t[17]!==i?(v=S=>I.jsxs("div",{className:"flex items-start gap-2 px-2 py-1.5 text-xs border-t border-border/50 hover:bg-muted/50 cursor-pointer",onClick:()=>i(S),children:[I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("div",{className:"font-medium text-foreground truncate",children:S.message}),S.details&&I.jsx("div",{className:"text-muted-foreground truncate",title:S.details,children:S.details})]}),I.jsx("button",{onClick:Y=>{Y.stopPropagation(),n(S.id)},className:"p-0.5 rounded hover:bg-muted-foreground/20 text-muted-foreground hover:text-foreground transition-colors shrink-0",children:I.jsx(a1,{className:"w-3 h-3"})})]},S.id),t[16]=n,t[17]=i,t[18]=v):v=t[18],m=e.map(v),t[12]=n,t[13]=e,t[14]=i,t[15]=m}else m=t[15];let y;t[19]!==m?(y=I.jsx("div",{className:"max-h-32 overflow-y-auto",children:m}),t[19]=m,t[20]=y):y=t[20];let _;return t[21]!==h||t[22]!==y?(_=I.jsxs("div",{className:"border-t border-border",children:[h,y]}),t[21]=h,t[22]=y,t[23]=_):_=t[23],_}const jae="Eagle Eyes Mirada",Hae="0.0.1rc1";function Gae(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...n}),e[2]=n,e[3]=r):r=e[3],r}function qae(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("ol",{"data-slot":"breadcrumb-list",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function HC(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("inline-flex items-center gap-1.5",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("li",{"data-slot":"breadcrumb-item",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function GC(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({asChild:n,className:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const a=n?s1:"a";let o;e[4]!==r?(o=Jt("hover:text-foreground transition-colors",r),e[4]=r,e[5]=o):o=e[5];let c;return e[6]!==a||e[7]!==i||e[8]!==o?(c=I.jsx(a,{"data-slot":"breadcrumb-link",className:o,...i}),e[6]=a,e[7]=i,e[8]=o,e[9]=c):c=e[9],c}function Qae(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("text-foreground font-normal",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Jae(t){const e=Tt.c(12);let n,r,i;e[0]!==t?({children:n,className:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==r?(a=Jt("[&>svg]:size-3.5",r),e[4]=r,e[5]=a):a=e[5];let o;e[6]!==n?(o=n??I.jsx(nT,{}),e[6]=n,e[7]=o):o=e[7];let c;return e[8]!==i||e[9]!==a||e[10]!==o?(c=I.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:a,...i,children:o}),e[8]=i,e[9]=a,e[10]=o,e[11]=c):c=e[11],c}var a2="DropdownMenu",[eoe]=To(a2,[r2]),Li=r2(),[toe,GR]=eoe(a2),qR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,u=Li(e),f=z.useRef(null),[p,h]=o1({prop:i,defaultProp:a??!1,onChange:o,caller:a2});return I.jsx(toe,{scope:e,triggerId:hc(),triggerRef:f,contentId:hc(),open:p,onOpenChange:h,onOpenToggle:z.useCallback(()=>h(m=>!m),[h]),modal:c,children:I.jsx(pR,{...u,open:p,onOpenChange:h,dir:r,modal:c,children:n})})};qR.displayName=a2;var QR="DropdownMenuTrigger",JR=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=GR(QR,n),o=Li(n);return I.jsx(mR,{asChild:!0,...o,children:I.jsx(yr.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Al(e,a.triggerRef),onPointerDown:Ht(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Ht(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});JR.displayName=QR;var noe="DropdownMenuPortal",e8=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Li(e);return I.jsx(gR,{...r,...n})};e8.displayName=noe;var t8="DropdownMenuContent",n8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=GR(t8,n),a=Li(n),o=z.useRef(!1);return I.jsx(yR,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ht(t.onCloseAutoFocus,c=>{o.current||i.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ht(t.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!i.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n8.displayName=t8;var roe="DropdownMenuGroup",ioe=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(vR,{...i,...r,ref:e})});ioe.displayName=roe;var soe="DropdownMenuLabel",r8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(_R,{...i,...r,ref:e})});r8.displayName=soe;var aoe="DropdownMenuItem",i8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(SR,{...i,...r,ref:e})});i8.displayName=aoe;var ooe="DropdownMenuCheckboxItem",loe=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(bR,{...i,...r,ref:e})});loe.displayName=ooe;var coe="DropdownMenuRadioGroup",s8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(YR,{...i,...r,ref:e})});s8.displayName=coe;var uoe="DropdownMenuRadioItem",a8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(xR,{...i,...r,ref:e})});a8.displayName=uoe;var foe="DropdownMenuItemIndicator",o8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(TR,{...i,...r,ref:e})});o8.displayName=foe;var doe="DropdownMenuSeparator",l8=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(wR,{...i,...r,ref:e})});l8.displayName=doe;var hoe="DropdownMenuArrow",poe=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(WR,{...i,...r,ref:e})});poe.displayName=hoe;var moe="DropdownMenuSubTrigger",goe=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(ER,{...i,...r,ref:e})});goe.displayName=moe;var yoe="DropdownMenuSubContent",voe=z.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return I.jsx(UR,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});voe.displayName=yoe;var _oe=qR,Soe=JR,boe=e8,Yoe=n8,xoe=r8,Toe=i8,woe=s8,Woe=a8,Eoe=o8,Uoe=l8;function h1(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(_oe,{"data-slot":"dropdown-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function p1(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(Soe,{"data-slot":"dropdown-menu-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function m1(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({className:n,sideOffset:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);const a=i===void 0?4:i;let o;e[4]!==n?(o=Jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[4]=n,e[5]=o):o=e[5];let c;return e[6]!==r||e[7]!==a||e[8]!==o?(c=I.jsx(boe,{children:I.jsx(Yoe,{"data-slot":"dropdown-menu-content",sideOffset:a,className:o,...r})}),e[6]=r,e[7]=a,e[8]=o,e[9]=c):c=e[9],c}function wa(t){const e=Tt.c(12);let n,r,i,a;e[0]!==t?({className:n,inset:r,variant:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a):(n=e[1],r=e[2],i=e[3],a=e[4]);const o=a===void 0?"default":a;let c;e[5]!==n?(c=Jt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=c):c=e[6];let u;return e[7]!==r||e[8]!==i||e[9]!==c||e[10]!==o?(u=I.jsx(Toe,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":o,className:c,...i}),e[7]=r,e[8]=i,e[9]=c,e[10]=o,e[11]=u):u=e[11],u}function Coe(t){const e=Tt.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=I.jsx(woe,{"data-slot":"dropdown-menu-radio-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function xY(t){const e=Tt.c(11);let n,r,i;e[0]!==t?({className:r,children:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==r?(a=Jt("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),e[4]=r,e[5]=a):a=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=I.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:I.jsx(Eoe,{children:I.jsx(F7,{className:"size-2 fill-current"})})}),e[6]=o):o=e[6];let c;return e[7]!==n||e[8]!==i||e[9]!==a?(c=I.jsxs(Woe,{"data-slot":"dropdown-menu-radio-item",className:a,...i,children:[o,n]}),e[7]=n,e[8]=i,e[9]=a,e[10]=c):c=e[10],c}function c8(t){const e=Tt.c(10);let n,r,i;e[0]!==t?({className:n,inset:r,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=Jt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==a?(o=I.jsx(xoe,{"data-slot":"dropdown-menu-label","data-inset":r,className:a,...i}),e[6]=r,e[7]=i,e[8]=a,e[9]=o):o=e[9],o}function e1(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(Uoe,{"data-slot":"dropdown-menu-separator",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Aoe(t){const e=Tt.c(18),{open:n,onOpenChange:r}=t,[i,a]=z.useState(""),o=kn(n9);let c;e[0]!==o||e[1]!==r||e[2]!==i?(c=async S=>{if(S.preventDefault(),!!i.trim())try{await o(i.trim()),a(""),r(!1)}catch(Y){console.error("Failed to connect to livestream:",Y)}},e[0]=o,e[1]=r,e[2]=i,e[3]=c):c=e[3];const u=c;let f;e[4]!==u?(f=S=>{S.key==="Enter"&&u(S)},e[4]=u,e[5]=f):f=e[5];const p=f;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=I.jsxs(pw,{children:[I.jsx(mw,{children:"Open Livestream"}),I.jsx(gw,{children:"Enter the stream ID to connect to a live video stream"})]}),e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=S=>a(S.target.value),e[7]=m):m=e[7];let y;e[8]!==p||e[9]!==i?(y=I.jsx(cA,{placeholder:"Stream ID",value:i,onChange:m,onKeyDown:p,autoFocus:!0}),e[8]=p,e[9]=i,e[10]=y):y=e[10];let _;e[11]!==u||e[12]!==y?(_=I.jsxs(hw,{children:[h,I.jsx("form",{onSubmit:u,children:y})]}),e[11]=u,e[12]=y,e[13]=_):_=e[13];let v;return e[14]!==r||e[15]!==n||e[16]!==_?(v=I.jsx(dw,{open:n,onOpenChange:r,children:_}),e[14]=r,e[15]=n,e[16]=_,e[17]=v):v=e[17],v}function koe(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("size-4 animate-spin",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(Km,{role:"status","aria-label":"Loading",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Ioe(){const t=Tt.c(10),[e,n]=qv(b9);let r,i;t[0]!==e?(r=()=>{const u=document.documentElement,f=p=>{p==="dark"?u.classList.add("dark"):p==="light"?u.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?u.classList.add("dark"):u.classList.remove("dark")};if(f(e),e==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>f("system");return p.addEventListener("change",h),()=>p.removeEventListener("change",h)}},i=[e],t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]),z.useEffect(r,i);let a;t[3]!==n||t[4]!==e?(a=()=>{n(e==="light"?"dark":e==="dark"?"system":"light")},t[3]=n,t[4]=e,t[5]=a):a=t[5];const o=a;let c;return t[6]!==o||t[7]!==n||t[8]!==e?(c={themeMode:e,setThemeMode:n,cycleTheme:o},t[6]=o,t[7]=n,t[8]=e,t[9]=c):c=t[9],c}function Xoe(t){const e=z.useRef({value:t,previous:t});return z.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var o2="Checkbox",[Roe]=To(o2),[Poe,yw]=Roe(o2);function Moe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:u,required:f,value:p="on",internal_do_not_use_render:h}=t,[m,y]=o1({prop:n,defaultProp:i??!1,onChange:u,caller:o2}),[_,v]=z.useState(null),[S,Y]=z.useState(null),T=z.useRef(!1),A=_?!!o||!!_.closest("form"):!0,P={checked:m,disabled:a,setChecked:y,control:_,setControl:v,name:c,form:o,value:p,hasConsumerStoppedPropagationRef:T,required:f,defaultChecked:_l(i)?!1:i,isFormControl:A,bubbleInput:S,setBubbleInput:Y};return I.jsx(Poe,{scope:e,...P,children:Ooe(h)?h(P):r})}var u8="CheckboxTrigger",f8=z.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:u,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:_}=yw(u8,t),v=Dr(i,p),S=z.useRef(u);return z.useEffect(()=>{const Y=a?.form;if(Y){const T=()=>h(S.current);return Y.addEventListener("reset",T),()=>Y.removeEventListener("reset",T)}},[a,h]),I.jsx(yr.button,{type:"button",role:"checkbox","aria-checked":_l(u)?"mixed":u,"aria-required":f,"data-state":y8(u),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:v,onKeyDown:Ht(e,Y=>{Y.key==="Enter"&&Y.preventDefault()}),onClick:Ht(n,Y=>{h(T=>_l(T)?!0:!T),_&&y&&(m.current=Y.isPropagationStopped(),m.current||Y.stopPropagation())})})});f8.displayName=u8;var d8=z.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:u,onCheckedChange:f,form:p,...h}=t;return I.jsx(Moe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:f,name:r,form:p,value:u,internal_do_not_use_render:({isFormControl:m})=>I.jsxs(I.Fragment,{children:[I.jsx(f8,{...h,ref:e,__scopeCheckbox:n}),m&&I.jsx(g8,{__scopeCheckbox:n})]})})});d8.displayName=o2;var h8="CheckboxIndicator",p8=z.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=yw(h8,n);return I.jsx(fa,{present:r||_l(a.checked)||a.checked===!0,children:I.jsx(yr.span,{"data-state":y8(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});p8.displayName=h8;var m8="CheckboxBubbleInput",g8=z.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:u,name:f,value:p,form:h,bubbleInput:m,setBubbleInput:y}=yw(m8,t),_=Dr(n,y),v=Xoe(a),S=sk(r);z.useEffect(()=>{const T=m;if(!T)return;const A=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(A,"checked").set,W=!i.current;if(v!==a&&C){const w=new Event("click",{bubbles:W});T.indeterminate=_l(a),C.call(T,_l(a)?!1:a),T.dispatchEvent(w)}},[m,v,a,i]);const Y=z.useRef(_l(a)?!1:a);return I.jsx(yr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??Y.current,required:c,disabled:u,name:f,value:p,form:h,...e,tabIndex:-1,ref:_,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});g8.displayName=m8;function Ooe(t){return typeof t=="function"}function _l(t){return t==="indeterminate"}function y8(t){return _l(t)?"indeterminate":t?"checked":"unchecked"}function qC(t){const e=Tt.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=i):i=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=I.jsx(p8,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:I.jsx(D7,{className:"size-3.5"})}),e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==i?(o=I.jsx(d8,{"data-slot":"checkbox",className:i,...r,children:a}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}var Noe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Doe=Noe.reduce((t,e)=>{const n=tT(`Primitive.${e}`),r=z.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Boe="Label",v8=z.forwardRef((t,e)=>I.jsx(Doe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));v8.displayName=Boe;var Voe=v8;function QC(t){const e=Tt.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let i;e[3]!==n?(i=Jt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==r||e[6]!==i?(a=I.jsx(Voe,{"data-slot":"label",className:i,...r}),e[5]=r,e[6]=i,e[7]=a):a=e[7],a}function Foe(t,e=[]){let n=[];function r(a,o){const c=z.createContext(o);c.displayName=a+"Context";const u=n.length;n=[...n,o];const f=h=>{const{scope:m,children:y,..._}=h,v=m?.[t]?.[u]||c,S=z.useMemo(()=>_,Object.values(_));return I.jsx(v.Provider,{value:S,children:y})};f.displayName=a+"Provider";function p(h,m){const y=m?.[t]?.[u]||c,_=z.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>z.createContext(o));return function(c){const u=c?.[t]||a;return z.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,Loe(i,...e)]}function Loe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...c,...h}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_8=Zoe.reduce((t,e)=>{const n=tT(`Primitive.${e}`),r=z.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),vw="Progress",_w=100,[zoe]=Foe(vw),[$oe,Koe]=zoe(vw),S8=z.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=joe,...o}=t;(i||i===0)&&!JC(i)&&console.error(Hoe(`${i}`,"Progress"));const c=JC(i)?i:_w;r!==null&&!e5(r,c)&&console.error(Goe(`${r}`,"Progress"));const u=e5(r,c)?r:null,f=f_(u)?a(u,c):void 0;return I.jsx($oe,{scope:n,value:u,max:c,children:I.jsx(_8.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":f_(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":x8(u,c),"data-value":u??void 0,"data-max":c,...o,ref:e})})});S8.displayName=vw;var b8="ProgressIndicator",Y8=z.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Koe(b8,n);return I.jsx(_8.div,{"data-state":x8(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Y8.displayName=b8;function joe(t,e){return`${Math.round(t/e*100)}%`}function x8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function f_(t){return typeof t=="number"}function JC(t){return f_(t)&&!isNaN(t)&&t>0}function e5(t,e){return f_(t)&&!isNaN(t)&&t<=e&&t>=0}function Hoe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_w}\`.`}function Goe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_w} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qoe=S8,Qoe=Y8;function Joe(t){const e=Tt.c(12);let n,r,i;e[0]!==t?({className:n,value:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i):(n=e[1],r=e[2],i=e[3]);let a;e[4]!==n?(a=Jt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),e[4]=n,e[5]=a):a=e[5];const o=`translateX(-${100-(i||0)}%)`;let c;e[6]!==o?(c=I.jsx(Qoe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:o}}),e[6]=o,e[7]=c):c=e[7];let u;return e[8]!==r||e[9]!==a||e[10]!==c?(u=I.jsx(qoe,{"data-slot":"progress",className:a,...r,children:c}),e[8]=r,e[9]=a,e[10]=c,e[11]=u):u=e[11],u}function ele({open:t,onOpenChange:e}){const n=Qt(z_),r=Qt(Il),[i,a]=z.useState(!0),[o,c]=z.useState(!0),[u,f]=z.useState(!1),[p,h]=z.useState(0),[m,y]=z.useState(0),_=async()=>{if(n.length!==0){if(!i&&!o){hl.error("Please select at least one export format");return}f(!0),h(0),y(n.length*((i?1:0)+(o?1:0)));try{const S=await oae(n,{fileStore:r,getPosition:A=>null,getChannelType:A=>"image",getSourceFilename:A=>`bookmark_${A.name}`,getTimeStartEpochUs:A=>0,includeZoomImages:i,includeRawAnnotations:o,onProgress:(A,P)=>{h(A),y(P)}}),T=`bookmarks_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.zip`;await lae(S,T),hl.success(`Exported ${n.length} bookmarks to ${T}`),e(!1)}catch(S){console.error("Failed to export bookmarks:",S),hl.error("Failed to export bookmarks")}finally{f(!1),h(0),y(0)}}},v=m>0?p/m*100:0;return I.jsx(dw,{open:t,onOpenChange:e,children:I.jsxs(hw,{className:"sm:max-w-md",children:[I.jsxs(pw,{children:[I.jsx(mw,{children:"Export All Bookmarks"}),I.jsxs(gw,{children:["Export ",n.length," bookmark",n.length!==1?"s":""," as a zip file."]})]}),I.jsxs("div",{className:"space-y-4 py-4",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(qC,{id:"zoom",checked:i,onCheckedChange:S=>a(S===!0),disabled:u}),I.jsxs(QC,{htmlFor:"zoom",className:"flex-1 cursor-pointer",children:[I.jsx("span",{className:"font-medium",children:"Zoom Images"}),I.jsx("span",{className:"block text-sm text-muted-foreground",children:"Multi-scale composite for CalTopo/Email sharing"})]})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(qC,{id:"raw",checked:o,onCheckedChange:S=>c(S===!0),disabled:u}),I.jsxs(QC,{htmlFor:"raw",className:"flex-1 cursor-pointer",children:[I.jsx("span",{className:"font-medium",children:"Raw Annotations"}),I.jsx("span",{className:"block text-sm text-muted-foreground",children:"Original images with embedded metadata for Eagle Eyes team"})]})]}),u&&I.jsxs("div",{className:"space-y-2",children:[I.jsx(Joe,{value:v,className:"h-2"}),I.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Exporting... ",p," / ",m]})]})]}),I.jsxs(BR,{children:[I.jsx(ts,{variant:"outline",onClick:()=>e(!1),disabled:u,children:"Cancel"}),I.jsx(ts,{onClick:_,disabled:u||n.length===0||!i&&!o,children:u?I.jsxs(I.Fragment,{children:[I.jsx(Km,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):I.jsxs(I.Fragment,{children:[I.jsx(Fg,{className:"mr-2 h-4 w-4"}),"Export"]})})]})]})})}function tle(){const t=OO(),e=Qt(Il),n=kn(n2),[r,i]=z.useState(!1),[a,o]=z.useState(0),[c,u]=z.useState(!1),{open:f}=D_();z.useEffect(()=>{const y=setTimeout(()=>{e.hasPendingHandles?.()?o(e.getPendingHandleCount?.()??0):o(0)},500);return()=>clearTimeout(y)},[e]);const p=async()=>{u(!0);try{await e.restorePendingHandles?.();const m=await e.getAllFileHandles();m.length>0&&n(m),o(e.getPendingHandleCount?.()??0)}catch(m){console.error("Failed to restore access:",m)}finally{u(!1)}},h=t.filter(m=>m.pathname!=="/"&&m.routeId!=="__root__").map(m=>{const _=m.routeId.split("/").filter(Boolean),v=_[_.length-1];let S;if(v.startsWith("$")){const Y=m.pathname.split("/").filter(Boolean);S=Y[Y.length-1]}else S=v.split("-").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ");return{path:m.pathname,label:S}});return I.jsxs("div",{className:"flex flex-row pr-4 py-2 bg-sidebar items-center gap-4 min-w-0",children:[I.jsx(mL,{className:`z-10 ${f?"-ml-3.5":"ml-1"}`}),I.jsx(Gae,{className:"flex-1 min-w-0",children:I.jsxs(qae,{className:"min-w-0",children:[I.jsx(HC,{children:I.jsx(GC,{asChild:!0,children:I.jsxs(Ov,{to:"/",className:"flex items-center gap-2",children:[I.jsx("img",{src:"/mirada/logo.png",alt:"Logo",className:"w-6 h-6 rounded"}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-semibold text-foreground leading-tight",children:jae}),I.jsxs("span",{className:"text-[10px] text-muted-foreground/60 leading-none",children:["v",Hae]})]})]})})}),h.map((m,y)=>I.jsxs(z.Fragment,{children:[I.jsx(Jae,{}),I.jsx(HC,{children:y===h.length-1?I.jsx(Qae,{children:m.label}):I.jsx(GC,{asChild:!0,children:I.jsx(Ov,{to:m.path,children:m.label})})})]},m.path))]})}),I.jsx(ale,{}),I.jsx(I.Fragment,{}),window.electronAPI&&I.jsxs(I.Fragment,{children:[I.jsx(sle,{}),I.jsx(ile,{})]}),I.jsx(cle,{}),a>0&&!window.electronAPI&&I.jsxs(ts,{size:"sm",variant:"outline",onClick:p,disabled:c,className:"gap-2",children:[c?I.jsx(Km,{className:"h-4 w-4 animate-spin"}):I.jsx(bN,{className:"h-4 w-4"}),"Restore Access (",a," files)"]}),I.jsxs(h1,{children:[I.jsx(p1,{asChild:!0,children:I.jsx(ts,{size:"icon-sm",className:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",children:I.jsx(yN,{})})}),I.jsxs(m1,{className:"z-999",children:[I.jsxs(wa,{onClick:async()=>{const m=await oie(e);n(m)},children:[I.jsx(G7,{className:"mr-2 h-4 w-4"}),"Load Folder"]}),I.jsxs(wa,{onClick:async()=>{try{const m=await window.showOpenFilePicker({multiple:!0}),y=await Promise.all(m.map(async v=>vl.create({handle:v,path:v.name,category:"placeholder"}))),_=JT(y);ew(_,e),n(_)}catch{}},children:[I.jsx(H5,{className:"mr-2 h-4 w-4"}),"Load Files"]}),I.jsx(e1,{}),I.jsxs(wa,{onClick:()=>i(!0),children:[I.jsx(PN,{className:"mr-2 h-4 w-4"}),"Open Wireless Livestream"]}),I.jsxs(wa,{disabled:!0,onClick:()=>{},children:[I.jsx(O7,{className:"mr-2 h-4 w-4"}),"Open Wired Livestream"]})]})]}),I.jsx(Aoe,{open:r,onOpenChange:i}),I.jsx(lle,{}),I.jsx(nle,{})]})}function nle(){const t=Tt.c(25),[e,n]=qv(y0),[r,i]=qv(S9),a=kn(v9),o=rle;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=I.jsx(p1,{asChild:!0,children:I.jsx(ts,{size:"icon-sm",variant:"ghost",className:"bg-muted hover:bg-muted/80",children:I.jsx(uN,{className:"h-4 w-4"})})}),t[0]=c):c=t[0];let u;t[1]!==a?(u=()=>a(!0),t[1]=a,t[2]=u):u=t[2];let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=I.jsx(Fg,{className:"mr-2 h-4 w-4"}),t[3]=f):f=t[3];let p;t[4]!==u?(p=I.jsxs(wa,{onClick:u,children:[f,"Export Map Data"]}),t[4]=u,t[5]=p):p=t[5];let h;t[6]===Symbol.for("react.memo_cache_sentinel")?(h=I.jsx(e1,{}),t[6]=h):h=t[6];let m;t[7]!==i?(m=()=>i(!0),t[7]=i,t[8]=m):m=t[8];let y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=I.jsx(wN,{className:"mr-2 h-4 w-4"}),t[9]=y):y=t[9];let _;t[10]!==m?(_=I.jsxs(wa,{onClick:m,children:[y,"Settings"]}),t[10]=m,t[11]=_):_=t[11];let v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v=I.jsx(e1,{}),t[12]=v):v=t[12];let S;t[13]===Symbol.for("react.memo_cache_sentinel")?(S=I.jsxs(wa,{onClick:o,className:"text-destructive focus:text-destructive",children:[I.jsx($7,{className:"mr-2 h-4 w-4"}),"Clear Site Data"]}),t[13]=S):S=t[13];let Y;t[14]!==p||t[15]!==_?(Y=I.jsxs(h1,{children:[c,I.jsxs(m1,{align:"end",className:"z-[10000]",children:[p,h,_,v,S]})]}),t[14]=p,t[15]=_,t[16]=Y):Y=t[16];let T;t[17]!==e||t[18]!==n||t[19]!==i||t[20]!==r?(T=r&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/30",onClick:()=>i(!1)}),I.jsxs("div",{className:"fixed z-[9999] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background border border-border rounded-lg shadow-2xl p-4 min-w-[300px]",children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx("h2",{className:"text-lg font-semibold",children:"Settings"}),I.jsx("button",{className:"p-1 rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:()=>i(!1),children:I.jsx(a1,{className:"w-4 h-4"})})]}),I.jsxs("div",{className:"mb-3",children:[I.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time format"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.timeFormat==="24h"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,timeFormat:"24h"}),children:"14:00"}),I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.timeFormat==="12h"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,timeFormat:"12h"}),children:"2:00 PM"})]})]}),I.jsxs("div",{className:"mb-3",children:[I.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date format"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.dateFormat==="short"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,dateFormat:"short"}),children:"Feb 4, 2025"}),I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.dateFormat==="iso"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,dateFormat:"iso"}),children:"2025/02/04"})]})]}),I.jsxs("div",{className:"mb-3",children:[I.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone format"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="abbrev"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"abbrev"}),children:"PST"}),I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="offset_numeric"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"offset_numeric"}),children:"-0800"}),I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.zoneFormat==="offset_utc"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,zoneFormat:"offset_utc"}),children:"UTC-08:00"})]})]}),I.jsxs("div",{className:"mb-3",children:[I.jsx("label",{className:"block text-sm font-medium mb-1",children:"Units"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.unitSystem==="metric"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,unitSystem:"metric"}),children:"Metric (m)"}),I.jsx("button",{className:`px-3 py-1.5 text-sm rounded border transition-colors ${e.unitSystem==="imperial"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,onClick:()=>n({...e,unitSystem:"imperial"}),children:"Imperial (ft)"})]})]})]})]}),t[17]=e,t[18]=n,t[19]=i,t[20]=r,t[21]=T):T=t[21];let A;return t[22]!==Y||t[23]!==T?(A=I.jsxs(I.Fragment,{children:[Y,T]}),t[22]=Y,t[23]=T,t[24]=A):A=t[24],A}async function rle(){if(!confirm("This will clear all saved data and reload the page. Continue?"))return;const t=["fileHandleDB","bookmarkDB"];for(const e of t)try{await new Promise((n,r)=>{const i=indexedDB.deleteDatabase(e);i.onsuccess=()=>n(),i.onerror=()=>r(i.error),i.onblocked=()=>n()})}catch(n){const r=n;console.warn(`Failed to delete database ${e}:`,r)}window.location.reload()}function ile(){const t=Tt.c(8),e=Qt(wn),n=Qt(Il);let r;t[0]!==e.channelId?(r=e.channelId?yn(e.channelId):yn(""),t[0]=e.channelId,t[1]=r):r=t[1];const i=Qt(r),a=kn(i9),o=Qt(AT),c=async function(){if(!i||i.getType()!=="mediabunny_video"&&i.getType()!=="video")return;const v=i.getFrameHash(0);if(!v)return;const S=await n.getFile(v);if(S&&window.electronAPI){const Y={fileRef:S.fileRef,hash:v,channelId:i.id,modelName:o};p(!0),a({channelId:i.id,modelName:o}),await window.electronAPI.processVideo(Y),p(!1)}},[u,f]=z.useState(!1),p=f,h=u||!i;let m;t[2]!==u?(m=u&&I.jsx(koe,{}),t[2]=u,t[3]=m):m=t[3];let y;return t[4]!==c||t[5]!==h||t[6]!==m?(y=I.jsx(I.Fragment,{children:I.jsxs(ts,{variant:"secondary",size:"sm",onClick:c,disabled:h,children:[m,"Run Detector"]})}),t[4]=c,t[5]=h,t[6]=m,t[7]=y):y=t[7],y}function sle(){const t=Tt.c(13),e=Qt(AT),n=kn(s9);let r;t[0]!==e?(r=I.jsx(p1,{asChild:!0,children:I.jsx(ts,{variant:"secondary",children:e})}),t[0]=e,t[1]=r):r=t[1];let i,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=I.jsx(c8,{children:"Choose Model"}),a=I.jsx(e1,{}),t[2]=i,t[3]=a):(i=t[2],a=t[3]);let o,c,u;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=I.jsx(xY,{value:"V2.5.Video.Combined.Fast",children:"V2.5.Video.Combined.Fast"}),c=I.jsx(xY,{value:"V2.5.Photo.Fast",children:"V2.5.Photo.Fast"}),u=I.jsx(xY,{value:"ipsum",children:"ipsum"}),t[4]=o,t[5]=c,t[6]=u):(o=t[4],c=t[5],u=t[6]);let f;t[7]!==e||t[8]!==n?(f=I.jsxs(m1,{className:"w-56 z-10000",children:[i,a,I.jsxs(Coe,{value:e,onValueChange:n,children:[o,c,u]})]}),t[7]=e,t[8]=n,t[9]=f):f=t[9];let p;return t[10]!==r||t[11]!==f?(p=I.jsxs(h1,{children:[r,f]}),t[10]=r,t[11]=f,t[12]=p):p=t[12],p}function ale(){const t=Tt.c(25),e=Qt(Ma);if(e.length===0)return null;const n=e[0],r=n.progress&&n.progress.total>0;let i;t[0]!==r||t[1]!==n.progress?(i=r?Math.round(n.progress.current/n.progress.total*100):null,t[0]=r,t[1]=n.progress,t[2]=i):i=t[2];const a=i;if(e.length===1){let y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y=I.jsx(Km,{className:"h-4 w-4 animate-spin"}),t[3]=y):y=t[3];let _;t[4]!==n.label?(_=I.jsx("span",{children:n.label}),t[4]=n.label,t[5]=_):_=t[5];let v;t[6]!==r||t[7]!==a||t[8]!==n.progress?(v=r&&I.jsxs("span",{className:"text-xs opacity-80",children:[n.progress.current,"/",n.progress.total,"  ",a,"%"]}),t[6]=r,t[7]=a,t[8]=n.progress,t[9]=v):v=t[9];let S;return t[10]!==_||t[11]!==v?(S=I.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium shadow-lg",children:[y,I.jsxs("div",{className:"flex flex-col",children:[_,v]})]}),t[10]=_,t[11]=v,t[12]=S):S=t[12],S}let o;t[13]===Symbol.for("react.memo_cache_sentinel")?(o=I.jsx(Km,{className:"h-4 w-4 animate-spin"}),t[13]=o):o=t[13];let c;t[14]!==e.length?(c=I.jsx(p1,{asChild:!0,children:I.jsxs("button",{className:"flex items-center gap-3 px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium shadow-lg cursor-pointer hover:bg-primary/90 transition-colors",children:[o,I.jsxs("span",{children:[e.length," tasks running..."]})]})}),t[14]=e.length,t[15]=c):c=t[15];let u,f;t[16]===Symbol.for("react.memo_cache_sentinel")?(u=I.jsx(c8,{children:"Running Tasks"}),f=I.jsx(e1,{}),t[16]=u,t[17]=f):(u=t[16],f=t[17]);let p;t[18]!==e?(p=e.map(ole),t[18]=e,t[19]=p):p=t[19];let h;t[20]!==p?(h=I.jsxs(m1,{align:"end",className:"w-72",children:[u,f,p]}),t[20]=p,t[21]=h):h=t[21];let m;return t[22]!==c||t[23]!==h?(m=I.jsxs(h1,{children:[c,h]}),t[22]=c,t[23]=h,t[24]=m):m=t[24],m}function ole(t){const e=t.progress&&t.progress.total>0,n=e?Math.round(t.progress.current/t.progress.total*100):null;return I.jsxs("div",{className:"px-2 py-2 text-sm",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Km,{className:"h-3 w-3 animate-spin shrink-0"}),I.jsx("span",{className:"truncate",children:t.label})]}),e&&I.jsxs("div",{className:"ml-5 mt-1",children:[I.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.progress.current,"/",t.progress.total,"  ",n,"%"]}),I.jsx("div",{className:"mt-1 h-1.5 bg-muted rounded-full overflow-hidden",children:I.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${n}%`}})})]})]},t.id)}function lle(){const t=Tt.c(6),{themeMode:e,cycleTheme:n}=Ioe(),r=e==="light"?EN:e==="dark"?pN:dN,i=e==="light"?"Light mode (click for dark)":e==="dark"?"Dark mode (click for system)":"System mode (click for light)";let a;t[0]!==r?(a=I.jsx(r,{className:"h-4 w-4"}),t[0]=r,t[1]=a):a=t[1];let o;return t[2]!==n||t[3]!==a||t[4]!==i?(o=I.jsx(ts,{size:"icon-sm",variant:"ghost",className:"bg-muted hover:bg-muted/80",onClick:n,title:i,children:a}),t[2]=n,t[3]=a,t[4]=i,t[5]=o):o=t[5],o}function cle(){const t=Tt.c(39),e=Qt(zs),n=kn(I9),r=kn(wu),i=kn(A9),a=Qt(Yc),o=Qt(wn),c=Qt(g9),[u,f]=z.useState(!1),p=e.mode!=="idle",h=o.channelId!==null,m=a.length;let y;t[0]!==n||t[1]!==r||t[2]!==p||t[3]!==c?(y=()=>{p?r():c?hl.info("Panorama bookmarks coming soon!",{description:"Bookmarks on 360 panorama images aren't supported yet. We're working on it!"}):n()},t[0]=n,t[1]=r,t[2]=p,t[3]=c,t[4]=y):y=t[4];const _=y;let v;t[5]!==m||t[6]!==i?(v=()=>{m!==0&&confirm(`This will delete all ${m} bookmark${m!==1?"s":""} you've made. Are you sure?`)&&i()},t[5]=m,t[6]=i,t[7]=v):v=t[7];const S=v;let Y;t[8]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{f(!0)},t[8]=Y):Y=t[8];const T=Y,A=p?"default":"ghost",P=p?"":"bg-muted hover:bg-muted/80",C=!h&&!p,W=p?"Cancel Bookmark (B / Esc)":"Bookmark (B)";let w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=I.jsx(pE,{className:"h-4 w-4"}),t[9]=w):w=t[9];let k;t[10]!==A||t[11]!==P||t[12]!==C||t[13]!==W?(k=I.jsx(p1,{asChild:!0,children:I.jsx(ts,{size:"icon-sm",variant:A,className:P,disabled:C,title:W,children:w})}),t[10]=A,t[11]=P,t[12]=C,t[13]=W,t[14]=k):k=t[14];let M;t[15]===Symbol.for("react.memo_cache_sentinel")?(M=I.jsx(pE,{className:"mr-2 h-4 w-4"}),t[15]=M):M=t[15];const D=p?"Cancel bookmark (B)":"Add new bookmark (B)";let B;t[16]!==_||t[17]!==D?(B=I.jsxs(wa,{onClick:_,children:[M,D]}),t[16]=_,t[17]=D,t[18]=B):B=t[18];const O=m===0;let V;t[19]===Symbol.for("react.memo_cache_sentinel")?(V=I.jsx(Fg,{className:"mr-2 h-4 w-4"}),t[19]=V):V=t[19];let X;t[20]!==O?(X=I.jsxs(wa,{onClick:T,disabled:O,children:[V,"Export all bookmarks"]}),t[20]=O,t[21]=X):X=t[21];const j=m===0;let $;t[22]===Symbol.for("react.memo_cache_sentinel")?($=I.jsx(jm,{className:"mr-2 h-4 w-4"}),t[22]=$):$=t[22];let q;t[23]!==m||t[24]!==S||t[25]!==j?(q=I.jsxs(wa,{onClick:S,disabled:j,className:"text-destructive focus:text-destructive",children:[$,"Delete all ",m," bookmarks"]}),t[23]=m,t[24]=S,t[25]=j,t[26]=q):q=t[26];let G;t[27]!==B||t[28]!==X||t[29]!==q?(G=I.jsxs(m1,{children:[B,X,q]}),t[27]=B,t[28]=X,t[29]=q,t[30]=G):G=t[30];let Q;t[31]!==G||t[32]!==k?(Q=I.jsxs(h1,{children:[k,G]}),t[31]=G,t[32]=k,t[33]=Q):Q=t[33];let ue;t[34]!==u?(ue=I.jsx(ele,{open:u,onOpenChange:f}),t[34]=u,t[35]=ue):ue=t[35];let K;return t[36]!==Q||t[37]!==ue?(K=I.jsxs(I.Fragment,{children:[Q,ue]}),t[36]=Q,t[37]=ue,t[38]=K):K=t[38],K}const T8=wO()({component:()=>I.jsx(I.Fragment,{children:I.jsxs(fL,{defaultOpen:!0,children:[I.jsx(Oae,{}),I.jsxs("main",{className:"flex flex-col w-full min-w-0",children:[I.jsx(tle,{}),I.jsx(O5,{})]})]})})}),ule="modulepreload",fle=function(t){return"/mirada/"+t},t5={},dle=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(n.map(f=>{if(f=fle(f),f in t5)return;t5[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":ule,p||(m.as="script"),m.crossOrigin="",m.href=f,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var Hn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Hn||(Hn={}));var n5;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(n5||(n5={}));const Ft=Hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cl=t=>{switch(typeof t){case"undefined":return Ft.undefined;case"string":return Ft.string;case"number":return Number.isNaN(t)?Ft.nan:Ft.number;case"boolean":return Ft.boolean;case"function":return Ft.function;case"bigint":return Ft.bigint;case"symbol":return Ft.symbol;case"object":return Array.isArray(t)?Ft.array:t===null?Ft.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ft.promise:typeof Map<"u"&&t instanceof Map?Ft.map:typeof Set<"u"&&t instanceof Set?Ft.set:typeof Date<"u"&&t instanceof Date?Ft.date:Ft.object;default:return Ft.unknown}},Yt=Hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Yo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(o))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return i(this),r}static assert(e){if(!(e instanceof Yo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Yo.create=t=>new Yo(t);const Ox=(t,e)=>{let n;switch(t.code){case Yt.invalid_type:t.received===Ft.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Hn.jsonStringifyReplacer)}`;break;case Yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Hn.joinValues(t.keys,", ")}`;break;case Yt.invalid_union:n="Invalid input";break;case Yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Hn.joinValues(t.options)}`;break;case Yt.invalid_enum_value:n=`Invalid enum value. Expected ${Hn.joinValues(t.options)}, received '${t.received}'`;break;case Yt.invalid_arguments:n="Invalid function arguments";break;case Yt.invalid_return_type:n="Invalid function return type";break;case Yt.invalid_date:n="Invalid date";break;case Yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Yt.custom:n="Invalid input";break;case Yt.invalid_intersection_types:n="Intersection results could not be merged";break;case Yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Hn.assertNever(t)}return{message:n}};let hle=Ox;function ple(){return hle}const mle=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)c=f(o,{data:e,defaultError:c}).message;return{...i,path:a,message:c}};function Pt(t,e){const n=ple(),r=mle({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ox?void 0:Ox].filter(i=>!!i)});t.common.issues.push(r)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return un;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return xs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return un;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const un=Object.freeze({status:"aborted"}),Eg=t=>({status:"dirty",value:t}),js=t=>({status:"valid",value:t}),r5=t=>t.status==="aborted",i5=t=>t.status==="dirty",s0=t=>t.status==="valid",d_=t=>typeof Promise<"u"&&t instanceof Promise;var zt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(zt||(zt={}));class Ul{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s5=(t,e)=>{if(s0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Yo(t.common.issues);return this._error=n,this._error}}};function bn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:i}}class Zn{get description(){return this._def.description}_getType(e){return cl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:cl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xs,ctx:{common:e.parent.common,data:e.data,parsedType:cl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(d_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cl(e)},i=this._parseSync({data:e,path:r.path,parent:r});return s5(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cl(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return s0(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>s0(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cl(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(d_(i)?i:Promise.resolve(i));return s5(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),c=()=>a.addIssue({code:Yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new l0({schema:this,typeName:fn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sl.create(this,this._def)}nullable(){return c0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ua.create(this)}promise(){return g_.create(this,this._def)}or(e){return p_.create([this,e],this._def)}and(e){return m_.create(this,e,this._def)}transform(e){return new l0({...bn(this._def),schema:this,typeName:fn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Dx({...bn(this._def),innerType:this,defaultValue:n,typeName:fn.ZodDefault})}brand(){return new Nle({typeName:fn.ZodBranded,type:this,...bn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Bx({...bn(this._def),innerType:this,catchValue:n,typeName:fn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Sw.create(this,e)}readonly(){return Vx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gle=/^c[^\s-]{8,}$/i,yle=/^[0-9a-z]+$/,vle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_le=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sle=/^[a-z0-9_-]{21}$/i,ble=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yle=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xle=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let TY;const wle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ele=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ule=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ale=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kle=new RegExp(`^${w8}$`);function W8(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Ile(t){return new RegExp(`^${W8(t)}$`)}function Xle(t){let e=`${w8}T${W8(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Rle(t,e){return!!((e==="v4"||!e)&&wle.test(t)||(e==="v6"||!e)&&Ele.test(t))}function Ple(t,e){if(!ble.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Mle(t,e){return!!((e==="v4"||!e)&&Wle.test(t)||(e==="v6"||!e)&&Ule.test(t))}class pl extends Zn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ft.string){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Ft.string,received:a.parsedType}),un}const r=new xs;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?Pt(i,{code:Yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Pt(i,{code:Yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")xle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"email",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")TY||(TY=new RegExp(Tle,"u")),TY.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"emoji",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")_le.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"uuid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Sle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"nanoid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")gle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cuid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")yle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cuid2",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")vle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"ulid",code:Yt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pt(i,{validation:"url",code:Yt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"regex",code:Yt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Xle(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?kle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Ile(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Yle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"duration",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Rle(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"ip",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Ple(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"jwt",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Mle(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"cidr",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Cle.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"base64",code:Yt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Ale.test(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{validation:"base64url",code:Yt.invalid_string,message:a.message}),r.dirty()):Hn.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Yt.invalid_string,...zt.errToObj(r)})}_addCheck(e){return new pl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...zt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...zt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...zt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...zt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...zt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...zt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...zt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...zt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...zt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...zt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...zt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...zt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...zt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...zt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...zt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...zt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...zt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...zt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...zt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...zt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...zt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...zt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...zt.errToObj(n)})}nonempty(e){return this.min(1,zt.errToObj(e))}trim(){return new pl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pl.create=t=>new pl({checks:[],typeName:fn.ZodString,coerce:t?.coerce??!1,...bn(t)});function Ole(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class a0 extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ft.number){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Ft.number,received:a.parsedType}),un}let r;const i=new xs;for(const a of this._def.checks)a.kind==="int"?Hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Ole(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_finite,message:a.message}),i.dirty()):Hn.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,zt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,zt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,zt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,zt.toString(n))}setLimit(e,n,r,i){return new a0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:zt.toString(i)}]})}_addCheck(e){return new a0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:zt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:zt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:zt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:zt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:zt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:zt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:zt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:zt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:zt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}a0.create=t=>new a0({checks:[],typeName:fn.ZodNumber,coerce:t?.coerce||!1,...bn(t)});class t1 extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ft.bigint)return this._getInvalidInput(e);let r;const i=new xs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pt(r,{code:Yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Hn.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Pt(n,{code:Yt.invalid_type,expected:Ft.bigint,received:n.parsedType}),un}gte(e,n){return this.setLimit("min",e,!0,zt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,zt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,zt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,zt.toString(n))}setLimit(e,n,r,i){return new t1({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:zt.toString(i)}]})}_addCheck(e){return new t1({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:zt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:zt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:zt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:zt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:zt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}t1.create=t=>new t1({checks:[],typeName:fn.ZodBigInt,coerce:t?.coerce??!1,...bn(t)});class a5 extends Zn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ft.boolean){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.boolean,received:r.parsedType}),un}return js(e.data)}}a5.create=t=>new a5({typeName:fn.ZodBoolean,coerce:t?.coerce||!1,...bn(t)});class h_ extends Zn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ft.date){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_type,expected:Ft.date,received:a.parsedType}),un}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Pt(a,{code:Yt.invalid_date}),un}const r=new xs;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Yt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Hn.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new h_({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:zt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:zt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}h_.create=t=>new h_({checks:[],coerce:t?.coerce||!1,typeName:fn.ZodDate,...bn(t)});class o5 extends Zn{_parse(e){if(this._getType(e)!==Ft.symbol){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.symbol,received:r.parsedType}),un}return js(e.data)}}o5.create=t=>new o5({typeName:fn.ZodSymbol,...bn(t)});class l5 extends Zn{_parse(e){if(this._getType(e)!==Ft.undefined){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.undefined,received:r.parsedType}),un}return js(e.data)}}l5.create=t=>new l5({typeName:fn.ZodUndefined,...bn(t)});class c5 extends Zn{_parse(e){if(this._getType(e)!==Ft.null){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.null,received:r.parsedType}),un}return js(e.data)}}c5.create=t=>new c5({typeName:fn.ZodNull,...bn(t)});class u5 extends Zn{constructor(){super(...arguments),this._any=!0}_parse(e){return js(e.data)}}u5.create=t=>new u5({typeName:fn.ZodAny,...bn(t)});class f5 extends Zn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return js(e.data)}}f5.create=t=>new f5({typeName:fn.ZodUnknown,...bn(t)});class Cl extends Zn{_parse(e){const n=this._getOrReturnCtx(e);return Pt(n,{code:Yt.invalid_type,expected:Ft.never,received:n.parsedType}),un}}Cl.create=t=>new Cl({typeName:fn.ZodNever,...bn(t)});class d5 extends Zn{_parse(e){if(this._getType(e)!==Ft.undefined){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.void,received:r.parsedType}),un}return js(e.data)}}d5.create=t=>new d5({typeName:fn.ZodVoid,...bn(t)});class Ua extends Zn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ft.array)return Pt(n,{code:Yt.invalid_type,expected:Ft.array,received:n.parsedType}),un;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(Pt(n,{code:o?Yt.too_big:Yt.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pt(n,{code:Yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pt(n,{code:Yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new Ul(n,o,n.path,c)))).then(o=>xs.mergeArray(r,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new Ul(n,o,n.path,c)));return xs.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ua({...this._def,minLength:{value:e,message:zt.toString(n)}})}max(e,n){return new Ua({...this._def,maxLength:{value:e,message:zt.toString(n)}})}length(e,n){return new Ua({...this._def,exactLength:{value:e,message:zt.toString(n)}})}nonempty(e){return this.min(1,e)}}Ua.create=(t,e)=>new Ua({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fn.ZodArray,...bn(e)});function xu(t){if(t instanceof ei){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sl.create(xu(r))}return new ei({...t._def,shape:()=>e})}else return t instanceof Ua?new Ua({...t._def,type:xu(t.element)}):t instanceof Sl?Sl.create(xu(t.unwrap())):t instanceof c0?c0.create(xu(t.unwrap())):t instanceof Ec?Ec.create(t.items.map(e=>xu(e))):t}class ei extends Zn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Hn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ft.object){const f=this._getOrReturnCtx(e);return Pt(f,{code:Yt.invalid_type,expected:Ft.object,received:f.parsedType}),un}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Cl&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||c.push(f);const u=[];for(const f of o){const p=a[f],h=i.data[f];u.push({key:{status:"valid",value:f},value:p._parse(new Ul(i,h,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Cl){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of c)u.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")c.length>0&&(Pt(i,{code:Yt.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of c){const h=i.data[p];u.push({key:{status:"valid",value:p},value:f._parse(new Ul(i,h,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of u){const h=await p.key,m=await p.value;f.push({key:h,value:m,alwaysSet:p.alwaysSet})}return f}).then(f=>xs.mergeObjectSync(r,f)):xs.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return zt.errToObj,new ei({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:zt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ei({...this._def,unknownKeys:"strip"})}passthrough(){return new ei({...this._def,unknownKeys:"passthrough"})}extend(e){return new ei({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ei({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ei({...this._def,catchall:e})}pick(e){const n={};for(const r of Hn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ei({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Hn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ei({...this._def,shape:()=>n})}deepPartial(){return xu(this)}partial(e){const n={};for(const r of Hn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ei({...this._def,shape:()=>n})}required(e){const n={};for(const r of Hn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Sl;)a=a._def.innerType;n[r]=a}return new ei({...this._def,shape:()=>n})}keyof(){return E8(Hn.objectKeys(this.shape))}}ei.create=(t,e)=>new ei({shape:()=>t,unknownKeys:"strip",catchall:Cl.create(),typeName:fn.ZodObject,...bn(e)});ei.strictCreate=(t,e)=>new ei({shape:()=>t,unknownKeys:"strict",catchall:Cl.create(),typeName:fn.ZodObject,...bn(e)});ei.lazycreate=(t,e)=>new ei({shape:t,unknownKeys:"strip",catchall:Cl.create(),typeName:fn.ZodObject,...bn(e)});class p_ extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new Yo(c.ctx.common.issues));return Pt(n,{code:Yt.invalid_union,unionErrors:o}),un}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(u=>new Yo(u));return Pt(n,{code:Yt.invalid_union,unionErrors:c}),un}}get options(){return this._def.options}}p_.create=(t,e)=>new p_({options:t,typeName:fn.ZodUnion,...bn(e)});function Nx(t,e){const n=cl(t),r=cl(e);if(t===e)return{valid:!0,data:t};if(n===Ft.object&&r===Ft.object){const i=Hn.objectKeys(e),a=Hn.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o={...t,...e};for(const c of a){const u=Nx(t[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(n===Ft.array&&r===Ft.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],c=e[a],u=Nx(o,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Ft.date&&r===Ft.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class m_ extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(r5(a)||r5(o))return un;const c=Nx(a.value,o.value);return c.valid?((i5(a)||i5(o))&&n.dirty(),{status:n.value,value:c.data}):(Pt(r,{code:Yt.invalid_intersection_types}),un)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}m_.create=(t,e,n)=>new m_({left:t,right:e,typeName:fn.ZodIntersection,...bn(n)});class Ec extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.array)return Pt(r,{code:Yt.invalid_type,expected:Ft.array,received:r.parsedType}),un;if(r.data.length<this._def.items.length)return Pt(r,{code:Yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),un;!this._def.rest&&r.data.length>this._def.items.length&&(Pt(r,{code:Yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Ul(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>xs.mergeArray(n,o)):xs.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ec({...this._def,rest:e})}}Ec.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ec({items:t,typeName:fn.ZodTuple,rest:null,...bn(e)})};class h5 extends Zn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.map)return Pt(r,{code:Yt.invalid_type,expected:Ft.map,received:r.parsedType}),un;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,u],f)=>({key:i._parse(new Ul(r,c,r.path,[f,"key"])),value:a._parse(new Ul(r,u,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,p=await u.value;if(f.status==="aborted"||p.status==="aborted")return un;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of o){const f=u.key,p=u.value;if(f.status==="aborted"||p.status==="aborted")return un;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}}}}h5.create=(t,e,n)=>new h5({valueType:e,keyType:t,typeName:fn.ZodMap,...bn(n)});class n1 extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.set)return Pt(r,{code:Yt.invalid_type,expected:Ft.set,received:r.parsedType}),un;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pt(r,{code:Yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pt(r,{code:Yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(u){const f=new Set;for(const p of u){if(p.status==="aborted")return un;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((u,f)=>a._parse(new Ul(r,u,r.path,f)));return r.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,n){return new n1({...this._def,minSize:{value:e,message:zt.toString(n)}})}max(e,n){return new n1({...this._def,maxSize:{value:e,message:zt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}n1.create=(t,e)=>new n1({valueType:t,minSize:null,maxSize:null,typeName:fn.ZodSet,...bn(e)});class p5 extends Zn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}p5.create=(t,e)=>new p5({getter:t,typeName:fn.ZodLazy,...bn(e)});class m5 extends Zn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Pt(n,{received:n.data,code:Yt.invalid_literal,expected:this._def.value}),un}return{status:"valid",value:e.data}}get value(){return this._def.value}}m5.create=(t,e)=>new m5({value:t,typeName:fn.ZodLiteral,...bn(e)});function E8(t,e){return new o0({values:t,typeName:fn.ZodEnum,...bn(e)})}class o0 extends Zn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Pt(n,{expected:Hn.joinValues(r),received:n.parsedType,code:Yt.invalid_type}),un}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Pt(n,{received:n.data,code:Yt.invalid_enum_value,options:r}),un}return js(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return o0.create(e,{...this._def,...n})}exclude(e,n=this._def){return o0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}o0.create=E8;class g5 extends Zn{_parse(e){const n=Hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ft.string&&r.parsedType!==Ft.number){const i=Hn.objectValues(n);return Pt(r,{expected:Hn.joinValues(i),received:r.parsedType,code:Yt.invalid_type}),un}if(this._cache||(this._cache=new Set(Hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Hn.objectValues(n);return Pt(r,{received:r.data,code:Yt.invalid_enum_value,options:i}),un}return js(e.data)}get enum(){return this._def.values}}g5.create=(t,e)=>new g5({values:t,typeName:fn.ZodNativeEnum,...bn(e)});class g_ extends Zn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ft.promise&&n.common.async===!1)return Pt(n,{code:Yt.invalid_type,expected:Ft.promise,received:n.parsedType}),un;const r=n.parsedType===Ft.promise?n.data:Promise.resolve(n.data);return js(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}g_.create=(t,e)=>new g_({type:t,typeName:fn.ZodPromise,...bn(e)});class l0 extends Zn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Pt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return un;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?un:u.status==="dirty"||n.value==="dirty"?Eg(u.value):u});{if(n.value==="aborted")return un;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?un:c.status==="dirty"||n.value==="dirty"?Eg(c.value):c}}if(i.type==="refinement"){const o=c=>{const u=i.refinement(c,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?un:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?un:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!s0(o))return un;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>s0(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):un);Hn.assertNever(i)}}l0.create=(t,e,n)=>new l0({schema:t,typeName:fn.ZodEffects,effect:e,...bn(n)});l0.createWithPreprocess=(t,e,n)=>new l0({schema:e,effect:{type:"preprocess",transform:t},typeName:fn.ZodEffects,...bn(n)});class Sl extends Zn{_parse(e){return this._getType(e)===Ft.undefined?js(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sl.create=(t,e)=>new Sl({innerType:t,typeName:fn.ZodOptional,...bn(e)});class c0 extends Zn{_parse(e){return this._getType(e)===Ft.null?js(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}c0.create=(t,e)=>new c0({innerType:t,typeName:fn.ZodNullable,...bn(e)});class Dx extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ft.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dx.create=(t,e)=>new Dx({innerType:t,typeName:fn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...bn(e)});class Bx extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return d_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Yo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Yo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Bx.create=(t,e)=>new Bx({innerType:t,typeName:fn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...bn(e)});class y5 extends Zn{_parse(e){if(this._getType(e)!==Ft.nan){const r=this._getOrReturnCtx(e);return Pt(r,{code:Yt.invalid_type,expected:Ft.nan,received:r.parsedType}),un}return{status:"valid",value:e.data}}}y5.create=t=>new y5({typeName:fn.ZodNaN,...bn(t)});class Nle extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sw extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?un:a.status==="dirty"?(n.dirty(),Eg(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?un:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Sw({in:e,out:n,typeName:fn.ZodPipeline})}}class Vx extends Zn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(s0(i)&&(i.value=Object.freeze(i.value)),i);return d_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Vx.create=(t,e)=>new Vx({innerType:t,typeName:fn.ZodReadonly,...bn(e)});var fn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fn||(fn={}));const Dle=pl.create,jy=a0.create;Cl.create;Ua.create;const Ble=ei.create;p_.create;m_.create;Ec.create;o0.create;g_.create;Sl.create;c0.create;const Vle=Ble({c:Dle().optional(),t:jy().min(0).optional(),s:jy().min(1).max(8).optional(),px:jy().optional(),py:jy().optional()}),Fle=()=>dle(()=>import("./index-yGLlcojY.js"),__vite__mapDeps([0,1])),Lle=CY("/")({validateSearch:t=>Vle.parse(t),component:UO(Fle,"component")}),Zle=Lle.update({id:"/",path:"/",getParentRoute:()=>T8}),zle={IndexRoute:Zle},$le=T8._addFileChildren(zle)._addFileTypes(),U8=v7(),Kle=NO({routeTree:$le,basepath:"/mirada",context:{...U8},defaultPreload:"intent",scrollRestoration:!0,defaultStructuralSharing:!0,defaultPreloadStaleTime:0}),wY=document.getElementById("app");wY&&!wY.innerHTML&&tM.createRoot(wY).render(I.jsx(_7,{...U8,children:I.jsx(VO,{router:Kle})}));export{Mce as $,s6 as A,Joe as B,b_ as C,Qv as D,ece as E,$Z as F,qg as G,Jv as H,jZ as I,T$ as J,_$ as K,p$ as L,jY as M,kce as N,Il as O,yr as P,m$ as Q,gt as R,IT as S,C9 as T,k9 as U,HL as V,U9 as W,zs as X,g9 as Y,NN as Z,hl as _,pt as a,Zs as a$,VR as a0,fce as a1,oce as a2,Ra as a3,Ece as a4,Uce as a5,Cce as a6,wu as a7,ace as a8,xo as a9,cce as aA,Z7 as aB,Fg as aC,pce as aD,z_ as aE,T_ as aF,CT as aG,$x as aH,Gle as aI,ZA as aJ,zA as aK,$A as aL,qle as aM,LA as aN,BA as aO,VA as aP,Qle as aQ,FA as aR,UD as aS,Pce as aT,Km as aU,IN as aV,a9 as aW,gw as aX,Qx as aY,qx as aZ,m0 as a_,u0 as aa,v5 as ab,y0 as ac,J7 as ad,Lg as ae,Bv as af,sa as ag,Wu as ah,dw as ai,hw as aj,pw as ak,mw as al,nT as am,D7 as an,rT as ao,BR as ap,ts as aq,RY as ar,go as as,dce as at,uce as au,Qm as av,h9 as aw,_9 as ax,hce as ay,v9 as az,Tt as b,rce as b0,c6 as b1,l6 as b2,Wce as b3,I9 as b4,lce as b5,n2 as b6,QT as b7,Ace as b8,Ice as b9,bc as ba,k$ as bb,Yn as c,Qt as d,L_ as e,kn as f,nce as g,yn as h,sce as i,To as j,I as k,Dr as l,o1 as m,NX as n,Ht as o,wn as p,DX as q,z as r,sk as s,Xoe as t,qv as u,Jt as v,tce as w,zZ as x,ice as y,Z_ as z};
